!function(e){function t(t){for(var o,r,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={9:0},a={9:0},i=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{0:1,2:1}[e]&&t.push(r[e]=new Promise((function(t,n){for(var o=({0:"admin",1:"mobile~postRender",2:"vendors~admin~adminSingleRecord",3:"adminSingleRecord",4:"billingModal",5:"desktop",6:"emoji-korean",7:"formula-menu",8:"integrations",10:"mermaid",11:"mobile",12:"oauthAuthorization",13:"payments",14:"postRender",15:"react-pdf",16:"twitter",17:"vendors~formula-menu",18:"vendors~katex",20:"vendors~markdown-linkify-it",21:"vendors~mermaid",22:"vendors~pdfjsWorker",23:"vendors~prism",24:"vendors~react-pdf"}[e]||e)+"-"+{0:"01d52eb101808c475745",1:"31d6cfe0d16ae931b73c",2:"700404a35d0f21702b15",3:"31d6cfe0d16ae931b73c",4:"31d6cfe0d16ae931b73c",5:"31d6cfe0d16ae931b73c",6:"31d6cfe0d16ae931b73c",7:"31d6cfe0d16ae931b73c",8:"31d6cfe0d16ae931b73c",10:"31d6cfe0d16ae931b73c",11:"31d6cfe0d16ae931b73c",12:"31d6cfe0d16ae931b73c",13:"31d6cfe0d16ae931b73c",14:"31d6cfe0d16ae931b73c",15:"31d6cfe0d16ae931b73c",16:"31d6cfe0d16ae931b73c",17:"31d6cfe0d16ae931b73c",18:"31d6cfe0d16ae931b73c",20:"31d6cfe0d16ae931b73c",21:"31d6cfe0d16ae931b73c",22:"31d6cfe0d16ae931b73c",23:"31d6cfe0d16ae931b73c",24:"31d6cfe0d16ae931b73c"}[e]+".css",a=s.p+o,i=document.getElementsByTagName("link"),l=0;l<i.length;l++){var c=(u=i[l]).getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===o||c===a))return t()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){var u;if((c=(u=d[l]).getAttribute("data-href"))===o||c===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[e],p.parentNode.removeChild(p),n(i)},p.href=a,document.getElementsByTagName("head")[0].appendChild(p)})).then((function(){r[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=a[e]=[t,o]}));t.push(n[2]=o);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=function(e){return s.p+""+({0:"admin",1:"mobile~postRender",2:"vendors~admin~adminSingleRecord",3:"adminSingleRecord",4:"billingModal",5:"desktop",6:"emoji-korean",7:"formula-menu",8:"integrations",10:"mermaid",11:"mobile",12:"oauthAuthorization",13:"payments",14:"postRender",15:"react-pdf",16:"twitter",17:"vendors~formula-menu",18:"vendors~katex",20:"vendors~markdown-linkify-it",21:"vendors~mermaid",22:"vendors~pdfjsWorker",23:"vendors~prism",24:"vendors~react-pdf"}[e]||e)+"-"+{0:"f0c040539ee51c652d26",1:"a9fe25a6a40f13ae128d",2:"d635aeb2a6cc3aee967f",3:"5eafb0c711fe2348b7f9",4:"e9b0ede9b681cb567984",5:"387a37c79f32c26e4c92",6:"cbfac811a4b0a7fb2bb8",7:"9e1d4fa6b6161e669e1d",8:"6e2aebacad0321c64d7d",10:"bd8b39960a7ef89b4343",11:"688434f8ab7887cdc424",12:"0a517c5d76935c99b47b",13:"ba839328124e5b9d4e28",14:"16a0e27bbeb8d2e79830",15:"0b9f166c98e6a3f05392",16:"bb59aba2e49a33c21340",17:"817bc9eb96fb1d7ca651",18:"9be17230787aae7a3004",20:"2a107bd91cef9941f70d",21:"3805b68b562e5fe09228",22:"196391bece267b25e9a9",23:"bcf33088c9d21e7f0279",24:"ede51ed13e938d02b8b6"}[e]+".js"}(e);var c=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",c.name="ChunkLoadError",c.type=o,c.request=r,n[1](c)}a[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;i.push(["jbcS",19]),n()}({"+LO1":function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("bkwR"),i=n("HSWF"),s=n("AXh+"),l=n("VAix"),c=n("pQrc"),d=n("Cycz"),u=n("QcDD"),p=n("qDOf"),h=n("Catn"),m=n("r8MX"),f=n("szb2"),g=n("z22Z");const b=[],v=function(){return void 0!==window.analytics},y=function(){b.forEach(e=>e())};var S=n("q4wu"),w=n("g90h"),k=n("+fkW"),C=n("HTHG"),M=n("hbKx"),E=n("Rd/G"),_=n("2ZkR"),T=n("qX+M"),x=n("A9TN"),I=n("T8dS"),P=n("mXKa"),O=n("UWX6"),B=n("yjqD"),L=n("O5tY"),R=n("dQss");n.d(t,"f",(function(){return D})),n.d(t,"a",(function(){return A})),n.d(t,"g",(function(){return j})),n.d(t,"i",(function(){return F})),n.d(t,"j",(function(){return N})),n.d(t,"c",(function(){return U})),n.d(t,"d",(function(){return X})),n.d(t,"e",(function(){return Y})),n.d(t,"h",(function(){return G})),n.d(t,"b",(function(){return J}));async function D(e){const{environment:t,userId:n,traits:o}=e,a=p.default.verboseAnalytics,i=p.default.shouldRefresh(n)?await G(t):p.default.state,s=C.f().map(w.d),l=await H(t),c=await U(t),d={...o,...c,space_has_paid_nonzero:!!(l&&"space_has_paid_nonzero"in l)&&l.space_has_paid_nonzero},u=p.default.state;u.isIntercomEnabled&&S.b({userId:n,traits:o,settings:i}),u.isSegmentEnabled&&function(e){if(v()){const t=window.analytics,{userId:n,traits:o,spaceIds:a}=e;n?t.identify(n,{...o,groups:r.a.uniq(a).slice(0,50)}):t.identify(o)}}({userId:n,traits:{...d,integrations:{All:!0}},spaceIds:s}),a&&console.debug("identify:",JSON.stringify(o))}const A=function(e=p.default.verboseAnalytics){!function(){if(v()){window.analytics.reset()}}(),e&&console.debug("deidentify user")};async function j(e){const t=await H(e),n=await async function(e){const{currentUserRootStore:t,currentUserStore:n}=u.default.state;if(n&&t&&e){await Promise.all([t.load(),n.load()]);const o=t.getSpaceViewStores();await Promise.all(o.map(e=>e.load()));const a=r.a.compact(o.map(e=>e.getSpaceStore()));return await Promise.all(a.map(e=>e.load())),r.a.compact(a.map(t=>{const o=t.getValue();if(o){const r=Object(w.d)(o.id);if(r===e.space_id){const r=m.default.state.data,a=d.o(r),i={id:e.space_id,name:K(n,o.plan_type),size:Object(T.getSpacePermissionItems)(t).length,is_subscribed:"space_is_subscribed"in e&&e.space_is_subscribed,is_beta:Boolean(o.beta_enabled)};return a&&(i.plan=a.plan),e.space_created_time&&(i.company_created_at=e.space_created_time),i}return{id:r,name:K(n,o.plan_type),size:Object(T.getSpacePermissionItems)(t).length}}}))}return[]}(t);S.c({companiesData:n});const o=await U(e),a=Y(),i={...t,...o,...a};if(t){p.default.state.isSegmentEnabled&&function(e){if(v()){const t=window.analytics,{spaceId:n,spaceData:o}=e;t.group(n,{...o,group_type:"workspace",group_value:n})}}({spaceId:t.space_id,spaceData:i})}}async function F(e,t,n,o){const a=p.default.verboseAnalytics,i=await U(e),s=e.currentUser.id;o&&o.preboot||await async function(e,t){e.currentUser.isLoggedIn()&&u.default.state.currentBlockStore&&(await u.default.waitUntil(()=>Boolean(u.default.state.currentBlockStore&&u.default.state.currentBlockStore.isReady)),u.default.state.currentSpaceStore&&await m.default.waitUntilLoaded()),p.default.shouldRefresh(t)&&await G(e)}(e,s);const c=await H(e),d=Y(),{currentUserRootStore:h}=u.default.state,f=h&&h.state.ready?r.a.uniq(h.getSpaceViewStores().map(e=>e.getSpaceId())).length:null;let g=void 0;_.default.state.isLoaded&&(g=_.default.getExperimentsMap());const b=Object(R.getReactNativeDeviceInfo)(),y=Object(l.a)({...n,...z(),...i,...c,...q(),...X(),...b,...d,experiments:g,experimentStoreLoaded:_.default.state.isLoaded,current_space_view_count:f,appSource:"client"}),w=c&&c.space_id?c.space_id:void 0,k=p.default.state;k.isIntercomEnabled&&S.f({eventName:t,eventData:y}),k.isSegmentEnabled&&function(e){if(v()){const t=window.analytics,{eventName:n,eventProperties:o,spaceId:r}=e;if(r){const e={...o,group:r};t.track(n,e)}else t.track(n,o)}}({eventName:t,eventProperties:y,spaceId:w}),a&&console.debug("track:%c ".concat(t),"font-weight: bold;",JSON.stringify(y))}const V={};function N(e,t,n,o,r){const a=V[n],i=Date.now();(!a||i-a>1e3*o)&&(V[n]=i,F(e,t,r))}async function U(e){const{device:t,currentUser:n}=e,o=Object(O.b)(n.id),a={app_version:t.version,desktop_app_version:t.desktopAppVersion,mobile_app_version:t.mobileAppVersion,is_desktop:t.isElectron,is_mobile:t.isMobile,is_tablet:t.isTablet,is_react_native:t.isReactNative,is_ios:t.isIOS,is_logged_in:e.currentUser.isLoggedIn(),deviceType:t.os,platform:t.platform,browser:t.browserName,browser_version:t.browserVersion,dnt:t.doNotTrackEnabled,device_id:Object(w.d)(await i.n(e)),tags:Object(P.getSessionAnalyticsTags)(),referral_user_id:o?Object(w.d)(o):void 0,pathname:document.location?document.location.pathname:"",referer:document.referrer||"none",accept_language_raw:t.acceptLanguageRaw,accept_language_preference:t.acceptLanguagePreference};return r.a.omitBy(a,r.a.isUndefined)}const z=function(){const{currentSpaceViewStore:e}=u.default.state;if(e){const t=e.getValue();if(t)return{notify_desktop:t.notify_desktop,notify_email:t.notify_email,notify_mobile:t.notify_mobile}}return{}},X=function(){const{currentUserSettingsStore:e}=u.default.state;if(e){const t=e.getValue();if(t){let e={};if(t.settings){const{settings:n}=t;e={user_persona:n.persona,user_source:n.source,user_type:n.type,user_use_case:n.use_case,time_zone:n.time_zone,locale:n.locale,signup_time:n.signup_time,used_desktop_web_app:n.used_desktop_web_app,used_mobile_web_app:n.used_mobile_web_app,used_mac_app:n.used_mac_app,used_windows_app:n.used_windows_app,used_ios_app:n.used_ios_app,used_android_app:n.used_android_app}}return r.a.omitBy(e,r.a.isUndefined)}}},Y=function(){const{currentUserStore:e}=u.default.state;let t={};if(e){const n=e.getValue();n&&(t=r.a.omitBy({user_email:n.email,user_id:Object(w.d)(n.id),email:n.email},r.a.isUndefined))}return t};async function H(e){await Object(B.e)(2e3,[Promise.all([m.default.waitUntilLoaded(),L.a.waitUntilLoaded()])]);const{data:t,spaceId:n}=m.default.state,{currentUserStore:o,currentSpaceStore:a}=u.default.state,{publicPageData:i}=L.a.state,s=Object(C.c)(),l=s?Object(w.d)(s):void 0;if(n&&o&&a&&t){const i=k.a.getPublicSpaceData(e,n),s=d.D(t),c=d.v(t).length||0,u=d.u(t),p=d.s(t),h=t.hasPaidNonzero,m=a.getValue(),f=i?i.domain:void 0,g=m&&m.email_domains?m.email_domains:void 0,b=d.q(e,t),v=m&&m.plan_type,y=r.a.isNumber(b)&&NaN!==b&&b!==1/0?b:0;return{space_name:K(o,v),subscription_tier:d.h(e),page_id:l,space_id:Object(w.d)(n),space_is_subscribed:s,space_visible_total:c,space_visible_members:u,space_visible_guests:p,space_block_usage:d.d(e,t),space_block_usage_over_limit:d.B(e,t),space_role:a.getRole(),space_block_usage_percent:y,space_timeline_view_usage:"unsubscribed_member"===t.type||"unsubscribed_admin"===t.type||"subscribed_member"===t.type||"subscribed_admin"===t.type?t.timelineViewUsage:void 0,space_created_time:i?i.createdTime:void 0,available_credit:t.availableCredit,space_domain:f,space_email_domains:g,space_has_paid_nonzero:h,space_plan_type:v,space_initial_use_cases:m?m.initial_use_cases:void 0}}if(i){const t=i.spaceId?Object(w.d)(i.spaceId):void 0,n=i.spaceId?k.a.getPublicSpaceData(e,i.spaceId):void 0;return{space_name:o?K(o,n?n.planType:void 0):i.spaceName,space_id:t,space_domain:i.spaceDomain,page_id:l,subscription_tier:d.h(e),space_created_time:n?n.createdTime:void 0,space_plan_type:n?n.planType:void 0}}}const q=function(){const e=f.c.state,t=e.open?e.target:u.default.state.currentBlockStore;if(t){const n=s.b(t).map(({permissionItem:e})=>e),o=n.find(e=>"public_permission"===e.type),a=n.find(e=>"space_permission"===e.type),i=n.filter(e=>"user_permission"===e.type&&Object(g.e)(e.role)),l=n.filter(e=>"user_permission"===e.type&&Object(g.c)(e.role)),c=t.getValue(),d=function(e){const t=M.d(e),n=[];return r.a.flatten(t.map(e=>{const t=e.getValue();if(t){const e=t.copied_from;e&&E.k(e)&&n.push(e)}return n}))}(t),p=Boolean(d)&&d.length>0,h=e.open?void 0:u.default.state.currentCollectionViewStore;return{page_id:t.id,page_public_role:o?o.role:"not_defined",page_space_role:a?a.role:"not_defined",page_all_collaborator_count:l.length+i.length,page_editor_collaborator_count:l.length,page_read_only_collaborator_count:i.length,page_current_user_role:t.getRole(),page_is_peek:f.c.state.open,page_copied_from:c&&c.copied_from?Object(w.d)(c.copied_from):void 0,page_is_notion_template:!(!c||!c.copied_from)&&E.k(c.copied_from),page_is_template:t.isTemplate(),page_is_prepopulated:p,page_prepopulated_template_ids:d,page_is_database:t.isCollectionView(),page_view_type:h?h.getType():void 0}}};const W=new Map;async function G(e){const t=e.currentUser.id;if(t){if(!W.has(t)){const n=Z(e,{loggedIn:!0});W.set(t,n),n.then(()=>{W.delete(t)}).catch(e=>{throw W.delete(t),e})}return W.get(t)}return Z(e,{loggedIn:!1})}async function Z(e,t){t.loggedIn&&await u.default.waitUntil(()=>"rendered"===u.default.state.renderPhase);const n=e.currentUser.id;let o=h.a.get({userId:n,key:"analyticsSettings"});o&&n&&o.user_id!==n&&(o=void 0);const{device:r}=e,i=a.getUserAnalyticsSettings(e,{platform:r.isElectron?"desktop":r.isReactNative?"mobile":"web"});if(!o){const e=await i;"success"===e.type&&(o=e.data)}if(!o)throw new Error("No analytics settings found.");p.default.setState(o);const s=p.default.state;return s.isIntercomEnabled&&S.d(I.a,s),s.isSegmentEnabled&&function(e){const t=window.analytics=window.analytics||[];if(t.initialize)return void y();if(t.invoked)return void y();t.invoked=!0,t.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],t.factory=function(e){return function(){const n=Array.prototype.slice.call(arguments);return n.unshift(e),t.push(n),t}};for(let o=0;o<t.methods.length;o++){const e=t.methods[o];t[e]=t.factory(e)}t.load=function(e,n){const o=document.createElement("script");o.type="text/javascript",o.async=!0,o.onload=()=>{y()},o.src="https://analytics.pgncs.notion.so/analytics.js/v1/".concat(e,"/analytics.min.js");const r=document.getElementsByTagName("script")[0];r.parentNode&&r.parentNode.insertBefore(o,r),t._loadOptions=n},t.SNIPPET_VERSION="4.1.0";const n=e.segment&&e.segment.writeKey;n?t.load(n):y()}(x.default),i.then(e=>{"success"===e.type&&(h.a.set({userId:n,key:"analyticsSettings",value:e.data}),p.default.setState(e.data))}),o}const K=function(e,t){const n=e.getValue();return n&&"team"===t?Object(c.a)(n.email):n?n.email:void 0};function J(e){let t=!1,n=!1,o=!1,r=!1,a=!1;for(const i of e)i&&(i.productId===x.default.pricing.enterprise.productId&&(a=!0),i.productId===x.default.pricing.team.productId&&(r=!0),i.productId!==x.default.pricing.personal.productId&&i.productId!==x.default.revenueCat.productIDs.personal.yearly&&i.productId!==x.default.revenueCat.productIDs.personal.monthly||(o=!0),"team"===i.planType&&(n=!0),"personal"===i.planType&&(t=!0));return a?"enterprise":r?"team":o?"personal_pro":n?"team_free":t?"personal_free":"none"}},"+NSf":function(e,t,n){"use strict";n.r(t);var o=n("y6Dp"),r=n("Uy0f"),a=n("bK/N");const i=new class{constructor(){this._initialRenderCompleted=!1,this._lastNavigationRenderCompleted=!1,this.lastVisibilityChange=0,r.a.addListener(()=>{this.lastVisibilityChange=Date.now()})}get initialRenderCompleted(){return this._initialRenderCompleted}setInitialRenderCompleted(){this._initialRenderCompleted=!0}get lastNavigationRenderCompleted(){return this._lastNavigationRenderCompleted}setLastNavigationRenderCompleted(){this._lastNavigationRenderCompleted=!0}get lastNavigationTime(){return this._lastNavigationTime}get lastNavigationTimePerformance(){return this._lastNavigationTimePerformance}get appStartTime(){return window.__webStartTime}get appStartTimePerformance(){return window.__webStartTimePerformance}createMetric(e){return{type:e,startDateTime:Date.now(),startPerformanceTime:performance.now()}}prebootEmit(e,t){this.track(e,t,{preboot:!0})}async emit(e,t){const{device:n}=e;if(n.isElectron&&a.electronApi&&a.electronApi.windowIsVisible){if(!(await a.electronApi.windowIsVisible()))return}this.track(e,t)}logNavigation(){this._lastNavigationRenderCompleted=!1,this._lastNavigationTime=Date.now(),this._lastNavigationTimePerformance=performance.now()}track(e,t,n){t.startDateTime<this.lastVisibilityChange||document.hidden||Object(o.wd)(e,{type:t.type,dateMeasurement:Date.now()-t.startDateTime,performanceMeasurement:performance.now()-t.startPerformanceTime,...n})}};t.default=i},"+QMF":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var o=n("2ZkR"),r=n("koI6");function a(e){const{reactNative:t}=e;if(t){const n=Boolean(t.sqliteConnection),o=r.a(e);return n&&o}return!0}function i(e){return"on"===o.default.getGroup(e,"login-signup-code-strings-v2")}},"+U1l":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},"+btH":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return k})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return x}));n("UxlC"),n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("HRSx"),i=n("cBa6"),s=n("GJWe"),l=n("VhAz"),c=n("CARr"),d=n("5/h/"),u=n("D2XV"),p=n("vshI"),h=n("k1PL"),m=n("nFzZ"),f=n("3JF5");const g=Object(m.j)({ascending:!0,descending:!0});function b(e){const{textValue:t,getRecordValue:n,userTimeZone:o,intl:r}=e;return s.k({intl:r,textValue:t,getRecordValue:n,userTimeZone:o}).toLowerCase()}function v(e){const{textValue:t,propertySchema:n}=e,o=n.options||[],r=c.u(t,o),a=o.findIndex(e=>e.value===r);if(a>=0)return a}function y(e){return c.v(e.textValue)}function S(e){const{actors:t,getRecordValue:n}=e;return r.a.compact(t.map(e=>{if(e.table===d.a){const t=n({table:e.table,id:e.id});return Object(d.e)(t)}{const t=n({table:e.table,id:e.id});return Object(f.a)(t)}})).join(" ")}const w={title:b,text:b,select:v,multi_select:v,url:y,email:y,phone_number:y,checkbox:function(e){return c.n(e.textValue)},number:function(e){return c.r(e.textValue)},person:function(e){const{textValue:t,getRecordValue:n}=e;return S({actors:c.s(t),getRecordValue:n})},date:function(e){const{textValue:t,userTimeZone:n}=e,o=c.o(t);if(o)return u.mb(o,n)},relation:function(e){const{textValue:t,getRecordValue:n,propertySchema:o}=e;if("relation"!==o.type)return;const s=c.j({relationValue:c.t(t),getRecordValue:n,propertySchema:o});return r.a.compact(s.map(e=>{const t=n({table:a.a,id:e});return t&&t.properties&&t.properties.title?i.cb(t.properties.title).replace(/,/g,""):""})).join(" ")},created_time:({block:e})=>e.created_time,last_edited_time:({block:e})=>e.last_edited_time,file:({textValue:e})=>i.cb(e),created_by:({block:e,getRecordValue:t})=>{if(e.created_by_table&&e.created_by_id)return S({actors:[{table:e.created_by_table,id:e.created_by_id}],getRecordValue:t})},last_edited_by:({block:e,getRecordValue:t})=>{if(e.last_edited_by_table&&e.last_edited_by_id)return S({actors:[{table:e.last_edited_by_table,id:e.last_edited_by_id}],getRecordValue:t})}};function k(e,t,n){const o=[...e];return o.sort((e,o)=>{for(let r=t.length-1;r>=0;r--){const a=t[r],i=C(n[e][r],n[o][r],a.descending);if(0!==i)return i}return 0}),o}function C(e,t,n){const o=M(e),r=M(t);return o&&!r?1:r&&!o?-1:void 0!==e&&void 0!==t&&e>t?n?-1:1:void 0!==e&&void 0!==t&&e<t?n?1:-1:0}function M(e){return null==e||""===e}function E(e){const{schema:t,property:n,direction:o,getRecordValue:r,userTimeZone:a,intl:i,normalizedSchemaCache:s}=e;return{getValue:e=>function e(t){const{schema:n,property:o,block:r,getRecordValue:a,userTimeZone:i,depth:s,intl:c,normalizedSchemaCache:d}=t,m=n[o],f=(r.properties||{})[o]||[];if(m){if("formula"===m.type){const e=Object(p.a)({...t,resultCache:{}});return u.Z(e)?u.mb(e,i):e}if("rollup"===m.type){const r=Object(h.c)({property:o,schema:n,getRecordValue:a,normalizedSchemaCache:d});if(!r)return;if(m.aggregation){const e=Object(h.a)(t);if(void 0===e)return;if("number"===e.type)return e.value;if("date"===e.type){if(!e.value)return;return u.mb(e.value,i)}Object(l.e)(e)}const p=Object(h.d)(t);if(0===p.length)return;const f=p[0];return e({property:r.targetProperty,schema:r.targetCollectionSchema,block:f,getRecordValue:a,userTimeZone:i,depth:s+1,intl:c,normalizedSchemaCache:d})}return(0,w[m.type])({textValue:f,propertySchema:m,...t})}}({intl:i,property:n,schema:t,block:e,getRecordValue:r,userTimeZone:a,depth:0,normalizedSchemaCache:s}),descending:"descending"===o}}function _(e){const{schema:t,getRecordValue:n,userTimeZone:o,intl:r,querySorts:a,apiSorts:i,normalizedSchemaCache:s}=e;return i?i.map(e=>"property"in e?E({schema:t,property:e.property,direction:e.direction,getRecordValue:n,userTimeZone:o,intl:r,normalizedSchemaCache:s}):"timestamp"in e?function(e){const{timestamp:t,direction:n}=e;return{getValue:e=>e[t],descending:"descending"===n}}(e):void Object(l.e)(e)):a.map(e=>E({schema:t,property:e.property,direction:e.direction,getRecordValue:n,userTimeZone:o,intl:r,normalizedSchemaCache:s}))}function T(){return{getValue:e=>e.created_time,descending:!0}}function x(e){return{getValue:t=>{const n=e.findIndex(e=>t.id===e);if(n>=0)return n},descending:!1}}},"+fkW":function(e,t,n){"use strict";n("3bBZ"),n("Ew+T");var o=n("LEzx"),r=n("Catn"),a=n("bkwR");class i extends o.a{constructor(){super(...arguments),this.fetchSpaceIds=new Set,this.fetchedSpaceIds=new Set,this.fetch=async e=>{const t=e.currentUser.id,n=Array.from(this.fetchSpaceIds.values());if(this.fetchSpaceIds.clear(),n.length>0){for(const e of n){this.fetchedSpaceIds.add(e);const n=r.a.get({userId:t,key:this.getLocalKey(e)});n&&this.setPublicSpaceData(e,n)}const o=await a.getPublicSpaceData(e,{type:"space-ids",spaceIds:n});"success"===o.type&&o.data.results.forEach((e,o)=>{if(e){const a=n[o];this.setPublicSpaceData(a,e),r.a.set({userId:t,key:this.getLocalKey(a),value:e})}})}}}getInitialState(){return{publicSpaceDataMap:{}}}getPublicSpaceData(e,t,n=!1){return n&&(this.fetchSpaceIds.delete(t),this.fetchedSpaceIds.delete(t)),this.fetchSpaceIds.has(t)||this.fetchedSpaceIds.has(t)||(this.fetchSpaceIds.add(t),setImmediate(()=>this.fetch(e))),this.state.publicSpaceDataMap[t]}async awaitPublicSpaceData(e,t,n=!1){return this.getPublicSpaceData(e,t,n),await this.waitUntil(()=>Boolean(this.state.publicSpaceDataMap[t])),this.state.publicSpaceDataMap[t]}setPublicSpaceData(e,t){this.state.publicSpaceDataMap[e]=t||null,this.emit()}getLocalKey(e){return"".concat(i.localKeyPrefix,":").concat(e)}}i.localKeyPrefix="PublicSpaceData",t.a=new i},"+jaY":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n("LvDl"),r=n.n(o),a=n("5/h/"),i=n("GJWe"),s=n("njgS"),l=n("g90h"),c=n("O+wX"),d=n("622O"),u=n("k1PL"),p=n("vshI"),h=n("CARr"),m=n("D2XV"),f=n("3JF5"),g=n("nFzZ");function b(e){const{schema:t,property:n,block:o}=e,r=t[n],a=(o.properties||{})[n]||[];if(r)return(0,y[r.type])({textValue:a,propertySchema:r,...e})}function v(e){const{textValue:t,getRecordValue:n,userTimeZone:o,intl:r}=e;return i.k({textValue:t,getRecordValue:n,userTimeZone:o,intl:r})}const y={title:v,text:v,select:e=>{const{textValue:t,propertySchema:n}=e,o=n.options||[];return h.u(t,o)},multi_select:e=>{const{textValue:t,propertySchema:n}=e,o=n.options||[],r=h.q(t,o);return r.sort(),r.join(",")},relation:({textValue:e,getRecordValue:t,propertySchema:n})=>{if("relation"!==n.type)return"";const o=h.j({relationValue:h.t(e),getRecordValue:t,propertySchema:n}).map(e=>"https://www.notion.so/".concat(Object(l.k)(e)));return o.sort(),o.join(", ")},rollup:e=>u.b(e),url:({textValue:e})=>h.v(e),email:({textValue:e})=>h.v(e),phone_number:({textValue:e})=>h.v(e),checkbox:({textValue:e})=>h.n(e)?s.d:s.b,person:e=>{const{textValue:t,getRecordValue:n}=e,o=h.s(t),i=r.a.compact(o.map(e=>{if(e.table===a.a){const t=n({table:e.table,id:e.id});if(t)return Object(a.e)(t)}else{const t=n({table:e.table,id:e.id});if(t)return Object(f.a)(t)}}));return i.sort(),i.join(",")},number:({textValue:e})=>{const t=h.r(e);if(void 0!==t)return t.toString()},date:({textValue:e,userTimeZone:t,propertySchema:n,intl:o})=>{const r=h.o(e),{date_format:a,time_format:i}=n;if(r)return Object(c.a)({allowRelativeDates:!1,value:r,date_format:a,time_format:i,userTimeZone:t,intl:o})},file:e=>{const t=h.p(e.textValue).map(t=>{if(e.exportedFilePaths&&e.secureFileS3Url&&d.j(t.url,e.secureFileS3Url)){const e=d.h(t.url);if(e)return e}return t.url});return t.sort(),t.join(",")},formula:e=>{const{property:t,schema:n,block:o,getRecordValue:r,userTimeZone:a,depth:i,intl:l,normalizedSchemaCache:d}=e,u=Object(p.a)({schema:n,property:t,block:o,getRecordValue:r,userTimeZone:a,depth:i,intl:l,resultCache:{},normalizedSchemaCache:d});return"boolean"==typeof u?u?s.d:s.b:Object(g.i)(u)?u.toString():m.Z(u)?Object(c.a)({allowRelativeDates:!1,value:u,userTimeZone:a,intl:l}):u},created_time:e=>{const{block:t,userTimeZone:n,intl:o}=e;if(t.created_time)return Object(c.a)({allowRelativeDates:!1,value:m.r(t.created_time,n),userTimeZone:n,intl:o})},last_edited_time:e=>{const{block:t,userTimeZone:n,intl:o}=e;if(t.last_edited_time)return Object(c.a)({allowRelativeDates:!1,value:m.r(t.last_edited_time,n),userTimeZone:n,intl:o})},created_by:e=>{const{block:t,getRecordValue:n}=e;if(t.created_by_table&&t.created_by_id)if(t.created_by_table===a.a){const e=n({table:t.created_by_table,id:t.created_by_id});if(e)return Object(a.e)(e)}else{const e=n({table:t.created_by_table,id:t.created_by_id});if(e)return Object(f.a)(e)}},last_edited_by:e=>{const{block:t,getRecordValue:n}=e;if(t.last_edited_by_table&&t.last_edited_by_id)if(t.last_edited_by_table===a.a){const e=n({table:t.last_edited_by_table,id:t.last_edited_by_id});if(e)return Object(a.e)(e)}else{const e=n({table:t.last_edited_by_table,id:t.last_edited_by_id});if(e)return Object(f.a)(e)}}}},"+jeX":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("mF3+"),l=n("Fo9m"),c=n("KcXv"),d=n("bFnu"),u=n("n8tN"),p=n("SGmk"),h=n("OWVv"),m=n("6fCZ"),f=n("cBa6"),g=n("MBf9"),b=n("vX3W"),v=n("dsG5"),y=n("6rsX"),S=n("unoy"),w=n("i8i4"),k=n.n(w),C=n("BRCg"),M=n("MeYt"),E=n("622O"),_=n("aEEb"),T=n("Sb6f"),x=n("J9+s"),I=n("vl8/");const P=Object(x.defineMessages)({fileTitle:{defaultMessage:"File",id:"fileBlock.fileTab.title"},embedButtonText:{defaultMessage:"Embed link",id:"fileBlock.embedButton.label"},embedFilePrompt:{defaultMessage:"Paste a file link…",id:"fileBlock.linkPrompt.placeholder",description:"Placeholder prompt for the user to upload or embed a file."},embedCaption:{defaultMessage:"Works with links of PDFs, Google Drive, Google Maps, CodePen…",id:"fileBlock.linkPrompt.caption",description:"Caption for the user to upload or embed a file."}});class O extends u.a{constructor(){super(...arguments),this.caption=()=>{this.handleEditCaption()},this.storeTypes={mouseStore:d.a},this.handleEditCaption=()=>{const e=this.props.store.getPropertyStore("caption");y.f({environment:this.environment,store:this.props.store}),S.n({store:e})},this.handleOpenMenu=()=>{const{device:e}=this.environment;if(this.canEdit()){const t=k.a.findDOMNode(this);if(t&&t instanceof Element){const n=t.getBoundingClientRect();b.b(this.environment,{originRect:n,originGap:0,isSmallWidth:!0,showArrow:!0,title:I.default.formatMessage(P.fileTitle),currentTab:"file",tabs:[{type:"file",fileUpload:!0,imageUpload:e.isAndroid,videoUpload:e.isAndroid,onUpload:this.handleUpload},{type:"embed",buttonText:I.default.formatMessage(P.embedButtonText),inputPlaceholder:I.default.formatMessage(P.embedFilePrompt),caption:I.default.formatMessage(P.embedCaption),onChange:e=>{b.a(),g.createAndCommit(this.environment,t=>{l.a({store:this.props.store,source:e,name:void 0,size:void 0,transaction:t})})}}]})}}},this.handleMouseEnter=e=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=e=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.handleClick=()=>{v.d(this.environment,{store:this.props.store})},this.handleUpload=e=>{const{store:t}=this.props;g.createAndCommit(this.environment,e=>{l.a({store:this.props.store,source:void 0,name:void 0,size:void 0,transaction:e})}),l.b({environment:this.environment,store:t,file:e})},this.fileUploadStore=this.createComputedStore(()=>C.default.getKeyState(C.default.getBlockKey(this.props.store.id)))}handleCreated(){this.edit()}edit(){this.handleOpenMenu()}activate(){this.handleOpenMenu()}replace(){this.handleOpenMenu()}renderPersisted(){const e=this.getSource();return e?this.renderFile(e):this.renderUploader()}renderFile(e){const{device:t}=this.environment,n=this.props.store.getProperties(),o=f.cb(n&&n.title),a=f.cb(n&&n.size),i=(this.stores.mouseStore.state.mouseEntered||t.isMobile)&&this.canEdit()&&r.a.createElement(m.a,{style:{marginRight:4},store:this.props.store,fadeIn:!0});return r.a.createElement("div",null,r.a.createElement("div",{onMouseMove:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:{display:"flex"}},r.a.createElement(M.a,{style:this.getStyle(),onClick:this.handleClick},r.a.createElement(h.b,{style:O.innerStyle,left:s.a.file(),leftStyle:O.fileIconStyle,alignment:h.a.Center,right:i},r.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},r.a.createElement("div",{style:{...T.a.textOverflowStyle}},E.d({title:o,source:e})),a&&r.a.createElement(_.a,{isSmall:!0,style:{marginLeft:6,whiteSpace:"nowrap"}},a)))),this.renderDiscussion()),this.renderCaption())}renderUploader(){const{device:e}=this.environment,{disabled:t}=this.props,n=this.fileUploadStore.state;return r.a.createElement("div",{onMouseMove:()=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0}),onMouseLeave:()=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1}),style:{display:"flex"}},r.a.createElement(p.a,{disabled:t,iconSvg:s.a.file,right:(this.stores.mouseStore.state.mouseEntered||e.isMobile)&&this.canEdit()&&r.a.createElement(m.a,{store:this.props.store,fadeIn:!0}),isLoading:Boolean(n),progressPercent:n?n.progressPercent:0,file:n?n.file:void 0,name:n?n.name:void 0,size:n?n.size:void 0,onClick:this.handleOpenMenu},r.a.createElement(x.FormattedMessage,{defaultMessage:"Upload or embed a file",id:"fileBlock.uploadOrEmbed.placeholder"})),this.renderDiscussion())}getSource(){const e=this.props.store.getProperties(),t=e&&e.source,n=f.Y(t),{display_source:o}=this.props.store.getFormat();return o||n}getStyle(){return{flexGrow:1,minWidth:0,borderRadius:3,...i.a.omit(this.getBlockColorStyle(),["fontSize","lineHeight"])}}}O.innerStyle={paddingTop:c.b.paddingTop,paddingBottom:c.b.paddingBottom,paddingLeft:c.b.paddingLeft},O.fileIconStyle={width:"1.35em",height:"1.35em"},t.a=O},"+zu0":function(e,t,n){"use strict";var o=n("ddTe"),r=n("40tV"),a=n("QcDD");const i=new class{get(e){const{currentSpaceStore:t}=a.default.state,n=t&&t.id;return void 0===n||void 0===e?(this.userId=void 0,this.spaceId=void 0,void(this.frecencyStore=void 0)):this.spaceId===n&&this.userId===e?this.frecencyStore:(this.spaceId=n,this.userId=e,this.frecencyStore=new r.b({store:localStorage,prefix:"BlockFrecency:".concat(e,":").concat(n),maxBlocks:100,maxStoredVisits:10,version:r.a}),this.frecencyStore.initialize(),this.frecencyStore)}};const s={lazyFrecencyStore:i,recordVisit:e=>{const{id:t,type:n,timestampForTestingOnly:o,currentUserId:r}=e,a=i.get(r);if(a)return a.recordVisit({id:t,type:n,timestampForTestingOnly:o})},sortFrecencyHighToLow:function(e){const{currentUserId:t,items:n,now:o}=e,r=i.get(t);return r?r.sortFrecencyHighToLow(n,o):n},getVisitedIds:e=>{const t=i.get(e);return t?t.getVisitedIds():[]},clearForUser:function(e){for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith("BlockFrecency:".concat(e))&&localStorage.removeItem(n)}}};Object(o.exposeDebugValue)("FrecencyStore",s),t.a=s},"/0g+":function(e,t,n){"use strict";n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return k})),n.d(t,"c",(function(){return C}));n("3bBZ");var o=n("wpmu"),r=n("bkwR"),a=n("VBxf"),i=n("jZoB"),s=n("MBf9"),l=n("H4VD"),c=n("lufz"),d=n("HRSx"),u=n("BLi8"),p=n("y6Dp"),h=n("FcJC"),m=n("G4cA"),f=n("QcDD"),g=n("J9+s"),b=n("vl8/"),v=n("guIK");const y=Object(g.defineMessages)({deletePageConfirmationMessage:{id:"trashActions.deletePagePermanentlyDialog.prompt",defaultMessage:"Are you sure you want to delete this page permanently?"},deletePageConfirmationButton:{id:"trashActions.deletePagePermanentlyDialog.confirmDeleteButton.label",defaultMessage:"Yes. Delete this page"}});async function S(e){const{environment:t,block:n,spaceId:o}=e;u.a.state.excludePages.add(n.id),u.a.emit(),await r.restoreBlock(t,{pointer:{table:d.a,id:n.id,spaceId:o}}),l.navigateToBlock({environment:t,store:n}),t.device.isMobile&&h.close(),p.Zd(t)}async function w(e){const{environment:t,blocks:n,transaction:a}=e;for(const r of n){const e=r.getParentStore();e&&(e instanceof o.a?i.e({parent:e.getContentStore(),remove:r,transaction:a}):e instanceof m.a&&i.e({parent:e.getPagesStore(),remove:r,transaction:a}),c.b({parentStore:e,childStore:r,alive:!1,transaction:a}))}await r.deleteBlocks(t,{blockIds:n.map(e=>e.id),permanentlyDelete:!1})}function k(e){a.showDialog({message:b.default.formatMessage(y.deletePageConfirmationMessage),showCancel:!0,keepFocus:!1,items:[{label:b.default.formatMessage(y.deletePageConfirmationButton),color:"red",onAccept:()=>C(e)}]})}async function C(e){const{blocks:t,environment:n}=e,{currentSpaceStore:o}=f.default.state,a=e.environment.currentUser.id;if(!o||!a)return;const i=s.create(n);for(const r of t)u.a.state.excludePages.add(r.id),u.a.emit();await r.deleteBlocks(e.environment,{blockIds:t.map(e=>e.id),permanentlyDelete:!0}),await Object(v.b)({environment:n,spaceId:o.id,userId:a}),l.navigateAwayIfCurrentPage({environment:e.environment,blocks:t}),s.commit({environment:n,transaction:i}),p.vb(n)}},"/6eU":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LEzx");class i extends a.a{getInitialState(){return{open:!1,openAnimationCompleted:!0,closeAnimationCompleted:!0}}}var s=i,l=n("NOLh"),c=n("wldR"),d=n("VyA+"),u=n("F9et"),p=n("fHgN");class h extends c.a{constructor(){super(...arguments),this.lastOpenState=!1,this.storeTypes={store:s},this.renderOverlay=()=>{const{open:e,disableAnimation:t}=this.props,n=t?this.renderKeepFocusArea():r.a.createElement(l.a,{isVisible:e,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},useCompositeLayer:!0,onAnimationEnd:this.handleAnimationEnd,springConfig:{opacity:{stiffness:50,damping:5,precision:.005}},render:this.renderKeepFocusArea});return r.a.createElement(d.a,{capture:e,onEsc:e=>{this.props.onDismiss&&this.props.onDismiss(e)}},n)},this.renderKeepFocusArea=()=>{const{open:e,keepFocus:t,disableAnimation:n}=this.props,o=n?this.renderBody():r.a.createElement(l.a,{isVisible:e,animationStyle:{scale:1},enterAnimationStyle:{scale:.97},exitAnimationStyle:{scale:.97},useCompositeLayer:!0,springConfig:{scale:{stiffness:50,damping:3.8,precision:.001}},render:this.renderBody});return r.a.createElement(u.a,{capture:Boolean(t),render:e=>r.a.createElement("div",Object.assign({style:this.getStyle()},e,{className:this.props.className}),r.a.createElement("div",{style:this.getBackgroundStyle(),onClick:e=>{this.props.onDismiss&&this.props.onDismiss(e)}}),o)})},this.renderBody=()=>r.a.createElement("div",{style:{position:"relative",zIndex:1,boxShadow:this.theme.largeBoxShadow,borderRadius:3,background:this.theme.contentBackground,...this.props.innerStyle}},this.renderChildren()),this.handleAnimationEnd=()=>{this.props.open?this.stores.store.setState({open:!0,openAnimationCompleted:!0,closeAnimationCompleted:!0}):this.stores.store.setState({open:!1,openAnimationCompleted:!0,closeAnimationCompleted:!0})}}willMountOrUpdate(e){super.willMountOrUpdate(e);const{open:t}=e;!this.lastOpenState&&t?(this.stores.store.setState({open:!0,openAnimationCompleted:!1,closeAnimationCompleted:!0}),e.onOpen&&e.onOpen()):this.lastOpenState&&!t&&this.stores.store.setState({open:!0,openAnimationCompleted:!0,closeAnimationCompleted:!1}),this.lastOpenState=t}renderComponent(){const e=this.props.disableAnimation?this.props.open:this.stores.store.state.open;return r.a.createElement(p.a,{open:e,render:this.renderOverlay,zIndex:this.props.overlayZIndex,origin:this.props.origin})}renderChildren(){const{store:e}=this.stores,{render:t}=this.props;return this.props.disableAnimation?t():e.state.openAnimationCompleted||this.props.preventHideChildrenWhileOpening?t():void 0}getStyle(){return{width:"100vw",height:"100vh",position:"fixed",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:this.props.open?"auto":"none",...this.props.style}}getBackgroundStyle(){return{position:"absolute",top:0,left:0,bottom:0,right:0,background:this.theme.modalBackground,...this.props.backgroundStyle}}}t.a=h},"/RgW":function(e,t,n){},"/YYm":function(e,t,n){"use strict";var o=n("Wvka"),r=n("A9TN"),a=n("vTDQ"),i=n("QcDD"),s=n("Catn");t.a=function(e){e={fullyQualified:!0,...e};const{store:t,collectionViewId:n,showMoveTo:l,saveParent:c}=e;let d;if(n)d=n;else if(t&&t.isCollectionView()){const e=s.a.get({userId:t.environment.currentUser.id,key:a.a.getLocalViewPreferenceKey(t.id)});if(e)d=e;else{const e=t.getValue();e&&e.view_ids&&(d=e.view_ids[0])}}const{currentSpaceStore:u}=i.default.state,p=u?u.getDomain():void 0;return Object(o.a)({pageId:t&&t.id,pageValue:t&&t.getValue(),spaceDomain:p,scrollToBlockId:e.scrollToBlockId,peekViewBlockId:e.peekViewBlockId,collectionViewId:d,discussionId:e.discussionId,baseUrl:e.fullyQualified?r.default.baseURL:void 0,showMoveTo:l,saveParent:c})}},"/buO":function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var o=n("q1tI"),r=n.n(o),a=n("W8iW"),i=n("J9+s");const s=Object(i.defineMessages)({board:{id:"database.collectionView.untitledName.board",defaultMessage:"Board view",description:"Shown for untitled database views that are boards"},gallery:{id:"database.collectionView.untitledName.gallery",defaultMessage:"Gallery view",description:"Shown for untitled database views that are gallerys"},timeline:{id:"database.collectionView.untitledName.timeline",defaultMessage:"Timeline view",description:"Shown for untitled database views that are timelines"},calendar:{id:"database.collectionView.untitledName.calendar",defaultMessage:"Calendar view",description:"Shown for untitled database views that are calendars"},list:{id:"database.collectionView.untitledName.list",defaultMessage:"List view",description:"Shown for untitled database views that are lists"},table:{id:"database.collectionView.untitledName.table",defaultMessage:"Table view",description:"Shown for untitled database views that are tables"}});t.a=function({collectionViewName:e,collectionViewType:t}){return e?r.a.createElement(a.a,null,e):r.a.createElement(i.FormattedMessage,Object.assign({},s[t]))}},"/cKE":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o);class a extends r.a.PureComponent{render(){return r.a.createElement("span",{role:"image","aria-label":this.props.char,style:{fontFamily:'"Apple Color Emoji","Segoe UI Emoji",NotoColorEmoji,"Noto Color Emoji","Segoe UI Symbol","Android Emoji",EmojiSymbols',lineHeight:"1em",fontSize:this.props.size}},this.props.char)}}t.a=a},"/mqF":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return S})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return k})),n.d(t,"b",(function(){return C}));n("3bBZ"),n("E9XD");var o=n("LvDl"),r=n.n(o),a=n("sjR4"),i=n("y6Dp"),s=n("6rsX"),l=n("unoy"),c=n("qpkC"),d=n("VBxf"),u=n("q2qQ"),p=n("qHvo"),h=n("AmMh"),m=n("fbat"),f=n("7M94"),g=n("zmp8");function b(e){p.b.state.isDragging&&(p.b.reset(),s.o({environment:e,phase:a.SelectionPhase.Selected}))}function v(e){if(p.b.state.isDragging){const t=p.b.state.currentDropZone,{draggedStores:n}=p.b.state,o=e.optionKey;if(t){const e=h.a.findSelectablesFromStore(t.store).find(e=>Boolean(e.props.onSelectableDrop));e&&e.props.onSelectableDrop&&e.props.onSelectableDrop({droppedDirection:t.direction,droppedStores:n,duplicate:o})}i.Fb(e.environment,{draggedTypes:r.a.compact(n.map(e=>e.getType())),from:e.analyticsFrom,asCopy:o}),b(e.environment),e.environment.device.isPhone&&s.e(e.environment)}}function y(e){const{environment:t,files:n,analyticsFrom:o}=e;if(p.b.state.isDragging){const e=p.b.state.currentDropZone;if(e){const t=h.a.findSelectableFromStore(e.store);t&&t.props.onNativeDrop&&t.props.onNativeDrop({files:n,droppedDirection:e.direction})}i.Fb(t,{draggedTypes:[],from:o,asCopy:!1}),b(t)}}function S(e,t){p.b.state.isDragging&&(l.f(e),p.b.setState({...p.b.state,...t}))}function w(e,t){if(p.b.state.isDragging)return!1;{const{startX:n,startY:o,stores:i,isNativeDrag:c}=t;l.f(e);const d=h.a.getRectFromStore(i[0]);return p.b.setState({isDragging:!0,startX:n,startY:o,currentX:n,currentY:o,offsetX:n-(d&&d.left||0),offsetY:o-(d&&d.top||0),currentHintDropZones:[],draggedStores:i,isNativeDrag:c,ghostElements:i.map(e=>t.getGhostElement?t.getGhostElement(e):function(e){const{store:t}=e,n=h.a.findSelectablesFromStore(t);return r.a.compact(n.map(e=>{if(e.props.canSelect){const t=e.getNode();if(t)return C(t)}}))}({store:e}))}),s.o({environment:e,phase:a.SelectionPhase.Selected}),m.a.reset(),!0}}function k(e){const{droppedStores:t,duplicate:n,transaction:o,environment:a}=e;return r.a.compact(t.map(e=>{if(h.a.findSelectableFromStore(e)){if(n){const[t,n]=c.a({environment:a,store:e,addCopyName:!0,transaction:o,deepCopyTransclusionContainers:!1});return n.then(e=>{e&&d.showErrorMessage(e)}),t}return u.n({store:e,transaction:o}),e}return e}))}function C(e){const t=e.style.transform,n=e.style.transition;e.style.transform="",e.style.transition="";const o=e.getBoundingClientRect();e.style.transform=t,e.style.transition=n;const r=e.cloneNode(!0);!function(e,t){const{firstElementChild:n}=e;if(n&&n.hasAttribute("embed-ghost")){const n=function e(t,n){if(t.shadowRoot)return n;if(t instanceof HTMLIFrameElement)return n;{const{firstElementChild:o,nextElementSibling:r}=t;if(o){n.push(0);const t=e(o,n);if(t)return t;n.pop()}if(r){n[n.length-1]+=1;const t=e(r,n);if(t)return t}return null}}(e,[]);if(n){const r=M(e,n),a=M(t,n);if(r&&a)if(r.shadowRoot){const e=r.shadowRoot;let t=null;if(a.createShadowRoot)t=a.createShadowRoot();else if(a.attachShadow)try{t=a.attachShadow({mode:"open"})}catch(o){}t&&(t.innerHTML=e.innerHTML)}else if(!r.src&&r.contentDocument){const e=document.createElement("iframe");e.width=r.offsetWidth,e.height=r.offsetHeight,E(e,a),a.parentElement.replaceChild(e,a),e.onload=t=>{const n=e.contentDocument.children[0],o=r.contentDocument.children[0];E(n,o),n.innerHTML=o.innerHTML}}else a.width=r.offsetWidth,a.height=r.offsetHeight,a.style.backgroundColor=g.g.blackWithAlpha(.12),a.style.backgroundImage=null,a.src=""}}}(e,r);const a=getComputedStyle(e);for(let l=0;l<a.length;l++){const e=a[l],t=a.getPropertyValue(e);r.style[e]=t}"absolute"!==a.position&&"relative"!==a.position||(r.style.position="",r.style.top="",r.style.left="",r.style.bottom="",r.style.right="");const i=r.querySelectorAll(".".concat(f.wb));for(const l of i)l.remove();r.style.pointerEvents="none";const s=r.querySelectorAll("*");for(const l of s)l.style&&(l.style.pointerEvents="none");return{cloned:r,rect:o}}function M(e,t){return t.reduce((e,t)=>e&&e.children&&e.children[t]?e.children[t]:null,e)}function E(e,t){r.a.toArray(t.attributes).forEach(({name:t,value:n})=>{e.setAttribute(t,n)})}},"/ssM":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var o=n("mINO");const r=o.j({required:{type:o.f("date"),start_date:o.l()},optional:{}}),a=o.o([o.j({required:{starting:r,ending:o.e()},optional:{}}),o.j({required:{starting:o.e(),ending:r},optional:{}}),o.j({required:{starting:r,ending:r},optional:{}}),o.j({required:{starting:o.e(),ending:o.e()},optional:{}})]);var i;!function(e){e.CollectionsInSpace="CollectionsInSpace",e.BlocksInSpace="BlocksInSpace",e.BlocksInAncestor="BlocksInAncestor",e.BlocksInParent="BlocksInParent"}(i||(i={}));o.j({required:{isNavigableOnly:o.c(),ancestors:o.b(o.l()),createdBy:o.b(o.l()),editedBy:o.b(o.l()),lastEditedTime:a,createdTime:a},optional:{requireEditPermissions:o.c(),isDeletedOnly:o.c(),excludeTemplates:o.c()}});function s(e){return{isDeletedOnly:!1,excludeTemplates:!1,isNavigableOnly:!1,requireEditPermissions:!1,ancestors:[],createdBy:[],editedBy:[],lastEditedTime:{starting:void 0,ending:void 0},createdTime:{starting:void 0,ending:void 0},...e}}function l(e,t){return{...e,...t,createdTime:{...e.createdTime,...t.createdTime},lastEditedTime:{...e.lastEditedTime,...t.lastEditedTime}}}o.o([o.f("quick_find"),o.f("quick_find_public"),o.f("quick_find_ancestor_filter"),o.f("trash"),o.f("link_to_page_block"),o.f("link_to_collection_block"),o.f("mention_menu"),o.f("move_to_menu"),o.f("relation_menu"),o.f("relation_setup_menu"),o.f("web_clipper"),o.f("legacy_searchBlocks"),o.f("legacy_searchPages"),o.f("legacy_searchTrashPages"),o.f("legacy_searchPagesWithParent"),o.f("legacy_searchCollections")]);var c;!function(e){e.Relevance="Relevance",e.LastEditedNewest="LastEditedNewest",e.LastEditedOldest="LastEditedOldest",e.CreatedNewest="CreatedNewest",e.CreatedOldest="CreatedOldest"}(c||(c={}));o.g(c.Relevance,c.LastEditedNewest,c.LastEditedOldest,c.CreatedNewest,c.CreatedOldest);const d={RequestFailed:{type:"RequestFailed",message:"Something went wrong."},NoResults:{type:"NoResultsFound",message:"No results found."},Offline:{type:"Offline",message:"Go online for more results."}},u="<".concat("gzkNfoUU",">"),p="</".concat("gzkNfoUU",">")},"/uT/":function(e,t,n){"use strict";n.r(t);n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("J9+s"),i=n("T8dS"),s=n("Mht8"),l=n("Fv2F"),c=n("QuSn"),d=n("H4VD"),u=n("bK/N"),p=n("KcXv"),h=n("tP7q"),m=n("zmp8"),f=n("A9TN"),g=n("ikHm"),b=n("wldR"),v=n("qHvo"),y=n("0zNc"),S=n("nZ1u");class w extends b.a{constructor(){super(...arguments),this.getCurrentCursor=this.createComputedStore(()=>S.a.state.isActive&&S.a.state.moved?"default":v.b.state.isDragging?"-webkit-grabbing":"text")}renderComponent(){const{device:e}=this.environment;let t="notion-cursor-listener";return"-webkit-grabbing"===this.getCurrentCursor.state&&(t+=" notion-disable-local-cursor"),e.isIOS&&("touch"===y.a.state.initiator||v.b.state.isDragging||S.a.state.isActive?document.body.classList.add("notion-disable-webkit-user-select"):document.body.classList.remove("notion-disable-webkit-user-select")),r.a.createElement("div",{style:this.getStyle(),className:t},this.props.children)}getStyle(){return{...this.props.style,cursor:this.getCurrentCursor.state}}}var k=w,C=n("AoM6"),M=n("4aFz"),E=n("FcJC"),_=n("7M94"),T=n("EZe4"),x=n("bFnu"),I=n("GRWW"),P=n("DNfA"),O=n("NOLh"),B=n("TDb4"),L=n("QtqF"),R=n("8fuX"),D=n("zK7c"),A=n("Na01"),j=n("iqZH"),F=n("mF3+"),V=n("QcDD"),N=n("MeYt"),U=n("gHFd");class z extends b.a{constructor(){super(...arguments),this.handleClick=e=>{this.props.onClick&&this.props.onClick(e),j.a()}}renderComponent(){const{currentSpaceStore:e,currentUserStore:t}=V.default.state;let n;return n=e&&e.canRead()?r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"Settings & Members",id:"sidebarSettingsButton.settingsAndMembers"})):r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"Settings",id:"sidebarSettingsButton.mobile.settingsAndMembers"})),r.a.createElement(N.a,{onClick:this.handleClick,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,onMouseDown:this.props.onMouseDown},r.a.createElement(A.a,{left:F.a.sidebarSettings({fill:this.theme.mediumIconColor,width:14}),isMobile:this.props.isMobile},n),e&&t&&"rendered"===V.default.state.renderPhase&&r.a.createElement(U.LazySpaceSettings,{spaceStore:e,userStore:t}))}}var X=z,Y=n("LeVO"),H=n("AjLL"),q=n("2Zgn"),W=n("b936"),G=n("OIKt"),Z=n("id5p"),K=n("hODJ"),J=n("Sb6f"),Q=n("y6Dp"),$=n("iVjn"),ee=n("uSCg"),te=n("RI9y"),ne=n("6rsX"),oe=n("UcZb"),re=n("Rtjx"),ae=n("DaKt");class ie extends b.a{constructor(){super(...arguments),this.didDragMove=!1,this.storeTypes={mouseStore:x.a},this.renderTooltip=()=>{const e=Object(re.f)(this.environment);return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Drag <invertedcolor>to resize</invertedcolor>",id:"sidebarResizer.tooltip.dragMessage",values:{invertedcolor:(...e)=>r.a.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},e)}}),r.a.createElement(o.Fragment,null,r.a.createElement("br",null),r.a.createElement(a.FormattedMessage,{defaultMessage:"Click <invertedcolor>to {expanded, select, true {close} other {lock open}}</invertedcolor>",id:"sidebarResizer.clickToToggleSidebar.message",values:{expanded:e,invertedcolor:(...e)=>r.a.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},e)}})))},this.handleMouseEnter=e=>{oe.b.set(e.clientY)},this.handleMouseMove=()=>{oe.d.setState({...oe.d.state,isResizerHovered:!0})},this.handleMouseLeave=()=>{oe.d.setState({...oe.d.state,isResizerHovered:!1})},this.handleDragStart=()=>{ne.e(this.environment),this.stores.mouseStore.setState({...this.stores.mouseStore.state,mousePressed:!0}),this.didDragMove=!1,oe.d.setState({...oe.d.state,isResizing:!0})},this.handleDragMove=e=>{te.clear(this.environment),this.didDragMove=!0,E.setWidth({width:this.calculateWidth(e.currentX)})},this.handleDragEnd=()=>{this.didDragMove||(E.setExpand({environment:this.environment,isExpanded:!oe.a.state}),oe.c.set(!1),this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})),this.stores.mouseStore.setState({...this.stores.mouseStore.state,mousePressed:!1}),oe.d.setState({...oe.d.state,isResizing:!1})},this.handleDragCancel=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mousePressed:!1}),oe.d.setState({...oe.d.state,isResizing:!1})}}renderComponent(){const{device:e}=this.environment,t=oe.e.state,n=oe.b.state;if(!ae.a.state&&!e.isChromebook)return r.a.createElement(Y.a,{renderTooltip:this.renderTooltip,originRect:{top:n,left:t,width:0,height:0,bottom:n,right:t},delayThreshold:500,placement:Y.a.Placement.Right,originGap:10,render:e=>r.a.createElement("div",Object.assign({style:this.getWrapStyle()},Object(ee.a)(e,{onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter})),r.a.createElement($.a,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>r.a.createElement("div",Object.assign({style:this.getStyle()},e))}))})}calculateWidth(e){return e>ie.maxWidth?ie.maxWidth:e<ie.minWidth?ie.minWidth:e}getWrapStyle(){const e=Object(re.f)(this.environment);return{position:"absolute",right:0,width:0,flexGrow:0,zIndex:1,top:e?0:-1,bottom:e?0:-1}}getStyle(){return{cursor:"col-resize",height:"100%",width:12,marginLeft:-6}}}ie.minWidth=190,ie.maxWidth=480;var se=ie,le=n("toub"),ce=n("r8MX"),de=n("6BTz"),ue=n("N34Z"),pe=n("MBf9"),he=n("bxQm");class me extends b.a{renderComponent(){const{title:e,children:t,handleClick:n,handleCloseClick:o,showCloseButton:a,style:i}=this.props;return r.a.createElement(N.a,{style:{position:"relative",padding:10,margin:12,fontSize:12,background:this.theme.sidebarItemSelectedBackground,borderRadius:6,...i},onClick:n,hovered:!1,ignoreLocalHoverState:!0},e&&r.a.createElement("div",{style:{marginRight:16}},r.a.createElement("div",{style:{fontWeight:J.a.fontWeight.medium,flexGrow:1}},e)),t,a&&r.a.createElement(he.a,{style:{position:"absolute",top:7,right:8},onClick:o},F.a.closeThick({width:10,opacity:"75%"})))}}var fe=me;class ge extends b.a{constructor(){super(...arguments),this.handleClick=()=>{le.a.setState({open:!0,currentTab:"credit"}),Q.ec(this.environment)},this.handleCloseClick=()=>{const{currentUserSettingsStore:e}=V.default.state;e&&pe.createAndCommit(this.environment,t=>{ue.d({store:e.getSettingsStore(),data:{hide_referral_notification:!0},transaction:t}),Q.fc(this.environment)})}}renderComponent(){const{data:e}=ce.default.state;if(!e)return;const{intl:t}=this.props,{availableCredit:n}=e,i=Math.floor(n/f.default.pricing.personal.monthlyPrice);return r.a.createElement(fe,{title:r.a.createElement("div",{style:{display:"flex"}},F.a.gift({width:14,marginRight:6,fill:this.theme.mediumIconColor}),r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"You earned {creditAmountInDollars} in credit.",id:"sidebarCredits.earnedCredit.message",values:{creditAmountInDollars:r.a.createElement("b",{style:{color:this.theme.regularTextColor}},Object(de.b)({amount:n,currency:"dollar",intl:t}))}}),i>0&&r.a.createElement(o.Fragment,null," ",r.a.createElement(a.FormattedMessage,{id:"sidebarCredits.freeMonthMessage",description:"Message in sidebar letting user know they have credits",defaultMessage:"{numberOfMonths, plural, one {That's <b>{numberOfMonths} month</b> free.} other {That's <b>{numberOfMonths} months</b> free.}}",values:{numberOfMonths:i,b:(...e)=>r.a.createElement("b",{style:{color:this.theme.regularTextColor}},e)}})))),showCloseButton:!0,handleClick:this.handleClick,handleCloseClick:this.handleCloseClick})}}var be=Object(a.injectIntl)(ge),ve=n("bkwR"),ye=n("Pl3d"),Se=n("nM47"),we=n("Cycz");class ke extends b.a{constructor(){super(...arguments),this.handleClick=()=>{le.a.setState({open:!0,currentTab:"plans"}),Q.qe(this.environment);const e=V.default.state.currentSpaceStore;e&&Se.i({environment:this.environment,spaceStore:e})},this.handleCloseClick=()=>{const{currentUserSettingsStore:e}=V.default.state;e&&pe.createAndCommit(this.environment,t=>{ue.d({store:e.getSettingsStore(),data:{hide_student:!0},transaction:t}),Q.re(this.environment)})}}renderComponent(){if(Object(we.P)(this.environment))return r.a.createElement(ye.a,{request:{},performRequest:e=>ve.isEmailEducation(this.environment,e),render:(e,t,n)=>{if(n&&t&&"failed"!==t.type&&t.data.isEligible)return r.a.createElement(fe,{title:r.a.createElement(a.FormattedMessage,{defaultMessage:"You're eligible for free Personal Pro (Education) plan.",id:"sidebarStudentPlanPrompt.eligible.message"}),showCloseButton:!0,handleClick:this.handleClick,handleCloseClick:this.handleCloseClick},r.a.createElement("div",{style:{display:"flex",marginTop:4}},r.a.createElement("div",{style:{textDecoration:"underline"}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Get free Personal Pro Plan",id:"sidebarStudentPlanPrompt.eligible.getFreePrompt"}))))}})}}var Ce=ke,Me=n("p0Uu"),Ee=n("raUL"),_e=n("/wWF"),Te=n("szb2"),xe=n("RqMp"),Ie=n("cy36"),Pe=n("d9nj"),Oe=n("30UQ"),Be=n("HTHG"),Le=n("2bwL"),Re=n("aEEb"),De=n("+zu0"),Ae=n("40tV"),je=n("ij+4"),Fe=(n("4Brf"),n("UWX6"));class Ve extends b.a{constructor(){super(...arguments),this.handleClick=()=>{le.a.setState({open:!0,currentTab:"plans"}),Q.me(this.environment)},this.handleCloseClick=()=>{Fe.c(this.environment.currentUser.id),this.enqueueForceUpdate()}}renderComponent(){const e=Fe.a(this.environment.currentUser.id);if(e)return r.a.createElement(ye.a,{request:e,performRequest:async e=>{const t=await ve.getPromoCode(this.environment,{code:e});if("success"===t.type&&t.data.promo)return t.data.promo},render:(e,t)=>{if(t)return r.a.createElement(fe,{title:t.description,showCloseButton:!0,handleClick:this.handleClick,handleCloseClick:this.handleCloseClick})}})}}var Ne=Ve,Ue=n("gND8"),ze=n("LvDl"),Xe=n.n(ze),Ye=n("LEzx");class He extends Ye.a{getInitialState(){return{isLoaded:!1,left:0,top:0,width:0,height:0}}}var qe=He,We=n("wXH4"),Ge=n("Ng05"),Ze=n("uN94"),Ke=n("6dM0"),Je=n("LoBg"),Qe=n("IYZQ");class $e extends b.a{constructor(){super(...arguments),this.renderContents=()=>r.a.createElement("div",{style:this.getContentStyles(),className:_.S},this.props.children,this.renderNextButton())}renderComponent(){const{device:e}=this.environment,{state:t}=Ze.default;if(!t.isOnboarding)return;const{parentStore:n,verticalOffset:o}=this.props,{top:a,left:i,height:s,width:l}=n.state,c={originRect:{top:a+o,bottom:a+s,left:i+l,right:i+l},placementToOrigin:We.c.Placement.Right,alignmentToOrigin:We.c.Alignment.Start},d=!Ke.m(t);return r.a.createElement(Je.a,{capture:d},r.a.createElement(We.c,Object.assign({popupType:e.isMobile?We.c.PopupType.SlideUp:We.c.PopupType.Popup,render:this.renderContents,open:!0,originGap:0,preventBlockRenderQueueOnEnter:!0,preventScaleTransition:!0,disableMouseCapture:!0,useLightBoxShadow:this.props.useFlatStyles},c)))}renderNextButton(){return r.a.createElement("div",{style:{...Ke.y,display:"flex",alignItems:"center"}},r.a.createElement(Ge.a,{isLarge:!0,onClick:this.props.handleNext,style:Ke.p},this.props.buttonText?this.props.buttonText:r.a.createElement(a.FormattedMessage,{defaultMessage:"Next",id:"onboardingPopup.next"})),this.renderSkip())}renderSkip(){return r.a.createElement(Re.a,{style:{marginLeft:16}},r.a.createElement(Qe.a,{onClick:this.props.handleSkip,disableUnderline:!0},this.props.skipText?this.props.skipText:r.a.createElement(a.FormattedMessage,{defaultMessage:"Skip the Rest",id:"onboardingPopup.skip"})))}getContentStyles(){return{padding:"20px 24px 10px",borderRadius:3,fontSize:14,lineHeight:1.3,color:this.theme.regularTextColor,backgroundColor:this.theme.popoverBackground,width:360,minHeight:1,...this.props.useFlatStyles&&{boxShadow:void 0,backgroundColor:this.theme.onboardingFlatBackground}}}}var et=$e;var tt=r.a.forwardRef((e,t)=>r.a.createElement("div",{ref:t,className:"OnboardingHighlight"},e.children));class nt extends b.a{constructor(e,t){super(e,t),this.storeTypes={store:qe},this.renderOverlays=()=>{const{top:e,left:t,width:n,height:o}=this.stores.store.state,a=[{...this.getStyle({top:0,left:0,width:t,height:"100vh"}),backgroundColor:this.theme.onboardingContentOverlay},{...this.getStyle({top:0,left:t+n,width:"100vw",height:"100vh"}),backgroundColor:this.theme.onboardingContentOverlay},{...this.getStyle({top:0,left:t,width:n,height:e}),backgroundColor:this.theme.onboardingSidebarOverlay},{...this.getStyle({top:e+o,left:t,width:n,height:"100vh"}),backgroundColor:this.theme.onboardingSidebarOverlay},{...this.getStyle({top:e,left:t,width:n,height:o})}];return r.a.createElement("div",null,a.map((e,t)=>r.a.createElement("div",{key:"onboardingOverlay".concat(t),style:e})))},this.handleResize=()=>{this.measureBounds()},this.handleResizeDebounced=Xe.a.debounce(this.handleResize,10),this.measureBounds=()=>{if(this.props.show&&this.boundingBoxRef&&this.boundingBoxRef.current){const e=this.boundingBoxRef.current.getBoundingClientRect();this.stores.store.setState({...this.stores.store.state,isLoaded:!0,top:e.top,left:e.left,width:e.width,height:e.height})}},this.boundingBoxRef=r.a.createRef()}didMount(){const{device:e}=this.environment;e.isMobile||window.addEventListener("resize",this.handleResizeDebounced)}didMountOrUpdate(){const{device:e}=this.environment;!e.isMobile&&this.props.show&&this.measureBounds()}willUnmount(){const{device:e}=this.environment;e.isMobile||window.removeEventListener("resize",this.handleResizeDebounced)}renderComponent(){const{device:e}=this.environment;return e.isMobile||!this.props.show?this.props.highlight():r.a.createElement(o.Fragment,null,r.a.createElement(tt,{ref:this.boundingBoxRef},this.props.highlight()),!this.props.hideOverlays&&this.renderOverlays(),r.a.createElement(et,{buttonText:this.props.buttonText,skipText:this.props.skipText,parentStore:this.stores.store,useFlatStyles:this.props.useFlatStyles,verticalOffset:this.props.verticalOffset||0,handleSkip:this.props.handleSkip,handleNext:this.props.handleNext},this.props.renderContents))}getStyle(e){const{top:t,left:n,height:o,width:r}=e;return{position:"absolute",top:t,left:n,height:o,width:r,zIndex:g.m}}}var ot=nt,rt=n("Rd/G"),at=n("ui+/"),it=n("bPtJ"),st=n("9YMM");class lt extends b.a{constructor(){super(...arguments),this.handleClick=()=>{le.a.setState({open:!0,currentTab:"plans"}),Q.Ke(this.environment)},this.handleCloseClick=()=>{const{currentUserSettingsStore:e,currentSpaceStore:t}=V.default.state;e&&t&&pe.createAndCommit(this.environment,n=>{ue.c({store:Object(it.b)(e,e.pointer,["settings","hide_timeline_warning",t.id]),value:!0,transaction:n}),Q.Le(this.environment)})}}didMountOrUpdate(){super.didMountOrUpdate(),Object(st.E)(this.environment)&&Q.Me(this.environment)}renderComponent(){const{data:e}=ce.default.state;if(e&&Object(st.E)(this.environment))return r.a.createElement(fe,{title:r.a.createElement(a.FormattedMessage,{defaultMessage:"Get unlimited Timelines",id:"SidebarTimelineWarning.header"}),showCloseButton:!0,handleClick:this.handleClick,handleCloseClick:this.handleCloseClick},r.a.createElement("div",{style:{fontWeight:J.a.fontWeight.regular,marginTop:4,marginBottom:4}},r.a.createElement(a.FormattedMessage,{defaultMessage:"You've reached the usage limit for Timelines on your Team Plan. Upgrade to go unlimited.",id:"SidebarTimelineWarning.description"})),r.a.createElement("div",{style:{fontSize:12,display:"flex",alignItems:"center"}},F.a.settingsUpgradeFilled({width:12,fontWeight:J.a.fontWeight.medium,marginRight:4}),r.a.createElement(a.FormattedMessage,{defaultMessage:"Upgrade now",id:"SidebarTimelineWarning.upgradeButton"})))}}var ct=Object(a.injectIntl)(lt),dt=n("AUNf"),ut=n("jzfh"),pt=n("3U9E"),ht=n("guIK"),mt=n("sdlW");class ft extends b.a{constructor(){super(...arguments),this.storeTypes={scrollerStore:I.a,mouseStore:x.a},this.renderSidebarContainer=()=>r.a.createElement("div",{style:this.containerStyle(),className:"notion-sidebar-container"},r.a.createElement("div",{style:this.getWrapStyle()},r.a.createElement("div",{style:ft.contentStyle,onMouseMove:this.handleMouseMove},r.a.createElement(O.a,{isVisible:!0,animationStyle:this.getPaneAnimationStyle(),useCompositeLayer:!0,render:this.renderSidebar})))),this.renderSidebar=()=>{const{currentSpaceStore:e}=V.default.state,t=this.environment.currentUser.id;if(!e||!t)return;const n=pt.a.getSharedPagesState({spaceId:e.id,userId:t});return n&&n.currentPageIds?r.a.createElement("div",{style:this.getPaneStyle(),className:_.zb,onMouseMove:this.handlePaneMouseMove,onMouseLeave:this.handlePaneMouseLeave},r.a.createElement("div",{style:this.getPaneBackgroundStyle()}),r.a.createElement("div",{style:this.getResizerStyle()}),this.renderHeader(),this.renderActions(),this.renderOutliner(),this.renderFooter(),r.a.createElement(se,null)):void 0},this.handleMouseMove=e=>{Object(T.d)({event:e,context:T.a.SidebarMouseMove,callback:()=>{E.open()}})},this.handlePaneMouseMove=e=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handlePaneMouseLeave=e=>{const{isElectronMac:t}=this.props,n=_e.a.state.isFullScreen;t&&n&&e.relatedTarget===window||this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.handleCreatePageClick=()=>{E.quickAddPage({environment:this.environment,from:"sidebar_new_page_button"})},this.handleCreateSpaceClick=()=>{K.a(this.environment)},this.handleImportClick=()=>{xe.a.setState({open:!0}),Q.Uc(this.environment)},this.handleTemplatePickerClick=()=>{Oe.g({environment:this.environment,createNewPage:!0,isPrivate:!0})},this.handleScrollerMount=e=>{Me.a.SidebarScroller=e},this.sidebarState=this.createComputedStore(()=>Object(Be.i)(this.environment)),this.currentOfflinePages=this.createComputedStore(()=>dt.default.getCurrentOfflinePagesStore()),this.isScrolledToTop=this.createComputedStore(()=>0===this.stores.scrollerStore.state.scrollTop),this.shouldShowResizerBar=this.createComputedStore(()=>{const e=oe.d.state;return e.isResizerHovered||e.isResizing}),this.recordLinkVisit=e=>{De.a.recordVisit({id:e.id,type:Ae.c.Link,currentUserId:this.environment.currentUser.id})},this.recordBookmarkVisit=e=>{De.a.recordVisit({id:e.id,type:Ae.c.Favorite,currentUserId:this.environment.currentUser.id})}}willMount(e){super.willMount(e);const{currentUserSettingsStore:t}=V.default.state;t&&Oe.f(t)}renderComponent(){return r.a.createElement(O.a,{isVisible:!0,animationStyle:{width:this.props.isExpanded?oe.e.state:0},render:this.renderSidebarContainer})}renderHeader(){const{isExpanded:e,isElectronMac:t}=this.props,n=_e.a.state.isFullScreen,o=this.stores.mouseStore.state.mouseEntered,a=t&&e&&!n,i=e&&o&&(!t||n);return r.a.createElement("div",{style:ft.headerStyle},a&&r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",height:t&&e?H.a.desktopMacHeight:H.a.defaultHeight,paddingRight:11}},this.stores.mouseStore.state.mouseEntered&&r.a.createElement("div",{className:_.y},r.a.createElement(q.a,null))),r.a.createElement(je.c,{shouldShowUnexpandButton:i,format:t&&e?je.a.DesktopMac:je.a.Regular,onSpaceClick:async({event:e,spaceViewStore:t})=>{await mt.o({environment:this.environment,spaceViewStore:t,userSettingsStore:V.default.state.currentUserSettingsStore,userRootStore:V.default.state.currentUserRootStore,metaClick:e.ctrlKey||e.metaKey})}}))}renderActions(){return r.a.createElement("div",{style:{...ft.actionsStyle,paddingBottom:8,boxShadow:this.isScrolledToTop.state?"0 0 0 transparent":"0 1px 0 ".concat(this.theme.regularDividerColor),transition:"box-shadow 300ms"}},r.a.createElement(Y.a,{renderTooltip:()=>r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"Search and quickly jump to a page",id:"sidebar.quickFindSearch.tooltip"})),r.a.createElement(B.a,{style:{color:this.theme.mediumInvertedTextColor},name:"quickFind"})),originGap:6,placement:P.b.Right,render:e=>r.a.createElement(N.a,Object.assign({},e,{onClick:()=>M.c({environment:this.environment,analyticsFrom:"sidebar"})}),r.a.createElement(A.a,{left:F.a.sidebarSearch({fill:this.theme.mediumIconColor,width:14}),isMobile:!1},r.a.createElement(a.FormattedMessage,{defaultMessage:"Quick Find",id:"sidebar.quickFindSearch.label"})))}),r.a.createElement(Z.a,{format:Z.a.Format.Sidebar}),r.a.createElement(Y.a,{renderTooltip:()=>r.a.createElement("div",{style:{width:200}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Update your profile, upgrade to Pro, or invite new members",id:"sidebar.upgradeButton.prompt"})),originGap:6,textWrap:!0,placement:P.b.Right,render:e=>r.a.createElement(X,Object.assign({isMobile:!1},e))}))}renderBottomActions(){const{currentBlockStore:e}=V.default.state;return r.a.createElement("div",{style:ft.actionsStyle},r.a.createElement(Y.a,{renderTooltip:()=>r.a.createElement(a.FormattedMessage,{defaultMessage:"View and clone templates into your workspace.",id:"sidebar.openTemplatePickerButton.tooltip"}),originGap:6,placement:P.b.Right,render:e=>r.a.createElement(N.a,Object.assign({onClick:this.handleTemplatePickerClick},e),r.a.createElement(A.a,{left:F.a.sidebarTemplates({fill:this.theme.mediumIconColor,height:15}),isMobile:!1},r.a.createElement(a.FormattedMessage,{defaultMessage:"Templates",id:"sidebar.openTemplatePickerButton"})))}),r.a.createElement(Y.a,{renderTooltip:()=>r.a.createElement(a.FormattedMessage,{defaultMessage:"Import from Word, Markdown, HTML, and more.",id:"sidebar.openImportModalButton.tooltip"}),originGap:6,placement:P.b.Right,render:e=>r.a.createElement(N.a,Object.assign({onClick:this.handleImportClick},e),r.a.createElement(A.a,{left:F.a.sidebarImport({fill:this.theme.mediumIconColor,height:15}),isMobile:!1},r.a.createElement(a.FormattedMessage,{defaultMessage:"Import",id:"sidebar.openImportModalButton"})))}),e&&r.a.createElement(Y.a,{renderTooltip:()=>r.a.createElement(a.FormattedMessage,{defaultMessage:"Restore deleted pages.",id:"sidebar.openTrashModalButton.tooltip"}),originGap:6,placement:P.b.Right,render:t=>r.a.createElement(W.a,Object.assign({store:e,isMobile:!1},t))}))}renderOutliner(){const{currentSpaceStore:e,currentSpaceViewStore:t,currentUserRootStore:n,currentUserStore:i,currentUserSettingsStore:s,currentBlockStore:l}=V.default.state,c=this.sidebarState.state;if(!(c&&l&&t&&n&&e&&i&&s))return;const d=this.stores.mouseStore.state.mouseEntered&&!Le.b.state,u=e.canEdit()&&!Le.b.state;return r.a.createElement(o.Fragment,null,r.a.createElement(D.a,{store:e,disableEditNearestBlock:!0,disable:Boolean(Te.c.state.open||Ie.a.state.open),render:n=>r.a.createElement(R.b,Object.assign({key:t.id,type:R.a.Y,store:this.stores.scrollerStore,style:ft.scrollerStyle,ref:this.handleScrollerMount},n),c.showOfflineSection&&r.a.createElement(G.a,{isMobile:!1,type:"offline",spaceStore:e,spaceViewStore:t,showAddPageButton:!1,labelTooltip:r.a.createElement(a.FormattedMessage,{defaultMessage:"Pages you have saved for offline use.",id:"sidebar.offlinePagesSection.tooltip"}),renderSidebar:()=>r.a.createElement(L.a,{isMobile:!1,type:"offline",isTopLevel:!0,spaceStore:e,spaceViewStore:t,childStores:this.currentOfflinePages.state,showAddPageButton:!1,style:ft.outlinerStyle,disabled:!u})}),c.showBookmarksSection&&r.a.createElement(G.a,{isMobile:!1,type:"bookmarks",spaceStore:e,spaceViewStore:t,showAddPageButton:!1,labelTooltip:r.a.createElement(a.FormattedMessage,{defaultMessage:"Pages you have favorited.",id:"sidebar.bookmarkedPagesSection.tooltip"}),renderSidebar:()=>r.a.createElement(L.a,{isMobile:!1,type:"bookmarks",isTopLevel:!0,spaceStore:e,spaceViewStore:t,parentStore:t.getBookmarkedPagesStore(),childStores:t.getBookmarkedPages(),onNavigate:this.recordBookmarkVisit,showAddPageButton:!1,style:ft.outlinerStyle,disabled:!u})}),c.showWorkspaceSection&&this.renderOutlinerSection(r.a.createElement(G.a,{isMobile:!1,type:"workspace",spaceStore:e,spaceViewStore:t,showAddPageButton:d,labelTooltip:r.a.createElement(a.FormattedMessage,{defaultMessage:"All workspace members can access these pages.",id:"sidebar.workspacePagesSection.tooltip"}),renderSidebar:()=>r.a.createElement(o.Fragment,null,r.a.createElement(L.a,{isMobile:!1,type:"workspace",isTopLevel:!0,spaceStore:e,spaceViewStore:t,parentStore:e.getPagesStore(),childStores:t.getWorkspacePages(),onNavigate:this.recordLinkVisit,addPageTitle:r.a.createElement(a.FormattedMessage,{defaultMessage:"Add a page",id:"sidebar.addAWorkspacePage.tooltip"}),showAddPageButton:!0,style:ft.outlinerStyle,disabled:!u}))}),t.getWorkspacePages().concat(t.getPrivatePages()),"workspace"),c.showSharedSection&&r.a.createElement(G.a,{isMobile:!1,type:"shared",spaceStore:e,spaceViewStore:t,showAddPageButton:!1,labelTooltip:r.a.createElement(a.FormattedMessage,{defaultMessage:"Only people you shared with can access these pages.",id:"sidebar.sharedPagesSection.tooltip"}),renderSidebar:n=>r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{isMobile:!1,type:"shared",isTopLevel:!0,spaceStore:e,spaceViewStore:t,parentStore:t.getSharedPagesStore(),childStores:c.visibleSharedPagesStores,onNavigate:this.recordLinkVisit,showAddPageButton:!1,style:ft.outlinerStyle,disabled:!u}),c.showSharedOverflowButton&&r.a.createElement(ut.a,{originRef:n,isMobile:!1,type:"shared",spaceStore:e,spaceViewStore:t,userSettingsStore:s,allSharedPages:c.allSharedPagesStores,visiblePageIds:c.visibleSharedPagesStores.map(({id:e})=>e)}))}),c.showPrivateSection&&!c.showOnlyPrivateSection&&this.renderPrivateItems({currentSpaceViewStore:t,currentSpaceStore:e,shouldShowSectionAddPageButton:d,canEditSpace:u}),c.showOnlyPrivateSection&&this.renderOutlinerSection(r.a.createElement(o.Fragment,null,r.a.createElement(L.a,{isMobile:!1,type:"private",isTopLevel:!0,spaceStore:e,spaceViewStore:t,parentStore:e.getPagesStore(),childStores:t.getPrivatePages(),addPageTitle:r.a.createElement(a.FormattedMessage,{defaultMessage:"Add a page",id:"sidebar.addAPrivatePage.tooltip"}),showAddPageButton:!0,isHeaderless:!0,style:ft.outlinerStyle,disabled:!u})),t.getPrivatePages(),"private"),r.a.createElement("div",{style:{marginTop:G.a.marginBottom}}),u&&this.renderBottomActions())}))}renderOutlinerSection(e,t,n){const{currentSpaceStore:o}=V.default.state;if(!o)return;const i=o.getValue();if(!i)return;const s=Ze.default.state,l=Ke.x(s)&&s,c="team"===i.plan_type?"workspace"===n:"private"===n;return r.a.createElement(ot,{buttonText:r.a.createElement(a.FormattedMessage,{defaultMessage:"OK",id:"outlinerToggleButton.popup.buttonText"}),skipText:r.a.createElement(a.FormattedMessage,{defaultMessage:"Clear templates",id:"outlinerToggleButton.popup.skipText"}),highlight:()=>e,show:l&&c,renderContents:r.a.createElement("div",null,r.a.createElement("span",{style:Ke.q},r.a.createElement(a.FormattedMessage,{defaultMessage:"Here are some templates to help you get started",id:"sidebar.templateIntro.title"})),r.a.createElement("br",null),r.a.createElement("div",{style:{...Ke.a,...Ke.i(this.theme)}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Use them out of the box, or customize them to your own workflows.",id:"sidebar.templateIntro.content"}))),handleNext:()=>{l&&K.d(this.environment,l)},handleSkip:()=>this.handleSkipPopup(t)})}renderPrivateItems(e){const{currentSpaceStore:t,currentSpaceViewStore:n,shouldShowSectionAddPageButton:i,canEditSpace:s}=e;if(this.sidebarState.state)return r.a.createElement(G.a,{isMobile:!1,type:"private",spaceStore:t,spaceViewStore:n,showAddPageButton:i,outlinerToggleButtonStore:Ee.a,labelTooltip:r.a.createElement(a.FormattedMessage,{defaultMessage:"Only you can access these pages.",id:"sidebar.privatePagesSection.tooltip"}),renderSidebar:()=>r.a.createElement(o.Fragment,null,r.a.createElement(L.a,{isMobile:!1,type:"private",isTopLevel:!0,spaceStore:t,spaceViewStore:n,parentStore:t.getPagesStore(),childStores:n.getPrivatePages(),addPageTitle:r.a.createElement(a.FormattedMessage,{defaultMessage:"Add a page",id:"sidebar.addAPrivatePageToWorkspace.tooltip"}),showAddPageButton:!0,style:ft.outlinerStyle,disabled:!s}))})}renderFooter(){const{currentSpaceStore:e,currentUserRootStore:t,currentUserSettingsStore:n}=V.default.state,{data:o}=ce.default.state,i=(o?o.credits:[]).find(e=>"invited_by_user"===e.type);if(e&&t&&n){const t=n.getSettings();if(e.canEdit()){if(Le.b.state)return;const e=!t.hide_student&&o&&("unsubscribed_admin"===o.type||"unsubscribed_member"===o.type),n=i&&!t.hide_referral_notification,s=o&&("unsubscribed_admin"===o.type||"unsubscribed_member"===o.type);return r.a.createElement("div",{style:ft.footerStyle},e&&r.a.createElement(Ce,null),n&&r.a.createElement(be,null),r.a.createElement(ct,null),s&&r.a.createElement(Ne,null),s&&r.a.createElement(Ue.a,{source:"sidebar"}),r.a.createElement(N.a,{onClick:this.handleCreatePageClick,style:{boxShadow:"0 -1px 0 ".concat(this.theme.regularDividerColor)}},r.a.createElement(A.a,{style:{color:this.theme.mediumTextColor,height:45},left:this.getPlusIcon(),isMobile:!1},r.a.createElement(a.FormattedMessage,{defaultMessage:"New page",id:"sidebar.newPage.button"}))))}return r.a.createElement("div",{style:{...ft.footerStyle,padding:14,boxShadow:"0 -1px 0 ".concat(this.theme.regularDividerColor)}},r.a.createElement(Re.a,{isSmall:!0,isMultiline:!0},r.a.createElement(a.FormattedMessage,{defaultMessage:"You are currently a guest. To see all the workspace pages, ask an admin to upgrade you to a member.",id:"sidebar.guestMember.message"})),r.a.createElement(Pe.a,{icon:F.a.team,onClick:this.handleCreateSpaceClick,style:{marginTop:8,marginLeft:-8}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Create a workspace",id:"sidebar.guestMember.createWorkspacePrompt"})))}}async handleSkipPopup(e){const{currentSpaceStore:t}=V.default.state,n=this.environment.currentUser.id;if(!t||!n)return;K.h(this.environment);const o=Object(at.a)(e,e=>!Object(rt.j)(e));await ve.deleteBlocks(this.environment,{blockIds:o.map(e=>e.id),permanentlyDelete:!0}),await Object(ht.b)({environment:this.environment,spaceId:t.id,userId:n});const r=Object(at.a)(e,rt.j)[0];r&&d.navigateToBlock({environment:this.environment,store:r})}isVisible(){const e=oe.c.state,{isExpanded:t}=this.props;return e||t}containerStyle(){return{flexGrow:0,flexShrink:0,pointerEvents:"none",position:"relative",zIndex:g.p,background:this.theme.sidebarBackground,...this.getResizerHoverStyle()}}getResizerHoverStyle(){return{transition:"box-shadow 300ms ease-in",...this.shouldShowResizerBar.state&&{boxShadow:this.theme.sidebarResizerBoxShadow}}}getTopbarHeight(){const{device:e}=this.environment;return e.isElectronMac?H.a.desktopMacHeight:H.a.defaultHeight}getTop(){return this.getTopbarHeight()+15}getWrapStyle(){return{color:this.theme.sidebarTextColor,fontWeight:J.a.fontWeight.medium,height:"100%"}}getPaneStyle(){const{isExpanded:e}=this.props;return{display:"flex",flexDirection:"column",height:e?"100%":"auto",position:"relative",pointerEvents:this.isVisible()?"auto":"none",maxHeight:e?"100%":"calc(100vh - ".concat(2*this.getTop(),"px)")}}getPaneAnimationStyle(){const e=oe.c.state,{isExpanded:t}=this.props,n=oe.e.state;return t?{width:n,translateX:0,translateY:ft.expandedTop,opacity:1}:e?{width:n,translateX:0,translateY:this.getTop(),opacity:1}:{width:n,translateX:20-n,translateY:this.getTop(),opacity:0}}getPaneBackgroundStyle(){return{display:this.props.isExpanded?"none":"block",position:"absolute",top:0,left:0,bottom:0,right:0,borderTopRightRadius:3,borderBottomRightRadius:3,zIndex:-1,background:this.theme.floatingSidebarBackground,boxShadow:this.theme.mediumBoxShadow}}getResizerStyle(){const{isExpanded:e}=this.props;return{position:"absolute",top:0,left:0,bottom:0,right:0,borderTopRightRadius:3,borderBottomRightRadius:3,zIndex:-1,display:e?"none":"block",...this.getResizerHoverStyle()}}getPlusIcon(){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},F.a.plus({fill:this.theme.mediumIconColor,width:16,height:16}))}}ft.expandedTop=0,ft.scrollerStyle={paddingTop:14,paddingBottom:20},ft.headerStyle={display:"block",flexShrink:0,flexGrow:0},ft.actionsStyle={flexGrow:0,flexShrink:0},ft.footerStyle={display:"block",flexGrow:0,flexShrink:0,flexBasis:"auto",marginTop:"auto"},ft.contentStyle={position:"absolute",top:0,left:0,bottom:0,display:"flex",flexDirection:"column",width:0,overflow:"visible",zIndex:g.q,pointerEvents:"none"},ft.outlinerStyle={display:"block"};var gt=ft,bt=n("WM0W"),vt=n("UJva"),yt=n("frzs"),St=n("sZEU"),wt=n("pqiZ"),kt=n("9M6r"),Ct=n("IdSf");class Mt extends Ye.a{getInitialState(){return{isCreatingSpace:!1}}}var Et=Mt,_t=n("Z1H8"),Tt=n("5/h/"),xt=n("qqdV"),It=n("vJXr"),Pt=n("prF1"),Ot=n("dlZW"),Bt=n("E4rx"),Lt=n("+NSf");const Rt={fontSize:15,whiteSpace:"nowrap",top:0,width:"100%",background:m.g.frontCreamBackground,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},Dt="0 1px 0 ".concat(m.g.frontBorder),At={small:600,medium:800,large:1020,giant:1380};function jt(e,t,n){const{WindowSizeStore:o}=e,r="number"==typeof n?n:At[n];return"minWidth"===t?o.state.width>=r:o.state.width<=r}class Ft extends b.a{renderComponent(){const e=jt(this.environment,"maxWidth","large");return r.a.createElement("div",{style:{flexShrink:0}},r.a.createElement(Pt.a,{href:xt.d.product,onMouseDown:()=>Q.F(this.environment,{from:this.props.analyticsName,name:"notion_logo",href:xt.d.product}),style:{cursor:"pointer"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},F.a.notionLogo({width:e?28:30,height:e?28:30,marginRight:10,flexShrink:0}),r.a.createElement("div",{style:{fontWeight:J.a.fontWeight.medium,fontSize:16}},"Notion"))))}}var Vt=Ft,Nt=n("uRvc");class Ut extends b.a{renderComponent(){const e=jt(this.environment,"maxWidth","large");return r.a.createElement("div",{style:this.getOuterStyle()},r.a.createElement("nav",{style:this.getInnerStyle()},!this.props.hideLogo&&r.a.createElement(Vt,{analyticsName:"front_header"}),r.a.createElement("div",{style:{flex:"1",display:"flex",justifyContent:e?"flex-end":"center"}})))}getOuterStyle(){return{...Rt}}getInnerStyle(){return{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",maxWidth:Nt.b.l+40,paddingLeft:20,paddingRight:20,transition:"height 250ms",height:this.props.pageHasScrolled?Wt.desktopHeaderScrolledHeight:Wt.desktopHeaderHeight,position:"relative",overflow:"hidden",boxShadow:this.props.pageHasScrolled?Dt:"none"}}}var zt=Object(a.injectIntl)(Ut);class Xt extends b.a{constructor(){super(...arguments),this.innerStyle={display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",height:Wt.mobileHeaderHeight}}renderComponent(){return r.a.createElement(o.Fragment,null,r.a.createElement("div",{style:this.getOuterStyle()},r.a.createElement("nav",{style:this.innerStyle},!this.props.hideLogo&&r.a.createElement(Vt,{analyticsName:"front_header"}))))}getOuterStyle(){return{...Rt,boxShadow:this.props.pageHasScrolled?Dt:"none",paddingLeft:20,paddingRight:20}}}var Yt=Xt,Ht=n("CI7d");class qt extends b.a{constructor(){super(...arguments),this.storeTypes={scrollerStore:I.a},this.headerRef=r.a.createRef(),this.handleScrolled=e=>{this.stores.scrollerStore.setState({...this.stores.scrollerStore.state,scrollTop:window.scrollY})},this.handleScrolledThrotted=Xe.a.throttle(this.handleScrolled,15)}willMountOrUpdate(e){super.willMountOrUpdate(e),window.addEventListener("scroll",this.handleScrolledThrotted)}willUnmount(){window.removeEventListener("scroll",this.handleScrolledThrotted),super.willUnmount()}renderComponent(){const e=jt(this.environment,"maxWidth","large");return r.a.createElement(o.Fragment,null,r.a.createElement("div",{style:qt.headerStyle},e&&r.a.createElement(Yt,{analyticsName:this.props.analyticsName,hideNavItems:this.props.hideNavItems,hideLogo:this.props.hideLogo,signupInputAndButtonWidth:this.props.signupInputAndButtonWidth,pageHasScrolled:this.pageHasScrolled(e)}),!e&&r.a.createElement(zt,{analyticsName:this.props.analyticsName,hideNavItems:this.props.hideNavItems,hideLogo:this.props.hideLogo,signupInputAndButtonWidth:this.props.signupInputAndButtonWidth,pageHasScrolled:this.pageHasScrolled(e)})),r.a.createElement("div",{style:this.getSpacerStyle(e,!1)}))}pageHasScrolled(e){const t=e?qt.mobilePageHasScrolledDistance:qt.desktopPageHasScrolledDistance;return this.stores.scrollerStore.state.scrollTop>t}getSpacerHeight(e,t){const n=e?qt.mobileHeaderHeight:qt.desktopHeaderHeight,o=e?0:qt.desktopNotificationBannerHeight;return t?n+o:n}getSpacerStyle(e,t){return{width:"100%",height:this.getSpacerHeight(e,t)}}}qt.desktopNotificationBannerHeight=45,qt.mobileHeaderHeight=54,qt.mobilePageHasScrolledDistance=0,qt.desktopHeaderHeight=80,qt.desktopHeaderScrolledHeight=60,qt.desktopPageHasScrolledDistance=60,qt.headerStyle={position:"fixed",zIndex:g.f,fontFamily:Ht.a.fontFamily.sans,width:"100%"};var Wt=qt,Gt=n("X6Ne"),Zt=n("i8i4"),Kt=n.n(Zt),Jt=n("v/t1");class Qt extends b.a{constructor(){super(...arguments),this.sessionNamesMap={},this.handleScroll=()=>{if(this.node){const e=Array.from(this.node.querySelectorAll(".".concat(_.e))),t=e.map(e=>e.getBoundingClientRect()).findIndex(e=>e.top>window.innerHeight);let n;if(n=t>=0?t-1:e.length-1,void 0!==n){const t=e[n];if(t&&t.id){const e=t.id;this.sessionNamesMap[e]||(this.sessionNamesMap[e]=!0,Q.ce(this.environment,{from:this.props.analyticsName,name:e,index:n}))}}}},this.handleScrollThrottled=Xe.a.throttle(this.handleScroll,500)}didMount(){super.didMount(),this.node=Kt.a.findDOMNode(this),Jt.a(window,"scroll",this.handleScrollThrottled),this.handleScroll()}willUnmount(){super.willUnmount(),Jt.b(window,"scroll",this.handleScrollThrottled)}renderComponent(){return this.props.render()}}var $t=Qt;class en extends b.a{didMount(){const e=document.documentElement;e&&e.classList.add(_.C)}willMountOrUpdate(){Gt.e(this.environment)?document.body.classList.contains("disable-scroll")||document.body.classList.add("disable-scroll"):document.body.classList.contains("disable-scroll")&&document.body.classList.remove("disable-scroll")}willUnmount(){document.body.classList.contains("disable-scroll")&&document.body.classList.remove("disable-scroll");const e=document.documentElement;e&&e.classList.contains(_.C)&&e.classList.remove(_.C)}renderComponent(){return r.a.createElement(o.Fragment,null,r.a.createElement($t,{analyticsName:this.props.analyticsName,render:()=>r.a.createElement("div",null,r.a.createElement(Wt,{analyticsName:this.props.analyticsName,hideNavItems:this.props.hideNavItems,hideNotificationBanner:this.props.hideNotificationBanner,hideLogo:this.props.hideLogo,signupInputAndButtonWidth:this.props.signupInputAndButtonWidth}),r.a.createElement("main",{style:this.mainStyle()},this.props.children))}))}mainStyle(){return{...p.a,fontFamily:Ht.a.fontFamily.sans,background:m.g.frontCreamBackground,color:m.g.frontText,fontSize:Ht.a.fontSize.body.m,lineHeight:1.5,WebkitFontSmoothing:"antialiased"}}}var tn,nn=en,on=n("+QMF"),rn=n("BNhs"),an=n("CTEM"),sn=n("xcfP"),ln=n("Ma8p"),cn=n("0Xty"),dn=n("xPNA"),un=n("17x9"),pn=n.n(un);!function(e){e[e.NoAccess=0]="NoAccess",e[e.NotFound=1]="NotFound",e[e.Unsafe=2]="Unsafe"}(tn||(tn={}));const hn={iconType:pn.a.any,...b.b};class mn extends b.a{getChildContext(){return{...this.context,iconType:this.props.type}}render(){const{device:e}=this.environment,t=e.isMobile?48:64,n={marginBottom:e.isMobile?12:16};if(this.props.type===tn.NoAccess){const{publicPageData:e}=this.props,o=Object(an.a)(e.icon)?e.icon:void 0,a=Object(an.a)(e.icon)?void 0:e.icon;return a?r.a.createElement("div",{style:n},r.a.createElement(sn.a,{type:"image_url",size:t,imageURL:a})):o?r.a.createElement("div",{style:n},r.a.createElement(ln.a,{size:t,emoji:o})):e.spaceName?r.a.createElement("div",{style:n},r.a.createElement(cn.a,{size:t,title:e.spaceName})):r.a.createElement("div",{style:n},r.a.createElement(dn.a,{size:t,isEmptyPage:!1}))}return this.props.type===tn.NotFound?F.a.pageErrorNotFound({width:t,height:t,color:this.theme.regularTextColor,fill:this.theme.regularTextColor,...n}):this.props.type===tn.Unsafe?F.a.pageErrorUnsafe({width:t,height:t,color:m.g.frontRed,fill:m.g.frontRed,...n}):void 0}}mn.Type=tn,mn.contextTypes=b.b,mn.childContextTypes=hn;var fn=mn,gn=n("UQxX"),bn=n("VpIZ"),vn=n("AXh+"),yn=n("hU3F"),Sn=n("yNyh"),wn=n("zzAG"),kn=n("gbGO"),Cn=n("/6eU"),Mn=n("IULH"),En=n("D8Ld"),_n=n("g4rC");const Tn=Object(a.defineMessages)({requestAccessMessagePlaceholder:{defaultMessage:"Message (optional)",id:"requestAccessForm.messageInput.placeholder"}});function xn(){return r.a.createElement(a.FormattedMessage,{defaultMessage:"Cancel",id:"requestAccessForm.cancelButton.label"})}class In extends b.a{constructor(){super(...arguments),this.storeTypes={requestAttempt:yn.a.of(0),message:yn.a.of(void 0),buttonPopupStore:_n.a},this.renderPopup=()=>this.isPhone?r.a.createElement(kn.b,{menuType:kn.b.MenuType.Modal,whiteBackground:!0,title:r.a.createElement(a.FormattedMessage,{id:"requestAccessForm.title.label",defaultMessage:"Request access"}),left:xn(),onClickLeft:this.handleCloseClicked,right:r.a.createElement(a.FormattedMessage,{id:"requestAccessForm.mobileSend.label",defaultMessage:"Send"}),onClickRight:this.handleSendRequestClicked},r.a.createElement(En.a,{capture:!0},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"stretch",alignItems:"stretch",width:"100%",height:"100%"}},r.a.createElement(ye.a,{request:this.stores.requestAttempt.state,performRequest:this.submitRequest,render:this.renderRequest})))):r.a.createElement(En.a,{capture:!0},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evently",alignItems:"stretch",padding:"20px 28px 24px",width:"340px"}},r.a.createElement(ye.a,{request:this.stores.requestAttempt.state,performRequest:this.submitRequest,render:this.renderRequest}),r.a.createElement(Mn.a,{onClick:this.handleCloseClicked},xn()))),this.renderRequest=(e,t,n)=>{const o=Boolean(0===this.stores.requestAttempt.state||n&&t&&t.error);return r.a.createElement(r.a.Fragment,null,!this.isPhone&&r.a.createElement("div",{style:{fontSize:16,fontWeight:J.a.fontWeight.semibold,marginBottom:16}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Request access",id:"requestAccessForm.sendRequestButton.title"})),r.a.createElement(Sn.b,{format:this.isPhone?Sn.b.Format.Transparent:void 0,textarea:!0,value:this.stores.message.state||"",onChange:this.handleMessageChanged,disabled:!o,placeholder:this.props.intl.formatMessage(Tn.requestAccessMessagePlaceholder),style:{...this.isPhone?{...In.mobileTextAreaStyle,padding:"16px"}:{...In.marginBottomStyle,marginBottom:16,padding:"8px 12px",alignItems:"flex-start"}}}),!this.isPhone&&r.a.createElement(Ge.a,{isLarge:!0,disabled:!o,onClick:this.handleSendRequestClicked,style:In.marginBottomStyle},r.a.createElement(a.FormattedMessage,{defaultMessage:"Send request",id:"requestAccessForm.sendRequestButton.label"})),this.renderError(t))},this.submitRequest=async e=>{if(0===e)return;const t=await Object(ve.requestAccess)(this.environment,{type:"current-actor-to-block",blockId:this.props.blockId,message:this.stores.message.state});return"success"!==t.type?{error:Object(wn.b)(this.props.intl,t)}:(Q.Ud(this.environment),this.stores.buttonPopupStore.reset(),{value:!0})},this.handleSendRequestClicked=()=>{this.stores.requestAttempt.update(e=>e+1)},this.handleMessageChanged=e=>{this.stores.message.setState(e.target.value)},this.handleOpenClicked=()=>this.stores.buttonPopupStore.setState({open:!0}),this.handleCloseClicked=()=>this.stores.buttonPopupStore.setState({open:!1})}renderComponent(){const e=this.stores.requestAttempt.state>0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{isLarge:!0,disabled:e,onClick:this.handleOpenClicked},e?r.a.createElement(a.FormattedMessage,{id:"fullPageError.requestAccessButton.requested",defaultMessage:"Requested access"}):r.a.createElement(a.FormattedMessage,{id:"fullPageError.requestAccessButton.label",defaultMessage:"Request access"})),this.isPhone?r.a.createElement(We.c,{popupType:We.c.PopupType.SlideUp,open:this.stores.buttonPopupStore.state.open,render:this.renderPopup}):r.a.createElement(Cn.a,{open:this.stores.buttonPopupStore.state.open,onDismiss:this.handleCloseClicked,render:this.renderPopup}))}renderError(e){if(e&&e.error)return r.a.createElement("div",{style:{color:m.g.redWithAlpha(1),textAlign:"center",width:"100%"}},e.error)}get isPhone(){return this.environment.device.isPhone}}In.marginBottomStyle={marginBottom:10},In.mobileTextAreaStyle={...In.marginBottomStyle,width:"100%",height:"100%",padding:10,alignItems:"top",borderRadius:0};var Pn=Object(a.injectIntl)(In);class On extends b.a{constructor(){super(...arguments),this.didPerformAction=!1,this.storeTypes={store:Et},this.handleHelpButtonClick=()=>{St.a({environment:this.environment,from:"page_error"})},this.handleSwitchAccountClick=()=>{const{loggedInUserIds:e,id:t}=this.environment.currentUser;if(2===e.length){const n=e.filter(e=>e!==t)[0],{currentBlockStore:o}=V.default.state;o&&Object(gn.b)({environment:this.environment,newCurrentUserId:n,store:o})}},this.handleGoBackClick=()=>{const{currentUserRootStore:e,currentUserSettingsStore:t}=V.default.state;e&&t&&mt.n({environment:this.environment,userRootStore:e,userSettingsStore:t})},this.handleCreateAccountClick=async()=>{const{currentUserRootStore:e,currentUserStore:t}=V.default.state;e&&t&&(this.stores.store.setState({...this.stores.store.state,isCreatingSpace:!0}),await K.a(this.environment),this.stores.store.setState({...this.stores.store.state,isCreatingSpace:!1}))},this.handleReturnToOnboarding=()=>{const e=Ze.default.state;e.isOnboarding?Ke.n(e)?K.i(this.environment,{type:"new-user",disableRedirectUrl:!0}):Ke.k(e)?K.i(this.environment,{type:"create-or-join",disableRedirectUrl:!0}):(Ze.default.reset(),d.navigate({environment:this.environment,url:"/"})):(Ze.default.reset(),d.navigate({environment:this.environment,url:"/"}))},this.handleContentClassificationProceed=()=>{const{currentBlockStore:e}=V.default.state;e&&(rn.a.bypassPage(e.id),Q.ab(this.environment))}}willMount(){Te.c.state.open&&Bt.a({environment:this.environment,presenceStore:Te.c.state.presenceStore}),Bt.a({environment:this.environment,presenceStore:V.default.state.presenceStore})}didMount(){super.didMount(),Lt.default.setInitialRenderCompleted()}renderComponent(){const{publicPageData:e}=this.props;if(!this.didPerformAction&&e){if(It.a.state.online){if("onboarding"===this.props.route.name)return this.renderWorkspaceNoAccess(e,"onboarding");if(e.spaceName){const{currentUserRootStore:t,currentBlockStore:n}=V.default.state,o=n?n.getValue():void 0;if(o&&Object(bn.C)(o))return this.renderContentClassificationBlock();if(this.isLoggedIn()){if(!t||!t.isReady())return;const n=t.getSpaceViewStores();if(!n.every(e=>e.isReady()))return;return n.find(t=>t.getSpaceId()===e.spaceId)&&"page"===this.props.route.name?this.renderWorkspacePrivatePageNoAccess(e):e.canJoinSpace?(this.performJoinWorkspaceRedirect(e),null):this.renderWorkspaceNoAccess(e,"workspace")}return this.renderLoggedOutWorkspace(e)}return this.render404()}return this.renderOffline()}}renderOffline(){return Q.ud(this.environment,{type:"offline"}),Q.uc(this.environment,{type:"page_error"}),r.a.createElement("div",{style:this.getStyle()},r.a.createElement("div",{style:this.getGreetingStyle()},r.a.createElement(a.FormattedMessage,{id:"fullPageError.offlineError.message",defaultMessage:"Oops, you seem to be offline. Please go online to view this page."}),this.renderLoggedInFooter()))}renderContentClassificationBlock(){const e=this.isLoggedIn();return Q.ud(this.environment,{type:"content_classification_block"}),r.a.createElement("div",{style:this.getStyle()},r.a.createElement(fn,{type:fn.Type.Unsafe}),r.a.createElement("div",{style:this.getGreetingStyle()},r.a.createElement(a.FormattedMessage,{id:"fullPageError.unsafePageError.title",defaultMessage:"This page has been flagged as unsafe"})),r.a.createElement(Re.a,{isSmall:!1,isSecondaryColor:!0,isMultiline:!0,style:{textAlign:"center",marginBottom:18,maxWidth:440}},r.a.createElement(a.FormattedMessage,{id:"fullPageError.unsafePageError.message",defaultMessage:"This page may contain spam, phishing, illegal, or inappropriate content. If you received this link from an unknown source, we suggest you to close this tab. <proceedanywaylink>Proceed anyway</proceedanywaylink>",values:{proceedanywaylink:(...e)=>r.a.createElement(Qe.a,{onClick:this.handleContentClassificationProceed},e)}})),e&&this.renderNavigateButton("blue"),!e&&this.renderLoggedOutFooter())}renderWorkspaceNoAccess(e,t){if("onboarding"===t)Q.ud(this.environment,{type:"onboarding_error"});else if(Q.ud(this.environment,{type:"team_no_access"}),this.isRequestAccessEnabled())return this.renderRequestAccessLoggedInPrivatePage(e);return r.a.createElement("div",{style:this.getStyle()},r.a.createElement(fn,{type:fn.Type.NoAccess,publicPageData:e}),r.a.createElement("div",{style:this.getGreetingStyle()},r.a.createElement(a.FormattedMessage,{id:"fullPageError.accessNotAllowed.message",defaultMessage:"You do not have access to {workspaceName}. Please contact an admin to add you as a member.",values:{workspaceName:r.a.createElement("span",{style:On.headerBoldStyle},e.spaceName)}})),this.renderNavigateButton("blue"),this.renderLoggedInFooter())}renderWorkspacePrivatePageNoAccess(e){if(Q.ud(this.environment,{type:"team_page_no_access"}),this.isRequestAccessEnabled())return this.renderRequestAccessLoggedInPrivatePage(e);let t;const{currentBlockStore:n}=V.default.state;if(e.ownerUserId&&n){t=Object(it.c)(n,{table:Tt.a,id:e.ownerUserId}).getValue()}return r.a.createElement("div",{style:this.getStyle()},r.a.createElement(fn,{type:fn.Type.NoAccess,publicPageData:e}),r.a.createElement("div",{style:this.getGreetingStyle()},r.a.createElement(a.FormattedMessage,{id:"fullPageError.pageIsPrivate.message",defaultMessage:"This is a private page in {workspaceName}. {hasOwner, select, true {Please contact {ownerName} ({ownerEmail}) to invite you to collaborate.} other {Please contact the page owner to invite you to collaborate.}}",values:{hasOwner:void 0!==t,workspaceName:r.a.createElement("span",{style:On.headerBoldStyle},e.spaceName),ownerName:Object(Tt.e)(t),ownerEmail:t?t.email:""}})),this.renderNavigateButton("blue"),this.renderLoggedInFooter())}renderRequestAccessLoggedInPrivatePage(e){const t=e.canRequestAccess;return r.a.createElement("div",{style:this.getStyle()},r.a.createElement("div",null,F.a.notionLogoStroked({width:50,height:50,marginBottom:16})),r.a.createElement("div",{style:{...this.getGreetingStyle(),fontWeight:J.a.fontWeight.semibold,marginBottom:6}},t?r.a.createElement(a.FormattedMessage,{id:"fullPageError.canRequestAccess.title",defaultMessage:"No access to this page"}):r.a.createElement(a.FormattedMessage,{id:"fullPageError.noAccess.title",defaultMessage:"Page not found"})),r.a.createElement("div",{style:{...this.getGreetingStyle(),color:this.theme.mediumTextColor,fontWeight:J.a.fontWeight.regular,lineHeight:1.4}},t?r.a.createElement(a.FormattedMessage,{id:"fullPageError.canRequestAccess.message",defaultMessage:"You can access this page if someone approves your request."}):r.a.createElement(a.FormattedMessage,{id:"fullPageError.cannotRequestAccess.message",defaultMessage:"Either this page doesn't exist or you don't have permission to access it."})),this.renderRequestAccessActions(),this.renderLoggedInFooter())}renderLoggedOutWorkspace(e){const{device:t}=this.environment;return Q.ud(this.environment,{type:"team_login"}),r.a.createElement(_t.a,{capture:!0,render:n=>r.a.createElement(nn,{analyticsName:"team_login",hideNavItems:!0,hideNotificationBanner:!0,hideFooter:!0},r.a.createElement("div",Object.assign({style:this.getFrontBaseStyle()},n),r.a.createElement(fn,{type:fn.Type.NoAccess,publicPageData:e}),r.a.createElement("div",{style:this.getGreetingStyle()},r.a.createElement(a.FormattedMessage,{id:"fullPageError.loggedOut.message",defaultMessage:"Welcome to {workspaceName} on Notion.",values:{workspaceName:r.a.createElement("span",{style:On.headerBoldStyle},e.spaceName)}})),r.a.createElement(kt.a,{emailLabelType:"email",style:On.loginStyle,emailPasscodePlaceholderType:"enter_code",emailInputAutoFocus:!0}),t.isMobile&&!t.isReactNative&&r.a.createElement(o.Fragment,null,r.a.createElement("div",{style:{height:1,width:"100vw",background:this.theme.regularDividerColor,marginTop:36,marginBottom:36}}),r.a.createElement(Ge.a,{style:{width:280},isLarge:!0,onClick:()=>{d.openInNativeApp({url:window.location.href,environment:this.environment})}},t.isIOS?F.a.appleLogo(On.storeIconStyle):F.a.googlePlay(On.storeIconStyle)," ",r.a.createElement(a.FormattedMessage,{id:"fullPageError.openInMobileAppButton.label",defaultMessage:"Open in mobile app"})),r.a.createElement(Ct.a,{href:t.isIOS?xt.d.appStore:xt.d.playStore,external:!0,innerStyle:{marginTop:16}},r.a.createElement(Re.a,{isSmall:!0,style:{textDecoration:"underline",fontSize:14}},r.a.createElement(a.FormattedMessage,{id:"fullPageError.downloadMobileAppButton.label",defaultMessage:"Get mobile app"})))),this.renderLoggedOutFooter()))})}render404(){const{device:e}=this.environment,t=this.isLoggedIn();return Q.ud(this.environment,{type:"404"}),r.a.createElement("div",null,this.renderTopbar(),r.a.createElement("div",{style:{...this.getFrontBaseStyle(),marginTop:e.isMobile?0:"12vh",justifyContent:"start"}},r.a.createElement(fn,{type:fn.Type.NotFound}),r.a.createElement("div",{style:this.getGreetingStyle()},r.a.createElement(a.FormattedMessage,{id:"fullPageError.contentDoesNotExist.title",defaultMessage:"This content does not exist"})),!t&&this.renderLoggedOutFooter(),t&&this.renderNavigateButton("blue"),this.renderDidivider(),r.a.createElement(Re.a,{isSmall:!0,style:{textAlign:"center"}},r.a.createElement(a.FormattedMessage,{id:"fullPageError.contentDoesNotExist.message",defaultMessage:"Having trouble? <helplink>Send us a message</helplink>",values:{helplink:(...e)=>r.a.createElement(Qe.a,{onClick:this.handleHelpButtonClick},e)}}))))}renderDidivider(){return r.a.createElement(wt.a,{size:48,innerStyle:{maxWidth:280}})}renderRequestAccessActions(){const{publicPageData:e}=this.props;if(!Object(vn.f)(this.environment))return this.renderNavigateButton("blue");if(!e)return this.renderNavigateButton("blue");if(!e.canRequestAccess)return this.renderNavigateButton("blue");const{currentBlockStore:t}=V.default.state;return t?r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{marginTop:8}},r.a.createElement(Pn,{blockId:t.id})),r.a.createElement("div",{style:{width:10,height:10}}),this.renderNavigateButton("white")):this.renderNavigateButton("blue")}renderNavigateButton(e){const{currentUserRootStore:t}=V.default.state,{isCreatingSpace:n}=this.stores.store.state,o=t=>"blue"===e?r.a.createElement(Ge.a,Object.assign({},t)):r.a.createElement(Mn.a,Object.assign({backgroundColor:this.theme.whiteButtonBackground},t,{style:{fontWeight:J.a.fontWeight.medium,height:"auto",...t.style}}));return"onboarding"===this.props.route.name?r.a.createElement(o,{isLarge:!0,onClick:this.handleReturnToOnboarding},r.a.createElement(a.FormattedMessage,{defaultMessage:"Back to onboarding",id:"fullPageError.returnToOnboardingButton.label"})):t&&0===t.getSpaceViewIds().length||n?r.a.createElement(o,{isLarge:!0,onClick:this.handleCreateAccountClick,disabled:n},r.a.createElement(a.FormattedMessage,{id:"fullPageError.createOrJoinWorkspaceButton.label",defaultMessage:"Create or join a workspace"})):r.a.createElement(o,{isLarge:!0,style:{marginTop:8},onClick:this.handleGoBackClick},r.a.createElement(a.FormattedMessage,{id:"fullPageError.backToMyContentButton.label",defaultMessage:"Back to my content"}))}renderLoggedInFooter(){const e=Object(Be.g)(this.environment);let t=void 0;return t=Ot.transactionQueue.hasTasks()?r.a.createElement(Re.a,{isSmall:!0,isMultiline:!0,style:{marginTop:4}},r.a.createElement(a.FormattedMessage,{id:"fullPageError.sendMessageForHelp.message",defaultMessage:"<sendmessagelink>Send us a message</sendmessagelink> for help.",values:{sendmessagelink:(...e)=>r.a.createElement(Qe.a,{onClick:this.handleHelpButtonClick},e)}})):this.isRequestAccessEnabled()?2===this.environment.currentUser.loggedInUserIds.length?r.a.createElement(Re.a,{isSmall:!0,isMultiline:!0,style:{marginTop:4}},r.a.createElement(a.FormattedMessage,{id:"fullPageError.wrongAccountRequestAccessSwitchAccount.message",defaultMessage:"You may need to <switchlink>switch accounts</switchlink> or <loginlink>log in</loginlink> with a different email.",values:{loginlink:(...e)=>on.b(this.environment)?r.a.createElement(Qe.a,{onClick:this.handleGoBackClick},e):r.a.createElement(Qe.a,{href:xt.d.logout,onClick:()=>yt.logout(this.environment)},e),switchlink:(...e)=>r.a.createElement(Qe.a,{onClick:this.handleSwitchAccountClick},e)}})):r.a.createElement(Re.a,{isSmall:!0,isMultiline:!0,style:{marginTop:4}},r.a.createElement(a.FormattedMessage,{id:"fullPageError.wrongAccountRequestAccess.message",defaultMessage:"You might need to <loginlink>log in</loginlink> with a different email.",values:{loginlink:(...e)=>on.b(this.environment)?r.a.createElement(Qe.a,{onClick:this.handleGoBackClick},e):r.a.createElement(Qe.a,{href:xt.d.logout,onClick:()=>yt.logout(this.environment)},e)}})):r.a.createElement(Re.a,{isSmall:!0,isMultiline:!0,style:{marginTop:4}},r.a.createElement(a.FormattedMessage,{id:"fullPageError.wrongAccount.message",defaultMessage:"You might need to <loginlink>log in</loginlink> with a different email, or contact the page's owner to request access to this page.",values:{loginlink:(...e)=>on.b(this.environment)?r.a.createElement(Qe.a,{onClick:this.handleGoBackClick},e):r.a.createElement(Qe.a,{href:xt.d.logout,onClick:()=>yt.logout(this.environment)},e)}})),r.a.createElement("div",{style:{textAlign:"center"}},this.renderDidivider(),r.a.createElement(Re.a,{isSmall:!0,isMultiline:!0,style:{marginTop:4}},r.a.createElement(a.FormattedMessage,{id:"fullPageError.wrongLoggedInUserError.message",defaultMessage:"You're currently logged in as {currentlyLoggedInUser}",values:{currentlyLoggedInUser:r.a.createElement("span",{style:{color:this.theme.regularTextColor}},e&&e.email)}})),t)}renderLoggedOutFooter(){return r.a.createElement("div",{style:On.loggedOutFooterWrapStyle},r.a.createElement(Pt.a,{href:xt.c.product,external:!0},r.a.createElement(Pe.a,{isGray:!0},F.a.notionLogo({width:16,height:16,marginRight:8}),r.a.createElement(a.FormattedMessage,{id:"fullPageError.whatIsNotionButton.label",defaultMessage:"What is Notion?"}))),r.a.createElement(Pe.a,{onClick:this.handleHelpButtonClick,style:{marginLeft:4},isGray:!0},r.a.createElement(a.FormattedMessage,{id:"fullPageError.sendMessageButton.label",defaultMessage:"Send us a message"})),r.a.createElement(Pt.a,{href:xt.d.termsAndPrivacy,external:!0,style:{marginLeft:4}},r.a.createElement(Pe.a,{isGray:!0},r.a.createElement(a.FormattedMessage,{id:"fullPageError.termsAndPrivacyButton.label",defaultMessage:"Terms"}))))}renderTopbar(){const{isMobile:e}=this.environment.device;return r.a.createElement("div",{style:{display:"flex",alignItems:"center",maxWidth:1300,height:80,paddingLeft:20,paddingRight:20}},F.a.notionLogoStroked({width:e?28:30,height:e?28:30,marginRight:10,flexShrink:0}),r.a.createElement("div",{style:{fontWeight:J.a.fontWeight.medium,fontSize:16}},"Notion"))}isLoggedIn(){return!!this.environment.currentUser.id}performJoinWorkspaceRedirect(e){this.didPerformAction=!0;const{currentUserRootStore:t,currentUserSettingsStore:n}=V.default.state;if(t&&n&&e.spaceId){const o=e.spaceId;mt.k({environment:this.environment,userRootStore:t,spaceId:o,navigate:!0,analyticsFrom:"page_error",userSettingsStore:n})}}isRequestAccessEnabled(){return Object(vn.f)(this.environment)}getStyle(){const{device:e}=this.environment;return{width:"100vw",paddingLeft:e.isMobile?16:30,paddingRight:e.isMobile?16:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}getFrontBaseStyle(){const{device:e}=this.environment;return{width:"100vw",paddingLeft:e.isMobile?16:30,paddingRight:e.isMobile?16:30,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",paddingTop:e.isTablet?"20vh":"12vh"}}getGreetingStyle(){const{device:e}=this.environment;return{fontSize:e.isMobile?18:20,marginBottom:10,textAlign:"center",color:this.theme.regularTextColor,fontWeight:500,maxWidth:Object(vn.f)(this.environment)?350:430}}}On.headerBoldStyle={fontWeight:J.a.fontWeight.bold},On.loginStyle={maxWidth:280},On.storeIconStyle={width:14,height:14,marginRight:6,flexShrink:0},On.loggedOutFooterWrapStyle={display:"flex",justifyContent:"center",marginBottom:16,marginTop:16,flexWrap:"wrap"};var Bn=On,Ln=(n("E9XD"),n("6fvo"));var Rn=n("/YYm"),Dn=n("S26v"),An=n("622O"),jn=n("di7S"),Fn=n("Wae9"),Vn=n("5Nka"),Nn=n("GJWe"),Un=n("D2XV"),zn=n("vl8/"),Xn=n("tzmq");class Yn extends b.a{constructor(){super(...arguments),this.updateBrowserState=()=>{const{device:e}=this.environment,t=this.computedStore.state;if(!t)return;const{url:n,title:o,iconEmoji:r,iconImage:a}=t,{intl:i}=this.props;o&&document.title!==o&&(e.isSafari&&r?document.title="".concat(r," ").concat(o):document.title=o),n&&Dn.f(n)!==Dn.f(window.location.href)&&window.history.replaceState(window.history.state,void 0,n);const s=document.querySelector("link[rel='shortcut icon']");if(!e.isElectron&&s){const e="local"===f.default.env?Vn.a.images.faviconLocalIco:"development"===f.default.env?Vn.a.images.faviconDevIco:Vn.a.images.faviconIco;if(r)r!==this.lastSetIconString&&(this.lastSetIconString=r,async function(e,t){const n=document.createElement("canvas");n.width=32,n.height=32;const o=n.getContext("2d");if(o.font="normal normal normal 32px/32px sans",o.textAlign="center",o.textBaseline="middle","raw"===t)return o.fillText(e,n.width/2,n.height/2+4),n.toDataURL("image/png");const r=document.createElement("img");r.src=Object(Ln.c)(t);const a=Object(Ln.b)(e);if(!a)return;const i=Object(Ln.d)(a);return new Promise(e=>{r.onload=()=>{o.drawImage(r,i.x,i.y,i.size,i.size,0,0,32,32),e(n.toDataURL("image/png"))},r.onerror=()=>{e("")}})}(r,Object(Xn.a)(this.environment)).then(e=>{s.href=e}));else if(a){const{icon:e,...t}=a,n=jn.a({url:e,width:100,permissionRecord:t.pointer,baseUrl:f.default.baseURL,fullyQualified:!1,userId:this.environment.currentUser.id});n!==this.lastSetIconString&&(this.lastSetIconString=n,Ot.transactionQueue.awaitRecordTransaction(t.pointer).then(()=>{s.href=n}))}else e!==this.lastSetIconString&&(s.href=e,this.lastSetIconString=e)}u.electronApi&&u.electronApi.setWindowTitle&&u.electronApi.setWindowTitle(o||i.formatMessage({defaultMessage:"Untitled",id:"pageTitle.desktopAppTitle.untitledPage"}))},this.updateBrowserStateDebounced=Xe.a.debounce(this.updateBrowserState,500),this.computedStore=this.createComputedStore(()=>{const e=V.default.state.currentBlockStore;if(!e||!e.state.ready)return;const{RouterStore:t}=this.environment,n=t.state.route;if("page"!==n.name||n.blockId!==e.id)return;const o=Fn.a.state.results.map(e=>e.unread.mentions).reduce((e,t)=>e+t,0),r=e.getTitleStore();let a;if(r){if(a=Nn.k({intl:zn.default.getIntl(),textValue:r.getValue(),userTimeZone:Un.m,getRecordValue:e.getRecordValue})||this.props.intl.formatMessage({id:"pageTitle.untitledPlaceholder",defaultMessage:"Untitled"}),"collection"===r.table){const t=e.getValue();if(t&&Object(bn.q)(t)&&t.view_ids.length>1){const e=V.default.state.currentCollectionViewStore;if(e){const t=e.getValue();t&&t.name&&(a="".concat(a," | ").concat(t.name))}}}a=Object(Ln.g)(a.slice(0,100)),vn.g(this.environment,e)||(o>9?a="(9+) ".concat(a):o>0&&(a="(".concat(o,") ").concat(a)))}const i=Object(Rn.a)({store:e,fullyQualified:!1,scrollToBlockId:n.scrollToBlockId,peekViewBlockId:n.peekViewBlockId,collectionViewId:n.collectionViewId,discussionId:n.discussionId,showMoveTo:n.showMoveTo,saveParent:n.saveParent});let s,l;const c=e.getIcon();return c&&Object(an.a)(c.icon)?s=c.icon:c&&An.l(c.icon)&&(l=c),{title:a,url:i,iconEmoji:s,iconImage:l}})}willMount(){this.savedTitle=document.title,this.computedStore.addListener(this.updateBrowserStateDebounced)}willUnmount(){this.computedStore.removeListener(this.updateBrowserStateDebounced),document.title=this.savedTitle}}var Hn=Object(a.injectIntl)(Yn),qn=n("O5tY"),Wn=n("2ZkR");class Gn extends b.a{constructor(){super(...arguments),this.unlock=!1,this.handleSuccess=()=>{this.unlock=!0,this.forceUpdate()}}willMountOrUpdate(){this.environment.device.isDesktop?this.loadKonami():this.unloadKonami()}loadKonami(){var e,t;this.konami||(this.konami=(e=this.handleSuccess,(t={addEvent:function(e,t,n){e.addEventListener(t,n,!1)},removeEvent:function(e,t,n){e.removeEventListener(t,n)},input:"",pattern:"38384040373937396665",keydownHandler:function(n){t.input+=n.keyCode,t.input.length>t.pattern.length&&(t.input=t.input.substr(t.input.length-t.pattern.length)),t.input===t.pattern&&(e(),t.input="")},load:function(){this.addEvent(document,"keydown",this.keydownHandler)},unload:function(){this.removeEvent(document,"keydown",this.keydownHandler)}}).load(),t))}unloadKonami(){this.konami&&(this.konami.unload(),this.konami=void 0)}renderComponent(){if(this.unlock)return r.a.createElement("img",{className:"nyan",style:{position:"fixed",top:"calc(50vh - 100px)",zIndex:1e3,left:"50%",animationName:"leftoright",animationDuration:"9s",animationIterationCount:"infinite",pointerEvents:"none",userSelect:"none"},src:Vn.a.images.nyancatGif})}}var Zn=Gn;class Kn extends Ye.a{getInitialState(){return{open:!0}}}var Jn=new Kn;const Qn=({percentComplete:e=.33})=>r.a.createElement("div",{style:{height:4,width:288,borderRadius:10,backgroundColor:"#E7E6E5"}},r.a.createElement("div",{style:{height:4,width:"".concat(288*e,"px"),borderRadius:10,position:"relative",backgroundColor:"#2D9CDB"}}));class $n extends b.a{renderComponent(){return r.a.createElement("div",null,F.a.onboardingUseCaseBook({height:24,width:24}),r.a.createElement("div",{style:this.getHeaderStyle()},this.getHeaderMessage()),r.a.createElement(Qn,Object.assign({},this.props)))}getHeaderMessage(){switch(this.props.useCase){case"wiki":return r.a.createElement(a.FormattedMessage,{id:"templateChecklistHeader.useCaseHeader.wiki",defaultMessage:"Getting started with wikis & docs"});case"doc_notes":case"notes":return r.a.createElement(a.FormattedMessage,{id:"templateChecklistHeader.useCaseHeader.notes",defaultMessage:"Getting started with notes"});case"bookmarks":return r.a.createElement(a.FormattedMessage,{id:"templateChecklistHeader.useCaseHeader.databases",defaultMessage:"Getting started with databases"});case"project_management":return r.a.createElement(a.FormattedMessage,{id:"templateChecklistHeader.useCaseHeader.projectManagement",defaultMessage:"Getting started with projects & tasks"});default:return r.a.createElement(a.FormattedMessage,{id:"templateChecklistHeader.useCaseHeader.default",defaultMessage:"Getting started with Notion"})}}getHeaderStyle(){return{paddingTop:12,paddingBottom:12,color:this.theme.regularTextColor,fontWeight:J.a.fontWeight.semibold,fontSize:17,lineHeight:1.4}}}var eo=$n,to=n("3DNc");class no extends b.a{constructor(){super(...arguments),this.showingMore=new yn.a(!1)}renderComponent(){const{title:e,description:t}=this.props;return r.a.createElement("div",{style:{paddingTop:12,display:"flex",flexDirection:"row",width:"100%",...this.showingMore.get()?{borderBottom:"1px solid #ECEBEA",marginBottom:12,paddingBottom:12}:{}}},r.a.createElement("div",{style:{paddingRight:10}},r.a.createElement(to.a,{size:22,checked:this.props.checked,onClick:()=>this.props.onClick(),round:!0,fill:m.g.white})),r.a.createElement("div",{style:{width:"100%",paddingRight:"14px"}},r.a.createElement("div",{style:{fontSize:14,fontWeight:J.a.fontWeight.semibold,display:"flex",justifyContent:"space-between",alignItems:"center"}},e,r.a.createElement("span",{onClick:()=>this.showingMore.set(!this.showingMore.get())},this.showingMore.get()?F.a.chevronDown({height:11,width:11,display:"inline"}):F.a.chevronRight({height:11,width:11,display:"inline"}))),this.showingMore.get()&&r.a.createElement("div",{style:{fontSize:14,color:this.theme.mediumTextColor}},t)))}}var oo=no;const ro=Object(a.defineMessages)({"7e89f436-7aac-4f66-b0a6-6e65ec868d2a.a.title":{defaultMessage:"Import your workspace (A)",id:"templateChecklist.quickNote.a.title"},"7e89f436-7aac-4f66-b0a6-6e65ec868d2a.a.description":{defaultMessage:"See your docs and wiki in action (A)",id:"templateChecklist.quickNote.a.description"},"7e89f436-7aac-4f66-b0a6-6e65ec868d2a.b.title":{defaultMessage:"Import your workspace (B)",id:"templateChecklist.quickNote.b.title"},"7e89f436-7aac-4f66-b0a6-6e65ec868d2a.b.description":{defaultMessage:"See your docs and wiki in action (B)",id:"templateChecklist.quickNote.b.description"},"7e89f436-7aac-4f66-b0a6-6e65ec868d2a.c.title":{defaultMessage:"Import your workspace (C)",id:"templateChecklist.quickNote.c.title"},"7e89f436-7aac-4f66-b0a6-6e65ec868d2a.c.description":{defaultMessage:"See your docs and wiki in action (C)",id:"templateChecklist.quickNote.c.description"}});function ao(e){return"templateChecklist--".concat(e,"--visible")}var io=n("FUUC");class so extends b.a{constructor(){super(...arguments),this.completed=new yn.a(!1),this.renderStepContent=e=>r.a.createElement("div",null,r.a.createElement("div",{style:{paddingBottom:8,width:"100%"}},r.a.createElement(eo,{percentComplete:(e.steps_completed||[]).length/e.steps.length,useCase:io.g})),e.steps.map(t=>{const{title:n,description:o}=function(e,t){const n=ro["".concat(e,".").concat(t,".title")],o=ro["".concat(e,".").concat(t,".description")];if(!n||!o)throw new Error("No title or description for ".concat(e," at step ").concat(t));return{title:n,description:o}}(e.copied_from,t),i=this.getTemplateChecklistRecord();if(!i)return;const s=i.getValue();return s?r.a.createElement(oo,{title:r.a.createElement(a.FormattedMessage,Object.assign({},n)),description:r.a.createElement(a.FormattedMessage,Object.assign({},o)),checked:(s.steps_completed||[]).includes(t),onClick:()=>{!function(e){const{environment:t,record:n,step:o}=e,r=n.getValue();if(!r)return;const a=r.steps_completed||[],i={steps_completed:a.includes(o)?Xe.a.filter(a,e=>e!==o):Xe.a.uniq([...a,o])};pe.createAndCommit(t,e=>{ue.d({store:n,data:i,transaction:e})})}({environment:this.environment,record:i,step:t})}}):void 0})),this.renderCompleted=()=>r.a.createElement("div",{style:this.getCompletedContainerStyle()},r.a.createElement("img",{style:{width:165,height:80},src:Vn.a.images.feedbackThankYouPng}),r.a.createElement("div",{style:this.getCompletedTitleStyle()},r.a.createElement(a.FormattedMessage,{defaultMessage:"You're done!",id:"templateChecklist.completed.header"})),r.a.createElement("div",{style:this.getCompletedDescriptionStyle()},r.a.createElement(a.FormattedMessage,{defaultMessage:"For more inspirations, go to Notion Guides to sharpen your skills and explore new ways to use Notion.",id:"templateChecklist.completed.description"}))),this.handleCancel=()=>{this.props.onCancel()},this.flexCenteredStyle={display:"flex",alignItems:"center",flexDirection:"column"}}renderComponent(){return r.a.createElement(O.a,{isVisible:Jn.state.open,enterAnimationStyle:{opacity:1,scale:1},exitAnimationStyle:{opacity:0,scale:.95},render:()=>r.a.createElement("div",{style:this.getContainerStyle()},this.renderCancel(),this.renderStep())})}renderCancel(){return r.a.createElement(N.a,{onClick:this.handleCancel,style:this.getCancelStyle(),hoveredStyle:{background:this.theme.buttonPressedBackground}},F.a.closeSmall({width:14,fill:this.theme.mediumTextColor}))}renderStep(){const e=this.getTemplateChecklist();if(!e)return;const t=(e.steps_completed||[]).length!==e.steps.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{isVisible:t,enterAnimationStyle:{opacity:1},exitAnimationStyle:{opacity:0},onAnimationEnd:()=>{this.completed.set(!0),Xe.a.delay(()=>{Jn.setState({open:!1}),this.props.onComplete()},2e3)},render:()=>this.renderStepContent(e)}),r.a.createElement(O.a,{isVisible:!t&&this.completed.get(),enterAnimationStyle:{opacity:1},exitAnimationStyle:{opacity:0},render:this.renderCompleted}))}getTemplateChecklist(){const e=this.getTemplateChecklistRecord();if(e)return e.getValue()}getTemplateChecklistRecord(){return this.props.templateChecklistStore.state.templateChecklistRecord}getContainerStyle(){const{device:e}=this.environment;return{...this.flexCenteredStyle,cursor:"default",padding:16,textAlign:"left",justifyContent:"start",background:this.theme.popoverBackground,borderRadius:3,boxShadow:this.theme.lightBoxShadow,position:"absolute",bottom:65+e.scrollbarWidth,right:16+e.scrollbarWidth,width:325,height:400,zIndex:g.g,clipPath:"inset(-10px -10px -10px -10px)"}}getCancelStyle(){return{position:"absolute",top:"10px",right:"10px",background:this.theme.buttonHoveredBackground,borderRadius:"100%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center"}}getCompletedContainerStyle(){return{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",textAlign:"center"}}getCompletedTitleStyle(){return{color:this.theme.regularTextColor,fontWeight:J.a.fontWeight.semibold,fontSize:14}}getCompletedDescriptionStyle(){return{color:this.theme.mediumTextColor,fontSize:12}}}var lo=so,co=n("ZTW6");class uo extends Ye.a{getInitialState(){return{step:"list",templateChecklistRecord:void 0}}}var po=uo,ho=n("Catn");class mo extends Ye.a{getInitialState(){return{templateChecklist:void 0,templateChecklistRecord:void 0,completed:!1,hide:!1}}}var fo=mo;class go extends b.a{constructor(){super(...arguments),this.storeTypes={templateChecklistButtonStore:fo},this.handleCancel=()=>{const{templateChecklistRecord:e}=this.stores.templateChecklistButtonStore.state;e&&(!function(e){const{environment:t,record:n}=e,o={opt_out:!0};pe.createAndCommit(t,e=>{ue.d({store:n,data:o,transaction:e})})}({environment:this.environment,record:e}),Jn.setState({...Jn.state,open:!1}))}}renderComponent(){const{currentBlockStore:e,currentSpaceStore:t}=V.default.state;if(!e||!t)return;const n=t.getValue(),o=e.getValue();return o&&n?r.a.createElement(ye.a,{throttle:1e3,request:{spaceId:n.id,blockId:o.id},performRequest:async({blockId:e,spaceId:t})=>{const n=await ve.getTemplateChecklistForBlock(this.environment,{blockId:e,spaceId:t});if("success"===n.type){const{templateChecklistId:e}=n.data;if(!e)return;const t=new it.d({environment:this.environment,pointer:{table:co.a,id:e}}),o=t.getValue();if(this.stores.templateChecklistButtonStore.setState({...this.stores.templateChecklistButtonStore.state,templateChecklist:o,templateChecklistRecord:t}),o){const e=ho.a.get({userId:this.environment.currentUser.id,key:ao(o.id)});this.stores.templateChecklistButtonStore.setState({...this.stores.templateChecklistButtonStore.state,hide:"boolean"==typeof e&&!e})}}},render:(e,t,n)=>{if(!n)return;const{templateChecklist:o,templateChecklistRecord:a,completed:i}=this.stores.templateChecklistButtonStore.state;if(!o||!a||(o.steps_completed||[]).length===o.steps.length||i)return;const s=new po;return s.setState({...s.state,templateChecklistRecord:a}),this.stores.templateChecklistButtonStore.setState({...this.stores.templateChecklistButtonStore.state,templateChecklistRecord:a}),a.state&&a.state.value&&a.state.value.opt_out?void 0:r.a.createElement("div",null,r.a.createElement(N.a,{style:this.getRoundButtonStyle(),hoveredStyle:{background:this.theme.whiteButtonHoveredBackground},pressedStyle:{background:this.theme.whiteButtonPressedBackground},onClick:()=>{const e=this.stores.templateChecklistButtonStore.state.hide;this.stores.templateChecklistButtonStore.setState({...this.stores.templateChecklistButtonStore.state,hide:!e}),this.setVisibilityLocalStorage(e,o.id)}},F.a.onboardingUseCaseBook({height:18}),this.stores.templateChecklistButtonStore.state.hide&&r.a.createElement(N.a,{onClick:this.handleCancel,style:this.getCancelStyle(),hoveredStyle:{background:this.theme.buttonPressedBackground}},F.a.closeSmall({width:14,fill:this.theme.mediumTextColor}))),!this.stores.templateChecklistButtonStore.state.hide&&r.a.createElement(lo,{templateChecklistStore:s,onComplete:()=>this.stores.templateChecklistButtonStore.setState({...this.stores.templateChecklistButtonStore.state,completed:!0}),onCancel:()=>{this.setVisibilityLocalStorage(!1,o.id),this.stores.templateChecklistButtonStore.setState({...this.stores.templateChecklistButtonStore.state,hide:!0})}}))}}):void 0}setVisibilityLocalStorage(e,t){ho.a.set({userId:this.environment.currentUser.id,key:ao(t),value:e})}getRoundButtonStyle(){const{device:e}=this.environment;return{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",background:this.theme.buttonBackground,bottom:16+e.scrollbarWidth,right:60+e.scrollbarWidth,width:36,height:36,borderRadius:"100%",boxShadow:this.theme.lightBoxShadow,zIndex:g.g,opacity:Be.p.state?0:1,transition:"\n\t\t\t\topacity ".concat(H.a.transitionDuration,"ms,\n\t\t\t\tcolor ").concat(H.a.transitionDuration,"ms\n\t\t\t")}}getCancelStyle(){return{position:"absolute",top:-2,right:-1,background:this.theme.buttonHoveredBackground,borderRadius:"100%"}}}var bo=go,vo=n("Ggib");class yo extends b.a{constructor(){super(...arguments),this.appRenderState=this.createComputedStore(()=>Be.a(this.environment)),this.handleFrameBlockerClick=()=>{E.close()},this.showHelpButtonStore=this.createComputedStore(()=>{if(!this.environment.currentUser.isLoggedIn())return!1;if(this.environment.device.isMobile)return!1;const{currentBlockStore:e}=V.default.state;return!!e&&!Object(vn.g)(this.environment,e)}),this.showTemplateChecklistStore=this.createComputedStore(()=>{if(!this.environment.currentUser.isLoggedIn())return!1;if(this.environment.device.isMobile)return!1;const{currentBlockStore:e}=V.default.state;return!!e&&!("on"!==Wn.default.getGroup(this.environment,"template-checklist"))}),this.frameBlockerStyle={position:"absolute",top:0,left:Object(re.c)(this.environment),right:0,bottom:0,zIndex:g.l}}renderComponent(){const{isElectronMac:e,isMobile:t}=this.environment.device,{currentBlockStore:n,currentSpaceStore:o,currentUserRootStore:a,currentCollectionViewStore:i,currentUserSettingsStore:s}=V.default.state,{publicPageData:l}=qn.a.state,c=this.environment.currentUser.isLoggedIn(),d=oe.c.state,u=Object(re.f)(this.environment),{state:{shouldShowSidebar:p,shouldShowFrame:h,shouldShowError:m}}=this.appRenderState;return r.a.createElement(k,{style:this.getStyle()},p&&!t&&r.a.createElement(gt,{isElectronMac:e,isExpanded:u}),p&&t&&r.a.createElement(U.LazySidebarMobile,null),n&&h&&r.a.createElement(C.a,{routerState:this.props.routerState,store:n,collectionViewStore:i}),m&&l&&r.a.createElement(Bn,{route:this.props.routerState.route,publicPageData:l}),p&&!Object(re.a)(this.environment)&&d&&this.renderMobileSidebarFrameBlocker(),this.showHelpButtonStore.state&&r.a.createElement(vt.a,{isMobile:!1}),this.showTemplateChecklistStore.state&&r.a.createElement(bo,null),this.shouldShowMobileBottomBar()&&c&&n&&o&&r.a.createElement(U.LazyMobileBottomBar,{store:n}),!t&&r.a.createElement(bt.a,{route:this.props.routerState.route}),"rendered"===V.default.state.renderPhase&&r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(U.LazyMoveToMenuRenderer,null),r.a.createElement(U.LazyCustomizePageMenuRenderer,null),r.a.createElement(U.LazyImportModal,null),r.a.createElement(U.LazyExportModal,null),r.a.createElement(U.LazyPageTemplateModal,null),r.a.createElement(U.LazyGoogleAuthPromptModal,null),r.a.createElement(U.LazyStudentNotEligibleModal,null),r.a.createElement(U.LazySpacePermissionSettingsTrialModal,null),r.a.createElement(U.LazyEnterpriseContactModal,null),o&&ce.default.state.data&&vo.a.state.open&&r.a.createElement(U.LazySpaceSubscriptionUpgradeModal,{spaceStore:o,data:ce.default.state.data}),s&&o&&n&&r.a.createElement(U.LazyCsatPopup,{userSettingsStore:s,spaceStore:o,blockStore:n})),r.a.createElement(U.LazyReportPageModal,null),n&&r.a.createElement(U.LazySearch,{parentStore:a||n}),r.a.createElement(U.LazyForkPagePopup,null)),r.a.createElement(Hn,null),"rendered"===V.default.state.renderPhase&&r.a.createElement(U.LazyAppComponents,null),r.a.createElement(Zn,null))}renderMobileSidebarFrameBlocker(){return r.a.createElement("div",{style:this.frameBlockerStyle,onClick:this.handleFrameBlockerClick})}shouldShowMobileBottomBar(){const{isTablet:e,isReactNative:t,isIOS:n}=this.environment.device;return t&&n&&!e}getStyle(){return{width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:this.theme.contentBackground}}}var So=yo,wo=n("62KP"),ko=n("1Imc"),Co=n("mKX5");const Mo={width:44,height:44,flexGrow:0,flexShrink:0,marginTop:64,marginBottom:20};class Eo extends b.a{constructor(){super(...arguments),this.storeTypes={loginStore:ko.a,loginPermissionsStore:wo.a},this.handleReset=e=>{this.stores.loginStore.setState({loginType:"google",email:"",password:""})},this.openIntercom=()=>{St.a({environment:this.environment,from:"mobile_login"})}}willMount(e){super.willMount(e),"email"===this.stores.loginStore.state.loginType&&this.stores.loginStore.setState({...this.stores.loginStore.state,loginType:"google"})}didMount(){this.environment.currentUser.isLoggedIn()&&d.navigate({environment:this.environment,url:"/",redirect:!0})}renderComponent(){const{loginStore:e}=this.stores,t=e.isEmail()||e.isPassword();return r.a.createElement(R.b,{style:Eo.scrollerStyle,type:R.a.Y},r.a.createElement("div",{style:this.getScrollContainerStyle()},r.a.createElement(Pe.a,{isGray:!0,onClick:this.handleReset,icon:F.a.backward,style:{marginTop:36,marginBottom:12,display:t?"flex":" none"}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Go back",id:"loginMobileNative.goBackButton.label"})),"light"===this.theme.mode?F.a.notionLogo({...Mo,display:t?"none":"block"}):F.a.notionLogoStroked({...Mo,display:t?"none":"block"}),r.a.createElement("div",{style:{lineHeight:1.4,fontSize:18,color:m.g.black,display:t?"none":" block"}},r.a.createElement("div",{style:{fontWeight:J.a.fontWeight.bold,marginBottom:16,color:this.theme.regularTextColor}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Welcome to Notion! 👋",id:"loginMobileNative.welcomeMessage"})),r.a.createElement("div",{style:{marginBottom:20,color:this.theme.regularTextColor}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Notion is a collaborative tool for <mediumfont>notes</mediumfont>, <mediumfont>tasks</mediumfont>, and <mediumfont>wikis</mediumfont>",values:{mediumfont:(...e)=>r.a.createElement("span",{style:{fontWeight:J.a.fontWeight.medium}},e)},id:"loginMobileNative.descriptionOfNotion.message"})," ","✍️")),r.a.createElement(kt.a,Object.assign({style:{marginBottom:24,alignItems:"flex-start"},captionStyle:{textAlign:"left"},emailPasswordSentPromptStyle:{fontSize:13},emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0},this.stores)),this.renderFooter()))}renderFooter(){return r.a.createElement("div",{style:Eo.footerStyle},r.a.createElement("div",{style:{display:"flex",alignItems:"center",lineHeight:1.2}},r.a.createElement(Pt.a,{href:xt.d.termsAndPrivacy,external:!0},r.a.createElement(he.a,null,r.a.createElement(a.FormattedMessage,{defaultMessage:"Privacy & terms",id:"loginMobileNative.footer.privacyAndTermsButton.label"}))),r.a.createElement(he.a,{style:{marginLeft:4},onClick:this.openIntercom},r.a.createElement(a.FormattedMessage,{defaultMessage:"Need help?",id:"loginMobileNative.footer.helpButton.label"}))),r.a.createElement(he.a,{style:{marginTop:12},disabled:!0},"© ",Object(Co.a)().year()," ","Notion Labs, Inc."))}getScrollContainerStyle(){const{WindowSizeStore:e}=this.environment;return{width:"100%",maxWidth:414,marginLeft:"auto",marginRight:"auto",paddingTop:e.state.paddingTopCSS,paddingLeft:e.getSafePaddingLeftCSS(34),paddingRight:e.getSafePaddingRightCSS(34)}}}Eo.footerStyle={marginTop:36,paddingBottom:48,marginLeft:-4},Eo.scrollerStyle={height:"100%",width:"100%"};var _o=Eo,To=n("VMJe"),xo=n("0CAA");class Io extends b.a{constructor(){super(...arguments),this.storeTypes={loginStore:ko.a,loginPermissionsStore:wo.a},this.openIntercom=()=>{St.a({environment:this.environment,from:"desktop_login"})}}didMount(){this.environment.currentUser.isLoggedIn()&&d.navigate({environment:this.environment,url:"/",redirect:!0})}renderComponent(){const{device:e}=this.environment,t=e.isMac?r.a.createElement(a.FormattedMessage,{id:"desktopLogin.welcomeMessage.mac",defaultMessage:"Welcome to Notion",values:{isMacApp:e.isMac}}):r.a.createElement(a.FormattedMessage,{id:"desktopLogin.welcomeMessage.windows",defaultMessage:"Welcome to Notion",values:{isMacApp:e.isMac}});return r.a.createElement("div",{style:Io.style},r.a.createElement("div",{style:{display:"flex",width:440}},F.a.notionLogoStroked({width:64,height:64,display:"block",flexGrow:0,flexShrink:0,marginTop:4}),r.a.createElement("div",{style:{flexGrow:1,marginLeft:24,lineHeight:1.4}},r.a.createElement("div",{style:{fontWeight:J.a.fontWeight.semibold,fontSize:21}},t),r.a.createElement("div",{style:{fontSize:18}},r.a.createElement(a.FormattedMessage,{id:"desktopLogin.loginOrSignupToSyncMessage",defaultMessage:"Log in to sync your content."})))),this.shouldRenderUpgradeWarning()?this.renderUpgradeWarning():this.renderLoginAction(),this.renderFooter())}renderUpgradeWarning(){const{device:e}=this.environment,t=e.isMac?r.a.createElement(a.FormattedMessage,{id:"desktopLogin.upgradeWarning.appOutOfDateMessage.mac",defaultMessage:"Your Mac app is out of date.",values:{isMacApp:e.isMac}}):r.a.createElement(a.FormattedMessage,{id:"desktopLogin.upgradeWarning.appOutOfDateMessage.windows",defaultMessage:"Your Windows app is out of date.",values:{isMacApp:e.isMac}}),n=e.isMac?r.a.createElement(a.FormattedMessage,{id:"desktopLogin.upgradeWarning.upgradeInstructions.mac",defaultMessage:"Please download and reinstall your Mac app.",values:{isMacApp:e.isMac}}):r.a.createElement(a.FormattedMessage,{id:"desktopLogin.upgradeWarning.upgradeInstructions.windows",defaultMessage:"Please download and reinstall your Windows app.",values:{isMacApp:e.isMac}});return r.a.createElement("div",{style:{maxWidth:440,paddingTop:20,textAlign:"center"}},r.a.createElement("span",{style:{color:m.g.frontRed}},t),r.a.createElement("br",null),r.a.createElement(Qe.a,{href:e.isMac?Object(xo.a)("guides.reinstallMac"):Object(xo.a)("guides.reinstallWindows"),external:!0},n))}renderLoginAction(){return r.a.createElement(kt.a,Object.assign({style:{width:320,marginTop:24},emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0},this.stores))}renderFooter(){return r.a.createElement("div",{style:Io.footerStyle},r.a.createElement(Pt.a,{onClick:this.openIntercom},r.a.createElement(he.a,null,r.a.createElement(a.FormattedMessage,{id:"desktopLogin.footer.helpCenterLink",defaultMessage:"Need help?"}))),r.a.createElement(Pt.a,{style:{marginLeft:4},href:xt.d.termsAndPrivacy,external:!0},r.a.createElement(he.a,null,r.a.createElement(a.FormattedMessage,{id:"desktopLogin.footer.privacyAndTermsLink",defaultMessage:"Privacy & Terms"}))),r.a.createElement(he.a,{style:{marginLeft:4},disabled:!0},"© ",Object(Co.a)().year()," ","Notion Labs, Inc."))}shouldRenderUpgradeWarning(){const{device:e}=this.environment;if("production"===f.default.env){const t=u.getDesktopVersion();if(e.isElectron&&t&&(Object(To.isLessThanVersion)(t,[0,3,0])||Object(To.isEqualVersion)(t,[0,3,0])))return!0}return!1}}Io.style={width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",userSelect:"none",WebkitUserSelect:"none"},Io.footerStyle={display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1.2,position:"fixed",bottom:16,left:0,right:0};var Po=Io,Oo=n("VVh3"),Bo=n("DlEO");class Lo extends b.a{renderComponent(){return r.a.createElement("div",{className:_.e,id:this.props.name})}}var Ro=Lo;class Do extends b.a{renderComponent(){return r.a.createElement("div",{style:{height:1,background:m.g.frontBorder,...this.props.style}})}}var Ao=Do;function jo(e,t){switch(t){case"xl":return jt(e,"maxWidth","small")?60:jt(e,"maxWidth","giant")?80:160;case"l":return jt(e,"maxWidth","small")?60:jt(e,"maxWidth","giant")?80:120;case"m":return jt(e,"maxWidth","giant")?40:60;case"s":return 40;case"xs":return 20;default:return 0}}function Fo(e,t){const n=t?jo(e,t):0;return{marginTop:n,marginBottom:n}}const Vo={display:"flex",flexDirection:"column",alignItems:"center"};class No extends b.a{renderComponent(){return r.a.createElement("section",{style:this.getSectionStyle()},this.props.hasBorderTop&&r.a.createElement("div",{style:this.getDividerMaxWidth()},r.a.createElement(Ao,null)),r.a.createElement("div",{style:this.getInnerStyle()},this.props.analyticsName&&r.a.createElement(Ro,{name:this.props.analyticsName}),r.a.createElement(Nt.a,{size:this.props.limit},this.props.children)))}getSectionStyle(){const e=jt(t=this.environment,"maxWidth","small")?20:jt(t,"minWidth","small")&&jt(t,"maxWidth","large")?40:60;var t;const n={paddingLeft:e,paddingRight:e,width:"100%",margin:"0 auto",overflow:this.props.overflowHidden?"hidden":"visible",...Fo(this.environment,this.props.marginSize)};return this.props.style?{...n,...this.props.style}:n}getInnerStyle(){return{width:"100%",borderRadius:3}}getDividerMaxWidth(){return{maxWidth:Nt.b.l,margin:"0 auto"}}}var Uo=No;class zo extends b.a{renderComponent(){return r.a.createElement("div",{style:Vo},this.props.children)}}var Xo=zo;class Yo extends b.a{constructor(){super(...arguments),this.storeTypes={loginPermissionsStore:wo.a}}willMount(e){super.willMount(e),"email"===Bo.a.state.loginType&&(f.default.isAdminMode||this.environment.device.isMobileBrowser)&&Bo.a.setState({...Bo.a.state,loginType:"google"})}renderComponent(){const e=this.props.isSignup?"signup":"login",{publicPageData:t}=qn.a.state;return r.a.createElement(nn,{hideNotificationBanner:!0,hideNavItems:!0,hideFooter:!0,analyticsName:e},r.a.createElement(Uo,{limit:"m"},r.a.createElement(Xo,{align:"center"},t&&r.a.createElement("div",{style:this.getIconStyle()},r.a.createElement(fn,{type:fn.Type.NoAccess,publicPageData:t})),r.a.createElement("div",{style:this.getTitleStyle()},this.renderTitle()),r.a.createElement(kt.a,{loginStore:Bo.a,loginPermissionsStore:this.stores.loginPermissionsStore,emailLabelType:"email",emailInputAutoFocus:!0,emailPasscodePlaceholderType:"paste_code",style:this.getLoginActionStyle(),isSignup:this.props.isSignup}))))}renderTitle(){if(this.props.isSignup){const{publicPageData:e}=qn.a.state;return e&&e.spaceName?r.a.createElement(a.FormattedMessage,{id:"signupPage.titleForSpace",defaultMessage:"Welcome to {company} on Notion",description:"Title for signup page",values:{company:e.spaceName}}):r.a.createElement(a.FormattedMessage,{id:"signupPage.title",defaultMessage:"Sign up",description:"Title for signup page"})}return f.default.isAdminMode?"Log In (Admin Mode)":r.a.createElement(a.FormattedMessage,{id:"loginPage.title",defaultMessage:"Log in",description:"Title for login page"})}getIconStyle(){const{device:e}=this.environment;return{marginTop:e.isMobile?"20vh":"12vh"}}getTitleStyle(){const{device:e}=this.environment,{publicPageData:t}=qn.a.state;return{...t?{fontSize:e.isMobile?26:36}:{fontSize:e.isMobile?34:50,marginTop:e.isMobile?"20vh":"12vh"},fontWeight:J.a.fontWeight.bold,marginBottom:24,textAlign:"center",lineHeight:1.1}}getLoginActionStyle(){return{width:"100%",maxWidth:320,marginBottom:"16vh"}}}var Ho=Object(a.injectIntl)(Yo),qo=n("Zo/l"),Wo=(n("UxlC"),n("mADk"));Boolean("en-US"===i.a);function Go(e){const{preventFrontRedirect:t}=e,n=Object(qo.b)(),{pathname:o,search:a,hash:i}=window.location;if(!t&&function(e,t){if(e.device.isElectron||e.device.isReactNative)return!1;const n=Object(Wo.b)(t,e.currentUser.isLoggedIn());return!!n&&("devOnly"!==n||"development"===f.default.env||"local"===f.default.env)}(n,o)){const e=a.length>0?"".concat(a,"&").concat(Wo.a,"=1"):"?".concat(Wo.a,"=1");return window.location.href=o+e+i,null}return r.a.createElement(Ho,{isSignup:!n.currentUser.isLoggedIn()})}class Zo extends b.a{renderComponent(){const{device:e}=this.environment;return this.environment.currentUser.isLoggedIn()?r.a.createElement("div",{style:Zo.style},r.a.createElement(Oo.a,{style:{width:"100%",height:"100%"},spinnerSize:C.a.spinnerSize,showSpinnerTimeout:500})):e.isElectron?r.a.createElement(Po,null):e.isReactNative?r.a.createElement(_o,null):r.a.createElement(Go,{preventFrontRedirect:!0})}}Zo.style={position:"absolute",top:0,left:0,bottom:0,right:0};var Ko=Zo,Jo=n("G4cA"),Qo=n("rQb/"),$o=n("MYfK"),er=n("sSHh"),tr=n("VhAz"),nr=n("qX+M");class or extends b.a{constructor(){super(...arguments),this.performRequest=async()=>{if("invoiceById"===this.props.route.name){const e=await ve.getInvoiceData(this.environment,{type:"invoice",invoiceId:this.props.route.invoiceId});if("failed"===e.type)throw e.error;return e.data}{const e=await ve.getInvoiceData(this.environment,{type:"upcoming",spaceId:this.props.route.spaceId});if("failed"===e.type)throw e.error;return e.data}},this.renderResult=(e,t)=>{if(e)return r.a.createElement("div",{style:{padding:48,textAlign:"center"}},r.a.createElement("div",{style:{lineHeight:"32px"}},r.a.createElement(a.FormattedMessage,{id:"invoiceErrors.invoiceNotFound.title",defaultMessage:"Invoice not found"})),r.a.createElement(Re.a,{isSmall:!0},r.a.createElement(a.FormattedMessage,{id:"invoiceErrors.invoiceNotFound.message",defaultMessage:"You may need to <loginlink>log in</loginlink> to view it.",values:{loginlink:(...e)=>r.a.createElement(Ct.a,{style:{display:"inline"},innerStyle:{textDecoration:"underline"},href:xt.d.login},e)}})));if(t){const e="invoiceById"===this.props.route.name?this.props.route.invoiceId:null;return this.renderInvoice(e,t)}},this.renderInvoiceStatus=e=>{switch(e){case"paid":return r.a.createElement(a.FormattedMessage,{id:"invoice.status.paid",defaultMessage:"Paid"});case"not_paid":return r.a.createElement(a.FormattedMessage,{id:"invoice.status.not_paid",defaultMessage:"Not paid"});case"upcoming":return r.a.createElement(a.FormattedMessage,{id:"invoice.status.upcoming",defaultMessage:"Upcoming - not due yet"})}},this.renderCharge=(e,t)=>{const n=Object(m.l)(),{intl:o}=this.props;if("base"===e.type){const a=this.renderProductName(e.productId,"other");return r.a.createElement("tr",{key:t},r.a.createElement("td",{style:{paddingRight:18,color:n.mediumTextColor,paddingBottom:8}},Object(Co.a)(e.start).format("LL")," ","–",r.a.createElement("br",null),Object(Co.a)(e.end).format("LL")),r.a.createElement("td",{style:{paddingRight:18}},this.renderBasicCharge(a,e.planAmount,e.planInterval,e.quantity)),r.a.createElement("td",{style:{marginLeft:"auto",textAlign:"right"}},Object(de.b)({amount:e.amount,currency:"dollar",alwaysShowCents:!0,intl:o})))}if("proration"===e.type){const i=this.renderProductName(e.previousProductId,e.previousPlanInterval),s=this.renderProductName(e.productId,e.planInterval);return r.a.createElement("tr",{key:t},r.a.createElement("td",{style:{paddingRight:18,color:n.mediumTextColor,paddingBottom:8}},Object(Co.a)(e.start).format("LL")),r.a.createElement("td",{style:{paddingRight:18}},e.productId!==e.previousProductId&&r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItem.proratedCharge.switchedProducts",defaultMessage:"Switched to {newProductName} (from {oldProductName})",values:{newProductName:s,oldProductName:i}})),e.planInterval!==e.previousPlanInterval&&r.a.createElement("div",null,"year"===e.planInterval?r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItem.proratedCharge.switchedBillingInterval.fromMonthlyToYearly",defaultMessage:"Changed to yearly billing (from monthly billing)"}):r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItem.proratedCharge.switchedBillingInterval.fromYearlyToMonthly",defaultMessage:"Changed to monthly billing (from yearly billing)"})),e.quantity!==e.previousQuantity&&r.a.createElement("div",null,this.renderMemberAdditionOrRemoval(e.quantity,e.previousQuantity,s)," ",this.renderMemberChange(e.quantity,e.previousQuantity))),r.a.createElement("td",{style:{marginLeft:"auto",textAlign:"right"}},Object(de.b)({amount:e.amount,currency:"dollar",alwaysShowCents:!0,intl:o})," "))}}}renderComponent(){const e="invoiceById"===this.props.route.name?this.props.route.invoiceId:"upcoming";return r.a.createElement(ye.a,{key:e,request:e,performRequest:this.performRequest,render:this.renderResult})}renderInvoice(e,t){this.spaceStore=this.spaceStore||new Jo.a(this.environment,{table:io.a,id:t.spaceId});const n=Object(nr.getSpaceName)(this.environment,this.spaceStore),i=Object(Co.a)(t.date).format("LL"),{intl:s}=this.props;document.title=this.props.intl.formatMessage({id:"invoice.pdf.title",defaultMessage:"Notion Invoice {date}"},{date:i});const l=t.items.filter(e=>e.proration),c=t.items.filter(e=>!e.proration),d=t.tax,u=[];for(const o of l){const e=u.find(e=>e[0].start===o.start);e?e.push(o):u.push([o])}const p=[];for(const o of u){const{start:e}=o[0],t=o.reduce((e,t)=>e+t.amount,0);let n=[];for(const i of o){const e=n.find(e=>e.amount===-i.amount);e?n=Xe.a.without(n,e):n.push(i)}let r=n.find(e=>Math.sign(e.amount)===Math.sign(t)),a=n.find(e=>Math.sign(e.amount)!==Math.sign(t));r&&(void 0===a&&(a=r,r={...a,planInterval:"month"===a.planInterval?"year":"month"}),p.push({type:"proration",start:e,productId:r.productId,quantity:r.quantity,planAmount:r.planAmount,planInterval:r.planInterval,amount:t,previousProductId:a.productId,previousQuantity:a.quantity,previousPlanInterval:a.planInterval}))}for(const o of c)p.push({type:"base",start:o.start,end:o.end,productId:o.productId,quantity:o.quantity,planAmount:o.planAmount,planInterval:o.planInterval,amount:o.amount});const h=Object(m.l)();return r.a.createElement("div",{className:"notion-invoice",style:{padding:48,fontSize:14,height:"100vh",overflow:"auto",WebkitOverflowScrolling:"touch",background:h.contentBackground,color:h.regularTextColor}},F.a.notionLogo({width:48,height:48,marginBottom:24,color:h.regularTextColor}),r.a.createElement(Qo.a,null,r.a.createElement(a.FormattedMessage,{id:"invoice.title",defaultMessage:"Notion Invoice & Receipt"})),r.a.createElement(Re.a,{isSmall:!0},"Notion Labs, Inc.",r.a.createElement("br",null),"548 Market St #74567,",r.a.createElement("br",null),"San Francisco, CA 94104-5401",r.a.createElement("br",null),"United States"),r.a.createElement(Mn.a,{style:{marginTop:12},onClick:()=>window.print(),className:"notion-print-ignore"},r.a.createElement(a.FormattedMessage,{id:"invoice.printOrExportButton.label",defaultMessage:"Print/export as PDF"})),r.a.createElement(wt.a,{size:51}),r.a.createElement($o.a,{hasMarginTop:!1},r.a.createElement(a.FormattedMessage,{id:"invoice.date.label",defaultMessage:"Invoice date"})),i,r.a.createElement($o.a,{hasMarginTop:!0},r.a.createElement(a.FormattedMessage,{id:"invoice.payment.label",defaultMessage:"Payment"})),this.renderInvoiceStatus(t.status),r.a.createElement($o.a,{hasMarginTop:!0},r.a.createElement(a.FormattedMessage,{id:"invoice.invoiceID.label",defaultMessage:"Invoice ID"})),e||r.a.createElement(a.FormattedMessage,{id:"invoice.invoiceID.upcomingInvoicePlaceholder",defaultMessage:"Upcoming",description:"The placeholder for an invoice ID if we haven't started billing for the invoice yet."}),r.a.createElement($o.a,{hasMarginTop:!0},r.a.createElement(a.FormattedMessage,{id:"invoice.workspaceName.label",defaultMessage:"Workspace name"})),n,r.a.createElement($o.a,{hasMarginTop:!0},r.a.createElement(a.FormattedMessage,{id:"invoice.recipient.label",defaultMessage:"To",description:"Label for the part of the invoice where we list the invoice recipient"})),t.customer.name,t.customer.name&&r.a.createElement("br",null),t.customer.businessName,t.customer.businessName&&r.a.createElement("br",null),t.customer.email,t.customer.email&&r.a.createElement("br",null),t.customer.addressLine1,t.customer.addressLine1&&" ",t.customer.addressLine2,(t.customer.addressLine1||t.customer.addressLine2)&&r.a.createElement("br",null),t.customer.city," ",t.customer.state," ",t.customer.country," ",t.customer.zipCode,t.customer.vatId&&r.a.createElement(o.Fragment,null,r.a.createElement($o.a,{hasMarginTop:!0},r.a.createElement(a.FormattedMessage,{id:"invoice.VATID.label",defaultMessage:"VAT ID",description:"Label for the part of the invoice where we list the user's VAT (value added tax) ID"})),t.customer.vatId),r.a.createElement(wt.a,{size:51}),r.a.createElement("table",null,l.length>0&&r.a.createElement("tr",null,r.a.createElement("th",{colSpan:3,style:or.tableHeaderResetStyle},r.a.createElement($o.a,{hasMarginTop:!1},r.a.createElement(a.FormattedMessage,{defaultMessage:"Prorations",id:"invoice.chargeItems.proratedCharges.header"})),r.a.createElement("p",{style:this.getCalloutStyle()},r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItems.proratedCharges.description",defaultMessage:"One-time adjustments, incurred due to subscription changes made during the billing cycle covered by the previous invoice."})))),p.filter(e=>"proration"===e.type).map(this.renderCharge),c.length>0&&r.a.createElement("tr",null,r.a.createElement("th",{colSpan:3,style:or.tableHeaderResetStyle},r.a.createElement($o.a,{hasMarginTop:!0},r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItems.periodicCharges.title",defaultMessage:"Periodic charges",description:"Title for the section of the invoice where we list charges that are incurred every billing cycle."})),r.a.createElement("p",{style:this.getCalloutStyle()},r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItems.periodicCharges.description",defaultMessage:"Will incur every billing cycle unless adjustments are made.",description:"Description of charges that are incurred every billing cycle (e.g. every month or every year)."})))),p.filter(e=>"base"===e.type).map(this.renderCharge),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:3,style:or.tableHeaderResetStyle},r.a.createElement($o.a,{hasMarginTop:!0},r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItems.summary.label",defaultMessage:"Summary",description:"Summary of charges incurred - contains the total amount charged for this billing cycle."})))),0!==t.startingBalance&&r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2,style:{marginRight:18}},r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItems.subtotal.label",defaultMessage:"Subtotal"})),r.a.createElement("td",{style:{marginLeft:"auto",textAlign:"right"}},Object(de.b)({amount:t.total,currency:"dollar",alwaysShowCents:!0,intl:s})," ")),0!==t.startingBalance&&r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2,style:{marginRight:18}},r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItem.creditApplied.label",defaultMessage:"Credit applied",description:"Label for the part of the invoice where we account for any Notion credits the user applied towards their bill in this billing cycle."})),r.a.createElement("td",{style:{marginLeft:"auto",textAlign:"right"}},Object(de.b)({amount:t.startingBalance,currency:"dollar",alwaysShowCents:!0,intl:s})," ")),t.discount&&r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2,style:{marginRight:18}},r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItem.discountApplied.label",defaultMessage:"Coupon",description:"Label for the part of the invoice where we account for any coupons applied to the invoice"})),r.a.createElement("td",{style:{marginLeft:"auto",textAlign:"right"}},Object(de.b)({amount:t.discount.amountOff,currency:"dollar",alwaysShowCents:!0,intl:s})," ")),d&&this.renderTax(d),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2,style:{marginRight:18}},r.a.createElement(a.FormattedMessage,{id:"invoice.total.label",defaultMessage:"Total"})),r.a.createElement("td",{style:{marginLeft:"auto",textAlign:"right"}},Object(de.b)({amount:t.total+t.startingBalance,currency:"dollar",alwaysShowCents:!0,intl:s})," "))),r.a.createElement(wt.a,{size:51}),r.a.createElement($o.a,{hasMarginTop:!1},r.a.createElement(a.FormattedMessage,{id:"invoice.amountPaid.label",defaultMessage:"Amount paid"})),Object(de.b)({amount:Math.max(0,t.amountPaid),currency:"dollar",intl:s}),r.a.createElement($o.a,{hasMarginTop:!0},r.a.createElement(a.FormattedMessage,{id:"invoice.amountDue.label",defaultMessage:"Amount due"})),Object(de.b)({amount:Math.max(0,t.amountRemaining),currency:"dollar",intl:s}),null!==t.endingBalance&&(0!==t.startingBalance||t.endingBalance<0)&&r.a.createElement(o.Fragment,null,r.a.createElement($o.a,{hasMarginTop:!0},r.a.createElement(a.FormattedMessage,{defaultMessage:"Workspace credit balance",id:"invoice.creditBalance.header"})),Object(de.b)({amount:-t.endingBalance,currency:"dollar",intl:s})),r.a.createElement(wt.a,{size:51,className:"notion-print-ignore"}),r.a.createElement(er.a,{title:r.a.createElement(a.FormattedMessage,{id:"invoice.helpButton.label",defaultMessage:"Learn about billing cycle, pro-rated charges for added members, account credits and more."}),href:Object(xo.a)("guides.billingAndPayment"),analyticsFrom:"invoices"}))}renderTax(e){const{intl:t}=this.props;return r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2,style:{marginRight:18}},r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItem.taxCharge",defaultMessage:"Tax",description:"Invoice line item tax on current Notion plan."})),r.a.createElement("td",{style:{marginLeft:"auto",textAlign:"right"}},Object(de.b)({amount:e.amount,currency:"dollar",alwaysShowCents:!0,intl:t})))}renderBasicCharge(e,t,n,o){const{intl:i}=this.props;return t?"month"===n?r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItem.basicCharge.withMonthlyAmount",defaultMessage:"{numberOfMembers, plural, one {{productName} (at {planAmount} per month) × {numberOfMembers} member} other {{productName} (at {planAmount} per month) × {numberOfMembers} members}}",description:"Invoice line item for a basic charge incurred for a Notion plan. Example: 'Notion Enterprise (at $10 per month) × 1 member'",values:{productName:e,planAmount:Object(de.b)({amount:t,currency:"dollar",intl:i}),numberOfMembers:o}}):r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItem.basicCharge.withYearlyAmount",defaultMessage:"{numberOfMembers, plural, one {{productName} (at {planAmount} per year) × {numberOfMembers} member} other {{productName} (at {planAmount} per year) × {numberOfMembers} members}}",description:"Invoice line item for a basic charge incurred for a Notion plan. Example: 'Notion Enterprise (at $100 per year) × 1 member'",values:{productName:e,planAmount:Object(de.b)({amount:t,currency:"dollar",intl:i}),numberOfMembers:o}}):r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItem.basicCharge.withoutPlanAmount",defaultMessage:"{numberOfMembers, plural, one {{productName} × {numberOfMembers} member} other {{productName} × {numberOfMembers} members}}",description:"Invoice line item for a basic charge incurred for a Notion plan. Example: 'Notion Enterprise × 1 member'",values:{productName:e,planInterval:n,numberOfMembers:o}})}renderMemberAdditionOrRemoval(e,t,n){const o=e-t;return o<0?r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItem.changedNumberOfMembers.membersRemoved",defaultMessage:"{numberOfMembersRemoved, plural, one {Removed {numberOfMembersRemoved} member from {productName}} other {Removed {numberOfMembersRemoved} members from {productName}}}",description:"Part of invoice line item where we explain that members were removed from a workspace. Example: 'Removed 2 members from Notion Enterprise Yearly'",values:{numberOfMembersRemoved:o,productName:n}}):r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItem.changedNumberOfMembers.membersAdded",defaultMessage:"{numberOfMembersAdded, plural, one {Added {numberOfMembersAdded} member to {productName}} other {Added {numberOfMembersAdded} members to {productName}}}",description:"Part of invoice line item where we explain that members were added to a workspace. Example: 'Added 2 members to Notion Enterprise Yearly'",values:{numberOfMembersAdded:o,productName:n}})}renderMemberChange(e,t){return r.a.createElement(a.FormattedMessage,{id:"invoice.chargeItem.changedNumberOfMembers.memberChange",defaultMessage:"(from {oldTotalMembers} to {newTotalMembers})",description:"Part of an invoice line item describing a change in workspace members. {oldTotalMembers} and {newTotalMembers} have been formatted as plurals already. Example: '(from 1 member to 11 members)'",values:{oldTotalMembers:this.renderMemberPlural(t),newTotalMembers:this.renderMemberPlural(e)}})}renderMemberPlural(e){return r.a.createElement(a.FormattedMessage,{id:"invoice.memberCount",defaultMessage:"{numberOfMembers, plural, one {{numberOfMembers} member} other {{numberOfMembers} members}}",values:{numberOfMembers:e}})}renderProductName(e,t){const n=we.l(e);switch(n){case"personal":return r.a.createElement(a.FormattedMessage,{id:"invoice.productName.personal",defaultMessage:"{billingInterval, select, month {Notion Personal Monthly} year {Notion Personal Yearly} other {Notion Personal}}",description:"The name of the Personal product that we'll use on the invoice. Example usage in line item: 'Notion Personal (at $10 per month) × 10 members: $100'",values:{billingInterval:t}});case"personal_education":return r.a.createElement(a.FormattedMessage,{id:"invoice.productName.personalEducation",defaultMessage:"{billingInterval, select, month {Notion Personal Pro (Education) Monthly} year {Notion Personal Pro (Education) Yearly} other {Notion Personal Pro (Education)}}",description:"The name of the Personal Pro (Education) product that we'll use on the invoice. Example usage in line item: 'Notion Personal (at $10 per month) × 10 members: $100'",values:{billingInterval:t}});case"team":return r.a.createElement(a.FormattedMessage,{id:"invoice.productName.team",defaultMessage:"{billingInterval, select, month {Notion Team Monthly} year {Notion Team Yearly} other {Notion Team}}",description:"The name of the Team product that we'll use on the invoice. Example usage in line item: 'Notion Team (at $10 per month) × 10 members: $100'",values:{billingInterval:t}});case"enterprise":return r.a.createElement(a.FormattedMessage,{id:"invoice.productName.enterprise",defaultMessage:"{billingInterval, select, month {Notion Enterprise Monthly} year {Notion Enterprise Yearly} other {Notion Enterprise}}",description:"The name of the Enterprise product that we'll use on the invoice. Example usage in line item: 'Notion Enterprise (at $10 per month) × 10 members: $100'",values:{billingInterval:t}});case"legacy":return r.a.createElement(a.FormattedMessage,{id:"invoice.productName.legacy",defaultMessage:"{billingInterval, select, month {Notion Legacy Monthly} year {Notion Legacy Yearly} other {Notion Legacy}}",description:"The name of the Legacy product that we'll use on the invoice. Example usage in line item: 'Notion Legacy (at $10 per month) × 10 members: $100'",values:{billingInterval:t}});default:tr.e(n)}}getCalloutStyle(){const e=Object(m.l)();return{maxWidth:"40em",marginTop:12,fontSize:12,background:e.sidebarBackground,padding:"6px 8px",color:e.mediumTextColor,borderRadius:3,border:"1px solid ".concat(e.outlineButtonBorder)}}}or.tableHeaderResetStyle={fontWeight:J.a.fontWeight.regular,textAlign:"left"};var rr=Object(a.injectIntl)(or);class ar extends b.a{renderComponent(){return r.a.createElement("div",{style:ar.wrapStyle},r.a.createElement(Ct.a,{href:"/",innerStyle:ar.logoWrapStyle},"light"===this.theme.mode?F.a.notionLogo(ar.logoStyle):F.a.notionLogoStroked(ar.logoStyle)),r.a.createElement("div",{style:ar.messageStyle},this.props.children))}}ar.wrapStyle={width:"100vw",height:"90vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},ar.messageStyle={maxWidth:320,paddingLeft:18,paddingRight:18},ar.logoWrapStyle={padding:8,borderRadius:3,marginBottom:2},ar.logoStyle={width:42,height:42,flexShrink:0,flexGrow:0};var ir=ar;class sr extends b.a{constructor(){super(...arguments),this.handleOpenInNativeApp=()=>{d.openInNativeApp({url:this.props.redirect,environment:this.environment})}}didMount(){this.handleOpenInNativeApp()}renderComponent(){return r.a.createElement(ir,null,r.a.createElement("div",{style:{color:this.theme.regularTextColor}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Redirecting to your Notion app…",id:"webApp.redirectingToDesktop.message"})),r.a.createElement(Ct.a,{onClick:this.handleOpenInNativeApp,style:{maxWidth:300,textAlign:"center",textDecoration:"underline",color:this.theme.lightTextColor}},r.a.createElement(a.FormattedMessage,{defaultMessage:"If you weren't redirected, click here.",id:"webApp.redirectingToDesktop.directLink.message"})),r.a.createElement(Ct.a,{href:this.props.redirect,style:{maxWidth:300,textAlign:"center",textDecoration:"underline",color:m.g.uiGray}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Or, continue in your browser",id:"webApp.redirectingToDesktop.continueInBrowser.message"})))}}var lr=sr,cr=n("+LO1"),dr=n("VBxf"),ur=n("80on"),pr=n("WgIs"),hr=n("2Y+N");class mr extends b.a{constructor(){super(...arguments),this.renderModal=()=>{const{message:e,items:t,showCancel:n}=ur.a.state,o=t.map((e,t)=>({key:t,render:t=>r.a.createElement(Mn.a,Object.assign({isLarge:!0,hovered:t.focused,style:{width:"100%",marginTop:8},isRed:"red"===e.color,isBlue:"blue"===e.color},t),e.label||"Label"),action:()=>{e.onAccept&&(e.onAccept(),dr.dismissDialog())}}));return n&&o.push({key:"cancel",render:e=>r.a.createElement(Mn.a,Object.assign({isLarge:!0,hovered:e.focused,style:{width:"100%",marginTop:8}},e),r.a.createElement(a.FormattedMessage,{id:"genericDialogModal.cancelButton.label",defaultMessage:"Cancel",description:"The Cancel button that appears on a modal that we show a user when they're about to do something that requires confirmation, like permanently deleting a page or disconnecting an account. Clicking this button lets them cancel their action and go back to where they were before, while clicking a different button lets them confirm and complete their action."})),action:()=>{this.handleCancel()}}),r.a.createElement(Je.a,{capture:!0},r.a.createElement("div",null,e&&r.a.createElement("div",{style:{minHeight:64,display:"flex",alignItems:"center",justifyContent:"center"}},e),r.a.createElement(pr.a,{type:pr.a.Type.Vertical,initialFocus:0,sections:[{key:"dialog",render:e=>r.a.createElement(hr.a,Object.assign({topBorder:!1,disableMobileBorders:!0},e)),items:o}]})))},this.handleDismiss=()=>{const{disableBackgroundDismiss:e}=ur.a.state;e||this.handleCancel()},this.handleCancel=()=>{dr.dismissDialog();const{handleCancel:e}=ur.a.state;return e&&e(),!1}}renderComponent(){const{open:e,innerStyle:t,keepFocus:n}=ur.a.state;return r.a.createElement(Cn.a,{open:e,keepFocus:n,overlayZIndex:g.a,onDismiss:this.handleDismiss,preventHideChildrenWhileOpening:!0,innerStyle:{overflow:"hidden",borderRadius:3,padding:"24px 32px",width:336,fontSize:16,boxShadow:this.theme.largeBoxShadow,background:this.theme.contentBackground,marginLeft:24,marginRight:24,...t},render:this.renderModal})}}var fr=mr;class gr extends b.a{constructor(){super(...arguments),this.handleContainerRef=e=>{this.props.store.containerDomNode.set(e)},this.handleMouseMove=e=>{Object(T.d)({event:e,context:T.a.SidebarMouseMove,callback:()=>{}})}}renderComponent(){return r.a.createElement("div",{ref:this.handleContainerRef,className:this.props.isDefault?"".concat(_.kb," ").concat(_.t):_.kb,style:this.getContainerStyle(),onMouseMove:this.handleMouseMove},r.a.createElement("div",{style:{position:"relative",zIndex:0}}))}getContainerStyle(){return{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:this.props.zIndex,pointerEvents:"none",overflow:"hidden"}}}var br=gr,vr=n("5qOl"),yr=n("wlCD");class Sr extends b.a{constructor(){super(...arguments),this.renderModal=()=>{const e=vr.a.state;if(e.open)return r.a.createElement("div",{style:this.getStyle()},r.a.createElement(yr.a,null),r.a.createElement("div",{style:this.getMessageStyle()},e.message))}}renderComponent(){const e=vr.a.state;return r.a.createElement(Cn.a,{open:e.open,render:this.renderModal,overlayZIndex:g.i})}getStyle(){return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minWidth:180,padding:"18px 24px 20px"}}getMessageStyle(){return{fontSize:14,marginTop:8,color:this.theme.mediumTextColor}}}var wr=Sr,kr=n("ju2U"),Cr=n("UiOz"),Mr=n("5JRq");class Er extends b.a{constructor(){super(...arguments),this.renderComponent=()=>{const{isMobile:e}=this.environment.device;return r.a.createElement(N.a,{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:e?"flex-start":"center"},onClick:this.props.onClick,mobileFeedback:!0},F.a.mobileNewFeatures({width:e?26:22,marginRight:e?12:8}),r.a.createElement("div",{style:{minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Update and see what's new",id:"updateBanner.updateAvailableBanner.message"})))}}}var _r=Er,Tr=n("yjqD"),xr=n("h2IJ"),Ir=n("h5Kq"),Pr=n("Uy0f");class Or extends b.a{constructor(){super(...arguments),this.handleElectronUpdateChecking=()=>{const{AppUpdateStore:e}=this.environment;e.setState({appUpdate:e.state.appUpdate,electronUpdate:{state:"checking"}})},this.handleElectronUpdateError=(e,t)=>{const{AppUpdateStore:n}=this.environment;n.setState({appUpdate:n.state.appUpdate,electronUpdate:{state:"error",error:t}})},this.handleElectronUpdateNotAvailable=()=>{const{AppUpdateStore:e}=this.environment;e.setState({appUpdate:e.state.appUpdate,electronUpdate:{state:"no-update",timestamp:Date.now()}})},this.handleElectronUpdateAvailable=(e,t)=>{const{AppUpdateStore:n}=this.environment,o=Object(To.parseVersion)(t.version),r=u.getDesktopVersion(),a=Object(To.getUpdateType)({currentVersion:r,nextVersion:o,app:"desktop"});n.setState({appUpdate:n.state.appUpdate,electronUpdate:{state:"downloading",type:a,version:o,timestamp:Date.now(),progress:0}})},this.handleElectronUpdateProgress=(e,t)=>{const{AppUpdateStore:n}=this.environment,o=n.state;o.electronUpdate&&"downloading"===o.electronUpdate.state&&n.setState({appUpdate:o.appUpdate,electronUpdate:{...o.electronUpdate,progress:t.transferred/t.total}})},this.handleElectronUpdateReady=(e,t)=>{const{device:n}=this.environment,{AppUpdateStore:o}=this.environment,i=xr.a.get("electronUpdateReady2"),l=t.version;if(i===l){if(n.isMac)return o.setState({appUpdate:o.state.appUpdate,electronUpdate:{state:"ready",type:To.UpdateType.Major,version:void 0}}),void dr.showDialog({message:r.a.createElement(a.FormattedMessage,{id:"desktopAppUpdater.moveNotionToApplicationsFolderDialog.prompt",defaultMessage:"Please move the Notion app into the Applications folder for the auto-updater to work."}),showCancel:!1,keepFocus:!1,handleCancel:this.handleConfirmUpdate,items:[{label:r.a.createElement(a.FormattedMessage,{id:"desktopAppUpdater.moveNotionToApplicationsFolderDialog.dismissButton.label",defaultMessage:"Okay"}),onAccept:this.handleConfirmUpdate}]});s.log({level:"error",from:"AppUpdateListener",type:"electronUpdateFailed",data:{miscDataToConvertToString:{previousUpdateReady:i,nextUpdateReady:l}}})}const c=u.getDesktopVersion(),d=Object(To.parseVersion)(t.version);if(Object(To.isEqualVersion)(c,[0,1,9])||Object(To.isEqualVersion)(c,[0,1,10]))o.setState({appUpdate:o.state.appUpdate,electronUpdate:{state:"ready",type:To.UpdateType.Major,version:void 0}}),this.displayMajorUpdateDialog(),setTimeout(this.handleConfirmUpdate,3e4);else{const e=Object(To.getUpdateType)({currentVersion:c,nextVersion:d,app:"desktop"});o.setState({appUpdate:o.state.appUpdate,electronUpdate:{state:"ready",type:e,version:d}}),kr.c({bannerStore:Cr.a,id:"ElectronUpdateWarning"}),e===To.UpdateType.Major?this.displayMajorUpdateDialog():e===To.UpdateType.Minor&&this.displayMinorUpdateBanner()}},this.handleAppUpdateChecking=()=>{const{AppUpdateStore:e}=this.environment;e.state.appUpdate&&"ready"===e.state.appUpdate.state||e.setState({electronUpdate:e.state.electronUpdate,appUpdate:{state:"checking"}})},this.handleElectronAppUpdateError=(e,t)=>{this.handleAppUpdateError(t)},this.handleAppUpdateError=e=>{const{AppUpdateStore:t}=this.environment;t.state.appUpdate&&"ready"===t.state.appUpdate.state||t.setState({electronUpdate:t.state.electronUpdate,appUpdate:{state:"error",error:e}})},this.handleAppUpdateNotAvailable=()=>{const{AppUpdateStore:e}=this.environment;e.state.appUpdate&&"ready"===e.state.appUpdate.state||e.setState({electronUpdate:e.state.electronUpdate,appUpdate:{state:"no-update",timestamp:Date.now()}})},this.handleElectronAppUpdateAvailable=(e,t)=>{this.handleAppUpdateAvailable(t)},this.handleAppUpdateAvailable=e=>{const{AppUpdateStore:t}=this.environment;if(t.state.appUpdate&&"ready"===t.state.appUpdate.state)return;const n=Object(To.parseVersion)(e.version),o=Mr.d(),r=Object(To.getUpdateType)({currentVersion:o,nextVersion:n,app:"client"});t.setState({electronUpdate:t.state.electronUpdate,appUpdate:{state:"downloading",type:r,version:n,timestamp:Date.now(),progress:0}})},this.handleElectronAppUpdateProgress=(e,t)=>{this.handleAppUpdateProgress(t)},this.handleAppUpdateProgress=e=>{const{AppUpdateStore:t}=this.environment,n=t.state;n.appUpdate&&"downloading"===n.appUpdate.state&&t.setState({electronUpdate:n.electronUpdate,appUpdate:{...n.appUpdate,progress:e.downloaded/e.total}})},this.handleElectronAppUpdateReady=(e,t)=>{this.handleAppUpdateReady(t)},this.handleAppUpdateReady=e=>{const{AppUpdateStore:t}=this.environment,n=Object(To.parseVersion)(e.version),o=Mr.d(),r=Object(To.getUpdateType)({currentVersion:o,nextVersion:n,app:"client"});if(!Mr.a(n)){const e={state:"ready",type:r,version:n};t.setState({electronUpdate:t.state.electronUpdate,appUpdate:e})}this.displayUpdateBanner(r,n)},this.handleAppUpdateReload=e=>{kr.a({bannerStore:Cr.a}),Mr.e({environment:this.environment,url:window.location.href,version:e,broadcast:!1})},this.handleConfirmUpdate=()=>{const{AppUpdateStore:e,device:t}=this.environment;if(Q.X(this.environment),d.navigateToExternalURL({environment:this.environment,url:xt.d.whatsNew}),t.isElectron&&e.state.electronUpdate&&"ready"===e.state.electronUpdate.state){const e=u.getDesktopVersion();t.isMac&&(Object(To.isEqualVersion)(e,[0,2,2])||Object(To.isEqualVersion)(e,[0,2,1])||Object(To.isEqualVersion)(e,[0,2,0]))?dr.showDialog({showCancel:!1,keepFocus:!1,message:r.a.createElement(a.FormattedMessage,{id:"desktopAppUpdater.restartDialog.message",defaultMessage:"Please quit and restart the app to install the update."}),items:[{label:r.a.createElement(a.FormattedMessage,{id:"desktopAppUpdater.dialog.dismissButton.label",defaultMessage:"Okay"}),color:"blue",onAccept:()=>{}}]}):(xr.a.set("electronUpdateReady2",Object(To.formatVersion)(e)),u.installElectronUpdate())}else e.state.appUpdate&&"ready"===e.state.appUpdate.state?(Mr.e({environment:this.environment,url:window.location.href,version:e.state.appUpdate.version,broadcast:!0}),dr.dismissDialog(),kr.a({bannerStore:Cr.a})):(Mr.f(Object(To.parseVersion)(f.default.version)),dr.dismissDialog(),kr.a({bannerStore:Cr.a}))},this.handleWindowsBackgrounded=()=>{const e=this.environment.AppUpdateStore;if("on"===Wn.default.getGroup(this.environment,"silent-releases")&&It.a.getState().online&&e.isSilentUpdate()&&Math.random()<=5e-4){const t=e.state.appUpdate;Mr.e({environment:this.environment,url:window.location.href,version:t.version,broadcast:!1})}},this.pollForAppJsUpdates=async()=>{const e="local"===f.default.env?1e4:6e4;let t="";for(await new Promise(e=>setTimeout(e,5e3));this.componentIsMounted;){if(void 0===Pr.a.state.isVisible||!0===Pr.a.state.isVisible)try{const e=Mr.d(),n=await ve.getAssetsJsonV2(this.environment,{hash:t});if("success"===n.type){const o=n.data;if("version"in o){const t=Object(To.parseVersion)(o.version);t&&(Object(To.isEqualVersion)(t,e)||this.handleAppUpdateReady(o))}"hash"in o&&(t=o.hash||"")}}catch(n){}await new Promise(t=>setTimeout(t,e))}}}didMount(){const{device:e,reactNative:t}=this.environment;if(e.isElectron?(u.electronUpdateReady.addListener(this.handleElectronUpdateReady),u.electronUpdateError.addListener(this.handleElectronUpdateError),u.electronUpdateChecking.addListener(this.handleElectronUpdateChecking),u.electronUpdateAvailable.addListener(this.handleElectronUpdateAvailable),u.electronUpdateProgress.addListener(this.handleElectronUpdateProgress),u.electronUpdateNotAvailable.addListener(this.handleElectronUpdateNotAvailable),u.appUpdateReady.addListener(this.handleElectronAppUpdateReady),u.appUpdateError.addListener(this.handleElectronAppUpdateError),u.appUpdateChecking.addListener(this.handleAppUpdateChecking),u.appUpdateAvailable.addListener(this.handleElectronAppUpdateAvailable),u.appUpdateProgress.addListener(this.handleElectronAppUpdateProgress),u.appUpdateNotAvailable.addListener(this.handleAppUpdateNotAvailable),u.appUpdateReload.addListener(this.handleAppUpdateReload),u.windowsBackgrounded.addListener(this.handleWindowsBackgrounded)):t?t.updateReceiveApiHandlers({appUpdateReady:this.handleAppUpdateReady,appUpdateError:this.handleAppUpdateError,appUpdateChecking:this.handleAppUpdateChecking,appUpdateAvailable:this.handleAppUpdateAvailable,appUpdateProgress:this.handleAppUpdateProgress,appUpdateNotAvailable:this.handleAppUpdateNotAvailable}):f.default.isAdminMode||f.default.isLocalhost&&!f.default.offline||this.pollForAppJsUpdates(),this.displayBannerIfSilentUpdate(),/Cordova/.test(navigator.userAgent))this.displayCordovaUpdateWarning();else if(e.isReactNative&&t&&t.api.openUpdateSettings){const t=e.osVersion;e.isAndroid&&Object(To.isLessThanVersion)(t,[7,0])?this.displayPlatformUpdateWarning("Android 7.0"):e.isIOS&&Object(To.isLessThanVersion)(t,[13,0])&&this.displayPlatformUpdateWarning("iOS 13.0")}if("production"===f.default.env){const t=u.getDesktopVersion();e.isElectron&&t&&(Object(To.isLessThanVersion)(t,[0,3,0])?this.displayElectronUpdaterBrokenWarning():Object(To.isEqualVersion)(t,[0,3,0])&&this.displayElectronUpdateWarning())}}willUnmount(){const{device:e}=this.environment;e.isElectron&&(u.electronUpdateReady.removeListener(this.handleElectronUpdateReady),u.electronUpdateError.removeListener(this.handleElectronUpdateError),u.electronUpdateChecking.removeListener(this.handleElectronUpdateChecking),u.electronUpdateAvailable.removeListener(this.handleElectronUpdateAvailable),u.electronUpdateProgress.removeListener(this.handleElectronUpdateProgress),u.electronUpdateNotAvailable.removeListener(this.handleElectronUpdateNotAvailable),u.appUpdateReady.removeListener(this.handleElectronAppUpdateReady),u.appUpdateError.removeListener(this.handleElectronAppUpdateError),u.appUpdateChecking.removeListener(this.handleAppUpdateChecking),u.appUpdateAvailable.removeListener(this.handleElectronAppUpdateAvailable),u.appUpdateProgress.removeListener(this.handleElectronAppUpdateProgress),u.appUpdateNotAvailable.removeListener(this.handleAppUpdateNotAvailable),u.appUpdateReload.removeListener(this.handleAppUpdateReload),u.windowsBackgrounded.removeListener(this.handleWindowsBackgrounded))}displayMajorUpdateDialog(){dr.showDialog({message:r.a.createElement(a.FormattedMessage,{defaultMessage:"We just launched new features!",id:"breakingUpdateDialog.title"}),showCancel:!1,keepFocus:!1,handleCancel:this.handleConfirmUpdate,items:[{label:r.a.createElement(a.FormattedMessage,{defaultMessage:"Update and see what's new",id:"breakingUpdateDialog.updateButtonTitle"}),color:"blue",onAccept:this.handleConfirmUpdate}],innerStyle:{width:380}})}displayMinorUpdateBanner(){this.shouldShowMinorUpdateBanner()&&kr.b({bannerStore:Cr.a,id:"AppUpdate",render:()=>r.a.createElement(_r,{onClick:this.handleConfirmUpdate}),type:Ir.a.Blue})}displayUpdateBanner(e,t){e===To.UpdateType.Major?t&&Mr.a(t)?(Mr.f(t),this.displayMinorUpdateBanner()):this.displayMajorUpdateDialog():e===To.UpdateType.Minor?(t&&Mr.a(t)&&Mr.f(t),this.displayMinorUpdateBanner()):t&&Mr.a(t)&&Mr.f(t)}displayBannerIfSilentUpdate(){const e=Mr.d(),t=Mr.b();if(!Object(To.isEqualVersion)(e,t)){const n=Object(To.getUpdateType)({currentVersion:e,nextVersion:t,app:"client"});this.displayUpdateBanner(n,t)}}renderDownloadAndReinstallElectron(){const{device:e}=this.environment;return r.a.createElement("span",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"<textlink>Download and reinstall</textlink> your {isMacApp, select, true {Mac app} other {Windows app}} to work offline and get the latest features.",id:"appUpdateListener.downloadAndReinstallDesktopApp.message",values:{textlink:(...t)=>r.a.createElement(Qe.a,{disableHover:!0,href:e.isMac?Object(xo.a)("guides.reinstallMac"):Object(xo.a)("guides.reinstallWindows"),external:!0},t),isMacApp:e.isMac}}))}displayElectronUpdaterBrokenWarning(){kr.b({bannerStore:Cr.a,id:"ElectronUpdaterBrokenWarning",render:()=>this.renderDownloadAndReinstallElectron(),type:Ir.a.Red})}renderDownloadingElectron(e){const{device:t}=this.environment,{intl:n}=this.props;return r.a.createElement(a.FormattedMessage,{defaultMessage:"We're updating your {isMacApp, select, true {Mac app} other {Windows app}} so you can work offline ({processPercent})",id:"appUpdateListener.downloadingDesktopApp.message",values:{processPercent:n.formatNumber(e,{style:"percent",maximumFractionDigits:0}),isMacApp:t.isMac}})}async displayElectronUpdateWarning(){const{AppUpdateStore:e}=this.environment;u.checkForUpdates(),await Tr.h(500),kr.b({bannerStore:Cr.a,id:"ElectronUpdateWarning",render:()=>{if(e.state.electronUpdate&&"error"!==e.state.electronUpdate.state&&"no-update"!==e.state.electronUpdate.state){const t="downloading"===e.state.electronUpdate.state?e.state.electronUpdate.progress:0;return this.renderDownloadingElectron(t)}return this.renderDownloadAndReinstallElectron()},type:Ir.a.Blue})}displayPlatformUpdateWarning(e){const{reactNative:t}=this.environment;t&&kr.b({bannerStore:Cr.a,id:"PlatformUpdateWarning",render:()=>r.a.createElement("div",{style:{whiteSpace:"normal",textAlign:"center",flex:"1 auto",margin:"8px 0"}},r.a.createElement(a.FormattedMessage,{defaultMessage:" This operating system is no longer supported.{br}Please <upgradelink>upgrade to {supportedPlatformVersion} or later.</upgradelink>.",id:"appUpdateListener.mobilePlatformNotSupported.message",values:{br:r.a.createElement("br",null),upgradelink:(...e)=>r.a.createElement(Qe.a,{onClick:()=>{t.openUpdateSettings()},disableHover:!0},e),supportedPlatformVersion:e}})),type:Ir.a.Red})}displayCordovaUpdateWarning(){const{device:e}=this.environment,{intl:t}=this.props,n=e.isAndroid?t.formatMessage({defaultMessage:"Android",id:"appUpdateListener.mobileAppNotSupported.android"}):t.formatMessage({defaultMessage:"iOS",id:"appUpdateListener.mobileAppNotSupported.ios"});kr.b({bannerStore:Cr.a,id:"CordovaUpdateWarning",render:()=>r.a.createElement("div",{style:{whiteSpace:"normal",textAlign:"center",flex:"1 auto",margin:"8px 0"}},r.a.createElement(a.FormattedMessage,{defaultMessage:"This application version is no longer supported.{br}Please <upgradelink>upgrade your {androidOrIOSApp} app</upgradelink>.",id:"appUpdateListener.mobileAppNotSupported.message",values:{br:r.a.createElement("br",null),upgradelink:(...t)=>r.a.createElement(Qe.a,{href:e.isAndroid?xt.d.playStore:xt.d.appStore,disableHover:!0},t),androidOrIOSApp:n}})),type:Ir.a.Red})}shouldShowMinorUpdateBanner(){const{currentBlockStore:e,currentUserStore:t}=V.default.state;return!(!t||!e)&&!Object(vn.g)(this.environment,e)}}var Br=Object(a.injectIntl)(Or);class Lr extends b.a{willMountOrUpdate(){const{device:e,reactNative:t}=this.environment;e.isElectron&&u.setLogglyData(s.clientLogglyEnvironmentData),t&&t.setLogglyData(s.clientLogglyEnvironmentData)}}var Rr=Lr,Dr=n("V6+p"),Ar=n("8dfn"),jr=n("VpJM"),Fr=n("+fkW"),Vr=n("VTj5");class Nr extends b.a{async willMountOrUpdate(){const{currentUserRootStore:e}=V.default.state;if(!e)return;await Object(Vr.a)();const t=e.getSpaceViewStores();for(const n of t){const e=n.getBookmarkedPagesStores();for(const n of e)this.preloadPage(n);const t=n.getSharedPagesStores();for(const n of t)this.preloadPage(n);const o=n.getSpaceStore();if(o){Fr.a.getPublicSpaceData(this.environment,o.id);const e=Object(nr.getSpaceLoadPageStores)(this.environment,o);for(const t of e)this.preloadPage(t)}}}preloadPage(e){e.getValue();const t=e.getCollectionViewCollectionStore();t&&t.getValue()}}var Ur=Nr,zr=n("5ma9");class Xr extends b.a{constructor(){super(...arguments),this.args=this.createComputedStore(()=>{const{currentUserStore:e,currentUserSettingsStore:t,currentUserRootStore:n}=V.default.state,o=this.environment.currentUser.id;if(!(o&&e&&t&&n))return;const r=e.getValue(),a=t.getValue(),i=n.getSpaceViewStores(),s=i.map(e=>e.isReady());if(!r||!a||!s)return;const l=Xe.a.compact(i.map(e=>e.getSpaceId())).map(e=>Fr.a.getPublicSpaceData(this.environment,e));if(!l.every(e=>Boolean(e)||null===e))return;const c=Object(cr.b)(l),d=a.settings;if(!d)return;const{device:u}=this.environment,p={user_id:o,email:r.email,first_name:r.given_name,last_name:r.family_name,user_persona:d.persona,user_source:d.source,user_use_case:d.use_case,user_org:d.type,user_plan_type:c,time_zone:d.time_zone,locale:d.locale,signup_time:d.signup_time,app_version:u.version,mac_type:u.macType};return d.signup_time&&(p.created_at=Math.floor(d.signup_time/1e3)),u.desktopAppVersion&&(p.desktop_app_version=u.desktopAppVersion),u.mobileAppVersion&&(p.mobile_app_version=u.mobileAppVersion),d.used_desktop_web_app&&(p.used_desktop_web_app=d.used_desktop_web_app),d.used_mobile_web_app&&(p.used_mobile_web_app=d.used_mobile_web_app),d.used_mac_app&&(p.used_mac_app=d.used_mac_app),d.used_windows_app&&(p.used_windows_app=d.used_windows_app),d.used_ios_app&&(p.used_ios_app=d.used_ios_app),d.used_android_app&&(p.used_android_app=d.used_android_app),p},!0),this.handleIdentifyCurrentUser=()=>{const e=this.args.state;e&&"none"!==e.user_plan_type&&Q.b(this.environment,e)}}didMount(){this.args.addListener(this.handleIdentifyCurrentUser)}willUnmount(){this.args.removeListener(this.handleIdentifyCurrentUser)}}var Yr=Xr;class Hr extends b.a{constructor(){super(...arguments),this.updateConnectionStateWithEnvironment=()=>Object(pe.updateConnectionState)(this.environment)}willMount(){It.a.addListener(this.updateConnectionStateWithEnvironment),Object(pe.updateConnectionState)(this.environment)}willUnmount(){It.a.removeListener(this.updateConnectionStateWithEnvironment)}}var qr=Hr,Wr=n("w5u6"),Gr=n("unoy");class Zr extends b.a{constructor(){super(...arguments),this.handleFocusOut=()=>{setTimeout(()=>{te.get()||Object(Gr.f)(this.environment)},0)}}willMount(){window.addEventListener("mousedown",this.handleMouseDown),this.environment.device.isMobileBrowser&&document.addEventListener("focusout",this.handleFocusOut)}willUnmount(){window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("focusout",this.handleFocusOut)}handleMouseDown(){Wr.default.afterNextFlush(()=>{Object(Gr.h)()})}}var Kr=Zr,Jr=n("rlmE"),Qr=n("PQqx");class $r extends b.a{constructor(){super(...arguments),this.handleEvent=e=>{Qr.c(this.environment,e)},this.handleKeyDown=e=>{const{shortcutMap:t}=this.environment.KeyboardShortcutStackStore,n=Xe.a.findKey(t,(t,n)=>Object(Jr.a)(this.environment,e,t));n&&!{cut:!0,copy:!0,paste:!0}[n]&&Qr.d(this.environment,e,n)}}willMount(){window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("cut",this.handleEvent),window.addEventListener("copy",this.handleEvent),window.addEventListener("paste",this.handleEvent),window.addEventListener("keypress",this.handleEvent)}willUnmount(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("cut",this.handleEvent),window.removeEventListener("copy",this.handleEvent),window.removeEventListener("paste",this.handleEvent),window.removeEventListener("keypress",this.handleEvent)}}var ea=$r,ta=n("X3py"),na=n("3uHk"),oa=n("oqYu"),ra=n("CpD0"),aa=n("7IvN");let ia;class sa extends b.a{constructor(){super(...arguments),this.handleStatusBarTap=()=>{na.a.canScroll()&&(oe.c.state?Me.a.SidebarMobileScroller&&Me.a.SidebarMobileScroller.scrollToTop({animate:!0,animationCallback:Xe.a.identity}):Me.a.PageScroller&&Me.a.PageScroller.scrollToTop({animate:!0,animationCallback:Xe.a.identity}))},this.handleSwipeNavigation=()=>{const{reactNative:e,RouterStore:t}=this.environment;if(e&&e.setWebViewAllowsNavigationGestures){const{route:n}=t.state;"onboarding"===n.name||oe.c.state||!na.a.canScroll()?!1!==ia&&(ia=!1,e.setWebViewAllowsNavigationGestures(!1)):!0!==ia&&(ia=!0,e.setWebViewAllowsNavigationGestures(!0))}},this.handleKeyboardAutoScroll=()=>{ta.b.state.phase===ta.a.willShow&&Gt.a(this.environment)},this.handleReactNativeKeyboardStore=()=>{if(ta.b.state.phase===ta.a.hidden){if(aa.a.state.open)return;Gr.f(this.environment)}}}willMount(){const{reactNative:e,RouterStore:t}=this.environment;this.environment.device.isReactNative&&e&&(oe.c.addListener(this.handleSwipeNavigation),Ar.a.addListener(this.handleSwipeNavigation),t.addListener(this.handleSwipeNavigation),ta.b.addListener(this.handleKeyboardAutoScroll),e.updateReceiveApiHandlers({statusBarTap:this.handleStatusBarTap,backButtonPress:()=>Qr.c(this.environment,{type:"backbutton"}),keyboardWillShow:()=>ta.b.updateKeyboardPhase(ta.a.willShow),keyboardDidShow:()=>ta.b.updateKeyboardPhase(ta.a.shown),keyboardWillHide:()=>ta.b.updateKeyboardPhase(ta.a.willHide),keyboardDidHide:()=>ta.b.updateKeyboardPhase(ta.a.hidden),keyboardShortcut:e=>Qr.c(this.environment,e),pushNotificationTokenRefresh:e=>Object(oa.handleTokenRefresh)(this.environment,e),resume:ra.a.resume,pause:ra.a.pause,refreshSubscriptionData:async e=>{await ve.invalidateSubscriptionData(this.environment,{spaceId:e,provider:"revenue_cat"}),await Object(Se.e)(this.environment)}}),this.environment.device.isAndroid&&ta.b.addListener(this.handleReactNativeKeyboardStore))}willUnmount(){const{reactNative:e,RouterStore:t}=this.environment;this.environment.device.isReactNative&&e&&(oe.c.removeListener(this.handleSwipeNavigation),Ar.a.removeListener(this.handleSwipeNavigation),t.removeListener(this.handleSwipeNavigation),ta.b.removeListener(this.handleKeyboardAutoScroll),this.environment.device.isAndroid&&ta.b.removeListener(()=>{if(ta.b.state.phase===ta.a.hidden){if(aa.a.state.open)return;Gr.f(this.environment)}}))}}var la=sa,ca=n("DNgp");class da extends b.a{constructor(){super(...arguments),this.handleTextSelectionChange=()=>{Wr.default.afterNextFlush(()=>Gt.a(this.environment))}}willMount(){this.environment.device.isMobile&&ca.default.addListener(this.handleTextSelectionChange)}willUnmount(){this.environment.device.isMobile&&ca.default.removeListener(this.handleTextSelectionChange)}}var ua=da,pa=n("1UIA"),ha=n("wvIE");class ma extends b.a{constructor(e){super(e),this.mediaQueryList=window.matchMedia("(prefers-color-scheme: dark)"),this.handleThemeChange=this.handleThemeChange.bind(this)}willMount(){this.setTheme();const{reactNative:e,device:t}=this.environment;t.isAndroid&&e?e.updateReceiveApiHandlers({themeChanged:e=>this.setTheme()}):this.mediaQueryList.addEventListener?this.mediaQueryList.addEventListener("change",this.handleThemeChange):this.mediaQueryList.addListener&&this.mediaQueryList.addListener(this.handleThemeChange)}willUnmount(){this.mediaQueryList.removeEventListener?this.mediaQueryList.removeEventListener("change",this.handleThemeChange):this.mediaQueryList.removeListener&&this.mediaQueryList.removeListener(this.handleThemeChange)}handleThemeChange(e){this.setTheme()}setTheme(){const e=Object(ha.a)(this.environment);"system"===e?Object(ha.d)(this.environment):Object(ha.c)(this.environment,{mode:e})}}var fa=ma,ga=n("m0IC");class ba extends b.a{willMount(){this.environment.device.isMobile&&document.addEventListener("scroll",this.handleScroll,!0)}willUnmount(){this.environment.device.isMobile&&document.removeEventListener("scroll",this.handleScroll,!0)}handleScroll(){for(const e of Array.from(ga.k.values()))e.setState({hovered:!1,pressed:!1})}}var va=ba,ya=n("3KLF"),Sa=n("H1ac");const wa=new(n("glAM").a);class ka extends b.a{constructor(){super(...arguments),this.lastOnlineState=!1,this.handleConnectionStoreRefresh=()=>{const e=It.a.state.online;e&&!this.lastOnlineState&&this.refreshUserTasks(this.environment),this.lastOnlineState=e},this.handleImportEvernote=e=>{"success"===e.state?ya.a.setStatus(e.request.blockId,void 0):"in_progress"===e.state||"not_started"===e.state?ya.a.setStatus(e.request.blockId,e.status):ya.a.setStatus(e.request.blockId,void 0)},this.handleExtractWebClipperContent=e=>{"success"===e.state?Sa.a.setStatus(e.request.blockId,!1):"in_progress"===e.state||"not_started"===e.state?Sa.a.setStatus(e.request.blockId,!0):Sa.a.setStatus(e.request.blockId,!1)}}willMount(){this.lastOnlineState=It.a.state.online,setInterval(()=>this.fetchPendingTasks(this.environment),1e3),this.refreshUserTasks(this.environment),It.a.addListener(this.handleConnectionStoreRefresh),wa.addListener("importEvernote",this.handleImportEvernote),wa.addListener("extractWebClipperContent",this.handleExtractWebClipperContent)}willUnmount(){It.a.removeListener(this.handleConnectionStoreRefresh),wa.removeListener("importEvernote",this.handleImportEvernote),wa.removeListener("extractWebClipperContent",this.handleExtractWebClipperContent)}async refreshUserTasks(e){if(e.currentUser.id){const t=await Object(ve.getUserTasks)(e,{});if("success"===t.type){for(const e of t.data.taskIds)ve.pendingTaskIds.add(e);t.data.taskIds.length>0&&this.fetchPendingTasks(e)}}}async fetchPendingTasks(e){if(e.currentUser.id&&ve.pendingTaskIds.size>0){const t=await Object(ve.getTasks)(e,{taskIds:Array.from(ve.pendingTaskIds.values())});if("success"===t.type){const{results:n}=t.data;for(const t of n)t.status&&Object(ve.handleRecordMapForResponse)({environment:e,eventName:t.eventName,response:t.status,userId:e.currentUser.id}),ve.pendingTaskEventsById.emit(t.id,t),wa.emit(t.eventName,t),"failure"!==t.state&&"success"!==t.state||ve.pendingTaskIds.delete(t.id)}}}}var Ca=ka;class Ma extends b.a{willMount(){Object(Dr.b)(this.environment),this.experimentIntervalRequest||(this.experimentIntervalRequest=window.setInterval(()=>Object(Dr.b)(this.environment),6e5))}willUnmount(){window.clearInterval(this.experimentIntervalRequest),this.experimentIntervalRequest=void 0}}var Ea=Ma,_a=n("qRmb");function Ta(e){It.a.setState({...It.a.state,online:e})}class xa extends b.a{willMount(){this.connectionIntervalUpdateRequest||(this.connectionIntervalUpdateRequest=window.setInterval(()=>async function(e){if((e.device.isBrowser||e.device.isElectron)&&document.hidden)return;if(_a.a())return void Ta(!0);if(!1===navigator.onLine&&!f.default.isLocalhost)return void Ta(!1);"success"===(await ve.ping(e,{})).type?Ta(!0):Ta(!1)}(this.environment),5e3))}willUnmount(){window.clearInterval(this.connectionIntervalUpdateRequest),this.connectionIntervalUpdateRequest=void 0}}var Ia=xa,Pa=n("nFzZ");class Oa extends b.a{constructor(){super(...arguments),this.updatePageVisibility=()=>{Pr.a.setState({...Pr.a.state,isVisible:!document.hidden});const e=Object(Mr.c)(),t=e&&(Date.now()-e)/Pa.a>=7;if("on"===Wn.default.getGroup(this.environment,"silent-releases")&&this.environment.device.isBrowser&&!document.hidden&&(!e||t)&&It.a.getState().online){const e=this.environment.AppUpdateStore;if(e.isSilentUpdate()){const t=e.state.appUpdate;Object(Mr.e)({environment:this.environment,url:window.location.href,version:t.version,broadcast:!1})}}}}didMount(){document.addEventListener("visibilitychange",this.updatePageVisibility),this.updatePageVisibility()}willUnmount(){document.removeEventListener("visibilitychange",this.updatePageVisibility)}}var Ba=Oa,La=n("7W+R");class Ra extends b.a{constructor(){super(...arguments),this.initialized=!1}willMountOrUpdate(){this.initializeQueue()}initializeQueue(){"on"!==Wn.default.getGroup(this.environment,"offline-ui")||this.initialized||(La.b(this.environment),this.initialized=!0)}}var Da=Ra,Aa=n("aLEG");class ja extends b.a{willMount(){const{device:e,reactNative:t}=this.environment;if(zr.b(this.environment),Dr.a(this.environment),Object(Aa.a)(),t&&t.hideSplashscreen(),/Cordova/.test(navigator.userAgent)){const e=window;e.navigator.splashscreen&&e.navigator.splashscreen.hide()}if(e.isMobile){const e=document.body.parentElement;e&&e.classList.add(_.K)}cr.h(this.environment),e.isElectronMac&&u.getAppPath().then(e=>{e&&(e.startsWith("/Volumes/Notion Installer")||e.startsWith("/Volumes/Notion Dev Installer")||e.startsWith("/Volumes/Notion Stg Installer"))&&dr.showMessage({message:this.props.intl.formatMessage({defaultMessage:"Please move the Notion.app into the /Applications folder for the auto-updater to work.",id:"notionAppContainer.dialog.notionAppNotInApplications.message"})})})}didMount(){const{device:e}=this.environment;"external"===Object(h.l)({url:window.location.href,isMobile:e.isMobile,baseUrl:f.default.baseURL,protocol:f.default.protocol,currentUrl:window.location.href}).name&&dr.showDialog({message:"Mismatch between origin and baseUrl (dev).",showCancel:!1,keepFocus:!1,items:[{label:r.a.createElement(a.FormattedMessage,{defaultMessage:"Okay",id:"notionAppContainer.dialog.mismatchedOriginURL.okayButton.label"}),onAccept:()=>{const e=Dn.j({relativeUrl:Dn.f(window.location.href),baseUrl:f.default.baseURL}),t=Dn.e(e);t.protocol=Dn.e(window.location.href).protocol,window.location.href=Dn.b(t)}}]})}renderComponent(){const e="light"===this.theme.mode?_.M:_.L;return r.a.createElement("div",{style:this.getStyle(),className:["notion-app-inner",e].join(" ")},r.a.createElement(Br,{key:"AppUpdateListener"}),r.a.createElement(Rr,{key:"ElectronLogglyDataListener"}),this.props.children,r.a.createElement(br,{store:Ar.a,zIndex:g.m,isDefault:!0}),r.a.createElement(br,{store:jr.a,zIndex:g.c,isDefault:!1}),r.a.createElement(fr,null),r.a.createElement(wr,null),r.a.createElement(Ur,null),r.a.createElement(Yr,null),r.a.createElement(qr,null),r.a.createElement(Kr,null),r.a.createElement(ea,null),r.a.createElement(la,null),r.a.createElement(ua,null),r.a.createElement(pa.a,null),r.a.createElement(fa,null),r.a.createElement(va,null),r.a.createElement(Ca,null),r.a.createElement(Ea,null),r.a.createElement(Ia,null),r.a.createElement(Da,null),r.a.createElement(Ba,null))}getStyle(){return{...p.a,color:this.theme.regularTextColor,WebkitFontSmoothing:"auto"}}}var Fa=Object(a.injectIntl)(ja),Va=n("HSWF");class Na extends b.a{willMount(){const e=l.b({schemeUrl:window.location.href,baseUrl:f.default.baseURL});d.navigateToExternalURL({environment:this.environment,url:e}),Va.C(),d.navigate({environment:this.environment,url:"/",redirect:!0})}}var Ua=Na;class za extends b.a{constructor(){super(...arguments),this.storeTypes={state:yn.a.of({loading:!0})}}async willMount(){const{payload:e,intl:t}=this.props;if(e){const n=await ve.unsubscribeFromEmails(this.environment,{payload:e});if("failed"===n.type)this.stores.state.set({loading:!1,error:Object(wn.b)(this.props.intl,n)});else{const e=[Object(an.a)(n.data.icon)&&n.data.icon,"Untitled Workspace"===n.data.spaceName?t.formatMessage({id:"unsubscribeFromEmails.untitledWorkspacePlaceholder",defaultMessage:"Untitled Workspace"}):n.data.spaceName].filter(Boolean).join(" ");this.stores.state.set({loading:!1,error:void 0,result:r.a.createElement(ir,null,r.a.createElement(a.FormattedMessage,{defaultMessage:"You have successfully unsubscribed from emails for {workspaceName}",values:{workspaceName:r.a.createElement("b",null,e)},id:"unsubscribeFromEmails.workspace.message"}))})}}else this.stores.state.set({loading:!1,error:t.formatMessage({defaultMessage:"Could not unsubscribe.",id:"unsubscribeFromEmails.workspace.errorMessage"})})}renderComponent(){const e=this.stores.state.get();return e.loading?r.a.createElement(ir,null,r.a.createElement(a.FormattedMessage,{defaultMessage:"Loading…",id:"unsubscribeFromEmails.loadingMessage"})):e.error?r.a.createElement(ir,null,e.error):e.result}}var Xa=Object(a.injectIntl)(za),Ya=n("WDpx");class Ha extends b.a{constructor(){super(...arguments),this.storeTypes={loginPermissionsStore:wo.a}}willMount(e){super.willMount(e),e.email&&Bo.a.setState({...Bo.a.state,email:e.email})}renderComponent(){const{device:e}=this.environment,{loginPermissionsStore:t}=this.stores,{intl:n}=this.props;if(e.isElectron)return r.a.createElement(Po,{loginStore:Bo.a,loginPermissionsStore:t});if(e.isReactNative)return r.a.createElement(_o,{loginStore:Bo.a,loginPermissionsStore:t});{const e="Notion - ".concat(this.props.isSignup?n.formatMessage({defaultMessage:"Sign up",id:"signupPage.pageTitle"}):n.formatMessage({defaultMessage:"Log in",id:"loginPage.pageTitle"}));return r.a.createElement(Ya.a,{title:e},r.a.createElement(Ho,{isSignup:this.props.isSignup}))}}}var qa=Object(a.injectIntl)(Ha);n("WHWW"),n("GEFS");b.a;var Wa=n("5jDe"),Ga=new I.a;const Za={gdpr:_.P,profile:_.T,workspace_choose:_.V,workspace_plan_choose:_.Y,workspace_create:_.W,invite:_.X,error:_.O};class Ka extends b.a{constructor(){super(...arguments),this.handleCloseClick=()=>{K.b(this.environment)}}renderComponent(){const e=Ze.default.state;if(!e.isOnboarding)return;const t=Za[e.stage];return r.a.createElement(R.b,{className:t,style:this.getScrollerStyle(),type:R.a.Y,disableScroll:Gt.e(this.environment),store:Ga},this.renderDesktopIllustration(),r.a.createElement("div",{style:Ka.getVerticalCenteringWrapStyle(Boolean(this.props.disableAutoHeight))},this.renderHeader(),r.a.createElement("div",{style:{...this.props.useInlineStyle?{}:Ka.wrapStyle}},this.props.children),r.a.createElement("footer",{style:{paddingBottom:42}},this.props.footer)),this.shouldRenderCloseButton(e)&&this.renderCloseButton(),this.props.useScrollMask&&this.renderScrollMask())}renderHeader(){const{title:e,subtitle:t}=this.props;return r.a.createElement("div",{style:this.getHeaderStyle()},r.a.createElement("div",null,r.a.createElement("div",{style:this.getTitleStyle()},e),t&&r.a.createElement("div",{style:this.getSubtitleStyle()},t)))}renderDesktopIllustration(){const{illustrationUrl:e}=this.props;if(e)return r.a.createElement("div",{style:Ka.illustrationWrapStyle},r.a.createElement("img",{src:e,style:{height:190}}))}renderCloseButton(){return r.a.createElement(Pe.a,{isLarge:!0,style:this.getCloseButtonStyle(),onClick:this.handleCloseClick},r.a.createElement(a.FormattedMessage,{defaultMessage:"Cancel",id:"useCaseOnboardingStep.cancelButton.label"}))}renderScrollMask(){return r.a.createElement("div",{style:this.getScrollMaskStyle()})}shouldRenderCloseButton(e){return Ke.w(e)}getScrollerStyle(){return{height:"100vh",background:this.theme.onboardingBackground}}getScrollMaskStyle(){return{position:"absolute",background:"linear-gradient(180deg, ".concat(this.theme.onboardingBackgroundMask," 0%, ").concat(this.theme.onboardingBackground," 80%)"),bottom:0,left:0,right:0,height:"12vh",pointerEvents:"none",zIndex:9}}static getVerticalCenteringWrapStyle(e){return{display:"flex",flexDirection:"column",justifyContent:"space-between",...e?{}:{minHeight:"100vh"}}}getHeaderStyle(){return{position:"relative",textAlign:"center",paddingTop:42,paddingBottom:32,marginLeft:"auto",marginRight:"auto",maxWidth:520,...this.props.headerStyles?this.props.headerStyles:{}}}getTitleStyle(){return{fontWeight:J.a.fontWeight.semibold,fontSize:28,color:this.theme.regularTextColor,fontFamily:J.a.getHeaderFontFamily()}}getSubtitleStyle(){return{fontSize:18,lineHeight:1.3,paddingTop:2,color:this.theme.mediumTextColor,fontWeight:J.a.fontWeight.regular}}getCloseButtonStyle(){return{position:"absolute",top:18,right:18,fontSize:14}}}Ka.wrapStyle={display:"flex",flexDirection:"column",paddingBottom:32},Ka.illustrationWrapStyle={position:"fixed",bottom:0,left:30};var Ja=Ka;class Qa extends b.a{renderComponent(){return r.a.createElement(N.a,{className:_.N,style:this.getButtonStyle(),disabled:this.props.disabled,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.children)}getButtonStyle(){const{device:e}=this.environment;return{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:3,height:e.isMobile?42:32,padding:"0 12px",fontSize:14,lineHeight:1.2,background:this.theme.buttonBackground,border:"1px solid ".concat(this.theme.outlineButtonBorder),boxShadow:"rgba(15, 15, 15, 0.1) 0px 1px 2px",...this.props.disabled?{background:m.g.contentGrayBackground,color:m.g.lightTextColor}:{},...this.props.style}}}var $a=Qa;class ei extends b.a{constructor(){super(...arguments),this.handleNextClick=()=>{this.props.showNextButton&&this.props.handleNextClick()}}renderComponent(){const{device:e}=this.environment;if(e.isMobile){const{illustrationPath:e,title:t,subtitle:n,renderUnderNext:o}=this.props;return r.a.createElement(R.b,{type:R.a.Y,style:this.getMobileScrollerStyle()},this.props.showBackButton?r.a.createElement(Pe.a,{isGray:!0,onClick:()=>K.b(this.environment),style:this.getBackButtonStyle()},r.a.createElement(a.FormattedMessage,{defaultMessage:"Cancel",id:"onboardingWorkspaceMobileScroller.mobileCancelButton.label"})):r.a.createElement("div",{style:{height:44}}),r.a.createElement("div",{style:this.getMobileWrapStyle()},t&&r.a.createElement("div",{style:{fontWeight:600,fontSize:22,textAlign:"center",fontFamily:J.a.getHeaderFontFamily()}},t),n&&r.a.createElement("div",{style:{fontWeight:"normal",fontSize:16,textAlign:"center",color:this.theme.mediumTextColor,paddingLeft:16,paddingRight:16,wordBreak:"keep-all",paddingBottom:36}},n),this.props.children,this.renderNextButton(),Boolean(o)?o:void 0,e&&r.a.createElement("div",{style:this.getMobileIllustrationWrapStyle()},r.a.createElement("img",{src:this.getIllustrationPath(e),style:ei.mobileIllustrationStyle}))))}return this.props.children}renderNextButton(){if(this.props.showNextButton)return r.a.createElement(Ge.a,{style:{marginTop:8,width:"100%",height:this.environment.device.isMobile?44:36},isLarge:!0,onClick:this.handleNextClick,disabled:this.props.disableNextButton},r.a.createElement(a.FormattedMessage,{defaultMessage:"Continue",id:"onboardingMobileScroller.continueButton.label"}))}getIllustrationPath(e){const{ThemeStore:t}=this.environment;return"/tutorial/".concat(e).concat("dark"===t.state.mode?"-dark":"",".png")}getMobileScrollerStyle(){const{WindowSizeStore:e}=this.environment,t={width:"100vw",height:"100vh",paddingTop:e.getSafePaddingTopCSS(24),paddingLeft:e.getSafePaddingLeftCSS(16),paddingRight:e.getSafePaddingRightCSS(16),paddingBottom:e.getSafePaddingBottomCSS(64),background:this.theme.sidebarBackground};return this.props.illustrationPath?{...t,paddingBottom:0}:t}getBackButtonStyle(){return{paddingBottom:20,height:44}}getMobileWrapStyle(){const e={maxWidth:360,fontSize:16,marginLeft:"auto",marginRight:"auto"};return this.props.illustrationPath?{...e,minHeight:"100%",position:"relative",paddingBottom:250}:e}getMobileIllustrationWrapStyle(){const{device:e,WindowSizeStore:t}=this.environment,{illustrationStyle:n}=this.props;return{position:"absolute",overflow:"hidden",height:140,bottom:e.isIPhoneX?0:t.state.paddingBottomCSS,left:-50,...n||{}}}}ei.mobileIllustrationStyle={height:240};var ti=ei;class ni extends b.a{didMount(){const e=Ze.default.state;Q.zc(this.environment,Ke.f(e))}renderComponent(){const{device:e,ThemeStore:t}=this.environment;return e.isMobile?r.a.createElement(ti,{showNextButton:!1,key:"mobile-gdpr",illustrationPath:"ada-1",illustrationStyle:{left:-40},showBackButton:!0},this.renderGDPRConsentInfo(),r.a.createElement($a,{style:{width:"100%",marginTop:20},onClick:()=>yt.logout(this.environment)},r.a.createElement(a.FormattedMessage,{defaultMessage:"Disagree",id:"onboardingGDPR.mobileDisagreeButton.label"})),r.a.createElement(Ge.a,{style:{width:"100%",marginTop:20,height:42},onClick:()=>{K.d(this.environment,this.props.onboardingState)}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Agree",id:"onboardingGDPR.mobileAgreeButton.label"}))):r.a.createElement(Ja,{title:r.a.createElement(a.FormattedMessage,{defaultMessage:"Privacy & Data Collection",id:"onboardingGDPR.step.title"}),illustrationUrl:Ke.d("ada-1",t),key:"desktop_gdpr"},r.a.createElement("div",{style:{width:560,position:"relative",alignSelf:"center",paddingTop:"48px"}},this.renderGDPRConsentInfo(),r.a.createElement(Ge.a,{isLarge:!0,style:{marginTop:24,marginRight:16},onClick:()=>{K.d(this.environment,this.props.onboardingState)}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Agree",id:"onboardingGDPR.agreeButton.label"})),r.a.createElement($a,{style:{marginTop:24},onClick:()=>yt.logout(this.environment)},r.a.createElement(a.FormattedMessage,{defaultMessage:"Disagree",id:"onboardingGDPR.disagreeButton.label"}))))}renderGDPRConsentInfo(){return r.a.createElement(o.Fragment,null,r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"We use cookies to securely identify your account, keep you signed in, and improve our service.",id:"onboardingGDPR.consentInfo.paragraph1.body"})),r.a.createElement("div",{style:{marginTop:8}},r.a.createElement(a.FormattedMessage,{defaultMessage:"We use analytics to improve the product and troubleshoot customer issues. These include {intercomLink}, {amplitudeLink}, {segmentLink}, {snowflakeLink}, {crashlyticsLink}, and {logglyLink}. Analytics are enabled by default because they are critical to our business.",id:"onboardingGDPR.consentInfo.paragraph2.body",values:{intercomLink:r.a.createElement(Ct.a,{underline:!0,external:!0,inline:!0,href:"https://www.intercom.com/"},"Intercom"),amplitudeLink:r.a.createElement(Ct.a,{underline:!0,external:!0,inline:!0,href:"https://amplitude.com/"},"Amplitude"),segmentLink:r.a.createElement(Ct.a,{underline:!0,external:!0,inline:!0,href:"https://segment.com/"},"Segment"),snowflakeLink:r.a.createElement(Ct.a,{underline:!0,external:!0,inline:!0,href:"https://www.snowflake.com/"},"Snowflake"),crashlyticsLink:r.a.createElement(Ct.a,{underline:!0,external:!0,inline:!0,href:"https://fabric.io/kits/ios/crashlytics"},"Crashlytics"),logglyLink:r.a.createElement(o.Fragment,null,r.a.createElement(Ct.a,{underline:!0,external:!0,inline:!0,href:"https://www.loggly.com/"},"Loggly"))}})),r.a.createElement("div",{style:{marginTop:8}},r.a.createElement(a.FormattedMessage,{defaultMessage:"You may withdraw your consent to analytics by emailing {emailLink}.",id:"onboardingGDPR.consentInfo.paragraph3.body",values:{emailLink:r.a.createElement(Ct.a,{underline:!0,inline:!0,href:"mailto:team@makenotion.com",external:!0},"team@makenotion.com")}})),r.a.createElement("div",{style:{marginTop:8}},r.a.createElement(a.FormattedMessage,{defaultMessage:"We send occasional product update and marketing emails. Every email contains a link to instantly unsubscribe.",id:"onboardingGDPR.consentInfo.paragraph4.body"})),r.a.createElement("div",{style:{marginTop:8}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Please read our <termslink>Terms of Service & Privacy Policy</termslink> for more information.",id:"onboardingGDPR.consentInfo.paragraph5.body",values:{termslink:(...e)=>r.a.createElement(Ct.a,{underline:!0,external:!0,inline:!0,href:xt.d.termsAndPrivacy},e)}})))}}var oi=ni,ri=n("VyA+"),ai=n("1y3T"),ii=n("2m/B"),si=n("p+Y9"),li=n("a3T4");class ci extends b.a{constructor(){super(...arguments),this.handleCloseClick=()=>{K.b(this.environment)}}renderComponent(){const{onboardingData:e}=this.props.onboardingState,t=e.userStore.getValue();if(t)return r.a.createElement("div",{style:{textAlign:"center",paddingTop:32}},r.a.createElement(Re.a,{isSmall:!0,style:{textAlign:"center",lineHeight:1.5}},r.a.createElement(a.FormattedMessage,{defaultMessage:"You're creating an account for {userEmail}.{br}If you don't intend to set up a new account, you can <closelink>log in with another email.</closelink>",id:"onboarding.desktopLogoutOption.text",values:{userEmail:r.a.createElement("span",{style:{fontWeight:500}},t.email),closelink:(...e)=>r.a.createElement(Qe.a,{onClick:this.handleCloseClick},e),br:r.a.createElement("br",null)}})))}}var di=ci;class ui extends Ye.a{getInitialState(){return{showPassword:!1}}}var pi=ui,hi=n("5zFd"),mi=n("SR/M");class fi extends b.a{renderComponent(){let{userPersona:e}=this.props.onboardingState;"unfilled"===e&&(e=void 0);const{intl:t}=this.props,n=rt.g(t,Ke.v(this.environment)?"v2":"v1"),o={menuTitle:t.formatMessage({defaultMessage:"Team type",id:"onboardingWorkspaceCreate.teamTypeMenu.title"}),items:n,width:280,getKey:e=>e.sectionName,selectedItem:e?rt.f(e,t):void 0,originGap:4,onSelect:e=>{const{onboardingState:t}=this.props,{sectionName:n}=e;Q.Ic(this.environment,{...Ke.f(t),persona:n}),n!==io.c&&n!==io.e&&n!==io.g&&n!==io.f&&n!==io.b&&n!==io.d&&"suggested"!==n&&Ze.default.setState({...t,userPersona:"none"!==n?n:void 0})},renderItem:e=>r.a.createElement(mi.a,Object.assign({title:e.value.name},e)),renderOrigin:n=>r.a.createElement(Mn.a,{isLarge:!0,onClick:e=>n.onClick(e),style:{padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:3,border:0,transition:"box-shadow 0.3s ease",boxShadow:"0 0 0 1px ".concat(this.theme.outlineButtonBorder),background:this.theme.buttonBackground,...this.getInputStyle()}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",color:e?this.theme.regularTextColor:this.theme.lightTextColor},className:"notranslate"},e?rt.f(e,t).name:Ke.v(this.environment)?r.a.createElement(a.FormattedMessage,{defaultMessage:"Select role",id:"onboardingWorkspaceCreate.rolePicker.placeholder"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Select team type",id:"onboardingWorkspaceCreate.teamTypePicker.placeholder"})),F.a.expand({width:10,fill:this.theme.lightIconColor}))};return r.a.createElement(hi.a,Object.assign({key:"onboarding"},o))}getInputStyle(){const{device:e}=this.environment;return{backgroundColor:this.theme.whiteButtonBackground,height:31,...e.isMobile&&{height:42}}}}var gi=Object(a.injectIntl)(fi),bi=n("MOs8");class vi extends b.a{renderComponent(){const{userTeamRole:e}=this.props.onboardingState,{intl:t}=this.props,n={menuTitle:t.formatMessage({defaultMessage:"Team type",id:"onboardingTeamRoleSelect.teamTypeMenu.title"}),items:Array.from(bi.a).filter(e=>"unfilled"!==e),width:280,getKey:e=>e,selectedItem:e,originGap:4,onSelect:e=>{Ze.default.setState({...this.props.onboardingState,userTeamRole:e})},renderItem:e=>r.a.createElement(mi.a,Object.assign({title:this.getTeamRoleMessage(e.value)},e)),renderOrigin:t=>r.a.createElement(Mn.a,{isLarge:!0,onClick:e=>t.onClick(e),style:{padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:3,border:0,transition:"box-shadow 0.3s ease",boxShadow:"0 0 0 1px ".concat(this.theme.outlineButtonBorder),background:this.theme.buttonBackground,...this.getInputStyle()}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",color:e?this.theme.regularTextColor:this.theme.lightTextColor},className:"notranslate"},e?this.getTeamRoleMessage(e):r.a.createElement(a.FormattedMessage,{defaultMessage:"Select team role",id:"onboardingTeamRoleSelect.teamRoleSelect.placeholder"})),F.a.expand({width:10,fill:this.theme.lightIconColor}))};return r.a.createElement(hi.a,Object.assign({key:"onboarding"},n))}getTeamRoleMessage(e){switch(e){case"company_lead":return r.a.createElement(a.FormattedMessage,{defaultMessage:"C-level or VP",id:"onboardingTeamRoleSelect.teamRoleSelect.companyLead"});case"org_lead":return r.a.createElement(a.FormattedMessage,{defaultMessage:"Department lead",id:"onboardingTeamRoleSelect.teamRoleSelect.orgLead"});case"team_lead":return r.a.createElement(a.FormattedMessage,{defaultMessage:"Team lead",id:"onboardingTeamRoleSelect.teamRoleSelect.teamLead"});case"not_lead":return r.a.createElement(a.FormattedMessage,{defaultMessage:"I don't manage a team",id:"onboardingTeamRoleSelect.teamRoleSelect.notLead"})}}getInputStyle(){const{device:e}=this.environment;return{backgroundColor:this.theme.whiteButtonBackground,height:31,...e.isMobile&&{height:42}}}}var yi=Object(a.injectIntl)(vi);class Si extends b.a{constructor(){super(...arguments),this.storeTypes={store:pi},this.handleNextClick=async()=>{const{onboardingState:e,intl:t}=this.props,{firstName:n,lastName:o,password:r}=e;if(!n||!o||!r)return void K.c(this.environment,new TypeError(t.formatMessage({id:"onboardingProfile.fieldUndefinedError.message",defaultMessage:"Profile field is undefined."})));const a={...e,userPersona:e.userPersona||"unfilled",userTeamRole:e.userTeamRole||"unfilled",firstName:n,lastName:o,password:r};await K.d(this.environment,a)},this.handleUploadProfilePhoto=()=>{si.c({environment:this.environment,bucket:"public",onStart:this.handleProfileUploadStart,onError:this.handleProfileUploadError,onComplete:e=>this.handleProfileUploadComplete(e),accept:"image/*"})},this.handleProfileUploadComplete=e=>{Q.Jc(this.environment,Ke.f(Ze.default.state)),Ze.default.setState({...this.props.onboardingState,profilePhoto:e[0],uploadingProfilePhoto:!1})},this.handleProfileUploadStart=()=>{Ze.default.setState({...this.props.onboardingState,uploadingProfilePhoto:!0})},this.handleProfileUploadError=()=>{Ze.default.setState({...this.props.onboardingState,uploadingProfilePhoto:!1});const{intl:e}=this.props;dr.showErrorMessage(e.formatMessage({defaultMessage:"Upload failed.",id:"onboardingProfile.dialogError.photoUploadFailure.message"}))},this.handlePasswordChange=e=>{Ze.default.setState({...this.props.onboardingState,password:e.target.value,passwordErrorData:null})},this.handleClearPassword=()=>{Ze.default.setState({...this.props.onboardingState,password:void 0,passwordErrorData:null})},this.handlePasswordBlur=()=>{const{password:e}=this.props.onboardingState;if(e){const t=Object(li.a)(e);t.success||Ze.default.setState({...this.props.onboardingState,passwordErrorData:t.reason})}},this.handleSubmit=()=>{const e=this.getInvalidField();Boolean(e)?this.stores.store.setState({...this.stores.store.state,invalidField:e}):this.handleNextClick()}}didMount(){Q.zc(this.environment,Ke.f(this.props.onboardingState)),this.props.onboardingState.uploadingProfilePhoto&&Ze.default.setState({...this.props.onboardingState,uploadingProfilePhoto:!1})}renderComponent(){const{device:e}=this.environment,{firstName:t,lastName:n}=this.props.onboardingState;return e.isMobile?this.renderMobile(t,n):this.renderDesktop()}renderMobile(e,t){const{intl:n}=this.props;return r.a.createElement(ri.a,{capture:!0,onLeft:Xe.a.identity,onRight:Xe.a.identity,onSelectAll:Xe.a.identity,onRedo:Xe.a.identity,onUndo:Xe.a.identity,onCut:Xe.a.identity,onCopy:Xe.a.identity,onPaste:Xe.a.identity,onKeypress:Xe.a.identity,onDelete:Xe.a.identity,onBackspace:Xe.a.identity,onTab:Xe.a.identity},r.a.createElement(ti,{key:"mobile_profile",showNextButton:!0,title:r.a.createElement(a.FormattedMessage,{defaultMessage:"Welcome to Notion",id:"onboardingProfile.mobileStage.title"}),subtitle:r.a.createElement(a.FormattedMessage,{defaultMessage:"First, tell us a bit about yourself.",id:"onboardingProfile.mobileStage.subtitle"}),handleNextClick:this.handleNextClick,disableNextButton:this.shouldDisableNext(),showBackButton:!0},r.a.createElement("div",{style:this.getMobileFormLabelStyle()},r.a.createElement(a.FormattedMessage,{defaultMessage:"First name",id:"onboardingProfile.mobileFirstNameInput.label"})),r.a.createElement(Sn.b,{autoFocus:!0,placeholder:n.formatMessage({defaultMessage:"Ada",id:"onboardingProfile.mobileFirstNameInput.placeholder",description:"The first name of Ada Lovelace, a pioneer of computer science, used as a placeholder when a user inputs their name when signing up to Notion."}),value:e,onChange:e=>{Ze.default.setState({...this.props.onboardingState,firstName:e.target.value})},style:{marginRight:4,...this.getInputStyle(),..."first_name"===this.stores.store.state.invalidField?Ke.j:{}}}),r.a.createElement("div",{style:this.getMobileFormLabelStyle()},r.a.createElement(a.FormattedMessage,{defaultMessage:"Last name",id:"onboardingProfile.mobileLastNameInput.label"})),r.a.createElement(Sn.b,{value:t,placeholder:n.formatMessage({defaultMessage:"Lovelace",id:"onboardingProfile.mobileLastNameInput.placeholder",description:"The second name of Ada Lovelace, a pioneer of computer science, used as a placeholder when a user inputs their name when signing up to Notion."}),onChange:e=>{Ze.default.setState({...this.props.onboardingState,lastName:e.target.value})},style:{...this.getInputStyle(),..."last_name"===this.stores.store.state.invalidField?Ke.j:{}}}),this.renderSaveNewPassword(),Ke.v(this.environment)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{...Ke.b,color:this.theme.mediumTextColor,marginTop:0}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Your role",id:"onboardingWorkspaceCreate.rolePicker.label"})),r.a.createElement(gi,{onboardingState:this.props.onboardingState})),this.shouldCollectTeamRole()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{...Ke.b,marginTop:12}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Role on your team",id:"onboardingWorkspaceCreate.roleOnTeam.label"})),r.a.createElement(yi,{onboardingState:this.props.onboardingState})),r.a.createElement("div",{style:{marginBottom:12}})))}renderDesktop(){const{firstName:e,lastName:t,profilePhoto:n,uploadingProfilePhoto:i}=this.props.onboardingState,{intl:s}=this.props,{ThemeStore:l}=this.environment;return r.a.createElement(Ja,{title:r.a.createElement(a.FormattedMessage,{defaultMessage:"Welcome to Notion",id:"onboardingProfile.stage.title"}),subtitle:r.a.createElement(a.FormattedMessage,{defaultMessage:"First things first, tell us a bit about yourself.",id:"onboardingProfile.stage.subtitle"}),illustrationUrl:Ke.d("ada-1",l),key:"profile",footer:r.a.createElement(di,{onboardingState:this.props.onboardingState})},r.a.createElement(ri.a,{capture:!0,onLeft:Xe.a.identity,onRight:Xe.a.identity,onSelectAll:Xe.a.identity,onRedo:Xe.a.identity,onUndo:Xe.a.identity,onCut:Xe.a.identity,onCopy:Xe.a.identity,onPaste:Xe.a.identity,onKeypress:Xe.a.identity,onDelete:Xe.a.identity,onBackspace:Xe.a.identity,onTab:Xe.a.identity,onEnter:this.handleSubmit},r.a.createElement(o.Fragment,null,r.a.createElement("div",{style:{width:280,alignSelf:"center"}},r.a.createElement(N.a,{onClick:()=>this.handleUploadProfilePhoto(),style:{width:64,height:64,borderRadius:"100%",boxShadow:this.theme.avatarBoxShadow,overflow:"hidden",margin:"0 auto"}},r.a.createElement(ai.a,{url:n||"/tutorial/empty-avatar.png",isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>r.a.createElement(ii.a,{src:t,style:{width:"100%",height:"100%",objectFit:"cover"}})})),r.a.createElement("div",{style:{width:"100%",textAlign:"center",marginTop:8}},r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(Pe.a,{isSmall:!0,isGray:!0,onClick:()=>this.handleUploadProfilePhoto(),style:{fontSize:12,fontWeight:500,marginTop:4}},i?r.a.createElement(a.FormattedMessage,{defaultMessage:"Uploading…",id:"onboardingProfile.uploading.text"}):n?r.a.createElement(a.FormattedMessage,{defaultMessage:"Change",id:"onboardingProfile.changeProfilePhotoButton.label"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Add a photo",id:"onboardingProfile.addProfilePhotoButton.label"})))),r.a.createElement("div",{style:{...Ke.b,marginTop:12}},r.a.createElement(a.FormattedMessage,{defaultMessage:"First name",id:"onboardingProfile.firstNameInput.label"})),r.a.createElement(Sn.b,{focusInitial:!0,value:e,placeholder:s.formatMessage({defaultMessage:"Ada",id:"onboardingProfile.firstNameInput.placeholder",description:"The first name of Ada Lovelace, a pioneer of computer science, used as a placeholder when a user inputs their name when signing up to Notion."}),onChange:e=>{Ze.default.setState({...this.props.onboardingState,firstName:e.target.value})},style:{marginRight:4,...this.getInputStyle(),..."first_name"===this.stores.store.state.invalidField?Ke.j:{}}}),r.a.createElement("div",{style:{marginTop:12}},r.a.createElement("div",{style:{...Ke.b,marginTop:0}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Last name",id:"onboardingProfile.lastNameInput.label"})),r.a.createElement(Sn.b,{value:t,placeholder:s.formatMessage({defaultMessage:"Lovelace",id:"onboardingProfile.lastNameInput.placeholder",description:"The second name of Ada Lovelace, a pioneer of computer science, used as a placeholder when a user inputs their name when signing up to Notion."}),onChange:e=>{Ze.default.setState({...this.props.onboardingState,lastName:e.target.value})},style:{...this.getInputStyle(),..."last_name"===this.stores.store.state.invalidField?Ke.j:{}}})),this.renderSaveNewPassword(),Ke.v(this.environment)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{...Ke.b,marginTop:12}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Your role",id:"onboardingWorkspaceCreate.rolePicker.label"})),r.a.createElement(gi,{onboardingState:this.props.onboardingState})),this.shouldCollectTeamRole()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{...Ke.b,marginTop:12}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Role on your team",id:"onboardingWorkspaceCreate.roleOnTeam.label"})),r.a.createElement(yi,{onboardingState:this.props.onboardingState})),r.a.createElement(Ge.a,{style:{marginTop:28,width:"100%"},isLarge:!0,disabled:this.shouldDisableNext(),onClick:this.handleNextClick},r.a.createElement(a.FormattedMessage,{defaultMessage:"Continue",id:"onboardingProfile.continueButton.label"}))))))}renderSaveNewPassword(){let e;const{currentUserStore:t}=V.default.state,{intl:n}=this.props;if(t){const n=t.getValue();n&&(e=n.email)}if(!e)return;const{password:i,passwordErrorData:s}=this.props.onboardingState,{isMobile:l}=this.environment.device;return r.a.createElement(o.Fragment,null,r.a.createElement(Sn.b,{style:{display:"none"},type:"text",value:e,autoComplete:"username",disabled:!0}),r.a.createElement("div",{style:this.environment.device.isMobile?this.getMobileFormLabelStyle():{...Ke.b,marginTop:12}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Set a password",id:"onboardingProfile.passwordInput.label"})),r.a.createElement(Sn.b,{type:this.stores.store.state.showPassword?"text":"password",value:i||void 0,onChange:this.handlePasswordChange,onIconClick:()=>this.stores.store.setState({showPassword:!this.stores.store.state.showPassword}),icon:F.a.eye({width:l?18:16,height:l?18:16,fill:this.theme.lightIconColor}),onClearButtonClick:this.handleClearPassword,placeholder:n.formatMessage({defaultMessage:"New password",id:"onboardingProfile.passwordInput.placeholder"}),style:{...this.getInputStyle(),..."password"===this.stores.store.state.invalidField?Ke.j:{}},onBlur:this.handlePasswordBlur,autoComplete:"new-password"}),r.a.createElement("div",{style:{marginTop:4,position:"relative"}},s&&r.a.createElement(Re.a,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,lineHeight:"16px",visibility:i?void 0:"hidden",color:m.g.red}},r.a.createElement(a.FormattedMessage,{id:"onboardingProfile.passwordGuidelines",defaultMessage:"Use a password at least 15 letters long, or at least 10 characters long with both letters and numbers"}))))}shouldCollectTeamRole(){const{userPersona:e}=this.props.onboardingState;return!!e&&!["student","freelancer","educator","entrepreneur"].includes(e)}getInvalidField(){const{firstName:e,lastName:t,password:n,userPersona:o,userTeamRole:r}=this.props.onboardingState;return e?t?!o&&Ke.v(this.environment)?"user_persona":!r&&Ke.v(this.environment)&&this.shouldCollectTeamRole()?"user_team_role":!n||Boolean(n&&!Object(li.a)(n).success)?"password":void 0:"last_name":"first_name"}shouldDisableNext(){return Boolean(this.getInvalidField())}getInputStyle(){const{device:e}=this.environment;return{backgroundColor:this.theme.whiteButtonBackground,height:31,...e.isMobile&&{height:42}}}getMobileFormLabelStyle(){return{fontSize:12,color:this.theme.mediumTextColor,fontWeight:500,marginTop:20,marginBottom:4}}}var wi=Object(a.injectIntl)(Si);class ki extends b.a{constructor(){super(...arguments),this.handleJoinSpaceClick=e=>{let t;if(!e.canJoinSpace&&e.guestPageIds.length>0){const n={type:"guest_redirect",pageId:e.guestPageIds[0],spaceId:e.id};t={...this.props.onboardingState,spaceId:e.id,redirectData:n,spaceJoinOrCreate:"join"}}else t={...this.props.onboardingState,spaceId:e.id,spaceJoinOrCreate:"join"};Ze.default.setState(t),K.d(this.environment,t)},this.handleCreateSpaceClick=()=>{const e={...this.props.onboardingState,spaceJoinOrCreate:"create"};Ze.default.setState(e),K.d(this.environment,e)}}didMount(){Q.zc(this.environment,Ke.f(this.props.onboardingState))}renderComponent(){const{device:e}=this.environment,{joinableSpaces:t}=this.props.onboardingState;return e.isMobile?this.renderMobile(t):this.renderDesktop(t)}renderDesktop(e){const t=e?e.length:0,n=t>0,{ThemeStore:o}=this.environment;return r.a.createElement(Ja,{title:r.a.createElement(a.FormattedMessage,{defaultMessage:"Join your teammates on Notion",id:"onboardingWorkspaceChoose.stage.title"}),subtitle:r.a.createElement(a.FormattedMessage,{defaultMessage:"{numberOfWorkspaces, plural, one {You've been invited to {numberOfWorkspaces} workspace. Join it, or create a new one.} other {You've been invited to {numberOfWorkspaces} workspaces. Pick one to join, or create a new one.}}",id:"onboardingWorkspaceChoose.stage.subtitle",values:{numberOfWorkspaces:t}}),illustrationUrl:Ke.d("ada-2",o),key:"onboarding_workspace_choose"},r.a.createElement("div",{style:{width:300,alignSelf:"center"}},r.a.createElement("div",null,n&&this.renderWorkspaceJoinSpaces(e),this.renderCreateSpace(n))))}renderMobile(e){const t=e?e.length:0,n=t>0,o=r.a.createElement(a.FormattedMessage,{defaultMessage:"{numberOfWorkspaces, plural, one {Looks like you've been invited to{br}<boldtext>{numberOfWorkspaces} workspace</boldtext>, let's join it!} other {Looks like you've been invited to{br}<boldtext>{numberOfWorkspaces} workspaces</boldtext>, let's join one!}}",id:"onboardingWorkspaceChoose.mobileStage.subtitle",values:{br:r.a.createElement("br",null),numberOfWorkspaces:t,boldtext:(...e)=>r.a.createElement("b",null,e)}});return r.a.createElement(ti,{key:"mobile-choose",showNextButton:!1,title:r.a.createElement(a.FormattedMessage,{defaultMessage:"Join a workspace",id:"onboardingWorkspaceChoose.mobileStage.title"}),subtitle:o,showBackButton:Ke.w(this.props.onboardingState)},this.renderWorkspaceJoinSpaces(e),this.renderCreateSpace(n))}renderWorkspaceJoinSpaces(e){return e&&r.a.createElement("div",null,e.map(e=>r.a.createElement($a,{key:e.id,style:{width:"100%",marginBottom:10},onClick:()=>{this.handleJoinSpaceClick(e)}},F.a.team({width:14,marginRight:6}),r.a.createElement("div",{style:{minWidth:0,overflow:"hidden",textOverflow:"ellipsis"}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Join <boldtext>{workspaceName}</boldtext>",id:"onboardingWorkspaceChoose.joinWorkspaceButton.label",values:{workspaceName:e.name,boldtext:(...e)=>r.a.createElement("b",null,e)}})),F.a.chevronRight({marginLeft:"auto",width:15}))))}renderCreateSpace(e){if(e)return r.a.createElement(Mn.a,{style:{marginTop:4,width:"100%",background:this.theme.whiteButtonBackground},onClick:()=>{this.handleCreateSpaceClick()}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Create new workspace",id:"onboardingWorkspaceChoose.createSpaceOption.message"}))}}var Ci=ki;class Mi extends b.a{constructor(){super(...arguments),this.handlePlanTypeSelect=e=>{const{onboardingState:t}=this.props;let n,o;"personal"===e&&(o="personal",n=t.onboardingData.isEducationPlanEligible?"student":"personal"),Ze.default.setState({...t,userPersona:n,userType:o})},this.handleNextClick=async()=>{const{environment:e,props:{onboardingState:t}}=this;Q.Ec(e,{...Ke.f(t),planType:"userType"in t&&"personal"===t.userType?"personal":"team"}),await K.d(e,t)}}didMount(){Q.zc(this.environment,Ke.f(this.props.onboardingState))}renderComponent(){const{onboardingState:e}=this.props,t=Boolean("userType"in e&&"personal"===e.userType),{device:n,ThemeStore:o}=this.environment;return n.isMobile?r.a.createElement(ti,{key:"mobile_plan",title:r.a.createElement(a.FormattedMessage,{defaultMessage:"I’m using Notion…",id:"onboardingWorkspacePlanChoose.mobileStep.title"}),subtitle:r.a.createElement(a.FormattedMessage,{defaultMessage:"We’ll streamline your setup experience accordingly.",id:"onboardingWorkspacePlanChoose.mobileStep.subtitle"}),showNextButton:!0,disableNextButton:!1,handleNextClick:this.handleNextClick,showBackButton:Ke.w(this.props.onboardingState)},this.renderChooser(t)):r.a.createElement(Ja,{title:r.a.createElement(a.FormattedMessage,{defaultMessage:"How are you planning to use Notion?",id:"onboardingWorkspacePlanChoose.step.title"}),subtitle:r.a.createElement(a.FormattedMessage,{defaultMessage:"We’ll streamline your setup experience accordingly.",id:"onboardingWorkspacePlanChoose.step.subtitle"}),key:"onboarding_workspace_plan",illustrationUrl:Ke.d("ada-1",o),footer:this.props.onboardingState.prefilled&&r.a.createElement(di,{onboardingState:this.props.onboardingState})},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},this.renderChooser(t),r.a.createElement(Ge.a,{style:{width:"280px",marginBottom:42},isLarge:!0,onClick:this.handleNextClick},t&&!this.environment.device.isMobile?r.a.createElement(a.FormattedMessage,{defaultMessage:"Take me to Notion",id:"onboardingWorkspacePlanChoose.goToNotionButton.label"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Continue",id:"onboardingWorkspacePlanChoose.continueButton.label"}))))}renderChooser(e){return r.a.createElement(o.Fragment,null,r.a.createElement("div",{style:this.getToggleGroupWrap()},r.a.createElement(N.a,{style:this.getToggleButtonStyle(e),hoveredStyle:this.getToggleButtonHoveredStyle(),pressedStyle:this.getToggleButtonHoveredStyle(),onClick:()=>this.handlePlanTypeSelect("personal"),className:_.Q},r.a.createElement("img",{src:e?Vn.a.images.onboarding.checkedSvg:Vn.a.images.onboarding.uncheckedSvg,style:this.getButtonCheckmarkStyle()}),r.a.createElement("div",{style:this.getButtonIllustrationWrapperStyle()},r.a.createElement("img",{src:Vn.a.images.onboarding.useCaseNotePng,style:{...this.getButtonIllustrationStyle(),...this.environment.device.isMobile?{height:54}:{}}})),r.a.createElement("main",{style:this.getButtonTextStyle()},r.a.createElement("header",{style:this.getButtonHeadingStyle()},r.a.createElement(a.FormattedMessage,{defaultMessage:"For myself",id:"onboardingWorkspacePlanChoose.personalUseCaseButton.label"})),r.a.createElement("p",{style:this.getButtonSubheadingStyle()},r.a.createElement(a.FormattedMessage,{defaultMessage:"Write better. Think more clearly. Stay organized.",id:"onboardingWorkspacePlanChoose.personalUseCaseButton.description"})),r.a.createElement("p",{style:this.getCalloutStyle(e)},r.a.createElement(a.FormattedMessage,{defaultMessage:"Free for 1 person",id:"onboardingWorkspacePlanChoose.personalUseCaseButton.callout"})))),r.a.createElement(N.a,{style:this.getToggleButtonStyle(!e),hoveredStyle:this.getToggleButtonHoveredStyle(),pressedStyle:this.getToggleButtonHoveredStyle(),onClick:()=>this.handlePlanTypeSelect("team"),className:_.R},r.a.createElement("img",{src:e?Vn.a.images.onboarding.uncheckedSvg:Vn.a.images.onboarding.checkedSvg,style:this.getButtonCheckmarkStyle()}),r.a.createElement("div",{style:this.getButtonIllustrationWrapperStyle()},r.a.createElement("img",{src:Vn.a.images.onboarding.teamFeaturesIllustrationPng,style:{...this.getButtonIllustrationStyle(),...this.environment.device.isMobile?{height:48}:{}}})),r.a.createElement("main",{style:this.getButtonTextStyle()},r.a.createElement("header",{style:this.getButtonHeadingStyle()},r.a.createElement(a.FormattedMessage,{defaultMessage:"With my team",id:"onboardingWorkspacePlanChoose.teamUseCaseButton.label"})),r.a.createElement("p",{style:this.getButtonSubheadingStyle()},r.a.createElement(a.FormattedMessage,{defaultMessage:"Collaborate on your docs, projects, and wikis.",id:"onboardingWorkspacePlanChoose.teamUseCaseButton.description"})),r.a.createElement("p",{style:this.getCalloutStyle(!e)},r.a.createElement(a.FormattedMessage,{defaultMessage:"Try for free",id:"onboardingWorkspacePlanChoose.teamUseCaseButton.callout"}))))))}getToggleGroupWrap(){return{...this.environment.device.isMobile?{marginTop:0,marginBottom:32}:{marginTop:"72px",marginBottom:"32px"},display:this.environment.device.isMobile?void 0:"inline-flex",width:"100%",justifyContent:"center"}}getToggleButtonStyle(e){const{environment:t,theme:n}=this,o={margin:12,textAlign:"center",width:230,height:298,padding:"40px 0",boxShadow:"".concat(n.outlineButtonBorder," 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px")},r={display:"flex",marginTop:20,padding:0,boxShadow:"".concat(n.outlineButtonBorder," 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px")},a={boxShadow:"".concat(m.g.blue," 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px")};return{alignItems:"center",justifyContent:"center",whiteSpace:"normal",borderRadius:5,fontSize:14,lineHeight:1.2,background:"white",position:"relative",transition:"all 200ms ease",...t.device.isMobile?r:o,...e&&a,...!e&&{opacity:.7}}}getToggleButtonHoveredStyle(){return{opacity:1,background:"white"}}getButtonTextStyle(){return{margin:this.environment.device.isMobile?10:20,flex:1}}getButtonHeadingStyle(){return{fontWeight:J.a.fontWeight.semibold,fontSize:this.environment.device.isMobile?16:18,marginTop:this.environment.device.isMobile?10:30,color:m.g.regularTextColor}}getBaseSubheadingStyle(){return{color:m.g.mediumTextColor,fontSize:14,lineHeight:1.4,transition:"all 200ms ease"}}getCalloutStyle(e){return{...this.getBaseSubheadingStyle(),opacity:e?1:.7,filter:e?void 0:"grayscale(100%)",color:m.g.blue,marginTop:this.environment.device.isMobile?0:12,fontWeight:500,lineHeight:1}}getButtonSubheadingStyle(){const e=this.environment.device.isMobile;return{...this.getBaseSubheadingStyle(),marginTop:e?4:12,marginBottom:8}}getButtonCheckmarkStyle(){return this.environment.device.isMobile?{order:1,marginRight:20,height:24,width:24}:{position:"absolute",top:12,right:12,height:24,width:24}}getButtonIllustrationWrapperStyle(){return this.environment.device.isMobile?{marginLeft:10,height:57,width:85,textAlign:"center"}:{height:90}}getButtonIllustrationStyle(){return{height:"100%"}}}var Ei=Mi,_i=n("gyBu"),Ti=n("pQrc");class xi extends Ye.a{getInitialState(){return{emailValue:"",emails:[],validationError:void 0,isInviting:!1}}}var Ii=xi,Pi=n("WLsh"),Oi=n("aZ00");class Bi extends b.a{constructor(){super(...arguments),this.inputStyle={borderTopRightRadius:0,borderBottomRightRadius:0,width:"calc(100% - 90px)",height:32,background:this.theme.whiteButtonBackground},this.buttonStyle={borderTopLeftRadius:0,borderBottomLeftRadius:0,width:90}}renderComponent(){const{value:e,onClick:t}=this.props;return r.a.createElement("div",{style:{display:"flex",alignItems:"flex-start"}},r.a.createElement(Sn.b,{type:"text",format:Sn.a.Default,value:e,disabled:!0,style:this.inputStyle}),r.a.createElement(Ge.a,{onClick:()=>{t&&t(),Oi.c({environment:this.environment,stringValue:e})},style:this.buttonStyle,isLarge:!0},r.a.createElement(a.FormattedMessage,{id:"inlineCopyButton.copyButtonText",defaultMessage:"Copy link"})))}}var Li=Object(a.injectIntl)(Bi),Ri=n("W3at"),Di=n("9wIn");class Ai extends b.a{constructor(){super(...arguments),this.storeTypes={store:Ii,spacePermissionsSettingsStore:_i.b},this.handleTokenInputEnter=e=>{const t=e.target.value,n=Object(Pi.b)(t);n&&this.stores.store.setState({...this.stores.store.state,emails:[...this.stores.store.state.emails,n],emailValue:""})},this.handleTokenInputChange=e=>{const t=e.target.value,{extractedEmails:n,newInputValue:o}=Object(Pi.a)(t);this.stores.store.setState({...this.stores.store.state,emails:[...this.stores.store.state.emails,...n],emailValue:o})},this.handleInviteClick=async()=>{const{state:e}=this.stores.store,{intl:t}=this.props;this.stores.store.setState({...e,validationError:void 0,isInviting:!0});const n=Xe.a.compact(e.emails);n.forEach(n=>{n&&!Object(Pi.c)(n)&&this.stores.store.setState({...e,validationError:t.formatMessage({defaultMessage:"One or more invalid emails found.",id:"onboardingInvite.error.invalidEmailFound.message"})})});const o={...this.props.onboardingState,emails:n};Ze.default.setState(o),Boolean(this.stores.store.state.validationError)||await K.d(this.environment,o),this.stores.store.setState({...this.stores.store.state,isInviting:!1})},this.handleClickRemoveToken=e=>{this.stores.store.setState({...this.stores.store.state,emails:this.stores.store.state.emails.filter(t=>"newUser"===e.type&&t!==e.value.email)})},this.handleMobileInviteLink=()=>{const e=this.props.onboardingState.inviteLinkUrl;e&&Oi.c({environment:this.environment,stringValue:e}),Q.xc(this.environment,Ke.f(this.props.onboardingState))}}didMount(){Q.zc(this.environment,Ke.f(this.props.onboardingState))}renderComponent(){const{device:e}=this.environment;return e.isMobile?this.renderMobile():this.renderDesktop()}renderDesktop(){return r.a.createElement(ri.a,{capture:!0,onLeft:Xe.a.identity,onRight:Xe.a.identity,onSelectAll:Xe.a.identity,onRedo:Xe.a.identity,onUndo:Xe.a.identity,onCut:Xe.a.identity,onCopy:Xe.a.identity,onPaste:Xe.a.identity,onKeypress:Xe.a.identity,onDelete:Xe.a.identity,onBackspace:Xe.a.identity,onTab:Xe.a.identity},r.a.createElement(Ja,{title:r.a.createElement(a.FormattedMessage,{defaultMessage:"Invite your teammates",id:"onboardingInvite.chrome.title"}),subtitle:r.a.createElement(a.FormattedMessage,{defaultMessage:"Notion works great for teams of any size.",id:"onboardingInvite.chrome.subtitle"}),illustrationUrl:Ke.d("ada-1",this.environment.ThemeStore),key:"invite"},this.renderForm()))}renderMobileInviteLink(){return r.a.createElement($a,{style:this.getMobileInviteLinkStyle(),onClick:this.handleMobileInviteLink},r.a.createElement(a.FormattedMessage,{defaultMessage:"Copy invite link",id:"onboardingInvite.mobile.copyButton.title"}))}renderDesktopInviteLink(){return r.a.createElement("div",null,r.a.createElement("div",{style:{...Ke.b,color:this.theme.mediumTextColor,marginTop:16}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Share a secret invite link",id:"onboardingInvite.shareInviteLink.message"})),r.a.createElement(Li,{value:this.props.onboardingState.inviteLinkUrl||"",onClick:()=>{Q.xc(this.environment,Ke.f(this.props.onboardingState))}}),r.a.createElement(Re.a,{isMultiline:!0,isSmall:!0,style:{marginTop:8,marginBottom:28}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Your teammates will be added to your workspace automatically when they click on this link.",id:"onboardingInvite.shareInviteLink.caption"})))}renderForm(){const e=this.stores.store.state.emails.map(e=>({type:"newUser",value:{email:e||""}})).map(e=>r.a.createElement(Di.a,{target:e,onClickRemove:this.handleClickRemoveToken}));return r.a.createElement("div",{style:{width:450,alignSelf:"center"}},this.renderDesktopInviteLink(),r.a.createElement("div",{style:{...Ke.b,color:this.theme.mediumTextColor,marginTop:16}},r.a.createElement(a.FormattedMessage,{id:"onboardingInvite.addEmail.invitePrompt",defaultMessage:"Invite via email"})),this.stores.store&&r.a.createElement(Ri.a,{format:Ri.a.Format.Share,value:this.stores.store.state.emailValue,onChange:this.handleTokenInputChange,type:"email",tokens:e,disabled:!1,placeholder:this.props.intl.formatMessage({id:"onboardingInvite.addEmail.placeholder",defaultMessage:"Type or paste in one or multiple emails separated by commas"}),right:null,onEnter:this.handleTokenInputEnter,onEmptyEnter:()=>{},onRemoveLastToken:()=>{},dontShowBorderBottom:!1,style:{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset",background:this.theme.whiteButtonBackground,borderRadius:3,height:100}}),r.a.createElement(Re.a,{isMultiline:!0,isSmall:!0,style:{marginTop:8,marginBottom:28}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Use commas to separate between email addresses.",id:"onboardingInvite.addEmail.caption"})),this.renderAutoJoinOption(),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},r.a.createElement(Ge.a,{style:{marginTop:20,width:"280px"},isLarge:!0,onClick:this.handleInviteClick,disabled:this.stores.store.state.isInviting},this.environment.device.isMobile?r.a.createElement(a.FormattedMessage,{defaultMessage:"Continue",id:"onboardingInvite.mobileButton.label"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Take me to Notion",id:"onboardingInvite.desktopButton.label"}))))}renderMobile(){return r.a.createElement(ri.a,{capture:!0,onLeft:Xe.a.identity,onRight:Xe.a.identity,onSelectAll:Xe.a.identity,onRedo:Xe.a.identity,onUndo:Xe.a.identity,onCut:Xe.a.identity,onCopy:Xe.a.identity,onPaste:Xe.a.identity,onKeypress:Xe.a.identity,onDelete:Xe.a.identity,onBackspace:Xe.a.identity,onTab:Xe.a.identity},r.a.createElement(ti,{showBackButton:!1,showNextButton:!0,disableNextButton:this.shouldDisableNext(),key:"mobile-invites",title:r.a.createElement(a.FormattedMessage,{defaultMessage:"Invite teammates",id:"onboardingInvite.mobileStep.title"}),subtitle:r.a.createElement("span",{style:{wordBreak:"keep-all"}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Notion works great for teams of any size.",id:"onboardingInvite.mobileStep.subtitle"})),handleNextClick:this.handleInviteClick},this.renderMobileSplash(),this.renderMobileInviteLink(),this.renderAutoJoinOption()))}renderMobileSplash(){const{ThemeStore:e}=this.environment,t="/tutorial/onboarding-wiki".concat("dark"===e.state.mode?"-dark":"",".png");return r.a.createElement("img",{alt:"Image of users with scroll",src:t,style:this.getMobileSplashStyle(),width:"85%"})}renderAutoJoinOption(){const{device:e}=this.environment;return Boolean(this.props.onboardingState.emailDomain)?r.a.createElement("div",{style:{...Ke.y,display:"flex",...e.isMobile?{marginBottom:16}:{marginTop:16}}},r.a.createElement("div",{style:{marginRight:10,paddingTop:4,...e.isMobile?{}:{paddingTop:3}}},r.a.createElement(to.a,{checked:this.props.onboardingState.isChecked,onClick:()=>{Ze.default.setState({...this.props.onboardingState,isChecked:!this.props.onboardingState.isChecked})},size:e.isMobile?16:14})),r.a.createElement("div",{onClick:()=>{Ze.default.setState({...this.props.onboardingState,isChecked:!this.props.onboardingState.isChecked})},style:{...Ke.i(this.theme),fontSize:e.isMobile?15:14}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Allow anyone with a @{emailDomain} email to join this workspace",id:"onboardingInvite.emailDomainAutoJoinCheckbox.label",values:{emailDomain:this.props.onboardingState.emailDomain}}))):void 0}getEmailDomainForUser(e){if(e){const t=e.getValue(),{onboardingData:n}=this.props.onboardingState;if(t&&n.isUserDomainJoinable){const e=Object(Ti.a)(t.email);if(e)return e}}}shouldDisableNext(){return this.stores.store.state.isInviting}getMobileSplashStyle(){return{width:"100%",textAlign:"center"}}getMobileInviteLinkStyle(){return{marginTop:"5vh",width:"100%",background:this.theme.buttonBackground,marginBottom:10}}}var ji=Object(a.injectIntl)(Ai);class Fi extends b.a{constructor(){super(...arguments),this.handleClick=async()=>{await K.d(this.environment,this.props.onboardingState)}}didMount(){const e=Ze.default.state;Q.zc(this.environment,Ke.f(e))}renderButton(){return r.a.createElement($a,{style:{...this.props.redirectToStart?{backgroundColor:m.g.blue,color:m.g.white}:{},marginTop:16,width:"100%"},onClick:this.handleClick},this.props.redirectToStart?r.a.createElement(a.FormattedMessage,{defaultMessage:"Get started",id:"onboardingMobileTutorial.getStartedButton.label"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Next",id:"onboardingMobileTutorial.nextButton.label"}))}renderComponent(){return r.a.createElement(ti,{showNextButton:!1,key:"mobile-tutorial",showBackButton:!1},r.a.createElement("div",{style:Fi.wrapStyle},this.renderMobileTutorialIllustration(),r.a.createElement("div",{style:Fi.mobileTutorialStepStyle},this.props.tipNumber,r.a.createElement("span",{style:{color:this.theme.mediumTextColor}}," ","/ 4")),this.props.contents,this.renderButton()),this.props.visual)}renderMobileTutorialIllustration(){const{ThemeStore:e}=this.environment;return r.a.createElement("img",{src:Ke.d("simon-half",e),style:{width:100,height:100,marginBottom:8}})}}Fi.wrapStyle={position:"relative",paddingLeft:16,paddingRight:16},Fi.mobileTutorialStepStyle={textAlign:"right",position:"absolute",top:-4,right:0};var Vi=Fi;class Ni extends b.a{renderComponent(){return"Iphone"===this.props.format?this.renderIphone():"IphoneX"===this.props.format?this.renderIphoneX():this.renderAndroid()}renderIphone(){return r.a.createElement("div",{style:{boxShadow:"0 12px 30px ".concat(m.g.blackWithAlpha(.25)),background:m.g.frontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%",...this.props.style}},r.a.createElement("div",{style:{width:"100%",height:0,paddingBottom:"202.5%",backgroundImage:"url(".concat(Vn.a.images.chromeMobileIphonePng,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),r.a.createElement("div",{style:{position:"absolute",top:0,left:"6.66667%",width:"86.66666667%",marginTop:"24%"}},this.props.children))}renderIphoneX(){return r.a.createElement("div",{style:{position:"relative",transform:"translateZ(0)",width:"100%",filter:"drop-shadow(rgba(15, 15, 15, 0.2) 0px 6px 12px)",...this.props.style}},r.a.createElement("img",{src:Vn.a.images.devices.iphoneXFramePng,style:{width:"100%",display:"block",position:"relative",zIndex:2}}),r.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",background:m.g.white,transform:"translate(-50%, -50%)",width:"84.5%",height:"95%"}},this.props.children))}renderAndroid(){return r.a.createElement("div",{style:{boxShadow:"0 12px 30px ".concat(m.g.blackWithAlpha(.25)),background:m.g.frontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%",...this.props.style}},r.a.createElement("div",{style:{width:"100%",height:0,paddingBottom:"205.73012939%",backgroundImage:"url(".concat(Vn.a.images.chromeMobileAndroidPng,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),r.a.createElement("div",{style:{position:"absolute",top:0,left:"4.1589648799%",width:"91.5785582255%",marginTop:"20.60998152%"}},this.props.children))}}var Ui=Ni,zi=n("NCLm"),Xi=n("Oy36");class Yi extends Ye.a{getInitialState(){return{useCases:Xe.a.shuffle([io.g,io.c,io.e])}}}var Hi=Yi;class qi extends b.a{constructor(){super(...arguments),this.storeTypes={store:Hi},this.renderCheckboxForUseCase=e=>{const{initialUseCases:t}=this.props.onboardingState,n=e=>{Ze.default.setState({...this.props.onboardingState,initialUseCases:t.includes(e)?Xe.a.filter(t,t=>t!==e):Xe.a.uniq([...t,e])})};return r.a.createElement("div",{style:{display:"flex",paddingTop:2}},r.a.createElement("div",{style:{marginRight:10,paddingTop:5}},r.a.createElement(to.a,{checked:t.includes(e),onClick:()=>{n(e)},checkSize:10,size:12,fill:this.theme.mediumTextColor})),r.a.createElement("div",{onClick:()=>{n(e)},style:{color:this.theme.regularTextColor,fontSize:14}},(e=>{switch(e){case io.c:return r.a.createElement(a.FormattedMessage,{defaultMessage:"Notes & docs",id:"onboardingWorkspaceCreate.initialUseCase.docNotesLabel"});case io.e:return r.a.createElement(a.FormattedMessage,{defaultMessage:"Projects & tasks",id:"onboardingWorkspaceCreate.initialUseCase.projectManagementLabel"});case io.g:return r.a.createElement(a.FormattedMessage,{defaultMessage:"Team wiki",id:"onboardingWorkspaceCreate.initialUseCase.wikiLabel"})}})(e)))},this.handleNextClick=async()=>{const{onboardingState:e,intl:t}=this.props,{spaceName:n,userType:o,userPersona:r,initialUseCases:a}=e,i=Ke.u(this.environment);if(!n||!o||!r||!a&&i)return void K.c(this.environment,new TypeError(t.formatMessage({id:"onboardingWorkspaceCreate.fieldUndefinedError.message",defaultMessage:"Workspace create field is undefined."})));const s={userPersona:r,...e,spaceName:n,userType:o,initialUseCases:a};await K.d(this.environment,s)},this.handleIconUploadComplete=e=>{const{onboardingState:t}=this.props;Q.Kc(this.environment,{...Ke.f(t),spaceIcon:e}),Ze.default.setState({...t,spaceIcon:e||null,uploadingSpaceIcon:!1})},this.handleSubmit=()=>{const e=this.getInvalidField();Boolean(e)?this.stores.store.setState({...this.stores.store.state,invalidField:e}):this.handleNextClick()}}didMount(){Q.zc(this.environment,Ke.f(this.props.onboardingState))}renderComponent(){const e=r.a.createElement(a.FormattedMessage,{defaultMessage:"Create a team workspace",id:"onboardingWorkspaceCreate.stage.team.title"}),t=r.a.createElement(a.FormattedMessage,{defaultMessage:"Fill in some details for your teammates.",id:"onboardingWorkspaceCreate.stage.subtitle"}),{device:n,ThemeStore:o}=this.environment;return n.isMobile?r.a.createElement(ti,{showNextButton:!0,disableNextButton:this.shouldDisableNext(),handleNextClick:this.handleNextClick,key:"mobile-workspace-create",title:e,subtitle:t,showBackButton:Ke.w(this.props.onboardingState)},this.renderForm()):r.a.createElement(Ja,{title:e,subtitle:t,illustrationUrl:Ke.d("ada-1",o),key:"profile"},this.renderForm())}renderForm(){const{spaceIcon:e,spaceName:t}=this.props.onboardingState,{intl:n}=this.props,o=e?{pointer:{table:"space",id:"undefined"},icon:e}:void 0;return r.a.createElement(ri.a,{capture:!0,onLeft:Xe.a.identity,onRight:Xe.a.identity,onSelectAll:Xe.a.identity,onRedo:Xe.a.identity,onUndo:Xe.a.identity,onCut:Xe.a.identity,onCopy:Xe.a.identity,onPaste:Xe.a.identity,onKeypress:Xe.a.identity,onDelete:Xe.a.identity,onBackspace:Xe.a.identity,onTab:Xe.a.identity,onEnter:this.handleSubmit},r.a.createElement("div",{style:{...this.environment.device.isMobile?{}:{width:280},alignSelf:"center"}},!this.environment.device.isMobile&&r.a.createElement("div",{style:{width:180,overflow:"hidden",margin:"0 auto"}},r.a.createElement("div",{style:this.getRecordIconWrapperStyle()},r.a.createElement(Xi.a,{bucket:"public",disabled:!1,icon:o,isEmptyPage:!1,title:t||"Notion",size:70,onChange:this.handleIconUploadComplete}),this.renderButtonLabel())),r.a.createElement("div",{style:{...Ke.b,color:this.theme.mediumTextColor,marginTop:16}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Workspace name",id:"onboardingWorkspaceCreate.workspaceNameInput.label"})),r.a.createElement(Sn.b,{focusInitial:!0,value:t,placeholder:n.formatMessage({defaultMessage:"Acme Inc.",id:"onboardingWorkspaceCreate.workspaceNameInput.placeholder",description:"Placeholder for a generic company name, used when a user is creating a new company workspace. Please feel free to use some locale-specific equivalent placeholder, instead of the direct translation of 'Acme Inc.'"}),onChange:e=>{Ze.default.setState({...this.props.onboardingState,spaceName:e.target.value})},style:{marginRight:4,...this.getInputStyle(),..."space_name"===this.stores.store.state.invalidField?Ke.j:{}}}),r.a.createElement("div",{style:{marginTop:4}},r.a.createElement(Re.a,{isMultiline:!0,isSmall:!0},r.a.createElement(a.FormattedMessage,{defaultMessage:"The name of your company or organization.",id:"onboardingWorkspaceCreate.workspaceNameInput.hint"}))),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement("div",{style:{...Ke.b,color:this.theme.mediumTextColor,marginTop:0}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Company size",id:"onboardingWorkspaceCreate.companySizePicker.placeholder"})),this.renderTeamSizeSelect()),r.a.createElement("div",{style:{...Ke.y,marginTop:16}},!Ke.v(this.environment)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{...Ke.b,color:this.theme.mediumTextColor,marginTop:0}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Your starting team",id:"onboardingWorkspaceCreate.teamTypePicker.label"})),r.a.createElement(gi,{onboardingState:this.props.onboardingState}))),Ke.u(this.environment)&&r.a.createElement("div",{style:{...Ke.y,marginTop:16}},r.a.createElement("div",{style:{...Ke.b,color:this.theme.mediumTextColor,marginTop:0}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Using Notion for",id:"onboardingWorkspaceCreate.useCase.label"})),this.renderInitialUseCaseCheckboxes()),!this.environment.device.isMobile&&r.a.createElement(Ge.a,{style:{marginTop:20,width:"100%"},isLarge:!0,disabled:this.shouldDisableNext(),onClick:this.handleNextClick},r.a.createElement(a.FormattedMessage,{defaultMessage:"Continue",id:"onboardingWorkspaceCreate.nextButton.labelInvite"}))))}renderButtonLabel(){return r.a.createElement("div",{style:this.getButtonLabelStyle()},r.a.createElement(a.FormattedMessage,{defaultMessage:"Add a logo",id:"onboarding.workspaceCreate.buttonLabel.title"}))}renderTeamSizeSelect(){const{userType:e}=this.props.onboardingState,{intl:t}=this.props,n=zi.c(t),o=n.find(t=>t.type===e),i={menuTitle:t.formatMessage({defaultMessage:"Company size",id:"onboardingWorkspaceCreate.companySizePicker.title"}),items:n,width:280,getKey:e=>e.type,selectedItem:o,originGap:4,onSelect:e=>{const{onboardingState:t}=this.props,{type:n}=e;Q.Lc(this.environment,{...Ke.f(t),userType:n}),Ze.default.setState({...t,userType:n})},renderItem:e=>r.a.createElement(mi.a,Object.assign({title:e.value.displayName},e)),renderOrigin:e=>r.a.createElement(Mn.a,{isLarge:!0,onClick:t=>e.onClick(t),style:{padding:"2px 10px 2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:3,border:0,transition:"box-shadow 0.3s ease",boxShadow:"0 0 0 1px ".concat(this.theme.outlineButtonBorder),background:this.theme.buttonBackground,...this.getInputStyle()}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",color:o?this.theme.regularTextColor:this.theme.lightTextColor},className:"notranslate"},o?o.displayName:r.a.createElement(a.FormattedMessage,{defaultMessage:"Select company size",id:"onboardingWorkspaceCreate.companySizePicker.label"})),F.a.expand({width:10,fill:this.theme.lightIconColor}))};return r.a.createElement(hi.a,Object.assign({key:"onboarding"},i))}renderInitialUseCaseCheckboxes(){return r.a.createElement(r.a.Fragment,null,this.stores.store.state.useCases.map(e=>this.renderCheckboxForUseCase(e)))}getInvalidField(){const{spaceName:e,userType:t,userPersona:n,initialUseCases:o}=this.props.onboardingState;if(!e)return"space_name";if(!t)return"user_type";const r=Ke.v(this.environment);return n||r?o||r?void 0:"initial_use_cases":"user_persona"}shouldDisableNext(){return Boolean(this.getInvalidField())}getInputStyle(){const{device:e}=this.environment;return{backgroundColor:this.theme.whiteButtonBackground,height:31,...e.isMobile&&{height:42}}}getRecordIconWrapperStyle(){return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginRight:4}}getButtonLabelStyle(){return{fontSize:12,fontWeight:500,marginTop:4,color:this.theme.mediumTextColor}}}var Wi=Object(a.injectIntl)(qi);class Gi extends Ye.a{getInitialState(){return{useCases:Xe.a.shuffle([io.g,io.c,io.e]),hoveredUseCase:void 0}}}var Zi=Gi;class Ki extends b.a{constructor(){super(...arguments),this.handleUpdateHoveredUseCase=e=>{clearTimeout(this.setPlaceholderTimeout),this.props.store.setState({...this.props.store.state,hoveredUseCase:e})}}renderComponent(){const{heading:e,subheading:t,callout:n,icon:o,useCase:i,initialUseCases:s,planType:l}=this.props,c=s.includes(i),d=e=>{Ze.default.setState({...this.props.onboardingState,initialUseCases:s.includes(e)?Xe.a.filter(s,t=>t!==e):Xe.a.uniq([...s,e])})};return r.a.createElement(N.a,{style:this.getToggleButtonStyle(c),hoveredStyle:this.getToggleButtonHoveredStyle(c),pressedStyle:this.getToggleButtonHoveredStyle(c),onClick:()=>d(i),onMouseEnter:()=>this.handleUpdateHoveredUseCase(i)},r.a.createElement("div",{style:this.getButtonImageStyle()},o),r.a.createElement("img",{src:c?Vn.a.images.onboarding.checkedSvg:Vn.a.images.onboarding.uncheckedSvg,style:this.getButtonCheckmarkStyle()}),r.a.createElement("div",{style:this.getButtonTextStyle()},r.a.createElement("div",{style:this.getButtonHeadingStyle()},e),r.a.createElement("div",{style:this.getButtonSubheadingStyle()},t),r.a.createElement("div",{style:this.getCalloutStyle(!0)},"personal"===l&&"wiki"===i?r.a.createElement(a.FormattedMessage,{defaultMessage:"Import from",id:"onboardingWorkspaceUseCaseSetup.personalUseCaseButton.callout"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Replaces",id:"onboardingWorkspaceUseCaseSetup.teamUseCaseButton.callout"}),"string"==typeof n?r.a.createElement("img",{style:this.getImportImageStyle(),src:n}):n)))}getBaseSubheadingStyle(){return{color:this.theme.mediumTextColor,fontSize:14,lineHeight:1.4,transition:"all 200ms ease"}}getCalloutStyle(e){return{...this.getBaseSubheadingStyle(),fontSize:12,color:this.theme.lightTextColor,marginTop:12,marginBottom:0,lineHeight:1}}getButtonSubheadingStyle(){return{...this.getBaseSubheadingStyle(),marginBottom:0,marginTop:4}}getToggleButtonStyle(e){const{environment:t,theme:n}=this;return{...{alignItems:"center",justifyContent:"center",whiteSpace:"normal",borderRadius:5,fontSize:14,lineHeight:1.2,background:n.whiteButtonBackground,position:"relative",transition:"box-shadow 200ms ease, opacity 200ms ease",border:"1px solid ".concat(n.outlineButtonBorder),paddingTop:1,opacity:.9,boxShadow:"0px 1px 2px rgba(12, 12, 12, 0.05)",height:120,margin:0},...t.device.isMobile?{display:"flex",padding:0,width:"100%"}:{width:300,paddingLeft:16},...e&&{boxShadow:"rgba(12, 12, 12, 0.05) 0px 8px 12px",opacity:1}}}getToggleButtonHoveredStyle(e){return{background:this.theme.whiteButtonBackground,boxShadow:"0px 8px 12px rgba(12, 12, 12, 0.05)",opacity:1}}getButtonImageStyle(){return{position:"absolute",top:14,left:14,height:22,width:22}}getButtonCheckmarkStyle(){return{position:"absolute",top:12,right:14,height:18,width:18}}getButtonTextStyle(){return{flex:1,paddingRight:35,paddingLeft:this.environment.device.isMobile?50:35,paddingTop:2}}getButtonHeadingStyle(){return{fontWeight:J.a.fontWeight.semibold,fontSize:16,marginTop:this.environment.device.isMobile?0:12,marginBottom:4,color:this.theme.regularTextColor}}getImportImageStyle(){return{height:14,verticalAlign:"text-bottom",paddingLeft:8,display:"inline-block"}}}var Ji=Ki,Qi=n("naZa");class $i extends b.a{constructor(){super(...arguments),this.storeTypes={store:Zi},this.handleNextClick=async()=>{const{environment:e,props:{onboardingState:t}}=this;Q.Ec(e,{...Ke.f(t),planType:"userType"in t&&"personal"===t.userType?"personal":"team"}),await K.d(e,t)},this.handlePlanTypeSelect=e=>{const{onboardingState:t}=this.props;let n,o;"personal"===e&&(o="personal",n=t.onboardingData.isEducationPlanEligible?"student":"personal"),Ze.default.setState({userPersona:n,...t,userType:o})}}didMount(){Q.zc(this.environment,Ke.f(this.props.onboardingState))}renderComponent(){const{device:e}=this.environment;return e.isMobile?r.a.createElement(ti,{key:"mobile_plan",title:r.a.createElement(a.FormattedMessage,{defaultMessage:"I’m using Notion",id:"onboardingWorkspaceUseCaseSetup.mobileStep.title"}),subtitle:this.renderSegmentedButton(),showNextButton:!0,disableNextButton:!1,handleNextClick:this.handleNextClick,showBackButton:Ke.w(this.props.onboardingState)},this.renderContent()):r.a.createElement(Ja,{title:r.a.createElement(a.FormattedMessage,{defaultMessage:"How are you planning to use Notion?",id:"onboardingWorkspaceUseCaseSetup.step.title"}),subtitle:this.renderSegmentedButton(),key:"onboarding_workspace_use_case_setup",footer:this.props.onboardingState.prefilled&&r.a.createElement(di,{onboardingState:this.props.onboardingState})},r.a.createElement("div",{style:this.getContentContainerStyle()},this.renderContent(),r.a.createElement(Ge.a,{style:this.getBlueButtonStyle(),isLarge:!0,onClick:this.handleNextClick},this.isPersonal()&&!this.environment.device.isMobile?r.a.createElement(a.FormattedMessage,{defaultMessage:"Take me to Notion",id:"onboardingWorkspaceUseCaseSetup.goToNotionButton.label"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Continue",id:"onboardingWorkspaceUseCaseSetup.continueButton.label"}))))}renderSegmentedButton(){return r.a.createElement("div",{style:this.getSegmentedButtonContainerStyle()},r.a.createElement(N.a,{style:{...this.getSegmentedButtonDefaultStyle(),...this.getSegmentedButtonSelectedStyle("team")},hoveredStyle:this.getSegmentedButtonHoveredStyle(),onClick:()=>this.handlePlanTypeSelect("team")},r.a.createElement("span",{style:this.getSegmentedControlButtonIconContainerStyle()},F.a.membersFilled(this.getSegmentedControlButtonIconStyle()),r.a.createElement(a.FormattedMessage,{defaultMessage:"With my team",id:"onboardingWorkspaceUseCaseSetup.segmentedButton.teamLabel"}))),r.a.createElement(N.a,{style:{...this.getSegmentedButtonDefaultStyle(),...this.getSegmentedButtonSelectedStyle("personal")},hoveredStyle:this.getSegmentedButtonHoveredStyle(),onClick:()=>this.handlePlanTypeSelect("personal")},r.a.createElement("span",{style:this.getSegmentedControlButtonIconContainerStyle()},F.a.person(this.getSegmentedControlButtonIconStyle()),r.a.createElement(a.FormattedMessage,{defaultMessage:"For myself",id:"onboardingWorkspaceUseCaseSetup.segmentedButton.personalLabel"}))))}renderPreview(){if(this.environment.device.isMobile)return;const e=Boolean(this.stores.store.state.hoveredUseCase),t=r.a.createElement("div",{style:{width:"100%",display:"flex",position:"relative"}},r.a.createElement("img",{style:{width:"75%",margin:"0 auto",position:"absolute",top:60,left:"50%",transform:"translateX(-50%)",...e?{opacity:0,display:"none"}:{opacity:"dark"===this.theme.mode?.2:1}},src:Vn.a.images.onboarding.templatePlaceholderSvg})),n={maxHeight:500,width:"100%",position:"absolute"},o=(e,t)=>this.stores.store.state.hoveredUseCase===t&&("personal"===e?this.isPersonal():!this.isPersonal()),a=r.a.createElement(Qi.a,{style:{...n,opacity:o("team",io.c)?1:0,height:o("team",io.c)?"auto":0},key:"8411e17f-6bb5-42b6-98bd-f6398e41bc20",previewRootId:"8411e17f-6bb5-42b6-98bd-f6398e41bc20",isFrontPage:!1,disabled:!0}),i=r.a.createElement(Qi.a,{style:{...n,opacity:o("personal",io.c)?1:0,height:o("personal",io.c)?"auto":0},key:"e36bcdfe-6a50-4b59-b890-e74822283837",previewRootId:"e36bcdfe-6a50-4b59-b890-e74822283837",isFrontPage:!1,disabled:!0}),s=r.a.createElement(Qi.a,{style:{...n,opacity:o("team",io.e)?1:0,height:o("team",io.e)?"auto":0},key:"049c3ee8-11c3-4486-8b78-d043e152241b",previewRootId:"049c3ee8-11c3-4486-8b78-d043e152241b",isFrontPage:!1,disabled:!0}),l=r.a.createElement(Qi.a,{style:{...n,opacity:o("personal",io.e)?1:0,height:o("personal",io.e)?"auto":0},key:"7754cf02-251f-4bc9-ab2f-9cc897765336",previewRootId:"7754cf02-251f-4bc9-ab2f-9cc897765336",isFrontPage:!1,disabled:!0}),c=Object(rt.i)("wiki",this.isPersonal()?"personal":"team",this.props.onboardingState.userPersona||"unfilled",this.props.intl).items[0],d=r.a.createElement("div",{style:{transform:"translateY(-250px)"}},r.a.createElement(Qi.a,{style:{...n,opacity:o("team",io.g)?1:0,height:o("team",io.g)?"auto":0},key:c.previewRootId,previewRootId:c.previewRootId,isFrontPage:!1,disabled:!0})),u=r.a.createElement("div",{style:{transform:"translateY(-250px)"}},r.a.createElement(Qi.a,{style:{...n,opacity:o("personal",io.g)?1:0,height:o("personal",io.g)?"auto":0},key:"360acc93-778f-4aa4-b9d2-c633f53eda1b",previewRootId:"360acc93-778f-4aa4-b9d2-c633f53eda1b",isFrontPage:!1,disabled:!0}));return r.a.createElement("div",{style:this.getPreviewContainerStyle(e)},t,r.a.createElement("div",{style:{width:"127%",transform:"scale(0.8) translate3d(-2px,-38px,0)",transformOrigin:"0 -2px"}},s,d,a,l,u,i))}renderContent(){const{initialUseCases:e}=this.props.onboardingState;return r.a.createElement("div",{style:{maxWidth:1200,width:"100%",padding:this.environment.device.isMobile?0:"0 48px"}},r.a.createElement("div",{style:this.getStepContainerStyle()},r.a.createElement("div",null,r.a.createElement("div",{style:this.getSelectUseCaseStyle()},r.a.createElement("div",{style:this.getSelectUseCaseTitleTextStyle()},r.a.createElement(a.FormattedMessage,{defaultMessage:"Select use cases",id:"onboardingWorkspaceUseCaseSetup.selectUseCases.label"})),r.a.createElement("div",{style:this.getSelectAllStyle(),onClick:()=>{Ze.default.setState({...this.props.onboardingState,initialUseCases:[io.e,io.c,io.g]})}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Select all",id:"onboardingWorkspaceUseCaseSetup.selectAllUseCases.label"}))),r.a.createElement("div",{style:{display:"grid",gridGap:16}},r.a.createElement(Ji,{planType:this.isPersonal()?"personal":"team",store:this.stores.store,onboardingState:this.props.onboardingState,heading:this.isPersonal()?r.a.createElement(a.FormattedMessage,{defaultMessage:"Sites & wikis",id:"onboardingWorkspaceUseCaseSetup.wikiUseCaseButtonPersonal.label"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Team wikis",id:"onboardingWorkspaceUseCaseSetup.wikiUseCaseButton.label"}),subheading:this.isPersonal()?r.a.createElement(a.FormattedMessage,{defaultMessage:"Build a personal home, or sites to share with the world.",id:"onboardingWorkspaceUseCaseSetup.wikiUseCaseButtonPersonal.description"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Your team's long term memory, all in one spot.",id:"onboardingWorkspaceUseCaseSetup.wikiUseCaseButton.description"}),callout:this.isPersonal()?r.a.createElement(a.FormattedMessage,{defaultMessage:" HTML and Markdown",id:"onboardingWorkspaceUseCaseSetup.wikiUseCaseButton.callout"}):Vn.a.images.replaces.wikisPng,icon:F.a.onboardingUseCaseBook(this.getIconStyle()),useCase:io.g,initialUseCases:e}),r.a.createElement(Ji,{planType:this.isPersonal()?"personal":"team",store:this.stores.store,onboardingState:this.props.onboardingState,heading:this.isPersonal()?r.a.createElement(a.FormattedMessage,{defaultMessage:"Todos & projects",id:"onboardingWorkspaceUseCaseSetup.taskUseCaseButtonPersonal.label"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Projects & tasks",id:"onboardingWorkspaceUseCaseSetup.taskUseCaseButton.label"}),subheading:this.isPersonal()?r.a.createElement(a.FormattedMessage,{defaultMessage:"Track all your to-dos & reminders in one place.",id:"onboardingWorkspaceUseCaseSetup.taskUseCaseButtonPersonal.description"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Plan visually & know who’s doing what by when.",id:"onboardingWorkspaceUseCaseSetup.taskUseCaseButton.description"}),callout:Vn.a.images.replaces.tasksPng,icon:F.a.onboardingUseCaseTarget(this.getIconStyle()),useCase:io.e,initialUseCases:e}),r.a.createElement(Ji,{planType:this.isPersonal()?"personal":"team",store:this.stores.store,onboardingState:this.props.onboardingState,heading:this.isPersonal()?r.a.createElement(a.FormattedMessage,{defaultMessage:"Notes & organization",id:"onboardingWorkspaceUseCaseSetup.notesUseCaseButtonPersonal.label"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Docs & notes",id:"onboardingWorkspaceUseCaseSetup.notesUseCaseButton.label"}),subheading:this.isPersonal()?r.a.createElement(a.FormattedMessage,{defaultMessage:"Organize your notes, bookmarks, recipes, & more.",id:"onboardingWorkspaceUseCaseSetup.notesUseCasePersonal.description"}):r.a.createElement(a.FormattedMessage,{defaultMessage:"Capture thoughts, then share them with your team.",id:"onboardingWorkspaceUseCaseSetup.notesUseCaseButton.description"}),callout:Vn.a.images.replaces.notesPng,icon:F.a.onboardingUseCaseNotebook(this.getIconStyle()),useCase:io.c,initialUseCases:e}))),this.renderPreview()))}isPersonal(){return Boolean("userType"in this.props.onboardingState&&"personal"===this.props.onboardingState.userType)}getBlueButtonStyle(){return{width:"280px",marginBottom:42}}getContentContainerStyle(){return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingBottom:this.environment.device.isMobile?12:0}}getStepContainerStyle(){const{environment:e}=this;return{display:"grid",gridTemplateColumns:"300px 1fr",gridTemplateRows:"auto",gridColumnGap:48,marginBottom:24,...e.device.isMobile?{paddingBottom:0,gridTemplateColumns:"1fr"}:{paddingBottom:20,marginTop:24}}}getPreviewContainerStyle(e){return{width:"100%",height:"100%",background:this.theme.whiteButtonBackground,boxShadow:"0px 12px 30px rgba(12, 12, 12, 0.05)",borderRadius:5,overflow:"hidden",pointerEvents:"none",opacity:e?1:.6,transition:"opacity 200ms ease"}}getSelectUseCaseStyle(){return{display:"flex",flexDirection:"row",justifyContent:"space-between"}}getSelectAllStyle(){return{color:m.g.blue,fontSize:14,fontWeight:500,cursor:"pointer"}}getIconStyle(){return{width:22,height:22,color:this.theme.mediumIconColor}}getSegmentedControlButtonIconContainerStyle(){return{display:"inline-flex"}}getSegmentedControlButtonIconStyle(){return{width:"1.2em",height:"1.2em",display:"inline-flex",alignSelf:"center",marginRight:4}}getSegmentedButtonContainerStyle(){return{...{background:this.theme.buttonHoveredBackground,maxWidth:this.environment.device.isMobile?void 0:350,width:"100%",height:32,borderRadius:7,display:"flex",margin:"0 auto",marginTop:8},...this.environment.device.isMobile?{marginTop:10}:{}}}getSegmentedButtonDefaultStyle(){return{fontSize:14,fontWeight:J.a.fontWeight.semibold,textAlign:"center",flex:1,margin:2,lineHeight:2,color:this.theme.regularTextColor}}getSelectUseCaseTitleTextStyle(){return{color:this.theme.mediumTextColor,fontSize:14,fontWeight:500,marginBottom:12}}getSegmentedButtonSelectedStyle(e){return"personal"===e&&this.isPersonal()||"team"===e&&!this.isPersonal()?{borderRadius:5,background:this.theme.whiteButtonBackground,boxShadow:this.theme.buttonBoxShadow}:{}}getSegmentedButtonHoveredStyle(){return{borderRadius:5}}}var es=Object(a.injectIntl)($i);class ts extends b.a{constructor(){super(...arguments),this.renderMobileEditor=e=>{const{device:t}=this.environment;return r.a.createElement(Vi,{onboardingState:e,redirectToStart:!1,contents:r.a.createElement(o.Fragment,null,r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"Some essential tips:",id:"useCaseOnboarding.mobileEditorStep.title"})),r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"<boldtext>Touch and hold</boldtext> to reorder any content.",id:"useCaseOnboarding.mobileEditorStep.description",values:{boldtext:(...e)=>r.a.createElement("b",null,e)}}))),tipNumber:1,visual:t.isAndroid?this.renderAndroidPreview(Vn.a.images.onboarding.mobileHeroAndroidGif):this.renderiOSPreview(Vn.a.tutorial.iosDragAndDropGif)})},this.renderMobileSidebar=e=>{const{device:t}=this.environment;return r.a.createElement(Vi,{onboardingState:e,redirectToStart:!1,contents:r.a.createElement(o.Fragment,null,r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"The <boldtext>sidebar menu</boldtext> keeps things organized.",id:"useCaseOnboarding.mobileEditorSidebarStep.title",values:{boldtext:(...e)=>r.a.createElement("b",null,e)}})),r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"You'll find both workspace pages and your private pages here.",id:"useCaseOnboarding.mobileEditorSidebarStep.description"}))),tipNumber:2,visual:t.isAndroid?this.renderAndroidPreview(Vn.a.tutorial.androidSidebarPng):this.renderiOSPreview(Vn.a.tutorial.iosSidebarGif)})},this.renderMobileDesktop=e=>r.a.createElement(Vi,{onboardingState:e,redirectToStart:!1,contents:r.a.createElement(o.Fragment,null,r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"Notion also works on <boldtext>Mac</boldtext>, <boldtext>Windows</boldtext>, and in the <boldtext>browser</boldtext>! Everything will stay in sync across your devices.",id:"useCaseOnboarding.mobileDesktopStep.title",values:{boldtext:(...e)=>r.a.createElement("b",null,e)}}))),tipNumber:3,visual:this.renderMobileDesktopVisual()}),this.renderMobileWebClipper=e=>{const{device:t}=this.environment;return r.a.createElement(Vi,{onboardingState:e,redirectToStart:!0,contents:r.a.createElement(o.Fragment,null,r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"<boldtext>Save web pages or local files into Notion.</boldtext>",id:"useCaseOnboarding.mobileWebClipperStep.title",values:{boldtext:(...e)=>r.a.createElement("b",null,e)}})),r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"Just tap the share button and pick a page or a database to save to.",id:"useCaseOnboarding.webClipperStep.description"}))),tipNumber:4,visual:t.isAndroid?this.renderAndroidPreview(Vn.a.tutorial.mobileShareSheetAndroidPng):this.renderiOSPreview(Vn.a.tutorial.iosNotionWebClipperGif)})}}renderComponent(){const{state:e}=Ze.default;return!e.isOnboarding||e.isLoading?r.a.createElement(Wa.a,null):r.a.createElement("div",null,this.renderStage(e),"rendered"===V.default.state.renderPhase&&r.a.createElement(U.LazyAppComponents,null))}renderGDPR(e){return r.a.createElement(oi,{onboardingState:e})}renderProfile(e){return r.a.createElement(wi,{onboardingState:e})}renderWorkspaceChoose(e){return r.a.createElement(Ci,{onboardingState:e})}renderWorkspacePlanChoose(e){return Object(Ke.v)(this.environment)?r.a.createElement(es,{onboardingState:e}):r.a.createElement(Ei,{onboardingState:e})}renderWorkspaceCreate(e){return r.a.createElement(Wi,{onboardingState:e})}renderPageError(e){const{onboardingData:t}=e;return r.a.createElement(k,{style:this.getErrorPageStyle()},r.a.createElement(Bn,{route:{name:"onboarding"},publicPageData:{spaceId:t.redirectSpaceId,spaceName:t.redirectSpaceName}}))}renderInvite(e){return r.a.createElement(ji,{onboardingState:e})}renderiOSPreview(e){return r.a.createElement(Ui,{format:"IphoneX",style:ts.mobileChromeStyle},r.a.createElement("img",{src:e,style:{width:"100%"}}))}renderAndroidPreview(e){return r.a.createElement(Ui,{format:"Android",style:ts.mobileChromeStyle},r.a.createElement("img",{src:e,style:{width:"100%"}}))}renderMobileDesktopVisual(){return r.a.createElement("div",{style:{marginTop:32,position:"relative"}},r.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"70%"}},r.a.createElement(Re.a,{isSmall:!0,style:{marginBottom:12}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Browser",id:"useCaseOnboarding.mobileDesktopStep.browser.label"})),r.a.createElement("img",{src:Vn.a.tutorial.mobileSyncSafariPng,style:{width:"100%",boxShadow:this.theme.mediumBoxShadow,borderRadius:3}})),r.a.createElement("div",{style:{position:"absolute",top:0,left:"30%",width:"70%"}},r.a.createElement(Re.a,{isSmall:!0,style:{marginBottom:12}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Mac & Windows App",id:"useCaseOnboarding.mobileDesktopStep.desktopApp.label"})),r.a.createElement("img",{src:Vn.a.tutorial.mobileSyncMacPng,style:{width:"100%",boxShadow:this.theme.mediumBoxShadow,borderRadius:3}})))}renderStage(e){if(e.isOnboarding)switch(e.stage){case"gdpr":return this.renderGDPR(e);case"profile":return this.renderProfile(e);case"workspace_choose":return this.renderWorkspaceChoose(e);case"workspace_plan_choose":return this.renderWorkspacePlanChoose(e);case"workspace_create":return this.renderWorkspaceCreate(e);case"error":return this.renderPageError(e);case"template_optout":return;case"invite":return this.renderInvite(e);case"mobile_editor":return this.renderMobileEditor(e);case"mobile_sidebar":return this.renderMobileSidebar(e);case"mobile_desktop":return this.renderMobileDesktop(e);case"mobile_web_clipper":return this.renderMobileWebClipper(e);default:tr.e(e)}}getErrorPageStyle(){return{marginTop:200,width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:this.theme.contentBackground}}}ts.mobileChromeStyle={width:"100%",marginTop:28,marginBottom:0,maxWidth:320,marginLeft:"auto",marginRight:"auto"};var ns=ts,os=n("kFin"),rs=n("wF3w"),as=n("qKs6"),is=n("zb5D");class ss extends b.a{constructor(){super(...arguments),this.didCatchError=!1,this.handleOpenNativeLink=e=>{const{RouterStore:t}=this.environment,n=l.a({url:e,protocol:f.default.protocol,baseUrl:f.default.baseURL}),o=l.b({schemeUrl:n,baseUrl:f.default.baseURL}),r=h.l({url:o,baseUrl:f.default.baseURL,isMobile:this.environment.device.isMobile,protocol:f.default.protocol,currentUrl:window.location.href});this.environment.device.isAndroid&&d.clearHistoryState({RouterStore:t,currentUserId:this.environment.currentUser.id}),this.environment.reactNative&&this.environment.reactNative.closeInAppBrowser(),"googleAuthCallback"!==r.name&&r.name,d.navigate({environment:this.environment,url:o})}}async didMount(){await Wn.default.waitUntil(()=>Wn.default.state.isLoaded)}willMount(){const{RouterStore:e,currentUser:t}=this.environment,n=t.id;window.addEventListener("beforeunload",()=>{d.updateHistoryState({historyId:e.state.id,currentUserId:n})}),window.onpopstate=async t=>{const n=window.location.href,o=t.state?t.state.currentUserId:void 0;let r=this.environment;o&&o!==this.environment.currentUser.id&&(r=await Object(gn.a)({environment:r,newCurrentUserId:o}));const a=e.state.route,i=h.l({url:n,isMobile:r.device.isMobile,baseUrl:f.default.baseURL,protocol:f.default.protocol,currentUrl:window.location.href}),s="page"===a.name&&"page"===i.name&&a.blockId===i.blockId,l="onboarding"!==a.name&&"onboarding"===i.name;d.updateHistoryState({historyId:e.state.id,currentUserId:o}),await d.updateRouterState({environment:r,id:t.state&&t.state.id||Object(rs.a)(),action:"pop",href:n}),l&&!this.environment.device.isReactNative&&d.navigate({environment:r,url:"/"}),s&&d.handleNavigateWithinSamePage(r)},this.environment.reactNative&&this.environment.reactNative.subscribeToOpenLink(this.handleOpenNativeLink),u.subscribeToProtocolUrl(this.handleOpenNativeLink),u.ready();let o=!1;window.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&(o=!0)}),window.addEventListener("keyup",e=>{e.metaKey||e.ctrlKey||(o=!1)}),u.onNewWindow((e,t)=>{e.preventDefault(),d.navigate({environment:this.environment,url:t,metaClick:o})})}componentDidCatch(e,t){s.log({level:"error",from:"Router",type:"ClientCrash",error:Object(is.a)(e),data:{miscDataToConvertToString:t}}),this.didCatchError=!0,this.forceUpdate()}renderComponent(){return r.a.createElement(a.IntlProvider,{defaultLocale:"en-US",locale:i.a,messages:i.c},this.renderRouteOrError())}renderRouteOrError(){return this.didCatchError?r.a.createElement("div",{style:ss.reactErrorStyle},F.a.pageErrorNotFound({width:42,height:42}),r.a.createElement("div",{style:ss.reactErrorMessageStyle},r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"Oops! Something went wrong.",id:"router.renderErrorPage.message.part1"})),r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{defaultMessage:"Please refresh and try again or <textlink>send us a message</textlink>.",id:"router.renderErrorPage.message.part2",values:{textlink:(...e)=>r.a.createElement(Qe.a,{onClick:this.openIntercomMessages},e)}}))),r.a.createElement(Ge.a,{isLarge:!0,onClick:()=>window.location.reload()},r.a.createElement(a.FormattedMessage,{defaultMessage:"Refresh",id:"router.renderErrorPage.reloadButton.label"}))):r.a.createElement(Fa,null,this.renderRoute())}renderRoute(){const{RouterStore:e}=this.environment,t=e.state;if("root"!==t.route.name&&"page"!==t.route.name&&"space"!==t.route.name&&(Lt.default.setInitialRenderCompleted(),V.default.setState({...V.default.state,renderPhase:"rendered"})),this.environment.currentUser.isLoggedIn()||"page"===t.route.name||"space"===t.route.name||c.d(this.environment.device,f.default,{facebook:{eventName:"PageView",data:{content_name:window.location.href}},google:{eventName:"pageView",path:window.location.pathname}}),this.environment.currentUser.isLoggedIn()&&V.default.state.currentUserSettingsStore){const{currentUserSettingsStore:e}=V.default.state;Object(as.b)(this.environment,e)}const{device:o}=this.environment;if(o.isNative&&h.k[t.route.name])return r.a.createElement(Ua,null);if("front"===t.route.name)return r.a.createElement(Go,{preventFrontRedirect:t.route.alreadyRedirected});if("root"===t.route.name)return r.a.createElement(Ko,{route:t.route});if("nativeRedirect"===t.route.name)return r.a.createElement(lr,{redirect:t.route.redirect});if("login"===t.route.name)return r.a.createElement(qa,{isSignup:!1,email:t.route.email});if("signup"===t.route.name)return r.a.createElement(qa,{isSignup:!0,email:t.route.email});if("unsubscribe"===t.route.name)return r.a.createElement(Xa,{payload:t.route.payload});if("onboarding"===t.route.name)return r.a.createElement(ns,null);if("upcomingInvoice"===t.route.name)return r.a.createElement(rr,{route:t.route});if("invoiceById"===t.route.name)return r.a.createElement(rr,{route:t.route});if(t.route.name,t.route.name,"admin"===t.route.name&&f.default.isAdminMode)return r.a.createElement(os.a,{fetch:()=>Promise.all([n.e(2),n.e(0)]).then(n.bind(null,"i8kP")),render:({default:e})=>r.a.createElement(e,null)});if("adminSingleRecord"===t.route.name&&f.default.isAdminMode){const{id:e,table:o}=t.route;return r.a.createElement(os.a,{fetch:()=>Promise.all([n.e(2),n.e(0),n.e(3)]).then(n.bind(null,"cmKQ")),render:({default:t})=>r.a.createElement(t,{table:o,id:e})})}if("oauthAuthorization"===t.route.name){const{responseType:e,redirectUri:o,integrationId:a,state:i}=t.route;return r.a.createElement(os.a,{fetch:()=>n.e(12).then(n.bind(null,"nra+")),render:({default:t})=>r.a.createElement(t,{responseType:e,redirectUri:o,integrationId:a,state:i})})}return"integrations"===t.route.name?"integrationId"in t.route?r.a.createElement(U.LazyDeveloperIntegration,{integrationId:t.route.integrationId}):r.a.createElement(U.LazyDeveloperIntegrationsList,null):"page"===t.route.name||"space"===t.route.name?r.a.createElement(So,{routerState:t}):r.a.createElement(Wa.a,null)}openIntercomMessages(){"undefined"!=typeof Intercom&&Intercom("showNewMessage")}}ss.reactErrorStyle={width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingBottom:100,...p.a},ss.reactErrorMessageStyle={fontSize:14,textAlign:"center",marginTop:6,marginBottom:12,color:m.g.uiGray};t.default=ss},"/wWF":function(e,t,n){"use strict";var o=n("LEzx"),r=n("bK/N");class a extends o.a{constructor(){super(),this.updateFromElectronState=()=>{const e=r.fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},r.fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}getInitialState(){return{isFullScreen:!1}}}t.a=new a},"/xiq":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));n("3bBZ");var o=n("bkwR"),r=n("sotD"),a=n("j76I"),i=n("922z");async function s(e,t){const n=await o.getBacklinksForBlock(e,{blockId:t});"failed"!==n.type&&e.LocalBacklinkStore.setBacklinks({blockId:t,backlinks:n.data.backlinks,currentUserId:e.currentUser.id})}async function l(e,t){const{LocalBacklinkStore:n,currentUser:o}=e;if(0===t.stores.length)return;const s=t.stores[0].inMemoryRecordCache,l=[],c=new i.a,d=new Set;for(const r of t.stores)d.has(r.id)||(d.add(r.id),l.push(r.pointer),c.set(r.pointer,r.getRecordStoreAtRootPath().getValue()));const{createdBacklinks:u,deletedBacklinks:p}=await Object(r.b)({loadRecordValue:i.f.fromGetRecordValueFn(s.makeGetRecordValueFn(o.id)),operationPointers:l,initialRecordMap:a.d(t.initialRecordMap),finalRecordMap:c}),h=n.updateBacklinks({createdBacklinks:u,deletedBacklinks:p,currentUserId:o.id});t.postSubmitCallbacks.push(e=>{e&&n.resetBacklinks({blockIds:h,currentUserId:o.id})})}},"0/0S":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}));var o=n("LEzx"),r=n("T8dS");const a=["en","en-us","en-ca"];function i(e){return"pdf"===e.exportOptions.exportType}function s(){return a.includes(r.a.toLowerCase())?"Letter":"A4"}class l extends o.a{getInitialState(){return{open:!1}}}t.a=new l},"09Jm":function(e,t,n){"use strict";t.a=function(e,t){if(t(e))return e;let n,o=0;do{o++,n="".concat(e," ").concat(o)}while(!t(n));return n}},"0CAA":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("T8dS"),r=n("M29X");function a(e){return o.d&&o.d[e]?o.d[e]:r[e]}},"0KcA":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("Sb6f"),s=n("zmp8"),l=n("J9+s");class c extends a.a{renderComponent(){return r.a.createElement("div",{style:{alignSelf:"center",marginBottom:!1===this.props.margin?0:8,padding:"1px 3px",background:s.g.red,color:s.g.white,borderRadius:3,marginLeft:!1===this.props.margin?0:6,fontSize:9,lineHeight:1.3,textTransform:"uppercase",fontWeight:i.a.fontWeight.semibold,letterSpacing:.5}},r.a.createElement(l.FormattedMessage,{id:"newBadge.label",defaultMessage:"New"}))}}t.a=c},"0Osm":function(e,t,n){"use strict";var o=n("GRWW");t.a=new o.a},"0V5j":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("q1tI");function r(){const e=Object(o.useRef)(!1);return Object(o.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),Object(o.useCallback)(()=>e.current,[])}},"0Xty":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR");class i extends a.a{renderComponent(){const e=this.props.title?this.props.title[0]:"",t=this.props.size*(this.props.isLarge?1:.888),{background:n,color:o,border:a}=this.props.useInvertedColors?{background:this.theme.regularInvertedTextColor,color:this.theme.mediumIconColor,border:{borderWidth:"1px",borderStyle:"solid",borderColor:this.theme.mediumIconColor}}:{background:this.theme.mediumIconColor,color:this.theme.regularInvertedTextColor,border:{}};return r.a.createElement("div",{style:{borderRadius:3,width:Math.round(t),height:Math.round(t),background:n,color:o,textTransform:"uppercase",display:"flex",alignItems:"center",justifyContent:"center",...a}},r.a.createElement("div",{style:{lineHeight:1,fontSize:.6875*t,height:.6875*t}},e))}}t.a=i},"0hFN":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("J9+s"),i=n("wldR"),s=n("LeVO"),l=n("mKX5"),c=n("2Y+N"),d=n("ZQ9l"),u=n("DNfA"),p=n("y9KL"),h=n("V1wX"),m=n("aEEb"),f=n("vl8/");class g extends i.a{renderComponent(){const e=this.getMetaData();if(e){const{createdBy:t,createdTime:n,lastEditedBy:o,lastEditedTime:a}=e;if(n&&o&&a)return r.a.createElement(c.a,{topBorder:!this.props.isPageMoreButton,disableDesktopPadding:this.props.isPageMoreButton},r.a.createElement(d.a,{style:this.getMenuItemStyle(),shouldWrapTitle:!0,title:this.renderAuthorInfo(t,n,o,a)}))}}renderAuthorInfo(e,t,n,o){const{device:i}=this.environment,l=f.default.getIntl();return r.a.createElement(s.a,{placement:u.b.Right,render:e=>r.a.createElement("div",Object.assign({},e),r.a.createElement(m.a,{isSmall:!0,isSecondaryColor:!0,isMobile:i.isPhone,isMultiline:!0,style:{marginBottom:4}},r.a.createElement(a.FormattedMessage,{id:"blockAuthorInfo.label",defaultMessage:"Last edited by {author}",values:{author:n.value?Object(h.b)(l,n):void 0}})),r.a.createElement(m.a,{isSmall:!0,isSecondaryColor:!0,isMobile:i.isPhone},o)),renderTooltip:()=>this.renderTooltip(e,t,n,o)})}renderTooltip(e,t,n,i){const s=f.default.getIntl();return r.a.createElement(o.Fragment,null,r.a.createElement("div",null,r.a.createElement(a.FormattedMessage,{id:"blockAuthorInfo.tooltip.lastEdited",defaultMessage:"Last edited by <b>{author}</b>",values:{author:n.value?Object(h.b)(s,n):void 0,b:(...e)=>r.a.createElement("b",null,e)}}),r.a.createElement("br",null),r.a.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},i)),r.a.createElement("div",{style:{marginTop:2}},r.a.createElement(a.FormattedMessage,{id:"blockAuthorInfo.tooltip.createdBy",defaultMessage:"Created by <b>{author}</b>",values:{author:void 0!==e&&e.value?Object(h.b)(s,e):Object(h.d)(s,void 0),b:(...e)=>r.a.createElement("b",null,e)}}),r.a.createElement("br",null),r.a.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},t)))}getMetaData(){const e=this.props.store.getValue();if(!e)return;const{created_by_table:t,created_by_id:n,created_time:o,last_edited_by_table:r,last_edited_by_id:a,last_edited_time:i}=e;if(t&&n&&o&&i&&r&&a){const e=Object(p.a)({parentStore:this.props.store,pointer:{table:t,id:n}}),s=Object(l.a)(o).calendar(),c=Object(p.a)({parentStore:this.props.store,pointer:{table:r,id:a}}),d=Object(l.a)(i).calendar();if(!c)return;return{createdBy:e,createdTime:s,lastEditedBy:c,lastEditedTime:d}}}getMenuItemStyle(){const e=this.environment.device.isPhone;return{paddingTop:e?8:this.props.isPageMoreButton?0:2,paddingBottom:e?8:this.props.isPageMoreButton?10:2}}}t.a=g},"0lqH":function(e,t,n){"use strict";n("3bBZ"),n("Junv"),n("UxlC"),n("SYor");var o=n("q1tI"),r=n.n(o),a=n("17x9"),i=n.n(a),s=n("LvDl"),l=n.n(s),c=n("MeYt"),d=n("lCCU"),u=n("bxQm"),p=n("prF1"),h=n("wpmu"),m=n("3DNc"),f=n("wldR"),g=n("CARr"),b=n("DrHl"),v=n("8t63"),y=n("IzPW"),S=n("fB7H"),w=n("F1uM"),k=n("D2XV"),C=n("6BTz"),M=n("nFzZ"),E=n("7Q97"),_=n("1y3T"),T=n("pxbK"),x=n("cBa6"),I=n("RgmA"),P=n("vshI"),O=n("Sb6f"),B=n("V1wX"),L=n("JMnu"),R=n("vl8/"),D=n("tzmq"),A=n("O+wX"),j=n("J9+s"),F=n("HRSx");class V extends f.a{constructor(){super(...arguments),this.renderCommaSeparator=()=>r.a.createElement("span",{style:{marginRight:6,marginLeft:2}},","),this.renderSpaceSeparator=()=>r.a.createElement("span",{style:{marginRight:8}}),this.intersperseTokens=(e,t)=>{const n=e.length;return e.map((e,o)=>r.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap"},key:"".concat(e,"-").concat(o)},e,n===o+1?void 0:t))},this.getTextValue=()=>l.a.flatten(this.getTextTokens())}willMountOrUpdate(){this.environment.KatexStore.loadIfNeeded(this.getTextValue)}renderComponent(){const e=this.getPropertySchema();if(e)return"title"===e.type?this.renderTitleTokens():"text"===e.type?this.renderTextTokens():"relation"===e.type?this.renderRelationTokens(e):"checkbox"===e.type?this.renderCheckboxTokens():"select"===e.type?this.renderSelectTokens(e):"multi_select"===e.type?this.renderMultiSelectTokens(e):"person"===e.type?this.renderPersonTokens():"number"===e.type?this.renderNumberTokens(e):"date"===e.type?this.renderDateTokens(e):"file"===e.type?this.renderFileTokens():"url"===e.type||"email"===e.type||"phone_number"===e.type?this.renderUrlTokens():"created_by"===e.type?this.renderCreatedByTokens():"created_time"===e.type?this.renderCreatedTimeTokens():"last_edited_by"===e.type?this.renderLastEditedByTokens():"last_edited_time"===e.type?this.renderLastEditedTimeTokens():"formula"===e.type?this.renderFormulaTokens(e):void 0}renderTitleTokens(){const{stores:e}=this.props,t=[];for(const n of e)n.getValue()&&t.push(r.a.createElement(v.a,{key:n.id,format:this.getTokenFormat(),blockId:n.id,isSingle:!1,parentStore:this.props.parentStore}));return r.a.createElement(o.Fragment,null,t)}renderTextTokens(){const{parentStore:e}=this.props,t=this.getTextTokens(),n=l.a.flatten(Object(I.a)(t,()=>Object(x.m)(", "))),o=Object(x.Jb)(n);return r.a.createElement("span",{style:{...this.getBaseTextStyle(),...this.props.wrap&&{whiteSpace:"normal"}}},y.l({environment:this.environment,textValue:o,parentStore:e,disableHover:!1,disableStyleAnnotations:!1,disableDateStyleAnnotations:!1,disabled:!0,theme:this.theme,emojiType:Object(D.a)(this.environment),katex:this.environment.KatexStore.getKatex()}))}renderUrlTokens(){const{stores:e,property:t}=this.props,n=[],a=new Set;for(const o of e){const e=o.getPropertyValue(t),i=g.v(e);if(i){const e=r.a.createElement("span",{key:o.id,style:this.getLinkTextStyle()},i);this.addToken(e,i,n,a)}}return r.a.createElement(o.Fragment,null,this.intersperseTokens(n,this.renderCommaSeparator()))}renderNumberTokens(e){const{stores:t,property:n}=this.props,a=e&&"number"===e.type&&e.number_format?e.number_format:C.a,i=[],s=new Set;for(const o of t){const e=o.getPropertyValue(n),t=g.r(e);if(!l.a.isNaN(t)&&!M.h(t)){const e=r.a.createElement("span",{key:o.id,style:this.getBaseTextStyle()},C.c(t,a,R.default.getIntl()));this.addToken(e,t,i,s)}}return r.a.createElement(o.Fragment,null,this.intersperseTokens(i,this.renderCommaSeparator()))}renderCheckboxTokens(){const{stores:e,property:t}=this.props,n=[],a=new Set;for(const o of e){const e=o.getPropertyValue(t),i=g.n(e),s=r.a.createElement("div",{style:{marginTop:Re.cellHeight/4,display:"flex",alignItems:"center"}},r.a.createElement(m.a,{key:o.id,checked:i,disabled:!0,size:this.isCalendar()?12:16,checkSize:this.isDesktopCalendar()?8:12}));this.addToken(s,i,n,a)}return r.a.createElement(o.Fragment,null,this.intersperseTokens(n,this.renderSpaceSeparator()))}renderSelectTokens(e){const{stores:t,property:n}=this.props,a=e.options||[],i=[],s=new Set;for(const o of t){const e=o.getPropertyValue(n),t=g.u(e,a);if(t){const e=r.a.createElement(b.a,{key:o.id,value:t,options:a,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,shouldShrink:this.isPage()||this.isBoard()||this.isMobileCalendar()});this.addToken(e,t,i,s)}}return r.a.createElement(o.Fragment,null,i)}renderMultiSelectTokens(e){const{stores:t,property:n}=this.props,a=e.options||[],i=[],s=new Set;for(const o of t){const e=o.getPropertyValue(n),t=g.q(e,a);for(const n of t){const e=r.a.createElement(b.a,{key:"".concat(o.id,"-").concat(n),value:n,options:a,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,shouldShrink:this.isPage()||this.isBoard()||this.isMobileCalendar()});this.addToken(e,n,i,s)}}return r.a.createElement(o.Fragment,null,i)}renderPersonTokens(){const{stores:e,property:t}=this.props,n=[],a=new Set;for(const o of e){const e=o.getPropertyValue(t),i=g.s(e);for(const t of i){const e=Object(B.a)({pointer:t,getRecordValue:this.getRecordValue});if(e.value){const i=r.a.createElement(L.c,{key:"".concat(o.id,"-").concat(t.id),actor:e,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1});this.addToken(i,t.id,n,a)}}}return r.a.createElement(o.Fragment,null,n)}renderRelationTokens(e){const{stores:t,property:n}=this.props,a=[],i=new Set;for(const o of t){const t=o.getPropertyValue(n),s=g.j({relationValue:g.t(t),getRecordValue:this.getRecordValue,propertySchema:e});for(const n of s){const t=h.a.createChildStore(o,{table:F.a,id:n}).getValue();if(t&&t.parent_id===e.collection_id){const e=r.a.createElement(v.a,{key:"".concat(o.id,"-").concat(n),format:this.getTokenFormat(),blockId:n,isSingle:!1,parentStore:this.props.parentStore});this.addToken(e,n,a,i)}}}return r.a.createElement(o.Fragment,null,a)}renderDateTokens(e){const{stores:t,property:n}=this.props,a=e&&e.time_format?e.time_format:k.x,i=e&&e.date_format?e.date_format:k.v,s=[],l=new Set;for(const o of t){const e=o.getPropertyValue(n),t=g.o(e);if(e){const e=r.a.createElement(S.a,{key:o.id,value:t,dateFormat:i,timeFormat:a,style:this.getBaseTextStyle()}),n=t?Object(A.a)({value:t,date_format:i,time_format:a,userTimeZone:k.m,allowRelativeDates:!0,intl:this.props.intl}):"";this.addToken(e,n,s,l)}}return r.a.createElement(o.Fragment,null,this.intersperseTokens(s,this.renderCommaSeparator()))}renderFileTokens(){const{stores:e,property:t}=this.props,n=[],a=new Set;for(const o of e){const e=o.getPropertyValue(t),i=g.p(e);for(const t of i){const e=t.name,i=t.url,s=w.h({url:i})?r.a.createElement(_.a,{key:"".concat(o.id,"-").concat(i),url:i,isAuthenticated:!0,permissionRecord:o.pointer,width:20,render:(e,t)=>{if(t)return r.a.createElement("img",{key:i,src:t,style:this.getFileImageStyle()})}}):r.a.createElement("div",{key:"".concat(o.id,"-").concat(i),style:{...this.getFileStyle(),...this.isDesktopCalendar()&&{height:14,display:"inline-flex"}}},r.a.createElement("span",{style:V.fileTitleStyle},e));this.addToken(s,i,n,a)}}return r.a.createElement(o.Fragment,null,n)}renderFormulaTokens(e){const{stores:t,property:n,schema:a}=this.props,{formula:i,number_format:s}=e,c=i?i.result_type:null,d=s||C.a,u=[],p=new Set,h={};for(const o of t){const e=o.getValue();let t;if(e){const s=Object(P.a)({property:n,schema:a,block:e,userTimeZone:k.m,getRecordValue:this.getRecordValue,depth:0,intl:R.default.getIntl(),resultCache:{},normalizedSchemaCache:h});if("checkbox"===c&&"boolean"==typeof s)t=r.a.createElement(m.a,{key:o.id,checked:s,disabled:!0,size:this.isDesktopCalendar()?12:16,checkSize:this.isDesktopCalendar()?8:12});else if("number"===c&&M.i(s))l.a.isNaN(s)||M.h(s)||(t=r.a.createElement("span",{key:o.id,style:this.getBaseTextStyle()},C.c(s,d,R.default.getIntl())));else if("date"===c&&k.Z(s)){let e;Object(T.a)(i).find(t=>{const n=a[t];return!(!n||"date"!==n.type)&&(e=n,!0)}),t=r.a.createElement(S.a,{key:o.id,value:s,dateFormat:e&&e.date_format?e.date_format:k.v,timeFormat:e&&e.time_format?e.time_format:k.x,style:this.getBaseTextStyle()})}else"text"===c&&"string"==typeof s&&(t=r.a.createElement("div",{key:o.id,style:this.getBaseTextStyle()},s?s.toString():null));t&&this.addToken(t,s&&s.toString()||"",u,p)}}return r.a.createElement(o.Fragment,null,this.intersperseTokens(u,"checkbox"===c?this.renderSpaceSeparator():this.renderCommaSeparator()))}renderCreatedTimeTokens(){const{stores:e}=this.props,t=[],n=new Set;for(const o of e){const e=o.getValue(),a=e&&e.created_time;if(a){const e=k.r(a,k.m),i=r.a.createElement(S.a,{key:o.id,value:e,dateFormat:k.v,timeFormat:"h:mm A",style:this.getBaseTextStyle()});this.addToken(i,a,t,n)}}return r.a.createElement(o.Fragment,null,this.intersperseTokens(t,this.renderCommaSeparator()))}renderCreatedByTokens(){const{stores:e}=this.props,t=[],n=new Set;for(const o of e){const e=o.getValue();if(!e)return;if(!e.created_by_table)return;if(!e.created_by_id)return;const a=Object(B.a)({pointer:{table:e.created_by_table,id:e.created_by_id},getRecordValue:this.getRecordValue});if(a.value){const i=r.a.createElement(L.c,{key:"".concat(o.id,"-").concat(e.created_by_id),actor:a,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1});this.addToken(i,e.created_by_id,t,n)}}return r.a.createElement(o.Fragment,null,t)}renderLastEditedTimeTokens(){const{stores:e}=this.props,t=[],n=new Set;for(const o of e){const e=o.getValue(),a=e&&e.last_edited_time;if(a){const e=k.r(a,k.m),i=r.a.createElement(S.a,{key:o.id,value:e,dateFormat:k.v,timeFormat:"h:mm A",style:this.getBaseTextStyle()});this.addToken(i,a,t,n)}}return r.a.createElement(o.Fragment,null,this.intersperseTokens(t,this.renderCommaSeparator()))}renderLastEditedByTokens(){const{stores:e}=this.props,t=[],n=new Set;for(const o of e){const e=o.getValue();if(!e)return;if(!e.last_edited_by_table)return;if(!e.last_edited_by_id)return;const a=Object(B.a)({pointer:{table:e.last_edited_by_table,id:e.last_edited_by_id},getRecordValue:this.getRecordValue});if(a.value){const i=r.a.createElement(L.c,{key:"".concat(o.id,"-").concat(e.last_edited_by_id),actor:a,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1});this.addToken(i,e.last_edited_by_id,t,n)}}return r.a.createElement(o.Fragment,null,t)}addToken(e,t,n,o){const{unique:r}=this.props;r&&o.has(t)||n.push(e),o.add(t)}getPropertySchema(){const{property:e,schema:t}=this.props;return t[e]}isTable(){const{format:e}=this.props;return e===Be.Table}isBoard(){const{format:e}=this.props;return e===Be.Board}isCalendar(){const{format:e}=this.props;return e===Be.Calendar}isDesktopCalendar(){const{device:e}=this.environment,{format:t}=this.props;return!e.isMobile&&t===Be.Calendar}isMobileCalendar(){const{device:e}=this.environment,{format:t}=this.props;return e.isMobile&&t===Be.Calendar}isPage(){const{format:e}=this.props;return e===Be.Page}isListView(){const{format:e}=this.props;return e===Be.ListView}isTimelineView(){const{format:e}=this.props;return e===Be.Timeline}isMobileGallery(){const{device:e}=this.environment,{format:t}=this.props;return e.isMobile&&t===Be.GalleryView}isDesktopGallery(){const{device:e}=this.environment,{format:t}=this.props;return!e.isMobile&&t===Be.GalleryView}getTokenFormat(){return this.isMobileCalendar()?E.a.Medium:this.isDesktopCalendar()||this.isDesktopGallery()?E.a.ExtraSmall:this.isBoard()?E.a.Small:this.isListView()||this.isTimelineView()||this.isMobileGallery()?E.a.Inline:E.a.Medium}get getRecordValue(){return this.props.parentStore.getRecordValue}getTextTokens(){const{stores:e,property:t}=this.props,n=[];for(const o of e){const e=o.getPropertyValue(t);e&&n.push(e)}return n}getBaseTextStyle(){return this.isTable()?{lineHeight:1.5,whiteSpace:"nowrap",wordBreak:"normal",pointerEvents:"none"}:this.isDesktopCalendar()?{lineHeight:1.2,...O.a.textOverflowStyle}:{lineHeight:1.5,wordBreak:"break-word",whiteSpace:"pre-wrap",pointerEvents:"none"}}getLinkUnderlineStyle(){return{backgroundImage:"linear-gradient(\n\t\t\tto right,\n\t\t\t".concat(this.theme.darkDividerColor," 0%,\n\t\t\t").concat(this.theme.darkDividerColor," 100%\n\t\t)"),backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}getLinkTextStyle(){return{...this.getBaseTextStyle(),...this.getLinkUnderlineStyle(),...!this.props.wrap&&{whiteSpace:"nowrap"}}}getFileImageStyle(){return{maxHeight:this.isDesktopCalendar()?18:24,marginRight:6}}getFileStyle(){return{display:"flex",alignItems:"center",whiteSpace:"nowrap",maxWidth:120,height:18,borderRadius:3,background:this.theme.selectColors.default,paddingLeft:6,paddingRight:6,overflow:"hidden",marginRight:6,marginTop:3,marginBottom:3,paddingBottom:1}}}V.cellHeight=32,V.fileTitleStyle={...O.a.textOverflowStyle};var N=Object(j.injectIntl)(V),U=n("SR/M"),z=n("i3uR"),X=n("gbGO"),Y=n("WgIs"),H=n("Oy36");class q extends f.a{renderComponent(){return r.a.createElement("div",{style:this.getStyle()},r.a.createElement("span",null,r.a.createElement(j.FormattedMessage,{defaultMessage:"{relationMoreItemsCount} more…",id:"database.relationPropertyValue.moreItems.message",values:{relationMoreItemsCount:this.props.count}})))}getStyle(){const{format:e,isPage:t}=this.props,{margin:n}=q.styles[e],{height:o,fontSize:r}=q.styles[e];return{display:"flex",alignItems:"center",lineHeight:1.2,borderRadius:3,fontSize:r,margin:n,color:this.theme.mediumTextColor,...!t&&{height:o}}}}q.Format=E.a,q.styles={[E.a.ExtraSmall]:{height:14,fontSize:12,margin:"0 4px 0 0"},[E.a.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0"},[E.a.Medium]:{height:21,fontSize:14,margin:"0 12px 6px 0"},[E.a.Inline]:{height:21,fontSize:14,margin:"0 12px 0 0"},[E.a.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0"}};var W=q,G=n("2Y+N"),Z=n("AOw3"),K=n("LeVO"),J=n("QcDD"),Q=n("ouJW"),$=n("g4rC"),ee=n("bjn0"),te=n("bFnu"),ne=n("/YYm"),oe=n("EZe4"),re=n("w5u6"),ae=n("y6Dp"),ie=n("wweX");const se={paddingLeft:8,paddingRight:8},le={paddingTop:5,paddingBottom:6},ce={...le,...se},de={paddingTop:6,paddingBottom:7,...se},ue={paddingTop:8,paddingBottom:8,...se},pe={paddingTop:9,paddingBottom:9,...se};var he=n("njgS"),me=n("tzV5"),fe=n("GVKY"),ge=n("N34Z"),be=n("7TLZ"),ve=n("k1PL"),ye=n("X6Ne"),Se=n("MBf9"),we=n("S26v"),ke=n("Hl/2"),Ce=n("wXH4"),Me=n("mF3+"),Ee=n("IdSf");class _e extends f.a{constructor(){super(...arguments),this.formulaValueStore=this.createComputedStore(()=>{const{property:e,store:t,schema:n}=this.props,o=t.getValue();if(o)return Object(P.a)({property:e,schema:n,block:o,getRecordValue:this.props.store.getRecordValue,userTimeZone:k.m,depth:0,intl:this.props.intl,resultCache:{},normalizedSchemaCache:{}})})}renderComponent(){const{property:e,schema:t,style:n,isDesktopCalendar:o,intl:a}=this.props,i=t[e];if(!i||"formula"!==i.type)return;const{formula:s,number_format:c}=i,d=s?s.result_type:null,u=this.formulaValueStore.state;if("checkbox"===d&&"boolean"==typeof u)return r.a.createElement(m.a,{checked:u,disabled:!0,size:o?12:16,checkSize:o?8:12});if("number"===d&&Object(M.i)(u)){const e=c||C.a;if(!l.a.isNaN(u)&&!Object(M.h)(u))return r.a.createElement("span",{style:n},C.c(u,e,a))}else{if("date"===d&&k.Z(u)){let e;return Object(T.a)(s).find(n=>{const o=t[n];return!(!o||"date"!==o.type)&&(e=o,!0)}),r.a.createElement(S.a,{value:u,dateFormat:e&&e.date_format?e.date_format:k.v,timeFormat:e&&e.time_format?e.time_format:k.x,style:n})}if("text"===d&&"string"==typeof u)return r.a.createElement("div",{style:n},u?u.toString():null)}}}var Te=Object(j.injectIntl)(_e),xe=n("DkKf"),Ie=n("7bRZ"),Pe=n("6SEd");n.d(t,"a",(function(){return Be}));const Oe=Object(j.defineMessages)({openAsPageTitle:{defaultMessage:"Open",id:"database.navigateButton.openAsPageTitle"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.navigateButton.openAsPageTooltip"},sendEmailTooltip:{defaultMessage:"Send email",id:"database.navigateButton.sendEmailTooltip"},callTooltip:{defaultMessage:"Call",id:"database.navigateButton.callTooltip",description:"Call as in phone call"},openLinkTooltip:{defaultMessage:"Open link",id:"database.navigateButton.openLinkTooltip"}});var Be;!function(e){e[e.Table=0]="Table",e[e.Board=1]="Board",e[e.Calendar=2]="Calendar",e[e.Page=3]="Page",e[e.ListView=4]="ListView",e[e.GalleryView=5]="GalleryView",e[e.Timeline=6]="Timeline"}(Be||(Be={}));class Le extends f.a{constructor(){super(...arguments),this.registries=[Q.a],this.storeTypes={numberFormatButtonPopupStore:$.a,rollupAggregationButtonPopupStore:$.a,mouseStore:te.a},this.renderNumberFormatMenu=()=>{const{device:e}=this.environment;let t;return t=e.isMobile?{menuType:X.b.MenuType.ActionSheet}:{menuType:X.b.MenuType.Popup},r.a.createElement(X.b,Object.assign({},t),r.a.createElement(Y.a,{type:Y.a.Type.Vertical,initialFocus:0,sections:[{key:0,render:e=>r.a.createElement(G.a,Object.assign({},e)),items:this.getNumberFormatMenuItems()}]}))},this.handleTableCellClick=e=>{e.shiftKey||Object(oe.d)({event:e,context:oe.a.EditorClick,callback:()=>{Object(xe.d)()||this.handleEditButtonClick()}})},this.handleEditButtonClick=async()=>{const{device:e,WindowSizeStore:t}=this.environment,{onClick:n,property:o,format:r}=this.props,a=this.getType();if(a){if("checkbox"===a){const e=this.getPropertyValue(),t=g.n(e),n=this.getPropertyStore();n&&Se.createAndCommit(this.environment,e=>{ge.c({store:n,value:g.a(!t),transaction:e})}),ae.Ab(this.environment,{block_id:n.id,property:o,property_type:a,from:r===Be.Table?"table":"page_properties"})}else{-1===he.q.indexOf(a)&&(this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1}),e.isReactNative&&ke.b[a]===Ce.b.Popup&&(ye.b({component:this,vertical:{reveal:"bottom",paddingToTopEdge:4,paddingToBottomEdge:t.getSafePaddingBottomPx(320)},horizontal:{reveal:"closest"}}),await re.default.afterNextFlush()),ie.h({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,store:this.props.store,property:this.props.property,format:this.props.format,disableHorizontalEdgeScroll:this.props.disableHorizontalEdgeScroll}))}n&&n()}},this.handleNumberFormatChange=e=>{const{store:t,property:n,schema:o}=this.props,r=o[n];if(!r)return;if("number"!==r.type&&"formula"!==r.type)return;const a={...r,number_format:e},i={...o,[n]:a},s=t.getParentCollectionStore();s&&Se.createAndCommit(this.environment,e=>{me.p({environment:this.environment,collectionStore:s,update:{schema:i},transaction:e})}),this.stores.numberFormatButtonPopupStore.setState({...this.stores.numberFormatButtonPopupStore.state,open:!1})},this.handleTitleLinkClick=()=>{ae.Nb(this.environment,{is_peek:!0,from:"table"})},this.handleContextMenu=e=>{const{onContextMenu:t}=this.props;t&&Object(oe.d)({event:e,context:oe.a.EditorContextMenu,callback:()=>{t(e)}})},this.handleMouseMove=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.handleNativeDrop=e=>{ie.h({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,store:this.props.store,property:this.props.property,format:this.props.format,uploadFiles:e.files,disableHorizontalEdgeScroll:this.props.disableHorizontalEdgeScroll})},this.getPropertyValue=()=>this.getPropertyStore().getValue()}getContextVerticalScroller(){return this.context.verticalScroller}getContextHorizontalScroller(){return this.context.horizontalScroller}openNumberFormat(){this.stores.numberFormatButtonPopupStore.setState({open:!0})}willMountOrUpdate(){this.environment.KatexStore.loadIfNeeded(this.getPropertyValue)}renderComponent(){return this.isTable()?this.renderTableProperty():this.isPage()?this.renderPageProperty():this.isBoard()?this.renderBoardProperty():this.isMobileCalendar()?this.renderMobileBoardProperty():this.isDesktopCalendar()?this.renderCalendarProperty():this.isGallery()?this.renderGalleryProperty():this.isListView()?this.renderListViewProperty():this.isTimeline()?this.renderTimelineProperty():void 0}renderTableProperty(){return this.isLinkType()?this.renderLinkType():this.isNumberType()?this.renderNumberType():this.isReadOnlyType()?this.renderReadOnlyType():this.isDroppableType()?this.renderDroppableType():this.isRollup()?this.renderRollupType():this.renderButtonType()}renderPageProperty(){return this.isDroppableType()?this.renderDroppableType():this.isEmpty()?this.renderEmptyPageProperty():this.renderTableProperty()}renderBoardProperty(){return r.a.createElement("div",{style:this.getCardPropertyStyle(),onContextMenu:this.handleContextMenu},this.renderValue())}renderMobileBoardProperty(){return r.a.createElement("div",{style:this.getMobileCardPropertyStyle()},this.renderValue())}renderCalendarProperty(){return r.a.createElement("div",{style:Le.calendarPropertyStyle,onContextMenu:this.handleContextMenu},this.renderValue())}renderGalleryProperty(){return r.a.createElement("div",{style:this.getGalleryPropertyStyle(),onContextMenu:this.handleContextMenu},this.renderValue())}renderListViewProperty(){const{device:e}=this.environment,t=this.getType(),n="person"===t||"created_by"===t||"last_edited_by"===t,o="select"===t||"multi_select"===t,a=this.isLinkType();if(!this.isEmpty()){if(a){if("url"===t&&!this.getLinkHref())return;return r.a.createElement("div",{style:{...this.getListPropertyStyle(),marginLeft:e.isMobile?0:8,marginRight:e.isMobile?4:0}},this.renderListViewLinkValue())}return r.a.createElement("div",{style:{...this.getListPropertyStyle(),...n&&{minWidth:"none"},...o&&{flexShrink:0}}},this.renderValue())}}renderTimelineProperty(){const e=this.getType(),t="person"===e||"created_by"===e||"last_edited_by"===e,n="select"===e||"multi_select"===e,o=this.isLinkType();if(!this.isEmpty()){if(o){if("url"===e&&!this.getLinkHref())return;return r.a.createElement("div",{style:this.getTimelinePropertyStyle()},this.renderListViewLinkValue())}return r.a.createElement("div",{style:{...this.getTimelinePropertyStyle(),...t&&{minWidth:"none"},...n&&{flexShrink:0}}},this.renderValue())}}renderListViewLinkValue(){const e=this.getType(),t=this.getLinkHref(),n=this.getDomainName(),o=e&&Le.navigateButton[e];if(!o)return;const{icon:a,tooltip:i}=o;return n&&t?r.a.createElement(K.a,{renderTooltip:()=>i,render:e=>r.a.createElement(p.a,Object.assign({href:this.getLinkHref(),external:this.getLinkExternal(),style:{minWidth:0,...this.props.enablePointerEventsForInteractiveTypes&&{pointerEvents:"auto"}}},e),r.a.createElement(u.a,{style:{display:"flex"}},a({width:12,height:12,fill:this.theme.mediumIconColor,marginTop:2,marginRight:4}),r.a.createElement("span",{style:this.getLinkTextStyle()},n||"")))}):void 0}renderEmptyPageProperty(){const e={...this.getCellStyle(),color:this.theme.lightTextColor},t=r.a.createElement(j.FormattedMessage,{defaultMessage:"Empty",id:"database.pageProperty.emptyTitle"});return this.isTable()?r.a.createElement("div",{style:e,onClick:this.handleTableCellClick,onContextMenu:this.handleContextMenu},t):r.a.createElement(c.a,{style:e,onClick:this.handleEditButtonClick,onContextMenu:this.handleContextMenu},t)}renderLinkType(){const{device:e}=this.environment,{property:t}=this.props;if(e.isMobile&&"title"===t)return r.a.createElement("div",{style:this.getLinkCellWrapStyle()},r.a.createElement(p.a,{href:this.getLinkHref(),external:this.getLinkExternal(),style:{...this.getCellStyle(),borderRadius:0,margin:0,textDecoration:"none"}},this.renderValue()));{const t=this.getMouseEntered()||e.isMobile;return r.a.createElement("div",{style:{...this.getLinkCellWrapStyle(),position:t?"relative":void 0},onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu},this.isTable()?r.a.createElement("div",{style:this.getCellStyle(),onClick:this.handleTableCellClick},this.renderValue()):r.a.createElement(c.a,{style:this.getCellStyle(),onClick:this.handleEditButtonClick},this.renderValue()),t&&this.renderNavigateButton())}}renderNumberType(){const{device:e}=this.environment,{numberFormatButtonPopupStore:t}=this.stores,n=this.getMouseEntered(),o=this.isTable(),a=t.state.open||n||e.isMobile,i={...this.getCellStyle(),...o?Le.numberTableCellStyle:Le.numberPagePropertyStyle};return r.a.createElement("div",{style:{...o?Le.numberCellWrapStyle:Le.numberCellWrapPagePropertyStyle,...a&&{position:"relative"}},onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu},o&&a&&!this.props.locked&&!this.props.disabled&&this.renderNumberFormatEditButton(),o?r.a.createElement("div",{style:i,onClick:this.handleTableCellClick},this.renderValue()):r.a.createElement(c.a,{style:i,onClick:this.handleEditButtonClick},this.renderValue()),!o&&a&&this.renderNumberFormatEditButton())}renderButtonType(){return this.isTable()?r.a.createElement("div",{style:this.getCellStyle(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,onClick:this.props.disabled&&"checkbox"===this.getType()?void 0:this.handleTableCellClick},this.renderValue()):r.a.createElement(c.a,{style:this.getCellStyle(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,onClick:this.handleEditButtonClick,disabled:this.props.disabled&&"checkbox"===this.getType()},this.renderValue())}renderRollupType(){const e=this.isTable(),{schema:t,property:n}=this.props,o=t[n],a=o&&"rollup"===o.type&&o.aggregation&&"show_unique"!==o.aggregation,i={...this.getCellStyle(),...a&&(e?{...Le.numberTableCellStyle,paddingTop:5}:Le.numberPagePropertyStyle)};return r.a.createElement("div",{style:{display:"flex",...this.isPage()&&{flex:1,minWidth:0}},onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu},e?r.a.createElement("div",{style:i,onClick:this.handleTableCellClick},this.renderValue()):r.a.createElement(c.a,{style:i,onClick:this.handleEditButtonClick},this.renderValue()))}renderDroppableType(){const{disabled:e,store:t}=this.props;return this.clonedStore||(this.clonedStore=t.clone()),r.a.createElement(Z.a,{store:this.clonedStore,canNativeDropOnto:!e,onNativeDrop:this.handleNativeDrop,style:{width:this.isPage()?"100%":"auto"},analyticsName:"file_property",shouldShowDropZone:!0},this.isPage()&&this.isEmpty()?this.renderEmptyPageProperty():this.renderButtonType())}renderReadOnlyType(){return r.a.createElement("div",{style:this.getCellStyle(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,onClick:oe.b},this.renderValue())}renderValue(){const{schema:e,property:t}=this.props,n=e[t];if(n)return"title"===n.type?this.renderTitle():"text"===n.type?this.renderText():"relation"===n.type?this.renderRelation(n):"checkbox"===n.type?this.renderCheckbox():"select"===n.type?this.renderSelect(n):"multi_select"===n.type?this.renderMultiSelect(n):"person"===n.type?this.renderPerson():"number"===n.type?this.renderNumber(n):"date"===n.type?this.renderDate(n):"file"===n.type?this.renderFile():"url"===n.type||"email"===n.type||"phone_number"===n.type?this.renderLinkText():"created_by"===n.type?this.renderCreatedBy():"created_time"===n.type?this.renderCreatedTime():"last_edited_by"===n.type?this.renderLastEditedBy():"last_edited_time"===n.type?this.renderLastEditedTime():"formula"===n.type?this.renderFormula():"rollup"===n.type?this.renderRollup(n):void 0}renderTitle(){const{store:e}=this.props,t=this.getPropertyValue(),n=e.hasIcon()||!e.isEmptyPage(),o=be.h(e);return[n&&r.a.createElement(H.a,{key:"icon",disabled:!0,icon:e.getIcon(),isEmptyPage:!1,style:Le.titleIconStyle,size:20}),r.a.createElement("span",{style:this.getTitleStyle(),key:"value"},y.l({environment:this.environment,textValue:t,parentStore:this.props.store,disableHover:!0,disableStyleAnnotations:!0,disableDateStyleAnnotations:!1,disabled:!0,theme:this.theme,emojiType:Object(D.a)(this.environment),katex:this.environment.KatexStore.getKatex()})),o>0&&r.a.createElement("span",{key:"discussion-indicator",style:this.getDiscussionIndicatorStyle()},Me.a.speechBubble({width:14,height:14,marginRight:4,fill:this.theme.mediumIconColor}),o)]}renderText(){const e=this.getPropertyValue(),t=r.a.createElement("span",{style:this.getBaseTextStyle()},y.l({environment:this.environment,textValue:e,parentStore:this.props.store,disableHover:!1,disableStyleAnnotations:!1,disableDateStyleAnnotations:!1,disabled:!0,theme:this.theme,emojiType:Object(D.a)(this.environment),katex:this.environment.KatexStore.getKatex()}));return this.isListView()?r.a.createElement("div",{style:Le.listViewTextWrapStyle},t):t}renderLinkText(){const e=this.getPropertyValue();if(this.isBoard()||this.isGallery()){const e=this.getDomainName();return r.a.createElement(Ee.a,{href:this.getLinkHref(),style:{display:"inline-flex"},innerStyle:{flexShrink:1,width:"none",padding:"0 4px",marginLeft:-4,borderRadius:3}},r.a.createElement("span",{style:this.getLinkTextStyle()},e||""))}{const t=g.v(e);return r.a.createElement("span",{style:this.getLinkTextStyle()},t||"")}}renderNumber(e){const t=this.getPropertyValue(),n=g.r(t),o=e.number_format||C.a;if(!l.a.isNaN(n)&&!M.h(n))return r.a.createElement("span",{style:this.getBaseTextStyle()},C.c(n,o,R.default.getIntl()))}renderCheckbox(){const{disabled:e}=this.props,t=this.getPropertyValue(),n=g.n(t),o=this.isBoard()||this.isGallery()||this.isMobileCalendar(),a=this.isDesktopCalendar()||this.isDesktopGallery(),i=!e&&!this.isTable()&&!this.isPage();if(!o&&!a)return r.a.createElement(m.a,{checked:n,disabled:!i,onClick:this.handleEditButtonClick,size:16,checkSize:12,style:{...this.props.enablePointerEventsForInteractiveTypes&&{pointerEvents:"auto"}}});{const{property:e,schema:t}=this.props,o=t[e];if(o){const e=o.name;return r.a.createElement("div",{style:Le.cardCheckboxWrapStyle},r.a.createElement(m.a,{checked:n,size:a?12:16,checkSize:a?8:12,disabled:!i,onClick:this.handleEditButtonClick,style:{...this.props.enablePointerEventsForInteractiveTypes&&{pointerEvents:"auto"}}}),r.a.createElement("div",{style:Le.cardCheckboxNameStyle},e))}}}renderSelect(e){const t=this.getPropertyValue(),n=e.options||[],o=g.u(t,n);if(o)return r.a.createElement("div",{style:this.getTokenWrapStyle()},r.a.createElement(b.a,{key:o,value:o,options:n,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,shouldShrink:this.isPage()||this.isBoard()||this.isMobileCalendar()||this.isListView()||this.isTimeline()}))}renderMultiSelect(e){const t=this.getPropertyValue(),n=e.options||[],o=g.q(t,n);if(o.length>0)return r.a.createElement("div",{style:this.getTokenWrapStyle()},o.map(e=>r.a.createElement(b.a,{key:e,value:e,options:n,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,shouldShrink:this.isPage()||this.isBoard()||this.isMobileCalendar()})))}renderPerson(){const e=this.getPropertyValue(),t=g.s(e);if((this.isListView()||this.isTimeline())&&t.reverse(),t.length>0)return r.a.createElement("div",{style:this.getTokenWrapStyle()},t.map(e=>{const t=Object(B.a)({pointer:e,getRecordValue:this.getRecordValue});if(t.value)return r.a.createElement(L.c,{key:e.id,actor:t,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1})}))}renderRelation(e){const t=this.getPropertyValue(),n=g.j({relationValue:g.t(t),propertySchema:e,getRecordValue:this.getRecordValue}),o=n.slice(0,Le.renderRelationTokenLimit),a=[];for(const i of o){const t=h.a.createChildStore(this.props.store,{table:F.a,id:i}).getValue();t&&t.parent_id===e.collection_id&&a.push(r.a.createElement(v.a,{key:i,format:this.getTokenFormat(),blockId:i,shouldWrap:this.isTable()&&this.shouldWrap(),isSingle:!1,shouldShrink:this.isBoard()||this.isListView()||this.isTimeline(),parentStore:this.props.store}))}return r.a.createElement("div",{style:this.getTokenWrapStyle()},a,n.length>Le.renderRelationTokenLimit&&r.a.createElement(W,{count:n.length-Le.renderRelationTokenLimit,format:this.getTokenFormat(),isPage:this.isPage()}))}renderRollup(e){const{property:t,schema:n,store:o,format:a}=this.props,i=o.getValue();if(!e.relation_property||!i)return;const s=i.properties||{},l=n[e.relation_property];if(!l||"relation"!==l.type||!l.collection_id)return;const c=ee.a.createChildStore(o,{table:Pe.a,id:l.collection_id}).getValue();if(!c)return;const d=he.e(c.schema),u=e.target_property||"title",p=d[u];if(!p)return;const m={title:this.getTokenWrapStyle(),number:le,file:this.getFileTokenWrapStyle(),text:le,checkbox:{paddingBottom:this.isPage()?Le.cellHeight/4:0},person:this.getTokenWrapStyle(),url:le,email:le,phone_number:le,select:this.getTokenWrapStyle(),multi_select:this.getTokenWrapStyle(),date:le,created_by:this.getTokenWrapStyle(),created_time:this.getBaseTextStyle(),last_edited_by:this.getTokenWrapStyle(),last_edited_time:this.getBaseTextStyle(),relation:this.getTokenWrapStyle(),rollup:void 0,formula:le};if(e.aggregation&&"show_unique"!==e.aggregation){const o=ve.a({block:i,property:t,schema:n,getRecordValue:this.getRecordValue,userTimeZone:k.m,depth:0,intl:R.default.getIntl(),normalizedSchemaCache:{}});if(void 0===o)return;let a;"formula"!==p.type&&"number"!==p.type||(a=p.number_format);const s=Object(Ie.e)({numberFormat:a,aggregationType:e.aggregation,value:o,userTimeZone:k.m,roundDecimal:3});return r.a.createElement("span",{style:this.getBaseTextStyle()},s)}const f=g.j({relationValue:g.t(s[e.relation_property]),getRecordValue:this.getRecordValue,propertySchema:l}).map(e=>h.a.createChildStore(o,{table:F.a,id:e})).filter(e=>{const t=e.getValue();return t&&t.parent_id===c.id});return r.a.createElement("div",{style:{...m[p.type||"relation"],display:"flex",flexWrap:this.shouldWrap()||this.isBoard()?"wrap":"nowrap"}},r.a.createElement(N,{stores:f,unique:Boolean("show_unique"===e.aggregation),property:u,schema:d,format:a,parentStore:o,wrap:this.shouldWrap()}))}renderDate(e){const t=this.getPropertyValue(),n=g.o(t),o=e&&e.time_format?e.time_format:k.cb,a=e&&e.date_format?e.date_format:k.v;if(n)return r.a.createElement(S.a,{value:n,dateFormat:a,timeFormat:o,style:{...this.getBaseTextStyle(),...(this.isListView()||this.isTimeline())&&{fontSize:12,color:this.theme.mediumTextColor}}})}renderFile(){const e=this.getPropertyValue(),t=g.p(e);if(t.length>0)return r.a.createElement("div",{style:this.getFileTokenWrapStyle()},t.map(e=>{const t=e.url,n=e.name;return w.h({url:t})?r.a.createElement(_.a,{key:t,url:t,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:20,render:(e,n)=>{if(n)return r.a.createElement("img",{key:t,src:n,style:this.getFileImageStyle()})}}):r.a.createElement("div",{style:{...this.getFileStyle(),...this.isDesktopCalendar()&&{height:14,display:"inline-flex"}},key:t},r.a.createElement("span",{style:Le.fileTitleStyle},n))}))}renderFormula(){const{property:e,store:t,schema:n}=this.props;return r.a.createElement(Te,{property:e,store:t,schema:n,isDesktopCalendar:this.isDesktopCalendar(),style:this.getBaseTextStyle()})}renderCreatedTime(){const e=this.props.store.getValue(),t=e&&e.created_time,n=this.isListView()||this.isTimeline();if(t){const e=k.r(t,k.m);return r.a.createElement(S.a,{value:e,dateFormat:n?"relative":k.v,timeFormat:n?void 0:k.x,style:{...this.getBaseTextStyle(),...n&&{fontSize:12,color:this.theme.mediumTextColor}}})}}renderCreatedBy(){const e=this.props.store.getValue();if(!e)return;if(!e.created_by_table)return;if(!e.created_by_id)return;const t=Object(B.a)({pointer:{table:e.created_by_table,id:e.created_by_id},getRecordValue:this.getRecordValue});return r.a.createElement("div",{style:this.getTokenWrapStyle()},t.value&&r.a.createElement(L.c,{actor:t,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1}))}renderLastEditedTime(){const e=this.props.store.getValue(),t=e&&e.last_edited_time,n=this.isListView()||this.isTimeline();if(t){const e=k.r(t,k.m);return r.a.createElement(S.a,{value:e,dateFormat:n?"relative":k.v,timeFormat:n?void 0:k.x,style:{...this.getBaseTextStyle(),...n&&{fontSize:12,color:this.theme.mediumTextColor}}})}}renderLastEditedBy(){const e=this.props.store.getValue();if(!e)return;if(!e.last_edited_by_table)return;if(!e.last_edited_by_id)return;const t=Object(B.a)({pointer:{table:e.last_edited_by_table,id:e.last_edited_by_id},getRecordValue:this.getRecordValue});return r.a.createElement("div",{style:this.getTokenWrapStyle()},t.value&&r.a.createElement(L.c,{actor:t,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1}))}renderNavigateButton(){const e=this.getType(),t=this.getLinkHref(),n=e&&Le.navigateButton[e];if(!n)return;const{icon:o,tooltip:a}=n;return t?r.a.createElement(K.a,{renderTooltip:()=>a,render:n=>r.a.createElement(p.a,Object.assign({href:t,metaHref:this.getLinkClickHref(),style:{position:"absolute",right:6,top:4},external:this.getLinkExternal(),onClick:"title"===e?this.handleTitleLinkClick:void 0},n),r.a.createElement(d.a,{icon:o,hasBackground:!0,showShadow:!0,caption:"title"===e&&R.default.formatMessage(Oe.openAsPageTitle)}))}):void 0}renderNumberFormatEditButton(){const{device:e}=this.environment,{numberFormatButtonPopupStore:t}=this.stores,n=this.isTable();return r.a.createElement(z.a,{popupType:e.isMobile?z.a.PopupType.SlideUp:z.a.PopupType.Popup,buttonPopupStore:t,style:{width:200},renderOrigin:e=>r.a.createElement(d.a,Object.assign({icon:Me.a.collectionNumberType,hasBackground:!0,showShadow:!0,style:n?Le.leftNumberTypeButtonStyle:Le.rightNumberTypeButtonStyle},e)),render:this.renderNumberFormatMenu})}renderNumberFormatMenuTitle(e){switch(e){case"number":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.number",defaultMessage:"Number"});case"number_with_commas":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.numberWithCommas",defaultMessage:"Number with commas"});case"percent":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.percent",defaultMessage:"Percent"});case"real":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.brl",defaultMessage:"Real"});case"lira":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.try",defaultMessage:"Lira"});case"rupiah":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.idr",defaultMessage:"Rupiah"});case"dollar":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.dollar",defaultMessage:"Dollar"});case"euro":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.euro",defaultMessage:"Euro"});case"pound":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.pound",defaultMessage:"Pound"});case"yen":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.yen",defaultMessage:"Yen"});case"ruble":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.ruble",defaultMessage:"Ruble"});case"rupee":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.rupee",defaultMessage:"Rupee"});case"won":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.won",defaultMessage:"Won"});case"yuan":return r.a.createElement(j.FormattedMessage,{id:"collection.numberFormat.yuan",defaultMessage:"Yuan"})}}renderNumberFormatMenuItem(e,t){return r.a.createElement(U.a,Object.assign({},t,{title:this.renderNumberFormatMenuTitle(e)}))}getNumberFormatMenuItems(){return C.d.map(e=>({key:e,render:t=>this.renderNumberFormatMenuItem(e,t),action:()=>this.handleNumberFormatChange(e)}))}getPropertyStore(){const{store:e,property:t}=this.props;return e.getPropertyStore(t)}isLinkType(){const{schema:e,property:t}=this.props,n=e[t];if(n&&"formula"===n.type){const{formula:e}=n;return e&&e.result_type&&he.j(e.result_type)}return n&&he.j(n.type)}isNumberType(){const{schema:e,property:t}=this.props,n=e[t];if(n&&"formula"===n.type){const{formula:e}=n;return Boolean(e&&"number"===e.result_type)}return n&&"number"===n.type}isReadOnlyType(){const e=this.getType();return e&&he.k(e)}isDroppableType(){return"file"===this.getType()}getLinkHref(){const{store:e}=this.props,t=this.getType();if("title"===t)return Object(ne.a)({store:e,fullyQualified:!1});if("url"===t){const e=this.getPropertyValue(),t=g.v(e);if(t){const e=fe.a(t);if(e&&e[0]&&e[0].href)return e[0].href}}else if("phone_number"===t){const e=this.getPropertyValue(),t=g.v(e);if(t){const e=t.trim().replace(/\s/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\-/g,"").replace(/\./g,"");return"tel:".concat(e)}}else if("email"===t){const e=this.getPropertyValue(),t=g.v(e);if(t)return"mailto:".concat(t)}}getLinkClickHref(){const{device:e}=this.environment,{store:t}=this.props;if("title"===this.getType()&&!e.isMobile){const{currentBlockStore:e}=J.default.state;if(e)return Object(ne.a)({store:e,fullyQualified:!1,peekViewBlockId:t.id})}}getLinkExternal(){return"title"!==this.getType()}isEmpty(){const{store:e,schema:t,property:n}=this.props,o=e.getValue();return!this.isCheckBoxType()&&(!o||g.w({block:o,property:n,schema:t,getRecordValue:this.getRecordValue,userTimeZone:k.m,intl:R.default.getIntl(),normalizedSchemaCache:{}}))}isTable(){const{format:e}=this.props;return e===Be.Table}isBoard(){const{format:e}=this.props;return e===Be.Board}isDesktopCalendar(){const{device:e}=this.environment,{format:t}=this.props;return!e.isMobile&&t===Be.Calendar}isMobileCalendar(){const{device:e}=this.environment,{format:t}=this.props;return e.isMobile&&t===Be.Calendar}isPage(){const{format:e}=this.props;return e===Be.Page}isListView(){const{format:e}=this.props;return e===Be.ListView}isTimeline(){const{format:e}=this.props;return e===Be.Timeline}isGallery(){const{format:e}=this.props;return e===Be.GalleryView}isDesktopGallery(){const{format:e}=this.props,{device:t}=this.environment;return!t.isMobile&&e===Be.GalleryView}isMobileGallery(){const{device:e}=this.environment,{format:t}=this.props;return e.isMobile&&t===Be.GalleryView}getType(){const{schema:e,property:t}=this.props,n=e[t];if(n)return n.type}getMouseEntered(){const{forceMouseEntered:e}=this.props;return Object(M.h)(e)?this.stores.mouseStore.state.mouseEntered:e}shouldWrap(){const{tableWrap:e}=this.props,t=this.isPage();return e||t}getTokenFormat(){return this.isMobileCalendar()?E.a.Medium:this.isDesktopCalendar()||this.isDesktopGallery()?E.a.ExtraSmall:this.isBoard()?E.a.Small:this.isListView()||this.isTimeline()||this.isMobileGallery()?E.a.Inline:E.a.Medium}isCheckBoxType(){const{schema:e,property:t}=this.props,n=e[t];return!!n&&g.k(n)}isRollup(){return"rollup"===this.getType()}get getRecordValue(){return this.props.store.getRecordValue}getDomainName(){const e=this.getType(),t=this.getPropertyValue(),n=g.v(t);if("url"===e){const e=we.e(n).hostname;return e?e.replace(/^www./i,""):n}return n}getCellStyle(){const{width:e}=this.props,t=this.getType(),n=this.isTable(),o=this.shouldWrap(),r=this.isCheckBoxType(),a="select"===t||"multi_select"===t,i="file"===t,s="relation"===t,l="rollup"===t,c="person"===t||"created_by"===t||"last_edited_by"===t,d=this.isDroppableType(),u={fontSize:14,overflow:"hidden",...!(this.isPage()&&this.isEmpty())&&(a||c||i||s||l)&&{paddingTop:0,paddingBottom:0},...r?this.getCheckboxCellStyle():Le.cellLeftPaddingStyle};return n?{display:"block",width:e,borderRight:this.props.disableTableBorderRight||this.props.isLast&&(this.props.disabled||this.props.locked)?"none":"1px solid ".concat(this.theme.tableLightDividerColor),whiteSpace:o?"normal":"nowrap",minHeight:Le.cellHeight,cursor:"default",...!o&&{height:Le.cellHeight},...ce,...d&&{height:"100%"},...u}:{display:this.isLinkType()?"inline-block":"flex",alignItems:"center",borderRadius:3,width:"100%",minHeight:Le.cellHeight+2,...de,...u}}getCardPropertyStyle(){const e=this.getType();return{paddingLeft:10,paddingRight:10,paddingBottom:e&&{title:0,text:4,number:4,date:4,created_time:4,last_edited_time:4,url:6,email:6,phone_number:6,select:0,multi_select:0,person:0,created_by:0,last_edited_by:0,relation:0,checkbox:4,file:4,formula:4}[e],fontSize:12}}getMobileCardPropertyStyle(){const e=this.getType();return{paddingBottom:e&&{title:0,text:4,number:4,date:4,created_time:4,last_edited_time:4,url:6,email:6,phone_number:6,select:0,multi_select:0,person:0,created_by:0,last_edited_by:0,relation:0,checkbox:4,file:4,formula:4}[e],fontSize:14}}getListPropertyStyle(){const{device:e}=this.environment,t=e.isMobile;return{display:"flex",alignItems:"center",fontSize:14,marginLeft:t?0:14,marginRight:t?8:0,minWidth:20,height:t?30:0}}getTimelinePropertyStyle(){const{isLast:e}=this.props;return{display:"flex",alignItems:"center",fontSize:14,marginRight:e?0:10}}getGalleryPropertyStyle(){const{device:e}=this.environment,t=this.getType(),n="text"===t||"url"===t;return{display:"flex",alignItems:"center",fontSize:e.isMobile?14:12,height:24,whiteSpace:"nowrap",...n&&{paddingRight:8}}}getLinkCellWrapStyle(){return this.isTable()?{display:"flex"}:{display:"flex",height:"100%",flex:"auto"}}getCheckboxCellStyle(){return this.isTable()?Le.checkboxCellStyle:Le.checkboxPagePropertyStyle}getTokenWrapStyle(){const e=this.getType();if(this.isBoard()||this.isMobileCalendar())return{display:"flex",flexWrap:"wrap"};if(this.isTable())return{display:"flex",flexWrap:this.shouldWrap()?"wrap":"nowrap",paddingTop:this.shouldWrap()&&"relation"===e?5:7};if(this.isPage())return{display:"flex",flexWrap:"wrap",paddingTop:8,paddingBottom:2};if(this.isDesktopCalendar()||this.isGallery())return{display:"flex",minWidth:0};if(this.isListView()||this.isTimeline()){return{display:"flex",minWidth:0,...("person"===e||"created_by"===e||"last_edited_by"===e)&&{paddingRight:5,flexDirection:"row-reverse"},...("select"===e||"multi_select"===e)&&{marginRight:-6},..."relation"===e&&{marginRight:-12}}}}getBaseTextStyle(){const e=this.shouldWrap();return this.isTable()?{lineHeight:1.5,whiteSpace:e?"pre-wrap":"nowrap",wordBreak:e?"break-word":"normal",pointerEvents:"none"}:this.isDesktopCalendar()||this.isListView()||this.isGallery()?{lineHeight:1.2,...O.a.textOverflowStyle}:this.isTimeline()?{lineHeight:1.2,wordBreak:"break-word",whiteSpace:"nowrap"}:{lineHeight:1.5,wordBreak:"break-word",whiteSpace:"pre-wrap",pointerEvents:"none"}}getLinkUnderlineStyle(){return{backgroundImage:"linear-gradient(\n\t\t\tto right,\n\t\t\t".concat(this.theme.darkDividerColor," 0%,\n\t\t\t").concat(this.theme.darkDividerColor," 100%\n\t\t)"),backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}getLinkTextStyle(){return{...this.getBaseTextStyle(),...this.getLinkUnderlineStyle()}}getTitleStyle(){return{...this.getLinkTextStyle(),fontWeight:O.a.fontWeight.medium,whiteSpace:this.shouldWrap()?"normal":"nowrap"}}getDiscussionIndicatorStyle(){return{display:"inline-flex",alignItems:"center",color:this.theme.lightTextColor,fontSize:12,fontWeight:O.a.fontWeight.semibold,marginLeft:8,verticalAlign:"text-top"}}getFileTokenWrapStyle(){return this.isDesktopCalendar()||this.isGallery()?{display:"flex",minWidth:0}:this.isListView()||this.isTimeline()?{display:"flex",minWidth:0,overflow:"hidden"}:{display:"flex",alignContent:"flex-start",flexWrap:this.shouldWrap()?"wrap":"nowrap",paddingTop:4,paddingBottom:4}}getFileImageStyle(){return{maxHeight:this.isDesktopCalendar()||this.isGallery()?18:24,marginRight:6}}getFileStyle(){return{display:"flex",alignItems:"center",whiteSpace:"nowrap",maxWidth:120,height:18,borderRadius:3,background:this.theme.selectColors.default,paddingLeft:6,paddingRight:6,overflow:"hidden",marginRight:6,marginTop:3,marginBottom:3,paddingBottom:1}}}Le.Format=Be,Le.contextTypes={verticalScroller:i.a.any,horizontalScroller:i.a.any,...f.b},Le.renderRelationTokenLimit=10,Le.navigateButton={title:{icon:Me.a.openAsPageThick,tooltip:R.default.formatMessage(Oe.openAsPageTooltip)},email:{icon:Me.a.typesEmail,tooltip:R.default.formatMessage(Oe.sendEmailTooltip)},phone_number:{icon:Me.a.typesPhoneNumber,tooltip:R.default.formatMessage(Oe.callTooltip)},url:{icon:Me.a.typesUrl,tooltip:R.default.formatMessage(Oe.openLinkTooltip)}},Le.cellHeight=32,Le.calendarPropertyStyle={display:"flex",alignItems:"center",fontSize:12,height:20,whiteSpace:"nowrap"},Le.cellLeftPaddingStyle={paddingLeft:8},Le.numberCellWrapStyle={display:"flex"},Le.numberCellWrapPagePropertyStyle={display:"flex",height:"100%",flex:"auto"},Le.numberTableCellStyle={textAlign:"right",paddingRight:Le.cellLeftPaddingStyle.paddingLeft},Le.numberPagePropertyStyle={...Le.cellLeftPaddingStyle},Le.checkboxCellStyle={justifyContent:"center",userSelect:"none",...ue},Le.checkboxPagePropertyStyle={...Le.cellLeftPaddingStyle,justifyContent:"flex-start",...pe},Le.listViewTextWrapStyle={maxWidth:180,...O.a.textOverflowStyle},Le.titleIconStyle={display:"inline-block",verticalAlign:"text-top",marginBottom:-1,marginRight:4},Le.fileTitleStyle={...O.a.textOverflowStyle},Le.leftNumberTypeButtonStyle={position:"absolute",top:4,left:5},Le.rightNumberTypeButtonStyle={position:"absolute",top:4,right:6},Le.cardCheckboxWrapStyle={display:"flex",alignItems:"center"},Le.cardCheckboxNameStyle={marginLeft:6};var Re=t.b=Le},"0zNc":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{initiator:"none",isDragging:!1,disableVerticalEdgeScroll:!1,disableHorizontalEdgeScroll:!1}}}t.a=new r},"19e1":function(e,t){"undefined"!=typeof window&&function(e,t){function n(){this.key=!1,this.sendConsoleErrors=!1,this.tag="jslogger",this.useDomainProxy=!1}function o(t,n){if(t.sendConsoleErrors=n,!0===t.sendConsoleErrors){var o=e.onerror;e.onerror=function(n,r,a,i){t.push({category:"BrowserJsException",exception:{message:n,url:r,lineno:a,colno:i}}),o&&"function"==typeof o&&o.apply(e,arguments)}}}function r(t){1==t.useDomainProxy?t.inputUrl=a+e.location.host+"/"+c+"/inputs/"+t.key+"/tag/"+t.tag:t.inputUrl=a+(t.logglyCollectorDomain||i)+"/inputs/"+t.key+"/tag/"+t.tag}var a="https://",i="logs-01.loggly.com",s="logglytrackingsession",l=s.length+1,c="loggly";n.prototype={setSession:function(e){e?(this.session_id=e,this.setCookie(this.session_id)):this.session_id||(this.session_id=this.readCookie(),this.session_id||(this.session_id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),this.setCookie(this.session_id)))},push:function(e){var t=typeof e;if(e&&("object"===t||"string"===t)){var n=this;if("string"===t)e={text:e};else{if(e.logglyCollectorDomain)return void(n.logglyCollectorDomain=e.logglyCollectorDomain);if(void 0!==e.sendConsoleErrors&&o(n,e.sendConsoleErrors),e.tag&&function(e,t){e.tag=t}(n,e.tag),e.useDomainProxy&&function(e,t){e.useDomainProxy=t,r(e)}(n,e.useDomainProxy),e.logglyKey)return void function(e,t){e.key=t,e.setSession(),r(e)}(n,e.logglyKey);if(e.session_id)return void n.setSession(e.session_id)}n.key&&n.track(e)}},track:function(t){t.sessionId=this.session_id;try{var o=new XMLHttpRequest;o.open("POST",this.inputUrl,!0),o.setRequestHeader("Content-Type","text/plain"),o.send(JSON.stringify(t))}catch(n){e&&e.console&&"function"==typeof e.console.log&&(console.log("Failed to log to loggly because of this exception:\n"+n),console.log("Failed log data:",t))}},readCookie:function(){var e=t.cookie,n=e.indexOf(s);if(0>n)return!1;var o=e.indexOf(";",n+1);return o=0>o?e.length:o,e.slice(n+l,o)},setCookie:function(e){t.cookie=s+"="+e}};var d=e._LTracker,u=new n;if(d&&d.length){var p=0,h=d.length;for(p=0;h>p;p++)u.push(d[p])}e._LTracker=u,e.LogglyTracker=n}(window,document)},"1G+a":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var o,r=n("A9TN"),a=n("VMJe"),i=n("VhAz");function s(e){const{environment:t}=e;if(!t.device.isIOS)return!1;if(!t.reactNative||!t.reactNative.api.openUpgradeModal)return!1;switch(r.default.env){case"local":case"development":case"staging":return!0;case"production":{if(!t.device.mobileAppVersion)return!1;const e=a.parseVersion(t.device.mobileAppVersion),n=a.parseVersion("0.4.165");return!(!e||!n)&&!a.isLessThanVersion(e,n)}}Object(i.e)(r.default.env)}!function(e){e[e.Bottom=0]="Bottom",e[e.Floating=1]="Floating"}(o||(o={}))},"1Imc":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{loginType:"email",email:"",password:"",hasAccount:!1}}isGoogle(){return"google"===this.state.loginType}isEmail(){return"email"===this.state.loginType}isReverifying(){return"reverify"===this.state.loginType}isTemporaryPasscode(){return"temporary"===this.state.loginType}isPassword(){return"password"===this.state.loginType}isForgotPassword(){return"forgot"===this.state.loginType}isPasswordResetSent(){return"reset"===this.state.loginType}isSaml(){return"saml"===this.state.loginType}}t.a=r},"1P/O":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{}}setOpen(e,t){this.setState({...this.state,[e]:t})}toggle(e){this.setState({...this.state,[e]:!this.isOpen(e)})}isOpen(e){return!!this.state[e]}}t.a=new r},"1QGs":function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return w})),n.d(t,"g",(function(){return k}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("mKX5"),i=n("wpmu"),s=n("/mqF"),l=n("N34Z"),c=n("RvCr"),d=n("CARr"),u=n("rTCD"),p=n("x0lk"),h=n("D2XV"),m=n("AmMh");function f(e){const{environment:t,droppedStores:n,collectionStore:o,duplicate:r,calendarBy:a,startOfDay:i,transaction:u,collectionViewLocalStore:p}=e,m=s.f({environment:t,droppedStores:n,duplicate:r,transaction:u});for(const s of m){const e=s.getPropertyStore(a),n=d.o(e.getValue())||h.nb(h.m),r=h.l(n,h.m),m=i.format(h.ib);let f;if("date"===r.type||"datetime"===r.type)f={...r,start_date:m};else{const e=h.K(r,h.m);if(!e.end)return;const t={...r,start_date:m},n=h.K(t,h.m).start.diff(e.start,"days"),o=e.end.add(n,"days").format(h.ib);f={...r,start_date:m,end_date:o}}const g=h.l(f,h.P(n)||h.m),b=d.b(g);c.a({environment:t,store:s,collectionStore:o,collectionViewLocalStore:p,coerce:!0,transaction:u}),l.c({store:e,value:b,transaction:u})}}function g(e){const{calendarStore:t,direction:n,target:o}=e;t.setState({isDragging:!0,dayStoreMap:t.state.dayStoreMap,currentlyScrolledMonth:t.state.currentlyScrolledMonth,target:o,direction:n})}function b(e){const{calendarStore:t,x:n,y:o,calendarBy:i}=e,s=t.state;if(s.isDragging){const e=d.o(s.target.getPropertyStore(i).getValue());if(!e)return;const l=h.l(e,h.m),c=s.temporaryValue||e,f=h.l(c,h.m),g=[];s.dayStoreMap.forEach((e,t)=>{g.push({store:e,timestamp:t})});const b=g.find(({store:e})=>{const t=m.a.getRectFromStore(e);return Boolean(t&&p.g(t,n,o))});let v;if(b){const e=Object(a.a)(b.timestamp),t=e.clone().endOf("day"),n=e.format(h.ib);if(l){const o=h.K(l,h.m);if(s.direction===u.a.Left)if(o.start.isBetween(e,t,void 0,"[]"))v=l;else{let e;e="datetimerange"===l.type?{...l,start_date:n,end_date:l.end_date}:"daterange"===l.type?{...l,start_date:n,end_date:l.end_date}:"datetime"===l.type?{type:"datetimerange",start_date:n,start_time:l.start_time,end_date:l.start_date,end_time:l.start_time,time_zone:l.time_zone,reminder:l.reminder}:{type:"daterange",start_date:n,end_date:l.start_date,reminder:l.reminder};const t=h.K(e,h.m);v=!o.end&&t.start.isAfter(o.start)||o.end&&t.start.isAfter(o.end)?f:e}else if(o.end?Object(a.a)(o.end).isBetween(e,t,void 0,"[]"):o.start.isBetween(e,t,void 0,"[]"))v=l;else{let e;e="date"===l.type?{...l,type:"daterange",end_date:n}:"datetime"===l.type?{...l,type:"datetimerange",end_date:n,end_time:"00:00"}:{...l,end_date:n};const t=h.K(e,h.m);v=t.end&&t.end.isBefore(t.start)?f:e}}}if(v&&!r.a.isEqual(f,v)){const e=h.l(v,h.P(c)||h.m);t.setState({...s,temporaryValue:e})}}}function v(e){const{calendarStore:t,calendarBy:n,transaction:o}=e,r=t.state;if(r.isDragging&&r.temporaryValue){const e=d.b(r.temporaryValue);l.c({store:r.target.getPropertyStore(n),value:e,transaction:o}),t.setState({isDragging:!1,dayStoreMap:t.state.dayStoreMap,currentlyScrolledMonth:t.state.currentlyScrolledMonth})}}function y(e){const{calendarStore:t}=e;t.state.isDragging&&t.setState({isDragging:!1,dayStoreMap:t.state.dayStoreMap,currentlyScrolledMonth:t.state.currentlyScrolledMonth})}function S(e){const{environment:t,store:n,collectionStore:o,collectionViewLocalStore:r,startDayOfWeek:i,transaction:s}=e,u=r.dateRangeStart.get(),p=r.normalizedQueryStore.state;if(!p||!p.calendar_by)return;const m=p.calendar_by,f=h.J(Object(a.a)(u),i),g=f.clone().startOf("month"),b=f.clone().endOf("month"),v=Object(a.a)().startOf("day");let y;return y=v.isBetween(g,b,void 0,"[]")?h.n(v.valueOf(),h.m):h.n(h.M(Object(a.a)(u),i).valueOf(),h.m),l.d({store:n.getPropertiesStore(),data:{[m]:d.b(y)},transaction:s}),c.a({environment:t,store:n,collectionStore:o,collectionViewLocalStore:r,coerce:!0,transaction:s}),n}function w(e){const{environment:t,calendarBy:n,collectionStore:o,collectionViewLocalStore:r,startOfDay:a,transaction:i}=e,s=l.a({environment:t,type:"page",inMemoryRecordCache:o.inMemoryRecordCache,transaction:i}),u=d.b(h.n(a.valueOf(),h.m));return l.d({store:s.getPropertiesStore(),data:{[n]:u},transaction:i}),c.a({environment:t,store:s,collectionStore:o,collectionViewLocalStore:r,coerce:!0,transaction:i}),s}function k(e){const{environment:t,collectionStore:n,calendarBy:o,store:r,insertStores:a,collectionViewLocalStore:s,transaction:d}=e,u=r.getPropertyStore(o).getValue();for(const i of a)c.a({environment:t,store:i,collectionStore:n,collectionViewLocalStore:s,coerce:!0,transaction:d}),l.c({store:i.getPropertyStore(o),value:u,transaction:d});return a.map(e=>i.a.createChildStore(n,e.pointer))}},"1UIA":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var o=n("wldR"),r=n("DkKf"),a=n("OjB8");let i={x:0,y:0,moved:!1,device:"mouse"};class s extends o.a{willMount(){this.environment.device.isMobile?(window.addEventListener("touchstart",this.handleTouchStart),window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("mousemove",this.handleMouseMove)):(window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("mousemove",this.handleMouseMove))}willUnmount(){this.environment.device.isMobile?(window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("mousemove",this.handleMouseMove)):(window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("mousemove",this.handleMouseMove))}handleTouchStart(e){const t=e.touches[0];i={moved:!1,x:t.clientX,y:t.clientY,device:Object(r.a)(t)}}handleTouchMove(e){const{x:t,y:n}=i,o=e.touches[0];Object(a.a)(t,n,o.clientX,o.clientY)>r.b[Object(r.a)(o)]&&(i={...i,moved:!0})}handleMouseDown(e){i={moved:!1,x:e.clientX,y:e.clientY,device:"mouse"}}handleMouseMove(e){const{x:t,y:n}=i;Object(a.a)(t,n,e.clientX,e.clientY)>r.b.mouse&&(i={...i,moved:!0})}}t.a=s},"1k9p":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var o=n("q1tI"),r=n.n(o),a=n("17x9");const i={pageContext:n.n(a).a.any},s=Object(o.createContext)(void 0);s.displayName="PageContext";class l extends r.a.Component{getChildContext(){return{pageContext:this.props.value}}render(){return r.a.createElement(s.Provider,{value:this.props.value},this.props.children)}}l.childContextTypes={...i}},"1wVZ":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=new(n("hU3F").a)({});function r(){return Object.values(o.get()).every(e=>!e)}},"1y3T":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("Pl3d"),s=n("bkwR"),l=n("622O"),c=n("A9TN"),d=n("di7S"),u=n("dlZW");class p extends a.a{constructor(){super(...arguments),this.peformRequest=async e=>{const{url:t,width:n,stripGoogleIconQuery:o}=e;e.isAuthenticated&&await u.transactionQueue.awaitRecordTransaction(e.permissionRecord);let r=t;if(l.k(t)&&n)r=l.g(t,n);else if(l.l(t))r=e.isAuthenticated?d.a({url:t,width:n,permissionRecord:e.permissionRecord,stripGoogleIconQuery:o,baseUrl:c.default.baseURL,fullyQualified:!1,userId:this.environment.currentUser.id}):d.b({url:t,width:n,stripGoogleIconQuery:o,baseUrl:c.default.baseURL,fullyQualified:!1,userId:this.environment.currentUser.id});else if(l.j(t,c.default.secureFileS3.url)&&e.isAuthenticated){const n=await s.getSignedFileUrl(this.environment,{url:t,permissionRecord:e.permissionRecord});n&&(r=n)}return this.props.onFinishedLoadingProxyUrl&&this.props.onFinishedLoadingProxyUrl(r),r}}renderComponent(){const e={request:this.props.isAuthenticated?{isAuthenticated:!0,url:this.props.url,width:this.props.width,permissionRecord:this.props.permissionRecord,stripGoogleIconQuery:this.props.stripGoogleIconQuery}:{isAuthenticated:!1,url:this.props.url,width:this.props.width,stripGoogleIconQuery:this.props.stripGoogleIconQuery},performRequest:this.peformRequest,render:this.props.render};return r.a.createElement(i.a,Object.assign({},e))}}t.a=p},"1yOa":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{pageId:void 0}}}t.a=r},"24Pt":function(e,t,n){"use strict";n("SYor"),n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("bkwR"),i=n("D2XV"),s=n("+zu0"),l=n("/ssM"),c=n("HRSx"),d=n("922z"),u=n("j76I"),p=n("yUnD"),h=n("ezkE"),m=(n("4Brf"),n("cBa6")),f=n("6SEd"),g=n("udrG"),b=n("VpIZ");function v(e){const{getRecordValue:t,blockValue:n}=e;let o="";if(n.type===g.a.collectionView||n.type===g.a.collectionViewPage){const e=function(e){const{getRecordValue:t,blockValue:n}=e;if(!n.collection_id)return;const o=t({table:f.a,id:n.collection_id});if(o&&o.parent_id!==n.id)return;if(o&&o.name)return m.Z(o.name)}({getRecordValue:t,blockValue:n});e&&(o=e)}else if("file"===n.type){const e=m.Z(n.properties&&n.properties.title),t=m.Z(n.properties&&n.properties.caption);o="".concat(e," ").concat(t)}else if("bookmark"===n.type){const e=m.Z(n.properties&&n.properties.title),t=m.Z(n.properties&&n.properties.description),r=m.Z(n.properties&&n.properties.caption);o="".concat(e," ").concat(t," ").concat(r)}else if(b.y(n)){const e=n.properties&&n.properties.caption;o=m.Z(e)}else{const e=n.properties&&n.properties.title;o=m.Z(e)}return o.trim().substring(0,500).trim()||void 0}var y=n("mjq6"),S=n("VhAz"),w=n("p0Ff");n("5/h/");function k(e){if(e.table===c.a){const t=e.value;if(t&&t.collection_id)return{table:f.a,id:t.collection_id}}}function C(e){const t=e.value;if(t&&t.parent_id&&t.parent_table)return{table:t.parent_table,id:t.parent_id}}var M=n("qX+M"),E=n("J9+s");function _(e){return e.length>0}function T(e){return Boolean(e.starting||e.ending)}function x(e){return Boolean(e)}n.d(t,"e",(function(){return P})),n.d(t,"l",(function(){return O})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return R})),n.d(t,"a",(function(){return D})),n.d(t,"k",(function(){return A})),n.d(t,"h",(function(){return V})),n.d(t,"g",(function(){return N})),n.d(t,"i",(function(){return U})),n.d(t,"j",(function(){return z})),n.d(t,"n",(function(){return X})),n.d(t,"b",(function(){return Y})),n.d(t,"m",(function(){return H})),n.d(t,"f",(function(){return q}));const I={requireEditPermissions:x,isDeletedOnly:x,excludeTemplates:x,isNavigableOnly:x,ancestors:_,createdBy:_,editedBy:_,lastEditedTime:T,createdTime:T};function P(e){return e?{requireEditPermissions:I.requireEditPermissions(e.requireEditPermissions),isDeletedOnly:I.isDeletedOnly(e.isDeletedOnly),excludeTemplates:I.excludeTemplates(e.excludeTemplates),isNavigableOnly:I.isNavigableOnly(e.isNavigableOnly),ancestors:I.ancestors(e.ancestors),createdBy:I.createdBy(e.createdBy),editedBy:I.editedBy(e.editedBy),createdTime:I.createdTime(e.createdTime),lastEditedTime:I.lastEditedTime(e.lastEditedTime)}:{requireEditPermissions:!1,isDeletedOnly:!1,excludeTemplates:!1,isNavigableOnly:!1,ancestors:!1,createdBy:!1,editedBy:!1,createdTime:!1,lastEditedTime:!1}}function O(e){const t=P(e);return Object.values(t).some(e=>Boolean(e))}function B(e,t,n=i.v){return i.i.toMomentRange(e).start.locale(t.locale).format(n)}const L=Object(E.defineMessages)({startAndEnd:{defaultMessage:"{startDate} - {endDate}",id:"searchHelpers.betweenStartAndEndDates",description:"startDate and endDate are already localized date messages."},afterStart:{defaultMessage:"After {startDate}",id:"searchHelpers.afterStartDate",description:"startDate is an already localized date message."},beforeEnd:{defaultMessage:"Before {endDate}",id:"searchHelpers.beforeEndDate",description:"endDate is an already localized date message."}});function R(e,t,n=i.v){const o=e.starting?B(e.starting,t,n):"",r=e.ending?B(e.ending,t,n):"";return o&&r?t.formatMessage(L.startAndEnd,{startDate:o,endDate:r}):o?t.formatMessage(L.afterStart,{startDate:o}):t.formatMessage(L.beforeEnd,{endDate:r})}function D(e){return Boolean(e.target&&e.target instanceof HTMLElement&&e.target.classList.contains("DayPicker-Day"))}function A(e){const{environment:t,input:n,currentSpaceStore:o,publicAccessPermission:r}=e,{query:i,limit:s}=n;return o?a.search(t,{type:l.c.BlocksInSpace,query:i.text.trim(),spaceId:o.id,limit:s,filters:i.filters,sort:i.sort,source:"quick_find"}):r&&a.search(t,{type:l.c.BlocksInAncestor,query:i.text.trim(),ancestorId:r.blockId,filters:i.filters,sort:i.sort,limit:s,source:"quick_find_public"})}class j{constructor(e){this.startingTimestamp=e.starting&&i.mb(e.starting,i.m),this.endingTimestamp=e.ending&&i.mb(e.ending,i.m)}matches(e){return void 0!==e&&(!(void 0!==this.startingTimestamp&&e<this.startingTimestamp)&&!(void 0!==this.endingTimestamp&&e>this.endingTimestamp))}}class F{constructor(e){this.filters=e,this.activeFilters=P(e),this.ancestorFilterIds=new Set(e.ancestors),this.createdTimeMatcher=new j(e.createdTime),this.lastEditedTimeMatcher=new j(e.lastEditedTime)}matches({blockValue:e,path:t}){if(this.activeFilters.editedBy){const t=e.last_edited_by_id||e.last_edited_by;if(!t||!this.filters.editedBy.includes(t))return!1}if(this.activeFilters.createdBy){const t=e.created_by_id||e.created_by;if(!t||!this.filters.createdBy.includes(t))return!1}return!(this.activeFilters.ancestors&&!t.some(({value:e})=>this.ancestorFilterIds.has(e.id)))&&(!(this.activeFilters.lastEditedTime&&!this.lastEditedTimeMatcher.matches(e.last_edited_time))&&!(this.activeFilters.createdTime&&!this.createdTimeMatcher.matches(e.created_time)))}}async function V(e){const{environment:t,currentSpaceStore:o,currentSpaceViewStore:a}=e,i=new Set(Object(M.getSpaceLoadPageIds)(t,o));if(a){a.getBookmarkedPageIds().forEach(e=>i.add(e));const{getSharedPages:e}=await Promise.resolve().then(n.bind(null,"qX+M"));e(t,a).forEach(e=>i.add(e.id))}const l=new Set(i);s.a.getVisitedIds(t.currentUser.id).forEach(e=>l.add(e));const m=Array.from(l).map(e=>({table:c.a,id:e})),f=new d.a;await Object(u.b)({recordPointers:m,recordMap:f,recurFn(e){if(e.value.value){const t={table:e.table,value:e.value.value};return r.a.compact([C(t),k(t)])}},loadRecordValue:async e=>await Object(p.b)({environment:t,pointer:e,inMemoryRecordCache:w.default})||await Object(p.b)({environment:t,pointer:e})});const g=r.a.compact(m.map(e=>{const t=d.c.fromRecordMapWithRole(f),n=t(e);if(!n)return!1;const r=Object(h.d)(e,f);if(0===r.length)return!1;if(!Object(h.k)(r))return!1;if(!i.has(n.id)){const e=Object(h.f)(r);if(!e||e.id!==o.id)return!1}const a=v({blockValue:n,getRecordValue:t});return!!a&&{blockValue:n,text:a,path:r}}));return{spaceId:o.id,blocks:g,recordMap:f}}function N(e){const{input:t,cache:n}=e,o=n.blocks,{query:a,limit:i}=t,{filters:s,sort:c,text:d}=a,u=new F(s),p=o.filter(e=>u.matches(e)),h=r.a.compact(p.map(e=>{const t=Object(y.c)(d.trim(),e.text,{pre:l.b,post:l.a});if(t)return{...e,fuzzyResult:t}}));let m=()=>0;c===l.e.Relevance?m=({fuzzyResult:e})=>-e.score:c===l.e.LastEditedNewest?m=({blockValue:e})=>-(e.last_edited_time||0):c===l.e.LastEditedOldest?m=({blockValue:e})=>e.last_edited_time||0:c===l.e.CreatedNewest?m=({blockValue:e})=>-(e.created_time||0):c===l.e.CreatedOldest?m=({blockValue:e})=>e.created_time||0:Object(S.e)(c);const f=r.a.sortBy(h,m).slice(0,i).map(e=>({id:e.blockValue.id,score:e.fuzzyResult.score,isNavigable:Object(b.z)(e.blockValue),highlight:{text:e.fuzzyResult.rendered}}));return{total:h.length,results:f,recordMap:n.recordMap.toJson()}}function U(e){const t=z(e);return t&&t.results}function z(e){if(e&&!e.error)return e.value}function X({sort:e,unsorted:t,batchSize:n,currentUserId:o}){const a=t.length,i=Date.now();if(e!==l.e.Relevance)return{total:a,results:t};const c=r.a.chunk(t,n).map(e=>s.a.sortFrecencyHighToLow({items:e,now:i,currentUserId:o}));return{total:a,results:r.a.flatten(c)}}function Y(e){const{environment:t,isOnline:n,results:o}=e;if(o.local||o.server){if(o.local&&o.server){const{local:e,localIds:r}=function(e){const{environment:t,results:n,isOnline:o}=e,r=o?H(t,n):n,a=new Set;for(const{id:i}of r)a.add(i);return{local:r,localIds:a}}({environment:t,results:o.local,isOnline:n});return e.concat(o.server.filter(e=>!r.has(e.id)))}return o.local?n?H(t,o.local):o.local:o.server}}function H(e,t){const n=y.a,o=e.device.isMobile?2:3;return t.filter(e=>e.score>=n).slice(0,o)}function q(e){const{localResponse:t,serverResponse:n,serverRequestStore:o}=e,r=!o.state.ready;if(r)return{isLoading:r};const a=Boolean(U(t)),i=r?void 0:n&&n.error;return a?{hasLocalResults:a,serverError:i,isLoading:r,showMajorError:!1}:i?{hasLocalResults:a,serverError:i,isLoading:r,showMajorError:!0}:{hasLocalResults:a,serverError:i,isLoading:r,showMajorError:!1}}},"2HDO":function(e,t,n){"use strict";n("3bBZ");var o=n("wldR"),r=n("6nbh"),a=n("6rsX"),i=n("unoy"),s=n("sjR4"),l=n("DNgp"),c=n("w5u6"),d=n("RI9y");class u extends o.a{constructor(){super(...arguments),this.storeTypes={store:r.a},this.restoreSelection=()=>{const{savedHref:e,savedSelectionStoreState:t,savedTextSelectionStoreState:n}=this.stores.store.state;window.location.href===e&&(this.props.ignoreBlockSelection&&t&&s.default.setState({...s.default.state,...t}),n&&"editing"===n.mode&&l.default.setState({...l.default.state,...n})),this.clearSelection()}}willMount(){this.props.focusOffscreenInput&&(this.input=document.createElement("input"),this.input.style.position="fixed",this.input.style.top="-9999px",this.input.style.left="-9999px",document.body.appendChild(this.input)),this.props.capture&&(this.saveSelection(),this.props.focusOffscreenInput&&c.default.afterNextFlush(()=>{this.input.focus()}))}willUpdate(e){this.props.capture?e.capture||(e.restoreSelection?this.restoreSelection():this.clearSelection()):e.capture&&(this.saveSelection(),this.props.focusOffscreenInput&&c.default.afterNextFlush(()=>{this.input.focus()}))}willUnmount(){this.props.capture&&(this.props.restoreSelection?this.restoreSelection():this.clearSelection()),this.props.focusOffscreenInput&&document.body.removeChild(this.input)}renderComponent(){return this.props.render(this.restoreSelection)}saveSelection(){this.stores.store.setState({...this.stores.store.state,savedHref:window.location.href,savedSelectionStoreState:s.default.cloneState(),savedTextSelectionStoreState:l.default.cloneState(),savedTextSelectionRect:d.getSelectionRect()}),this.props.ignoreBlockSelection?a.e(this.environment):i.f(this.environment)}clearSelection(){this.stores.store.setState({...this.stores.store.state,savedHref:void 0,savedSelectionStoreState:void 0,savedTextSelectionStoreState:void 0,savedTextSelectionRect:void 0});const e=this.input;c.default.afterNextFlush(()=>{e&&document.activeElement===e&&e.blur()})}}t.a=u},"2WqK":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("y6Dp"),i=n("i3uR"),s=n("wldR"),l=n("LeVO"),c=n("uSCg"),d=n("nM47"),u=n("d9nj"),p=n("6rsX"),h=n("J9+s"),m=n("7M94"),f=n("gHFd");class g extends s.a{constructor(){super(...arguments),this.renderOrigin=e=>r.a.createElement(l.a,{renderTooltip:()=>r.a.createElement(h.FormattedMessage,{defaultMessage:"Share or publish to the web",id:"topbar.shareButton.tooltip"}),placement:l.a.Placement.Bottom,delayThreshold:400,render:t=>r.a.createElement(u.a,Object.assign({className:m.Qb},Object(c.a)(e,t)),r.a.createElement(h.FormattedMessage,{defaultMessage:"Share",id:"topbar.shareButton.title"}))}),this.handleClick=()=>{p.e(this.environment),a.cd(this.environment),d.e(this.environment)}}renderComponent(){const{device:e}=this.environment;return r.a.createElement(i.a,{popupType:e.isMobile?i.a.PopupType.SlideUp:i.a.PopupType.Popup,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderOrigin,originGap:8,style:{width:400,overflow:"hidden"},onClick:this.handleClick,render:()=>r.a.createElement(f.LazyBlockPermissionsSettings,{buttonPopupStore:this.props.buttonPopupStore,store:this.props.store,onUpgradeButtonClick:()=>{this.props.buttonPopupStore.reset()}})})}}t.a=g},"2Y+N":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("gbGO"),s=n("wlCD"),l=n("ttM1"),c=n("Sb6f"),d=n("CVgL"),u=n("7M94");class p extends a.a{constructor(){super(...arguments),this.renderLoadingSpinner=e=>r.a.createElement(s.a,{style:{visibility:e?void 0:"hidden"}})}renderComponent(){const{title:e,children:t,topBorder:n,isTitleUppercase:o,isInput:a,isSubmitButton:s,extraTopPadding:l,disableMobilePadding:c,enableActionSheetTitle:h}=this.props;if(this.environment.device.isPhone&&this.context.menuType!==i.a.Popup){const n=e&&(this.context.menuType!==i.a.ActionSheet||h);return r.a.createElement("div",Object.assign({},Object(d.a)(this.context.menuType===i.a.Modal&&!c&&p.mobileModalStyle)),n&&r.a.createElement("div",{style:this.getMobileTitleStyle()},r.a.createElement("div",{style:this.getTextOverflowStyle()},e),this.renderRight()),r.a.createElement("div",{className:u.U,style:{boxShadow:this.getMobileSectionBorders()}},t))}return r.a.createElement("div",Object.assign({},Object(d.a)(!this.props.disableDesktopPadding&&p.desktopPaddingStyle,a&&{marginTop:8},s&&{marginBottom:6},n&&{boxShadow:"0 -1px 0 ".concat(this.theme.regularDividerColor),marginTop:1},l&&{paddingTop:8},n&&e&&{marginTop:6,paddingTop:6},this.props.desktopStyle,this.props.style)),e&&r.a.createElement("div",Object.assign({},Object(d.a)(this.environment.device.isPhone?{...this.getMobileTitleStyle(),marginTop:8}:this.getDesktopTitleStyle(),o&&p.desktopTitleUppercaseStyle)),r.a.createElement("div",{style:this.getTextOverflowStyle()},e),this.renderRight()),t)}renderRight(){const{right:e,loading:t}=this.props,n=Boolean(t),o=e&&!n;return r.a.createElement("div",{style:p.titleRightStyle},o?e:r.a.createElement(l.a,{show:n,showDelay:500,showHold:300,render:this.renderLoadingSpinner}))}getMobileTitleStyle(){const{WindowSizeStore:e}=this.environment;return{display:"flex",textTransform:"uppercase",alignItems:"baseline",color:this.theme.mediumTextColor,lineHeight:1,fontSize:12,paddingLeft:this.context.menuType!==i.a.Popup?e.getSafePaddingLeftCSS(16):16,paddingRight:this.context.menuType!==i.a.Popup?e.getSafePaddingRightCSS(16):16,marginBottom:8,marginTop:this.context.menuType===i.a.ActionSheet?16:void 0,userSelect:"none",WebkitUserSelect:"none"}}getDesktopTitleStyle(){return{display:"flex",paddingLeft:14,paddingRight:14,marginTop:6,marginBottom:8,color:this.theme.mediumTextColor,fontSize:12,fontWeight:500,lineHeight:"120%",userSelect:"none",WebkitUserSelect:"none",...this.props.desktopTitleStyle}}getTextOverflowStyle(){return this.props.noTextOverflow?{display:"flex"}:{...c.a.textOverflowStyle}}getMobileSectionBorders(){return this.props.disableMobileBorders?"none":this.props.shouldShowBottomDivider?"\n\t\t\t\t\t0 1px 0 ".concat(this.theme.regularDividerColor,",\n\t\t\t\t\t0 -1px 0 ").concat(this.theme.regularDividerColor,"\n\t\t\t\t"):this.context.menuType!==i.a.ActionSheet?"0 -1px 0 ".concat(this.theme.regularDividerColor):"none"}}p.contextTypes={...i.c},p.mobileModalStyle={paddingTop:28},p.desktopPaddingStyle={paddingTop:6,paddingBottom:6},p.desktopTitleUppercaseStyle={textTransform:"uppercase",fontSize:11,fontWeight:c.a.fontWeight.medium},p.titleRightStyle={marginLeft:"auto"},t.a=p},"2Yor":function(e,t,n){"use strict";var o=n("LvDl"),r=n.n(o);t.a=function(e,t,n,o=1){return!r.a.isNumber(e)||r.a.isNaN(e)?o:e>n?n:e<t?t:e}},"2Zgn":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("mF3+"),i=n("FcJC"),s=n("NOLh"),l=n("wldR"),c=n("LeVO"),d=n("TDb4"),u=n("HTHG"),p=n("lCCU"),h=n("7M94"),m=n("J9+s");class f extends l.a{renderComponent(){const{device:e}=this.environment,t=e.isElectronMac&&u.p.state;return r.a.createElement(c.a,{renderTooltip:()=>r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(m.FormattedMessage,{defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"})),r.a.createElement(d.a,{style:{color:this.theme.mediumInvertedTextColor},name:"toggleSidebar"})),originGap:6,render:n=>r.a.createElement(s.a,{isVisible:!0,animationStyle:{opacity:t?0:1},render:()=>r.a.createElement(p.a,Object.assign({icon:a.a.doubleChevronLeft,style:{position:"relative",...e.isMobile&&{height:"100%"}},mobileFeedback:e.isMobile,onClick:()=>i.setExpand({environment:this.environment,isExpanded:!1}),className:h.o},n))})})}}t.a=f},"2ZkR":function(e,t,n){"use strict";n.r(t);var o=n("LEzx"),r=n("p2sz"),a=n("Catn"),i=n("y6Dp");n("3bBZ");const s=new Set(["offline-ui","offline-server"]);var l=n("bkwR"),c=n("HSWF"),d=n("A9TN"),u=n("QcDD");n.d(t,"localExperimentsV2Key",(function(){return p}));const p="experimentsSettingsV2";class h extends o.a{getInitialState(){return{isLoaded:!1}}setState(e){!e.test&&this.state.isLoaded&&this.state.test||(super.setState(e),a.a.set({userId:e.userId,key:p,value:e}))}getExperimentsForCurrentSpace(){if(!this.state.isLoaded)return[];if(this.state.test)return this.state.experiments;const e=u.default.state.currentSpaceStore;return e&&this.state.experimentsBySpace[e.id]||this.state.experimentsWithoutSpace}trackExperimentExposure(e,t,n){if(this.state.isLoaded){const o=this.getExperimentsForCurrentSpace().find(e=>e.experimentId===t);i.Ob({environment:e,experiment_id:t,experiment_version:o?o.experimentVersion:void 0,experiment_group:n||"ineligible"})}}getGroup(e,t){if(s.has(t)&&"production"===d.default.env)return r.b;let n=void 0;if(this.state.isLoaded){const e=this.getExperimentsForCurrentSpace().find(e=>e.experimentId===t);if(!e)return r.b;n=e.group}return this.trackExperimentExposure(e,t,n),n||r.b}getExperimentsMap(){const e={};return this.state.isLoaded&&this.getExperimentsForCurrentSpace().forEach(t=>{e[t.experimentId]=t.group}),e}async whitelistUserToExperiment_FOR_TEST_ONLY(e,t,n){const o=e.currentUser.id;o&&await l.adminWhitelistUsersToExperiment(e,{userIds:o,experimentId:t,experimentGroup:n});const r=await c.n(e),a=await l.getClientExperimentsV2(e,{deviceId:r});"success"===a.type&&this.setState(a.data)}hasFocusRingExperiment(e){return"on"===this.getGroup(e,"button-focus-rings")}}t.default=new h},"2bwL":function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n("3bBZ");var o=n("LEzx"),r=n("LqYT");class a extends o.a{constructor(){super(...arguments),this.updateRemaining=e=>{this.state.remiainingPending!==e&&(0===e?this.setState({...this.state,totalPending:0,remiainingPending:0}):this.setState({...this.state,remiainingPending:e}))}}getInitialState(){return{totalPending:0,remiainingPending:0,transactionQueueError:void 0,storageUsageEstimate:void 0}}percentComplete(e){if(this.state.totalPending>0){const t=1-this.state.remiainingPending/this.state.totalPending;return e.formatNumber(t,{style:"percent",maximumFractionDigits:0})}return e.formatNumber(1,{style:"percent"})}setOrIncTotal(e){this.state.totalPending>e?this.setState({...this.state,totalPending:this.state.totalPending+1}):this.setState({...this.state,totalPending:e})}}const i=new a,s=new r.a(()=>Boolean(i.state.transactionQueueError));t.a=i},"2m/B":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("LEzx");class l extends s.a{getInitialState(){return{loaded:!1,error:!1}}}var c=l,d=n("wldR"),u=n("zmp8"),p=n("Sb6f");class h extends d.a{constructor(){super(...arguments),this.storeTypes={imageStore:c},this.onError=e=>{this.stores.imageStore.setState({...this.stores.imageStore.state,error:!0}),this.props.onError&&this.props.onError(e,this.props.src)}}willUpdate(e){super.willUpdate(e),e.src!==this.props.src&&this.stores.imageStore.setState({...this.stores.imageStore.state,error:!1,loaded:!1,src:e.src})}willMount(e){const{src:t}=e;this.stores.imageStore.setState({...this.stores.imageStore.state,src:t})}renderComponent(){const{device:e}=this.environment,{placeholderStyle:t,onClick:n}=this.props,{error:o,src:a,loaded:i}=this.stores.imageStore.state,s=o?h.transparentGifDataURL:a,l={width:"100%",height:"100%"};return e.isMobile&&(l.WebkitUserSelect="none",l.WebkitTouchCallout="none"),r.a.createElement("div",{style:!i&&t?t:l},r.a.createElement("img",{className:this.props.className,onDoubleClick:this.props.onDoubleClick,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.onContextMenu,onClick:n,src:s,style:this.getImageStyle(),onError:this.onError,onLoad:()=>this.stores.imageStore.setState({...this.stores.imageStore.state,loaded:!0})}))}getImageStyle(){const{error:e,loaded:t}=this.stores.imageStore.state,n={display:"block",objectFit:"cover",borderRadius:1};return this.props.height?n.height=this.props.height:this.props.capMaxHeight&&(n.maxHeight="60vh"),!e&&t||(n.background=this.theme.contentBackground),this.props.style&&i.a.assign(n,this.props.style),n}}h.transparentGifDataURL="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",h.loadingContainerStyle={position:"absolute",bottom:4,right:4,borderRadius:3,padding:4,color:u.g.whiteWithAlpha(.8),background:u.g.blackWithAlpha(.6),fontFamily:p.a.fontFamily.sans,fontSize:13,lineHeight:1,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"};t.a=h},"2pqd":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},"3+J3":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("bkwR"),i=n("KGQE"),s=n("bPtJ"),l=n("VhAz"),c=n("AXh+"),d=n("7TLZ"),u=n("HRSx"),p=n("dlZW"),h=n("QcDD");async function m(e,t){await h.default.waitUntil(()=>"rendered"===h.default.state.renderPhase);const{fromPageRefresh:n,block:o,pageVisitStore:r,timestamp:i}=t;if(void 0===e.currentUser.id||n)return;const s={pageId:t.block.id};if(t.block.id!==r.state.pageId&&r.setState(s),await p.transactionQueue.awaitRecordTransaction({table:u.a,id:o.id}),await Object(d.q)(o),!o.canRead()||Object(c.g)(e,o))return;const l=await a.recordPageVisit(e,{blockId:o.id,timestamp:i});if("failed"===l.type)return;const m=g({pageVisits:l.data.pageVisits,currentState:r.state,block:o});r.setState(m)}async function f(e,t){await h.default.waitUntil(()=>"rendered"===h.default.state.renderPhase);const n=e.currentUser.id;if(void 0===n)return;const{block:o,pageVisitStore:i,incremental:s}=t,c=t.limit||32;let d;if(s){const{pageId:e,...t}=i.state,o=Object.entries(t).map(([e,t])=>{if(n===e)return;const o=t.state.value;return o?o.visited_at+1:void 0});d=r.a.max(o.filter(l.a))}const u=await a.getPageVisits(e,{blockId:o.id,sinceTimestamp:d,limit:c});if("failed"===u.type)return;const p=g({pageVisits:u.data.pageVisits,block:o,currentState:i.state});let m;if(Object.keys(p).length<=c)m=p;else{const{pageId:e,...t}=p,n=Object.entries(t).map(([e,t])=>{const n=t.state.value;return[e,n?n.visited_at:0]});m={pageId:e};const o=r.a.sortBy(n,([,e])=>-e).slice(0,c);for(const[r]of o)m[r]=p[r]}i.setState(m)}function g(e){const{block:t,pageVisits:n,currentState:o}=e,r={...o};for(const a of n){const{id:e,user_id:n}=a;n in r||(r[n]=Object(s.c)(t,{table:i.a,id:e}))}return r}},"30UQ":function(e,t,n){"use strict";n.d(t,"g",(function(){return C})),n.d(t,"i",(function(){return M})),n.d(t,"h",(function(){return E})),n.d(t,"e",(function(){return _})),n.d(t,"j",(function(){return T})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return I})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return O})),n.d(t,"k",(function(){return B})),n.d(t,"d",(function(){return L}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("Rd/G"),i=n("ui+/"),s=n("sdlW"),l=n("MBf9"),c=n("H4VD"),d=n("N34Z"),u=n("y6Dp"),p=n("FcJC"),h=n("6rsX"),m=n("cy36"),f=n("bkwR"),g=n("bB9B"),b=n("rro+"),v=n("Catn"),y=n("922z"),S=n("udrG"),w=n("vl8/"),k=n("QcDD");function C(e){const t=Object(a.b)(w.default.getIntl()),n=m.a.state;M({...e,item:n.item?n.item:r.a.shuffle(t)[0]})}function M(e){const{environment:t,item:n,createNewPage:o,isPrivate:r}=e;h.e(t);const a=Object(g.d)(t,n),s=a?[a]:void 0,l=i.b(t,w.default.getIntl());m.a.setState({open:!0,item:n,sections:l,createNewPage:o,isPrivate:r,isLoading:!1,openSections:s}),v.a.set({userId:t.currentUser.id,key:"LastViewedTemplateId",value:n.rootId}),u.De(t,{name:n.name})}function E(e){if(m.a.state.open){const t=function(e){if(m.a.state.open){const t=m.a.state.openSections||[];if(e&&-1===t.indexOf(e))return[...t,e]}return[]}(e);m.a.setState({...m.a.state,openSections:t})}}function _(e){if(m.a.state.open){const t=m.a.state.openSections;if(t){const n=t.indexOf(e);if(-1!==n){t.splice(n,1);const e=t.length>0?t.slice(0):void 0;m.a.setState({...m.a.state,openSections:e})}}}}function T({templateItem:e,currentUserId:t}){const n=m.a.state.item;m.a.setState({...m.a.state,item:e}),n!==e&&v.a.set({userId:t,key:"LastViewedTemplateId",value:e.rootId})}function x(e){m.a.setState({item:m.a.state.item,open:!1}),h.e(e)}function I(e){const t=e.environment.currentUser.id,n=v.a.get({userId:t,key:"LastViewedTemplateId"});let o=void 0;if(n&&(o=function(e){const t=Object(a.b)(w.default.getIntl());return Object.values(t).find(t=>t.previewRootId===e||t.rootId===e)}(n),o&&T({templateItem:o,currentUserId:t})),!o){const n=e.getValue(),{currentSpaceStore:o}=k.default.state,a=o&&o.getValue();if(n&&n.settings&&n.settings.persona){const o=i.c(e.environment)&&a&&a.initial_use_cases?b.d(a.initial_use_cases[0]):b.c(n.settings.persona);if(o.length>0){const e=r.a.shuffle(o)[0];e&&T({templateItem:e,currentUserId:t})}}}}async function P(e){const{item:t,environment:n}=e;m.a.state.open&&m.a.setState({...m.a.state,isLoading:!0});const o=await O({...e,useMinimalTemplates:!1});c.navigateToBlock({environment:n,store:o}),x(n),n.device.isMobile&&p.close(),u.Be(n,{name:t.name})}async function O(e){const{environment:t,initializeStore:n,item:o,useRecordCache:r,isPrivate:a,useMinimalTemplates:i,spaceStore:c,spaceViewStore:u}=e,p=l.create(t);let h;n?(d.d({store:n,data:{type:S.a.copyIndicator},transaction:p}),h=n):h=s.b({environment:t,spaceStore:c,spaceViewStore:u,isPrivate:a,loading:!0,transaction:p});const m=r&&!i?o.previewRootId:o.rootId;B({item:o,spaceViewStore:u,transaction:p}),function(e){const{item:t,transaction:n,spaceViewStore:o}=e;if(o){const e=o.getSidebarHiddenTemplateIds();if(e.indexOf(t.rootId)<0){const r=e.concat([t.rootId]);d.d({store:o,data:{sidebar_hidden_templates:r},transaction:n})}}}({item:o,spaceViewStore:u,transaction:p});const g=p.awaitDone();return l.commit({environment:t,transaction:p}),await g,await async function(e){const{environment:t,pageStore:n,copyBlockId:o,useRecordCache:r}=e,a=new y.a;r&&r.forEachRecord(t.currentUser.id,(e,t)=>{a.set(e,t.value)});const{currentSpaceStore:i}=k.default.state,s={recordMap:a.toJson(),sourceBlockId:o,targetBlockId:n.id};return await f.initializePageTemplate(t,{...s,...i&&i.state.value?{spaceId:i.state.value.id}:{}}),n}({environment:t,pageStore:h,copyBlockId:m,useRecordCache:r}),h}function B(e){const{item:t,transaction:n,spaceViewStore:o}=e;if(o){const e=o.getVisitedTemplateIds();if(e.indexOf(t.rootId)<0){const r=e.concat([t.rootId]);d.d({store:o,data:{visited_templates:r},transaction:n})}}}function L(){if(m.a.state.open)return m.a.state.openSections}},"3DNc":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("mF3+"),i=n("zmp8"),s=n("MeYt");t.a=function(e){const t={width:e.size,height:e.size,display:"flex",alignItems:"stretch",justifyContent:"stretch",flexShrink:0,flexGrow:0,...!e.disabled&&{cursor:"pointer"},...e.checked&&{background:i.g.blue},...e.round&&{borderRadius:"100%"},transition:"background 200ms ease-out",...e.style};return r.a.createElement("div",{style:t},r.a.createElement(s.a,{disabled:e.disabled,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",...e.round&&{borderRadius:"100%"}},onClick:e.onClick},e.checked?a.a.check({fill:i.g.white,width:e.checkSize||12,height:e.checkSize||12}):e.round?a.a.checkboxCircle({fill:e.fill}):a.a.checkboxSquare({fill:e.fill})))}},"3IKt":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("2ZkR");const r=e=>"on"===o.default.getGroup(e,"enable-report-page-button")},"3JF5":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));var o=n("5/h/"),r=n("FUUC");function a(e){return e.parent_table===o.a}function i(e){return"scim"===e.type}function s(e){return e.parent_table===r.a&&"guest"===e.type}function l(e){return e&&e.name||"Unnamed Bot"}},"3KLF":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{pageMap:{}}}setStatus(e,t){const{pageMap:n}=this.state;t?n[e]=t:delete n[e],this.emit()}}t.a=new r},"3O7B":function(e,t,n){"use strict";var o=n("g4rC");t.a=new o.a},"3U9E":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{}}getSharedPagesState(e){const{userId:t,spaceId:n}=e;let o=this.state[t];return o||(o={},this.state[t]=o),o[n]}setSharedPagesState(e){const{userId:t,spaceId:n,state:o}=e;let r=this.state[t];r||(r={},this.state[t]=r),r[n]=o,this.emit()}}t.a=new r},"3Z0Q":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var o=n("2ZkR"),r=n("5qTp"),a=n("EmAo"),i=n("WaiN"),s=n("DNgp"),l=n("43ch"),c=n("XfKI"),d=n("VMJe"),u=n("A9TN");function p(e){const{environment:t}=e,{isReactNative:n,isIOS:r}=t.device;if(!n)return!1;if(!t.device.mobileAppVersion)return!1;const a=d.parseVersion(t.device.mobileAppVersion);var i=void 0;switch(u.default.env){case"local":i=d.parseVersion("0.0.0");break;case"development":case"staging":case"production":return!1}if(!a||!i)return!1;return!d.isLessThanVersion(a,i)&&"on"===o.default.getGroup(t,"mobile-action-bar")}const h=(e,t)=>{const{device:n}=e;if(!n.isMobile)return!1;if(r.default.state.open)return!1;if(a.a.state.isOpen)return!1;if(!n.isReactNative&&i.a.state.open)return!1;if(s.default.isEditingComment())return!1;if(t.state.savedTextSelectionStoreState&&"editing"===t.state.savedTextSelectionStoreState.mode)return!0;if("editing"!==s.default.state.mode)return!1;const o=l.a.findEditableWithStore(s.default.state.store);return(!o||!o.props.disableMobileActionBar)&&!!Object(c.E)()}},"3k5a":function(e,t,n){"use strict";var o=n("LvDl"),r=n.n(o),a=n("Uv1v");class i extends a.a{findBlockFromStore(e){return this.findComponent(t=>t.props.store===e)}findAllBlocksFromStore(e){return this.getComponents().filter(t=>t.props.store===e)}findBlockWithMethodFromStore(e,t){return this.findComponent(n=>n.props.store===e&&n[t])}findBlockFromStoreWithMethod(e,t){return this.findComponent(n=>n.props.store===e&&r.a.isFunction(n[t]))}findCollectionViewBlockFromStore(e){return this.findAllBlocksFromStore(e).find(e=>Boolean(e&&e.collectionViewLocalStore))}findBlockFromId(e){return this.findComponent(t=>t.props.store&&t.props.store.id===e)}findNodeFromStore(e){const t=this.findBlockFromStore(e);if(t)return t.getNode()}getRect(e){const t=this.findNodeFromStore(e);if(t&&t instanceof Element)return t.getBoundingClientRect()}}t.a=new i},"3mOY":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return C}));n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("VyA+"),l=n("x0lk"),c=n("LvDl"),d=n.n(c),u=n("y2NV"),p=n("wldR"),h=n("hU3F"),m=n("yjqD"),f=n("hl64");const g=r.a.createContext(void 0);g.displayName="DynamicMenuContext";const b={x:0,y:-1},v={x:0,y:1},y={x:-1,y:0},S={x:1,y:0};class w extends p.a{constructor(){super(...arguments),this.entries=new Set,this.focusedEntry=new h.a(void 0),this.handleArrowUp=e=>this.handleFocusVector(b,e),this.handleArrowRight=e=>this.handleFocusVector(S,e),this.handleArrowDown=e=>this.handleFocusVector(v,e),this.handleArrowLeft=e=>this.handleFocusVector(y,e),this.handleTab=e=>this.handleFocusIndexVector(1,e),this.handleUntab=e=>this.handleFocusIndexVector(-1,e),this.handleEnter=e=>{const t=this.focusedEntry.get();t&&t.onAction(e,this)},this.handleEscape=()=>{this.focusedEntry.state?this.focusEntry(void 0,void 0):this.close()},this.handleMouseLeave=()=>{this.focusEntry(void 0,void 0)}}willUnmount(){this.entries.clear(),this.focusedEntry.reset()}getEntries(){return Array.from(this.entries)}getMountedEntriesInDomOrder(){return this.getEntries().map(e=>({entry:e,element:e.getDomElement()})).filter(({element:e})=>void 0!==e).sort((e,t)=>Object(f.a)(e.element,t.element)).map(({entry:e})=>e)}registerEntry(e){this.entries.add(e)}unregisterEntry(e){const t=this.focusedEntry.get();if(this.entries.delete(e),e===t){if(this.handleFocusVector({x:-1,y:-1},void 0))return;this.focusEntry(void 0,void 0)}}onFocusEvent(e,t){this.focusEntry(e,void 0)}close(){this.props.onClose&&this.props.onClose()}focusEntry(e,t){e&&!this.entries.has(e)||e!==this.focusedEntry.get()&&(e&&e.disabled||(this.focusedEntry.set(e),this.maxLeftRect=t))}renderComponent(){const{disableKeyboard:e,children:t}=this.props;return r.a.createElement(s.a,{capture:!e,onUp:this.handleArrowUp,onDown:this.handleArrowDown,onLeft:this.handleArrowLeft,onRight:this.handleArrowRight,onEnter:this.handleEnter,onCommandEnter:this.handleEnter,onEsc:this.handleEscape,onTab:this.handleTab,onUntab:this.handleUntab},r.a.createElement("div",{onMouseLeave:this.handleMouseLeave},r.a.createElement(g.Provider,{value:this},t)))}handleFocusVector(e,t){const n=this.focusedEntry.get(),o=this.getEntries().filter(e=>!e.disabled);if(0===o.length)return;t&&t.preventDefault&&t.preventDefault();const r=n&&n.getRect();if(!r){const t=e.x*e.y>0?1:-1;return this.handleFocusIndexVector(t,void 0)||this.handleFocusIndexVector(1,void 0)}const a=o.map(e=>({entry:e,rect:e.getRect()})).filter(e=>void 0!==e.rect&&e.entry!==n);let i=void 0;if(0===e.x&&void 0!==this.maxLeftRect&&this.maxLeftRect.left>r.left){const t=r.top-this.maxLeftRect.top,n=Object(l.e)(this.maxLeftRect,0,t);n.bottom=n.top+r.height,n.height=r.height,this.drawDebugRect("maxLeftRect",n,"orange"),i=M(n,e,a,this.props.debug),i&&this.drawDebugRect("found from maxLeft",i.rect,"yellow")}i||(i=M(r,e,a,this.props.debug),i&&this.drawDebugRect("found from originRect",i.rect,"yellow"));const s=0!==e.x||void 0===this.maxLeftRect;if(i){const e=i.rect;return this.focusEntry(i.entry,s?e:this.maxLeftRect),i.entry}s&&(this.maxLeftRect=r)}handleFocusIndexVector(e,t){const n=this.findNextFocusableEntry(e);if(n)return t&&t.preventDefault(),this.focusEntry(n,void 0),n}findNextFocusableEntry(e){const t=this.focusedEntry.get(),n=this.getMountedEntriesInDomOrder(),o=t?n.indexOf(t):-1,r=e>0?n.length:-1;for(let a=o+e;e>0?a<r:a>r;a+=e){const e=n[a];if(e&&!e.disabled)return e}}drawDebugRect(e,t,n="magenta"){this.props.debug&&E(e,t,n)}}class k extends p.a{constructor(){super(...arguments),this.domElement=null,this.elementIsFocusedStore=this.createComputedStore(()=>{const e=this.dynamicMenuContext;return!!e&&e.focusedEntry.get()===this}),this.onAction=e=>{this.props.action(e,this.dynamicMenuContext)},this.handleMouseEnter=e=>{this.dynamicMenuContext&&this.dynamicMenuContext.onFocusEvent(this,e)},this.handleClick=e=>{this.props.action(e,this.dynamicMenuContext)},this.handleRef=e=>{if(!e)return void(this.domElement=null);if(e instanceof Element)return void(this.domElement=e);const t=i.a.findDOMNode(e);t instanceof Element?this.domElement=t:this.domElement=null}}renderComponent(){return this.props.render({onMouseEnter:this.handleMouseEnter,onClick:this.handleClick,ref:this.handleRef,focused:this.elementIsFocusedStore.state,disabled:this.disabled},this.dynamicMenuContext)}getDomElement(){return this.domElement||void 0}getRect(){if(this.domElement)return this.domElement.getBoundingClientRect()}get disabled(){return!!this.props.disabled}didMount(){const e=this.dynamicMenuContext;e&&e.registerEntry(this)}willUnmount(){const e=this.dynamicMenuContext;e&&e.unregisterEntry(this)}get dynamicMenuContext(){return this.props.dynamicMenuContext}}class C extends r.a.Component{render(){return r.a.createElement(k,Object.assign({},this.props,{dynamicMenuContext:this.context}))}}function M(e,t,n,o){const r=Object(l.f)(e),a=[r.top,r.left],i=Object(l.a)(e,-5);t.x>0&&(i.right=1/0,i.left=r.left),t.x<0&&(i.left=0,i.right=r.right),t.y>0&&(i.bottom=1/0,i.top=r.top),t.y<0&&(i.top=0,i.bottom=r.bottom),o&&E("search space",i,"magenta");const s=n.filter(e=>Object(l.b)(i,e.rect)),c=d.a.sortBy(s.map(e=>{const t=Object(l.f)(e.rect);return{entry:e,distance:u.a(a,[t.top,t.left])}}),e=>e.distance)[0];if(c)return c.entry}async function E(e,t,n="magenta"){const o=e=>e===1/0?3e3:e===-1/0?-3e3:e,r=window.document.createElement("DIV");r.style.position="absolute",r.style.zIndex="20000",r.style.top="".concat(o(t.top),"px"),r.style.left="".concat(o(t.left),"px"),r.style.minWidth="".concat(o(t.right-t.left),"px"),r.style.minHeight="".concat(o(t.bottom-t.top),"px"),r.style.border="1px solid ".concat(n),r.style.background=n,r.style.font="10px monaco",r.style.opacity="0.3",r.textContent=e,document.body.appendChild(r),await Object(m.h)(1e3),r.remove()}C.contextType=g},"3uHk":function(e,t,n){"use strict";n("3bBZ");var o=n("LEzx");class r extends o.a{getInitialState(){return{capturingAreas:new Set}}canScroll(){return 0===this.state.capturingAreas.size}}t.a=new r},"408K":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fIr1");const r="slack_integration",a={table:r,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,team_name:o.a.String,channel:o.a.String,channel_id:o.a.String,configuration_url:o.a.String,webhook_url:o.a.String,enabled:o.a.Boolean,parent_id:o.a.UUID,parent_table:o.a.String}};t.b=a},"40tV":function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl");var r,a=class{constructor({maxSize:e,prefix:t,store:n,version:o}){this.createInternalKey=e=>"".concat(this.namespace).concat(e),this.maxSize=e,this.prefix=t,this.store=n,this.version=o.toString(),this.namespace="".concat(t,":").concat(o,"::"),this.serializedKeys="".concat(t,":").concat(o,":keys"),this.lastVersion="".concat(t,":version")}set(e,t){try{this.setInternal(e,t),this.promote(e)}catch(n){return{error:n}}return{value:void 0}}get(e){try{const t=this.getInternal(e);if(null!==t)return{value:t}}catch(t){return{error:t}}return{value:void 0}}remove(e){try{this.getKeys().indexOf(e)>-1&&(this.removeInternal(e),this.evict(e))}catch(t){return{error:t}}return{value:void 0}}clear(){try{const e=this.getKeys();for(const t of e)this.removeInternal(t);this.setKeys([])}catch(e){return{error:e}}return{value:void 0}}scan(e){try{const t=this.getKeys();for(const n of t){const t=this.getInternal(n);if(null===t)throw new Error("Item not found: ".concat(n));e(n,t)}}catch(t){return{error:t}}return{value:void 0}}entries(){const e=[],t=this.scan((t,n)=>{e.push([t,n])});return t.error?{error:t.error}:{value:e}}keys(){try{return{value:this.getKeys()}}catch(e){return{error:e}}}slowGC(){const e=[],t=e=>e!==this.serializedKeys&&(!!e.endsWith("keys")&&this.isOldKey(e));for(let n=0;n<this.store.length;n+=1){const o=this.store.key(n);null!==o&&((this.isOldKey(o)||t(o))&&e.push(o))}for(const n of e)this.store.removeItem(n)}updateVersionAndGC(){const e=this.store.getItem(this.lastVersion);if(null!==e){const t=parseInt(e,10),n=parseInt(this.version,10),o=!Number.isNaN(t),r=!Number.isNaN(n);o&&r&&t<n&&this.slowGC()}this.store.setItem(this.lastVersion,this.version)}isOldKey(e){if(!e.startsWith("".concat(this.prefix,":")))return!1;const t=e.substring("".concat(this.prefix,":").length),n=parseInt(t,10);return!Number.isNaN(n)&&n<parseInt(this.version,10)}getKeys(){const e=this.store.getItem(this.serializedKeys);if(null===e)return[];const t=JSON.parse(e);return Array.isArray(t)?t:[]}setKeys(e){const t=JSON.stringify(e);this.store.setItem(this.serializedKeys,t)}promote(e){const t=this.getKeys(),n=t.indexOf(e);if(n>-1)t.splice(n,1),t.unshift(e);else if(t.unshift(e),t.length>this.maxSize){const e=t.splice(this.maxSize);for(const t of e)this.removeInternal(t)}this.setKeys(t)}evict(e){const t=this.getKeys(),n=t.indexOf(e);n>-1&&t.splice(n,1),this.setKeys(t)}setInternal(e,t){this.store.setItem(this.createInternalKey(e),JSON.stringify(t))}getInternal(e){const t=this.store.getItem(this.createInternalKey(e));return null===t?null:JSON.parse(t)}removeInternal(e){this.store.removeItem(this.createInternalKey(e))}},i=n("hfHo"),s=n("VhAz");n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),function(e){e.Default="Default",e.Link="Link",e.Favorite="Favorite",e.Search="Search"}(r||(r={}));const l=3,c={BONUS:{DEFAULT:100,LINK:120,SEARCH:200,FAVORITE:140},BONUS_NORMALIZER:100,TIME_BUCKETS:[{days:4,weight:100},{days:14,weight:70},{days:31,weight:50},{days:90,weight:30}],DEFAULT_BUCKET_WEIGHT:10};class d{constructor(e){this.recordVisit=e=>{const{id:t,type:n,timestampForTestingOnly:r}=e,a=this.createVisit(n,r),i=this.visits.get(t);if(i.error)return;const s=i.value||this.createVisitCacheEntry();var l,c,d;s.totalVisits+=1,s.recentVisits=(l=s.recentVisits,c=a,d=this.maxStoredVisits,[...Object(o.takeRight)(l,d-1),c]),this.visits.set(t,s)},this.getVisits=e=>{const t=this.visits.get(e);if(!t.error)return t.value},this.getVisitedIds=()=>{const e=this.visits.keys();return e.error?[]:e.value},this.getFrecencyScore=(e,t=Date.now())=>{const n=this.getVisits(e);if(!n)return d.UNVISITED_FRECENCY_SCORE;const{totalVisits:a,recentVisits:l}=n;if(0===a||0===l.length)return d.UNVISITED_FRECENCY_SCORE;const u=l.map(e=>{const{type:n,timestamp:o}=e,a=function(e){const{BONUS:t}=c;switch(e){case r.Default:return t.DEFAULT;case r.Link:return t.LINK;case r.Favorite:return t.FAVORITE;case r.Search:return t.SEARCH;default:Object(s.e)(e)}}(n);return function(e,t){const{TIME_BUCKETS:n,DEFAULT_BUCKET_WEIGHT:o}=c,r=Object(i.default)(e).diff(t,"days");return r<=n[0].days?n[0].weight:r<=n[1].days?n[1].weight:r<=n[2].days?n[2].weight:r<=n[3].days?n[3].weight:o}(t,o)*(a/c.BONUS_NORMALIZER)}),p=Object(o.sum)(u)/u.length;return Math.ceil(a*p)};const{maxBlocks:t,maxStoredVisits:n,store:l,version:u}=e;this.maxStoredVisits=n,this.visits=new a({prefix:e.prefix||"FrecencyStore",maxSize:t,store:l,version:u})}initialize(){this.visits.updateVersionAndGC()}sortFrecencyHighToLow(e,t){return Object(o.sortBy)(e,e=>-1*("number"==typeof e.score?e.score:1)*this.getFrecencyScore(e.id,t))}createVisitCacheEntry(){return{totalVisits:0,recentVisits:[]}}createVisit(e,t){return{type:e,timestamp:"number"==typeof t?t:Date.now()}}clear(){const e=[];this.visits.scan(t=>e.push(t));for(const t of e)this.visits.remove(t)}}d.UNVISITED_FRECENCY_SCORE=1},"43ch":function(e,t,n){"use strict";var o=n("Uv1v");class r extends o.a{findEditableWithinSelectable(e){return this.findComponent(t=>t.getContextClosestSelectable()===e)}findEditableWithStore(e){return this.findComponent(t=>t.props.store===e)}findNodeFromStore(e){const t=this.findEditableWithStore(e);if(t)return t.getNode()}}t.a=new r},"47e+":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("fgBX"),l=n("xe8Q");function c(e){const{children:t,type:n,size:o}=e,a=r.a.toArray(t),c=[];let d="";for(const r of a){l.c[r]?(d.length>0&&(c.push(d),d=""),c.push(i.a.createElement(s.a,{key:c.length,char:r,size:o,type:n,imgStyle:{verticalAlign:"-0.1em",margin:"0 0.1em"}}))):d+=r}return d.length>0&&c.push(d),i.a.createElement(i.a.Fragment,{},...c)}},"4Frv":function(e,t,n){"use strict";n.r(t),n.d(t,"AllMigrations",(function(){return o}));const o={endSchema:{pragmas:{user_version:11},tables:{notion:{info:{type:"table",sql:"CREATE TABLE notion (id integer primary key, key unique, value)",name:"notion",tbl_name:"notion"},columns:[{cid:0,name:"id",type:"integer",notnull:0,dflt_value:null,pk:1},{cid:1,name:"key",type:"",notnull:0,dflt_value:null,pk:0},{cid:2,name:"value",type:"",notnull:0,dflt_value:null,pk:0}]},key_value_store:{info:{type:"table",sql:"CREATE TABLE key_value_store (id INTEGER PRIMARY KEY, key TEXT UNIQUE, value TEXT)",name:"key_value_store",tbl_name:"key_value_store"},columns:[{cid:0,name:"id",type:"INTEGER",notnull:0,dflt_value:null,pk:1},{cid:1,name:"key",type:"TEXT",notnull:0,dflt_value:null,pk:0},{cid:2,name:"value",type:"TEXT",notnull:0,dflt_value:null,pk:0}]},transactions:{info:{type:"table",sql:"CREATE TABLE transactions (\nid TEXT PRIMARY KEY,\nvalue TEXT\n, user_id TEXT)",name:"transactions",tbl_name:"transactions"},columns:[{cid:0,name:"id",type:"TEXT",notnull:0,dflt_value:null,pk:1},{cid:1,name:"value",type:"TEXT",notnull:0,dflt_value:null,pk:0},{cid:2,name:"user_id",type:"TEXT",notnull:0,dflt_value:null,pk:0}]},records:{info:{type:"table",sql:"CREATE TABLE records (\nrecord_table TEXT,\nrecord_id TEXT,\nrecord_value TEXT,\ntimestamp NUMERIC,\nparent_table TEXT,\nparent_id TEXT,\nimportance NUMERIC,\nuser_id TEXT, is_offline, space_id TEXT,\nCONSTRAINT primary_key PRIMARY KEY (record_table, record_id, user_id)\n)",name:"records",tbl_name:"records"},columns:[{cid:0,name:"record_table",type:"TEXT",notnull:0,dflt_value:null,pk:1},{cid:1,name:"record_id",type:"TEXT",notnull:0,dflt_value:null,pk:2},{cid:2,name:"record_value",type:"TEXT",notnull:0,dflt_value:null,pk:0},{cid:3,name:"timestamp",type:"NUMERIC",notnull:0,dflt_value:null,pk:0},{cid:4,name:"parent_table",type:"TEXT",notnull:0,dflt_value:null,pk:0},{cid:5,name:"parent_id",type:"TEXT",notnull:0,dflt_value:null,pk:0},{cid:6,name:"importance",type:"NUMERIC",notnull:0,dflt_value:null,pk:0},{cid:7,name:"user_id",type:"TEXT",notnull:0,dflt_value:null,pk:3},{cid:8,name:"is_offline",type:"",notnull:0,dflt_value:null,pk:0},{cid:9,name:"space_id",type:"TEXT",notnull:0,dflt_value:null,pk:0}]},offline_root:{info:{type:"table",sql:"CREATE TABLE offline_root (\nuser_id TEXT NOT NULL,\nrecord_table TEXT NOT NULL,\nrecord_id TEXT NOT NULL,\nCONSTRAINT primary_key PRIMARY KEY (record_table, record_id, user_id)\n)",name:"offline_root",tbl_name:"offline_root"},columns:[{cid:0,name:"user_id",type:"TEXT",notnull:1,dflt_value:null,pk:3},{cid:1,name:"record_table",type:"TEXT",notnull:1,dflt_value:null,pk:1},{cid:2,name:"record_id",type:"TEXT",notnull:1,dflt_value:null,pk:2}]},offline_sync_parent:{info:{type:"table",sql:"CREATE TABLE offline_sync_parent (\nuser_id TEXT NOT NULL,\nroot_table TEXT NOT NULL,\nroot_id TEXT NOT NULL,\nsync_parent_table TEXT NOT NULL,\nsync_parent_id TEXT NOT NULL,\nstate TEXT NOT NULL,\nlast_updated_local_timestamp INTEGER NOT NULL,\nlast_synced_global_cursor TEXT,\nCONSTRAINT primary_key PRIMARY KEY (sync_parent_table, sync_parent_id, user_id)\n)",name:"offline_sync_parent",tbl_name:"offline_sync_parent"},columns:[{cid:0,name:"user_id",type:"TEXT",notnull:1,dflt_value:null,pk:3},{cid:1,name:"root_table",type:"TEXT",notnull:1,dflt_value:null,pk:0},{cid:2,name:"root_id",type:"TEXT",notnull:1,dflt_value:null,pk:0},{cid:3,name:"sync_parent_table",type:"TEXT",notnull:1,dflt_value:null,pk:1},{cid:4,name:"sync_parent_id",type:"TEXT",notnull:1,dflt_value:null,pk:2},{cid:5,name:"state",type:"TEXT",notnull:1,dflt_value:null,pk:0},{cid:6,name:"last_updated_local_timestamp",type:"INTEGER",notnull:1,dflt_value:null,pk:0},{cid:7,name:"last_synced_global_cursor",type:"TEXT",notnull:0,dflt_value:null,pk:0}]},offline_record_pointer:{info:{type:"table",sql:"CREATE TABLE offline_record_pointer (\nuser_id TEXT NOT NULL,\nroot_table TEXT NOT NULL,\nroot_id TEXT NOT NULL,\nsync_parent_table TEXT NOT NULL,\nsync_parent_id TEXT NOT NULL,\nrecord_table TEXT NOT NULL,\nrecord_id TEXT NOT NULL,\nis_full_sync_in_progress NUMERIC NOT NULL,\nCONSTRAINT primary_key PRIMARY KEY (user_id, root_id, sync_parent_id, record_id)\n)",name:"offline_record_pointer",tbl_name:"offline_record_pointer"},columns:[{cid:0,name:"user_id",type:"TEXT",notnull:1,dflt_value:null,pk:1},{cid:1,name:"root_table",type:"TEXT",notnull:1,dflt_value:null,pk:0},{cid:2,name:"root_id",type:"TEXT",notnull:1,dflt_value:null,pk:2},{cid:3,name:"sync_parent_table",type:"TEXT",notnull:1,dflt_value:null,pk:0},{cid:4,name:"sync_parent_id",type:"TEXT",notnull:1,dflt_value:null,pk:3},{cid:5,name:"record_table",type:"TEXT",notnull:1,dflt_value:null,pk:0},{cid:6,name:"record_id",type:"TEXT",notnull:1,dflt_value:null,pk:4},{cid:7,name:"is_full_sync_in_progress",type:"NUMERIC",notnull:1,dflt_value:null,pk:0}]}},indexes:{sqlite_autoindex_notion_1:{info:{type:"index",sql:null,name:"sqlite_autoindex_notion_1",tbl_name:"notion"},columns:[{name:"key",cid:1,seqno:0}]},sqlite_autoindex_key_value_store_1:{info:{type:"index",sql:null,name:"sqlite_autoindex_key_value_store_1",tbl_name:"key_value_store"},columns:[{name:"key",cid:1,seqno:0}]},sqlite_autoindex_transactions_1:{info:{type:"index",sql:null,name:"sqlite_autoindex_transactions_1",tbl_name:"transactions"},columns:[{name:"id",cid:0,seqno:0}]},sqlite_autoindex_records_1:{info:{type:"index",sql:null,name:"sqlite_autoindex_records_1",tbl_name:"records"},columns:[{name:"record_table",cid:0,seqno:0},{name:"record_id",cid:1,seqno:1},{name:"user_id",cid:7,seqno:2}]},transactions_user_id:{info:{type:"index",sql:"CREATE INDEX transactions_user_id ON transactions (user_id)",name:"transactions_user_id",tbl_name:"transactions"},columns:[{name:"user_id",cid:2,seqno:0}]},sqlite_autoindex_offline_root_1:{info:{type:"index",sql:null,name:"sqlite_autoindex_offline_root_1",tbl_name:"offline_root"},columns:[{name:"record_table",cid:1,seqno:0},{name:"record_id",cid:2,seqno:1},{name:"user_id",cid:0,seqno:2}]},sqlite_autoindex_offline_sync_parent_1:{info:{type:"index",sql:null,name:"sqlite_autoindex_offline_sync_parent_1",tbl_name:"offline_sync_parent"},columns:[{name:"sync_parent_table",cid:3,seqno:0},{name:"sync_parent_id",cid:4,seqno:1},{name:"user_id",cid:0,seqno:2}]},offline_sync_parent_root:{info:{type:"index",sql:"CREATE INDEX offline_sync_parent_root ON offline_sync_parent (user_id, root_table, root_id)",name:"offline_sync_parent_root",tbl_name:"offline_sync_parent"},columns:[{name:"user_id",cid:0,seqno:0},{name:"root_table",cid:1,seqno:1},{name:"root_id",cid:2,seqno:2}]},sqlite_autoindex_offline_record_pointer_1:{info:{type:"index",sql:null,name:"sqlite_autoindex_offline_record_pointer_1",tbl_name:"offline_record_pointer"},columns:[{name:"user_id",cid:0,seqno:0},{name:"root_id",cid:2,seqno:1},{name:"sync_parent_id",cid:4,seqno:2},{name:"record_id",cid:6,seqno:3}]},record_id_idx:{info:{type:"index",sql:"CREATE INDEX record_id_idx ON offline_record_pointer (record_id)",name:"record_id_idx",tbl_name:"offline_record_pointer"},columns:[{name:"record_id",cid:6,seqno:0}]},root_id_idx:{info:{type:"index",sql:"CREATE INDEX root_id_idx ON offline_record_pointer (root_id)",name:"root_id_idx",tbl_name:"offline_record_pointer"},columns:[{name:"root_id",cid:2,seqno:0}]},sync_parent_id_idx:{info:{type:"index",sql:"CREATE INDEX sync_parent_id_idx ON offline_record_pointer (sync_parent_id, is_full_sync_in_progress)",name:"sync_parent_id_idx",tbl_name:"offline_record_pointer"},columns:[{name:"sync_parent_id",cid:4,seqno:0},{name:"is_full_sync_in_progress",cid:7,seqno:1}]},record_lru_deletion_order:{info:{type:"index",sql:"CREATE INDEX record_lru_deletion_order ON records (is_offline, importance, timestamp)",name:"record_lru_deletion_order",tbl_name:"records"},columns:[{name:"is_offline",cid:8,seqno:0},{name:"importance",cid:6,seqno:1},{name:"timestamp",cid:3,seqno:2}]},record_parent:{info:{type:"index",sql:"CREATE INDEX record_parent ON records (parent_id, user_id)",name:"record_parent",tbl_name:"records"},columns:[{name:"parent_id",cid:5,seqno:0},{name:"user_id",cid:7,seqno:1}]}}},migrations:[{id:1,description:"ensure-existing-schema",statements:[{sql:"create table if not exists notion (id integer primary key, key unique, value)"},{sql:"CREATE TABLE IF NOT EXISTS key_value_store (id INTEGER PRIMARY KEY, key TEXT UNIQUE, value TEXT)"}]},{id:2,description:"indexed-record-cache-and-transactions",statements:[{sql:"CREATE TABLE IF NOT EXISTS transactions (\n\tid TEXT PRIMARY KEY,\n\tvalue TEXT\n)"},{sql:"CREATE TABLE IF NOT EXISTS records (\n\trecord_table TEXT,\n\trecord_id TEXT,\n\trecord_value TEXT,\n\ttimestamp NUMERIC,\n\tparent_table TEXT,\n\tparent_id TEXT,\n\tCONSTRAINT primary_key PRIMARY KEY (record_table, record_id)\n)"},{sql:"CREATE INDEX record_lru_timestamp ON records (timestamp)"},{sql:"CREATE INDEX record_parent ON records (record_table, parent_table, parent_id)"},{sql:"INSERT INTO transactions (id, value)\nSELECT substr(key, 24), json_extract(value, '$.value') FROM notion\nWHERE key LIKE 'LocalTransactionStore3:%'"}]},{id:3,description:"record-cache-importance",statements:[{sql:"ALTER TABLE records ADD COLUMN importance NUMERIC"},{sql:"DROP INDEX record_lru_timestamp"},{sql:"CREATE INDEX record_lru_important_timestamp ON records (importance, timestamp)"}]},{id:4,description:"add-user-id-column-to-records",statements:[{sql:"DROP INDEX record_parent"},{sql:"DROP INDEX record_lru_important_timestamp"},{sql:"ALTER TABLE records RENAME TO previous_records"},{sql:"CREATE TABLE IF NOT EXISTS records (\n\trecord_table TEXT,\n\trecord_id TEXT,\n\trecord_value TEXT,\n\ttimestamp NUMERIC,\n\tparent_table TEXT,\n\tparent_id TEXT,\n\timportance NUMERIC,\n\tuser_id TEXT,\n\tCONSTRAINT primary_key PRIMARY KEY (record_table, record_id, user_id)\n)"},{sql:"INSERT INTO records (record_table, record_id, record_value, timestamp, parent_table, parent_id, importance)\nSELECT record_table, record_id, record_value, timestamp, parent_table, parent_id, importance FROM previous_records"},{sql:"DROP TABLE previous_records"},{sql:"CREATE INDEX record_parent ON records (record_table, parent_table, parent_id, user_id)"},{sql:"CREATE INDEX record_lru_important_timestamp ON records (importance, timestamp)"},{sql:"CREATE INDEX record_user_id ON records (user_id)"}]},{id:5,description:"add-new-column-and-index-for-userid-to-transactions-table",statements:[{sql:"ALTER TABLE transactions ADD COLUMN user_id TEXT"},{sql:"CREATE INDEX transactions_user_id ON transactions (user_id)"}]},{id:6,description:"add-offline-tables",statements:[{sql:"CREATE TABLE IF NOT EXISTS offline_root (\n    user_id TEXT NOT NULL,\n    record_table TEXT NOT NULL,\n    record_id TEXT NOT NULL,\n    CONSTRAINT primary_key PRIMARY KEY (record_table, record_id, user_id)\n)"},{sql:"CREATE TABLE IF NOT EXISTS offline_sync_parent (\n    user_id TEXT NOT NULL,\n    root_table TEXT NOT NULL,\n    root_id TEXT NOT NULL,\n    sync_parent_table TEXT NOT NULL,\n    sync_parent_id TEXT NOT NULL,\n    state TEXT NOT NULL,\n    last_updated_local_timestamp INTEGER NOT NULL,\n    last_synced_global_cursor TEXT,\n    CONSTRAINT primary_key PRIMARY KEY (sync_parent_table, sync_parent_id, user_id)\n)"},{sql:"CREATE INDEX offline_sync_parent_root ON offline_sync_parent (user_id, root_table, root_id)"}]},{id:7,description:"add-offline-root-record-junction-table",statements:[{sql:"CREATE TABLE IF NOT EXISTS offline_record_pointer (\n    user_id TEXT NOT NULL,\n    root_table TEXT NOT NULL,\n    root_id TEXT NOT NULL,\n    sync_parent_table TEXT NOT NULL,\n    sync_parent_id TEXT NOT NULL,\n    record_table TEXT NOT NULL,\n    record_id TEXT NOT NULL,\n    is_full_sync_in_progress NUMERIC NOT NULL,\n    CONSTRAINT primary_key PRIMARY KEY (user_id, root_id, sync_parent_id, record_id)\n)"},{sql:"CREATE INDEX record_id_idx ON offline_record_pointer (record_id)"},{sql:"CREATE INDEX root_id_idx ON offline_record_pointer (root_id)"},{sql:"CREATE INDEX sync_parent_id_idx ON offline_record_pointer (sync_parent_id, is_full_sync_in_progress)"}]},{id:8,description:"add-offline-flag-to-records",statements:[{sql:"ALTER TABLE records ADD COLUMN is_offline"},{sql:"DROP INDEX record_lru_important_timestamp"},{sql:"CREATE INDEX record_lru_deletion_order ON records (is_offline, importance, timestamp)"}]},{id:9,description:"add-space-id-column-to-records",statements:[{sql:"ALTER TABLE records ADD COLUMN space_id TEXT"}]},{id:10,description:"restructure-record-parent-index",statements:[{sql:"DROP INDEX IF EXISTS record_parent"},{sql:"DROP INDEX IF EXISTS record_user_id"},{sql:"CREATE INDEX record_user_parent_id ON records (user_id, parent_id, parent_table, record_table)"}]},{id:11,description:"undo-record-parent-index-restructure",statements:[{sql:"DROP INDEX IF EXISTS record_user_parent_id"},{sql:"CREATE INDEX IF NOT EXISTS record_parent ON records (parent_id, user_id)"}]}],fastForward:{id:11,description:"fast-forward-to-undo-record-parent-index-restructure",statements:[{sql:"CREATE TABLE notion (id integer primary key, key unique, value)"},{sql:"CREATE TABLE key_value_store (id INTEGER PRIMARY KEY, key TEXT UNIQUE, value TEXT)"},{sql:"CREATE TABLE transactions (\nid TEXT PRIMARY KEY,\nvalue TEXT\n, user_id TEXT)"},{sql:"CREATE TABLE records (\nrecord_table TEXT,\nrecord_id TEXT,\nrecord_value TEXT,\ntimestamp NUMERIC,\nparent_table TEXT,\nparent_id TEXT,\nimportance NUMERIC,\nuser_id TEXT, is_offline, space_id TEXT,\nCONSTRAINT primary_key PRIMARY KEY (record_table, record_id, user_id)\n)"},{sql:"CREATE TABLE offline_root (\nuser_id TEXT NOT NULL,\nrecord_table TEXT NOT NULL,\nrecord_id TEXT NOT NULL,\nCONSTRAINT primary_key PRIMARY KEY (record_table, record_id, user_id)\n)"},{sql:"CREATE TABLE offline_sync_parent (\nuser_id TEXT NOT NULL,\nroot_table TEXT NOT NULL,\nroot_id TEXT NOT NULL,\nsync_parent_table TEXT NOT NULL,\nsync_parent_id TEXT NOT NULL,\nstate TEXT NOT NULL,\nlast_updated_local_timestamp INTEGER NOT NULL,\nlast_synced_global_cursor TEXT,\nCONSTRAINT primary_key PRIMARY KEY (sync_parent_table, sync_parent_id, user_id)\n)"},{sql:"CREATE TABLE offline_record_pointer (\nuser_id TEXT NOT NULL,\nroot_table TEXT NOT NULL,\nroot_id TEXT NOT NULL,\nsync_parent_table TEXT NOT NULL,\nsync_parent_id TEXT NOT NULL,\nrecord_table TEXT NOT NULL,\nrecord_id TEXT NOT NULL,\nis_full_sync_in_progress NUMERIC NOT NULL,\nCONSTRAINT primary_key PRIMARY KEY (user_id, root_id, sync_parent_id, record_id)\n)"},{sql:"CREATE INDEX transactions_user_id ON transactions (user_id)"},{sql:"CREATE INDEX offline_sync_parent_root ON offline_sync_parent (user_id, root_table, root_id)"},{sql:"CREATE INDEX record_id_idx ON offline_record_pointer (record_id)"},{sql:"CREATE INDEX root_id_idx ON offline_record_pointer (root_id)"},{sql:"CREATE INDEX sync_parent_id_idx ON offline_record_pointer (sync_parent_id, is_full_sync_in_progress)"},{sql:"CREATE INDEX record_lru_deletion_order ON records (is_offline, importance, timestamp)"},{sql:"CREATE INDEX record_parent ON records (parent_id, user_id)"}]}}},"4HCU":function(e,t,n){"use strict";n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return x})),n.d(t,"f",(function(){return P})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return L})),n.d(t,"m",(function(){return R})),n.d(t,"c",(function(){return D})),n.d(t,"k",(function(){return A})),n.d(t,"j",(function(){return j})),n.d(t,"l",(function(){return F})),n.d(t,"i",(function(){return V})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return U}));n("3bBZ"),n("c9m3");var o=n("LvDl"),r=n.n(o),a=n("bkwR"),i=n("P8+q"),s=n.n(i),l=n("mjq6"),c=n("tvfY"),d=n("5/h/"),u=n("nM47"),p=n("z22Z"),h=n("AXh+"),m=n("QcDD"),f=n("r8MX"),g=n("6SEd"),b=n("p0Ff"),v=n("WLsh"),y=n("Cycz"),S=n("bPtJ"),w=n("G+Ai"),k=n("cBa6"),C=n("/ssM"),M=n("922z"),E=n("24Pt"),_=n("8f5p");const T=300,x=75;async function I(e){const{environment:t,query:n,limit:o,spaceId:r,requireEditPermissions:i,excludeTemplates:s,source:l}=e,{currentSpaceStore:c}=m.default.state,d={results:[],recordMap:(new M.a).toJson(),total:0};if(!c)return d;const u=await async function(e){const{currentSpaceStore:t,currentSpaceViewStore:n}=m.default.state;if(t)return await E.h({environment:e,currentSpaceStore:t,currentSpaceViewStore:n})}(t),p=C.f({isDeletedOnly:!1,isNavigableOnly:!0,excludeTemplates:s,requireEditPermissions:i||void 0}),h=C.e.Relevance;if(!n&&u){const e=E.g({input:{query:{text:n,filters:p,sort:h},limit:o},cache:u});return e||d}const f=await a.search(t,{type:C.c.BlocksInSpace,query:n,spaceId:r,limit:o,filters:p,sort:h,source:l});if("failed"===f.type)throw f.error;return f.data}async function P(e){const t=await I(e);return{results:t.results.map(e=>e.id),recordMap:t.recordMap}}async function O(e){const{environment:t,query:n,parentId:o,limit:r,spaceId:i,excludeTemplates:s,source:l}=e,c=await a.search(t,{type:C.c.BlocksInParent,query:n,spaceId:i,parentId:o,limit:r,filters:C.f({isDeletedOnly:!1,isNavigableOnly:!0,excludeTemplates:s}),sort:C.e.Relevance,source:l});if("failed"===c.type)throw c.error;return{results:c.data.results.map(e=>e.id)}}async function B(e){const{environment:t,query:n,ancestorId:o,limit:r,excludeTemplates:i,source:s}=e,l=await a.search(t,{type:C.c.BlocksInAncestor,query:n,ancestorId:o,filters:C.f({isNavigableOnly:!0,excludeTemplates:i}),sort:C.e.Relevance,limit:r,source:s});if("failed"===l.type)throw l.error;return l.data}async function L(e){return{results:(await B(e)).results.map(e=>e.id)}}async function R(e){const{environment:t,query:n,limit:o,ancestorId:r,spaceId:i}=e,s={query:n,filters:C.f({isDeletedOnly:!0,isNavigableOnly:!0,excludeTemplates:!1}),sort:C.e.Relevance,limit:o,spaceId:i,source:"trash"},l=r?a.search(t,{type:C.c.BlocksInAncestor,...s,ancestorId:r}):a.search(t,{type:C.c.BlocksInSpace,...s}),c=await l;if("failed"===c.type)throw c.error;{const{results:e,recordMap:t,total:n}=c.data;return{results:e.map(e=>e.id),recordMap:new M.a(t),endOfResultsReached:n===e.length}}}async function D(e,t){const{query:n,limit:o,source:i}=t,{currentSpaceStore:s}=m.default.state;if(!s)return[];const[l,c]=await Promise.all([z(e,t),a.search(e,{type:C.c.CollectionsInSpace,query:n,spaceId:s.id,limit:o,filters:C.f({excludeTemplates:!0,requireEditPermissions:!0}),sort:C.e.Relevance,source:i})]);return r.a.union("success"===c.type?c.data.results.map(e=>e.id):[],l).slice(0,o)}function A(e){const{query:t,intl:n}=e,{currentSpaceStore:o}=m.default.state,r=o&&o.getValue();if(!r)return[];const a=r.permission_groups||[];return t?Object(l.b)(t,a,e=>Object(_.a)({intl:n,group:e})):a}async function j(e){const{environment:t,query:n}=e,{currentSpaceStore:o}=m.default.state;if(!o)return[];const a=o.id;await u.g({environment:t,spaceId:a});const{data:i}=f.default.state;if(!i)return[];const s=Object(y.n)(i),c=r.a.compact(await Promise.all(s.map(async({botId:e})=>{const t=Object(S.c)(o,{table:w.a,id:e});return await t.load(),t.getValue()})));return n?Object(l.b)(n,c,d.d):c}async function F(e){const{environment:t,query:n,membersOnly:o}=e,{currentSpaceStore:a}=m.default.state;if(!a)return[];await u.g({environment:t,spaceId:a.id});const{data:i}=f.default.state;if(!i)return[];const s=Object(y.v)(i).filter(e=>!(o&&!Object(p.k)(e.role))).map(e=>e.userId),{currentBlockStore:g}=m.default.state,b=g&&!o?Object(h.b)(g).flatMap(({permissionItem:e})=>Object(p.q)(e)?[e.user_id]:[]):[],v=r.a.uniq([...b,...s]),S=r.a.compact(await Promise.all(v.map(async e=>{const t=c.a.createChildStore(a,{table:d.a,id:e});return await t.load(),t.getValue()})));return n?Object(l.b)(n,S,d.f):S}async function V(e){const[t,n]=await Promise.all([F(e),j(e)]);return{users:t,bots:n}}async function N(e,t){const n=Object(v.b)(t);if(Object(v.c)(n)&&n){const t=await a.findUser(e,{email:n});if("failed"===t.type)throw t.error;const o=t.data;return o.value?{user:o.value.value}:{email:n}}return{}}async function U(e){const{nearBlock:t,environment:n,query:o,source:r}=e,{currentSpaceStore:a}=m.default.state,i=t&&Object(h.b)(t).find(({permissionItem:e})=>Object(p.n)(e));if(a){return(await I({environment:n,query:o,limit:20,spaceId:a.id,requireEditPermissions:!1,excludeTemplates:!0,source:r})).results}if(i){return(await B({environment:n,query:o,limit:20,ancestorId:i.blockId,excludeTemplates:!0,source:r})).results}return[]}function z(e,t){const{query:n,limit:o}=t,r=[];return b.default.forEachRecord(e.currentUser.id,(e,t)=>{if(!(r.length>=o)&&e.table===g.a&&t.value){const o=t.value;if(o){const t=Object(k.Y)(o.name);s.a.test(n,t)&&r.push(e.id)}}}),r}},"4VgC":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("MeYt"),s=n("zmp8"),l=n("Sb6f");class c extends a.a{renderComponent(){return r.a.createElement(i.a,{onClick:this.props.onClick,style:{...c.getButtonStyle(this.props.variant),...this.props.style,...this.props.isFullWidth&&c.fullWidthStyle},hoveredStyle:c.getButtonHoveredStyle(this.props.variant),pressedStyle:c.getButtonPressedStyle(this.props.variant)},this.props.children)}static getButtonStyle(e){const t={display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",height:36,borderRadius:3,color:"primary"===e?"white":s.g.red,fontSize:14,lineHeight:1,paddingLeft:12,paddingRight:12,fontWeight:l.a.fontWeight.medium};return"primary"===e?{...t,background:s.g.frontPrimaryButtonBackground,border:"1px solid ".concat(s.g.frontPrimaryButtonBorder),boxShadow:"0 1px 2px rgba(15, 15, 15, 0.1)"}:"secondary"===e?{...t,background:s.g.frontSecondaryButtonBackground,boxShadow:"\n\t\t\t\t0 1px 2px rgba(15, 15, 15, 0.1),\n\t\t\t\tinset 0 0 0 1px ".concat(s.g.redWithAlpha(.3),"\n\t\t\t")}:{...t,border:"1px solid ".concat(s.g.frontBorder),color:s.g.frontTextMedium,background:s.g.frontTertiaryButtonBackground}}static getButtonHoveredStyle(e){return"primary"===e?{background:s.g.frontPrimaryButtonBackgroundHovered}:"secondary"===e?{background:s.g.frontSecondaryButtonBackgroundHovered}:{background:s.g.frontTertiaryButtonBackgroundHovered}}static getButtonPressedStyle(e){return"primary"===e?{background:s.g.frontPrimaryButtonBackgroundPressed}:"secondary"===e?{background:s.g.frontSecondaryButtonBackgroundPressed}:{background:s.g.frontTertiaryButtonBackgroundPressed}}}c.fullWidthStyle={width:"100%",justifyContent:"center"},t.a=c},"4aFz":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var o=n("y6Dp"),r=n("iICV"),a=n("5qTp");function i(e){a.default.state.open?l():s(e)}function s(e){a.default.state.open||(a.default.setState({...a.default.state,open:!0}),o.id(e.environment,{from:e.analyticsFrom}))}const l=()=>{a.default.state.open&&(a.default.setState({...a.default.state,open:!1}),r.a.setKeyboardMode(!1))}},"4bJO":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"m",(function(){return h})),n.d(t,"q",(function(){return f})),n.d(t,"n",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"l",(function(){return y})),n.d(t,"a",(function(){return w})),n.d(t,"i",(function(){return k})),n.d(t,"o",(function(){return C})),n.d(t,"p",(function(){return E})),n.d(t,"f",(function(){return x})),n.d(t,"h",(function(){return I})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return N}));n("3bBZ");var o=n("FWat"),r=n("PXtY"),a=n("O+wX"),i=n("D2XV"),s=n("nFzZ");const l=["count"];function c(e){return"count"===e}function d(e){return c(e.aggregator)}const u={count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0,show_unique:!0},p=Object(s.j)(u);function h(e){return Boolean(u[e])}const m={sum:!0,average:!0,median:!0,min:!0,max:!0,range:!0},f=Object(s.j)(m);function g(e){return Boolean(m[e])}const b={earliest_date:!0,latest_date:!0,date_range:!0},v=Object(s.j)(b);function y(e){return Boolean(b[e])}const S={checked:!0,unchecked:!0,percent_checked:!0,percent_unchecked:!0},w=Object(s.j)(S);function k(e){return Boolean(S[e])}function C(e){return!c(e.aggregator)}const M={text:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},checkbox:{checked:!0,unchecked:!0,percent_checked:!0,percent_unchecked:!0},select:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},multi_select:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},relation:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},person:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},number:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0,sum:!0,average:!0,median:!0,min:!0,max:!0,range:!0},date:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0,earliest_date:!0,latest_date:!0,date_range:!0},file:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0}};function E(e,t){return Boolean(M[e][t])}const _={count:()=>({type:"count",count:0}),count_values:()=>({type:"count_values",count:0}),empty:()=>({type:"empty",empty:0}),not_empty:()=>({type:"not_empty",filled:0}),unique:()=>({type:"unique",values:new Set}),show_unique:()=>({type:"show_unique",values:new Set}),percent_empty:()=>({type:"percent_empty",count:0,empty:0}),percent_not_empty:()=>({type:"percent_not_empty",count:0,filled:0}),sum:()=>({type:"sum",sum:0}),average:()=>({type:"average",count:0,sum:0}),median:()=>({type:"median",values:[]}),min:()=>({type:"min",min:void 0}),max:()=>({type:"max",max:void 0}),range:()=>({type:"range",min:void 0,max:void 0}),earliest_date:()=>({type:"earliest_date",min:void 0}),latest_date:()=>({type:"latest_date",max:void 0}),date_range:()=>({type:"date_range",min:void 0,max:void 0}),checked:()=>({type:"checked",checked:0}),unchecked:()=>({type:"unchecked",unchecked:0}),percent_checked:()=>({type:"percent_checked",count:0,checked:0}),percent_unchecked:()=>({type:"percent_unchecked",count:0,unchecked:0})},T={count:"number",count_values:"number",empty:"number",not_empty:"number",unique:"number",percent_empty:"number",percent_not_empty:"number",sum:"number",average:"number",median:"number",min:"number",max:"number",range:"number",checked:"number",unchecked:"number",percent_checked:"number",percent_unchecked:"number",earliest_date:"date",latest_date:"date",date_range:"date",show_unique:"number"};function x(e){return T[e]}function I(e){return _[e]()}function P(e){const{state:t,filterValue:n}=e,o=F[t.type][n.type];o&&o(e)}function O(e){const{state:t,getRecordValue:n,aggregation:o,userTimeZone:a,intl:i}=e;if(d(o))P({filterValue:{type:"text",value:void 0},state:t,getRecordValue:n,userTimeZone:a,intl:i});else if(C(o)){const s=Object(r.a)({...e,property:o.property,depth:e.depth+1});for(const e of s)P({filterValue:e,state:t,getRecordValue:n,userTimeZone:a,intl:i})}}function B(e){e.state.count+=1}function L(e){Object(o.b)({filter:{operator:"is_empty"},userId:void 0,...e})&&(e.state.empty+=1)}function R(e){Object(o.b)({filter:{operator:"is_not_empty"},userId:void 0,...e})&&(e.state.filled+=1)}function D(e){const t=Object(o.b)({filter:{operator:"is_empty"},userId:void 0,...e});e.state.count+=1,t&&(e.state.empty+=1)}function A(e){const t=Object(o.b)({filter:{operator:"is_not_empty"},userId:void 0,...e});e.state.count+=1,t&&(e.state.filled+=1)}const j={number:e=>{const t=e.filterValue;void 0!==t.value&&e.state.values.add(t.value.toString())},text:e=>{const t=e.filterValue;void 0!==t.value&&t.value.length>0&&e.state.values.add(t.value)},select:e=>{const t=e.filterValue;void 0!==t.value&&e.state.values.add(t.value)},multi_select:e=>{const t=e.filterValue;if(void 0!==t.value)for(const n of t.value)e.state.values.add(n)},relation:e=>{const t=e.filterValue;if(void 0!==t.value)for(const n of t.value)e.state.values.add(n)},person:e=>{const t=e.filterValue;if(void 0!==t.value)for(const n of t.value)e.state.values.add(n.id)},date:e=>{const t=e.filterValue;void 0!==t.value&&e.state.values.add(a.a({allowRelativeDates:!1,value:t.value,userTimeZone:e.userTimeZone,intl:e.intl}))},file:e=>{const t=e.filterValue;if(void 0!==t.value&&void 0!==t.value)for(const n of t.value)e.state.values.add(n)}},F={count:{number:B,text:B,select:B,multi_select:B,relation:B,person:B,date:B,file:B},count_values:{number:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)},text:e=>{const t=e.filterValue;void 0!==t.value&&t.value.length>0&&(e.state.count+=1)},select:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)},multi_select:e=>{const t=e.filterValue;void 0!==t.value&&(e.state.count+=t.value.length)},relation:e=>{const t=e.filterValue;void 0!==t.value&&(e.state.count+=t.value.length)},person:e=>{const t=e.filterValue;void 0!==t.value&&(e.state.count+=t.value.length)},date:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)},file:e=>{const t=e.filterValue;void 0!==t.value&&(e.state.count+=t.value.length)}},show_unique:j,unique:j,empty:{number:L,text:L,select:L,multi_select:L,relation:L,person:L,date:L,file:L},not_empty:{number:R,text:R,select:R,multi_select:R,relation:R,person:R,date:R,file:R},percent_empty:{number:D,text:D,select:D,multi_select:D,relation:D,person:D,date:D,file:D},percent_not_empty:{number:A,text:A,select:A,multi_select:A,relation:A,person:A,date:A,file:A},sum:{number:e=>{const t=e.filterValue.value;void 0!==t&&(e.state.sum+=t)}},average:{number:e=>{const t=e.filterValue.value;void 0!==t&&(e.state.count+=1,e.state.sum+=t)}},median:{number:e=>{const t=e.filterValue.value;void 0!==t&&e.state.values.push(t)}},min:{number:e=>{const t=e.filterValue.value;void 0!==t&&(!e.state.min||t<e.state.min)&&(e.state.min=t)}},max:{number:e=>{const t=e.filterValue.value;void 0!==t&&(!e.state.max||t>e.state.max)&&(e.state.max=t)}},range:{number:e=>{const t=e.filterValue.value;void 0!==t&&((!e.state.min||t<e.state.min)&&(e.state.min=t),(!e.state.max||t>e.state.max)&&(e.state.max=t))}},checked:{checkbox:function(e){Object(o.b)({filter:{operator:"checkbox_is",value:{type:"exact",value:!0}},userId:void 0,...e})&&(e.state.checked+=1)}},unchecked:{checkbox:function(e){Object(o.b)({filter:{operator:"checkbox_is",value:{type:"exact",value:!1}},userId:void 0,...e})&&(e.state.unchecked+=1)}},percent_checked:{checkbox:function(e){const t=Object(o.b)({filter:{operator:"checkbox_is",value:{type:"exact",value:!0}},userId:void 0,...e});e.state.count+=1,t&&(e.state.checked+=1)}},percent_unchecked:{checkbox:function(e){const t=Object(o.b)({filter:{operator:"checkbox_is",value:{type:"exact",value:!1}},userId:void 0,...e});e.state.count+=1,t&&(e.state.unchecked+=1)}},date_range:{date:e=>{const t=e.filterValue.value,n=e.state;if(void 0!==t){if(void 0===n.min){const o=i.R(t);"date"===o.type?n.min=i.u(o,e.userTimeZone):n.min=o}else{const o=i.fb(n.min,i.R(t),e.userTimeZone);"date"===o.type?n.min=i.u(o,e.userTimeZone):n.min=o}if(void 0===n.max){const o=i.R(t);"date"===o.type?n.max=i.u(o,e.userTimeZone):n.max=o}else{const o=i.db(n.max,i.R(t),e.userTimeZone);"date"===o.type?n.max=i.u(o,e.userTimeZone):n.max=o}}}},earliest_date:{date:e=>{const t=e.filterValue.value,n=e.state;void 0!==t&&(void 0===n.min?n.min=i.R(t):n.min=i.fb(n.min,i.R(t),e.userTimeZone))}},latest_date:{date:e=>{const t=e.filterValue.value,n=e.state;void 0!==t&&(void 0===n.max?n.max=i.R(t):n.max=i.db(n.max,i.R(t),e.userTimeZone))}}},V={count:e=>({type:"number",value:e.count}),count_values:e=>({type:"number",value:e.count}),empty:e=>({type:"number",value:e.empty}),not_empty:e=>({type:"number",value:e.filled}),unique:e=>({type:"number",value:e.values.size}),show_unique:e=>({type:"number",value:e.values.size}),percent_empty:e=>({type:"number",value:e.empty/e.count}),percent_not_empty:e=>({type:"number",value:e.filled/e.count}),sum:e=>({type:"number",value:e.sum}),average:e=>({type:"number",value:e.sum/e.count}),median:e=>({type:"number",value:U(e.values)}),min:e=>({type:"number",value:e.min}),max:e=>({type:"number",value:e.max}),range:e=>({type:"number",value:void 0!==e.max&&void 0!==e.min?e.max-e.min:void 0}),checked:e=>({type:"number",value:e.checked}),unchecked:e=>({type:"number",value:e.unchecked}),percent_checked:e=>({type:"number",value:e.checked/e.count}),percent_unchecked:e=>({type:"number",value:e.unchecked/e.count}),earliest_date:e=>({type:"date",value:e.min}),latest_date:e=>({type:"date",value:e.max}),date_range:e=>{if(void 0===e.max||void 0===e.min)return{type:"date",value:void 0};const t=i.F(e.min),n=i.F(e.max);return{type:"date",value:i.s(t.valueOf(),n.valueOf(),e.min.time_zone)}}};function N(e){return(0,V[e.type])(e)}function U(e){if(e.sort((function(e,t){return e-t})),0===e.length)return 0;var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2}},"4vay":function(e,t,n){},"5/h/":function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));n("SYor");var o=n("LvDl"),r=n.n(o),a=n("fIr1"),i=(n("V1wX"),n("g90h"));function s(e){return e&&e.given_name&&e.family_name?"".concat(e.given_name.trim()," ").concat(e.family_name.trim()):e&&e.email?e.email:"Anonymous"}function l(e){return r.a.compact([e.given_name,e.family_name,e.email]).join(" ")}function c(e){return r.a.compact([e.name,"bot"]).join(" ")}const d="notion_user",u={table:d,columnTypes:{id:a.a.UUID,version:a.a.Number,last_version:a.a.Number,email:a.a.String,given_name:a.a.String,family_name:a.a.String,profile_photo:a.a.String,onboarding_completed:a.a.Boolean,mobile_onboarding_completed:a.a.Boolean,clipper_onboarding_completed:a.a.Boolean,reverify:a.a.Boolean}};t.c=u;const p={id:i.a,version:0,email:"ops@makenotion.com",admin:!0}},"57cz":function(e,t,n){"use strict";var o=n("Uv1v");class r extends o.a{findOutlinerItemFromStore(e){if(e)return this.findComponent(t=>t.props.store===e)}}t.a=new r},"58VE":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("wldR"),l=n("5/h/"),c=n("1y3T"),d=n("2m/B"),u=n("mF3+"),p=n("LeVO"),h=n("zmp8");class m extends s.a{constructor(){super(...arguments),this.renderAvatar=()=>{const{userValue:e}=this.props;if(e){const t=e.profile_photo,n=e.given_name,o=e.family_name,a=e.email;if(t)return r.a.createElement("div",{style:{...this.getAvatarWrapStyle()}},r.a.createElement("div",{style:{...this.getAvatarStyle()}},r.a.createElement(c.a,{stripGoogleIconQuery:!0,url:t,isAuthenticated:!1,width:this.props.size||18,render:(e,t)=>r.a.createElement(d.a,{src:t,style:{width:"100%",height:"100%",borderRadius:"100%"}})})));if(n||o||a){let e;return n?e=i.a.toArray(n)[0]:o?e=i.a.toArray(o)[0]:a&&(e=i.a.toArray(a)[0]),e=e?e.toUpperCase():"",r.a.createElement("div",{style:{...this.getAvatarWrapStyle()}},r.a.createElement("div",{style:this.getInitialStyle()},r.a.createElement("div",null,e)))}return this.renderPersonIcon()}return this.renderPersonIcon()},this.renderTooltip=()=>r.a.createElement(o.Fragment,null,Object(l.e)(this.props.userValue),r.a.createElement("br",null),this.props.userValue&&r.a.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},this.props.userValue.email))}renderComponent(){return this.props.hasTooltip?r.a.createElement(p.a,{renderTooltip:this.renderTooltip,placement:p.a.Placement.Bottom,alignment:p.a.Alignment.Start,render:e=>r.a.createElement("div",Object.assign({style:this.props.style},e),this.renderAvatar())}):r.a.createElement("div",{style:this.props.style},this.renderAvatar())}renderPersonIcon(){return r.a.createElement("div",{style:{...this.getAvatarWrapStyle()}},r.a.createElement("div",{style:{...this.getAvatarStyle()}},this.getPersonIcon()))}getPersonIcon(){return u.a.person({width:16,height:16,color:this.theme.regularIconColor})}getAvatarWrapStyle(){return{background:Object(h.o)("light").contentBackground,borderRadius:"100%",boxShadow:this.props.avatarShouldShowShadow?this.theme.avatarBoxShadow:"none"}}getAvatarStyle(){return{borderRadius:"100%",width:this.props.size||18,height:this.props.size||18,maxWidth:"100%",maxHeight:"100%",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",WebkitUserSelect:"none",opacity:this.props.isOffline?.3:1}}getInitialStyle(){return{boxSizing:"content-box",border:"1px solid currentColor",borderRadius:"100%",width:(this.props.size||18)-2,height:(this.props.size||18)-2,lineHeight:"".concat((this.props.size||18)-2,"px"),overflow:"hidden",textAlign:"center",fontSize:14,background:this.theme.popoverBackground,userSelect:"none",WebkitUserSelect:"none",color:this.theme.regularTextColor,opacity:this.props.isOffline?.3:1}}}t.a=m},"5BEd":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("zUsb"),i=n("A9TN");const s=Object.keys({user_id:!0,root_table:!0,root_id:!0,sync_parent_table:!0,sync_parent_id:!0,record_table:!0,record_id:!0,is_full_sync_in_progress:!0});class l{constructor(){this.roots=new Map,this.syncParents=new Map}async isMarkedOffline(e){return Promise.resolve(this.roots.has(e.record_id))}async getOfflineRoot(e){return Promise.resolve(this.roots.get(e.id))}async addOrUpdateOfflineRoot(e){return this.roots.set(e.record_id,e),Promise.resolve()}async deleteOfflineRoot(e){return this.roots.delete(e.record_id),Promise.resolve()}async getAllOfflineRootsForUser(e){return Promise.resolve(Array.from(this.roots.values()).filter(t=>t.user_id===e))}async getHighestPriorityParentsNeedingProcessing(e,t){const n=r.a.filter(Array.from(this.syncParents.values()),t=>t.user_id===e&&"fully_synced"!==t.state),o=r.a.sortBy(n,[e=>{switch(e.state){case"needs_full_sync":return 1;case"needs_delta_sync":return 2}},e=>e.last_updated_local_timestamp]);return Promise.resolve(r.a.take(o,t))}async addOrUpdateSyncParent(e){return this.syncParents.set(e.sync_parent_id,e),Promise.resolve()}async getSyncParent(e){return Promise.resolve(this.syncParents.get(e.id))}async getSyncParentsForRoot(e){return Promise.resolve(Array.from(this.syncParents.values()).filter(t=>t.root_id===e.record_id))}async addOrUpdateOfflineRecordPointers(e){}async deleteSyncParentAndRecordReferences(e){}}class c{constructor(e){this.connection=e}isMarkedOffline(e){return a.v(this.connection,e)}getOfflineRoot(e){const{userId:t,table:n,id:o}=e;return a.n(this.connection,t,n,o)}addOrUpdateOfflineRoot(e){return a.t(this.connection,e)}deleteOfflineRoot(e){return a.h(this.connection,e)}getAllOfflineRootsForUser(e){return a.k(this.connection,e)}getHighestPriorityParentsNeedingProcessing(e,t){return a.m(this.connection,e,t)}addOrUpdateSyncParent(e){return a.u(this.connection,e)}getSyncParent(e){const{userId:t,table:n,id:o}=e;return a.r(this.connection,t,n,o)}getSyncParentsForRoot(e){return a.s(this.connection,e)}async addOrUpdateOfflineRecordPointers(e){return a.a(this.connection,e)}async deleteSyncParentAndRecordReferences(e){return a.i(this.connection,e)}}function d(e){const{device:t,reactNative:n,electronSqlite:o}=e;return t.isMobile&&n&&n.sqliteConnection?new c(n.sqliteConnection):o&&o.sqliteConnection?new c(o.sqliteConnection):"local"===i.default.env?new l:void 0}},"5FB0":function(e,t,n){"use strict";var o=n("S26v");var r=n("5xGH"),a=n("czaV");n.d(t,"a",(function(){return i}));class i extends Error{constructor(e,t){super(e),this.name="HttpRequestError",this.data=t}}t.b=async function(e){void 0===e.json&&(e.json=!0);const t={...e.headers};let n;"GET"!==e.method&&e.json&&(t["Content-Type"]="application/json"),e.data&&(n=JSON.stringify(e.data));let s=e.url;const l={method:e.method,credentials:"same-origin",headers:t,body:n};let c;e.environment.device.isReactNative&&!a.a()&&void 0!==n&&(s=o.a(s,{reactNativeWebViewSchemeHandlerBody:n}),delete l.body);try{c=await fetch(s,l)}catch(u){return{type:"failed",offline:!0,status:0,error:new i("Offline.",{url:s,requestBody:e.data,responseBody:void 0,offline:!0,status:0}),body:{message:"Offline.",clientData:{type:"offline"}}}}const d={"X-Notion-User-Id":c.headers.get("X-Notion-User-Id")||void 0};if(200===c.status){if(e.json){let t;try{t=await c.json()}catch(u){return{type:"failed",offline:!1,status:c.status,headers:d,error:new i("Unable to parse HTTP response",{url:s,requestBody:e.data,responseBody:t,offline:!1,status:c.status}),body:n}}return{type:"success",status:c.status,data:t,headers:d}}{let e;try{e=await c.text()}catch(u){}return{type:"success",status:c.status,data:e,headers:d}}}{let t,n=void 0;try{n=await c.json()}catch(u){}return t=Object(r.c)(n)?n.message:n&&n.message?n&&n.message:"Something went wrong.",0===c.status?{type:"failed",offline:!0,status:c.status,error:new i(t,{url:s,requestBody:e.data,responseBody:n,offline:!0,status:c.status}),body:{message:"Offline.",clientData:{type:"offline"}}}:{type:"failed",offline:!1,status:c.status,headers:d,error:new i(t,{url:s,requestBody:e.data,responseBody:n,offline:!1,status:c.status}),body:n}}}},"5JRq":function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b}));var o=n("A9TN"),r=n("VMJe"),a=n("dlZW"),i=n("h2IJ"),s=n("nFzZ"),l=n("mXKa"),c=n("2ZkR"),d=n("Mht8");function u(e){const{environment:t,url:n,version:o}=e,{AppUpdateStore:r,device:a}=t;a.isElectron&&n.startsWith("https:")?d.log({level:"error",from:"appUpdateActions",type:"installAppJsUpdate",error:{message:"Attempting to refresh app js on desktop for an https url",stack:(new Error).stack},data:{url:n}}):(r.setState({electronUpdate:r.state.electronUpdate,appUpdate:void 0}),o&&m(o),p(o)||(t.reactNative&&t.reactNative.showSplashscreen(),Object(l.setAppRefreshed)(!0),n!==window.location.href?window.location.href=n:window.location.reload()))}function p(e){return Object(r.isEqualVersion)(e,b())}function h(e,t){if(!t)return!1;if("ready"!==t.state)return!1;if(a.transactionQueue.hasTasks())return!1;if(!e.currentUser.isLoggedIn())return!1;if("on"===c.default.getGroup(e,"silent-releases")&&t.type===r.UpdateType.Silent){if(e.device.isReactNative)return!1;const t=g();if(t&&(Date.now()-t)/s.a<7)return!1;d.log({level:"info",from:"appUpdateActions",type:"shouldUpdateOnNavigate",data:{lastKnownUpdateTime:t}})}return!0}function m(e){i.a.set("lastKnownAppJsVersion",{version:e,time:Date.now()})}function f(){const e=i.a.get("lastKnownAppJsVersion");if(e&&e.version)return e.version;{const e=Object(r.parseVersion)(o.default.version);return i.a.set("lastKnownAppJsVersion",{version:e,time:Date.now()}),e}}function g(){const e=i.a.get("lastKnownAppJsVersion");if(e&&e.time)return e.time}function b(){return Object(r.parseVersion)(o.default.version)}},"5Nka":function(e,t,n){"use strict";t.a={appleDeveloperMerchantidDomainAssociation:"/apple-developer-merchantid-domain-association",emails:{notionLogoBlackSmallPng:"/emails/notion-logo-black-small.6f608cf5.png",notionWordmarkBlackSmallPng:"/emails/notion-wordmark-black-small.76b8bede.png"},error500Html:"/error-500.html",images:{aggregations:{averagePng:"/images/aggregations/average.13d131c7.png",checkedPng:"/images/aggregations/checked.559fd230.png",countPng:"/images/aggregations/count.0229e394.png",countValuesPng:"/images/aggregations/countValues.81e24549.png",dateRangePng:"/images/aggregations/dateRange.2219b54f.png",earliestDatePng:"/images/aggregations/earliestDate.1854fe3c.png",emptyPng:"/images/aggregations/empty.5a8e8976.png",latestDatePng:"/images/aggregations/latestDate.4b297359.png",maxPng:"/images/aggregations/max.a6857201.png",medianPng:"/images/aggregations/median.178364f3.png",minPng:"/images/aggregations/min.ea5e7a21.png",notEmptyPng:"/images/aggregations/notEmpty.f8f86445.png",percentCheckedPng:"/images/aggregations/percentChecked.4bc2f766.png",percentEmptyPng:"/images/aggregations/percentEmpty.8e070da8.png",percentNotEmptyPng:"/images/aggregations/percentNotEmpty.c3ac1c83.png",percentUncheckedPng:"/images/aggregations/percentUnchecked.1df5ea48.png",rangePng:"/images/aggregations/range.68f97557.png",sumPng:"/images/aggregations/sum.e0ad6a7e.png",uncheckedPng:"/images/aggregations/unchecked.e4120d79.png",uniquePng:"/images/aggregations/unique.05e3efe4.png"},blocks:{abstractPng:"/images/blocks/abstract.453c8d20.png",audioPng:"/images/blocks/audio.946c8e51.png",boardInlinePng:"/images/blocks/board-inline.016bdff6.png",boardPng:"/images/blocks/board.a4ec9610.png",breadcrumbPng:"/images/blocks/breadcrumb.43774c17.png",bulletedListPng:"/images/blocks/bulleted-list.0e87e917.png",calendarInlinePng:"/images/blocks/calendar-inline.e59a1b6b.png",calendarPng:"/images/blocks/calendar.24f41568.png",calloutPng:"/images/blocks/callout.7b4c39c4.png",codePng:"/images/blocks/code.a8b201f4.png",codepenPng:"/images/blocks/codepen.d14b682c.png",datePng:"/images/blocks/date.b37fcef7.png",dividerPng:"/images/blocks/divider.210d0faf.png",drivePng:"/images/blocks/drive.a97c62ee.png",embedPng:"/images/blocks/embed.6a481331.png",figmaPng:"/images/blocks/figma.8742808d.png",filePng:"/images/blocks/file.4fade042.png",framerPng:"/images/blocks/framer.a53e5809.png",galleryInlinePng:"/images/blocks/gallery-inline.e7e1f95b.png",galleryPng:"/images/blocks/gallery.a83d6324.png",githubPng:"/images/blocks/github.9565b324.png",headerPng:"/images/blocks/header.57a7576a.png",imagePng:"/images/blocks/image.33d80a98.png",inlineEmojiPng:"/images/blocks/inline-emoji.4fda0007.png",inlineEquationPng:"/images/blocks/inline-equation.a1270861.png",invisionPng:"/images/blocks/invision.73f1400b.png",linkPng:"/images/blocks/link.dd415f7c.png",listInlinePng:"/images/blocks/list-inline.9150ee55.png",listPng:"/images/blocks/list.daadba0c.png",loomPng:"/images/blocks/loom.665a49d5.png",mapsPng:"/images/blocks/maps.b1caf3fd.png",mentionDatePng:"/images/blocks/mention-date.adf0aaa0.png",mentionPagePng:"/images/blocks/mention-page.b360b9b2.png",mentionPersonPng:"/images/blocks/mention-person.6f6b2d65.png",miroPng:"/images/blocks/miro.12aa6110.png",numberedListPng:"/images/blocks/numbered-list.0406affe.png",pagePng:"/images/blocks/page.83b0bf31.png",pdfPng:"/images/blocks/pdf.578d0666.png",quotePng:"/images/blocks/quote.b048df62.png",subheaderPng:"/images/blocks/subheader.9aab4769.png",subsubheaderPng:"/images/blocks/subsubheader.d0ed0bb3.png",tableInlinePng:"/images/blocks/table-inline.4c70a4ba.png",tableOfContentsPng:"/images/blocks/table-of-contents.e9cdeac5.png",tablePng:"/images/blocks/table.1659c09f.png",templateButtonPng:"/images/blocks/template-button.c34f1ab2.png",texPng:"/images/blocks/tex.b0aa14b2.png",textPng:"/images/blocks/text.9fdb530b.png",timelineInlinePng:"/images/blocks/timeline-inline.f6e42922.png",timelinePng:"/images/blocks/timeline.0fbedb5c.png",toDoPng:"/images/blocks/to-do.f8d20542.png",togglePng:"/images/blocks/toggle.5e462b2a.png",twitterPng:"/images/blocks/twitter.b23648c4.png",typeformPng:"/images/blocks/typeform.d1099f0f.png",videoPng:"/images/blocks/video.ceeec2c7.png",webBookmarkPng:"/images/blocks/web-bookmark.82a15180.png",whimsicalPng:"/images/blocks/whimsical.93d89414.png"},checkbox:{checkboxOffPng:"/images/checkbox/checkbox-off.png",checkboxOffSvg:"/images/checkbox/checkbox-off.svg",checkboxOnPng:"/images/checkbox/checkbox-on.png",checkboxOnSvg:"/images/checkbox/checkbox-on.svg"},chromeDesktopTopPng:"/images/chrome-desktop-top.png",chromeMacTopPng:"/images/chrome-mac-top.png",chromeMobileAndroidPng:"/images/chrome-mobile-android.png",chromeMobileIphonePng:"/images/chrome-mobile-iphone.png",chromeMobileIphoneXPng:"/images/chrome-mobile-iphone-x.png",chromeSafariTopPng:"/images/chrome-safari-top.png",chromeSlackTopPng:"/images/chrome-slack-top.png",devices:{iphoneFramePng:"/images/devices/iphone-frame.png",iphoneXFramePng:"/images/devices/iphone-x-frame.png"},downgradeFeedbackPng:"/images/downgrade-feedback.png",faviconDevIco:"/images/favicon-dev.ico",faviconIco:"/images/favicon.ico",faviconLocalIco:"/images/favicon-local.ico",faviconPng:"/images/favicon.png",faviconStgIco:"/images/favicon-stg.ico",feedbackThankYouPng:"/images/feedback-thank-you.png",framePlaceholderSvg:"/images/frame-placeholder.svg",gifs:{followPageGif:"/images/gifs/follow-page.gif",mentionsGif:"/images/gifs/mentions.gif"},googleDriveLogoPng:"/images/googleDriveLogo.png",googleEmojiSpritesheet64Png:"/images/google-emoji-spritesheet-64.caae6dbf.png",icons:{alarmClockPng:"/images/icons/alarmClock.4e200255.png",boardPng:"/images/icons/board.44c6afcc.png",checkboxPng:"/images/icons/checkbox.3e146845.png",createdAtPng:"/images/icons/created-at.0fafab6c.png",createdByPng:"/images/icons/created-by.13285574.png",datePng:"/images/icons/date.f30a62a4.png",emailPng:"/images/icons/email.749bd8b2.png",filePng:"/images/icons/file.e2b311d8.png",formulaPng:"/images/icons/formula.d5760981.png",historyForwardPng:"/images/icons/history-forward.f6f26f20.png",multipleSelectPng:"/images/icons/multiple-select.5d48b805.png",numberPng:"/images/icons/number.c473697c.png",pagePng:"/images/icons/page.b826e829.png",personPng:"/images/icons/person.f9ff98c8.png",phoneNumberPng:"/images/icons/phone-number.7908ec14.png",randomPng:"/images/icons/random.39b56781.png",relationPng:"/images/icons/relation.a192c73f.png",selectPng:"/images/icons/select.8647c6ee.png",speechBubblePng:"/images/icons/speech-bubble.ed13738b.png",tablePng:"/images/icons/table.4fb956bd.png",textPng:"/images/icons/text.6b26bc82.png",titlePng:"/images/icons/title.ce638437.png",todoDonePng:"/images/icons/todo-done.baca55df.png",todoPng:"/images/icons/todo.ed420552.png",unknownTypePng:"/images/icons/unknown-type.b3a62194.png",urlPng:"/images/icons/url.8a405116.png"},import:{asanaPng:"/images/import/asana.png",confluencePng:"/images/import/confluence.png",dropboxPaperPng:"/images/import/dropbox-paper.png",evernotePng:"/images/import/evernote.png",googleDocsPng:"/images/import/google-docs.png",googleDrivePng:"/images/import/google-drive.png",quipPng:"/images/import/quip.png",trelloPng:"/images/import/trello.png",wordPng:"/images/import/word.png",workflowyPng:"/images/import/workflowy.png"},invitePng:"/images/invite.png",inviteuiPng:"/images/inviteui.png",loadingSpinnerSvg:"/images/loading-spinner.4dc19970.svg",loadingSpinnerWhiteSvg:"/images/loading-spinner-white.6909ddaa.svg",logo642XPng:"/images/logo_64@2x.png",logoForStripePng:"/images/logo-for-stripe.png",logoGoogleOauthPng:"/images/logo-google-oauth.png",logoIosPng:"/images/logo-ios.png",meta:{apiBetaPng:"/images/meta/api-beta.png",careersPng:"/images/meta/careers.png",confluencePng:"/images/meta/confluence.png",customersPng:"/images/meta/customers.png",defaultPng:"/images/meta/default.png",educatorsPng:"/images/meta/educators.png",enterprisePng:"/images/meta/enterprise.png",evernotePng:"/images/meta/evernote.png",learnPng:"/images/meta/learn.png",notesPng:"/images/meta/notes.png",personalV2Png:"/images/meta/personal-v2.png",projectsPng:"/images/meta/projects.png",referralPng:"/images/meta/referral.png",remotePng:"/images/meta/remote.png",startupsPng:"/images/meta/startups.png",studentsPng:"/images/meta/students.png",webClipperPng:"/images/meta/web-clipper.png",wikisPng:"/images/meta/wikis.png"},metaEducatorsPng:"/images/meta-educators.png",metaEvernotePng:"/images/meta-evernote.png",metaNotesPng:"/images/meta-notes.png",metaPng:"/images/meta.png",metaProjectsPng:"/images/meta-projects.png",metaReferralPng:"/images/meta-referral.png",metaStartupsPng:"/images/meta-startups.png",metaStudentsPng:"/images/meta-students.png",metaWebClipperPng:"/images/meta-web-clipper.png",metaWikisPng:"/images/meta-wikis.png",notionLogoPng:"/images/notion-logo.64ce0d00.png",nyancatGif:"/images/nyancat.gif",onboarding:{appsPng:"/images/onboarding/apps.png",checkedSvg:"/images/onboarding/checked.svg",desktopNotesPng:"/images/onboarding/desktop-notes.png",importAsanaPng:"/images/onboarding/import-asana.png",importEvernotePng:"/images/onboarding/import-evernote.png",importMarkdownPng:"/images/onboarding/import-markdown.png",importMorePng:"/images/onboarding/import-more.png",importTrelloPng:"/images/onboarding/import-trello.png",mobileHeroAndroidGif:"/images/onboarding/mobile-hero-android.gif",mobileSidebarPng:"/images/onboarding/mobile-sidebar.png",mobileWikiPng:"/images/onboarding/mobile-wiki.png",movePageToWorkspaceGif:"/images/onboarding/move-page-to-workspace.gif",teamFeaturesIllustrationPng:"/images/onboarding/team-features-illustration.png",templatePlaceholderDarkSvg:"/images/onboarding/template-placeholder-dark.svg",templatePlaceholderSvg:"/images/onboarding/template-placeholder.svg",templateTeaserPng:"/images/onboarding/template-teaser.png",uncheckedSvg:"/images/onboarding/unchecked.svg",useCaseNotePng:"/images/onboarding/use-case-note.png",webClipperPng:"/images/onboarding/web-clipper.png"},onboardingPlaceholderPng:"/images/onboarding-placeholder.png",pageCover:{gradients10Jpg:"/images/page-cover/gradients_10.jpg",gradients11Jpg:"/images/page-cover/gradients_11.jpg",gradients1Png:"/images/page-cover/gradients_1.png",gradients2Png:"/images/page-cover/gradients_2.png",gradients3Png:"/images/page-cover/gradients_3.png",gradients4Png:"/images/page-cover/gradients_4.png",gradients5Png:"/images/page-cover/gradients_5.png",gradients6Png:"/images/page-cover/gradients_6.png",gradients7Png:"/images/page-cover/gradients_7.png",gradients8Png:"/images/page-cover/gradients_8.png",gradients9Png:"/images/page-cover/gradients_9.png",metArnoldBocklin1880Jpg:"/images/page-cover/met_arnold_bocklin_1880.jpg",metBruegel1565Jpg:"/images/page-cover/met_bruegel_1565.jpg",metCamillePissarro1896Jpg:"/images/page-cover/met_camille_pissarro_1896.jpg",metCanaletto1720Jpg:"/images/page-cover/met_canaletto_1720.jpg",metCezanne1890Jpg:"/images/page-cover/met_cezanne_1890.jpg",metEdgarDegas1874Jpg:"/images/page-cover/met_edgar_degas_1874.jpg",metEmanuelLeutzeJpg:"/images/page-cover/met_emanuel_leutze.jpg",metFitzHenryLaneJpg:"/images/page-cover/met_fitz_henry_lane.jpg",metFredericEdwinChurch1871Jpg:"/images/page-cover/met_frederic_edwin_church_1871.jpg",metGeorgesSeurat1884Jpg:"/images/page-cover/met_georges_seurat_1884.jpg",metGerome1890Jpg:"/images/page-cover/met_gerome_1890.jpg",metGoya1789Jpg:"/images/page-cover/met_goya_1789.jpg",metHenriRousseau1907Jpg:"/images/page-cover/met_henri_rousseau_1907.jpg",metHenriTl1892Jpg:"/images/page-cover/met_henri_tl_1892.jpg",metHenryLerolle1885Jpg:"/images/page-cover/met_henry_lerolle_1885.jpg",metHoracePippinJpg:"/images/page-cover/met_horace_pippin.jpg",metJeanBeraudJpg:"/images/page-cover/met_jean_beraud.jpg",metJohnSingerSargentMoroccoJpg:"/images/page-cover/met_john_singer_sargent_morocco.jpg",metJosephHidley1870Jpg:"/images/page-cover/met_joseph_hidley_1870.jpg",metJulesTavernier1878Jpg:"/images/page-cover/met_jules_tavernier_1878.jpg",metKlimt1912Jpg:"/images/page-cover/met_klimt_1912.jpg",metPaulSignacJpg:"/images/page-cover/met_paul_signac.jpg",metSilkKashanCarpetJpg:"/images/page-cover/met_silk_kashan_carpet.jpg",metTerracottaFuneraryPlaqueJpg:"/images/page-cover/met_terracotta_funerary_plaque.jpg",metTheUnicornInCaptivityJpg:"/images/page-cover/met_the_unicorn_in_captivity.jpg",metVincentVanGoghCradleJpg:"/images/page-cover/met_vincent_van_gogh_cradle.jpg",metVincentVanGoghGinouxJpg:"/images/page-cover/met_vincent_van_gogh_ginoux.jpg",metVincentVanGoghIrisesJpg:"/images/page-cover/met_vincent_van_gogh_irises.jpg",metVincentVanGoghOleandersJpg:"/images/page-cover/met_vincent_van_gogh_oleanders.jpg",metWilliamMorris1875Jpg:"/images/page-cover/met_william_morris_1875.jpg",metWilliamMorris1877WillowJpg:"/images/page-cover/met_william_morris_1877_willow.jpg",metWilliamMorris1878Jpg:"/images/page-cover/met_william_morris_1878.jpg",metWilliamTurner1835Jpg:"/images/page-cover/met_william_turner_1835.jpg",metWinslowHomerMaineCoastJpg:"/images/page-cover/met_winslow_homer_maine_coast.jpg",nasaBruceMccandlessSpacewalkJpg:"/images/page-cover/nasa_bruce_mccandless_spacewalk.jpg",nasaBuzzAldrinOnTheMoonJpg:"/images/page-cover/nasa_buzz_aldrin_on_the_moon.jpg",nasaCarinaNebulaJpg:"/images/page-cover/nasa_carina_nebula.jpg",nasaEagleInLunarOrbitJpg:"/images/page-cover/nasa_eagle_in_lunar_orbit.jpg",nasaEarthGridJpg:"/images/page-cover/nasa_earth_grid.jpg",nasaEvaDuringSkylab3Jpg:"/images/page-cover/nasa_eva_during_skylab_3.jpg",nasaFingerprintsOfWaterOnTheSandJpg:"/images/page-cover/nasa_fingerprints_of_water_on_the_sand.jpg",nasaGreatSandyDesertAustraliaJpg:"/images/page-cover/nasa_great_sandy_desert_australia.jpg",nasaIbmType704Jpg:"/images/page-cover/nasa_ibm_type_704.jpg",nasaMultiAxisGimbleRigJpg:"/images/page-cover/nasa_multi-axis_gimble_rig.jpg",nasaNewYorkCityGridJpg:"/images/page-cover/nasa_new_york_city_grid.jpg",nasaOrionNebulaJpg:"/images/page-cover/nasa_orion_nebula.jpg",nasaReducedGravityWalkingSimulatorJpg:"/images/page-cover/nasa_reduced_gravity_walking_simulator.jpg",nasaRobertStewartSpacewalk2Jpg:"/images/page-cover/nasa_robert_stewart_spacewalk_2.jpg",nasaRobertStewartSpacewalkJpg:"/images/page-cover/nasa_robert_stewart_spacewalk.jpg",nasaSpaceShuttleChallengerJpg:"/images/page-cover/nasa_space_shuttle_challenger.jpg",nasaSpaceShuttleColumbiaAndSunriseJpg:"/images/page-cover/nasa_space_shuttle_columbia_and_sunrise.jpg",nasaSpaceShuttleColumbiaJpg:"/images/page-cover/nasa_space_shuttle_columbia.jpg",nasaTheBlueMarbleJpg:"/images/page-cover/nasa_the_blue_marble.jpg",nasaTimPeakeSpacewalkJpg:"/images/page-cover/nasa_tim_peake_spacewalk.jpg",nasaTransonicTunnelJpg:"/images/page-cover/nasa_transonic_tunnel.jpg",nasaWrightsFirstFlightJpg:"/images/page-cover/nasa_wrights_first_flight.jpg",rijksmuseumAvercamp1608Jpg:"/images/page-cover/rijksmuseum_avercamp_1608.jpg",rijksmuseumAvercamp1620Jpg:"/images/page-cover/rijksmuseum_avercamp_1620.jpg",rijksmuseumClaesz1628Jpg:"/images/page-cover/rijksmuseum_claesz_1628.jpg",rijksmuseumJanLievens1627Jpg:"/images/page-cover/rijksmuseum_jan_lievens_1627.jpg",rijksmuseumJansz1636Jpg:"/images/page-cover/rijksmuseum_jansz_1636.jpg",rijksmuseumJansz1637Jpg:"/images/page-cover/rijksmuseum_jansz_1637.jpg",rijksmuseumJansz1641Jpg:"/images/page-cover/rijksmuseum_jansz_1641.jpg",rijksmuseumJansz1649Jpg:"/images/page-cover/rijksmuseum_jansz_1649.jpg",rijksmuseumMignons1660Jpg:"/images/page-cover/rijksmuseum_mignons_1660.jpg",rijksmuseumRembrandt1642Jpg:"/images/page-cover/rijksmuseum_rembrandt_1642.jpg",rijksmuseumVermeerTheMilkmaidJpg:"/images/page-cover/rijksmuseum_vermeer_the_milkmaid.jpg",solidBeigePng:"/images/page-cover/solid_beige.png",solidBluePng:"/images/page-cover/solid_blue.png",solidRedPng:"/images/page-cover/solid_red.png",solidYellowPng:"/images/page-cover/solid_yellow.png",woodcuts10Jpg:"/images/page-cover/woodcuts_10.jpg",woodcuts11Jpg:"/images/page-cover/woodcuts_11.jpg",woodcuts13Jpg:"/images/page-cover/woodcuts_13.jpg",woodcuts14Jpg:"/images/page-cover/woodcuts_14.jpg",woodcuts15Jpg:"/images/page-cover/woodcuts_15.jpg",woodcuts16Jpg:"/images/page-cover/woodcuts_16.jpg",woodcuts1Jpg:"/images/page-cover/woodcuts_1.jpg",woodcuts2Jpg:"/images/page-cover/woodcuts_2.jpg",woodcuts3Jpg:"/images/page-cover/woodcuts_3.jpg",woodcuts4Jpg:"/images/page-cover/woodcuts_4.jpg",woodcuts5Jpg:"/images/page-cover/woodcuts_5.jpg",woodcuts6Jpg:"/images/page-cover/woodcuts_6.jpg",woodcuts7Jpg:"/images/page-cover/woodcuts_7.jpg",woodcuts8Jpg:"/images/page-cover/woodcuts_8.jpg",woodcuts9Jpg:"/images/page-cover/woodcuts_9.jpg",woodcutsSekka1Jpg:"/images/page-cover/woodcuts_sekka_1.jpg",woodcutsSekka2Jpg:"/images/page-cover/woodcuts_sekka_2.jpg",woodcutsSekka3Jpg:"/images/page-cover/woodcuts_sekka_3.jpg"},pricing:{pricingEnterpriseV2Png:"/images/pricing/pricing-enterprise-v2.png",pricingEvernoteV2Png:"/images/pricing/pricing-evernote-v2.png",pricingFreeV2Png:"/images/pricing/pricing-free-v2.png",pricingNotionV2Png:"/images/pricing/pricing-notion-v2.png",pricingPersonalReplacesPng:"/images/pricing/pricing-personal-replaces.png",pricingPersonalV2Png:"/images/pricing/pricing-personal-v2.png",pricingProReplacesPng:"/images/pricing/pricing-pro-replaces.png",pricingTeamV2Png:"/images/pricing/pricing-team-v2.png"},replaces:{notesPng:"/images/replaces/notes.png",tasksPng:"/images/replaces/tasks.png",wikisPng:"/images/replaces/wikis.png"},selfRelationSameSvg:"/images/self-relation-same.svg",selfRelationSeparateSvg:"/images/self-relation-separate.svg",slackLogo2XPng:"/images/slack-logo@2x.png",tooltips:{blocks:{boardPng:"/images/tooltips/blocks/board.9871ba45.png",breadcrumbPng:"/images/tooltips/blocks/breadcrumb.f97da35d.png",bulletedListPng:"/images/tooltips/blocks/bulleted-list.f5ded41e.png",calendarPng:"/images/tooltips/blocks/calendar.1f1ea514.png",calloutPng:"/images/tooltips/blocks/callout.ddecacc2.png",codePng:"/images/tooltips/blocks/code.3e33c698.png",dividerPng:"/images/tooltips/blocks/divider.83efad0b.png",filePng:"/images/tooltips/blocks/file.b1a5a073.png",galleryPng:"/images/tooltips/blocks/gallery.bd2ac31c.png",headerPng:"/images/tooltips/blocks/header.2f63ac1a.png",imagePng:"/images/tooltips/blocks/image.110e56e8.png",inlineEmojiPng:"/images/tooltips/blocks/inline-emoji.cd9f350e.png",inlineEquationPng:"/images/tooltips/blocks/inline-equation.b9659320.png",linkToPagePng:"/images/tooltips/blocks/link-to-page.b619dd57.png",listPng:"/images/tooltips/blocks/list.6d087b83.png",mathPng:"/images/tooltips/blocks/math.ea9daec2.png",mentionPagePng:"/images/tooltips/blocks/mention-page.ac6594a0.png",mentionPersonPng:"/images/tooltips/blocks/mention-person.38111a96.png",mentionTimePng:"/images/tooltips/blocks/mention-time.a1ddcd0f.png",numberedListPng:"/images/tooltips/blocks/numbered-list.58fef67f.png",pagePng:"/images/tooltips/blocks/page.0cb37e06.png",quotePng:"/images/tooltips/blocks/quote.cccaeb7a.png",subHeaderPng:"/images/tooltips/blocks/sub-header.4ad81c48.png",subsubheaderPng:"/images/tooltips/blocks/subsubheader.4dec63f8.png",tableOfContentsPng:"/images/tooltips/blocks/table-of-contents.c4a8f939.png",tablePng:"/images/tooltips/blocks/table.be12f0f0.png",templateButtonPng:"/images/tooltips/blocks/template-button.f896222d.png",textPng:"/images/tooltips/blocks/text.87e040db.png",timelinePng:"/images/tooltips/blocks/timeline.ed1d4709.png",toDoListPng:"/images/tooltips/blocks/to-do-list.52a514f9.png",toggleListPng:"/images/tooltips/blocks/toggle-list.fea9d21e.png",videoPng:"/images/tooltips/blocks/video.9ecc399e.png",webBookmarkPng:"/images/tooltips/blocks/web-bookmark.1b453854.png"},pageMenu:{newPageInPng:"/images/tooltips/page-menu/new-page-in.png",newSubpagePng:"/images/tooltips/page-menu/new-subpage.png",turnIntoPng:"/images/tooltips/page-menu/turn-into.png"},pageUpdates:{followPng:"/images/tooltips/page-updates/follow.e0a132cf.png",slackPng:"/images/tooltips/page-updates/slack.b105e4e6.png"},share:{allowCommentsPng:"/images/tooltips/share/allow-comments.41b0c5c5.png",allowDuplicatePng:"/images/tooltips/share/allow-duplicate.be0639d0.png",allowDuplicateV2Png:"/images/tooltips/share/allow-duplicate-v2.c0e391d2.png",allowEditingPng:"/images/tooltips/share/allow-editing.70797afd.png",allowSearchEnginesPng:"/images/tooltips/share/allow-search-engines.451818fa.png",publicPagePng:"/images/tooltips/share/public-page.8f4bb385.png",sharedPng:"/images/tooltips/share/shared.dde8dafe.png",workspacePng:"/images/tooltips/share/workspace.01af2429.png"},types:{checkboxPng:"/images/tooltips/types/checkbox.7080b998.png",createdByPng:"/images/tooltips/types/created-by.2e8a1b92.png",createdTimePng:"/images/tooltips/types/created-time.4e1ef094.png",datePng:"/images/tooltips/types/date.9f6b859a.png",emailPng:"/images/tooltips/types/email.4b0c2a3c.png",filePng:"/images/tooltips/types/file.f6a0cae5.png",formulaPng:"/images/tooltips/types/formula.2f728ad9.png",multiSelectPng:"/images/tooltips/types/multi_select.a8586d55.png",numberPng:"/images/tooltips/types/number.6ec35f46.png",personPng:"/images/tooltips/types/person.8cc03073.png",phoneNumberPng:"/images/tooltips/types/phone-number.6831c3cf.png",relationPng:"/images/tooltips/types/relation.f5c043b2.png",selectPng:"/images/tooltips/types/select.235ad906.png",textPng:"/images/tooltips/types/text.6cdde1be.png",urlPng:"/images/tooltips/types/url.e1402130.png"},upsells:{exportPdfSubpagesPng:"/images/tooltips/upsells/export-pdf-subpages.6e1fbc6d.png",searchEngineIndexingPng:"/images/tooltips/upsells/search-engine-indexing.e5c6961b.png",spaceReadAndWritePng:"/images/tooltips/upsells/space-read-and-write.62e14abe.png",userFullAccessPng:"/images/tooltips/upsells/user-full-access.c4437c4a.png",userReadAndWritePng:"/images/tooltips/upsells/user-read-and-write.398ed1ea.png"},views:{boardPng:"/images/tooltips/views/board.8bfd0505.png",calendarPng:"/images/tooltips/views/calendar.52338499.png",galleryPng:"/images/tooltips/views/gallery.4d7bfca7.png",listPng:"/images/tooltips/views/list.003e7876.png",tablePng:"/images/tooltips/views/table.431b4cc6.png",timelinePng:"/images/tooltips/views/timeline.d471f88d.png"}},twitterEmojiSpritesheet64Png:"/images/twitter-emoji-spritesheet-64.png",twitterLogoPng:"/images/twitter-logo.png",uidoc:{iosKeyboardPng:"/images/uidoc/ios-keyboard.png",iphoneFramePng:"/images/uidoc/iphone-frame.png",iphoneStatusBarPng:"/images/uidoc/iphone-status-bar.png",safariBottomPng:"/images/uidoc/safari-bottom.png",safariBottomReversedPng:"/images/uidoc/safari-bottom-reversed.png",safariTopPng:"/images/uidoc/safari-top.png",teslaJpg:"/images/uidoc/tesla.jpg",trafficLightsPng:"/images/uidoc/traffic-lights.png"}},katex:{fonts:{kaTeXAmsRegularTtf:"/katex/fonts/KaTeX_AMS-Regular.342a61e0.ttf",kaTeXAmsRegularWoff:"/katex/fonts/KaTeX_AMS-Regular.3392cf39.woff",kaTeXAmsRegularWoff2:"/katex/fonts/KaTeX_AMS-Regular.2c50d7a0.woff2",kaTeXCaligraphicBoldTtf:"/katex/fonts/KaTeX_Caligraphic-Bold.b27e354b.ttf",kaTeXCaligraphicBoldWoff:"/katex/fonts/KaTeX_Caligraphic-Bold.9ae9058d.woff",kaTeXCaligraphicBoldWoff2:"/katex/fonts/KaTeX_Caligraphic-Bold.0f0d0935.woff2",kaTeXCaligraphicRegularTtf:"/katex/fonts/KaTeX_Caligraphic-Regular.bd18bae2.ttf",kaTeXCaligraphicRegularWoff:"/katex/fonts/KaTeX_Caligraphic-Regular.f7eb2b22.woff",kaTeXCaligraphicRegularWoff2:"/katex/fonts/KaTeX_Caligraphic-Regular.8a3d1df8.woff2",kaTeXFrakturBoldTtf:"/katex/fonts/KaTeX_Fraktur-Bold.359e1e97.ttf",kaTeXFrakturBoldWoff:"/katex/fonts/KaTeX_Fraktur-Bold.314623ce.woff",kaTeXFrakturBoldWoff2:"/katex/fonts/KaTeX_Fraktur-Bold.e2c9ac85.woff2",kaTeXFrakturRegularTtf:"/katex/fonts/KaTeX_Fraktur-Regular.6b53a2db.ttf",kaTeXFrakturRegularWoff:"/katex/fonts/KaTeX_Fraktur-Regular.98d5da58.woff",kaTeXFrakturRegularWoff2:"/katex/fonts/KaTeX_Fraktur-Regular.a2be00f3.woff2",kaTeXMainBoldItalicTtf:"/katex/fonts/KaTeX_Main-BoldItalic.ca23ba4b.ttf",kaTeXMainBoldItalicWoff:"/katex/fonts/KaTeX_Main-BoldItalic.cd5eb9a8.woff",kaTeXMainBoldItalicWoff2:"/katex/fonts/KaTeX_Main-BoldItalic.09fa2c8f.woff2",kaTeXMainBoldTtf:"/katex/fonts/KaTeX_Main-Bold.ed829b5f.ttf",kaTeXMainBoldWoff:"/katex/fonts/KaTeX_Main-Bold.316611c7.woff",kaTeXMainBoldWoff2:"/katex/fonts/KaTeX_Main-Bold.233f218e.woff2",kaTeXMainItalicTtf:"/katex/fonts/KaTeX_Main-Italic.14ff9c98.ttf",kaTeXMainItalicWoff:"/katex/fonts/KaTeX_Main-Italic.4eee467e.woff",kaTeXMainItalicWoff2:"/katex/fonts/KaTeX_Main-Italic.4dc3271d.woff2",kaTeXMainRegularTtf:"/katex/fonts/KaTeX_Main-Regular.c89c6436.ttf",kaTeXMainRegularWoff:"/katex/fonts/KaTeX_Main-Regular.ab80a08c.woff",kaTeXMainRegularWoff2:"/katex/fonts/KaTeX_Main-Regular.6c094af9.woff2",kaTeXMathBoldItalicTtf:"/katex/fonts/KaTeX_Math-BoldItalic.7b481bb8.ttf",kaTeXMathBoldItalicWoff:"/katex/fonts/KaTeX_Math-BoldItalic.e1a2ff93.woff",kaTeXMathBoldItalicWoff2:"/katex/fonts/KaTeX_Math-BoldItalic.8bdd6092.woff2",kaTeXMathItalicTtf:"/katex/fonts/KaTeX_Math-Italic.f677173e.ttf",kaTeXMathItalicWoff:"/katex/fonts/KaTeX_Math-Italic.68f671df.woff",kaTeXMathItalicWoff2:"/katex/fonts/KaTeX_Math-Italic.1aa96e4e.woff2",kaTeXSansSerifBoldTtf:"/katex/fonts/KaTeX_SansSerif-Bold.362d94c6.ttf",kaTeXSansSerifBoldWoff:"/katex/fonts/KaTeX_SansSerif-Bold.f1cea170.woff",kaTeXSansSerifBoldWoff2:"/katex/fonts/KaTeX_SansSerif-Bold.f9ae4352.woff2",kaTeXSansSerifItalicTtf:"/katex/fonts/KaTeX_SansSerif-Italic.2c742978.ttf",kaTeXSansSerifItalicWoff:"/katex/fonts/KaTeX_SansSerif-Italic.07ffaec6.woff",kaTeXSansSerifItalicWoff2:"/katex/fonts/KaTeX_SansSerif-Italic.e7aabbc7.woff2",kaTeXSansSerifRegularTtf:"/katex/fonts/KaTeX_SansSerif-Regular.6087fc04.ttf",kaTeXSansSerifRegularWoff:"/katex/fonts/KaTeX_SansSerif-Regular.e8735df9.woff",kaTeXSansSerifRegularWoff2:"/katex/fonts/KaTeX_SansSerif-Regular.6f7840dc.woff2",kaTeXScriptRegularTtf:"/katex/fonts/KaTeX_Script-Regular.781730b2.ttf",kaTeXScriptRegularWoff:"/katex/fonts/KaTeX_Script-Regular.ced4ee62.woff",kaTeXScriptRegularWoff2:"/katex/fonts/KaTeX_Script-Regular.5921f5ba.woff2",kaTeXSize1RegularTtf:"/katex/fonts/KaTeX_Size1-Regular.54a80b37.ttf",kaTeXSize1RegularWoff:"/katex/fonts/KaTeX_Size1-Regular.aec6c210.woff",kaTeXSize1RegularWoff2:"/katex/fonts/KaTeX_Size1-Regular.3a5edc16.woff2",kaTeXSize2RegularTtf:"/katex/fonts/KaTeX_Size2-Regular.24cbe093.ttf",kaTeXSize2RegularWoff:"/katex/fonts/KaTeX_Size2-Regular.0d72ed10.woff",kaTeXSize2RegularWoff2:"/katex/fonts/KaTeX_Size2-Regular.96398061.woff2",kaTeXSize3RegularTtf:"/katex/fonts/KaTeX_Size3-Regular.ee3e5bf4.ttf",kaTeXSize3RegularWoff:"/katex/fonts/KaTeX_Size3-Regular.34ab65d6.woff",kaTeXSize3RegularWoff2:"/katex/fonts/KaTeX_Size3-Regular.920b3023.woff2",kaTeXSize4RegularTtf:"/katex/fonts/KaTeX_Size4-Regular.b78c75bb.ttf",kaTeXSize4RegularWoff:"/katex/fonts/KaTeX_Size4-Regular.04dc70fc.woff",kaTeXSize4RegularWoff2:"/katex/fonts/KaTeX_Size4-Regular.83af4078.woff2",kaTeXTypewriterRegularTtf:"/katex/fonts/KaTeX_Typewriter-Regular.90f78c10.ttf",kaTeXTypewriterRegularWoff:"/katex/fonts/KaTeX_Typewriter-Regular.b636fa48.woff",kaTeXTypewriterRegularWoff2:"/katex/fonts/KaTeX_Typewriter-Regular.8073cf01.woff2"},katexMinCss:"/katex/katex.88defe76.min.css"},printCss:"/print.b31f28aa.css",robotsTxt:"/robots.txt",tutorial:{ada1DarkPng:"/tutorial/ada-1-dark.png",ada1Png:"/tutorial/ada-1.png",ada2DarkPng:"/tutorial/ada-2-dark.png",ada2Png:"/tutorial/ada-2.png",ada3DarkPng:"/tutorial/ada-3-dark.png",ada3Png:"/tutorial/ada-3.png",ada4DarkPng:"/tutorial/ada-4-dark.png",ada4Png:"/tutorial/ada-4.png",androidSidebarPng:"/tutorial/android-sidebar.png",emptyAvatarPng:"/tutorial/empty-avatar.png",iosDragAndDropGif:"/tutorial/ios-drag-and-drop.gif",iosNotionWebClipperGif:"/tutorial/ios-notion-web-clipper.gif",iosSidebarGif:"/tutorial/ios-sidebar.gif",mobileEditorGif:"/tutorial/mobile-editor.gif",mobileOfflineJpg:"/tutorial/mobile-offline.jpg",mobileShareSheetAndroidPng:"/tutorial/mobile-share-sheet-android.png",mobileShareSheetIosPng:"/tutorial/mobile-share-sheet-ios.png",mobileSyncMacPng:"/tutorial/mobile-sync-mac.png",mobileSyncSafariPng:"/tutorial/mobile-sync-safari.png",onboardingWikiDarkPng:"/tutorial/onboarding-wiki-dark.png",onboardingWikiPng:"/tutorial/onboarding-wiki.png",simon1DarkPng:"/tutorial/simon-1-dark.png",simon1Png:"/tutorial/simon-1.png",simon2DarkPng:"/tutorial/simon-2-dark.png",simon2Png:"/tutorial/simon-2.png",simon3DarkPng:"/tutorial/simon-3-dark.png",simon3Png:"/tutorial/simon-3.png",simon4DarkPng:"/tutorial/simon-4-dark.png",simon4Png:"/tutorial/simon-4.png",simonHalfDarkPng:"/tutorial/simon-half-dark.png",simonHalfPng:"/tutorial/simon-half.png",simonHalfWhitePng:"/tutorial/simon-half-white.png",simonSpyingDarkPng:"/tutorial/simon-spying-dark.png",simonSpyingPng:"/tutorial/simon-spying.png",webClipperOnboardingPng:"/tutorial/web-clipper-onboarding.png"}}},"5Y2+":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("IzPW"),i=n("RI9y"),s=n("wldR"),l=n("V9q8"),c=n("w5u6"),d=n("DNgp");class u extends s.a{constructor(){super(...arguments),this.root=null,this.isComposing=!1,this.testDiv=document.createElement("div"),this.handleRootMount=e=>{this.root=e},this.handleInput=()=>{const e=a.a(this.environment,this.root);this.props.onMutation&&this.props.onMutation(e),c.default.flush()},this.handleCompositionStart=()=>{const{device:e}=this.environment;e.isAndroid||(this.isComposing=!0,this.props.onCompositionStart&&this.props.onCompositionStart())},this.handleCompositionEnd=()=>{const{device:e}=this.environment;e.isAndroid||(this.isComposing=!1,this.handleInput(),this.props.onCompositionEnd&&this.props.onCompositionEnd())},this.handleBeforeInput=e=>{const{suppressNewlineEvents:t}=this.props;if(!l.e(e))throw new Error("Invalid event");t&&("insertLineBreak"!==e.inputType&&"insertParagraph"!==e.inputType||e.preventDefault())},this.handleSelect=e=>{this.isComposing||this.props.onSelect&&this.props.onSelect(e)}}willMountOrUpdate(e){this.selection=e.getSelection(),this.disabled=e.getDisabled(),this.html=e.getHtml()}didMount(){this.updateContainer(!0),this.root&&l.h&&this.root.addEventListener("beforeinput",this.handleBeforeInput)}didUpdate(){this.updateContainer(!1)}willUnmount(){this.root&&l.h&&this.root.removeEventListener("beforeinput",this.handleBeforeInput)}updateContainer(e){const{device:t}=this.environment;if(this.root&&!this.isComposing){if(e?this.root.innerHTML=this.html:(this.testDiv.innerHTML=this.html,this.root.innerHTML!==this.testDiv.innerHTML&&(this.root.innerHTML=this.html)),this.disabled)return;if(this.selection){const e=a.j(this.environment,this.root,this.selection.startIndex,this.selection.endIndex),n=i.get();a.k(this.environment,n,e)||(t.isAndroid&&document.activeElement!==this.root&&this.root.focus(),i.set(e,t))}else if(!e){const e=i.get(),n=!t.isAndroid||"empty"===d.default.state.mode;e&&e.commonAncestorContainer&&l.f(e.commonAncestorContainer)&&this.root.contains(e.commonAncestorContainer)&&n&&i.clear(this.environment)}}}renderComponent(){const{onClick:e,onContextMenu:t,onKeyDown:n,onDoubleClick:o,onMouseDown:a,onTouchStart:i,placeholder:s,onBlur:l,onFocus:c,onMouseOver:d,onMouseOut:u}=this.props;return r.a.createElement("div",{ref:this.handleRootMount,style:!this.html&&this.props.placeholderStyle?this.props.placeholderStyle:this.props.style,contentEditable:!this.disabled,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,onInput:this.handleInput,spellCheck:this.props.spellCheck,autoCorrect:this.props.autoCorrect,autoCapitalize:this.props.autoCapitalize,onSelect:this.handleSelect,onClick:e,onBlur:l,onFocus:c,onContextMenu:t,onKeyDown:n,onDoubleClick:o,onMouseDown:a,onTouchStart:i,onMouseOver:d,onMouseOut:u,placeholder:s,"data-root":!0,className:this.disabled?"":"notranslate"})}}t.a=u},"5jDe":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("ttM1"),s=n("wlCD");class l extends a.a{renderComponent(){return r.a.createElement(i.a,{show:!0,showDelay:400,showHold:100,render:e=>r.a.createElement("div",{style:l.containerStyle},e&&r.a.createElement(s.a,null))})}}l.containerStyle={display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},t.a=l},"5k6+":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{}}isActive(){return Boolean(this.state.blockStore)}}t.a=new r},"5ma9":function(e,t,n){"use strict";n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return A})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return F}));n("3bBZ");var o=n("QcDD"),r=n("wpmu"),a=n("okm4"),i=n("klxS"),s=n("tvfY"),l=n("sdlW"),c=n("7W+R"),d=n("oqYu"),u=n("nM47"),p=n("E4rx"),h=n("y6Dp"),m=n("6Zdk"),f=n("H4VD"),g=n("hODJ"),b=n("qKs6"),v=n("+LO1"),y=n("zok3"),S=n("HSWF"),w=n("p9C0"),k=n("HHyf"),C=n("VTj5"),M=n("O5tY"),E=n("h2IJ"),_=n("V6+p"),T=n("3+J3"),x=n("HRSx"),I=n("NoAG"),P=n("5/h/"),O=n("NCLm"),B=n("9axl"),L=n("guIK"),R=n("mXKa");function D(e){o.default.setState(o.default.getInitialState());const{id:t}=e.currentUser;(!o.default.state.currentUserStore||t&&t!==o.default.state.currentUserStore.id)&&(t?(C.b(e,t),F(e,t)):o.default.setState({...o.default.state,initialized:!0}))}function A(){const{currentSpaceStore:e}=o.default.getState();return e?e.id:void 0}async function j(e){const{route:t,environment:n}=e,i=o.default.state.currentBlockStore,s=o.default.state.currentCollectionViewStore,c=n.currentUser.id,d=e=>{o.default.state.lastUpdater===d&&o.default.setState({...o.default.state,...e})},h=e=>{o.default.state.lastUpdater===d&&M.a.setState({publicPageData:e})};if(o.default.setState({...o.default.state,lastUpdater:d}),"page"===t.name||"space"===t.name){let e;S.y(t,c);const s=Object(R.getAppRefreshed)();if("page"!==t.name||i&&i.id===t.blockId)"space"===t.name?(e=k.a({environment:n,request:{type:"block-space",...t}}),d({currentBlockStore:void 0,currentLoadingContainerStore:void 0})):i&&i.id===t.blockId&&m.e(n,t.blockId);else{e=k.a({environment:n,request:{type:"block-space",...t}}),f.resetPageState(n),f.resetSidebarState(n),u.b(),f.resetEditorState(n);const{blockId:i}=t,g=new r.a(n,{table:x.a,id:i}),b=new a.a;d({currentBlockStore:g,currentLoadingContainerStore:b});const[y]=await Promise.all([e.next(),o.default.waitUntil(()=>o.default.state.initialized)]),{currentUserSettingsStore:w}=o.default.state,C=y.value;h(C),T.a(n,{block:g,fromPageRefresh:s,pageVisitStore:o.default.state.pageVisitStore,timestamp:Date.now()});const{presenceStore:M,currentUserRootStore:E}=o.default.state;if(p.b({environment:n,rootStore:g,presenceStore:M}),E)if(C.spaceId&&(C.canJoinSpace||C.userHasExplicitAccess)){const e=await l.k({environment:n,userRootStore:E,spaceId:C.spaceId,navigate:!1,analyticsFrom:"redirect",userSettingsStore:w});d({currentSpaceViewStore:e.spaceViewStore,currentSpaceStore:e.spaceViewStore.getSpaceStore()})}else if(!C.spaceId&&o.default.state.currentSpaceStore){const e=await l.k({environment:n,userRootStore:E,spaceId:o.default.state.currentSpaceStore.id,navigate:!1,analyticsFrom:"redirect",userSettingsStore:w});d({currentSpaceViewStore:e.spaceViewStore,currentSpaceStore:e.spaceViewStore.getSpaceStore()})}else o.default.state.currentSpaceViewStore&&d({currentSpaceViewStore:void 0,currentSpaceStore:void 0});C.spaceId&&c&&Object(L.a)({environment:n,spaceId:C.spaceId,userId:c});const{currentSpaceStore:_}=o.default.state;_?(u.g({environment:n,spaceId:_.id}).then(async()=>{await g.load(),N(n,g)}),S.d({currentUserId:c,spaceId:_.id,pageId:i}),v.g(n),m.e(n,i)):C&&C.spaceId&&(await g.load(),N(n,g))}if(e)for await(const t of e)h(t);_.a(n),await g.e(n,o.default.state.currentSpaceViewStore),Object(R.setAppRefreshed)(!1)}const b=s?s.id:void 0;if("page"===t.name&&b!==t.collectionViewId){const e=t.collectionViewId;d({currentCollectionViewStore:e?new y.a(n,{table:I.a,id:e}):void 0})}}async function F(e,t){const n=new s.a(e,{table:P.a,id:t},{userId:t}),r=new w.a(e,{table:O.a,id:t},{userId:t});r.addListener(V);const a=new i.a(e,{table:B.a,id:t},{userId:t});d.registerPushNotifications(e),o.default.setState({...o.default.state,currentUserStore:n,currentUserSettingsStore:r,currentUserRootStore:a,initialized:!1}),await Promise.all([C.a(),c.f(e)]),o.default.setState({...o.default.state,initialized:!0}),Object(b.g)(e)}function V(e){e&&e.state&&e.state.value&&e.state.value.settings&&e.state.value.settings.preferred_locale&&E.a.set("preferredLocale",e.state.value.settings.preferred_locale)}function N(e,t){h.vd(e,{page_id:t.id,is_peek:!1,type:"collection"===t.getParentTable()?"database_page":"page"})}},"5qOl":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},"5qTp":function(e,t,n){"use strict";n.r(t);var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.default=new r},"5w/s":function(e,t,n){"use strict";n.d(t,"h",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"g",(function(){return S})),n.d(t,"i",(function(){return w}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("t3i2"),i=n("wpmu"),s=n("N34Z"),l=n("nFzZ"),c=n("udrG"),d=n("Catn"),u=n("HSWF"),p=n("xe8Q");function h(e){const{stores:t,update:n,transaction:o}=e;for(const r of t)s.d({store:r.getFormatStore(),data:Object(l.l)(n),transaction:o}),r instanceof i.a&&r.getType()===c.a.callout&&n.block_color&&d.a.set({userId:r.environment.currentUser.id,key:u.e,value:n.block_color})}function m(e){const{environment:t,store:n,isLocked:o,transaction:r}=e,{id:a}=t.currentUser;if(!a)return;const i={block_locked:o,block_locked_by:a};s.d({store:n.getFormatStore(),data:i,transaction:r})}function f(e){const{store:t,url:n,position:o,transaction:r}=e;h({stores:[t],update:{page_cover_position:o},transaction:r});const a=t.getCoverStore();a&&s.c({store:a,value:n,transaction:r})}function g(){const e=r.a.sample(["Activities","Objects","Travel & Places"]),t=p.a[e];return r.a.sample(t)}function b(e){const{store:t,transaction:n}=e,o=t.getIconStore();if(o){if(!o.getValue()){const e=g();s.c({store:o,value:e,transaction:n})}}}function v(e){const{store:t,transaction:n}=e,o=t.getCoverStore();if(o){if(!o.getValue()){const e=Object.keys(a.a),i=e[r.a.random(0,e.length-1)],l=a.a[i],c=l.items[r.a.random(0,l.items.length-1)],d=c.coverUrl,u=c.position;s.c({store:o,value:d,transaction:n}),S({store:t,coverPosition:u,transaction:n})}}}function y(e){const{store:t,transaction:n}=e,o=t.getCoverStore();o&&s.c({store:o,value:null,transaction:n})}function S(e){const{store:t,coverPosition:n,transaction:o}=e;if(t.isCollectionView()){const e=t.getCollectionViewCollectionStore();e&&s.d({store:e.getFormatStore(),data:{collection_cover_position:n},transaction:o})}else h({stores:[t],update:{page_cover_position:n},transaction:o})}function w(e){const{store:t,coverPosition:n,transaction:o}=e;h({stores:[t],update:{card_cover_position:n},transaction:o})}},"5xGH":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return p}));var o=n("g90h");const r=Error;class a extends r{constructor(e){super(e.message),this.level=e.level,this.statusCode=e.status,this.name=e.name,this.data=e.data,this.error=e.error,this.body={errorId:Object(o.b)(),name:e.name,message:e.message,clientData:e.clientData},this.stack=e.stack}}function i(e){return p(e)&&void 0!==e.clientData}class s extends Error{constructor(e,t,n){super(e),this.name="QueueApiError",this.data=t,this.clientData=n}}function l(e){return Boolean(e&&"QueueApiError"===e.name&&void 0!==e.clientData)}function c(e){return Boolean(e&&"UserValidationResponse"===e.name&&void 0!==e.clientData)}class d extends a{constructor(e,t={}){super({level:"error",status:400,name:"LogicalError",message:e,data:t.data,error:t.error})}}function u(e){return Boolean(e&&"unsaved_transactions"===e.type&&e.errors.length>0)}function p(e){return"object"==typeof e&&null!==e&&e.errorId&&e.message&&e.name}},"5zFd":function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("wldR"),l=n("WgIs"),c=n("i3uR"),d=n("g4rC"),u=n("RBMm"),p=n("gbGO"),h=n("2Y+N"),m=n("nPEg");class f extends s.a{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:d.a},this.renderPopup=e=>{const{device:t}=this.environment,{items:n}=this.props,o=[];if(this.itemsHasSections(n))n.forEach((t,n)=>{const r=this.sectionFromItems(t,n,e);o.push(r)});else{const t=this.sectionFromItems(n,0,e);o.push(t)}const a=i.a.createElement(l.a,{type:l.a.Type.Vertical,initialFocus:r.a.findIndex(r.a.flatten(n),e=>r.a.isEqual(e,this.props.selectedItem)),sections:o});let s;return s=t.isMobile?this.props.mobileActionSheet?{menuType:p.b.MenuType.ActionSheet}:{menuType:p.b.MenuType.Modal,title:this.props.menuTitle,right:i.a.createElement(m.DoneMenuText,null),onClickRight:e.close}:{menuType:p.b.MenuType.Popup,width:this.props.width||160},i.a.createElement(p.b,Object.assign({},s),a)}}willMount(){this.props.openInitially&&this.stores.buttonPopupStore.setState({open:!0})}renderComponent(){const{device:e}=this.environment;return i.a.createElement(c.a,{popupType:e.isMobile?c.a.PopupType.SlideUp:c.a.PopupType.Popup,renderOrigin:this.props.renderOrigin,buttonPopupStore:this.stores.buttonPopupStore,placementToOrigin:u.b.Bottom,render:this.renderPopup,disabled:this.props.disabled,originGap:this.props.originGap})}handleSelect(e){this.props.selectedItem!==e&&this.props.onSelect(e)}itemsHasSections(e){return e.length>0&&e[0]instanceof Array}sectionFromItems(e,t,n){return{key:0,render:e=>i.a.createElement(h.a,Object.assign({},e,{key:t,topBorder:t>0})),items:e.map(e=>({key:this.props.getKey(e),render:t=>this.props.renderItem({...t,value:e,key:this.props.getKey(e),selectedItem:this.props.selectedItem}),action:()=>{this.handleSelect(e),n.close()}}))}}}t.a=f},"622O":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return S}));n("UxlC"),n("SYor");var o=n("LvDl"),r=n.n(o),a=n("g90h"),i=(n("cBa6"),n("S26v"));const s=["A4","A3"],l=["Letter","Legal","Tabloid"],c=(s.concat(l),function(e){const t=i.e(e);if(t.pathname){const e=t.pathname.split("/"),n=e[2],o=e.slice(3).join("-"),r=o.indexOf(".");return"".concat(o.substring(0,r),"-").concat(n).concat(o.substring(r))}}),d=function(e,t){return Boolean(e&&(e.startsWith(t)||e.replace("s3.","s3-").startsWith(t)))},u={"image/fits":!0,"image/ief":!0,"image/jp2":!0,"image/jpeg":!0,"image/jpg":!0,"image/jpm":!0,"image/jpx":!0,"image/png":!0,"image/tiff":!0,"image/tif":!0,"image/heic":!0,"image/x-icon":!0},p={heic:!0,ico:!0,jpeg:!0,jpg:!0,png:!0,tif:!0,tiff:!0},h=function(e){const t=(b(e)||"").toLowerCase();return!(!p[t]&&!u["image/".concat(t)])},m=function(e){return e.startsWith("https://images.unsplash.com/")},f=function(e,t){const n=i.e(e);return i.d({url:"https://images.unsplash.com".concat(n.pathname),query:{...n.query,w:(3*Math.max(400*Math.round(t/400),400)).toString()}})},g=function(e,t,n,o){if(d(e,n)){const n=function(e){const t=i.e(e);if(t.pathname){const e=t.pathname.split("/");if(Object(a.f)(e[2]))return e[2]}}(e),r=function(e){const t=i.e(e);if(t.pathname){return t.pathname.split("/").slice(2).join("/")}}(e);if(n&&r&&(!o||t&&t.indexOf(n)>=0)){return{id:n,url:e}}}};function b(e){const t=i.e(e);if(!t.href)return;if(!t.pathname)return;const n=r.a.last(t.pathname.split("/"));if(!n)return;const o=n.split(".");return 1===o.length?"":o[o.length-1]}const v=function(e){const t=e.lastIndexOf(".");return t>=0?e.substring(0,t):e},y=function(e){const t=i.e(e);if(t.pathname){const e=t.pathname.substring(t.pathname.lastIndexOf("/")+1);if(e)return e}return""},S=function(e){let t=e.title||y(e.source)||e.source;if(e.title){const n=b(e.source),o=b(t.replace("#",""));n&&n!==o&&(t+=".".concat(n))}return t}},"62KP":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{contacts:!1}}}t.a=r},"6BTz":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"b",(function(){return S}));n("UxlC");var o=n("qJBq"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("72Qr"),l=n.n(s);const c="number",d=["number","number_with_commas","percent","dollar","euro","pound","yen","ruble","rupee","won","yuan","real","lira","rupiah"],u={dollar:"$",euro:"€",pound:"£",yen:"¥",ruble:"₽",rupee:"₹",won:"₩",yuan:"¥",real:"R$",lira:"₺",rupiah:"Rp"},p={dollar:"USD",euro:"EUR",pound:"GBP",yen:"JPY",ruble:"RUB",rupee:"INR",won:"KRW",yuan:"CNY",real:"BRL",lira:"TRY",rupiah:"IDR"},h=["yen","won"],m=/[^0-9\.\,\ \-eE]/g,f=/[^0-9\.\-eE]/g,g=/(e\-|E\-)/g;function b(e,t,n){if(!i.a.isNumber(e)||isNaN(e))return"";if("percent"===t)return"".concat(i.a.round(100*e,12),"%");if(t&&u.hasOwnProperty(t))return n.formatNumber(e,{style:"currency",currencyDisplay:"symbol",currency:p[t]});if("number_with_commas"===t)return l()({})(e);if("bytes"===t)return function(e,t){if(0===e)return"0 bytes";const n=t<0?0:t,o=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,o)).toFixed(n))," ").concat(["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][o])}(e,2);{const t=e.toString();if(t.match(g)){const n=parseInt(t.split(g)[2],10);if(n<20){return e.toFixed(n)}return"".concat(e)}return"".concat(e)}}function v(e){if(!e)return;if(-1!==e.indexOf("-Infinity"))return Number.NEGATIVE_INFINITY;if(-1!==e.indexOf("Infinity"))return Number.POSITIVE_INFINITY;const t=e.replace(m,""),n=t.match(/\d(\.| )\d{3}\,\d+$/);if(n||t.match(/\,\d{2}$/)){const e=n&&n[1]?{thousands:n[1]}:{},o=r()(t,{...e,decimal:","});return isNaN(o)?void 0:o}const o=t.replace(f,""),a=r()(o);if(isNaN(a)){const e=Number.parseFloat(o);return isNaN(e)?void 0:e}return a}function y(e){const t=e.replace(/(\d)( |_)(\d\d\d)/g,"$1$3");if(/^\d+(\.\d+)?%$/.test(t))return{format:"percent",value:parseFloat(t)/100};const n=Object.keys(u).find(e=>t[0]===u[e]);if(n){const e=Number(t.slice(1));if(!i.a.isNaN(e))return{format:n,value:e}}else if(t.indexOf("0x")<0&&t.indexOf("/")<0&&t.indexOf(":")<0&&t.indexOf("-")<=0){const e=Number(t);if(!i.a.isNaN(e))return{format:"number",value:e}}}const S=function(e){const{amount:t,currency:n,alwaysShowCents:o,intl:r}=e,a=t/(h.includes(n)?1:100);let i=b(Math.abs(a),n,r);return!o&&i.endsWith(".00")&&(i=i.slice(0,-".00".length)),a<0&&(i="(".concat(i,")")),i}},"6BvA":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{}}isActive(){return Boolean(this.state.blockStore)}}t.a=new r},"6CqZ":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return h}));n("3bBZ");var o=n("fIr1"),r=n("g90h"),a=n("nFzZ"),i=n("rE/H"),s=n.n(i);const l=a.j({space_id:!0,navigable_block_id:!0,collection_id:!0,mentioned_user_id:!0,mentioned_block_id:!0,mentioned_property:!0,top_level_block_id:!0,collection_row_id:!0,discussion_id:!0,invited_user_id:!0,collection_property_id:!0,collection_view_id:!0,reminder_block_id:!0,reminder_property:!0,permission_group_id:!0,access_request_id:!0}),c=["space_id","navigable_block_id","collection_id","mentioned_user_id","mentioned_block_id","mentioned_property","collection_row_id","top_level_block_id","invited_user_id"];function d(e){const t=a.o(e,l),n=c.map(e=>t[e]),o=a.n(t,c),i=a.j(o);i.sort();const s=i.map(e=>t[e]),{type:d,index:u}=e,p=[d,...n,u,...s].filter(Boolean).join("");return Object(r.c)(p)}function u(e){const t={};for(const o of l){const n=e[o];null!=n&&(t[o]=n)}const n=s()(t);return Object(r.c)(n)}const p={"block-created":"block-edited","block-deleted":"block-edited","block-changed":"block-edited","permission-created":"permissions-edited","permission-deleted":"permissions-edited","permission-changed":"permissions-edited","permission-restriction-created":"permissions-edited","permission-restriction-deleted":"permissions-edited","permission-group-created":"permission-group-edited","permission-group-deleted":"permission-group-edited","permission-group-changed":"permission-group-edited","top-level-block-created":"top-level-block-created","top-level-block-deleted":"top-level-block-deleted","collection-row-created":"collection-row-created","collection-row-deleted":"collection-row-deleted","mention-created":"user-mentioned","mention-deleted":"user-mentioned","comment-created":"commented","comment-changed":"commented","comment-deleted":"commented","user-invited":"user-invited","collection-created":"collection-edited","collection-changed":"collection-edited","collection-property-created":"collection-property-edited","collection-property-deleted":"collection-property-edited","collection-property-changed":"collection-property-edited","collection-view-created":"collection-view-edited","collection-view-deleted":"collection-view-edited","collection-view-changed":"collection-view-edited","reminder-created":"reminder","page-locked":"page-locked","page-unlocked":"page-unlocked","email-changed":"email-edited","access-requested":"access-requested"},h="activity",m={table:h,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,index:o.a.Number,start_time:o.a.String,end_time:o.a.String,space_id:o.a.UUID,navigable_block_id:o.a.UUID,collection_id:o.a.UUID,mentioned_user_id:o.a.UUID,mentioned_block_id:o.a.UUID,mentioned_property:o.a.String,top_level_block_id:o.a.UUID,discussion_id:o.a.UUID,invited_user_id:o.a.UUID,collection_row_id:o.a.UUID,collection_view_id:o.a.UUID,collection_property_id:o.a.String,reminder_block_id:o.a.UUID,reminder_property:o.a.String,permission_group_id:o.a.UUID,access_request_id:o.a.UUID,type:o.a.String,edits:o.a.JSON,invalid:o.a.Boolean,parent_table:o.a.String,parent_id:o.a.UUID,shard_id:o.a.Number,context_id:o.a.UUID,in_log:o.a.Boolean}};t.c=m},"6SEd":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fIr1");const r="collection",a={table:r,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,name:o.a.JSON,description:o.a.JSON,icon:o.a.String,cover:o.a.String,schema:o.a.JSON,format:o.a.JSON,parent_id:o.a.UUID,parent_table:o.a.String,alive:o.a.Boolean,file_ids:o.a.StringArray,template_pages:o.a.StringArray,copied_from:o.a.UUID,migrated:o.a.Boolean,space_id:o.a.UUID},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0},defaultColumnValues:{alive:!1}};t.b=a},"6WtK":function(e,t,n){"use strict";n("3bBZ"),n("Junv");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("y6Dp"),l=n("UWAZ"),c=n("X4ZB"),d=n("/YYm"),u=n("hbKx"),p=n("OxuQ"),h=n("i3uR"),m=n("wldR"),f=n("Oy36"),g=n("AOw3"),b=n("gbGO"),v=n("WgIs"),y=n("sbdd"),S=n("H4VD"),w=n("2Y+N"),k=n("d9nj"),C=n("prF1"),M=n("MBf9"),E=n("40tV"),_=n("Sb6f"),T=n("MeYt"),x=n("J9+s"),I=n("nPEg");class P extends m.a{constructor(){super(...arguments),this.renderPageButton=e=>{const{device:t}=this.environment,{store:n,showDivider:a}=e,i=Object(d.a)({store:n,fullyQualified:!1});return r.a.createElement(o.Fragment,{key:n.id},r.a.createElement(g.a,{store:n,canDropOnto:n.canEdit(),onSelectableDrop:e=>{const{droppedDirection:t,droppedStores:o,duplicate:r}=e;M.createAndCommit(this.environment,e=>l.a({environment:this.environment,targetParentStore:n.getContentStore(),targetStore:n,droppedDirection:t,droppedStores:o,duplicate:r,transaction:e}))},style:{display:"flex",alignItems:"center",minWidth:0},analyticsName:"breadcrumb",shouldShowDropZone:!0},r.a.createElement(C.a,{style:{display:"flex",minWidth:0},href:i,external:!1},r.a.createElement(k.a,{style:{fontSize:"inherit"},isSmall:!0,shouldShrink:!0,mobileFeedback:t.isMobile},this.renderPageIconAndTitle(n)))),a&&this.renderBreadcrumbDivider())},this.handleCurrentPageMount=e=>{this.comp=e},this.handleClickCurrentPage=()=>{const{store:e}=this.props;if(!this.comp)return;const t=i.a.findDOMNode(this.comp);if(!t)return;if(!(t instanceof Element))return;const n=t.getBoundingClientRect();c.b({blockStore:e,originRect:n}),s.Pc(this.environment)}}renderComponent(){const{store:e}=this.props,t=e.getTitleStore();if(t&&t.isReady())return r.a.createElement("div",{style:this.getStyle(),className:"notranslate"},this.renderAncestors(),this.renderCurrentPage())}renderCurrentPage(){if(this.props.showCurrentPageControls)return this.renderCurrentPageWithControls();{const{store:e,isMobile:t}=this.props;if(t){const t=u.d(e),n=0===(e.isNavigableBlock()?t.slice(1):[...t]).length;return this.renderReadOnlyPage({store:e,showDivider:!1,ignoreMaxLength:n})}return this.renderReadOnlyPage({store:e,showDivider:!1})}}renderAncestors(){const{store:e,maxAncestorCount:t}=this.props,n=u.d(e),o=e.isNavigableBlock()?n.slice(1):[...n];return o.reverse(),n.reverse(),o.length>t?[this.renderPageButton({store:o[0],showDivider:!this.props.isMobile}),this.renderBlocksAsPopup(this.props.isMobile?n:o.slice(1,o.length-t+1)),...o.slice(o.length-t+1).map(e=>this.renderPageButton({store:e,showDivider:!0}))]:o.map(e=>this.renderPageButton({store:e,showDivider:!0}))}renderReadOnlyPage(e){const{store:t,showDivider:n,ignoreMaxLength:o}=e;return r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexShrink:1,marginLeft:6,minWidth:0}},this.renderPageIconAndTitle(t,o),n&&this.renderBreadcrumbDivider())}renderPageIconAndTitle(e,t){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",minWidth:0}},e.hasIcon()&&r.a.createElement(f.a,{disabled:!0,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:this.getIconSize(),style:P.iconStyle}),r.a.createElement(p.a,{store:e,style:{maxWidth:t?"none":this.props.ancestorMaxWidth}}))}renderCurrentPageWithControls(){const{store:e}=this.props;if(!e.state.ready)return null;const t=e.canEdit(),n=e.isLocked();return r.a.createElement(k.a,{shouldShrink:!0,onClick:this.handleClickCurrentPage,disabled:!t||n,isSmall:!0},e.hasIcon()&&r.a.createElement(f.a,{disabled:!0,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:this.getIconSize(),style:{marginRight:6}}),r.a.createElement(p.a,{ref:this.handleCurrentPageMount,store:e,style:{maxWidth:this.props.currentPageMaxWidth}}))}getMenuListSections(e){return[{key:"results",render:e=>r.a.createElement(w.a,Object.assign({},e)),items:e.map((e,t)=>({key:e.id,render:n=>r.a.createElement(y.a,Object.assign({},n,{isSubpage:0!==t,store:e,hidePath:!0})),action:({event:t})=>{S.navigateToBlock({environment:this.environment,store:e,metaClick:t.ctrlKey||t.metaKey,visitType:E.c.Link})}}))}]}renderBlocksAsPopup(e){return r.a.createElement(h.a,{popupType:this.props.isMobile?h.a.PopupType.SlideUp:h.a.PopupType.Popup,key:"pages-popup",renderOrigin:e=>this.props.isMobile?r.a.createElement(T.a,Object.assign({style:{...P.dividerWrapStyle},mobileFeedback:!0},e),this.renderBreadcrumbDivider(),r.a.createElement("div",{style:{marginLeft:8,marginRight:8}},"..."),this.renderBreadcrumbDivider()):r.a.createElement("div",{style:P.dividerWrapStyle},r.a.createElement(k.a,Object.assign({isSmall:!0},e),"..."),this.renderBreadcrumbDivider()),render:t=>{let n;return n=this.props.isMobile?{menuType:b.b.MenuType.Modal,title:r.a.createElement(x.FormattedMessage,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:r.a.createElement(I.DoneMenuText,null),onClickRight:t.close}:{menuType:b.b.MenuType.Popup,width:240},r.a.createElement(b.b,Object.assign({},n),r.a.createElement(v.a,{type:v.a.Type.Vertical,onAccept:t.close,initialFocus:void 0,sections:this.getMenuListSections(e)}))}})}renderBreadcrumbDivider(){return r.a.createElement("span",{style:{marginLeft:2,marginRight:2,color:this.theme.lightTextColor}},"/")}getIconSize(){return this.props.isMobile?24:20}getStyle(){return{display:"flex",alignItems:"center",lineHeight:1.2,fontSize:this.props.isMobile?_.a.fontSize.UIRegular.mobile:_.a.fontSize.UIRegular.desktop,...this.props.style}}}P.iconStyle={marginRight:6},P.dividerWrapStyle={display:"flex",alignItems:"center",flexShrink:0},t.a=P},"6Zdk":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return k}));n("3bBZ");var o=n("Wae9"),r=n("bkwR"),a=n("VBxf"),i=n("MBf9"),s=n("QcDD"),l=n("vJXr"),c=n("A9TN"),d=n("bPtJ"),u=n("mcFc"),p=n("JgyA"),h=n("J9+s"),m=n("vl8/");const f=Object(h.defineMessages)({archiveError:{id:"notificationActions.archiveNotificationsError.message",defaultMessage:"Something went wrong."}});async function g(e){const t=p.a.state.currentTab,{currentSpaceStore:n}=s.default.state;n&&!c.default.isAdminMode&&Object(p.b)(t)&&(await r.setNotificationsAsRead(e,{spaceId:n.id,timestamp:Date.now(),type:t}),b(t,n.id,()=>0))}function b(e,t,n){const{results:r}=o.a.state,a=r.map(o=>o.spaceId===t?{...o,unread:{...o.unread,[e]:n(o.unread[e])}}:o);o.a.setState({results:a})}async function v(e,t){const{currentSpaceStore:n}=s.default.state;if(n&&!c.default.isAdminMode){for(;;){if(!(await y({environment:e,currentSpaceStore:n,inbox:t})).more)break}b(t,n.id,e=>0)}}async function y(e){const{environment:t,currentSpaceStore:n,inbox:o}=e,s=await r.getUnvisitedNotificationIds(t,{spaceId:n.id,timestamp:Date.now(),type:o,size:500});if("failed"===s.type)return a.showErrorMessage(m.default.formatMessage(f.archiveError)),{more:!1};const{notificationIds:l}=s.data;return await async function(e){const{environment:t,notificationIds:n,rootStore:o}=e,r=i.create(t);for(const a of n)w({transaction:r,rootStore:o,visited:!0,notificationId:a});await i.commit({environment:t,transaction:r,canUndo:!0,undoCheckpoint:!0})}({environment:t,notificationIds:l,rootStore:n}),l.length>=500?{more:!0}:{more:!1}}function S(e){const{notification:t,rootStore:n,transaction:o}=e;if(!t.visited&&(w({notificationId:t.id,rootStore:n,transaction:o,visited:!0}),!t.read)){b(u.b[t.type],t.space_id,e=>e-1)}}function w(e){const{transaction:t,notificationId:n,rootStore:o,visited:r}=e,a=Object(d.c)(o,{table:u.a,id:n});i.addOperation({transaction:t,store:a,operation:{command:"update",pointer:{table:u.a,id:n},path:[],args:r?{visited:!0,read:!0}:{visited:!1}}})}async function k(e,t){const{currentSpaceStore:n}=s.default.state;n&&l.a.state.online&&!c.default.isAdminMode&&await r.setPageNotificationsAsRead(e,{timestamp:Date.now(),spaceId:n.id,navigableBlockId:t})}},"6d3V":function(e,t,n){"use strict";n("3bBZ"),n("4Brf");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("njgS"),l=n("zmp8");class c extends r.a.PureComponent{render(){const{created:e,deleted:t}=this.props;return r.a.createElement("div",{style:this.getStyle(Boolean(e))},r.a.createElement("div",{style:this.getLabelStyle()},this.props.title),r.a.createElement("div",{style:{...t&&{opacity:.4,marginBottom:6,textDecoration:"line-through"}}},this.props.children))}getStyle(e){return{boxShadow:"inset 0 0 0 1px ".concat(this.props.theme.regularDividerColor),borderRadius:3,padding:"6px 8px",fontSize:14,overflow:"hidden",flexGrow:1,marginTop:4,marginBottom:4,...e&&{color:l.g.diffTextColor,backgroundColor:l.g.diffBackground}}}getLabelStyle(){return{fontSize:12,lineHeight:1,marginTop:2,marginBottom:4,color:this.props.theme.regularTextColor}}}var d=c,u=n("IzPW"),p=n("CARr"),h=n("mF3+"),m=n("GojS"),f=n("wpmu"),g=n("tvfY"),b=n("fB7H"),v=n("D2XV"),y=n("wldR"),S=n("HRSx"),w=n("922z"),k=n("5/h/"),C=n("G+Ai"),M=n("I8ZR"),E=n("Sb6f"),_=n("J9+s"),T=n("tzmq");class x extends y.a{constructor(){super(...arguments),this.renderRelation=(e,t)=>{const n=this.getPageTitle(e);return r.a.createElement("div",{key:t,style:{maxWidth:180,...E.a.textOverflowStyle}},u.l({environment:this.environment,textValue:n,parentStore:this.props.rootStore,disableHover:!0,disableStyleAnnotations:!1,disableDateStyleAnnotations:!1,disabled:!0,theme:this.theme,emojiType:Object(T.a)(this.environment),katex:this.environment.KatexStore.getKatex()}))},this.getUserValue=e=>g.a.createChildStore(this.props.rootStore,{table:k.a,id:e}).getValue(),this.getRecordValue=w.c.fromPlainFunctionUnsafe(({table:e,id:t})=>e===S.a?this.getBlockValue(t):void 0),this.getRenderableTextValue=()=>{const{value:e,propertySchema:t}=this.props;if("text"===t.type||"title"===t.type)return e;if("relation"===t.type){const e=this.getRelationValue();if(!e)return;const t=e.map(this.getPageTitle);return i.a.flatten(t)}},this.getPageTitle=e=>{const t=this.getBlockValue(e);return t&&t.properties&&t.properties.title||[]}}willMountOrUpdate(){const{propertySchema:e}=this.props;"text"!==e.type&&"title"!==e.type&&"relation"!==e.type||this.environment.KatexStore.loadIfNeeded(this.getRenderableTextValue)}renderComponent(){const{value:e}=this.props,t=this.props.propertySchema.type;return"checkbox"!==t&&0===e.length?this.renderEmptyProperty():"text"===t?this.renderTextProperty():"checkbox"===t?this.renderCheckboxProperty():"multi_select"===t?this.renderMultiSelectProperty():"select"===t?this.renderSelectProperty():"person"===t?this.renderPersonProperty():"number"===t?this.renderNumberProperty():"date"===t?this.renderDateProperty():"url"===t?this.renderUrlProperty():"file"===t?this.renderFileProperty():"email"===t?this.renderEmailProperty():"phone_number"===t?this.renderPhoneNumberProperty():"title"===t?this.renderTextProperty():"created_time"===t?this.renderDateProperty():"created_by"===t?this.renderPersonProperty():"relation"===t?this.renderRelationProperty():null}renderEmptyProperty(){return r.a.createElement("div",{style:{color:this.theme.mediumTextColor,fontSize:12}},r.a.createElement(_.FormattedMessage,{defaultMessage:"Empty",id:"editProperty.emptyProperty.label"}))}renderTextProperty(){const{value:e}=this.props,t=u.l({environment:this.environment,textValue:e,parentStore:this.props.rootStore,disableStyleAnnotations:!1,disableDateStyleAnnotations:!1,disableHover:!0,disabled:!0,theme:this.theme,emojiType:Object(T.a)(this.environment),katex:this.environment.KatexStore.getKatex()});return r.a.createElement("span",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}},t)}renderCheckboxProperty(){const e=p.n(this.props.value);return r.a.createElement("div",{style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,backgroundColor:e?l.g.blue:l.g.transparent}},e?this.getCheckedIcon():this.getUncheckedIcon())}renderMultiSelectProperty(){const e=this.props.propertySchema.options||[],t=p.q(this.props.value,e);return r.a.createElement("div",{style:{display:"inline-flex"}},t.map((t,n,o)=>{const a=e.find(e=>e.value===t),i=o.length-1===n,s=this.theme.selectColors[a&&a.color||"default"];return r.a.createElement(I,{color:s,key:t,rightMargin:!i},t)}))}renderSelectProperty(){const e=this.props.propertySchema.options||[],t=p.u(this.props.value,e),n=e.find(e=>e.value===t),o=this.theme.selectColors[n&&n.color||"default"];return r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement(I,{color:o},t))}renderPersonProperty(){const e=p.s(this.props.value),t=[];return e.forEach((n,o)=>{const a=e.length-1===o;if(n.table===k.a){const e=n.id,i=this.getUserValue(e);t.push(r.a.createElement("div",{key:o,style:{marginTop:4,marginRight:a?0:8}},r.a.createElement(m.a,{userValue:i,inline:!0,avatarSize:18,style:{fontSize:12},avatarShouldShowShadow:!0})))}else{const e=n.id,i=this.getRecordValue({table:C.a,id:e});t.push(r.a.createElement("div",{key:o,style:{marginTop:4,marginRight:a?0:8}},r.a.createElement(M.a,{botValue:i})))}}),r.a.createElement("div",{style:{display:"inline-flex"}},t)}renderNumberProperty(){const e=p.r(this.props.value);return r.a.createElement("div",null,e)}renderDateProperty(){const e=this.props.propertySchema,t=p.o(this.props.value);return r.a.createElement(b.a,{value:t,dateFormat:e.date_format||v.v,timeFormat:e.time_format||v.x})}renderUrlProperty(){return p.v(this.props.value)}renderFileProperty(){const e=p.p(this.props.value);return r.a.createElement("div",{style:{display:"inline-flex"}},e.map((e,t,n)=>{const o=n.length-1===t;return r.a.createElement(I,{rightMargin:!o,key:t},e.url)}))}renderEmailProperty(){const e=p.v(this.props.value);return r.a.createElement("div",null,e)}renderPhoneNumberProperty(){const e=p.v(this.props.value);return r.a.createElement("div",null,e)}renderRelationProperty(){let e=this.getRelationValue();if(!e)return;if(e.length>5){const t=e.slice(5).length;return e=e.slice(0,5),r.a.createElement("div",null,e.map(this.renderRelation),r.a.createElement("div",{style:{maxWidth:180,color:this.theme.mediumTextColor}},r.a.createElement(_.FormattedMessage,{defaultMessage:"{leftoverCountNumber} more",id:"editProperty.relationEditedProperties.moreCount.label",description:"Indicates how many other (unshown) properties were edited on this relation property update.",values:{leftoverCountNumber:t}})))}return r.a.createElement("div",null,e.map(this.renderRelation))}getBlockValue(e){return f.a.createChildStore(this.props.rootStore,{table:S.a,id:e}).getValue()}getRelationValue(){if("relation"===this.props.propertySchema.type)return p.j({relationValue:p.t(this.props.value),getRecordValue:this.getRecordValue,propertySchema:this.props.propertySchema})}getCheckedIcon(){return h.a.check({fill:l.g.white,width:12,height:12})}getUncheckedIcon(){return h.a.checkboxSquare()}}class I extends y.a{renderComponent(){const{children:e,color:t,rightMargin:n}=this.props;return r.a.createElement("div",{style:{backgroundColor:t,color:this.theme.regularTextColor,display:"inline-flex",alignItems:"center",fontSize:12,height:18,paddingLeft:8,paddingRight:8,borderRadius:3,marginRight:n?4:0}},r.a.createElement("span",{style:{...E.a.textOverflowStyle}},e))}}var P,O=x,B=n("cBa6"),L=n("UV07"),R=n.n(L),D=n("rE/H"),A=n.n(D),j=n("VhAz");function F(e){const{before:t,after:n}=e,o={count:0,encoding:{},decoding:{},annotationEncoding:{},annotationDecoding:{}},r=e=>{const t=o.encoding[e];if(t)return t;{const t=String.fromCharCode(o.count);return o.count++,o.encoding[e]=t,o.decoding[t]=e,t}},a=e=>{const t=A()(e),n=o.annotationEncoding[t];if(n)return n;{const n=String.fromCharCode(o.count);return o.count++,o.annotationEncoding[t]=n,o.annotationDecoding[n]=e,n}},s=e=>i.a.flatten(B.hb(e).map(e=>{const t=i.a.toArray(e[0]).map(r);if(B.yb(e)){const n=B.db(e),o=B.B(n);o&&(t[0]=a({type:"mention",value:o}),n.forEach(e=>{B.xb(e)||B.sb(e)||B.Bb(e)||(t.unshift(a({type:"start",value:e})),t.push(a({type:"end",value:e})))}))}else if(B.tb(e)){const n=B.db(e),o=B.z(n);if(o){t[0]=a({type:"equation",value:o});for(const e of n)B.xb(e)||B.sb(e)||B.Bb(e)||(t.unshift(a({type:"start",value:e})),t.push(a({type:"end",value:e})))}}else if(B.ob(e)){B.db(e).forEach(e=>{t.unshift(a({type:"start",value:e})),t.push(a({type:"end",value:e}))})}return t})).join("");if(o.count>65535)throw new Error("This string has way too many different characters.");const l=function(e,t){const n=new R.a({timeout:2,editCost:6}),o=n.main(t,e);return n.cleanupSemantic(o),o}(s(n),s(t)),c=[];let d=[];return l.forEach(([e,t])=>{t.split("").forEach(t=>{if(o.decoding[t]){const n=o.decoding[t];e===P.added?c.push([n,[...d,["+"]]]):e===P.removed?c.push([n,[...d,["-"]]]):e===P.same&&c.push([n,d])}else{const n=o.annotationDecoding[t];if(e===P.added)if("mention"===n.type)c.push([B.Gb,[...d,["+"],n.value]]);else if("start"===n.type)d=[...d,n.value];else if("end"===n.type)d=d.filter(e=>!i.a.isEqual(e,n.value));else if("equation"===n.type){const e=B.N(n.value),t=B.f(e,[...d,["+"]]);c.push(t)}else Object(j.e)(n);else if(e===P.removed){if("mention"===n.type)c.push([B.Gb,[...d,["-"],n.value]]);else if("equation"===n.type){const e=B.N(n.value),t=B.f(e,[...d,["-"]]);c.push(t)}}else if(e===P.same)if("mention"===n.type)c.push([B.Gb,[...d,n.value]]);else if("start"===n.type)d=[...d,n.value];else if("end"===n.type)d=d.filter(e=>!i.a.isEqual(e,n.value));else if("equation"===n.type){const e=B.N(n.value),t=B.f(e,d);c.push(t)}else Object(j.e)(n)}})}),B.Jb(c)}!function(e){e[e.removed=-1]="removed",e[e.added=1]="added",e[e.same=0]="same"}(P||(P={}));class V extends y.a{render(){const{type:e}=this.props.propertySchema;return"text"===e||"title"===e?this.renderTextDiff():this.renderArrowPropertyDiff()}renderTextDiff(){const e=F({before:this.props.beforeValue,after:this.props.afterValue});return this.renderProperty(e)}renderArrowPropertyDiff(){const{beforeValue:e,afterValue:t}=this.props;return r.a.createElement("div",{style:V.arrowDiffWrapStyle},this.renderProperty(e),this.renderArrow(),this.renderProperty(t))}renderProperty(e){return r.a.createElement(O,{value:e,propertySchema:this.props.propertySchema,rootStore:this.props.rootStore})}renderArrow(){return r.a.createElement("div",{style:{padding:"0px 8px"}},h.a.historyForward({width:14,height:14,fill:this.theme.mediumIconColor}))}}V.arrowDiffWrapStyle={display:"inline-flex",alignItems:"center"};var N=V,U=n("Oy36");class z extends y.a{constructor(){super(...arguments),this.renderEdit=()=>{const{edit:e,formatProperty:t}=this.props,n=e.block_data.before.block_value.format&&e.block_data.before.block_value.format[t],o=e.block_data.after.block_value.format&&e.block_data.after.block_value.format[t];switch(t){case"page_icon":return this.renderPageIconUpdatedEdit(n,o)}},this.renderPageIconUpdatedEdit=(e,t)=>{const{edit:n}=this.props;if(e||t)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",color:this.theme.lightTextColor,fontSize:12,lineHeight:1,marginBottom:8}},h.a.random({width:12,height:12,marginRight:6}),r.a.createElement(_.FormattedMessage,{id:"editFormatDiff.pageIcon.label",defaultMessage:"Page Icon",description:"Label in an edit for an updated page icon."})),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(U.a,{disabled:!0,isEmptyPage:!1,size:20,icon:e?{pointer:{table:S.a,id:n.block_data.before.block_value.id},icon:e}:void 0}),r.a.createElement("div",{style:{padding:"0px 8px"}},h.a.historyForward({width:14,height:14,fill:this.theme.mediumIconColor})),r.a.createElement(U.a,{disabled:!0,isEmptyPage:!1,size:20,icon:t?{pointer:{table:S.a,id:n.block_data.after.block_value.id},icon:t}:void 0})))}}renderComponent(){return this.renderEdit()||null}}var X=z,Y=n("udrG"),H=n("zEGb"),q=n("AvkE"),W=n("z22Z"),G=n("VpIZ"),Z=n("CTEM"),K=n("kaWB"),J=n("fO5X"),Q=n("1y3T"),$=n("IdIf"),ee=n("V1wX"),te=n("6SEd"),ne=n("FUUC");class oe extends y.a{constructor(){super(...arguments),this.renderProperty=(e,t,n)=>r.a.createElement(se,{labeled:n,name:t.name,type:t.type},r.a.createElement(O,{propertySchema:t,value:e,rootStore:this.props.rootStore})),this.renderBlockProperty=(e,t,n,o)=>{const r=(o||s.g(this.props.intl))[t];if(r){const o=this.getPropertyValue(e,t);return this.renderProperty(o,r,n)}},this.renderBlockEditProperty=(e,t,n)=>{const o=this.getBlockSchema(e)[t],r="block-changed"===e.type?e.block_data.after.block_value:e.block_data.block_value,a=this.getPropertyValue(r,t);if(o)return this.renderProperty(a,o,n)},this.renderBlockEditPropertyDiff=(e,t,n)=>{const o=this.getBlockSchema(e),a=o[t];if(!a)return;const i=this.getPropertyValue(e.block_data.before.block_value,t),s=p.w({property:t,schema:o,block:e.block_data.before.block_value,getRecordValue:this.getRecordValue,userTimeZone:v.m,intl:this.props.intl,normalizedSchemaCache:{}}),l=this.getPropertyValue(e.block_data.after.block_value,t),c=a.type;return s&&"text"!==c&&"title"!==c?this.renderProperty(l,a,n):r.a.createElement(se,{labeled:n,name:a.name,type:a.type},r.a.createElement(N,{propertySchema:a,beforeValue:i,afterValue:l,rootStore:this.props.rootStore}))},this.getRecordValue=this.props.rootStore.getRecordValue}renderComponent(){return this.renderEdit()||null}renderEdit(){const{edit:e}=this.props;switch(e.type){case"block-created":return this.renderBlockCreatedEdit(e);case"block-deleted":return this.renderBlockDeletedEdit(e);case"block-changed":return this.renderBlockChangedEdit(e);case"comment-created":return this.renderCommentCreatedEdit(e);case"comment-changed":return this.renderCommentChangedEdit(e);case"comment-deleted":return this.renderCommentDeletedEdit(e);case"collection-changed":return this.renderCollectionChangedEdit(e);case"collection-created":return this.renderCollectionCreatedEdit(e);case"mention-created":return this.renderMentionCreated(e);case"permission-created":return this.renderPermissionCreated(e);case"permission-changed":return this.renderPermissionChanged(e);case"permission-deleted":return this.renderPermissionDeleted(e);case"permission-restriction-created":case"permission-restriction-deleted":return this.renderPermissionInheritanceChanged(e);case"permission-group-created":return this.renderPermissionGroupCreated(e);case"permission-group-changed":return this.renderPermissionGroupChanged(e);case"permission-group-deleted":return this.renderPermissionGroupDeleted(e);case"reminder-created":return this.renderReminderCreated(e)}}renderBlock(e){switch(e.type){case Y.a.text:return this.renderTextBlock(e);case Y.a.header:return this.renderHeaderBlock(e);case Y.a.subHeader:return this.renderSubHeaderBlock(e);case Y.a.subSubHeader:return this.renderSubSubHeaderBlock(e);case Y.a.toggle:return this.renderToggleBlock(e);case Y.a.bulletedList:return this.renderBulletedListBlock(e);case Y.a.numberedList:return this.renderNumberedListBlock(e);case Y.a.quote:return this.renderQuoteBlock(e);case Y.a.factory:return this.renderFactoryBlock(e);case Y.a.equation:return this.renderEquationBlock(e);case Y.a.toDo:return this.renderTodoBlock(e);case Y.a.code:return this.renderCodeBlock(e);case Y.a.bookmark:return this.renderBookmarkBlock(e);case Y.a.page:return this.renderPageBlock(e);case Y.a.collectionView:case Y.a.collectionViewPage:if(e.collection_id){const t=this.getRecordValue({table:te.a,id:e.collection_id});if(t)return this.renderCollectionBlock(t)}break;case Y.a.image:return this.renderImageBlock(e);case Y.a.embed:return this.renderEmbedBlock(e,"embed");case Y.a.framer:return this.renderEmbedBlock(e,"framer");case Y.a.tweet:return this.renderEmbedBlock(e,"tweet");case Y.a.gist:return this.renderEmbedBlock(e,"gist");case Y.a.drive:return this.renderDriveBlock(e);case Y.a.maps:return this.renderEmbedBlock(e,"maps");case Y.a.invision:return this.renderEmbedBlock(e,"invision");case Y.a.video:return this.renderEmbedBlock(e,"video");case Y.a.audio:return this.renderEmbedBlock(e,"audio");case Y.a.file:return this.renderEmbedBlock(e,"file");case Y.a.callout:return this.renderCalloutBlock(e);case Y.a.whimsical:return this.renderEmbedBlock(e,"whimsical");case Y.a.miro:return this.renderEmbedBlock(e,"miro");case Y.a.abstract:return this.renderEmbedBlock(e,"abstract")}}renderBlockDeleted(e){switch(e.type){case Y.a.quote:return this.renderQuoteBlockDeleted(e);case Y.a.code:return this.renderCodeBlockDeleted(e);case Y.a.equation:return this.renderEquationBlockDeleted(e);case Y.a.bookmark:return this.renderBookmarkBlockDeleted(e);case Y.a.factory:return this.renderFactoryBlockDeleted(e);case Y.a.image:return this.renderImageBlockDeleted(e);case Y.a.embed:return this.renderEmbedBlockDeleted(e,"embed");case Y.a.framer:return this.renderEmbedBlockDeleted(e,"framer");case Y.a.tweet:return this.renderEmbedBlockDeleted(e,"tweet");case Y.a.gist:return this.renderEmbedBlockDeleted(e,"gist");case Y.a.drive:return this.renderDriveBlock(e,!0);case Y.a.maps:return this.renderEmbedBlockDeleted(e,"maps");case Y.a.invision:return this.renderEmbedBlockDeleted(e,"invision");case Y.a.video:return this.renderEmbedBlockDeleted(e,"video");case Y.a.audio:return this.renderEmbedBlockDeleted(e,"audio");case Y.a.file:return this.renderEmbedBlockDeleted(e,"file");case Y.a.callout:return this.renderCalloutBlockDeleted(e);case Y.a.whimsical:return this.renderEmbedBlockDeleted(e,"whimsical");case Y.a.miro:return this.renderEmbedBlockDeleted(e,"miro");case Y.a.abstract:return this.renderEmbedBlockDeleted(e,"abstract");default:return this.renderBlock(e)}}renderBlockChanged(e){switch(e.block_data.after.block_value.type){case Y.a.text:return this.renderTextBlockChanged(e);case Y.a.header:return this.renderHeaderBlockChanged(e);case Y.a.subHeader:return this.renderSubHeaderBlockChanged(e);case Y.a.subSubHeader:return this.renderSubSubHeaderBlockChanged(e);case Y.a.toggle:return this.renderToggleBlockChanged(e);case Y.a.bulletedList:return this.renderBulletedListBlockChanged(e);case Y.a.numberedList:return this.renderNumberedListBlockChanged(e);case Y.a.quote:return this.renderQuoteBlockChanged(e);case Y.a.factory:return this.renderFactoryBlockChanged(e);case Y.a.equation:return this.renderEquationBlockChanged(e);case Y.a.toDo:return this.renderTodoBlockChanged(e);case Y.a.code:return this.renderCodeBlockChanged(e);case Y.a.bookmark:return this.renderBookmarkBlockChanged(e);case Y.a.page:return this.renderPageBlockChanged(e);case Y.a.collectionView:case Y.a.collectionViewPage:return this.renderCollectionBlockChanged(e);case Y.a.image:return this.renderImageBlockChanged(e);case Y.a.embed:return this.renderEmbedBlockChanged(e,"embed");case Y.a.framer:return this.renderEmbedBlockChanged(e,"framer");case Y.a.tweet:return this.renderEmbedBlockChanged(e,"tweet");case Y.a.gist:return this.renderEmbedBlockChanged(e,"gist");case Y.a.drive:return this.renderDriveBlockChanged(e);case Y.a.maps:return this.renderEmbedBlockChanged(e,"maps");case Y.a.invision:return this.renderEmbedBlockChanged(e,"invision");case Y.a.video:return this.renderEmbedBlockChanged(e,"video");case Y.a.audio:return this.renderEmbedBlockChanged(e,"audio");case Y.a.file:return this.renderEmbedBlockChanged(e,"file");case Y.a.callout:return this.renderCalloutBlockChanged(e);case Y.a.whimsical:return this.renderEmbedBlockChanged(e,"whimsical");case Y.a.miro:return this.renderEmbedBlockChanged(e,"miro");case Y.a.abstract:return this.renderEmbedBlockChanged(e,"abstract")}}renderBlockCreatedEdit(e){const t=e.block_data.block_value,n=this.renderBlock(t);if(n)switch(t.type){case Y.a.quote:case Y.a.video:case Y.a.code:case Y.a.equation:case Y.a.file:case Y.a.bookmark:case Y.a.factory:return r.a.createElement("div",{style:oe.wrapStyle},n);default:return r.a.createElement("div",{style:{...oe.wrapStyle,...oe.addedStyle}},n)}}renderBlockDeletedEdit(e){const t=e.block_data.block_value,n=this.renderBlockDeleted(t);if(n)switch(t.type){case Y.a.quote:case Y.a.video:case Y.a.code:case Y.a.equation:case Y.a.file:case Y.a.bookmark:case Y.a.factory:return r.a.createElement("div",null,r.a.createElement("div",{style:this.getLabelStyle()},r.a.createElement(_.FormattedMessage,{defaultMessage:"Deleted",id:"edit.blockDeletedEdit.factoryLabel",description:"Label in an edit update for a deleted block."})),r.a.createElement("div",{style:{...oe.wrapStyle}},n));default:return r.a.createElement("div",null,r.a.createElement("div",{style:this.getLabelStyle()},r.a.createElement(_.FormattedMessage,{defaultMessage:"Deleted",id:"edit.blockDeletedEdit.defaultLabel",description:"Default label in an edit update for a deleted block."})),r.a.createElement("div",{style:{...oe.wrapStyle,...oe.deletedStyle}},n))}}renderBlockChangedEdit(e){const t=this.renderBlockChanged(e);if(t)return r.a.createElement("div",{style:oe.wrapStyle},t)}renderBlockTitle(e){return this.renderBlockProperty(e,"title",!1)}renderCheckbox(e){return r.a.createElement("div",{style:{marginRight:6,marginTop:3}},this.renderBlockProperty(e,"checked",!1))}renderEditTitle(e){return this.renderBlockEditProperty(e,"title",!1)}renderEditTitleDiff(e){return this.renderBlockEditPropertyDiff(e,"title",!1)}renderTextBlock(e){return this.renderBlockTitle(e)}renderTextBlockChanged(e){return this.renderEditTitleDiff(e)}renderCalloutBlock(e){return r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Callout",id:"edit.calloutBlock.label"}),created:!0,theme:this.theme},this.renderBlockTitle(e))}renderCalloutBlockDeleted(e){return r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Callout",id:"edit.calloutBlockDeleted.label"}),deleted:!0,theme:this.theme},this.renderBlockTitle(e))}renderCalloutBlockChanged(e){return r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Callout",id:"edit.calloutBlockChanged.label"}),theme:this.theme},this.renderEditTitleDiff(e))}renderHeaderBlock(e){return r.a.createElement("div",{style:oe.headerStyle},this.renderBlockTitle(e))}renderHeaderBlockChanged(e){return r.a.createElement("div",{style:oe.headerStyle},this.renderEditTitleDiff(e))}renderSubHeaderBlock(e){return r.a.createElement("div",{style:oe.subHeaderStyle},this.renderBlockTitle(e))}renderSubHeaderBlockChanged(e){return r.a.createElement("div",{style:oe.subHeaderStyle},this.renderEditTitleDiff(e))}renderSubSubHeaderBlock(e){return r.a.createElement("div",{style:oe.subSubHeaderStyle},this.renderBlockTitle(e))}renderSubSubHeaderBlockChanged(e){return r.a.createElement("div",{style:oe.subSubHeaderStyle},this.renderEditTitleDiff(e))}renderToggleBlock(e){return r.a.createElement(re,null,this.renderBlockTitle(e))}renderToggleBlockChanged(e){return r.a.createElement(re,null,this.renderEditTitleDiff(e))}renderBulletedListBlock(e){return r.a.createElement("ul",{style:{margin:0,paddingLeft:28}},r.a.createElement("li",null,this.renderBlockTitle(e)))}renderBulletedListBlockChanged(e){return r.a.createElement("ul",{style:{margin:0,paddingLeft:28}},r.a.createElement("li",null,this.renderEditTitleDiff(e)))}renderNumberedListBlock(e){return r.a.createElement("ol",{style:{margin:0,paddingLeft:28}},r.a.createElement("li",null,this.renderBlockTitle(e)))}renderNumberedListBlockChanged(e){return r.a.createElement("ol",{style:{margin:0,paddingLeft:28}},r.a.createElement("li",null,this.renderEditTitleDiff(e)))}renderQuoteBlock(e){return r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Quote",id:"edit.quoteBlock.label"}),created:!0,theme:this.theme},this.renderBlockTitle(e))}renderQuoteBlockDeleted(e){return r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Quote",id:"edit.quoteBlockDeleted.label"}),deleted:!0,theme:this.theme},this.renderBlockTitle(e))}renderQuoteBlockChanged(e){return r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Quote",id:"edit.quoteBlockChanged.label"}),theme:this.theme},this.renderEditTitleDiff(e))}renderFactoryBlock(e){return r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Template Button",id:"edit.templateButtonBlock.label"}),created:!0,theme:this.theme},this.renderBlockTitle(e))}renderFactoryBlockDeleted(e){return r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Template Button",id:"edit.templateButtonBlockDeleted.label"}),deleted:!0,theme:this.theme},this.renderBlockTitle(e))}renderFactoryBlockChanged(e){return r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Template Button",id:"edit.templateButtonBlockChanged.label"}),theme:this.theme},this.renderEditTitleDiff(e))}renderEquationBlock(e){return r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Equation",id:"edit.equationBlock.label"}),created:!0,theme:this.theme},this.renderBlockTitle(e))}renderEquationBlockDeleted(e){return r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Equation",id:"edit.equationBlockDeleted.label"}),deleted:!0,theme:this.theme},this.renderBlockTitle(e))}renderEquationBlockChanged(e){return r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Equation",id:"edit.equationBlockChanged.label"}),theme:this.theme},this.renderEditTitleDiff(e))}renderTodoBlock(e){return r.a.createElement("div",{style:{display:"inline-flex"}},this.renderCheckbox(e),this.renderBlockTitle(e))}renderTodoBlockChanged(e){return q.c({before:e.block_data.before.block_value,after:e.block_data.after.block_value,property:"checked"})?r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",{style:{marginRight:6,marginTop:3,lineHeight:1}},this.renderBlockEditPropertyDiff(e,"checked",!1)),this.renderEditTitleDiff(e)):r.a.createElement("div",{style:{display:"inline-flex"}},this.renderCheckbox(e.block_data.after.block_value),this.renderEditTitleDiff(e))}renderCodeBlock(e){return r.a.createElement(d,{title:this.getCodeTitle(e),created:!0,theme:this.theme},r.a.createElement("span",{style:{fontFamily:E.a.fontFamily.mono,fontSize:12,tabSize:2}},this.renderBlockTitle(e)))}renderCodeBlockDeleted(e){return r.a.createElement(d,{title:this.getCodeTitle(e),deleted:!0,theme:this.theme},r.a.createElement("span",{style:{fontFamily:E.a.fontFamily.mono,fontSize:12,tabSize:2}},this.renderBlockTitle(e)))}renderCodeBlockChanged(e){return q.c({before:e.block_data.before.block_value,after:e.block_data.after.block_value,property:"language"})?r.a.createElement(d,{title:this.getCodeTitle(e.block_data.after.block_value),theme:this.theme},r.a.createElement("span",{style:{fontFamily:E.a.fontFamily.mono,fontSize:12,tabSize:2}},this.renderEditTitle(e)),this.renderBlockEditPropertyDiff(e,"language",!0)):r.a.createElement(d,{title:this.getCodeTitle(e.block_data.after.block_value),theme:this.theme},r.a.createElement("span",{style:{fontFamily:E.a.fontFamily.mono,fontSize:12,tabSize:2}},this.renderEditTitle(e)))}renderCaption(e){return this.hasProperty(e,"caption")&&this.renderBlockProperty(e,"caption",!1)}renderCaptionChanged(e){return this.propertyChanged(e,"caption")&&this.renderBlockEditPropertyDiff(e,"caption",!1)}renderEmbedBlock(e,t){const{intl:n}=this.props;return r.a.createElement(o.Fragment,null,r.a.createElement(d,{title:G.l(n,t),theme:this.theme},this.renderSource(e)),r.a.createElement("div",{style:{marginBottom:4}},this.renderCaption(e)))}renderEmbedBlockChanged(e,t){const{intl:n}=this.props,a=this.propertyChanged(e,"source")&&r.a.createElement(d,{title:G.l(n,t),theme:this.theme},this.renderSource(e.block_data.after.block_value),this.renderBlockEditPropertyDiff(e,"source",!1));return r.a.createElement(o.Fragment,null,a,r.a.createElement("div",{style:{marginBottom:a?4:0}},this.renderCaptionChanged(e)))}renderEmbedBlockDeleted(e,t){const{intl:n}=this.props;return r.a.createElement(o.Fragment,null,r.a.createElement(d,{title:G.l(n,t),deleted:!0,theme:this.theme},this.renderSource(e)),r.a.createElement("div",{style:{marginBottom:4}},this.renderCaption(e)))}renderImageBlock(e){const t=this.getSource(e);if(t)return r.a.createElement(o.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{marginTop:4,marginBottom:4}},r.a.createElement(ae,{src:t,permissionRecord:{table:S.a,id:e.id}}))),r.a.createElement("div",{style:{marginBottom:4}},this.renderCaption(e)))}renderImageBlockChanged(e){const t=this.getSource(e.block_data.before.block_value),n=this.getSource(e.block_data.after.block_value),a=t!==n&&r.a.createElement("div",{style:{marginTop:4,marginBottom:4}},r.a.createElement("div",{style:{...this.getLabelStyle(),marginBottom:4}},r.a.createElement(_.FormattedMessage,{defaultMessage:"Updated",id:"edit.imageBlockChanged.updatedTitle"})),n&&r.a.createElement(ae,{src:n,permissionRecord:{table:S.a,id:e.block_id}}));return r.a.createElement(o.Fragment,null,a,r.a.createElement("div",{style:{marginBottom:a?4:0}},this.renderCaptionChanged(e)))}renderImageBlockDeleted(e){const t=this.getSource(e);if(t)return r.a.createElement(o.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{marginTop:4,marginBottom:4}},r.a.createElement(ae,{src:t,permissionRecord:{table:S.a,id:e.id}}))),r.a.createElement("div",{style:{marginBottom:4}},this.renderCaption(e)))}renderComment(e){if(!e.created_by_table||!e.created_by_id)return;const t=this.getRecordValue({table:e.created_by_table,id:e.created_by_id}),n=t&&{table:e.created_by_table,value:t},o=n?Object(ee.b)(this.props.intl,n):r.a.createElement(_.FormattedMessage,{defaultMessage:"Unknown author",id:"edit.unknownAuthor.label"});return r.a.createElement("div",null,r.a.createElement("div",{style:{...this.getLabelStyle(),marginBottom:2}},o),r.a.createElement(O,{propertySchema:{type:"text",name:""},value:e.text,rootStore:this.props.rootStore}))}renderCommentDiff(e){if(!e.after.created_by_table||!e.after.created_by_id)return;const t=this.getRecordValue({table:e.after.created_by_table,id:e.after.created_by_id}),n=t&&{table:e.after.created_by_table,value:t},o=n?Object(ee.b)(this.props.intl,n):r.a.createElement(_.FormattedMessage,{defaultMessage:"Unknown author",id:"edit.unknownAuthorCommentDiff.label"});return r.a.createElement("div",null,r.a.createElement("div",{style:{...this.getLabelStyle(),marginBottom:2}},o),r.a.createElement(N,{propertySchema:{type:"text",name:""},beforeValue:e.before.text,afterValue:e.after.text,rootStore:this.props.rootStore}))}renderCollectionDescriptionChangedDiff(e){if(!e||!e.before&&!e.after)return;const t=e.before&&e.before.description||[],n=e.after&&e.after.description||[];return r.a.createElement(se,{labeled:!0,name:r.a.createElement(_.FormattedMessage,{defaultMessage:"Description",id:"edit.descriptionPropertyChanged.label"}),type:"text"},r.a.createElement(N,{propertySchema:{type:"text",name:""},beforeValue:t,afterValue:n,rootStore:this.props.rootStore}))}renderCollectionDescriptionCreatedDiff(e){if(e&&e.description)return r.a.createElement(se,{labeled:!0,name:r.a.createElement(_.FormattedMessage,{defaultMessage:"Description",id:"edit.descriptionPropertyCreated.label"}),type:"text"},r.a.createElement(N,{propertySchema:{type:"text",name:""},beforeValue:[],afterValue:e.description||[],rootStore:this.props.rootStore}))}renderBookmarkBlock(e){const t=this.hasProperty(e,"title")&&r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Bookmark",id:"edit.bookmarkBlockProperty.label"}),created:!0,theme:this.theme},this.renderBlockTitle(e));return r.a.createElement(o.Fragment,null,t,this.hasProperty(e,"caption")&&r.a.createElement("div",{style:{marginBottom:t?4:0}},this.renderCaption(e)))}renderBookmarkBlockDeleted(e){const t=this.hasProperty(e,"title")&&r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Bookmark",id:"edit.bookmarkBlockPropertyDeleted.label"}),created:!0,theme:this.theme},this.renderBlockTitle(e));return r.a.createElement(o.Fragment,null,t,this.hasProperty(e,"caption")&&r.a.createElement("div",{style:{marginBottom:t?4:0}},this.renderCaption(e)))}renderBookmarkBlockChanged(e){const t=(this.propertyChanged(e,"title")||this.propertyChanged(e,"source"))&&r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Bookmark",id:"edit.bookmarkBlockPropertyChanged.label"}),theme:this.theme},this.renderEditTitleDiff(e),this.renderBlockEditPropertyDiff(e,"link",!0));return r.a.createElement(o.Fragment,null,t,this.propertyChanged(e,"caption")&&r.a.createElement("div",{style:{marginBottom:t?4:0}},this.renderCaptionChanged(e)))}renderDriveBlock(e,t=!1){const n=Object($.g)(e);return n&&n.title?r.a.createElement("div",null,r.a.createElement(d,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Google Drive file",id:"edit.googleDriveFile.label"}),created:!t,deleted:t,theme:this.theme},n.title)):e.content?t?this.renderEmbedBlockDeleted(e,"drive"):this.renderEmbedBlock(e,"drive"):void 0}renderDriveBlockChanged(e){const t=Object($.g)(e.block_data.before.block_value),n=e.block_data.after.block_value,a=t!==Object($.g)(n);return r.a.createElement(o.Fragment,null,a&&"drive"===n.type&&this.renderDriveBlock(n))}renderPageBlock(e){const t=this.getRecordValue({table:S.a,id:e.id})||e,n=G.h({table:S.a,value:t,getRecordValue:this.getRecordValue,userTimeZone:v.m,intl:this.props.intl})||r.a.createElement(_.FormattedMessage,{defaultMessage:"Untitled",id:"edit.pageBlock.untitled"});return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{paddingRight:6}},r.a.createElement(ie,{icon:t&&t.format&&t.format.page_icon})),r.a.createElement("div",{className:"notranslate",style:{flex:1}},n))}renderPageBlockChanged(e){const t=q.g({before:e.block_data.before.block_value,after:e.block_data.after.block_value,schema:e.block_schema}),n=q.h({before:e.block_data.before.block_value,after:e.block_data.after.block_value});return r.a.createElement("div",null,t.map((t,o,a)=>{const i=0===o,s=0===n.length&&o===a.length-1;return r.a.createElement("div",{key:t,style:{marginTop:i?6:10,marginBottom:s?0:6}},this.renderBlockEditPropertyDiff(e,t,!0))}),n.map((n,o,a)=>{const i=0===t.length&&0===o,s=o===a.length-1;return r.a.createElement("div",{key:n,style:{marginTop:i?6:10,marginBottom:s?0:6}},r.a.createElement(X,{formatProperty:n,edit:e}))}))}renderCollectionBlock(e){const t=this.getRecordValue({table:te.a,id:e.id})||e,n=G.h({intl:this.props.intl,table:te.a,value:t,getRecordValue:this.getRecordValue,userTimeZone:v.m})||r.a.createElement(_.FormattedMessage,{defaultMessage:"Untitled",id:"edit.collectionBlock.untitled"});return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{paddingRight:4}},r.a.createElement(ie,{icon:t&&t.icon})),r.a.createElement("div",{style:{flex:1}},n))}renderCollectionBlockChanged(e){return null}renderSource(e){const t=this.getSource(e);return r.a.createElement("span",{style:{wordBreak:"break-word"}},t)}renderPermissionCreated(e){return r.a.createElement("div",{style:{...oe.permissionStyle,...oe.addedStyle,marginTop:3,marginBottom:3}},r.a.createElement("div",null,this.renderPermissionTarget(e)),r.a.createElement("div",null,this.renderPermissionRole(e.permission_data)))}renderPermissionDeleted(e){return r.a.createElement("div",{style:{...oe.permissionStyle,...oe.deletedStyle}},r.a.createElement("div",null,this.renderPermissionTarget(e)),r.a.createElement("div",null,this.renderPermissionRole(e.permission_data)))}renderPermissionChanged(e){return r.a.createElement("div",{style:oe.permissionStyle},r.a.createElement("div",null,this.renderPermissionTarget(e)),r.a.createElement("div",null,r.a.createElement("div",{style:oe.diffWrapStyle},this.renderPermissionRole(e.permission_data.before),r.a.createElement("div",{style:{padding:"0px 8px"}},h.a.historyForward({width:14,height:14})),this.renderPermissionRole(e.permission_data.after))))}renderPermissionInheritanceChanged(e){return(e.permission_data.calculated_changes||[]).map(([t,n],o)=>{const a={timestamp:e.timestamp,space_id:e.space_id,type:"permission-changed",permission_data:{before:t,after:n}};return r.a.createElement(r.a.Fragment,{key:"inheritance-change-".concat(o)},this.renderPermissionChanged(a))})}renderPermissionGroupCreated(e){const t=e.permission_group_data.user_ids||[],n=i.a.compact(t.map(e=>this.getRecordValue({table:k.a,id:e})));if(0!==n.length)return r.a.createElement("div",null,n.map(e=>r.a.createElement("div",{key:e.id,style:{...oe.groupStyle,...oe.addedStyle,marginTop:3,marginBottom:3}},Object(k.e)(e))))}renderPermissionGroupDeleted(e){const t=e.permission_group_data.user_ids||[],n=i.a.compact(t.map(e=>this.getRecordValue({table:k.a,id:e})));if(0!==n.length)return r.a.createElement("div",null,n.map(e=>r.a.createElement("div",{key:e.id,style:{...oe.groupStyle,...oe.deletedStyle}},Object(k.e)(e))))}renderPermissionGroupChanged(e){const t=e.permission_group_data.before.user_ids||[],n=e.permission_group_data.after.user_ids||[],o=Object(J.a)(t,n),a=i.a.compact(o.created.map(e=>this.getRecordValue({table:k.a,id:e}))),s=i.a.compact(o.deleted.map(e=>this.getRecordValue({table:k.a,id:e})));if(0!==a.length||0!==s.length)return r.a.createElement("div",null,a.map(e=>r.a.createElement("div",{key:e.id,style:{...oe.groupStyle,...oe.addedStyle,marginTop:3,marginBottom:3}},Object(k.e)(e))),s.map(e=>r.a.createElement("div",{key:e.id,style:{...oe.groupStyle,...oe.deletedStyle}},Object(k.e)(e))))}renderPermissionRole(e){switch(W.f(e)){case"reader":return r.a.createElement("div",{style:this.getRoleStyle()},r.a.createElement(_.FormattedMessage,{defaultMessage:"Read-only",id:"edit.permissionRole.readOnly.label"}));case"editor":return r.a.createElement("div",{style:this.getRoleStyle()},r.a.createElement(_.FormattedMessage,{defaultMessage:"Full access",id:"edit.permissionRole.fullAccess.label"}));case"read_and_write":return r.a.createElement("div",{style:this.getRoleStyle()},r.a.createElement(_.FormattedMessage,{defaultMessage:"Can edit",id:"edit.permissionRole.canEdit.label"}));case"comment_only":return r.a.createElement("div",{style:this.getRoleStyle()},r.a.createElement(_.FormattedMessage,{defaultMessage:"Comment only",id:"edit.permissionRole.commentOnly.label"}));case"none":return r.a.createElement("div",{style:this.getRoleStyle()},r.a.createElement(_.FormattedMessage,{defaultMessage:"No access",id:"edit.permissionRole.none.label"}))}}renderPermissionTarget(e){const t="permission-changed"===e.type?e.permission_data.after:e.permission_data;if("user_permission"===t.type){const e=this.getRecordValue({table:k.a,id:t.user_id}),n=Object(k.e)(e);return r.a.createElement("div",{style:oe.permissionTypeWrapStyle},r.a.createElement("div",{style:this.getUserHeaderStyle()},n))}if("space_permission"===t.type){const t=this.getRecordValue({table:ne.a,id:e.space_id}),n=t?t.name:r.a.createElement(_.FormattedMessage,{defaultMessage:"Unknown",id:"edit.unknownSpacePermissionTarget.label"});return r.a.createElement("div",{style:oe.permissionTypeWrapStyle},r.a.createElement("div",{style:this.getUserHeaderStyle()},n))}if("public_permission"===t.type)return r.a.createElement("div",{style:oe.permissionTypeWrapStyle},r.a.createElement("div",{style:this.getUserHeaderStyle()},r.a.createElement(_.FormattedMessage,{defaultMessage:"Published link",id:"edit.publishToWebPermissionTarget.label"})));if("group_permission"===t.type){const n=this.getRecordValue({table:ne.a,id:e.space_id}),o=(n&&n.permission_groups||[]).find(e=>e.id===t.group_id),a=o&&o.name||r.a.createElement(_.FormattedMessage,{defaultMessage:"Deleted group",id:"edit.deletedPermissionGroup.label"});return r.a.createElement("div",{style:oe.permissionTypeWrapStyle},r.a.createElement("div",{style:this.getUserHeaderStyle()},a))}}renderCommentCreatedEdit(e){const t=this.getRecordValue({table:K.a,id:e.comment_id}),n=e.comment_data||t;if(n)return r.a.createElement("div",{style:oe.wrapStyle},this.renderComment(n))}renderCommentChangedEdit(e){return r.a.createElement("div",{style:oe.wrapStyle},this.renderCommentDiff(e.comment_data))}renderCommentDeletedEdit(e){const t=this.getRecordValue({table:K.a,id:e.comment_id}),n=e.comment_data||t;if(n)return r.a.createElement("div",{style:{...oe.wrapStyle,...oe.deletedStyle}},this.renderComment(n))}renderCollectionChangedEdit(e){return r.a.createElement("div",{style:oe.wrapStyle},this.renderCollectionDescriptionChangedDiff(e.collection_data))}renderCollectionCreatedEdit(e){return r.a.createElement("div",{style:oe.wrapStyle},this.renderCollectionDescriptionCreatedDiff(e.collection_data))}renderMentionCreated(e){return this.renderBlockOrProperty({blockId:e.mentioned_block_id,property:e.mentioned_property})}renderReminderCreated(e){return this.renderBlockOrProperty({blockId:e.reminder_block_id,property:e.reminder_property})}renderBlockOrProperty(e){const t=this.getRecordValue({table:S.a,id:e.blockId});if(t)if(t.parent_table===te.a){const n=this.getRecordValue({table:te.a,id:t.parent_id});if(n){const o=s.e(n.schema),a=this.renderBlockProperty(t,e.property,!0,o);if(a)return r.a.createElement("div",{style:{...oe.wrapStyle}},a)}}else{const e=this.renderBlock(t);if(e)return r.a.createElement("div",{style:oe.wrapStyle},e)}}getBlockSchema(e){return s.e(e.block_schema||s.g(this.props.intl))}getPropertyValue(e,t){return e.properties&&e.properties[t]||[]}getCodeTitle(e){const t=e&&e.properties&&e.properties.language;if(!t)return r.a.createElement(_.FormattedMessage,{defaultMessage:"Code",id:"edit.codeBlockChanged.label"});const n=p.u(t,s.n);return r.a.createElement(_.FormattedMessage,{defaultMessage:"Code - {codeLanguage}",values:{codeLanguage:n},id:"edit.codeBlockWithLanguageChanged.label"})}getSource(e){const t=e&&e.properties&&e.properties.source;return p.v(t)}hasProperty(e,t){return Boolean(e&&e.properties&&e.properties[t])}propertyChanged(e,t){return!i.a.isEqual(e.block_data.before.block_value&&e.block_data.before.block_value.properties&&e.block_data.before.block_value.properties[t],e.block_data.after.block_value&&e.block_data.after.block_value.properties&&e.block_data.after.block_value.properties[t])}getLabelStyle(){return{fontSize:12,lineHeight:1,paddingTop:8,color:this.theme.lightTextColor}}getUserHeaderStyle(){return{fontSize:12,color:this.theme.mediumTextColor}}getRoleStyle(){return{fontSize:14,whiteSpace:"nowrap"}}}oe.wrapStyle={display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1,overflow:"hidden",fontSize:14,minHeight:29},oe.headerStyle={fontWeight:E.a.fontWeight.semibold},oe.subHeaderStyle={fontWeight:E.a.fontWeight.semibold},oe.subSubHeaderStyle={fontWeight:E.a.fontWeight.semibold},oe.permissionStyle={display:"flex",flexDirection:"column",minHeight:28,paddingTop:4,paddingBottom:4},oe.groupStyle={display:"flex",alignItems:"center",minHeight:28,fontSize:14,paddingTop:4,paddingBottom:4},oe.permissionTypeWrapStyle={display:"flex",alignItems:"center",fontSize:14,marginRight:6,whiteSpace:"nowrap"},oe.diffWrapStyle={display:"flex",alignItems:"center"},oe.addedStyle={color:l.g.blue,backgroundColor:l.g.blueWithAlpha(.14)},oe.deletedStyle={opacity:.4,marginBottom:6,textDecoration:"line-through"};class re extends y.a{renderComponent(){const e=r.a.createElement("div",{style:{width:"1em",height:"1em",display:"flex",alignSelf:"stretch",justifyContent:"center",flexShrink:0,marginLeft:6,marginRight:6,marginTop:6}},h.a.triangle({width:"0.6875em",height:"0.6875em",transform:"rotateZ(90deg)"}));return r.a.createElement("div",{style:{display:"inline-flex",alignItems:"center"}},e,r.a.createElement("span",null,this.props.children))}}class ae extends y.a{renderComponent(){return this.props.src?r.a.createElement(Q.a,{url:this.props.src,isAuthenticated:!0,permissionRecord:this.props.permissionRecord,width:170,render:(e,t)=>{if(t)return r.a.createElement("img",{src:t,style:{maxHeight:170,maxWidth:170}})}}):r.a.createElement("div",{style:{backgroundColor:this.theme.lightTextColor,height:170,width:170}})}}class ie extends y.a{renderComponent(){const e=this.props.icon;return e?Object(Z.a)(e)?r.a.createElement("div",{style:{fontSize:16.2,display:"inline-block"}},e):r.a.createElement("img",{src:e,style:{height:18,width:18,marginTop:6}}):h.a.page({height:18,width:18})}}class se extends y.a{renderComponent(){return this.props.labeled?r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",color:this.theme.lightTextColor,fontSize:12,lineHeight:1,marginBottom:2}},r.a.createElement(H.a,{type:this.props.type,size:12,theme:this.theme}),r.a.createElement("div",{style:{marginLeft:6}},this.props.name)),r.a.createElement("div",{style:{display:"flex",alignItems:"center",minHeight:24}},this.props.children)):r.a.createElement("div",null,this.props.children)}}t.a=Object(_.injectIntl)(oe)},"6dM0":function(e,t,n){"use strict";n.d(t,"d",(function(){return C})),n.d(t,"k",(function(){return M})),n.d(t,"n",(function(){return E})),n.d(t,"h",(function(){return T})),n.d(t,"m",(function(){return x})),n.d(t,"x",(function(){return I})),n.d(t,"c",(function(){return P})),n.d(t,"o",(function(){return O})),n.d(t,"w",(function(){return B})),n.d(t,"e",(function(){return L})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return A})),n.d(t,"s",(function(){return j})),n.d(t,"t",(function(){return F})),n.d(t,"r",(function(){return V})),n.d(t,"l",(function(){return N})),n.d(t,"u",(function(){return U})),n.d(t,"v",(function(){return z})),n.d(t,"z",(function(){return X})),n.d(t,"b",(function(){return Y})),n.d(t,"y",(function(){return H})),n.d(t,"a",(function(){return q})),n.d(t,"i",(function(){return W})),n.d(t,"p",(function(){return G})),n.d(t,"q",(function(){return Z})),n.d(t,"j",(function(){return K}));n("SYor"),n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("uN94"),i=n("y6Dp"),s=n("N34Z"),l=n("sdlW"),c=n("Mr7a"),d=n("zmp8"),u=n("Sb6f"),p=n("qX+M"),h=n("bkwR"),m=n("MBf9"),f=n("G4cA"),g=n("qKs6"),b=n("Mht8"),v=n("pQrc"),y=n("J9+s"),S=n("2ZkR"),w=n("FUUC"),k=n("UWX6");function C(e,t){return"/tutorial/".concat(e).concat("dark"===t.state.mode?"-dark":"",".png")}function M(e){return e.isOnboarding&&("desktop_join_or_create_space"===e.flow||"mobile_join_or_create_space"===e.flow)}function E(e){return e.isOnboarding&&("desktop_cold_start"===e.flow||"mobile_cold_start"===e.flow||"desktop_joinable_spaces"===e.flow||"mobile_joinable_spaces"===e.flow||"desktop_redirect"===e.flow||"mobile_redirect"===e.flow)}const _=Object(y.defineMessages)({personalWorkspaceName:{defaultMessage:"{userName}'s Notion",id:"onboardingHelpers.personalWorkspaceName",description:"This is used for a new personal user's workspace name."}});function T(e,t){return t.formatMessage(_.personalWorkspaceName,{userName:r.a.trim(e)})}function x(e){return e.isOnboarding&&Boolean(a.InAppOnboardingStages.find(t=>t===e.stage))}function I(e){return e.isOnboarding&&"template_optout"===e.stage}function P(e){const t=e.userStore.getValue();if(t&&e.isUserDomainJoinable){const e=Object(v.a)(t.email);if(e)return e}}async function O(e){a.default.setState({...a.default.state,isLoading:!0});const{disableRedirects:t,environment:n}=e;b.log({level:"info",from:"onboardingHelpers",type:"loadOnboardingData",data:{message:"initializeOnboardingDataLoad"}});const[o,r,i,s]=await Promise.all([h.getJoinableSpaces(n,{}),Object(p.loadUserRedirectData)({environment:n,disableRedirectUrl:t}),h.isUserDomainJoinable(n,{}),h.isEmailEducation(n,{})]);if(b.log({level:"info",from:"onboardingHelpers",type:"loadOnboardingData",data:{message:"completedOnboardingDataLoad",miscDataToConvertToString:{joinableSpacesResponseType:o.type,joinableSpacesResponseStatus:o.status,userRedirectDataId:r.userRootStore.id,isUserDomainJoinableResponseType:i.type,sUserDomainJoinableResponseStatus:i.status}}}),a.default.setState({...a.default.state,isLoading:!1}),"success"===o.type)return{joinableSpaceData:o.data,isUserDomainJoinable:"success"===i.type&&i.data.isJoinable,isEducationPlanEligible:"success"===s.type&&s.data.isEligible,...r};throw o.error}function B(e){if(M(e)){const{userRootStore:t}=e.onboardingData,n=t.getValue();if(n&&n.space_views)return n.space_views.length>0}return!1}function L(e){const{onboardingData:t,isNewUserFlow:n}=e,{userRootStore:o}=t,{results:r}=t.joinableSpaceData,a=o.getSpaceViewStores().map(e=>e.getSpaceId());return n?r:r.filter(e=>a.indexOf(e.id)<0)}function R(e){return e.isOnboarding&&"gdpr"!==e.stage&&"profile"!==e.stage&&"error"!==e.stage}function D(e){return{flow_name:e.isOnboarding?e.flow:"not_defined",stage:e.isOnboarding?e.stage:"not_defined",initial_workspace_type:R(e)?e.spaceJoinOrCreate:void 0,is_new_onboarding:e.isOnboarding&&e.isNewUser,is_create_or_join:M(e),stage_number:e.isOnboarding?e.stageNumber:void 0}}function A(e){const{redirectSpaceId:t,redirectPageId:n,forkPageBlockId:o,hasExplicitAccessToRedirectPage:r,canJoinRedirectSpace:a,publicAccessPageId:i,oauthAuthorizationParams:s}=e;return s?{type:"oauth_authorization_redirect",...s}:o?{type:"fork_page",pageId:o}:!i||r||a?!t||r||a?t&&n&&r&&!a?{type:"guest_redirect",pageId:n,spaceId:t}:t&&n&&a?{type:"redirect_page",pageId:n,spaceId:t}:t&&a?{type:"redirect_space",spaceId:t}:{type:"getting_started_page"}:{type:"invalid"}:{type:"public_access_page_redirect",pageId:i}}async function j(e,t){const{onboardingData:n,firstName:o,lastName:r,profilePhoto:a,password:l}=e,c=n.userStore;m.createAndCommit(t,e=>{const t={given_name:o,family_name:r,...a&&{profile_photo:a}};s.d({store:c,data:t,transaction:e})}),l&&await h.setPassword(t,{newPassword:l,sendEmail:!1}),await async function(e,t){if(!e.onboardingCompleted){const e=Object(k.b)(t.currentUser.id),n=await h.activateReferral(t,{fromUserId:e});Object(k.e)({currentUserId:t.currentUser.id,referralUserId:void 0}),200===n.status&&i.g(t)}}(e.onboardingData,t)}function F(e,t){const{userPersona:n,userType:o,onboardingData:r,userTeamRole:a}=t;m.createAndCommit(e,e=>{const t={persona:n,team_role:a,type:o};Object(g.f)({userSettingsStore:r.userSettingsStore,data:t,transaction:e})})}async function V(e,t){const{spaceId:n,onboardingData:o}=e;if(!n)return;const a=f.a.createChildStore(o.userRootStore,{table:w.a,id:n});await async function(e,t,n){t.isChecked&&t.emailDomain&&await l.z({environment:e,emailDomains:[t.emailDomain],spaceStore:n})}(t,e,a);const{emails:s}=e,d=r.a.uniq(s).map(e=>({type:"newUser",value:{email:e}}));s.length>0&&(await c.c({environment:t,store:a,inviteTargets:d,inviteRole:"editor",isOnboarding:!0}),i.Cc(t,{emails:e.emails,auto_join_space:e.isChecked}))}function N(e){return!!e&&Boolean(e.given_name||e.family_name)}function U(e){return"on"===S.default.getGroup(e,"collect-use-case")}function z(e){return"on"===S.default.getGroup(e,"collect-use-case-new-step")}const X="inviteCode",Y={fontSize:12,color:d.g.mediumTextColor,fontWeight:u.a.fontWeight.medium,lineHeight:"135%",marginTop:20,marginBottom:4},H=(u.a.fontWeight.semibold,u.a.fontWeight.medium,{marginTop:14,marginBottom:14}),q={marginTop:8,marginBottom:8};d.g.mediumTextColor;function W(e){return{color:e.mediumTextColor}}const G={width:60},Z={marginTop:14,marginBottom:8,fontSize:16,fontWeight:600},K={boxShadow:"0 0 0 1px ".concat(d.g.red)}},"6f7s":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("y6Dp"),i=n("wldR"),s=n("qxI2"),l=n("BJyN"),c=n("sjR4"),d=n("fwa5"),u=n("iICV"),p=n("AmMh"),h=n("fbat"),m=n("9j7d");class f extends i.a{constructor(){super(...arguments),this.handleShortcut=(e,t)=>{if(!this.shouldBeActive())return;const n=c.default.state.stores,o=c.default.state.pivot||n[0],r=o&&p.a.getRectFromStore(o),i=l.a.find(t=>!!(t.shortcuts||[]).some(t=>t===e)&&s.c(t,{environment:this.environment,blocks:n,originRect:r}));if(i){"keydown"===t.type&&t.preventDefault&&t.preventDefault(),i.action({environment:this.environment,blocks:n,originRect:r},t);const e=n[0];let o;e&&(o=e.getType()),a.q(this.environment,{analyticsName:i.analyticsName,from:"keyboard_shortcut",block_type:o}),this.enterKeyboardMode()}},this.handleWindowMouseMove=e=>{e.clientX===this.prevX&&e.clientY===this.prevY||(this.prevX=e.clientX,this.prevY=e.clientY,this.exitKeyboardMode())},this.shortcuts=this.getShortcutHandlers()}willMount(e){super.willMount(e),window.addEventListener("mousemove",this.handleWindowMouseMove)}willUnmount(){super.willUnmount(),window.removeEventListener("mousemove",this.handleWindowMouseMove)}renderComponent(){return r.a.createElement(m.a,{isRoot:this.props.isRoot,enable:this.props.capture,shortcuts:this.shortcuts})}getShortcutHandlers(){const e={};for(const t of l.a)for(const n of t.shortcuts||[])e[n]=e=>this.handleShortcut(n,e);return e}shouldBeActive(){return!this.intercomIsFocused()&&!d.a.state.isActive}intercomIsFocused(){const e=document.querySelector("#intercom-container");return!(!e||!e.contains(document.activeElement))}enterKeyboardMode(){u.a.setKeyboardMode(!0),h.a.reset()}exitKeyboardMode(){u.a.setKeyboardMode(!1)}}t.a=f},"6fCZ":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("mF3+"),i=n("hi+p"),s=n("7M94"),l=n("wldR"),c=n("LeVO"),d=n("6rsX"),u=n("BJyN"),p=n("sjR4"),h=n("MeYt");class m extends l.a{constructor(){super(...arguments),this.renderButton=e=>r.a.createElement(h.a,Object.assign({className:this.props.fadeIn?s.y:void 0,style:this.getButtonStyle(),onClick:this.handleActionButtonClick},e),a.a.dots({width:14,height:14,...this.props.iconStyle})),this.handleActionButtonClick=e=>{d.k({environment:this.environment,store:this.props.store}),i.c({environment:this.environment,stores:p.default.state.stores,left:e.clientX,top:e.clientY,showInput:!0,actions:u.c,analyticsFrom:"block_more_menu"}),this.props.onClick&&this.props.onClick()}}renderComponent(){return this.props.tooltipContent?r.a.createElement(c.a,{renderTooltip:()=>this.props.tooltipContent,delayThreshold:300,render:this.renderButton}):this.renderButton({})}getButtonStyle(){const{device:e}=this.environment;return{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:24,height:24,borderRadius:3,fill:e.isMobile?this.theme.lightIconColor:this.theme.mediumIconColor,...this.props.style}}}t.a=m},"6fvo":function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return m}));n("3bBZ"),n("SYor"),n("UxlC");var o=n("xe8Q"),r=n("5Nka"),a=n("VhAz"),i=n("LvDl"),s=n.n(i);const l=56;function c(e){const t=o.c[e];if(t)return t}function d(e){return{x:66*e.sheetX+1,y:66*e.sheetY+1,size:64}}function u(e){return"twitter"===e?r.a.images.twitterEmojiSpritesheet64Png:"google"===e?r.a.images.googleEmojiSpritesheet64Png:Object(a.e)(e)}function p(e){const t=o.c[e];return t&&t.variations||[]}function h(e){const t=e.toLowerCase().replace(/_/g," ").replace(/-([a-z])/g," $1").replace(/\s+/g," ").trim();if(t)return t}function m(e){return s.a.toArray(e).filter(e=>!o.c[e]).join("")}},"6nbh":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{}}}t.a=r},"6q9u":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR");class i extends a.a{renderComponent(){return r.a.createElement("div",{style:this.getRadioButtonStyle()},r.a.createElement("div",{style:this.getRadioButtonDotStyle()}))}getRadioButtonStyle(){const{isSelected:e}=this.props;return{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,borderRadius:16,marginRight:8,background:e?this.theme.blueColor:this.theme.whiteButtonBackground,border:e?"none":"1px solid ".concat(this.theme.radioButtonBorder),transition:"background 100ms ease-out"}}getRadioButtonDotStyle(){const{isSelected:e}=this.props;return{width:6,height:6,borderRadius:6,background:this.theme.regularInvertedTextColor,transition:"opacity 100ms ease-out",opacity:e?1:0}}}t.a=i},"6rsX":function(e,t,n){"use strict";n("UxlC"),n("3bBZ");var o=n("i8i4"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("hl64"),l=n("sjR4"),c=n("X6Ne"),d=n("unoy"),u=n("MBf9"),p=n("JZPr"),h=n("jWHj"),m=n("ALSZ"),f=n("sQnJ"),g=n("EarS"),b=n("Wfos"),v=n("AmMh"),y=n("fYc2"),S=n("w5u6"),w=n("Ucj+"),k=n("udrG"),C=n("1P/O");class M{constructor(e,t){this.root=e,this.children=t}contains(e){return this.root.value===e||this.children.some(t=>t.contains(e))}}class E{constructor(e){this.children=e,this.root=void 0}contains(e){return this.children.some(t=>t.contains(e))}}function _(e,t){for(const n of t){if(16==(16&n.root.node.compareDocumentPosition(e.node)))return void _(e,n.children)}t.push(new M(e,[]))}function T(e,t){for(const n of t){if(n.root.value===e)return[n];{const t=T(e,n.children);if(t)return[n,...t]}}}function x(e,t){if(t&&t.length>0){const n=t[t.length-1],o=t[t.length-2]||e,r=o.children.findIndex(e=>e===n);if(r>0)return{prev:o.children[r-1]};if(o.root)return{parent:o}}return{}}function I(e,t){if(t&&t.length>0){const n=t[t.length-1],o=t[t.length-2]||e,r=o.children.findIndex(e=>e===n);return r<o.children.length-1?{next:o.children[r+1]}:I(e,t.slice(0,t.length-1))}return{}}function P(e,t){if(t&&t.length>0){const n=t[t.length-1],o=t[t.length-2]||e,r=o.children.findIndex(e=>e===n);if(r>0){return{prev:function(e){for(;e.children.length>0;)e=e.children[e.children.length-1];return e}(o.children[r-1])}}if(o.root)return{parent:o}}return{}}function O(){const{defaultContainer:e}=l.default.state;if(e){return v.a.getSortedComponents().filter(t=>t.getContextSelectableContainer()===e&&t.props.canSelect).map(e=>e.props.store)}return[]}function B(){const{defaultContainer:e}=l.default.state;if(e){return function(e){if(e.sort((e,t)=>Object(s.a)(e.node,t.node)),0===e.length)return;const t=[];for(const n of e)_(n,t);return new E(t)}(i.a.compact(v.a.getComponents().map(e=>{const t=r.a.findDOMNode(e);if(t instanceof Element)return{node:t,value:e}})).filter(({value:t})=>t.getContextSelectableContainer()===e&&t.props.canSelect).map(({value:e,node:t})=>({value:e.props.store,node:t})))||new E([])}return new E([])}function L(e){const t=l.default.state.stores,n=l.default.state.pivot,o=i.a.compact(i.a.without(t,n));let r;r=n===i.a.last(t)?t[t.length-2]:t[1],U({environment:e,stores:o,pivot:r})}function R(e){const t=h.a();return e.device.isMac?t.shift&&t.command:t.shift&&t.option}function D(){return h.a().shift}function A(e){e.sort((e,t)=>Object(s.a)(v.a.findNodeFromStore(e),v.a.findNodeFromStore(t)))}function j(e){l.default.setState({...l.default.state,phase:e.phase}),e.phase===l.SelectionPhase.Editing||e.preventClearEditingText||d.f(e.environment)}function F(e){const{stores:t}=e,n=l.default.state.stores,o=i.a.union(t,n);o.length===t.length&&o.length===n.length||l.default.setState({...l.default.state,stores:e.stores}),t.length>0&&p.e()}function V(e){l.default.setState({...l.default.state,pivot:e.pivot})}function N(e){const{stores:t}=l.default.state;F({stores:t.map(t=>t===e.store?e.replace:t)})}function U(e){const t=function(e){const t=new Array(e.length);return v.a.forEach(n=>{if(n.props.canSelect){const o=e.indexOf(n.props.store);if(o>=0){const e=n.getNode();e&&(t[o]=e)}}}),e.filter((n,o)=>{const r=t[o];return n&&!e.some((e,n)=>{const o=t[n];return Boolean(o&&o!==r&&r&&o.contains(r))})})}(e.stores);F({stores:t}),j({environment:e.environment,phase:l.SelectionPhase.Selected}),1===t.length&&function(e){l.default.setState({...l.default.state,anchor:e.anchor})}({anchor:t[0]}),e.pivot?V({pivot:e.pivot}):V({pivot:t[0]}),S.default.afterNextFlush(()=>{A(t)})}function z(e){void 0===e.toggle&&(e.toggle=!1),void 0===e.selectBetween&&(e.selectBetween=!1);const{stores:t}=l.default.state;if(e.toggle)i.a.includes(t,e.store)?U({environment:e.environment,stores:i.a.without(t,e.store)}):U({environment:e.environment,stores:i.a.union(t,[e.store])});else if(e.selectBetween){let n=i.a.clone(t);const o=O(),r=o.indexOf(e.store);i.a.includes(n,e.store)||n.push(e.store);const a=t[0];if(a){const e=o.indexOf(a);if(e>=0){const t=i.a.slice(o,r,e);n=i.a.union(n,t)}}const s=i.a.last(t);if(s){const e=o.indexOf(s);if(e>=0){const t=i.a.slice(o,e,r);n=i.a.union(n,t)}}U({environment:e.environment,stores:n})}else i.a.includes(t,e.store)||U({environment:e.environment,stores:[e.store]});j({environment:e.environment,phase:l.SelectionPhase.Selected})}function X(e){const{environment:t,store:n}=e;if(n)if(F({stores:[n]}),V({pivot:void 0}),j({environment:t,phase:l.SelectionPhase.Editing}),t.device.isMobile)c.a(t);else if(!t.device.isMobileBrowser){const e=v.a.findScrollToSelectableFromStore(n);e&&c.b({component:e,vertical:{reveal:"closest"},horizontal:e.props.disableScrollToRevealHorizontal?void 0:{reveal:"closest"}})}}function Y(e){const{stores:t}=l.default.state,n=t[0];if(!n)return!1;const o=v.a.findSelectableFromStore(n);if(o&&o.props.onEditText){const t=o.props.onEditText;let n=!1;return u.createAndCommit(e,e=>{n=t({isAtStart:!1,transaction:e})}),n}return!1}function H(e){F({stores:[]}),j({environment:e,phase:l.SelectionPhase.Selected}),m.d(),f.d(),b.c()}function q(e){const{environment:t}=e,n=l.default.state.stores;A(n);const o=l.default.state.pivot,r=n[0];if(r)if(e.shiftKey)if(o===r){const o=B(),a=T(r,o.children),{prev:s,parent:l}=e.altKey?x(o,a):P(o,a);if(s){const e=s.root.value;U({environment:t,stores:i.a.union(n,[e]),pivot:e})}else if(l){const e=l.root.value;U({environment:t,stores:i.a.union(n.filter(e=>!l.contains(e)),[e]),pivot:e})}}else L(e.environment);else{const n=B(),o=T(r,n.children),{prev:a,parent:i}=e.altKey?x(n,o):P(n,o);if(a){const e=a.root.value;U({environment:t,stores:[e],pivot:e})}else if(i){const e=i.root.value;U({environment:t,stores:[e],pivot:e})}else U({environment:t,stores:[r],pivot:r})}else if(o)U({environment:t,stores:[o]});else{const e=O(),n=i.a.last(e);n&&U({environment:t,stores:[n],pivot:n})}W()}function W(){const e=l.default.state.pivot||l.default.state.stores[0],t=v.a.findScrollToSelectableFromStore(e);t&&c.b({component:t,vertical:{reveal:"top"},horizontal:t.props.disableScrollToRevealHorizontal?void 0:{reveal:"closest"}})}function G(e){const t=l.default.state.stores;A(t);const n=l.default.state.pivot;if(0!==t.length&&n)if(n.getType()===k.a.toggle&&C.a.isOpen(n.id))U({environment:e,stores:[n],pivot:n}),g.d({blockId:n.id,state:!1,currentUserId:e.currentUser.id});else{const t=function(e){if(e&&e.length>1)return e[e.length-2]}(T(n,B().children));if(t){const n=t.root.value;U({environment:e,stores:[n],pivot:n})}else U({environment:e,stores:[n],pivot:n})}else if(n)U({environment:e,stores:[n]});else{const t=O(),n=i.a.last(t);n&&U({environment:e,stores:[n],pivot:n})}W()}function Z(e){const{environment:t}=e,n=l.default.state.stores;A(n);const o=l.default.state.pivot,r=i.a.last(n);if(r)if(e.shiftKey)if(o===r){const e=B(),o=T(r,e.children),{next:a}=I(e,o);if(a){const e=a.root.value;U({environment:t,stores:i.a.union(n,[e]),pivot:e})}}else L(t);else{const n=B(),o=T(r,n.children),{next:a}=e.altKey?I(n,o):function(e,t){if(t&&t.length>0){const n=t[t.length-1];if(n.children.length>0){return{next:n.children[0]}}const{next:o}=I(e,t);return{next:o}}return{}}(n,o);if(a){const e=a.root.value;U({environment:t,stores:[e],pivot:e})}else U({environment:t,stores:[r],pivot:r})}else if(o)U({environment:t,stores:[o]});else{const e=O()[0];e&&U({environment:t,stores:[e],pivot:e})}K()}function K(){const e=l.default.state.pivot||i.a.last(l.default.state.stores);if(e){const t=v.a.findScrollToSelectableFromStore(e);t&&c.b({component:t,vertical:{reveal:"bottom"},horizontal:t.props.disableScrollToRevealHorizontal?void 0:{reveal:"closest"}})}}function J(e){const t=l.default.state.stores;A(t);const n=l.default.state.pivot;if(0!==t.length&&n)if(n.getType()!==k.a.toggle||C.a.isOpen(n.id)){const t=function(e){if(e&&e.length>0){const t=e[e.length-1];if(t.children.length>0)return t.children[0]}}(T(n,B().children));if(t){const n=t.root.value;U({environment:e,stores:[n],pivot:n})}else U({environment:e,stores:[n],pivot:n})}else U({environment:e,stores:[n],pivot:n}),g.d({blockId:n.id,state:!0,currentUserId:e.currentUser.id});else if(n)U({environment:e,stores:[n]});else{const t=O()[0];t&&U({environment:e,stores:[t],pivot:t})}K()}function Q(e){const t=O();U({environment:e,stores:t,pivot:t[0]})}function $(e){const t=O()[0];if(t){U({environment:e,stores:[t],pivot:t});const n=v.a.findScrollToSelectableFromStore(t);n&&c.b({component:n,vertical:{reveal:"top"},horizontal:n.props.disableScrollToRevealHorizontal?void 0:{reveal:"closest"}})}}function ee(e){const t=O(),n=t[t.length-1];if(n){U({environment:e,stores:[n],pivot:n});const t=v.a.findScrollToSelectableFromStore(n);t&&c.b({component:t,vertical:{reveal:"bottom"},horizontal:t.props.disableScrollToRevealHorizontal?void 0:{reveal:"closest"}})}}function te(){const e=new Map;v.a.forEach(t=>{const n=t.getNode();n&&n instanceof Element&&e.set(t,n.getBoundingClientRect())});const t=new Map;y.a.forEach(e=>{const n=e.getNode();n&&n instanceof Element&&t.set(e,n.getBoundingClientRect())}),w.a.setState({...w.a.state,selectableRectMap:e,selectableContainerRectMap:t})}n.d(t,"t",(function(){return R})),n.d(t,"s",(function(){return D})),n.d(t,"o",(function(){return j})),n.d(t,"r",(function(){return F})),n.d(t,"p",(function(){return V})),n.d(t,"j",(function(){return N})),n.d(t,"q",(function(){return U})),n.d(t,"k",(function(){return z})),n.d(t,"f",(function(){return X})),n.d(t,"g",(function(){return Y})),n.d(t,"e",(function(){return H})),n.d(t,"d",(function(){return q})),n.d(t,"b",(function(){return G})),n.d(t,"a",(function(){return Z})),n.d(t,"c",(function(){return J})),n.d(t,"l",(function(){return Q})),n.d(t,"m",(function(){return $})),n.d(t,"n",(function(){return ee})),n.d(t,"h",(function(){return te})),n.d(t,"i",(function(){return ne}));const ne=i.a.throttle(te,200)},"6sah":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("MeYt"),s=n("mF3+");class l extends a.a{renderComponent(){return r.a.createElement(i.a,{onClick:this.props.onClick,style:this.getButtonStyle(),className:this.props.className,mobileFeedback:this.props.isMobile,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},s.a.dots(this.getIconStyle()))}getButtonStyle(){const{isMobile:e}=this.props;return{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,borderRadius:3,width:e?45:24,height:e?45:24,marginRight:e?-8:-6,...this.props.style}}getIconStyle(){const{isMobile:e}=this.props;return{width:e?18:14,height:e?18:14,fill:this.theme.mediumIconColor}}}t.a=l},"74GD":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("wldR"),l=n("LEzx");class c extends l.a{getInitialState(){return{}}}var d=c,u=n("xAD1");class p extends s.a{constructor(){super(...arguments),this.registries=[u.a],this.storeTypes={store:d},this.handleMutation=()=>{if(this.rootNode){const e=this.rootNode.getBoundingClientRect();this.stores.store.setState({rect:e})}}}didMount(){this.props.capture&&this.startListeners()}willUpdate(e){e.capture&&!this.props.capture?this.startListeners():!e.capture&&this.props.capture&&this.stopListeners()}willUnmount(){this.stopListeners()}startListeners(){const e=i.a.findDOMNode(this);e&&(this.rootNode=e,this.observer=new MutationObserver(this.handleMutation),this.observer.observe(this.rootNode,{attributes:!0,subtree:!0}))}stopListeners(){this.observer&&(this.observer.disconnect(),this.rootNode=void 0,this.observer=void 0)}renderComponent(){return r.a.Children.only(this.props.children)}}t.a=p},"78yG":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=n("zmp8");const r="theme";function a(e){const t=Object(o.o)(e);return{mode:e,colors:{white:o.g.white,blue:o.g.blue},borderRadius:3,textColor:t.regularTextColor,popoverBackgroundColor:t.popoverBackground,popoverBoxShadow:t.mediumBoxShadow,inputBoxShadow:t.inputBoxShadow,inputBackgroundColor:t.inputBackground,dividerColor:t.darkDividerColor,shadowOpacity:t.shadowOpacity}}},"79T+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l}));n("SYor");var o=n("5FB0"),r=n("yjqD"),a=n("A9TN");async function i(e,t){const n=encodeURIComponent(t.trim()),i={environment:e,method:"GET",url:"https://api.embed.ly/1/extract?key=".concat(a.default.embedly.key,"&url=").concat(n),json:!0},{result:s}=await r.g(3,1e4,()=>Object(o.b)(i));if(s&&"success"===s.type)return s.data}const s=/(\/d\/|id=)([-\w]{25,})/;function l(e){const t=e.match(s);if(t&&!(t.length<3))return t[2]}},"7Gak":function(e,t,n){"use strict";var o=n("LEzx"),r=n("yjqD");class a extends o.a{getInitialState(){return{readyPromise:Object(r.c)(),localSpaceInaccessiblePages:void 0,remoteSpaceInaccessiblePages:void 0}}getSpaceInaccessiblePages(e,t){const n=this.state;return n.remoteSpaceInaccessiblePages&&n.remoteSpaceInaccessiblePages[t]?n.remoteSpaceInaccessiblePages[t][e]:n.localSpaceInaccessiblePages&&n.localSpaceInaccessiblePages[t]?n.localSpaceInaccessiblePages[t][e]:void 0}}t.a=new a},"7IvN":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},"7KuZ":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("prF1"),s=n("mF3+"),l=n("y6Dp"),c=n("MeYt");class d extends a.a{renderComponent(){return r.a.createElement(i.a,{style:{display:"flex",alignSelf:"stretch",width:36,...this.props.isRight?{marginRight:-8}:{marginLeft:-8}},external:!0,href:this.props.href,onClick:()=>l.C(this.environment,{from:this.props.analyticsFrom})},r.a.createElement(c.a,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}},s.a.help({width:18,marginTop:1,fill:this.theme.lightIconColor})))}}t.a=d},"7L5k":function(e,t,n){"use strict";n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return I}));n("3bBZ"),n("UxlC");var o=n("LvDl"),r=n.n(o),a=n("VAix"),i=n("AvkE"),s=n("HRSx"),l=n("z22Z"),c=n("xL2i"),d=n("VhAz");function u(e,t){return e.space_id===t.space_id&&e.collection_id===t.collection_id&&e.navigable_block_id===t.navigable_block_id}function p(e){return e.table+e.id}function h(e,t){return r.a.isEqual(r.a.sortBy(e.authors||[],p),r.a.sortBy(t.authors||[],p))}function m(e,t){return r.a.sortBy(r.a.uniqBy([...e.authors||[],...t.authors||[]],p),p)}function f(e,t){return e.block_id===t.block_id&&u(e,t)}function g(e,t){return u(e,t)&&e.comment_id===t.comment_id}function b(e,t){return u(e,t)}function v(e,t){return e.collection_property_id===t.collection_property_id&&u(e,t)}function y(e,t){return e.collection_view_id===t.collection_view_id&&u(e,t)}function S(e,t){return e.mentioned_block_id===t.mentioned_block_id&&e.mentioned_user_id===t.mentioned_user_id&&e.mentioned_property===t.mentioned_property&&h(e,t)&&u(e,t)}function w(e){const t=[];e:for(;e.list.length>0;){const n=e.list.shift();let o,r=0,a=!1;for(;r<e.list.length;){const t=e.list[r];if(a=e.cancel(n,t),a){e.list.splice(r,1);continue e}if(o=e.replace(n,t),o){e.list[r]=o;continue e}r++}t.push(n)}return t}function k(e,t){return 0===r.a.difference(e,t).length&&0===r.a.difference(t,e).length}function C(e,t){return u(e,t)&&e.permission_group_id===t.permission_group_id}function M(e){return"permission-created"===e.type||"permission-deleted"===e.type?Object(c.f)(e.permission_data):"permission-changed"===e.type?Object(c.f)(e.permission_data.before):void Object(d.e)(e)}function E(e,t){return!!u(e,t)&&(!!h(e,t)&&("permission-restriction-created"===e.type||"permission-restriction-deleted"===e.type?"permission-restriction-created"===t.type||"permission-restriction-deleted"===t.type||e.permission_data.actual_changes.some(e=>Object(c.f)(e)===M(t)):"permission-restriction-created"===t.type||"permission-restriction-deleted"===t.type?t.permission_data.actual_changes.some(t=>Object(c.f)(t)===M(e)):M(e)===M(t)))}function _(e,t){if("permission-deleted"===e.type&&"permission-created"===t.type&&E(e,t)&&!function(e,t){return l.f(e)===l.f(t)}(e.permission_data,t.permission_data))return{...t,type:"permission-changed",timestamp:t.timestamp,permission_data:{before:e.permission_data,after:t.permission_data}}}function T(e){const t=w({list:w({list:r.a.sortBy(Object(a.a)(e)||[],e=>e.timestamp),cancel:(e,t)=>!1,replace:(e,t)=>_(e,t)}),cancel:(e,t)=>function(e,t){return"block-created"===e.type&&"block-deleted"===t.type&&f(e,t)}(e,t)||function(e,t){return"block-deleted"===e.type&&"block-created"===t.type&&f(e,t)}(e,t)||function(e,t){if("block-changed"===e.type&&"block-changed"===t.type&&f(e,t)){const n=i.g({before:e.block_data.before.block_value,after:e.block_data.after.block_value,schema:e.block_schema}),o=i.h({before:e.block_data.before.block_value,after:e.block_data.after.block_value}),a=i.g({before:t.block_data.before.block_value,after:t.block_data.after.block_value,schema:t.block_schema}),s=i.h({before:t.block_data.before.block_value,after:t.block_data.after.block_value});return!i.d({before:t.block_data.before.block_value,after:t.block_data.after.block_value})&&k(n,a)&&r.a.isEqual(r.a.pick(e.block_data.before.block_value.properties||{},n),r.a.pick(t.block_data.after.block_value.properties||{},a))&&k(o,s)&&r.a.isEqual(r.a.pick(e.block_data.before.block_value.format||{},o),r.a.pick(t.block_data.after.block_value.format||{},s))}return!1}(e,t)||function(e,t){return"permission-created"===e.type&&"permission-deleted"===t.type&&E(e,t)}(e,t)||function(e,t){return"permission-deleted"===e.type&&"permission-created"===t.type&&E(e,t)}(e,t)||function(e,t){return"permission-changed"===e.type&&"permission-changed"===t.type&&E(e,t)&&r.a.isEqual(e.permission_data.before,t.permission_data.after)}(e,t)||function(e,t){return"mention-created"===e.type&&"mention-deleted"===t.type&&S(e,t)}(e,t)||function(e,t){return"mention-deleted"===e.type&&"mention-created"===t.type&&S(e,t)}(e,t)||function(e,t){return"comment-created"===e.type&&"comment-deleted"===t.type&&g(e,t)}(e,t)||function(e,t){return"comment-deleted"===e.type&&"comment-created"===t.type&&g(e,t)}(e,t)||function(e,t){return"comment-changed"===e.type&&"comment-changed"===t.type&&g(e,t)&&r.a.isEqual(e.comment_data.before,t.comment_data.after)}(e,t)||function(e,t){return!!("collection-changed"===e.type&&"collection-changed"===t.type&&b(e,t)&&e.collection_data&&t.collection_data)&&r.a.isEqual(e.collection_data.before,t.collection_data.after)}(e,t)||function(e,t){return"collection-property-created"===e.type&&"collection-property-deleted"===t.type&&v(e,t)}(e,t)||function(e,t){return"collection-property-deleted"===e.type&&"collection-property-created"===t.type&&v(e,t)}(e,t)||function(e,t){return"collection-property-changed"===e.type&&"collection-property-changed"===t.type&&v(e,t)&&r.a.isEqual(e.collection_property_data.before,t.collection_property_data.after)}(e,t)||function(e,t){return"collection-view-created"===e.type&&"collection-view-deleted"===t.type&&y(e,t)}(e,t)||function(e,t){return"collection-view-deleted"===e.type&&"collection-view-created"===t.type&&y(e,t)}(e,t)||function(e,t){return"collection-view-changed"===e.type&&"collection-view-changed"===t.type&&y(e,t)&&r.a.isEqual(e.collection_view_data.before,t.collection_view_data.after)}(e,t)||function(e,t){return"permission-group-created"===e.type&&"permission-group-deleted"===t.type&&C(e,t)}(e,t)||function(e,t){return"permission-group-deleted"===e.type&&"permission-group-created"===t.type&&C(e,t)}(e,t),replace:(e,t)=>function(e,t){if("block-created"===e.type&&"block-changed"===t.type&&f(e,t))return{...e,timestamp:t.timestamp,authors:m(e,t),block_schema:t.block_schema,block_data:t.block_data.after}}(e,t)||function(e,t){if("block-changed"===e.type&&"block-changed"===t.type&&f(e,t))return{...e,timestamp:t.timestamp,authors:m(e,t),block_schema:t.block_schema,block_data:{before:e.block_data.before,after:t.block_data.after}}}(e,t)||function(e,t){if("comment-created"===e.type&&"comment-changed"===t.type&&g(e,t))return{...e,comment_data:t.comment_data.after}}(e,t)||function(e,t){if("comment-changed"===e.type&&"comment-changed"===t.type&&g(e,t))return{...e,comment_data:{before:e.comment_data.before,after:t.comment_data.after}}}(e,t)||function(e,t){if("permission-created"===e.type&&"permission-changed"===t.type&&E(e,t))return{...e,timestamp:t.timestamp,permission_data:t.permission_data.after}}(e,t)||function(e,t){if("permission-changed"===e.type&&"permission-changed"===t.type&&E(e,t))return{...e,permission_data:{before:e.permission_data.before,after:t.permission_data.after},timestamp:t.timestamp}}(e,t)||function(e,t){if("permission-created"===t.type&&"permission-restriction-created"===e.type&&E(e,t))return{...e,timestamp:t.timestamp}}(e,t)||function(e,t){if("permission-deleted"===t.type&&"permission-restriction-deleted"===e.type&&E(e,t))return{...e,timestamp:t.timestamp}}(e,t)||function(e,t){if("collection-created"===e.type&&"collection-changed"===t.type&&b(e,t))return{...e,authors:m(e,t),collection_data:t.collection_data?t.collection_data.after:void 0}}(e,t)||function(e,t){if("collection-changed"===e.type&&"collection-changed"===t.type&&b(e,t))return{...e,timestamp:t.timestamp,authors:m(e,t),collection_data:{before:e.collection_data?e.collection_data.before:void 0,after:t.collection_data?t.collection_data.after:void 0}}}(e,t)||function(e,t){if("collection-property-created"===e.type&&"collection-property-changed"===t.type&&v(e,t))return{...e,timestamp:t.timestamp,authors:m(e,t),collection_property_data:t.collection_property_data.after}}(e,t)||function(e,t){if("collection-property-changed"===e.type&&"collection-property-changed"===t.type&&v(e,t))return{...e,timestamp:t.timestamp,authors:m(e,t),collection_property_data:{before:e.collection_property_data.before,after:t.collection_property_data.after}}}(e,t)||function(e,t){if("collection-view-created"===e.type&&"collection-view-changed"===t.type&&y(e,t))return{...e,timestamp:t.timestamp,authors:m(e,t),collection_view_data:t.collection_view_data.after}}(e,t)||function(e,t){if("collection-view-changed"===e.type&&"collection-view-changed"===t.type&&y(e,t))return{...e,timestamp:t.timestamp,authors:m(e,t),collection_view_data:{before:e.collection_view_data.before,after:t.collection_view_data.after}}}(e,t)||function(e,t){if("permission-group-created"===e.type&&"permission-group-changed"===t.type&&C(e,t))return{...e,timestamp:t.timestamp,permission_group_data:t.permission_group_data.after,authors:m(e,t)}}(e,t)||function(e,t){if("permission-group-changed"===e.type&&"permission-group-changed"===t.type&&C(e,t))return{...e,permission_group_data:{before:e.permission_group_data.before,after:t.permission_group_data.after},timestamp:t.timestamp,authors:m(e,t)}}(e,t)}).filter(e=>!function(e){if("block-changed"===e.type){const t=i.b({before:e.block_data.before.block_value,after:e.block_data.after.block_value,schema:e.block_schema}),n=i.d({before:e.block_data.before.block_value,after:e.block_data.after.block_value}),o=i.a({before:e.block_data.before.block_value,after:e.block_data.after.block_value});return!t&&!n&&!o}return!1}(e));return r.a.sortBy(t,e=>e.timestamp)}function x(e){const t=w({list:r.a.sortBy(Object(a.a)(e)||[],e=>e.timestamp),cancel:(e,t)=>!1,replace:(e,t)=>function(e,t){if("block-changed"===e.type&&"block-deleted"===t.type&&f(e,t))return{...t,authors:m(e,t)}}(e,t)||function(e,t){if("permission-group-changed"===e.type&&"permission-group-deleted"===t.type&&C(e,t))return{...t,timestamp:t.timestamp,permission_group_data:e.permission_group_data.before,authors:m(e,t)}}(e,t)||function(e,t){if("permission-changed"===e.type&&"permission-deleted"===t.type&&E(e,t))return{...t,timestamp:t.timestamp,permission_data:e.permission_data.before}}(e,t)||function(e,t){if("collection-property-changed"===e.type&&"collection-property-deleted"===t.type&&v(e,t))return{...t,authors:m(e,t)}}(e,t)||function(e,t){if("collection-view-changed"===e.type&&"collection-view-deleted"===t.type&&y(e,t))return{...t,authors:m(e,t)}}(e,t)});return r.a.sortBy(t,e=>e.timestamp)}function I(e){return function(e){const t=[];return e.forEach(e=>{if("block-changed"===e.type){if(i.d({before:e.block_data.before.block_value,after:e.block_data.after.block_value})){const n={...e,type:"block-created",block_data:e.block_data.after},o={...e,type:"block-deleted",block_data:e.block_data.before};t.push(o),t.push(n)}else t.push(e)}else t.push(e)}),t}(x(e)).filter(e=>!function(e){return("block-created"===e.type||"block-deleted"===e.type)&&s.x[e.block_data.block_value.type]&&"page"!==e.block_data.block_value.type&&(!e.block_data.block_value.properties||!e.block_data.block_value.properties.title)}(e)&&!function(e){return("block-created"===e.type||"block-deleted"===e.type)&&s.m[e.block_data.block_value.type]}(e))}},"7M94":function(e,t,n){"use strict";n.d(t,"s",(function(){return o})),n.d(t,"y",(function(){return r})),n.d(t,"K",(function(){return a})),n.d(t,"C",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"I",(function(){return l})),n.d(t,"M",(function(){return c})),n.d(t,"L",(function(){return d})),n.d(t,"sb",(function(){return u})),n.d(t,"ub",(function(){return p})),n.d(t,"tb",(function(){return h})),n.d(t,"E",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"kb",(function(){return g})),n.d(t,"t",(function(){return b})),n.d(t,"mb",(function(){return v})),n.d(t,"pb",(function(){return y})),n.d(t,"Ib",(function(){return S})),n.d(t,"vb",(function(){return w})),n.d(t,"wb",(function(){return k})),n.d(t,"z",(function(){return C})),n.d(t,"A",(function(){return M})),n.d(t,"lb",(function(){return E})),n.d(t,"B",(function(){return _})),n.d(t,"Nb",(function(){return T})),n.d(t,"Ob",(function(){return x})),n.d(t,"Pb",(function(){return I})),n.d(t,"xb",(function(){return P})),n.d(t,"Qb",(function(){return O})),n.d(t,"Rb",(function(){return B})),n.d(t,"qb",(function(){return L})),n.d(t,"x",(function(){return R})),n.d(t,"J",(function(){return D})),n.d(t,"F",(function(){return A})),n.d(t,"rb",(function(){return j})),n.d(t,"l",(function(){return F})),n.d(t,"j",(function(){return V})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return U})),n.d(t,"f",(function(){return z})),n.d(t,"nb",(function(){return X})),n.d(t,"Ub",(function(){return Y})),n.d(t,"Sb",(function(){return H})),n.d(t,"Tb",(function(){return q})),n.d(t,"yb",(function(){return W})),n.d(t,"G",(function(){return G})),n.d(t,"c",(function(){return Z})),n.d(t,"b",(function(){return K})),n.d(t,"d",(function(){return J})),n.d(t,"a",(function(){return Q})),n.d(t,"zb",(function(){return $})),n.d(t,"Ab",(function(){return ee})),n.d(t,"Z",(function(){return te})),n.d(t,"o",(function(){return ne})),n.d(t,"Bb",(function(){return oe})),n.d(t,"Db",(function(){return re})),n.d(t,"ab",(function(){return ae})),n.d(t,"ib",(function(){return ie})),n.d(t,"gb",(function(){return se})),n.d(t,"eb",(function(){return le})),n.d(t,"cb",(function(){return ce})),n.d(t,"bb",(function(){return de})),n.d(t,"jb",(function(){return ue})),n.d(t,"hb",(function(){return pe})),n.d(t,"fb",(function(){return he})),n.d(t,"db",(function(){return me})),n.d(t,"Vb",(function(){return fe})),n.d(t,"Cb",(function(){return ge})),n.d(t,"ob",(function(){return be})),n.d(t,"P",(function(){return ve})),n.d(t,"T",(function(){return ye})),n.d(t,"V",(function(){return Se})),n.d(t,"Y",(function(){return we})),n.d(t,"W",(function(){return ke})),n.d(t,"X",(function(){return Ce})),n.d(t,"O",(function(){return Me})),n.d(t,"S",(function(){return Ee})),n.d(t,"U",(function(){return _e})),n.d(t,"N",(function(){return Te})),n.d(t,"Q",(function(){return xe})),n.d(t,"R",(function(){return Ie})),n.d(t,"Eb",(function(){return Pe})),n.d(t,"Fb",(function(){return Oe})),n.d(t,"Gb",(function(){return Be})),n.d(t,"Hb",(function(){return Le})),n.d(t,"k",(function(){return Re})),n.d(t,"m",(function(){return De})),n.d(t,"H",(function(){return Ae})),n.d(t,"D",(function(){return je})),n.d(t,"p",(function(){return Fe})),n.d(t,"n",(function(){return Ve})),n.d(t,"r",(function(){return Ne})),n.d(t,"q",(function(){return Ue})),n.d(t,"Mb",(function(){return ze})),n.d(t,"Jb",(function(){return Xe})),n.d(t,"Lb",(function(){return Ye})),n.d(t,"Kb",(function(){return He})),n.d(t,"w",(function(){return qe})),n.d(t,"u",(function(){return We})),n.d(t,"v",(function(){return Ge}));const o="notion-cursor-default",r="notion-fadein",a="notion-mobile",i="notion-front-page",s="analytics-scroll-point",l="notion-login",c="notion-light-theme",d="notion-dark-theme",u="notion-scroller",p="vertical",h="horizontal",m="notion-history-modal",f="notion-block-resizer",g="notion-overlay-container",b="notion-default-overlay-container",v="notion-page-template-modal",y="notion-peek-renderer",S="notion-text-action-menu",w="notion-selectable",k="notion-selectable-halo",C="notion-focusable",M="notion-focusable-within",E="notion-page-content",_="notion-frame",T="notion-topbar",x="notion-topbar-mobile",I="notion-topbar-more-button",P="notion-share-menu",O="notion-topbar-share-menu",B="notion-updates-menu",L="notion-quick-find-menu",R="notion-embed-menu",D="notion-media-menu",A="notion-invite",j="notion-record-icon",F="notion-calendar-header-days",V="notion-board-group",N="notion-block-permission-settings-public-access",U="notion-block-permission-settings-workspace-access",z="notion-block-permission-settings-group-access",X="notion-page-view-discussion",Y="notion-updates-button-mentions",H="notion-updates-button-all-updates",q="notion-updates-button-archive",W="notion-sharing-permission-role-select",G="notion-language-picker",Z="notion-activity-section-icon",K="notion-activity-section-header",J="notion-activity-section-time",Q="notion-activity-section-children",$="notion-sidebar",ee="notion-sidebar-mobile",te="notion-open-sidebar",ne="notion-close-sidebar",oe="notion-sidebar-switcher",re="notion-space-settings",ae="notion-outliner-bookmarks",ie="notion-outliner-workspace",se="notion-outliner-shared",le="notion-outliner-private",ce="notion-outliner-offline",de="notion-outliner-bookmarks-header",ue="notion-outliner-workspace-header",pe="notion-outliner-shared-header",he="notion-outliner-private-header",me="notion-outliner-offline-header",fe="notion-updates-menu",ge="notion-sidebar-trash-menu",be="notion-password-modal",ve="notion-use-case-onboarding-gdpr",ye="notion-use-case-onboarding-profile",Se="notion-workspace-choose",we="notion-workspace-plan-choose",ke="notion-workspace-create",Ce="notion-workspace-invite",Me="notion-onboarding-error",Ee="notion-onboarding-popup",_e="notion-onboarding-select",Te="notion-onboarding-button",xe="notion-onboarding-plan-type-personal",Ie="notion-onboarding-plan-type-team",Pe="notion-table-view",Oe="notion-table-view-add-column",Be="notion-table-view-add-row",Le="notion-table-view-header-cell",Re="notion-board-view",De="notion-calendar-view",Ae="notion-list-view",je="notion-gallery-view",Fe="notion-collection-item",Ve="notion-calendar-view-day",Ne="notion-collection-view-select",Ue="notion-collection-view-item-add",ze="notion-timeline-view",Xe="notion-timeline-item",Ye="notion-timeline-item-row",He="notion-timeline-item-properties",qe="developer-integrations-list",We="developer-integration-create",Ge="developer-integration-view"},"7Q97":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o,r=n("q1tI"),a=n.n(r),i=n("wldR"),s=n("mF3+"),l=n("zmp8"),c=n("MeYt"),d=n("Sb6f");!function(e){e[e.ExtraSmall=0]="ExtraSmall",e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Inline=3]="Inline",e[e.Large=4]="Large"}(o||(o={}));class u extends i.a{renderComponent(){return a.a.createElement("div",{style:this.getStyle()},a.a.createElement("div",{style:{...d.a.textOverflowStyle}},this.props.value),this.renderRemoveButton())}renderRemoveButton(){const{height:e,removeIconSize:t}=u.styles[this.props.format];if(this.props.showRemoveButton)return a.a.createElement(c.a,{onClick:this.props.onClickRemove,style:{...u.removeButtonStyle,width:e,height:e},mobileFeedback:!0,className:"notion-token-remove-button"},s.a.closeThick({width:t,height:t,opacity:.5}))}getStyle(){const{format:e,isSingle:t,shouldShrink:n}=this.props,{height:o,fontSize:r,paddingLeftRight:a,margin:i}=u.styles[e],{ThemeStore:s}=this.environment;return{display:t?"inline-flex":"flex",alignItems:"center",flexShrink:t||n?1:0,minWidth:0,height:o,borderRadius:3,paddingLeft:a,paddingRight:this.props.showRemoveButton?0:a,fontSize:r,lineHeight:"120%",color:"light"===s.state.mode?this.theme.regularTextColor:l.g.whiteWithAlpha(.7),background:this.props.backgroundColor||this.theme.selectColors.default,margin:t?0:i}}}u.Format=o,u.styles={[o.ExtraSmall]:{height:14,fontSize:12,paddingLeftRight:6,margin:"0 6px 0 0",removeIconSize:8},[o.Small]:{height:18,fontSize:12,paddingLeftRight:6,margin:"0 6px 6px 0",removeIconSize:8},[o.Medium]:{height:18,fontSize:14,paddingLeftRight:6,margin:"0 6px 6px 0",removeIconSize:8},[o.Large]:{height:24,fontSize:16,paddingLeftRight:8,margin:"0 8px 8px 0",removeIconSize:10},[o.Inline]:{height:18,fontSize:14,paddingLeftRight:8,margin:"0 6px 0 0",removeIconSize:8}},u.removeButtonStyle={display:"flex",alignItems:"center",justifyContent:"center",flexGrow:0,flexShrink:0,marginLeft:2,marginRight:2,cursor:"pointer"},t.b=u},"7QKz":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a}));const o="notion_browser_id",r="notion_user_id",a="notion_users"},"7Qu9":function(e,t,n){"use strict";n.r(t),n.d(t,"groupInterval",(function(){return r}));var o=n("LEzx");const r=700;class a extends o.a{getInitialState(){return{revisionStack:[],currentIndex:0}}}t.default=new a},"7TLZ":function(e,t,n){"use strict";n.d(t,"n",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"m",(function(){return g})),n.d(t,"l",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"o",(function(){return y})),n.d(t,"k",(function(){return S})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"i",(function(){return C})),n.d(t,"e",(function(){return M})),n.d(t,"j",(function(){return E})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return T})),n.d(t,"p",(function(){return x})),n.d(t,"a",(function(){return P})),n.d(t,"q",(function(){return O}));n("Junv"),n("E9XD");var o=n("LvDl"),r=n.n(o),a=n("bPtJ"),i=n("HRSx"),s=n("bmSz"),l=n("kaWB"),c=n("6CqZ"),d=n("hbKx"),u=n("Mht8"),p=n("FUUC");function h(e){return e.table===i.a}function m(e){return Object(a.a)(e,e.pointer,"discussions")}function f(e){const t=(m(e).getValue()||[]).map(t=>Object(a.c)(e,{table:s.a,id:t}));return t.reverse(),t}function g(e){return f(e).filter(e=>{const t=e.getValue();return!!t&&!t.resolved})}function b(e){return f(e).filter(e=>{const t=e.getValue();return!!t&&t.resolved})}function v(e){return g(e).reduce((e,t)=>{const n=t.getValue();return n?e+(n.comments||[]).length:e},0)}function y(e){if("text"!==e.getType())return!1;const t=e.getProperties();return(!t||!t.title)&&(0===e.getContentIds().length&&0===function(e){return g(e).length}(e))}function S(e){return Object(a.a)(e,e.pointer,"properties")}function w(e){return Object(a.a)(e,e.pointer,"comments")}function k(e){const t=w(e);return(t.getValue()||[]).map(e=>Object(a.c)(t,{table:l.a,id:e}))}function C(e){const t=e.getValue();if(t)return Object(a.c)(e,{table:t.parent_table,id:t.parent_id})}function M(e){return Object(a.a)(e,e.pointer,"text")}function E(e){const t=e.getValue();if(t)return Object(a.c)(e,{table:t.parent_table,id:t.parent_id})}function _(e,t,n){return Object(a.c)(e,{table:c.a,id:t,spaceId:n})}function T(e){const t=e.getValue();if(t)return _(e,t.activity_id,t.space_id)}function x(e){return e.table===p.a}const I=r.a.throttle(e=>{u.log(e)},500),P=function(e){let t=e,n=0;for(;t;){if(!t.isReady())return!1;if(n>=128)return I({level:"error",from:"recordStoreHelpers",type:"areAncestorsLoaded",data:{message:"max depth reached",miscDataToConvertToString:{maxDepth:128,id:e.id,table:e.table,currentStoreId:t.id,currentTable:t.table}}}),!1;n+=1,t=Object(d.f)(t)}return!0};async function O(e){let t=e,n=0;for(;t;){if(t.isReady()||await t.load(),n>=128)return I({level:"error",from:"recordStoreHelpers",type:"loadAncestors",data:{message:"max depth reached",miscDataToConvertToString:{maxDepth:128,id:e.id,table:e.table,currentStoreId:t.id,currentTable:t.table}}}),!1;n+=1,t=Object(d.f)(t)}}},"7Vnh":function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return y}));var o=n("q1tI"),r=n.n(o),a=n("6BTz"),i=n("J9+s"),s=n("VhAz");const l=(e,t)=>({price:{yearly:{personal:Object(a.b)({amount:0,currency:"dollar",intl:t}),education:Object(a.b)({amount:e.pricing.personal.yearlyPrice/12,currency:"dollar",intl:t}),pro:Object(a.b)({amount:e.pricing.personal.yearlyPrice/12,currency:"dollar",intl:t}),team:Object(a.b)({amount:e.pricing.team.yearlyPricePerMember/12,currency:"dollar",intl:t}),startup:Object(a.b)({amount:e.pricing.team.yearlyPricePerMember/12,currency:"dollar",intl:t}),enterprise:Object(a.b)({amount:e.pricing.enterprise.yearlyPricePerMember/12,currency:"dollar",intl:t}),evernote:Object(a.b)({amount:800,currency:"dollar",intl:t}),personalComparison:Object(a.b)({amount:0,currency:"dollar",intl:t})},monthly:{personal:Object(a.b)({amount:0,currency:"dollar",intl:t}),education:Object(a.b)({amount:e.pricing.personal.monthlyPrice,currency:"dollar",intl:t}),pro:Object(a.b)({amount:e.pricing.personal.monthlyPrice,currency:"dollar",intl:t}),team:Object(a.b)({amount:e.pricing.team.monthlyPricePerMember,currency:"dollar",intl:t}),startup:Object(a.b)({amount:e.pricing.team.monthlyPricePerMember,currency:"dollar",intl:t}),enterprise:Object(a.b)({amount:e.pricing.enterprise.monthlyPricePerMember,currency:"dollar",intl:t}),evernote:Object(a.b)({amount:800,currency:"dollar",intl:t}),personalComparison:Object(a.b)({amount:0,currency:"dollar",intl:t})}},terms:{personal:"none",education:"per_month",pro:"per_month",team:"per_member_per_month",startup:"per_member_per_month",enterprise:"per_member_per_month",evernote:"per_month",personalComparison:"none"}}),c=(...e)=>r.a.createElement("div",{style:{margin:"5px 0"}},e),d={allTeamPlanFeatures:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.allTeamPlanFeatures.tooltip",defaultMessage:"<p>All the features of our Team Plan, plus more.</p>",values:{p:c}}),isOneLiner:!0},allPersonalPlanFeatures:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.allPersonalPlanFeatures.tooltip",defaultMessage:"<p>All the features of our Personal Plan, plus more.</p>",values:{p:c}}),isOneLiner:!0},allProPlanFeatures:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.allProPlanFeatures.tooltip",defaultMessage:"<p>All the features of our Personal Pro Plan, plus more.</p>",values:{p:c}}),isOneLiner:!0},freeForIndividuals:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.freeForIndividuals.tooltip",defaultMessage:"<p>Notion is now free for personal use.</p>",values:{p:c}}),isOneLiner:!1},members:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.members.tooltip",defaultMessage:"<p>Members are teammates you invite to your workspace. They can access and add pages for all members to see, or be added to pages with permissions for private collaboration.</p>",values:{p:c}}),isOneLiner:!1},guests:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.guests.tooltip",defaultMessage:"<p>Guests are individuals external to your workspace, such as friends, family, contractors or clients. Collaborate privately by inviting guests on individual pages.</p>",values:{p:c}}),isOneLiner:!1},blockStorage:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.blockStorage.tooltip",defaultMessage:"<p>Blocks are pieces of content you add to a page, like a paragraph, a to-do item, an image, an embedded file, etc. Blocks are now unlimited for all plans. A 1,000 block limit applies for Team Plan trials.</p>",values:{p:c}}),isOneLiner:!1},fileUploads:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.fileUploads.tooltip",defaultMessage:"<p>A per file size limit may apply to any file that you upload to a Notion page or database.</p>",values:{p:c}}),isOneLiner:!1},versionHistory:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.versionHistory.tooltip",defaultMessage:"<p>View and restore past versions of any Notion page.</p>",values:{p:c}}),isOneLiner:!0},realTimeCollaboration:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.realTimeCollaboration.tooltip",defaultMessage:"<p>Work with others in real time, with live presence and comments.</p>",values:{p:c}}),isOneLiner:!1},linkSharing:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.linkSharing.tooltip",defaultMessage:"<p>Share a secret link with anyone, so they can view, comment, or edit your page at your discretion.</p>",values:{p:c}}),isOneLiner:!1},collaborativeWorkspace:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.collaborativeWorkspace.tooltip",defaultMessage:"<p>The collaborative workspace lets members easily share pages to the whole team in a shared hierarchy, with granular permissions.</p>",values:{p:c}}),isOneLiner:!1},apps:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.apps.tooltip",defaultMessage:"<p>Notion runs in your web browser with no installation required. Or download our app for Mac, Windows, iOS, or Android.</p>",values:{p:c}}),isOneLiner:!1},blockTypes:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.blockTypes.tooltip",defaultMessage:"<p>Blocks are different types of content you can add to a page: a to-do item, an image, a code block, an uploaded file.</p><p>Blocks also help you embed content from services like Google Drive, GitHub, Twitter, and Typeform.</p>",values:{p:c}}),isOneLiner:!1},templates:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.templates.tooltip",defaultMessage:"<p>Start with a blank canvas or choose from our library of expertly designed templates.</p><p>Some favorites include: notes, goals, company home, meeting notes, product roadmap, new hire onboarding, and engineering wiki.</p>",values:{p:c}}),isOneLiner:!1},databases:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.databases.tooltip",defaultMessage:"<p>View databases in many ways, tailored to your own workflow. Use databases for project boards, event calendars, and more.</p>",values:{p:c}}),isOneLiner:!1},databaseProperties:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.databaseProperties.tooltip",defaultMessage:"<p>Build powerful databases with rich properties, such as checkboxes, dropdown selects, currencies, assignees, dates, files, and more.</p>",values:{p:c}}),isOneLiner:!1},proWebPublishing:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.proWebPublishing.tooltip",defaultMessage:"<p>Publish your Notion pages as a standalone website. Coming soon.</p>",values:{p:c}}),isOneLiner:!1},contentApi:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.contentApi.tooltip",defaultMessage:"<p>Access the Notion Content API to build custom integrations for your own workflow. Coming soon.</p>",values:{p:c}}),isOneLiner:!1},scimApi:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.scimApi.tooltip",defaultMessage:"<p>Access the Notion SCIM API to provision and manage users and groups.</p>",values:{p:c}}),isOneLiner:!1},bulkExport:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.bulkExport.tooltip",defaultMessage:"<p>You own your data. Download all your pages as HTML, Markdown, or CSV (for databases), and any files/images you've uploaded, too.</p>",values:{p:c}}),isOneLiner:!1},adminTools:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.adminTools.tooltip",defaultMessage:"<p>Create separate admin and member permissions for more control. Only admins can invite new members and change workspace settings.</p>",values:{p:c}}),isOneLiner:!1},advancedSecurity:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.advancedSecurity.tooltip",defaultMessage:"<p>Unlock extra permission controls to prevent certain people from sharing pages externally, disable guests, and set workspace-level rules.</p>",values:{p:c}}),isOneLiner:!1},advancedPermissions:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.advancedPermissions.tooltip",defaultMessage:"<p>Set more granular permission to restrict invited people from sharing the page to others.</p>",values:{p:c}}),isOneLiner:!1},permissionGroups:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.permissionGroups.tooltip",defaultMessage:"<p>Set varying and granular permissions for different groups and team.</p>",values:{p:c}}),isOneLiner:!1},bulkPDFExport:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.bulkPDFExport.tooltip",defaultMessage:"<p>Export all of your content at once as PDFs. Handy for legal or compliance backups.</p>",values:{p:c}}),isOneLiner:!1},sso:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.SSO.tooltip",defaultMessage:"<p>Manage employee access at scale with secure single sign-on.</p>",values:{p:c}}),isOneLiner:!1},earlyAccess:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.earlyAccess.tooltip",defaultMessage:"<p>Early access means you'll always have the most powerful version of Notion. You'll also influence our future product roadmap.</p>",values:{p:c}}),isOneLiner:!1},prioritySupport:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.prioritySupport.tooltip",defaultMessage:"<p>We're always around to help.</p>",values:{p:c}}),isOneLiner:!0},dedicatedManager:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.dedicatedManager.tooltip",defaultMessage:"<p>Reserved for teams larger than 100 people paying annually.</p>",values:{p:c}}),isOneLiner:!1},customContract:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.customContract.tooltip",defaultMessage:"<p>We'll work with you to create a custom contract and payment via PO/invoice.</p>",values:{p:c}}),isOneLiner:!1},wikisDocsNotes:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.wikisDocsNotes.tooltip",defaultMessage:"<p>Use Notion for shared wikis and docs, and as a powerful notetaking tool.</p>",values:{p:c}}),isOneLiner:!1},genericNotes:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.genericNotes.tooltip",defaultMessage:"<p>Create documents and share with others.</p>",values:{p:c}}),isOneLiner:!0},genericTags:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.genericTags.tooltip",defaultMessage:"<p>Organize and track your notes.</p>",values:{p:c}}),isOneLiner:!0},genericReminders:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.genericReminders.tooltip",defaultMessage:"<p>Get notified of due dates.</p>",values:{p:c}}),isOneLiner:!0},genericWebClipper:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.genericWebClipper.tooltip",defaultMessage:"<p>Save pages from the web.</p>",values:{p:c}}),isOneLiner:!0},evernoteHierarchy:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.evernoteHierarchy.tooltip",defaultMessage:"<p>Organize notes into notebooks and stacks.</p>",values:{p:c}}),isOneLiner:!0},notionHierarchy:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.notionHierarchy.tooltip",defaultMessage:"<p>No limits on nesting notes within notes.</p>",values:{p:c}}),isOneLiner:!0},notionCollaboration:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.notionCollaboration.tooltip",defaultMessage:"<p>Work with others on the same page at the same time.</p>",values:{p:c}}),isOneLiner:!0},notionMarkdown:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.notionMarkdown.tooltip",defaultMessage:"<p>Write or export content in markdown.</p>",values:{p:c}}),isOneLiner:!0},notionDatabases:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.notionDatabases.tooltip",defaultMessage:"<p>New workflows with database views, rollups, filters, and more.</p>",values:{p:c}}),isOneLiner:!1},timeline:{content:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.timeline.tooltip",defaultMessage:"<p>Use timeline views for project scheduling and planning.</p>",values:{p:c}}),isOneLiner:!1}};function u(e){return e.isOneLiner?r.a.createElement("div",{style:{whiteSpace:"nowrap"}},r.a.createElement("div",{style:{margin:"-5px 0"}},e.content)):r.a.createElement("div",{style:{width:240}},r.a.createElement("div",{style:{margin:"-5px 0"}},e.content))}const p=Object(i.defineMessages)({free:{id:"frontPricingCard.personalFreePlan.title",defaultMessage:"Personal"},personal:{id:"frontPricingCard.personalProPlan.title",defaultMessage:"Personal Pro"},team:{id:"frontPricingCard.teamPlan.title",defaultMessage:"Team"},enterprise:{id:"frontPricingCard.enterprisePlan.title",defaultMessage:"Enterprise"},evernoteComparison:{id:"frontPricingCard.evernotePremiumComparison.title",defaultMessage:"Evernote Premium"},personalComparison:{id:"frontPricingCard.personalPlanComparison.title",defaultMessage:"Notion Personal"}}),h=Object(i.defineMessages)({free:{id:"frontPricingCard.personalFreePlan.oneliner",defaultMessage:"For organizing every corner of your life."},personal:{id:"frontPricingCard.personalProPlan.oneliner",defaultMessage:"For power users who want to do even more."},team:{id:"frontPricingCard.teamPlan.oneliner",defaultMessage:"For teams who want to work together in one place."},enterprise:{id:"frontPricingCard.enterprisePlan.oneliner",defaultMessage:"Controls and support to run your company."},evernoteComparison:{id:"frontPricingCard.evernotePremiumComparison.oneliner",defaultMessage:"Basic note taking."},personalComparison:{id:"frontPricingCard.personalPlanComparison.oneliner",defaultMessage:"For organizing every corner of your life."}}),m=r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.comingSoonBadge",defaultMessage:"Coming soon"}),f={unlimitedBlocks:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.freePlan.attribute.unlimitedBlocks",defaultMessage:"Unlimited pages & blocks"}),tooltip:d.blockStorage},shareWithLimitedGuests:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.freePlan.attribute.shareWithGuests",defaultMessage:"Share with 5 guests"}),tooltip:d.guests},syncAcrossDevices:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.freePlan.attribute.syncAcrossDevices",defaultMessage:"Sync across devices"}),tooltip:d.apps},unlimitedFileUploads:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.educationPlan.attribute.unlimitedFileUploads",defaultMessage:"Unlimited file uploads"}),tooltip:d.fileUploads},unlimitedGuests:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.educationPlan.attribute.shareWithGuests",defaultMessage:"Unlimited guests"}),tooltip:d.guests},versionHistory:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.educationPlan.attribute.versionHistory",defaultMessage:"Version history"}),tooltip:d.versionHistory},contentApi:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.educationPlan.attribute.contentApi",defaultMessage:"Content API"}),tooltip:d.contentApi,isComingSoon:!0},unlimitedTeamMembers:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.teamPlan.attribute.unlimitedMembers",defaultMessage:"Unlimited team members"}),tooltip:d.members},collaborativeWorkspace:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.teamPlan.attribute.collaborativeWorkspace",defaultMessage:"Collaborative workspace"}),tooltip:d.collaborativeWorkspace},advancedPermissions:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.teamPlan.attribute.advancedPermissions",defaultMessage:"Advanced permissions"}),tooltip:d.advancedPermissions},adminTools:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.teamPlan.attribute.adminTools",defaultMessage:"Admin tools"}),tooltip:d.adminTools},sso:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.enterprisePlan.attribute.sso",defaultMessage:"SAML SSO"}),tooltip:d.sso},scimApi:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.enterprisePlan.attribute.scimApi",defaultMessage:"SCIM API"}),tooltip:d.scimApi},advancedSecurity:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.enterprisePlan.attribute.advancedSecurity",defaultMessage:"Advanced security"}),tooltip:d.advancedSecurity},dedicatedManager:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.enterprisePlan.attribute.dedicatedManager",defaultMessage:"Dedicated manager"}),tooltip:d.dedicatedManager},customContract:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.enterprisePlan.attribute.customContractInvoicing",defaultMessage:"Custom contract"}),tooltip:d.customContract},notes:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.evernotePremiumComparison.attribute.notes",defaultMessage:"Notes"}),tooltip:d.genericNotes},tags:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.evernotePremiumComparison.attribute.tags",defaultMessage:"Tags"}),tooltip:d.genericTags},reminders:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.evernotePremiumComparison.attribute.reminders",defaultMessage:"Reminders"}),tooltip:d.genericReminders},webClipper:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.evernotePremiumComparison.attribute.webClipper",defaultMessage:"Web clipper"}),tooltip:d.genericWebClipper},twoLevelHierarchy:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.evernotePremiumComparison.attribute.twoLevelHierarchy",defaultMessage:"Two-level hierarchy"}),tooltip:d.evernoteHierarchy},infiniteHierarchy:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.personalPlanComparison.attribute.infiniteHierarchy",defaultMessage:"Infinite hierarchy"}),tooltip:d.notionHierarchy},realTimeCollaboration:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.personalPlanComparison.attribute.realTimeCollaboration",defaultMessage:"Real-time collaboration"}),tooltip:d.realTimeCollaboration},markdownSupport:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.personalPlanComparison.attribute.markdownSupport",defaultMessage:"Markdown support"}),tooltip:d.notionMarkdown},databases:{label:r.a.createElement(i.FormattedMessage,{id:"frontPricingCard.personalPlanComparison.attribute.databases",defaultMessage:"Databases"}),tooltip:d.notionDatabases}},g=(p.free,h.free,i.FormattedMessage,f.unlimitedBlocks,f.shareWithLimitedGuests,f.syncAcrossDevices,f.contentApi,p.personal,h.personal,i.FormattedMessage,f.unlimitedFileUploads,f.unlimitedGuests,f.versionHistory,p.personal,h.personal,i.FormattedMessage,f.unlimitedFileUploads,f.unlimitedGuests,f.versionHistory,p.team,h.team,i.FormattedMessage,f.unlimitedTeamMembers,f.collaborativeWorkspace,f.advancedPermissions,f.adminTools,p.team,h.team,i.FormattedMessage,f.unlimitedTeamMembers,f.collaborativeWorkspace,f.advancedPermissions,f.adminTools,p.enterprise,h.enterprise,i.FormattedMessage,f.sso,f.scimApi,f.advancedSecurity,f.dedicatedManager,f.customContract,p.evernoteComparison,h.evernoteComparison,f.notes,f.tags,f.reminders,f.webClipper,f.twoLevelHierarchy,p.personalComparison,h.personalComparison,f.notes,f.tags,f.reminders,f.webClipper,f.infiniteHierarchy,f.realTimeCollaboration,f.markdownSupport,f.databases,r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.value.unlimitedMembers",defaultMessage:"Unlimited",description:"The entry on the pricing grid that we use to represent an unlimited number of members allowed in a workspace, an unlimited number of blocks in a plan, or an unlimited amount of storage space."})),b=r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.value.justYou",defaultMessage:"Just you"}),v=[{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.comparisonSection.usage.title",defaultMessage:"Usage"}),items:[{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.blocks.title",defaultMessage:"Pages and blocks"}),tooltip:d.blockStorage,plans:{free:{hasFeature:!0,label:g},personal:{hasFeature:!0,label:g},teamTrial:{hasFeature:!0,label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.value.blockLimit",defaultMessage:"1,000 in trial"}),upgradeCta:"team"},team:{hasFeature:!0,label:g},enterprise:{hasFeature:!0,label:g}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.members.title",defaultMessage:"Members"}),tooltip:d.members,plans:{free:{hasFeature:!0,label:b},personal:{hasFeature:!0,label:b},teamTrial:{hasFeature:!0,label:g},team:{hasFeature:!0,label:g},enterprise:{hasFeature:!0,label:g}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.guests.title",defaultMessage:"Guests"}),tooltip:d.guests,plans:{free:{hasFeature:!0,label:"5"},personal:{hasFeature:!0,label:g},teamTrial:{hasFeature:!0,label:g},team:{hasFeature:!0,label:g},enterprise:{hasFeature:!0,label:g}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.fileUploads.title",defaultMessage:"File uploads"}),tooltip:d.fileUploads,plans:{free:{hasFeature:!0,label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.fileUploads.value.5MbFileUploadLimit",defaultMessage:"5 MB"})},personal:{hasFeature:!0,label:g},teamTrial:{hasFeature:!0,label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.fileUploads.trial.5MbFileUploadLimit",defaultMessage:"5 MB in trial"}),upgradeCta:"team"},team:{hasFeature:!0,label:g},enterprise:{hasFeature:!0,label:g}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.versionHistory.title",defaultMessage:"Version history"}),tooltip:d.versionHistory,plans:{free:{hasFeature:!1},personal:{hasFeature:!0,label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.versionHistory.value.30DaysSavedHistory",defaultMessage:"30 days"})},teamTrial:{hasFeature:!0,label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.versionHistory.value.notInTrial",defaultMessage:"Not in trial"}),upgradeCta:"team",upgradeCTALabel:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.versionHistory.value.trialUpgradeLabel",defaultMessage:"Upgrade to 30 days history"})},team:{hasFeature:!0,label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.versionHistory.value.30DaysSavedHistory",defaultMessage:"30 days"})},enterprise:{hasFeature:!0,label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.versionHistory.value.foreverSavedHistory",defaultMessage:"Forever"})}}}]},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.comparisonSection.collaboration.title",defaultMessage:"Collaboration"}),items:[{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.realTimeCollaboration.title",defaultMessage:"Real-time collaboration"}),tooltip:d.realTimeCollaboration,plans:{free:{hasFeature:!0},personal:{hasFeature:!0},teamTrial:{hasFeature:!0},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.linkSharing.title",defaultMessage:"Link sharing"}),tooltip:d.linkSharing,plans:{free:{hasFeature:!0},personal:{hasFeature:!0},teamTrial:{hasFeature:!0},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.collaborativeWorkspace.title",defaultMessage:"Collaborative workspace"}),tooltip:d.collaborativeWorkspace,plans:{free:{hasFeature:!1},personal:{hasFeature:!1},teamTrial:{hasFeature:!0},team:{hasFeature:!0},enterprise:{hasFeature:!0}}}]},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.comparisonSection.features.title",defaultMessage:"Features"}),items:[{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.apps.title",defaultMessage:"Web, desktop, & mobile apps"}),tooltip:d.apps,plans:{free:{hasFeature:!0},personal:{hasFeature:!0},teamTrial:{hasFeature:!0},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.timelineView.title",defaultMessage:"Timeline views"}),tooltip:d.timeline,plans:{free:{hasFeature:!0,label:3},personal:{hasFeature:!0,label:3},teamTrial:{hasFeature:!0,label:5},team:{hasFeature:!0,label:5},enterprise:{hasFeature:!0,label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.timelineView.enterpriseUnlimited",defaultMessage:"Unlimited"})}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.blockTypes.title",defaultMessage:"40+ block content types"}),tooltip:d.blockTypes,plans:{free:{hasFeature:!0},personal:{hasFeature:!0},teamTrial:{hasFeature:!0},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.templates.title",defaultMessage:"50+ starter templates"}),tooltip:d.templates,plans:{free:{hasFeature:!0},personal:{hasFeature:!0},teamTrial:{hasFeature:!0},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.wikiDocsNotes.title",defaultMessage:"Wikis, docs, & notes"}),tooltip:d.wikisDocsNotes,plans:{free:{hasFeature:!0},personal:{hasFeature:!0},teamTrial:{hasFeature:!0},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.databases.title",defaultMessage:"Databases with rich property types"}),tooltip:d.databaseProperties,plans:{free:{hasFeature:!0},personal:{hasFeature:!0},teamTrial:{hasFeature:!0},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.databaseViews.title",defaultMessage:"Table, list, calendar, kanban board, & gallery views"}),tooltip:d.databases,plans:{free:{hasFeature:!0},personal:{hasFeature:!0},teamTrial:{hasFeature:!0},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.contentApi.title",defaultMessage:"Content API"}),tooltip:d.contentApi,isComingSoon:!0,plans:{free:{hasFeature:!0},personal:{hasFeature:!0},teamTrial:{hasFeature:!0,upgradeCta:"team"},team:{hasFeature:!0},enterprise:{hasFeature:!0}}}]},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.comparisonSection.adminAndSecurityFeatures.title",defaultMessage:"Admin & security"}),items:[{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.bulkExport.title",defaultMessage:"Bulk export"}),tooltip:d.bulkExport,plans:{free:{hasFeature:!0},personal:{hasFeature:!0},teamTrial:{hasFeature:!0,upgradeCta:"team"},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.adminTools.title",defaultMessage:"Admin tools"}),tooltip:d.adminTools,plans:{free:{hasFeature:!1},personal:{hasFeature:!1},teamTrial:{hasFeature:!0,upgradeCta:"team"},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.permissionGroups.title",defaultMessage:"Permission groups"}),tooltip:d.permissionGroups,plans:{free:{hasFeature:!1},personal:{hasFeature:!1},teamTrial:{hasFeature:!0,upgradeCta:"team"},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.advancedPermissions.title",defaultMessage:"Advanced permissions"}),tooltip:d.advancedPermissions,plans:{free:{hasFeature:!1},personal:{hasFeature:!1},teamTrial:{hasFeature:!0,upgradeCta:"team"},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.advancedSecurity.title",defaultMessage:"Advanced security controls"}),tooltip:d.advancedSecurity,plans:{free:{hasFeature:!1},personal:{hasFeature:!1},teamTrial:{hasFeature:!1},team:{hasFeature:!1},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.sso.title",defaultMessage:"SAML + Single Sign-On (SSO)"}),tooltip:d.sso,plans:{free:{hasFeature:!1},personal:{hasFeature:!1},teamTrial:{hasFeature:!1},team:{hasFeature:!1},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.scimApi.title",defaultMessage:"SCIM API"}),tooltip:d.scimApi,plans:{free:{hasFeature:!1},personal:{hasFeature:!1},teamTrial:{hasFeature:!1},team:{hasFeature:!1},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.bulkPDFExport.title",defaultMessage:"Bulk PDF export"}),tooltip:d.bulkPDFExport,plans:{free:{hasFeature:!1},personal:{hasFeature:!1},teamTrial:{hasFeature:!1},team:{hasFeature:!1},enterprise:{hasFeature:!0}}}]},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.comparisonSection.support.title",defaultMessage:"Support"}),items:[{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.prioritySupport.title",defaultMessage:"Priority support"}),tooltip:d.prioritySupport,plans:{free:{hasFeature:!1},personal:{hasFeature:!0},teamTrial:{hasFeature:!0,upgradeCta:"team"},team:{hasFeature:!0},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.dedicatedManager.title",defaultMessage:"Dedicated manager"}),tooltip:d.dedicatedManager,plans:{free:{hasFeature:!1},personal:{hasFeature:!1},teamTrial:{hasFeature:!1},team:{hasFeature:!1},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.customContract.title",defaultMessage:"Custom contract & invoicing"}),tooltip:d.customContract,plans:{free:{hasFeature:!1},personal:{hasFeature:!1},teamTrial:{hasFeature:!1},team:{hasFeature:!1},enterprise:{hasFeature:!0}}},{label:r.a.createElement(i.FormattedMessage,{id:"pricingGrid.planAttribute.earlyAccess.title",defaultMessage:"Access new features early"}),tooltip:d.earlyAccess,plans:{free:{hasFeature:!1},personal:{hasFeature:!1},teamTrial:{hasFeature:!1},team:{hasFeature:!1},enterprise:{hasFeature:!0}}}]}];function y(e,t){switch(t){case"none":return"";case"per_month":return e.formatMessage({id:"pricingHelpers.perMonthPricing.label",defaultMessage:"per month",description:"Appears after the price per month for a given plan, e.g. $10 per month."});case"per_member_per_month":return e.formatMessage({id:"pricingHelpers.perMemberPerMonthPricing.label",defaultMessage:"per member per month",description:"Appears after the price per member per month for a given plan, e.g. $10 per member per month."});default:s.e(t)}}},"7W+R":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return g}));n("3bBZ");var o=n("HRSx"),r=n("922z"),a=n("VhAz"),i=n("bkwR"),s=n("Fe7V"),l=n("p0Ff"),c=n("AUNf"),d=n("yUnD");function u(e){if(!Object(d.d)(e))return;const t=e.currentUser;if(t)for(const n of t.loggedInUserIds)b(e,n)}async function p(e){const t=e.currentUser.id;if(!t)return;const{PersistedOfflineState:n}=e;if(!n)return;const r=(await async function(e,t){return w(e).getAllOfflineRootsForUser(t)}(e,t)).map(e=>{if(e.record_table!==o.a)throw new Error("We are trying to populate the sidebar with something that isn't a page.");return{id:e.record_id,type:"page"}});c.default.setState({values:r})}async function h(e,t){const n=w(e);await Promise.all(t.map(async e=>{const t=k(e);if(!(await n.isMarkedOffline(t)))return void Object(s.b)(e);const o=await n.getSyncParentsForRoot(t);let r,i=0;for(const n of o)switch(n.state){case"needs_delta_sync":case"needs_full_sync":r={page:e,type:"syncing"};break;case"fully_synced":i<n.last_updated_local_timestamp&&(i=n.last_updated_local_timestamp);continue;case"needs_garbage_collection":continue;case"sync_error":r={page:e,type:"error"};break;default:Object(a.e)(n.state)}r||(r={page:e,timestamp:new Date(i),type:"available-offline"}),Object(s.f)(r)}))}async function m(e,t){const n=w(e),r=k(t);if(await n.isMarkedOffline(r))return;const a={user_id:r.user_id,root_table:o.a,root_id:t.pointer.id,sync_parent_table:o.a,sync_parent_id:t.pointer.id,state:"needs_full_sync",last_updated_local_timestamp:Date.now(),last_synced_global_cursor:void 0};await Promise.all([n.addOrUpdateOfflineRoot(r),n.addOrUpdateSyncParent(a),p(e),C(e,[a])]),b(e,r.user_id)}async function f(e,t){const n=w(e),o=k(t);if(!(await n.isMarkedOffline(o)))return;await n.deleteOfflineRoot(o);const r=await n.getSyncParentsForRoot(o);await Promise.all([...r.map(async e=>{const t={userId:o.user_id,pointer:{table:e.sync_parent_table,id:e.sync_parent_id}};await n.addOrUpdateSyncParent({...e,state:"needs_garbage_collection"}),s.b(t)}),p(e),C(e,r)]),b(e,o.user_id)}async function g(e,t){const n=w(e),o=k(t);if(!(await n.isMarkedOffline(o)))return;const r=await n.getSyncParentsForRoot(o);await Promise.all([...r.map(async e=>{await n.addOrUpdateSyncParent({...e,state:"needs_full_sync"})}),C(e,r)]),b(e,o.user_id)}async function b(e,t){const n=w(e),o=await n.getHighestPriorityParentsNeedingProcessing(t,10);if(0===o.length)return;const r=o.filter(e=>"needs_full_sync"===e.state),a=o.filter(e=>"needs_delta_sync"===e.state),s=o.filter(e=>"needs_garbage_collection"===e.state);if(0!==r.length){const n=await i.offlineFullSync(e,{syncRootsAndParents:r.map(e=>({syncRoot:{table:e.root_table,id:e.root_id},syncParent:{table:e.sync_parent_table,id:e.sync_parent_id}}))},t);n&&"success"===n.type?await v(e,t,n.data):await S(e,r),await C(e,r)}else if(0!==a.length){const n=await i.offlineDeltaSync(e,{syncRootsAndParents:a.map(e=>({syncRoot:{table:e.root_table,id:e.root_id},syncParentWithCursor:{syncParent:{table:e.sync_parent_table,id:e.sync_parent_id},cursor:e.last_synced_global_cursor}}))});n&&"success"===n.type?await v(e,t,n.data):await S(e,a),await C(e,a)}else 0!==s.length&&await Promise.all(s.map(async e=>{await n.deleteSyncParentAndRecordReferences(e)}));b(e,t)}async function v(e,t,n){for(const o of n.results)await y(e,t,o)}async function y(e,t,n){const a=w(e),i=[],c=new r.a(n.addedOrUpdatedRecords);for(const{pointer:r}of c)i.push({user_id:t,root_table:o.a,root_id:n.syncRoot.id,sync_parent_table:o.a,sync_parent_id:n.syncParent.syncParent.id,record_table:r.table,record_id:r.id,is_full_sync_in_progress:0});await a.addOrUpdateOfflineRecordPointers(i),s.g({environment:e,userId:t,recordMap:c,inMemoryRecordCache:l.default,areRecordsOfflined:!0,force:!0}),await a.addOrUpdateSyncParent({user_id:t,root_table:o.a,root_id:n.syncRoot.id,sync_parent_table:o.a,sync_parent_id:n.syncParent.syncParent.id,state:"fully_synced",last_updated_local_timestamp:Date.now(),last_synced_global_cursor:n.syncParent.cursor}),await Promise.all(n.parentsNeedingDeltaSync.map(async e=>{await a.addOrUpdateSyncParent({user_id:t,root_table:o.a,root_id:n.syncRoot.id,sync_parent_table:o.a,sync_parent_id:e.syncParent.id,state:"needs_delta_sync",last_updated_local_timestamp:Date.now(),last_synced_global_cursor:e.cursor})})),await Promise.all(n.parentsNeedingFullSync.map(async e=>{await a.addOrUpdateSyncParent({user_id:t,root_table:o.a,root_id:n.syncRoot.id,sync_parent_table:o.a,sync_parent_id:e.id,state:"needs_full_sync",last_updated_local_timestamp:Date.now(),last_synced_global_cursor:void 0})})),await Promise.all(n.parentsNoLongerNeedingSync.map(async e=>{await a.addOrUpdateSyncParent({user_id:t,root_table:o.a,root_id:n.syncRoot.id,sync_parent_table:o.a,sync_parent_id:e.id,state:"needs_garbage_collection",last_updated_local_timestamp:Date.now(),last_synced_global_cursor:void 0})}))}async function S(e,t){const n=w(e);for(const o of t)await n.addOrUpdateSyncParent({...o,state:"sync_error"})}function w(e){const{PersistedOfflineState:t}=e;if(!t)throw new Error("Platform doesn't support offline actions (no persistence)");return t}function k(e){const t=e.userId;if(!t)throw new Error("No userId for ".concat(e.pointer.table,":").concat(e.userId));return{record_table:e.pointer.table,record_id:e.pointer.id,user_id:t}}async function C(e,t){await h(e,t.map(e=>({pointer:{table:e.sync_parent_table,id:e.sync_parent_id},userId:e.user_id})))}},"7ab4":function(e,t,n){"use strict";n.d(t,"b",(function(){return I}));n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("wldR"),l=n("dXb3"),c=n("SR/M"),d=n("i3uR"),u=n("hU3F"),p=n("oWZM"),h=n("WgIs"),m=n("2Y+N"),f=n("gbGO"),g=n("zTdN"),b=n("VhAz"),v=n("bPtJ"),y=n("Pl3d"),S=n("4HCU"),w=n("5/h/"),k=n("G+Ai"),C=n("V1wX"),M=n("JMnu"),E=n("nPEg"),_=n("J9+s"),T=n("VVDu"),x=n("WI3x");const I=Object(_.defineMessages)({searchForPerson:{defaultMessage:"Search for a person…",id:"database.personPropertyValue.searchPlaceholder"},selectPerson:{defaultMessage:"Select a person",id:"database.personPropertyValue.selectPerson.searchPlaceholder"}}),P=r.a.createElement(_.FormattedMessage,{defaultMessage:"Me",id:"database.filterAndSort.firstPersonPropertyValue.title"});class O extends s.a{constructor(){super(...arguments),this.storeTypes={query:u.a.of("")},this.getPersonAutocompleteResults=async e=>{let{users:t,bots:n}=await S.i({environment:this.environment,query:e,membersOnly:!1});return t=t.slice(0,20),n=n.slice(0,20),await Promise.all([...t.map(async({id:e})=>{const t=Object(v.c)(this.props.parentStore,{table:w.a,id:e});await t.load()}),...n.map(async({id:e})=>{const t=Object(v.c)(this.props.parentStore,{table:k.a,id:e});await t.load()})]),{users:t,bots:n}}}renderComponent(){return this.renderPerson()}renderPerson(){const{device:e}=this.environment,{intl:t}=this.props,n={minWidth:x.e};return r.a.createElement(d.a,{popupType:e.isMobile?d.a.PopupType.SlideUp:d.a.PopupType.Popup,alignmentToOrigin:d.a.Alignment.Start,onClick:()=>this.stores.query.set(""),renderOrigin:o=>{const a=this.props.value;if("relative"===a.type){if("me"===a.value)return r.a.createElement(p.a,Object.assign({},o,{placeholder:t.formatMessage(I.selectPerson),title:P,disableMargins:!0,desktopStyle:n}));Object(b.e)(a)}if(void 0===a.value)return r.a.createElement(p.a,Object.assign({},o,{placeholder:t.formatMessage(I.selectPerson),disableMargins:!0,desktopStyle:n}));const i=Object(C.a)({pointer:a.value,getRecordValue:this.props.parentStore.getRecordValue});return r.a.createElement(p.a,Object.assign({},o,{placeholder:t.formatMessage(I.selectPerson),disableMargins:!0,desktopStyle:n,title:i.value&&r.a.createElement(M.c,{actor:i,isSingle:!0,shouldShrink:!0,format:e.isMobile?M.b.Format.Large:M.b.Format.Medium,showRemoveButton:!1})}))},render:n=>{const o=this.stores.query.get(),a={request:o,performRequest:this.getPersonAutocompleteResults,render:(e,t,r)=>this.renderAutocompleteResults({query:o,parent:n,error:e,results:t,ready:r})},i=r.a.createElement(m.a,{isInput:!0},r.a.createElement(l.a,{focus:!e.isMobile||void 0,focusAfterAnimation:!0,value:this.stores.query.get(),onChange:e=>this.stores.query.set(e.target.value),placeholder:t.formatMessage(I.searchForPerson)}));let s;return s=e.isMobile?{menuType:f.b.MenuType.Modal,title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Person",id:"database.filterAndSort.mobileModal.personPropertyValue.title"}),right:r.a.createElement(E.CancelMenuText,null),onClickRight:n.close,header:i}:{menuType:f.b.MenuType.Popup,width:220,header:i},r.a.createElement(f.b,Object.assign({},s),r.a.createElement(y.a,Object.assign({},a)))}})}renderAutocompleteResults(e){const{device:t}=this.environment,{parent:n,query:o,error:a,results:s,ready:l}=e,d=r.a.createElement(_.FormattedMessage,{defaultMessage:"Pick a person",id:"database.searchPersonPropertyMenuItem.title"});if(a)return r.a.createElement(m.a,{title:d},r.a.createElement(g.a,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"Something went wrong.",id:"database.filterAndSort.searchPersonPropertyMenuItem.errorMessage"})}));if(!l&&!s)return r.a.createElement(m.a,null,r.a.createElement(T.a,null));if(s&&0===s.users.length&&0===s.bots.length)return r.a.createElement(m.a,{title:d},r.a.createElement(g.a,{title:r.a.createElement(_.FormattedMessage,{defaultMessage:"No results",id:"database.searchPersonPropertyMenuItem.noResults.message"})}));const u=i.a.compact((s&&s.users||[]).map(e=>({key:e.id,render:n=>r.a.createElement(c.a,Object.assign({},n,{title:r.a.createElement(M.b,{isSingle:!0,shouldShrink:!0,format:t.isMobile?M.b.Format.Large:M.b.Format.Medium,userValue:e,showRemoveButton:!1}),isTokenTitle:!0})),action:()=>{this.props.onChange({type:"exact",value:{table:w.a,id:e.id}})}}))),p=i.a.compact((s&&s.bots||[]).map(e=>({key:e.id,render:n=>r.a.createElement(c.a,Object.assign({},n,{title:r.a.createElement(M.a,{isSingle:!0,shouldShrink:!0,format:t.isMobile?M.a.Format.Large:M.a.Format.Medium,botValue:e,showRemoveButton:!1}),isTokenTitle:!0})),action:()=>{this.props.onChange({type:"exact",value:{table:k.a,id:e.id}})}})));!l||o&&!"me".includes(o)||u.unshift({key:"me",render:e=>r.a.createElement(c.a,Object.assign({},e,{title:P})),action:()=>{this.props.onChange({type:"relative",value:"me"})}});const f=[];return u.length>0&&f.push({key:"user property",render:e=>r.a.createElement(m.a,Object.assign({},e,{title:d})),items:u}),p.length>0&&f.push({key:"bot property",render:e=>r.a.createElement(m.a,Object.assign({},e,{title:"Pick a bot"})),items:p}),r.a.createElement(h.a,{type:h.a.Type.Vertical,initialFocus:0,sections:f,onAccept:n.close})}}t.a=Object(_.injectIntl)(O)},"7bRZ":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return S})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return k})),n.d(t,"g",(function(){return C})),n.d(t,"f",(function(){return M})),n.d(t,"e",(function(){return E}));var o=n("LvDl"),r=n.n(o),a=n("4bJO"),i=n("5Nka"),s=n("njgS"),l=n("mKX5"),c=n("D2XV"),d=n("6BTz"),u=n("VhAz"),p=n("J9+s"),h=n("vl8/");const m=Object(p.defineMessages)({show_unique:{defaultMessage:"Show unique values",id:"database.aggregationFullName.unique_values"},count:{defaultMessage:"Count all",id:"database.aggregationFullName.count"},count_values:{defaultMessage:"Count values",id:"database.aggregationFullName.count_values"},unique:{defaultMessage:"Count unique values",id:"database.aggregationFullName.unique"},empty:{defaultMessage:"Count empty",id:"database.aggregationFullName.empty"},not_empty:{defaultMessage:"Count not empty",id:"database.aggregationFullName.not_empty"},percent_empty:{defaultMessage:"Percent empty",id:"database.aggregationFullName.percent_empty"},percent_not_empty:{defaultMessage:"Percent not empty",id:"database.aggregationFullName.percent_not_empty"},sum:{defaultMessage:"Sum",id:"database.aggregationFullName.sum"},average:{defaultMessage:"Average",id:"database.aggregationFullName.average"},median:{defaultMessage:"Median",id:"database.aggregationFullName.median"},min:{defaultMessage:"Min",id:"database.aggregationFullName.min"},max:{defaultMessage:"Max",id:"database.aggregationFullName.max"},range:{defaultMessage:"Range",id:"database.aggregationFullName.range"},earliest_date:{defaultMessage:"Earliest date",id:"database.aggregationFullName.earliest_date"},latest_date:{defaultMessage:"Latest date",id:"database.aggregationFullName.latest_date"},date_range:{defaultMessage:"Date range",id:"database.aggregationFullName.date_range"},checked:{defaultMessage:"Checked",id:"database.aggregationFullName.checked"},unchecked:{defaultMessage:"Unchecked",id:"database.aggregationFullName.unchecked"},percent_checked:{defaultMessage:"Percent checked",id:"database.aggregationFullName.percent_checked"},percent_unchecked:{defaultMessage:"Percent unchecked",id:"database.aggregationFullName.percent_unchecked"}}),f={count:h.default.formatMessage(m.count),count_values:h.default.formatMessage(m.count_values),unique:h.default.formatMessage(m.unique),show_unique:h.default.formatMessage(m.show_unique),empty:h.default.formatMessage(m.empty),not_empty:h.default.formatMessage(m.not_empty),percent_empty:h.default.formatMessage(m.percent_empty),percent_not_empty:h.default.formatMessage(m.percent_not_empty),sum:h.default.formatMessage(m.sum),average:h.default.formatMessage(m.average),median:h.default.formatMessage(m.median),min:h.default.formatMessage(m.min),max:h.default.formatMessage(m.max),range:h.default.formatMessage(m.range),earliest_date:h.default.formatMessage(m.earliest_date),latest_date:h.default.formatMessage(m.latest_date),date_range:h.default.formatMessage(m.date_range),checked:h.default.formatMessage(m.checked),unchecked:h.default.formatMessage(m.unchecked),percent_checked:h.default.formatMessage(m.percent_checked),percent_unchecked:h.default.formatMessage(m.percent_unchecked)},g=Object(p.defineMessages)({count:{defaultMessage:"Count",id:"database.aggregationShortName.count"},count_values:{defaultMessage:"Values",id:"database.aggregationShortName.count_values"},unique:{defaultMessage:"Unique",id:"database.aggregationShortName.unique"},show_unique:{defaultMessage:"Show unique",id:"database.aggregationShortName.showUnique"},empty:{defaultMessage:"Empty",id:"database.aggregationShortName.empty"},not_empty:{defaultMessage:"Not Empty",id:"database.aggregationShortName.not_empty"},percent_empty:{defaultMessage:"Empty",id:"database.aggregationShortName.percent_empty"},percent_not_empty:{defaultMessage:"Not Empty",id:"database.aggregationShortName.percent_not_empty"},sum:{defaultMessage:"Sum",id:"database.aggregationShortName.sum"},average:{defaultMessage:"Average",id:"database.aggregationShortName.average"},median:{defaultMessage:"Median",id:"database.aggregationShortName.median"},min:{defaultMessage:"Min",id:"database.aggregationShortName.min"},max:{defaultMessage:"Max",id:"database.aggregationShortName.max"},range:{defaultMessage:"Range",id:"database.aggregationShortName.range"},earliest_date:{defaultMessage:"Earliest",id:"database.aggregationShortName.earliest_date"},latest_date:{defaultMessage:"Latest",id:"database.aggregationShortName.latest_date"},date_range:{defaultMessage:"Range",id:"database.aggregationShortName.date_range"},checked:{defaultMessage:"Checked",id:"database.aggregationShortName.checked"},unchecked:{defaultMessage:"Unchecked",id:"database.aggregationShortName.unchecked"},percent_checked:{defaultMessage:"Checked",id:"database.aggregationShortName.percent_checked"},percent_unchecked:{defaultMessage:"Unchecked",id:"database.aggregationShortName.percent_unchecked"}}),b={count:h.default.formatMessage(g.count),count_values:h.default.formatMessage(g.count_values),unique:h.default.formatMessage(g.unique),show_unique:h.default.formatMessage(g.show_unique),empty:h.default.formatMessage(g.empty),not_empty:h.default.formatMessage(g.not_empty),percent_empty:h.default.formatMessage(g.percent_empty),percent_not_empty:h.default.formatMessage(g.percent_not_empty),sum:h.default.formatMessage(g.sum),average:h.default.formatMessage(g.average),median:h.default.formatMessage(g.median),min:h.default.formatMessage(g.min),max:h.default.formatMessage(g.max),range:h.default.formatMessage(g.range),earliest_date:h.default.formatMessage(g.earliest_date),latest_date:h.default.formatMessage(g.latest_date),date_range:h.default.formatMessage(g.date_range),checked:h.default.formatMessage(g.checked),unchecked:h.default.formatMessage(g.unchecked),percent_checked:h.default.formatMessage(g.percent_checked),percent_unchecked:h.default.formatMessage(g.percent_unchecked)},v=Object(p.defineMessages)({count:{defaultMessage:"Counts the total number of pages, including blank pages.",id:"database.aggregationDescription.count"},count_values:{defaultMessage:"Counts the number of non-empty values for this property. For a type that can contain multiple values like multi-select or person, this will count the number of selected values for each page.",id:"database.aggregationDescription.count_values"},unique:{defaultMessage:"Counts the number of unique values for this property. For a type that can contain multiple values like multi-select or person, this will count the unique values across all pages.",id:"database.aggregationDescription.unique"},show_unique:{defaultMessage:"Shows the unique values for this property. For a type that can contain multiple values like multi-select or person, this will count the unique values across all pages.",id:"database.aggregationDescription.show_unique"},empty:{defaultMessage:"Counts the number of pages with an empty value for this property.",id:"database.aggregationDescription.empty"},not_empty:{defaultMessage:"Counts the number of pages with a non-empty value for this property.",id:"database.aggregationDescription.not_empty"},percent_empty:{defaultMessage:"Displays the percentage of pages that have an empty value for this property.",id:"database.aggregationDescription.percent_empty"},percent_not_empty:{defaultMessage:"Displays the percentage of pages that have a non-empty value for this property.",id:"database.aggregationDescription.percent_not_empty"},sum:{defaultMessage:"Computes the sum of a numeric property.",id:"database.aggregationDescription.sum"},average:{defaultMessage:"Computes the average of a numeric property.",id:"database.aggregationDescription.average"},median:{defaultMessage:"Finds the median of a numeric property.",id:"database.aggregationDescription.median"},min:{defaultMessage:"Finds the minimum of a numeric property.",id:"database.aggregationDescription.min"},max:{defaultMessage:"Finds the maximum of a numeric property.",id:"database.aggregationDescription.max"},range:{defaultMessage:"Computes the range (maximum - minimum) of a numeric property.",id:"database.aggregationDescription.range"},earliest_date:{defaultMessage:"Finds the earliest date in time of a date property.",id:"database.aggregationDescription.earliest_date"},latest_date:{defaultMessage:"Finds the latest date in time of a date property.",id:"database.aggregationDescription.latest_date"},date_range:{defaultMessage:"Computes the date range (latest date - earliest date) of a date property.",id:"database.aggregationDescription.date_range"},checked:{defaultMessage:"Counts the number of pages with a checked checkbox for this property.",id:"database.aggregationDescription.checked"},unchecked:{defaultMessage:"Counts the number of pages with an unchecked checkbox for this property.",id:"database.aggregationDescription.unchecked"},percent_checked:{defaultMessage:"Displays the percentage of pages that have a checked checkbox for this property.",id:"database.aggregationDescription.percent_checked"},percent_unchecked:{defaultMessage:"Displays the percentage of pages that have an unchecked checkbox for this property.",id:"database.aggregationDescription.percent_unchecked"}}),y={count:h.default.formatMessage(v.count),count_values:h.default.formatMessage(v.count_values),unique:h.default.formatMessage(v.unique),show_unique:h.default.formatMessage(v.show_unique),empty:h.default.formatMessage(v.empty),not_empty:h.default.formatMessage(v.not_empty),percent_empty:h.default.formatMessage(v.percent_empty),percent_not_empty:h.default.formatMessage(v.percent_not_empty),sum:h.default.formatMessage(v.sum),average:h.default.formatMessage(v.average),median:h.default.formatMessage(v.median),min:h.default.formatMessage(v.min),max:h.default.formatMessage(v.max),range:h.default.formatMessage(v.range),earliest_date:h.default.formatMessage(v.earliest_date),latest_date:h.default.formatMessage(v.latest_date),date_range:h.default.formatMessage(v.date_range),checked:h.default.formatMessage(v.checked),unchecked:h.default.formatMessage(v.unchecked),percent_checked:h.default.formatMessage(v.percent_checked),percent_unchecked:h.default.formatMessage(v.percent_unchecked)},S={count:i.a.images.aggregations.countPng,count_values:i.a.images.aggregations.countValuesPng,unique:i.a.images.aggregations.uniquePng,show_unique:i.a.images.aggregations.uniquePng,empty:i.a.images.aggregations.emptyPng,not_empty:i.a.images.aggregations.notEmptyPng,percent_empty:i.a.images.aggregations.percentEmptyPng,percent_not_empty:i.a.images.aggregations.percentNotEmptyPng,sum:i.a.images.aggregations.sumPng,average:i.a.images.aggregations.averagePng,median:i.a.images.aggregations.medianPng,min:i.a.images.aggregations.minPng,max:i.a.images.aggregations.maxPng,range:i.a.images.aggregations.rangePng,earliest_date:i.a.images.aggregations.earliestDatePng,latest_date:i.a.images.aggregations.latestDatePng,date_range:i.a.images.aggregations.dateRangePng,checked:i.a.images.aggregations.checkedPng,unchecked:i.a.images.aggregations.uncheckedPng,percent_checked:i.a.images.aggregations.percentCheckedPng,percent_unchecked:i.a.images.aggregations.percentUncheckedPng};function w(e){return!M(e)}function k(e){return"number"===e.type||"formula"===e.type&&e.formula&&"number"===e.formula.result_type||"rollup"===e.type&&e.aggregation&&"number"===Object(a.f)(e.aggregation)}function C(e){return Object(s.i)(e)||"formula"===e.type&&e.formula&&"date"===e.formula.result_type||"rollup"===e.type&&e.aggregation&&"date"===Object(a.f)(e.aggregation)}function M(e){return"checkbox"===e.type||"formula"===e.type&&e.formula&&"checkbox"===e.formula.result_type}function E(e){const{numberFormat:t,aggregationType:n,value:o,userTimeZone:i,roundDecimal:s}=e;if("date"===o.type){if(!Object(a.l)(n))return;if(!o.value)return;const e=c.K(o.value,i);if("date_range"===n){if(!e.end)return;return l.a.duration(e.end.valueOf()-e.start.valueOf()).humanize()}return Object(l.a)(e.start.valueOf()).fromNow()}if(Object(a.l)(n))return;if("show_unique"===n)return;if("object"==typeof o.value)return;const p=void 0===o.value?void 0:r.a.round(o.value,s);switch(n){case"count":case"empty":case"not_empty":case"unique":case"count_values":case"checked":case"unchecked":return Object(d.c)(p,"number",h.default.getIntl());case"percent_empty":case"percent_not_empty":case"percent_checked":case"percent_unchecked":return Object(d.c)(p,"percent",h.default.getIntl());case"sum":case"average":case"median":case"min":case"max":case"range":return Object(d.c)(p,t||"number",h.default.getIntl())}Object(u.e)(n)}},"7pbj":function(e,t,n){"use strict";n.r(t);n("3bBZ");var o=n("LEzx"),r=n("VMJe");class a extends o.a{getInitialState(){return{}}isPatchUpdate(){return Boolean(this.state.appUpdate&&"ready"===this.state.appUpdate.state&&this.state.appUpdate.type===r.UpdateType.Minor)}isSilentUpdate(){return Boolean(this.state.appUpdate&&"ready"===this.state.appUpdate.state&&this.state.appUpdate.type===r.UpdateType.Silent)}isMajorUpdate(){return this.state.appUpdate&&"ready"===this.state.appUpdate.state&&this.state.appUpdate.type===r.UpdateType.Major||this.state.electronUpdate&&"ready"===this.state.electronUpdate.state&&this.state.electronUpdate.type===r.UpdateType.Major}}var i=n("LvDl"),s=n.n(i);var l=n("A9TN"),c=n("taao"),d=n.n(c);const u=["en","ko"],p={en:"en-US",ko:"ko-KR"};function h(e){const t=function(e){if(e.length>0){const t=e.filter(({code:e})=>u.includes(e));if(0===t.length)return u[0];const n=t[0].quality,o=t.filter(({quality:e})=>e===n).map(e=>e.code);return u.find(e=>o.includes(e))||u[0]}return u[0]}(d.a.parse(e));return p[t]}var m=n("LqYT"),f=n("hU3F"),g=n("K4CH"),b=n.n(g);var v=function(){const e=new b.a.UAParser(navigator.userAgent);function t(){return/Yandex/.test(navigator.userAgent)}function n(){return/Windows.*Edge/i.test(navigator.userAgent)}function o(){return!n()&&!t()&&(/Chrome/i.test(navigator.userAgent)||/CriOS/i.test(navigator.userAgent))}function r(){return/Android/i.test(navigator.userAgent)||"Android"===e.getOS().name}function a(){return!r()&&(/iPad/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&"ontouchend"in document)}function i(){return!r()&&(/iPhone|iPod/i.test(navigator.userAgent)||a())}function s(){return i()||r()||/Windows Phone/i.test(navigator.userAgent)}function l(){return/Mac/i.test(navigator.userAgent)&&!s()}function c(){return/Windows/i.test(navigator.userAgent)&&!s()}function d(){return/CrOS/i.test(navigator.userAgent)}function u(){return(/Linux/i.test(navigator.userAgent)||d())&&!s()}return{isYandex:t,isEdgeHTML:n,isChrome:o,isSafari:function(){return!n()&&!t()&&!o()&&/Safari/i.test(navigator.userAgent)},isFirefox:function(){return/Firefox/i.test(navigator.userAgent)},isAndroid:r,isIpad:a,isIOS:i,isMobile:s,isDesktop:function(){return!s()},isMac:l,isWindows:c,isChromebook:d,isLinux:u,isRetina:function(){return matchMedia("(-webkit-min-device-pixel-ratio: 1.5),\t\t\t\t\t\t(min--moz-device-pixel-ratio: 1.5),\t\t\t\t\t\t(-o-min-device-pixel-ratio: 3/2),\t\t\t\t\t\t(min-resolution: 1.5dppx)").matches},getDeviceOS:function(){return l()?"mac":c()?"windows":i()?"ios":r()?"android":o()?"chrome":u()?"linux":"unknown"},getBrowserName:function(){const t=e.getBrowser();return"".concat(t.name)},getBrowserVersion:function(){const t=e.getBrowser();return"".concat(t.version)},getDeviceOSVersion:function(){const t=e.getOS().version;return t?t.split(".").map(e=>parseInt(e,10)):[]},getDoNotTrackEnabled:function(){return"1"===window.doNotTrack||("yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||("1"===navigator.msDoNotTrack||!!(window.external&&window.external.msTrackingProtectionEnabled&&window.external.msTrackingProtectionEnabled())))}}};function y(){const e=v(),t=Boolean(window.__isElectron),n=t&&"darwin"===window.__platform,o=t?function(){const e=/Electron\/(\w+\.\w+.\w+)/.exec(navigator.userAgent);if(e)return e[1].split(".").map(e=>parseInt(e,10));return}():void 0,r=function(){const e=document.createElement("canvas");try{const t=e.getContext("webgl");if(t){const e=t.getExtension("WEBGL_debug_renderer_info");return!!e&&"Apple M1"===t.getParameter(e.UNMASKED_RENDERER_WEBGL)}}catch(t){return!1}return!1}()?"m1_mac":"intel_mac",a=/ReactNative/.test(navigator.userAgent),i=t||a,c=!i,d="https:"===window.location.protocol||"http:"===window.location.protocol,u=e.isYandex(),p=e.isEdgeHTML(),g=e.isChrome(),b=e.isSafari(),y=e.isFirefox(),w=e.isAndroid(),k=e.isIpad(),C=e.isIOS(),M=e.isMobile(),E=new f.a(window.innerHeight),_=new f.a(window.innerWidth);window.addEventListener("resize",s.a.debounce(()=>{E.setState(window.innerHeight),_.setState(window.innerWidth)},300));let T=Math.max(_.state,E.state);const x=new m.a(()=>{if(T=Math.max(_.state,E.state),w){const e=600,t=969,n=_.state===T?t:e;return _.state>=n}if(k){const e=414;return _.state>e}return!1}),I=e.isDesktop(),P=e.isMac(),O=e.isWindows(),B=e.isChromebook(),L=e.isLinux(),R=e.isRetina(),D=M&&c,A=I&&c,j=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var o=n.offsetWidth;return e.parentNode&&e.parentNode.removeChild(e),t-o}(),F="undefined"!=typeof chrome&&void 0!==chrome.tabs,V=l.default.version,N=e.getDeviceOS(),U=e.getDeviceOSVersion(),z=t?"electron":a?"react-native":"browser",X=e.getBrowserName(),Y=e.getBrowserVersion(),H=e.getDoNotTrackEnabled(),q=S(),W=function(e){const t=h(e);return"".concat("v1","/").concat(t)}(S()||"");return{isElectron:t,isElectronMac:n,electronVersion:o,macType:r,isReactNative:a,isNative:i,isBrowser:c,isHttpApp:d,isYandex:u,isEdgeHTML:p,isChrome:g,isSafari:b,isFirefox:y,isAndroid:w,isIOS:C,isMobile:M,get isTablet(){return x.state},get isPhone(){return M&&!x.state},get isSmallPhone(){return M&&_.state<=320},isDesktop:I,isMac:P,isWindows:O,isChromebook:B,isLinux:L,isRetina:R,isMobileBrowser:D,isDesktopBrowser:A,scrollbarWidth:j,isChromeExtension:F,isIPhoneX:!1,version:V,desktopAppVersion:void 0,mobileAppVersion:void 0,os:N,osVersion:U,platform:z,browserName:X,browserVersion:Y,doNotTrackEnabled:H,acceptLanguageRaw:q,acceptLanguagePreference:W,get prefersDarkInterface(){return matchMedia("(prefers-color-scheme: dark)").matches}}}function S(){const e=document.querySelector("html");if(e){const t=e.dataset.acceptLanguage;return""===t||"ACCEPT_LANGUAGE_VALUE"===t?void 0:t}}var w=n("85j+"),k=n("wS9/"),C=n("i8i4"),M=n.n(C);class E extends o.a{constructor(e){super();const{device:t}=e;this.shortcutMap={enter:["enter"],shiftEnter:["shift+enter"],commandEnter:["command+enter"],commandShiftEnter:["command+shift+enter"],commandSlash:["command+/"],delete:["delete"],space:["space"],backspace:["backspace","shift+backspace"],esc:["esc"],left:s.a.compact(["left","shift+left","command+left","command+shift+left","ctrl+left","ctrl+shift+left",t.isLinux?void 0:"alt+left",t.isLinux?void 0:"alt+shift+left"]),right:s.a.compact(["right","shift+right","command+right","command+shift+right","ctrl+right","ctrl+shift+right",t.isLinux?void 0:"alt+right",t.isLinux?void 0:"alt+shift+right"]),up:s.a.compact(["up","shift+up","alt+up","alt+shift+up","command+up",t.isMac?"ctrl+p":void 0]),down:s.a.compact(["down","shift+down","alt+down","alt+shift+down","command+down",t.isMac?"ctrl+n":void 0]),moveUp:["command+shift+up"],moveDown:["command+shift+down"],untab:["shift+tab"],tab:["tab"],home:["home","shift+home"],end:["end","shift+end"],selectAll:["command+a"],redo:["command+shift+z","command+y"],undo:["command+z"],toggleUnderline:["command+u"],toggleHighlight:["command+shift+h"],toggleBold:["command+b"],toggleItalics:["command+i"],toggleCode:["command+e"],toggleStrike:["command+shift+s"],duplicate:["command+d"],cut:["command+x"],copy:["command+c"],paste:["command+v"],openLinkMenu:["command+k"],openEquationMenu:["command+shift+e"],goBack:["command+["],goForward:["command+]"],goUp:["command+shift+u"],quickFind:["command+p"],search:["command+f"],goToBeginningOfLine:["ctrl+a","ctrl+shift+a"],goToEndOfLine:["ctrl+e","ctrl+shift+e"],goForwardOneChar:["ctrl+f","ctrl+shift+f"],goBackwardOneChar:["ctrl+b","ctrl+shift+b"],comment:["command+shift+m"],caption:["command+alt+m"],rename:["command+shift+r"],copyLinkToCurrentPage:["command+l"],toggleSidebar:["command+\\"],zoomIn:["command+="],zoomOut:["command+-"],zoomReset:["command+0"],settings:["command+,"],newPage:["command+n"],backbutton:["backbutton"],toggleDarkMode:["command+shift+l"],openFile:["command+o"],moveTo:["command+shift+p"],toggleAllToggles:["command+alt+t"],switchSpaces:["command+1","command+2","command+3","command+4","command+5","command+6","command+7","command+8","command+9"],turnIntoType:t.isMac?["command+alt+0","command+alt+1","command+alt+2","command+alt+3","command+alt+4","command+alt+5","command+alt+6","command+alt+7","command+alt+8","command+alt+9"]:["command+shift+0","command+shift+1","command+shift+2","command+shift+3","command+shift+4","command+shift+5","command+shift+6","command+shift+7","command+shift+8","command+shift+9"],keypress:["keypress"],togglePropertyVisibility:["command+alt+p"]}}getInitialState(){return{stack:[]}}logDebugState(){console.info(this.state.stack.map(e=>({shortcuts:s.a.pick(e.shortcuts,e=>Boolean(e)),node:M.a.findDOMNode(e.listener),enable:e.enable,listener:e.listener})))}}var _=n("rXc8"),T=n("CPkY"),x=n("yjqD"),I=n("Mht8"),P=(n("c9m3"),n("922z")),O=n("zUsb"),B=n("f/Q2"),L=n("ckBw"),R=n("Ittr"),D=n("vmS8");let A=1;class j{constructor(e,t){this.connection=e,this.maxSize=t,this.getLatency=new L.a,this.batchReadWorkers=15,this.pendingWrites=new P.a,this.getManyFromDisk=async e=>{const t=new P.a;e.forEach(({pointer:e},n)=>{t.set(e,n)});const n=await O.p(this.connection,e),o=new P.a;for(const r of n)this.setCachedRecordMap(o,r);return e.map(({pointer:e,userId:t})=>{const n=this.getInMemory(e,t);if(n)return n;const r=o.get(e);return r&&r[t]})},this.diskReadQueue=new B.a({batchSize:Math.floor(D.a/3)-1,maxWorkers:this.batchReadWorkers>0?this.batchReadWorkers:1,performRequests:this.getManyFromDisk}),this.flushWrites=async()=>{const e=this.pendingWrites;this.pendingWrites=new P.a;const t=s.a.flatMap(Array.from(e),({value:e})=>e?Object.values(e):[]);await O.b(this.connection,this.maxSize,t)},this.debouncedFlushWrites=s.a.debounce(this.flushWrites,500,{maxWait:3e3})}async initialize(e){}set(e,t,n,o,r,a){const i={pointer:e,userId:o=o||R.c,value:t,timestamp:Date.now(),importance:n,isOffline:r};this.removePendingWrite(e,o,"delete"),this.enqueueWrite({type:"set",record:i,maybeStaleRecord:a})}async get(e,t){const n=Date.now(),o="get ".concat(A);t=t||R.c,A++,this.getLatency.start(o),this.enqueueWrite({type:"access",record:{pointer:e,timestamp:n,userId:t}});try{const n=this.getInMemory(e,t);if(n)return this.getLatency.end(o,"memory"),n.value;const r=await(this.batchReadWorkers>0?this.diskReadQueue.enqueue({pointer:e,userId:t}):this.getFromDiskUnbatched(e,t));if(r)return this.getLatency.end(o,"disk"),r.value}finally{this.getLatency.end(o,"miss")}}deleteRecord(e,t){const n={pointer:e,userId:t=t||R.c,value:void 0,timestamp:Date.now(),importance:void 0,isOffline:void 0};this.removePendingWrite(e,t,"set"),this.enqueueWrite({type:"delete",record:n})}async getRecordsWithParent(e){const t=Date.now(),n=e.userId||R.c,o=await O.q(this.connection,{...e,timestamp:t,userId:n}),r=new P.a,a=s.a.compact(Array.from(this.pendingWrites).map(o=>{const a=o&&o.value&&n&&o.value[n];if(!a||"access"===a.type)return;const i=a.record.value?a.record.value.value:void 0;if(!i)return;if(a.record.pointer.table!==e.table)return;const s=i;return s.parent_id===e.parent.id&&s.parent_table===e.parent.table?(r.set(a.record.pointer,!0),a.record.timestamp<t&&(a.record.timestamp=t),a.record.value):void 0}));for(const i of o)r.get(i.pointer)||this.getInMemory(i.pointer,i.userId)||a.push(i.value);return a}async getPageBlocksByParent(e){const t=Date.now(),n=e.userId||R.c,o=await O.o(this.connection,{...e,timestamp:t,userId:n});return o.forEach(e=>{this.enqueueWrite({type:"access",record:{pointer:e.pointer,timestamp:t,userId:n}})}),o}async reset(){this.pendingWrites=new P.a,await O.f(this.connection)}enqueueWrite(e){this.debouncedFlushWrites();const{pointer:t,userId:n}=e.record,o=this.pendingWrites.get(t),r=o&&o[n];if(r){if("set"===r.type&&"access"===e.type){const t={type:"set",record:{...r.record,timestamp:e.record.timestamp}};return void this.setCacheOperationMap(this.pendingWrites,t)}const t="set"===r.type&&!r.maybeStaleRecord&&r.record.value&&r.record.value.value?r.record.value.value.version:void 0,n="set"===e.type&&e.maybeStaleRecord&&e.record.value&&e.record.value.value?e.record.value.value.version:void 0;if("number"==typeof t&&"number"==typeof n&&t>=n)return}this.setCacheOperationMap(this.pendingWrites,e)}async getFromDiskUnbatched(e,t){const[n]=await this.getManyFromDisk([{pointer:e,userId:t}]);return n}getInMemory(e,t){const n=this.pendingWrites.get(e),o=n&&n[t];if(o&&"set"===o.type)return o.record}setCacheOperationMap(e,t){const{pointer:n,userId:o}=t.record,r=e.get(n)||{};e.set(n,{...r,[o]:t})}setCachedRecordMap(e,t){const{pointer:n,userId:o}=t,r=e.get(n)||{};e.set(n,{...r,[o]:t})}removePendingWrite(e,t,n){const o=this.pendingWrites.get(e);o&&o[t]&&o[t].type===n&&this.pendingWrites.delete(e)}}var F=n("bK/N"),V=n("zb5D"),N=n("2ZkR");class U{constructor(e){this.caches=e.caches}set(e,t,n,o,r){return this.getActiveCache().set(e,t,n,o,r)}get(e,t){return this.getActiveCache().get(e,t)}deleteRecord(e,t){return this.getActiveCache().deleteRecord(e,t)}getRecordsWithParent(e){return this.getActiveCache().getRecordsWithParent(e)}getPageBlocksByParent(e){return this.getActiveCache().getPageBlocksByParent(e)}reset(){return this.getActiveCache().reset()}async initialize(e){for(const t of Object.values(this.caches))await t.initialize(e)}setEnvironment(e){this.environment=e}getActiveCache(){const e=F.electronApi&&F.electronApi.sqliteServerEnabled;return this.environment&&N.default.state.isLoaded&&e&&"on"===N.default.getGroup(this.environment,"desktop-sqlite")?this.caches.sqlite:this.caches.indexedDB}}class z{constructor(e){this.responseMap={},this.handleRecieveChannel=async e=>{let t;try{t=JSON.parse(e)}catch(n){return void I.log({level:"error",from:"eventBasedApi",type:"JsonParseError",error:Object(V.a)(n),data:{message:e}})}if("request"===t.type){if(this.receiveHandlers[t.name]){const e=await this.receiveHandlers[t.name](...t.args),n={id:t.id,type:"response",name:t.name,result:e};this.sendChannel(JSON.stringify(n))}}else if("response"===t.type&&this.responseMap[t.id]){const e=this.responseMap[t.id];delete this.responseMap[t.id],e(t.result)}},this.sendChannel=e.sendChannel,this.receiveChannel=e.receiveChannel,this.receiveHandlers=e.receiveHandlers;const t={};for(const n of e.sendCapabilities)t[n]=(...e)=>{const t=(Math.random()*Math.pow(10,16)).toString(),o=new Promise(e=>{this.responseMap[t]=e}),r={id:t,type:"request",name:n,args:e};return this.sendChannel(JSON.stringify(r)),o};this.api=t,this.receiveChannel.addListener(this.handleRecieveChannel)}destroy(){this.receiveChannel.removeListener(this.handleRecieveChannel)}}Object.keys({openLink:!0,pushNotificationTokenRefresh:!0,backButtonPress:!0,keyboardWillShow:!0,keyboardDidShow:!0,keyboardWillHide:!0,keyboardDidHide:!0,keyboardShortcut:!0,pause:!0,resume:!0,appUpdateError:!0,appUpdateChecking:!0,appUpdateAvailable:!0,appUpdateNotAvailable:!0,appUpdateProgress:!0,appUpdateReady:!0,appUpdateFinished:!0,statusBarTap:!0,themeChanged:!0,track:!0,refreshSubscriptionData:!0});var X=n("PYYe"),Y=n.n(X),H=n("mINO"),q=n("pFdg"),W=n("nFzZ");const G=["cid","name","type","notnull","dflt_value","pk"],Z=["seqno","cid","name"],K=["type","name","tbl_name","sql"],J={db_true:Object(D.d)(!0),arg_true:Object(D.d)(!0),db_false:Object(D.d)(!1),arg_false:Object(D.d)(!1),db_float:10.5,arg_float:10.5,db_string:"hello",arg_string:"hello",db_null:null,arg_null:null},Q=H.j({required:{db_true:H.f(J.db_true),arg_true:H.f(J.arg_true),db_false:H.f(J.db_false),arg_false:H.f(J.arg_false),db_float:H.f(J.db_float),arg_float:H.f(J.arg_float),db_string:H.f(J.db_string),arg_string:H.f(J.arg_string),db_null:H.d(),arg_null:H.d()},optional:{},exact:!0}),$=["android_metadata","sqlite_stat1","sqlite_stat2","sqlite_stat3","sqlite_stat4"];function ee(e){return $.includes(e)}async function te(e,t,n){const o=[...t.statements,{sql:"PRAGMA user_version = ".concat(t.id),getData:!1}];if("execSqliteBatchV2"in e){const t=e,a=Object(W.q)("\n\t\t  SELECT\n\t\t    CASE user_version\n\t\t    WHEN ".concat(n," THEN 1\n\t\t    ELSE 0 END AS precondition_result\n\t\t    FROM pragma_user_version() LIMIT 1\n\t\t")),i=new ie(a,t);try{await Object(D.b)(i,o)}catch(r){if("SqlitePreconditionFail"!==r.name)throw r;await Object(x.h)(50)}}else{const[r]=await Object(D.b)(e,[{sql:"SELECT * from pragma_user_version() LIMIT 1",getData:!0}]),{user_version:a}=Object(D.c)(r);if(a!==n)throw new Error("Cannot apply migration ".concat(t.id,": DB user_version=").concat(a,", expected ").concat(n));await Object(D.b)(e,o)}}async function ne(e,t){const{migrations:n,endSchema:o}=t,r=o.pragmas.user_version,a=await oe(e),i=a.pragmas.user_version,s=n.filter(e=>e.id>i&&e.id<=r);if(0===s.length)return void ae(a,o);for(let d=i+1;d<=r;d++){const e=s[d-i-1];if(!e)throw new Error("Migrating ".concat(i," -> ").concat(r,": missing migration from ").concat(d-1," to ").concat(d));if(e.id!==d)throw new Error("Migrating ".concat(i," -> ").concat(r,": migration order mismatch: expected id ").concat(d,", had id ").concat(e.id))}if(t.fastForward&&0===i&&r===t.fastForward.id&&(l=a,c={pragmas:{user_version:0},tables:{},indexes:{}},!Object(q.d)(re(c),l)))await te(e,t.fastForward,0);else for(const d of s)await te(e,d,d.id-1);var l,c;ae(await oe(e),o)}async function oe(e){const t=K.map(e=>'m."'.concat(e,'" as master_').concat(e)),n=[...t,...G.map(e=>'i."'.concat(e,'" as col_').concat(e))].join(", "),o=[...t,...Z.map(e=>'i."'.concat(e,'" as idx_').concat(e))].join(", "),r=[{sql:"SELECT\n\t\t\t\t1 as db_true,\n\t\t\t\t? as arg_true,\n\n\t\t\t\t0 as db_false,\n\t\t\t\t? as arg_false,\n\n\t\t\t\t10.5 as db_float,\n\t\t\t\t? as arg_float,\n\n\t\t\t\t'hello' as db_string,\n\t\t\t\t? as arg_string,\n\n\t\t\t\tNULL as db_null,\n\t\t\t\t? as arg_null",args:[J.arg_true,J.arg_false,J.arg_float,J.arg_string,J.arg_null],getData:!0},{sql:"SELECT ".concat(n," FROM sqlite_master AS m, pragma_table_info(m.name) AS i WHERE m.type='table'"),getData:!0},{sql:"SELECT ".concat(o," FROM sqlite_master AS m, pragma_index_info(m.name) AS i WHERE m.type='index'"),getData:!0},{sql:"SELECT * FROM pragma_user_version()",getData:!0}],[a,i,l,c]=await Object(D.b)(e,r),d=a.data[0],u=Object(q.d)(Q,d,{rootVariableName:"sanityRow"});if(u)throw u.name="SqliteTypeSanityError",Object.assign(u,{actual:d,expected:J}),u;return function(e,t,n){const o={pragmas:{user_version:n.user_version},tables:{},indexes:{}};for(const r of e){const e={type:r.master_type,sql:r.master_sql,name:r.master_name,tbl_name:r.master_tbl_name},t={cid:r.col_cid,name:r.col_name,type:r.col_type,notnull:r.col_notnull,dflt_value:r.col_dflt_value,pk:r.col_pk},n=o.tables[e.name]||{info:e,columns:[]};n.columns.push(t),n.columns=s.a.sortBy(n.columns,e=>e.cid),o.tables[e.name]=n}for(const r of t){const e={type:r.master_type,sql:r.master_sql,name:r.master_name,tbl_name:r.master_tbl_name},t={name:r.idx_name,cid:r.idx_cid,seqno:r.idx_seqno},n=o.indexes[e.name]||{info:e,columns:[]};n.columns.push(t),n.columns=s.a.sortBy(n.columns,e=>e.seqno),o.indexes[e.name]=n}return o}(i.data,l.data,Object(D.c)(c))}function re(e){const t=H.j({required:{user_version:H.f(e.pragmas.user_version)},optional:{},exact:!0}),n={};for(const[a,i]of Object.entries(e.tables))n[a]=H.j({required:{info:H.j({required:{name:H.f(i.info.name),type:H.f(i.info.type),tbl_name:H.f(i.info.tbl_name),sql:H.l()},optional:{}}),columns:H.m(i.columns.map(e=>H.j({required:{cid:H.f(e.cid),name:H.f(e.name),type:null===e.type?H.d():H.f(e.type),notnull:H.f(e.notnull),dflt_value:null===e.dflt_value?H.d():H.f(e.dflt_value),pk:H.f(e.pk)},optional:{}})))},optional:{}});const o={};for(const[a,i]of Object.entries(e.indexes))o[a]=H.j({required:{info:H.j({required:{name:H.f(i.info.name),type:H.f(i.info.type),tbl_name:H.f(i.info.tbl_name),sql:H.o([H.l(),H.d()])},optional:{}}),columns:H.m(i.columns.map(e=>H.j({required:{seqno:H.f(e.seqno),cid:H.f(e.cid),name:null===e.name?H.d():H.f(e.name)},optional:{}})))},optional:{}});const r={};for(const a of $)r[a]=H.a();return H.j({required:{pragmas:t,tables:H.j({required:n,optional:r,exact:!0}),indexes:H.j({required:o,optional:{},exact:!0})},optional:{},exact:!0})}function ae(e,t){const n=Object(q.d)(re(t),e,{rootVariableName:"schema"});if(n)throw n.name="SqliteSchemaMismatch",Object.assign(n,{actual:e,expected:t}),n}class ie{constructor(e,t){this.precondition=e,this.connection=t}async execSqliteBatch(e){return await this.connection.execSqliteBatchV2({batch:e,precondition:{sql:this.precondition,getData:!0}})}}var se,le,ce=n("GaQ6");function de(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}class ue{constructor(e){this.args=e,this.preconditionSchemaCheck=Object(W.q)("\n      SELECT\n        CASE user_version\n        WHEN ".concat(this.args.migrations.endSchema.pragmas.user_version," THEN 1\n        ELSE 0 END AS precondition_result\n        FROM pragma_user_version() LIMIT 1\n  ")),this.migrationsCompleted=void 0}async ensureMigrated(){this.migrationsCompleted||(this.migrationsCompleted=ne(this.args.connection,this.args.migrations)),await this.migrationsCompleted}async optimize(){const e=[Object(ce.a)(se||(se=de(["PRAGMA analysis_limit=40000"]))).asRead(),Object(ce.a)(le||(le=de(["PRAGMA optimize"]))).asRead()];await Object(D.b)(this.args.connection,e)}async execSqliteBatch(e){switch(this.args.type){case"v1":return await this.ensureMigrated(),await this.args.connection.execSqliteBatch(e);case"v2":return await this.ensureMigrated(),await this.args.connection.execSqliteBatchV2({batch:e,precondition:{sql:this.preconditionSchemaCheck,getData:!0}})}}debugSchema(){return oe(this.args.connection)}async debugQuery(e,t){const n="debug query round-trip from JS";console.time(n);const o=await Object(D.f)(this.args.connection,e,t);return console.timeEnd(n),o}async debugTransaction(e){const t="debug transaction round-trip from JS";console.time(t);const n=await Object(D.b)(this.args.connection,e);return console.timeEnd(t),n}async debugDeleteAllDataAndResetDatabase(){console.log("Resetting database");const e=function(e){const t=[];for(const n of Object.values(e.tables))ee(n.info.name)||t.push({sql:"DROP TABLE ".concat(n.info.name)});for(const n of Object.values(e.indexes))ee(n.info.tbl_name)||t.push({sql:"DROP INDEX IF EXISTS ".concat(n.info.name)});return t.push({sql:"PRAGMA user_version = 0"}),t}(await oe(this.args.connection));await Object(D.b)(this.args.connection,e)}}var pe=n("ddTe"),he=n("fiWp");class me{constructor(){this.emitter=new he.EventEmitter}addListener(e,t,n,o){const r="".concat(e,":").concat(n,":").concat(t);return this.emitter.on(r,o),()=>this.emitter.off(r,o)}dispatch(e,t,n,o){const r="".concat(e,":").concat(n,":").concat(t);this.emitter.emit(r,o)}}const fe=x.c();document.addEventListener("deviceready",fe.resolve,!1);class ge{constructor(e){this.sqliteConnection=void 0,this.listeners=new Set,this.initialNotification=void 0,this.componentEvents=new me,Object(pe.exposeDebugInstance)("reactNative",this),this.device=e.device,this.receiveHandlers={openLink:e=>{this.initialNotification=e},pushNotificationTokenRefresh:()=>{},backButtonPress:()=>{},keyboardWillShow:()=>{},keyboardDidShow:()=>{},keyboardWillHide:()=>{},keyboardDidHide:()=>{},keyboardShortcut:()=>{},pause:()=>{},resume:()=>{},appUpdateError:()=>{},appUpdateChecking:()=>{},appUpdateAvailable:()=>{},appUpdateNotAvailable:()=>{},appUpdateProgress:()=>{},appUpdateReady:()=>{},appUpdateFinished:()=>{},statusBarTap:()=>{},themeChanged:e=>{},track:()=>{},refreshSubscriptionData:async e=>{}};const t=window.ReactNativeWebView?{send:e=>window.ReactNativeWebView.postMessage(e),listen:e=>window.addEventListener("message",e)}:{send:e=>window.postMessage(e,"*"),listen:e=>document.addEventListener("message",e)};if(t.listen(e=>{if(e.data&&!function(e){return e.source===window&&"string"==typeof e.data&&0===e.data.indexOf("setImmediate$")}(e))for(const t of Array.from(this.listeners))t(e.data)}),this.eventBasedApi=new z({sendChannel:t.send,receiveChannel:{addListener:e=>this.listeners.add(e),removeListener:e=>this.listeners.delete(e)},receiveHandlers:this.receiveHandlers,sendCapabilities:e.sendCapabilities}),e.sqliteMigrations&&this.api.execSqliteBatch){const t={execSqliteBatch:async e=>{if(!this.api.execSqliteBatch)throw new Error("execSqlBach API removed after SqliteConnection was created");const t=await this.api.execSqliteBatch(e);if(t.error){const e=new Error(t.error.message);throw e.name=t.error.name,e}return t.value}};this.sqliteConnection=new ue({connection:t,migrations:e.sqliteMigrations,type:"v1"})}}get api(){return this.eventBasedApi.api}updateReceiveApiHandlers(e){Object.assign(this.receiveHandlers,e)}share(e){this.api.share&&this.api.share(e)}setTheme(e){this.api.setAppTheme?this.api.setAppTheme(e):this.api.setStatusBarBackgroundColor&&this.api.setStatusBarStyle&&("light"===e?this.device.isAndroid?(this.api.setStatusBarBackgroundColor("black"),this.api.setStatusBarStyle("light-content")):this.api.setStatusBarStyle("default"):(this.device.isAndroid&&this.api.setStatusBarBackgroundColor("black"),this.api.setStatusBarStyle("light-content")))}openInAppBrowser(e){this.api.openInAppBrowser&&this.api.openInAppBrowser(Y()(e))}closeInAppBrowser(){this.api.closeInAppBrowser&&this.api.closeInAppBrowser()}openUpgradeModal(e){this.api.openUpgradeModal&&this.api.openUpgradeModal(e)}exitApp(){this.api.exitApp&&this.api.exitApp()}showSplashscreen(){this.api.showSplashScreen&&this.api.showSplashScreen()}hideSplashscreen(){this.api.hideSplashScreen&&this.api.hideSplashScreen()}buzz(){this.api.buzz&&this.api.buzz()}setBadgeNumber(e){this.api.setBadgeNumber&&this.api.setBadgeNumber(e)}openUpdateSettings(){this.api.openUpdateSettings&&this.api.openUpdateSettings()}hasNativeAppleLogin(){return Boolean(this.api.requestNativeAppleAuth)}hasNativeGoogleLogin(){return this.device.isAndroid&&Boolean(this.api.requestGoogleJwt)}async requestNativeAppleAuth(){if(this.api.requestNativeAppleAuth)return this.api.requestNativeAppleAuth()}async requestGoogleJwt(){if(this.device.isAndroid&&this.api.requestGoogleJwt)return this.api.requestGoogleJwt({webClientId:l.default.googleOAuth.clientId})}async logoutOfGoogle(){if(this.device.isAndroid&&this.api.logoutOfGoogle)return this.api.logoutOfGoogle({webClientId:l.default.googleOAuth.clientId})}async resetAssetCache(){this.api.resetAppCache&&await this.api.resetAppCache()}async setLogglyData(e){this.api.setLogglyData&&await this.api.setLogglyData(e)}async unregisterPushNotifications(){this.api.unregisterPushNotifications&&await this.api.unregisterPushNotifications()}async cancelUserBackgroundTasks(){this.api.cancelUserBackgroundTasks&&await this.api.cancelUserBackgroundTasks()}async renderMobileActionBar(e){this.api.renderMobileActionBar&&await this.api.renderMobileActionBar(e)}get setWebViewAllowsNavigationGestures(){return this.api.setWebViewAllowsNavigationGestures}subscribeToOpenLink(e){if(this.updateReceiveApiHandlers({openLink:e}),this.initialNotification){const t=this.initialNotification;this.initialNotification=void 0,setTimeout(()=>e(t))}}}class be extends o.a{getInitialState(){return{mode:"light"}}}class ve extends o.a{getInitialState(){return{}}canGoBack(){return!this.state.historyState||this.state.historyState.index>0}canGoForward(){return!this.state.historyState||this.state.historyState.index<window.history.length-1}}class ye extends m.a{}var Se=n("cBa6"),we=n("gHFd");class ke extends o.a{getInitialState(){return{loading:!1,loaded:!1}}async loadIfNeeded(e){if(this.state.loaded||this.state.loading)return;const t=e();if(!t)return;if(0===Se.P(t).length)return;const n=we.deps.katex.loader();this.setState({loading:!0,loaded:!1,result:n}),this.setState({loading:!1,loaded:!0,result:await n})}getKatex(){if(this.state.loaded)return this.state.result}}var Ce=n("Catn"),Me=n("dlZW"),Ee=n("Ko8Q"),_e=n("HRSx"),Te=n("JuT7"),xe=n("/xiq");class Ie extends o.a{static getCacheKey(e){return"LocalBacklinkStore:".concat(e)}getInitialState(){return{}}initializeBacklinks({blockId:e,currentUserId:t,environment:n}){if(this.instanceState[e])return;const o=this.getCachedBacklinks({blockId:e,currentUserId:t});o?this.setState({...this.instanceState,[e]:{backlinks:o,loaded:!0}}):this.setState({...this.instanceState,[e]:{backlinks:[],loaded:!1}}),Object(xe.a)(n,e),this.startMessageListeners(e,n)}awaitLoaded(e){return this.waitUntil(()=>{const t=this.state[e];return Boolean(t&&t.loaded)})}destroyBacklinks(e){this.stopMessageListeners(e),delete this.instanceState[e]}getBacklinks({blockId:e,currentUserId:t}){const n=this.state[e];return n?n.backlinks:this.getCachedBacklinks({blockId:e,currentUserId:t})||[]}setBacklinks({blockId:e,backlinks:t,currentUserId:n}){this.setCachedBacklinks({blockId:e,backlinks:t,currentUserId:n});const o=this.state[e];o&&this.setState({...this.state,[e]:{...o,backlinks:t,loaded:!0}})}updateBacklinks(e){const{createdBacklinks:t,deletedBacklinks:n,currentUserId:o}=e,r=s.a.groupBy(t,({block_id:e})=>e),a=s.a.groupBy(n,({block_id:e})=>e),i=s.a.uniq([...Object.keys(r),...Object.keys(a)]);for(const l of i){const e=r[l]||[],t=a[l]||[],n=s.a.uniqWith([...this.getBacklinks({blockId:l,currentUserId:o}),...e],s.a.isEqual).filter(e=>!t.some(t=>s.a.isEqual(e,t)));this.setBacklinks({blockId:l,backlinks:n,currentUserId:o})}return i}resetBacklinks({blockIds:e,currentUserId:t}){for(const n of e)this.setCachedBacklinks({blockId:n,backlinks:[],currentUserId:t})}getCachedBacklinks({blockId:e,currentUserId:t}){return Ce.a.get({userId:t,key:Ie.getCacheKey(e)})}setCachedBacklinks({blockId:e,backlinks:t,currentUserId:n}){return Ce.a.set({userId:n,key:Ie.getCacheKey(e),value:t})}async startMessageListeners(e,t){Me.transactionQueue.isPendingTransactionForRecord({table:_e.a,id:e})&&await Me.transactionQueue.drain();const n=this.instanceState[e];if(!n)return;let o=void 0,r=!1;const a=s.a.throttle((n,a)=>{const i=o,s=a||void 0;o=s,r?i!==s&&Object(xe.a)(t,e):r=!0},1e3),i=Object(Ee.b)(e);n.messageStoreListenerReference=Te.a.addListener(i,a,void 0)}stopMessageListeners(e){const t=this.instanceState[e];t&&t.messageStoreListenerReference&&(Te.a.removeListener(t.messageStoreListenerReference),t.messageStoreListenerReference=void 0)}}var Pe=n("VhAz");function Oe(e){return"PageDetailsStore:".concat(e.type,":").concat(e.id)}class Be extends o.a{getInitialState(){return{}}static getDefaultToggleState(e){return"discussion"===e.type||"backlinks"!==e.type&&void Object(Pe.e)(e)}getToggleState(e){const t=Oe(e);if(t in this.state)return this.state[t]}setToggleState(e,t){const n=Oe(e);this.setState({...this.state,[n]:t})}}var Le=n("QShV"),Re=n.n(Le),De=n("h2IJ");class Ae{constructor(e){this.langCache=new Re.a(100),this.handleSelectionChange=()=>{if(this.enabled){const e=this.getInputElement();e&&e!==this.currentInputElement?(this.currentInputElement=e,this.handleDetectLanguageChange(e)):e&&this.handleDetectLanguageChangeThrottled(e)}},this.handleDetectLanguageChange=e=>{const t=e.textContent;if(t){let e=this.detectLanguages(t);void 0!==e&&(e=e.map(e=>navigator.language.startsWith(e)?navigator.language:e)),this.setLanguages(e)}},this.handleDetectLanguageChangeThrottled=s.a.throttle(this.handleDetectLanguageChange,500);const t=De.a.get("spellcheckEnabled");this.setEnabled(void 0===t||t);const{isMac:n}=e.device;!n&&F.electronApi&&F.electronApi.loadSpellcheck&&(F.electronApi.loadSpellcheck(),document.addEventListener("selectionchange",this.handleSelectionChange))}setEnabled(e){this.enabled=e,De.a.set("spellcheckEnabled",e),F.electronApi&&F.electronApi.setSpellCheckerLanguages&&(e?F.electronApi.setSpellCheckerLanguages(this.getLanguages()):F.electronApi.setSpellCheckerLanguages([]))}isEnabled(){return this.enabled}detectLanguages(e){let t;return this.langCache.cache[e]?(t=this.langCache.get(e),t):(F.electronApi&&F.electronApi.cld&&F.electronApi.cld.detect(e,(e,n)=>{n&&n.reliable&&n.languages&&(t=n.languages.map(e=>e.code))}),this.langCache.set(e,t),t)}getCorrections(e){return e.dictionarySuggestions}setLanguages(e){s.a.isEqual(this.currentLanguages,e)||(this.currentLanguages=e,F.electronApi&&F.electronApi.setSpellCheckerLanguages&&F.electronApi.setSpellCheckerLanguages(e||[]))}getInputElement(){const e=document.activeElement;if(e instanceof HTMLElement&&("input"===e.tagName||"true"===e.contentEditable))return e}getLanguages(){return navigator.languages.filter(e=>e.includes("-"))}}class je{constructor(){if(this.wordCache=new Re.a(1e3),this.langCache=new Re.a(100),this.enabled=!0,this.handleSelectionChange=()=>{if(this.enabled){const e=this.getInputElement();e&&e!==this.currentInputElement?(this.currentInputElement=e,this.handleDetectLanguageChange(e)):e&&this.handleDetectLanguageChangeThrottled(e)}},this.handleDetectLanguageChange=e=>{const t=e.textContent;if(t){let e=this.detectLanguage(t);void 0!==e&&navigator.language.startsWith(e)&&(e=navigator.language),this.setLanguage(e)}},this.handleDetectLanguageChangeThrottled=s.a.throttle(this.handleDetectLanguageChange,500),F.electronApi&&F.electronApi.loadSpellcheck){F.electronApi.loadSpellcheck();const e=De.a.get("spellcheckEnabled");void 0!==e&&(this.enabled=e),document.addEventListener("selectionchange",this.handleSelectionChange)}}setEnabled(e){e!==this.enabled&&(this.enabled=e,De.a.set("spellcheckEnabled",e))}isEnabled(){return this.enabled}addToDictionary(e){F.electronApi&&F.electronApi.spellchecker&&F.electronApi.spellchecker.add(e)}removeFromDictionary(e){F.electronApi&&F.electronApi.spellchecker&&F.electronApi.spellchecker.remove(e)}getCorrections(e){const t=e.misspelledWord;return F.electronApi&&F.electronApi.spellchecker?F.electronApi.spellchecker.getCorrectionsForMisspelling(t):[]}detectLanguage(e){let t;return this.langCache.cache[e]?this.langCache.get(e):(F.electronApi&&F.electronApi.cld&&F.electronApi.cld.detect(e,(e,n)=>{if(n&&n.reliable&&n.languages){const e=n.languages[0];e&&e.code&&(t=e.code)}}),this.langCache.set(e,t),t)}setLanguage(e){this.currentLanguage!==e&&(this.currentLanguage=e,F.electronApi&&F.electronApi.setSpellCheckProviderAsync?void 0!==e&&F.electronApi.setSpellCheckProviderAsync({language:e,spellCheck:(t,n)=>{setTimeout(()=>{let o;o=this.enabled?t.filter(t=>{const n="".concat(e,":").concat(t),o=this.wordCache.get(n);return void 0!==o?!o:F.electronApi&&F.electronApi.spellchecker&&(F.electronApi.spellchecker.setDictionary(e),F.electronApi.spellchecker.isMisspelled(t))?(this.wordCache.set(n,!1),!0):(this.wordCache.set(n,!0),!1)}):[],n(o)},0)}}):F.electronApi&&F.electronApi.setSpellCheckProvider&&(void 0===e?F.electronApi.setSpellCheckProvider({language:"en",autoCorrect:!1,spellCheck:e=>!0}):F.electronApi.setSpellCheckProvider({language:e,autoCorrect:!0,spellCheck:t=>{if(!this.enabled)return!0;const n="".concat(e,":").concat(t),o=this.wordCache.get(n);return void 0!==o?o:F.electronApi&&F.electronApi.spellchecker&&(F.electronApi.spellchecker.setDictionary(e),!F.electronApi.spellchecker.isMisspelled(t))?(this.wordCache.set(n,!0),!0):(this.wordCache.set(n,!1),!1)}})))}getInputElement(){const e=document.activeElement;if(e instanceof HTMLElement&&("input"===e.tagName||"true"===e.contentEditable))return e}}class Fe extends o.a{getInitialState(){return{}}waitUntilLoaded(){return this.waitUntil(()=>Boolean(this.state.data))}}var Ve=Fe,Ne=n("5BEd"),Ue=n("g90h");class ze{constructor(e){this.sqliteConnection=void 0,this.requests=new Map,this.sqliteMigrations=e.sqliteMigrations}async initialize(){if(this.sqliteMigrations&&F.electronApi&&F.electronApi.sqliteServerEnabled){await this.initializeWebSocket();const e={execSqliteBatchV2:async e=>{const t=Object(Ue.b)(),{batch:n,precondition:o}=e,r=JSON.stringify({id:t,batch:n,precondition:o,auth:this.authToken});return await this.execSqliteBatchInner(t,r)},execSqliteBatch:async e=>{const t=Object(Ue.b)(),n=JSON.stringify({id:t,batch:e,auth:this.authToken});return await this.execSqliteBatchInner(t,n)}};this.sqliteMigrations&&(this.sqliteConnection=new ue({connection:e,type:"v2",migrations:this.sqliteMigrations}))}}async execSqliteBatchInner(e,t){const n=new Promise(t=>{this.requests.set(e,t)});this.ws.readyState===WebSocket.CLOSED&&await this.initializeWebSocket();try{this.ws.send(t)}catch(r){const e=this.ws;this.ws.onopen=function(n){e.send(t)}}const o=await n;if(o.error)throw new Error("Received SQLite error.");return o.value}async initializeWebSocket(){if(!F.electronApi||!F.electronApi.getSqliteMeta)return;const e=await F.electronApi.getSqliteMeta();if(e.error)return;if(this.ws&&[WebSocket.OPEN,WebSocket.CONNECTING].includes(this.ws.readyState))return;const{serverProcessPort:t,authToken:n}=e.value;this.authToken=n;const o="ws://localhost:".concat(t);this.ws=new WebSocket(o),this.ws.onclose=()=>{I.log({level:"warning",from:"electronSqlite",type:"reinitializingWebsocket"}),this.initializeWebSocket()},this.ws.addEventListener("message",e=>{const t=e.data.toString(),{id:n,result:o}=JSON.parse(t),r=this.requests.get(n);r&&(this.requests.delete(n),r({value:o}))}),await new Promise(e=>{this.ws.onopen=()=>{e()}})}}async function Xe(){const e=y(),t=await async function(e){if(!e.device.isReactNative)return;await fe.promise,await x.h(0);const t=window.__reactNativeCapabilities||[],o=t.indexOf("execSqliteBatch")>-1?(await Promise.resolve().then(n.bind(null,"4Frv"))).AllMigrations:void 0;return new ge({device:e.device,sendCapabilities:t,sqliteMigrations:o})}({device:e}),o=await async function(e){if(!e.device.isElectron)return;const t=F.electronApi&&F.electronApi.sqliteServerEnabled?(await Promise.resolve().then(n.bind(null,"4Frv"))).AllMigrations:void 0;if(!t)return;const o=new ze({device:e.device,sqliteMigrations:t});return await o.initialize(),o}({device:e}),r=new ve,i=new be,{electronApi:s}=await Promise.resolve().then(n.bind(null,"bK/N"));let l;l=s&&s.setSpellCheckerLanguages?new Ae({device:e}):new je;const c=function(e){const{device:t,reactNative:n,electronSqlite:o}=e;if(n){if(n.sqliteConnection)return new j(n.sqliteConnection,4e4);{const e=new _.b(n,"LocalRecordStore4",!1);return async function(){for(;;){await x.h(6e4);try{await e.squeeze(2e3)}catch(t){I.log({level:"error",from:"initializeEnvironment",type:"LocalStorageSqueezeError",error:Object(V.a)(t)})}}}(),new _.a(e)}}if(t.isElectron&&t.electronVersion&&t.electronVersion[0]>=6){const t=new T.a(e,"LocalRecordStore4",4e4);if(o&&o.sqliteConnection&&F.electronApi&&F.electronApi.sqliteServerEnabled){const e=new j(o.sqliteConnection,4e4);return new U({caches:{indexedDB:t,sqlite:e}})}return t}}({device:e,reactNative:t,electronSqlite:o}),d=function(e){const{device:t,RouterStore:n,ThemeStore:o}=e;let r=["nativeRedirect","page","space","onboarding","unsubscribe","unknown"];return(t.isElectron||t.isReactNative)&&(r=r.concat("root","login","signup")),new ye(()=>{const e=n.state.route;return e&&r.includes(e.name)?o.state.mode:"light"})}({device:e,RouterStore:r,ThemeStore:i}),u={AppUpdateStore:new a,device:e,WindowSizeStore:new k.a({device:e}),showButtonFocusRing:new m.a(()=>e.isDesktop&&N.default.hasFocusRingExperiment(u)),KeyboardShortcutStackStore:new E({device:e}),PersistedRecordCache:c,reactNative:t,RouterStore:r,ThemeStore:i,ThemeModeStore:d,ElectronSqlite:o,KatexStore:new ke,LocalBacklinkStore:new Ie,PageDetailsStore:new Be,updateCurrentUserId:void 0,currentUser:new w.a(void 0,[]),SpellCheckStore:l,CsatMilestoneStore:new Ve,PersistedOfflineState:Object(Ne.b)({device:e,reactNative:t,electronSqlite:o})};return c&&"setEnvironment"in c&&c.setEnvironment(u),u}n.d(t,"createClientEnvironment",(function(){return Xe}))},"7z/K":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{hovered:!1,pressed:!1}}}t.a=r},"80on":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1,items:[],showCancel:!0,keepFocus:!1}}}t.a=new r},"84+D":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{touching:!1,swiping:!1}}}t.a=new r},"85j+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{constructor(e,t){this._id=e,this._loggedInUserIds=t}get id(){return this._id}get loggedInUserIds(){return this._loggedInUserIds}isLoggedIn(){return Boolean(this._id)}}},"8L2b":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fIr1");const r="space_view",a={table:r,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,space_id:o.a.UUID,bookmarked_pages:o.a.StringArray,shared_pages:o.a.StringArray,visited_templates:o.a.StringArray,sidebar_hidden_templates:o.a.StringArray,notify_mobile:o.a.Boolean,notify_desktop:o.a.Boolean,notify_email:o.a.Boolean,notify_email_always:o.a.Boolean,created_getting_started:o.a.Boolean,parent_id:o.a.UUID,parent_table:o.a.String,alive:o.a.Boolean,created_onboarding_templates:o.a.Boolean,private_pages:o.a.UUIDArray,joined:o.a.Boolean}};t.b=a},"8LJQ":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("WgIs"),s=n("2Y+N"),l=n("fU6e"),c=n("IdIf"),d=n("htWf"),u=n("gbGO"),p=n("J9+s"),h=n("SR/M"),m=n("mF3+");class f extends a.a{constructor(){super(...arguments),this.renderMenuItem=e=>{const{device:t}=this.environment;return{key:e,render:n=>r.a.createElement(h.a,Object.assign({},n,{textWrapperStyle:{marginRight:0},title:r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",null,l.a.getVisibilityLabel(e))),right:this.props.visibility===e?r.a.createElement("div",{style:{width:t.isMobile?16:14}},m.a.check()):void 0})),action:()=>{if("page"===this.props.type){const t=e;this.props.onSelect(t)}else{const t=e;this.props.onSelect(t)}this.props.onClose&&this.props.onClose()}}}}renderComponent(){const{device:e}=this.environment,t=[{key:"visibilityLevels",render:e=>r.a.createElement(s.a,Object.assign({},e,{topBorder:0!==e.index})),items:"page"===this.props.type?this.getPageVisibilityLevels().map(e=>this.renderMenuItem(e)):this.getPropertyVisibilityLevels().filter(e=>"property"!==this.props.type||"hide_if_empty"!==e||d.d({propertySchema:this.props.propertySchema})).map(e=>this.renderMenuItem(e))}];let n;return n=e.isMobile?{menuType:u.b.MenuType.Modal,title:r.a.createElement(p.FormattedMessage,{id:"customizePageMenuVisibilitySelect.mobile.title",defaultMessage:"Select visibility"}),right:r.a.createElement(p.FormattedMessage,{id:"customizePageMenuVisibilitySelect.mobile.doneButton.label",defaultMessage:"Done"}),onClickRight:()=>this.props.onClose&&this.props.onClose()}:{menuType:u.b.MenuType.Popup,width:150},r.a.createElement(u.b,Object.assign({},n),r.a.createElement(i.a,{type:i.a.Type.Vertical,initialFocus:void 0,sections:t}))}getPageVisibilityLevels(){return"page"!==this.props.type?[]:this.props.visibilityLevels?this.props.visibilityLevels:c.b}getPropertyVisibilityLevels(){return c.c}}t.a=f},"8N42":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));n("3bBZ");var o=n("Qfcx");const r=e=>{const{cursors:t,rootStore:n}=e,r={};for(const o of t)for(const e of o.stack)for(const t of e)r[t.id]=t.index;o.a.setLimitParents(n,r)},a=e=>{o.a.removeLimitParents(e.rootStore)}},"8SB7":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return p}));var o=n("LvDl"),r=n.n(o),a=n("Dnhi"),i=n("Cycz"),s=n("AXh+"),l=n("z22Z"),c=n("r8MX");function d(e){if(e&&e.blockId)return e.blockId}function u(e,t){const n=e.currentUser.id;if(t.userId===n)return!0;{const e=Date.now();return Boolean(t.present&&t.activityTimestamp&&e-t.activityTimestamp<=a.a.presentMaxActivityAge)}}function p(e,t){const n=c.default.state.data,{remotePresenceData:o,rootStore:a}=t.state;if(!a||!a.canEdit()||!n)return[];let d=[];o&&r.a.forOwn(o,e=>{e&&e.userId&&d.push(e)});const{pageId:u,...p}=e.state;r.a.forOwn(p,e=>{const t=e.state.value;if(t){const e=function(e){return{userId:e.user_id,activityTimestamp:e.visited_at,present:!1}}(t);d.push(e)}}),d=r.a.uniqBy(d,e=>e.userId);const h=Object(s.b)(a).map(({permissionItem:e})=>e).filter(l.q).map(e=>e.user_id),m=Object(i.v)(n).map(e=>e.userId),f=r.a.union(h,m);return d=d.filter(e=>f.includes(e.userId)),d=r.a.sortBy(d,({activityTimestamp:e})=>e?-e:0),d}},"8dfn":function(e,t,n){"use strict";var o=n("Cgnk");t.a=new o.a},"8f5p":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var o=n("LvDl"),r=n.n(o),a=n("5/h/"),i=n("tvfY"),s=n("J9+s");const l=Object(s.defineMessages)({untitledGroupName:{defaultMessage:"Untitled",id:"spaceBasicSettings.spacePermissionsSettings.groupsTab.defaultNewGroupName"}});function c(e){const{intl:t,group:n}=e;return n.name||t.formatMessage(l.untitledGroupName)}function d(e){const{group:t,spaceStore:n,limit:o}=e,s=t.user_ids||[],l=s.length;if(!n)return{countRemainingUsers:0,totalNumberMembers:l,limitedUserValues:[]};const c=n.getPermissionItems(),d=s.filter(e=>Boolean(c.find(t=>"user_permission"===t.type&&t.user_id===e))),u=o?d.slice(0,o):d;return{limitedUserValues:r.a.compact(u.map(e=>i.a.createChildStore(n,{table:a.a,id:e}).getValue())),countRemainingUsers:d.length-u.length,totalNumberMembers:l}}},"8fuX":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("3CDt"),l=n.n(s),c=n("LvDl"),d=n.n(c),u=n("17x9"),p=n.n(u),h=n("xEkU"),m=n.n(h),f=n("X6Ne"),g=n("GRWW"),b=n("wldR"),v=n("v/t1"),y=n("DkKf");let S;let w=!1;function k(){w||(w=!0,m()(()=>{w=!1,(S||(S=document.createElement("div"),S.style.position="fixed",S.style.top="-9999px",S.style.left="-9999px",S.style.zIndex="-9999",document.body.appendChild(S)),S).style.height="".concat(Math.random(),"px")}))}var C=n("0zNc"),M=n("DaKt"),E=n("HDj1"),_=n("nZ1u"),T=n("7M94"),x=n("Ng05");class I extends b.a{renderComponent(){return r.a.createElement(x.a,Object.assign({},this.props,{style:{...this.props.style,borderRadius:30}}))}}var P=I,O=n("J9+s");class B extends b.a{renderComponent(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(P,{style:{zIndex:2,maxWidth:100,position:"absolute",bottom:30},onClick:this.props.onClick},r.a.createElement("div",null,r.a.createElement(O.FormattedMessage,{id:"scroller.scrollDown.name",defaultMessage:"Scroll down"}))))}}var L,R=Object(O.injectIntl)(B);n.d(t,"a",(function(){return L})),function(e){e[e.All=0]="All",e[e.X=1]="X",e[e.Y=2]="Y",e[e.None=3]="None"}(L||(L={}));class D extends b.a{constructor(){super(...arguments),this.el=null,this.mouseX=0,this.mouseY=0,this.storeTypes={store:g.a},this.handleScrollDown=()=>{this.scrollToBottom({animate:!0})},this.handleMouseMove=e=>{this.props.onMouseMove&&this.props.onMouseMove(e),this.handleEdgeScrollThrottled()},this.handleTouchMove=()=>{this.handleEdgeScrollThrottled()},this.handleEdgeScroll=()=>{const{device:e}=this.environment;e.isIOS||e.isSafari?this.triggerEdgeScrollThrottled():this.triggerEdgeScroll()},this.handleEdgeScrollThrottled=d.a.throttle(this.handleEdgeScroll,30),this.handleScroll=e=>{const{device:t}=this.environment;if(!this.el)return;const{scrollTop:n,scrollHeight:o,scrollWidth:r,scrollLeft:a}=this.el;this.stores.store.setState({...this.stores.store.state,scrollTop:n,scrollHeight:o,scrollLeft:a,scrollWidth:r,isScrolling:!0}),this.props.onScroll&&this.props.onScroll(e),this.handleScrollEndDelayed(),t.isIOS||t.isSafari?this.triggerEdgeScrollThrottled():this.triggerEdgeScroll(),t.isReactNative&&t.isIOS&&function(){const e=window.getSelection();e&&e.anchorNode&&k()}()},this.handleScrollEnd=()=>{this.stores.store.setState({...this.stores.store.state,isScrolling:!1})},this.handleScrollEndDelayed=d.a.debounce(this.handleScrollEnd,D.scrollEndThreshold),this.ref=e=>{this.el=e},this.triggerEdgeScrollThrottled=d.a.throttle(this.triggerEdgeScroll,1e3/60),this.measureSize=()=>{if(this.el){const e=this.el,{top:t,right:n,bottom:o,left:r,width:a,height:s}=this.el.getBoundingClientRect();let l={top:t,right:n,bottom:o,left:r,width:a,height:s};E.a.getComponents().forEach(t=>{const n=i.a.findDOMNode(t);n&&e.contains(n)&&(l=t.customizeEdgeScrollRect(l))});const c={...this.stores.store.state,clientRect:l,scrollTop:e.scrollTop,scrollHeight:e.scrollHeight,scrollLeft:e.scrollLeft,scrollWidth:e.scrollWidth};return d.a.isEqual(this.stores.store.state,c)||this.stores.store.setState(c),l}},this.measureSizeDebounced=d.a.debounce(this.measureSize,500,{leading:!0}),this.handleWindowMouseMove=e=>{this.mouseX=e.clientX,this.mouseY=e.clientY},this.handleWindowTouchMove=e=>{this.mouseX=e.touches[0].clientX,this.mouseY=e.touches[0].clientY},this.handleScrollbarOffset=()=>{const{device:e}=this.environment;if(e.isMobile)return;const t=i.a.findDOMNode(this);if(!t)return;if(!(t instanceof HTMLElement))return;let n=0,o=0;this.props.disableScroll&&(t.scrollHeight>t.clientHeight&&(this.props.type===L.All||this.props.type===L.Y)&&(n=e.scrollbarWidth),t.scrollWidth>t.clientWidth&&(this.props.type===L.All||this.props.type===L.X)&&(o=e.scrollbarWidth));const r=this.props.style;r&&void 0!==r.marginRight||(t.style.marginRight="".concat(n.toString(),"px")),r&&void 0!==r.marginBottom||(t.style.marginBottom="".concat(o.toString(),"px"))}}scrollTo(e,t,n){this.componentIsMounted&&this.el&&(e=void 0!==e?e:this.el.scrollTop,t=void 0!==t?t:this.el.scrollLeft,n&&n.animate?(l()(this.el,e,200,n.animationCallback||d.a.identity),this.el.scrollLeft=t):(this.el.scrollTop=e,this.el.scrollLeft=t))}scrollByOffset(e,t,n){if(this.componentIsMounted&&this.el){const o=this.el.scrollTop+e,r=this.el.scrollLeft+t;this.scrollTo(o,r,n)}}scrollToTop(e){const{device:t}=this.environment;t.isIOS&&this.getStore().state.isScrolling&&this.scrollerHack(),this.scrollTo(0,0,e)}scrollToBottom(e){this.componentIsMounted&&this.el&&this.scrollTo(this.el.scrollHeight,0,e)}scrollerEl(){return this.el}getStore(){return this.stores.store}getClientRect(){return this.measureSize()}scrollerHack(){this.el&&(this.el.style.overflow="hidden",setTimeout(()=>{this.el&&(this.el.style.overflow="scroll")},0))}getChildContext(){const{type:e}=this.props,t={...this.context};return e!==L.Y&&e!==L.All||(t.verticalScroller=this),e!==L.X&&e!==L.All||(t.horizontalScroller=this),t}didMount(){m()(this.measureSize),this.el&&v.a(this.el,"scroll",this.handleScroll);const{device:e}=this.environment;e.isMobile?(v.a(window,"touchmove",this.handleWindowTouchMove),v.a(window,"mousemove",this.handleWindowMouseMove)):v.a(window,"mousemove",this.handleWindowMouseMove),this.handleScrollbarOffset()}didUpdate(){this.handleScrollbarOffset()}willUnmount(){this.el&&v.b(this.el,"scroll",this.handleScroll);const{device:e}=this.environment;e.isMobile?(v.b(window,"touchmove",this.handleWindowTouchMove),v.b(window,"mousemove",this.handleWindowMouseMove)):v.b(window,"mousemove",this.handleWindowMouseMove)}renderComponent(){const{type:e}=this.props;return r.a.createElement("div",{style:this.getStyle(),className:d.a.compact([T.sb,(e===L.Y||e===L.All)&&T.ub,(e===L.X||e===L.All)&&T.tb,this.props.className]).join(" "),onMouseMove:this.handleMouseMove,onTouchMove:this.handleTouchMove,onMouseDown:this.props.onMouseDown,onMouseLeave:this.props.onMouseLeave,onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onContextMenu:this.props.onContextMenu,ref:this.ref},this.props.children,this.props.showScrollToBottomIndicator&&!this.atScrollEnd()&&r.a.createElement(R,{onClick:this.handleScrollDown}))}atScrollEnd(){if(!this.stores.store.state.clientRect||!this.el)return!1;const{scrollTop:e,scrollHeight:t,clientHeight:n}=this.el,o=t-(e+n);return Math.abs(o)<10}shouldScrollNearEdge(){return this.props.type!==L.None&&y.d()&&M.a.state}triggerEdgeScroll(){if(this.shouldScrollNearEdge()){this.measureSizeDebounced();const{disableVerticalEdgeScroll:e,disableHorizontalEdgeScroll:t}=C.a.state,n=_.a.state,o=!!n.isActive&&!n.allowVerticalEdgeScroll,r=!!n.isActive&&!n.allowHorizontalEdgeScroll;f.f({environment:this.environment,scroller:this,currentMouseX:this.mouseX,currentMouseY:this.mouseY,verticalEdgeThreshold:this.getVerticalEdgeScrollThreshold(),horizontalEdgeThreshold:this.getHorizontalEdgeScrollThreshold(),disableVerticalEdgeScroll:e||o,disableHorizontalEdgeScroll:t||r})}}getVerticalEdgeScrollThreshold(){const{device:e}=this.environment,{clientRect:t}=this.stores.store.state;let n=t&&t.height?t.height:0;return e.isMobile?n*=.2:n*=.1,n=Math.max(n,20),n}getHorizontalEdgeScrollThreshold(){const{device:e}=this.environment,{clientRect:t}=this.stores.store.state;let n=t&&t.width?t.width:0;return e.isMobile?n*=.2:n*=.08,n=Math.max(n,20),n}getStyle(){const{device:e}=this.environment,{type:t}=this.props,n={...this.props.style,zIndex:1};return this.props.disableScroll&&t!==L.None?n.overflow="hidden":t===L.All?(n.overflow="auto",n.WebkitOverflowScrolling="touch"):t===L.X?(n.overflowX="auto",n.overflowY="hidden",n.WebkitOverflowScrolling="touch"):t===L.Y&&(n.overflowX="hidden",n.overflowY="auto",n.WebkitOverflowScrolling="touch"),e.isMobile&&(n.transform="translate3d(0px,0px,0px)",n.willChange="scroll-position, transform"),n}}D.OverflowType=L,D.contextTypes=b.b,D.childContextTypes={verticalScroller:p.a.any,horizontalScroller:p.a.any,...b.b},D.scrollEndThreshold=200;t.b=D},"8kr4":function(e,t,n){"use strict";var o=n("g4rC");t.a=new o.a},"8lbb":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("hgQN"),s=n("MQ9n"),l=n("J9+s"),c=n("gHFd");class d extends a.a{didMount(){super.didMount(),i.i()}renderComponent(){return r.a.createElement(c.DependencyConsumer,{dependency:c.deps.katex},e=>r.a.createElement(s.a,Object.assign({katex:e},this.props)))}}t.a=Object(l.injectIntl)(d)},"8t63":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("wpmu"),s=n("Oy36"),l=n("OxuQ"),c=n("7Q97"),d=n("Sb6f"),u=n("HRSx");class p extends a.a{renderComponent(){const e=i.a.createChildStore(this.props.parentStore,{table:u.a,id:this.props.blockId});return this.props.shouldWrap?r.a.createElement("div",{style:this.getStyle()},this.renderPageIcon(),r.a.createElement(l.a,{store:e,underline:!0,shouldWrap:!0})):r.a.createElement("div",{style:this.getStyle()},this.renderPageIcon(),r.a.createElement(l.a,{store:e,underline:!0}))}renderPageIcon(){const e=i.a.createChildStore(this.props.parentStore,{table:u.a,id:this.props.blockId});return r.a.createElement(s.a,{disabled:!0,icon:e.getIcon(),size:p.styles[this.props.format].pageIconSize,isEmptyPage:e.isEmptyPage(),style:{flexShrink:0,marginRight:4,justifyContent:"flex-start",...this.props.shouldWrap&&{display:"inline-block",verticalAlign:"text-top",marginBottom:-1}}})}getStyle(){const{format:e,shouldShrink:t,shouldWrap:n,isSingle:o}=this.props,{margin:r}=p.styles[e],{height:a,fontSize:i}=p.styles[e];return n?{display:"inline",lineHeight:1.5,borderRadius:3,fontSize:i,fontWeight:d.a.fontWeight.medium,minWidth:t?0:"auto",margin:o?0:r}:{display:"flex",alignItems:"center",lineHeight:1.2,height:a,borderRadius:3,fontSize:i,fontWeight:d.a.fontWeight.medium,minWidth:t?0:"auto",margin:o?0:r}}}p.Format=c.a,p.styles={[c.a.ExtraSmall]:{height:14,fontSize:12,margin:"0 4px 0 0",pageIconSize:16},[c.a.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",pageIconSize:20},[c.a.Medium]:{height:18,fontSize:14,margin:"0 12px 6px 0",pageIconSize:20},[c.a.Inline]:{height:18,fontSize:14,margin:"0 12px 0 0",pageIconSize:20},[c.a.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",pageIconSize:24}},t.a=p},"922z":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return m}));n("4Brf"),n("3bBZ");var o=n("d2j2"),r=n("g90h"),a=n("6CqZ");Symbol("Record Loading Function");const i={constant(e){return this.fromPlainFunctionUnsafe(()=>e)},throw(e){return this.fromPlainFunctionUnsafe(()=>{throw e})},tryEach(...e){return this.fromPlainFunctionUnsafe(t=>{for(const n of e){const e=n(t);if(void 0!==e)return e}})},fromRecordMap:e=>t=>e.get(t),fromRecordMapWithRole:e=>t=>{const n=e.get(t);if(n&&n.value)return n.value},fromPlainFunctionUnsafe:e=>e},s={fromGetRecordValueFn:e=>async t=>{const n=e(t);return await Promise.resolve(n)},fromPlainFunctionUnsafe:e=>e},l={fromPointerLike(e){const{table:t,id:n,spaceId:o}=e;return a.a,{table:t,id:n,spaceId:o}},fromRecordWithTable(e){if(o.a.isSpaceShardRecordWithTable(e)){if(o.a.isSpaceRecordWithTable(e))return{table:e.table,id:e.value.id};{const{table:t,value:n}=e;return{table:t,id:n.id,spaceId:n.space_id}}}if(e.table===a.a){const t=e.value;return{table:a.a,id:t.id,spaceId:t.space_id}}return{table:e.table,id:e.value.id}}};function c(e,t){return e.table===t}function d(e){return Object(r.f)(e.id)||"temporary_password"===e.table}function u(e,t){return e.table===t.table&&e.id===t.id&&(!Object(o.c)(e.table)||e.spaceId===t.spaceId)}function p(e){return 2===e.__version__}function h(e){const t=Object.keys(e);if(0!==t.length&&"no_shard"!==t[0])return t[0]}class m{constructor(e){this.data=e||{}}getSize(){let e=0;const t=Object.keys(this.data);for(const n of t)e+=Object.values(this.data[n]).length;return e}get(e){if(p(this.data)){const t=this.data[e.table];if(t){const n=t[e.id];return n[h(n)||"no_shard"]}}else{const t=this.data[e.table];if(t)return t[e.id]}}getByTable(e){if(p(this.data)){const t=this.data[e];return t?Object.entries(t).map(([t,n])=>{const o=h(n),r=n[o||"no_shard"];return{pointer:{table:e,id:t,spaceId:o},value:r}}):[]}{const t=this.data[e];return t?Object.entries(t).map(([t,n])=>({pointer:{table:e,id:t},value:n})):[]}}set(e,t){if(p(this.data)){let n=this.data[e.table];n||(n={},this.data[e.table]=n);let o=n[e.id];return void 0===o&&(o={},n[e.id]=o),o[e.spaceId||"no_shard"]=t,this}{let n=this.data[e.table];return n||(n={},this.data[e.table]=n),n[e.id]=t,this}}delete(e){const t=this.data[e.table];return t&&delete t[e.id],this}clone(){const e=new m;for(const t of this)e.set(t.pointer,t.value);return e}map(e){const t=new m;for(const n of this)t.set(n.pointer,e(n));return t}async mapAsync(e){const t=new m;return await Promise.all([...this].map(async n=>{const o=await e(n);t.set(n.pointer,o)})),t}*[Symbol.iterator](){if(p(this.data)){for(const[t,n]of Object.entries(this.data))if(n)for(const[e,o]of Object.entries(n)){const n=h(o),r={pointer:{table:t,id:e,spaceId:n},value:o[n||"no_shard"]};yield r}}else for(const[t,n]of Object.entries(this.data))if(n)for(const[o,r]of Object.entries(n)){var e;let n;n=null!=r&&null!==(e=r.value)&&void 0!==e&&e.space_id?{pointer:{table:t,id:o,spaceId:r.value.space_id},value:r}:{pointer:{table:t,id:o},value:r},yield n}}toJson(){return this.data}}},"9M6r":function(e,t,n){"use strict";n("3bBZ"),n("SYor");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("J9+s"),l=n("mF3+"),c=n("frzs"),d=n("zmp8"),u=n("62KP"),p=n("1Imc"),h=n("wldR"),m=n("pqiZ"),f=n("yNyh"),g=n("MYfK"),b=n("A9TN"),v=n("4VgC"),y=n("MeYt"),S=n("Sb6f");class w extends h.a{renderComponent(){return i.a.createElement(y.a,{onClick:this.props.onClick,style:this.getStyle(),hoveredStyle:this.getHoveredStyle()},l.a.appleLogo({width:16,height:16,marginRight:6,marginBottom:2}),i.a.createElement(s.FormattedMessage,{id:"loginForm.loginWithAppleButton.label",defaultMessage:"Continue with Apple"}))}getStyle(){return{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",height:36,borderRadius:3,color:d.g.regularTextColor,fill:d.g.regularTextColor,background:d.g.white,fontSize:14,lineHeight:1,paddingLeft:12,paddingRight:12,fontWeight:S.a.fontWeight.medium,border:"light"===this.theme.mode?"1px solid ".concat(this.theme.regularTextColor):"none",width:"100%",...this.props.style,boxShadow:"0 1px 2px rgba(15, 15, 15, 0.1)"}}getHoveredStyle(){return{background:"light"===this.theme.mode?this.theme.buttonHoveredBackground:d.g.whiteWithAlpha(.8)}}}var k=w,C=n("IYZQ"),M=n("7M94"),E=n("qqdV"),_=n("bkwR"),T=n("zzAG"),x=n("+QMF");class I extends h.a{constructor(){super(...arguments),this.emailInputId=r.a.uniqueId("notion-email-input-"),this.passwordInputId=r.a.uniqueId("notion-password-input-"),this.storeTypes={loginStore:p.a,loginPermissionsStore:u.a},this.handleHiddenPasswordInputChange=e=>{const{loginStore:t}=this.stores,n={...t.state,password:e.currentTarget.value,alert:void 0};t.setState(n)},this.handleEmailChange=e=>{const{loginStore:t}=this.stores,n={...t.state,email:e.target.value,alert:void 0};t.isPassword()||t.isTemporaryPasscode()||t.isReverifying()?t.setState({...n,loginType:"email",password:""}):t.setState(n)},this.handleEmailLoginClick=async()=>{const{disableLoginLink:e}=this.props,{loginStore:t}=this.stores;if(t.isEmail()){const{email:n}=t.state,o=await _.checkEmailType(this.environment,{email:n,allowAdminBypass:!0});if("failed"===o.type)return;const r=o.data.samlRedirect;if(r&&r.enforced)return t.setState({...t.state,loginType:"saml",alert:"Redirecting you to use SAML SSO"}),void this.handleSamlLoginClick();o.data.hasPassword?o.data.mustReverify?await c.sendTemporaryPassword({environment:this.environment,store:t,reverify:!0,disableLoginLink:e}):t.setState({...t.state,loginType:"password",alert:void 0}):(t.setState({...t.state,hasAccount:Boolean(o.data.hasAccount)}),c.sendTemporaryPassword({environment:this.environment,store:t,disableLoginLink:e}))}},this.handleTemporaryPasscodeLoginClick=async()=>{const{redirectURL:e}=this.props,{loginStore:t}=this.stores;if(t.isReverifying()){const{password:e,sentEmailPasscodeState:n}=t.state,o=await c.verifyEmail({environment:this.environment,state:n,password:e});o?t.setState({...t.state,alert:o}):t.setState({...t.state,loginType:"password",password:"",reverified:!0,alert:void 0})}if(t.isTemporaryPasscode()){const{password:n,sentEmailPasscodeState:o}=t.state,r=await c.loginWithTemporaryPasscode({environment:this.environment,state:o,password:n,redirectURL:e});r&&t.setState({...t.state,alert:r})}},this.handlePasswordLoginClick=async()=>{const{redirectURL:e}=this.props,{loginStore:t}=this.stores,{email:n,password:o}=t.state,r=await c.loginWithPassword({environment:this.environment,email:n,password:o,redirectURL:e});t.setState({...t.state,alert:r})},this.handleResetPasswordClick=()=>{c.sendPasswordResetLink({environment:this.environment,store:this.stores.loginStore})},this.handleSamlLoginClick=async()=>{const{device:e}=this.environment,{loginStore:t}=this.stores;if(t.isSaml()){const{email:n}=t.state;if(n){const o=e.isElectron?"nativeredirect":e.isNative?"native":void 0,r=await _.getSamlRedirect(this.environment,{email:n,callbackType:o});if("failed"===r.type)return void t.setState({...t.state,alert:Object(T.b)(this.props.intl,r)});t.setState({...t.state,alert:void 0});const a=r.data.redirectUrl;a&&c.redirectToSaml(this.environment,a)}}},this.handleLoginWithAppleClick=()=>{c.requestLoginWithApple({environment:this.environment,store:this.stores.loginStore})}}renderComponent(){const{loginStore:e}=this.stores,{isSignup:t}=this.props;return i.a.createElement("div",{className:M.I,style:{...I.wrapStyle,...this.props.style}},this.renderLoginWithGoogleButton(),this.renderLoginWithAppleButton(),i.a.createElement("div",{style:{width:"100%"}},this.renderLoginForm(),this.renderAlert(),!t&&this.renderForgotPassword(),!b.default.isAdminMode&&this.renderLoginOptions({email:!(e.isEmail()||e.isTemporaryPasscode()||e.isPassword()||e.isReverifying()),saml:!e.isSaml()})),this.renderDisclaimer())}renderLoginForm(){const{loginStore:e}=this.stores,{email:t,password:n}=e.state;return e.isEmail()?i.a.createElement("form",{onSubmit:this.onFormSubmit},this.renderEmailInput({email:t,onSubmit:this.handleEmailLoginClick}),i.a.createElement(f.b,{type:"password",autoComplete:"current-password",style:{opacity:0,height:0,padding:0,pointerEvents:"none"},inputElementAttributes:{tabIndex:-1,"aria-hidden":!0},onChange:this.handleHiddenPasswordInputChange}),i.a.createElement(v.a,{variant:"secondary",style:{marginTop:6,marginBottom:12},isFullWidth:!0,onClick:this.handleEmailLoginClick},i.a.createElement(s.FormattedMessage,{id:"loginForm.continueWithEmailButton.label",defaultMessage:"Continue with email"}))):e.isPassword()?i.a.createElement("form",{onSubmit:this.onFormSubmit},this.renderEmailInput({email:t,onSubmit:this.handlePasswordLoginClick}),e.state.reverified&&i.a.createElement("div",{style:this.getEmailSentCaptionStyle()},i.a.createElement("span",{style:{paddingRight:4}},this.renderCheck()),i.a.createElement(s.FormattedMessage,{id:"loginForm.reverifyPasswordLabel",defaultMessage:"<emailverifiedtext>Email verified</emailverifiedtext>. You can continue logging in with your password.",values:{emailverifiedtext:(...e)=>i.a.createElement("span",{style:{color:this.theme.regularTextColor}},e)}})),i.a.createElement(g.a,{forId:this.passwordInputId},i.a.createElement(s.FormattedMessage,{id:"loginForm.passwordInput.label",defaultMessage:"Password"})),this.renderPasswordInput({password:n,inputType:"password",placeholderType:"enter_password",onSubmit:this.handlePasswordLoginClick,intl:this.props.intl}),i.a.createElement(v.a,{variant:"secondary",style:{marginTop:6,marginBottom:12},isFullWidth:!0,onClick:this.handlePasswordLoginClick},i.a.createElement(s.FormattedMessage,{id:"loginForm.continueWithPasswordButton.label",defaultMessage:"Continue with password"}))):e.isPasswordResetSent()?i.a.createElement(a.Fragment,null,i.a.createElement(m.a,{size:42}),i.a.createElement("div",{style:this.getEmailSentCaptionStyle()},i.a.createElement(s.FormattedMessage,{id:"loginForm.passwordResetSentMessage",defaultMessage:"Check your inbox for the link to reset your password."}))):e.isForgotPassword()?i.a.createElement("form",{onSubmit:this.onFormSubmit},this.renderEmailInput({email:t,onSubmit:this.handleResetPasswordClick}),i.a.createElement(v.a,{variant:"secondary",style:{marginTop:6,marginBottom:12},isFullWidth:!0,onClick:this.handleResetPasswordClick},i.a.createElement(s.FormattedMessage,{id:"loginForm.sendResetLink",defaultMessage:"Send reset link"}))):e.isReverifying()?i.a.createElement("form",{onSubmit:this.onFormSubmit},this.renderEmailInput({email:t,onSubmit:this.handleTemporaryPasscodeLoginClick}),i.a.createElement("div",{style:this.getEmailSentCaptionStyle()},i.a.createElement(s.FormattedMessage,{id:"loginForm.reverifySentMessage",defaultMessage:"This account requires email verification. Please check your inbox and paste in the verification code."})),i.a.createElement(g.a,{forId:this.passwordInputId},i.a.createElement(s.FormattedMessage,{id:"loginForm.verificationCodeInput.label",defaultMessage:"Verification code"})),this.renderPasswordInput({password:n,inputType:"text",placeholderType:"reverify",onSubmit:this.handleTemporaryPasscodeLoginClick,intl:this.props.intl}),i.a.createElement(v.a,{variant:"secondary",style:{marginTop:6,marginBottom:12},isFullWidth:!0,onClick:this.handleTemporaryPasscodeLoginClick},i.a.createElement(s.FormattedMessage,{id:"loginForm.continueWithReverifyButton.label",defaultMessage:"Verify email"}))):e.isTemporaryPasscode()?i.a.createElement("form",{onSubmit:this.onFormSubmit},this.renderEmailInput({email:t,onSubmit:this.handleTemporaryPasscodeLoginClick}),i.a.createElement("div",{style:this.getEmailSentCaptionStyle()},this.stores.loginStore.state.hasAccount||!x.a(this.environment)?i.a.createElement(s.FormattedMessage,{id:"loginForm.temporaryPasscodeSentMessage",defaultMessage:"We just sent you a temporary login code.{br}Please check your inbox.",values:{br:i.a.createElement("br",null)}}):i.a.createElement(s.FormattedMessage,{id:"loginForm.temporaryPasscodeSentMessageNoAccount",defaultMessage:"We just sent you a temporary sign up code. Please check your inbox and paste the sign up code below."})),i.a.createElement(g.a,{forId:this.passwordInputId},this.stores.loginStore.state.hasAccount||!x.a(this.environment)?i.a.createElement(s.FormattedMessage,{id:"loginForm.loginCodeInput.label",defaultMessage:"Login code"}):i.a.createElement(s.FormattedMessage,{id:"loginForm.signUpCodeInput.label",defaultMessage:"Sign up code"})),this.renderPasswordInput({password:n,inputType:"text",placeholderType:this.props.emailPasscodePlaceholderType,onSubmit:this.handleTemporaryPasscodeLoginClick,intl:this.props.intl}),i.a.createElement(v.a,{variant:"secondary",style:{marginTop:6,marginBottom:12},isFullWidth:!0,onClick:this.handleTemporaryPasscodeLoginClick},this.stores.loginStore.state.hasAccount||!x.a(this.environment)?i.a.createElement(s.FormattedMessage,{id:"loginForm.continueWithLoginCodeButton.label",defaultMessage:"Continue with login code"}):i.a.createElement(s.FormattedMessage,{id:"loginForm.createNewAccountButton.label",defaultMessage:"Create new account"}))):e.isSaml()?i.a.createElement("form",{onSubmit:this.onFormSubmit},this.renderEmailInput({email:e.state.email,onSubmit:this.handleSamlLoginClick}),i.a.createElement(v.a,{variant:"secondary",style:{marginTop:6,marginBottom:12},isFullWidth:!0,onClick:this.handleSamlLoginClick},i.a.createElement(s.FormattedMessage,{id:"loginForm.continueWithSAMLButton.label",defaultMessage:"Continue with SAML"}))):void 0}renderLoginWithGoogleButton(){return i.a.createElement(v.a,{variant:"primary",isFullWidth:!0,style:{marginBottom:4},onClick:e=>{c.requestLoginWithGoogle({environment:this.environment,store:this.stores.loginStore,permissionsStore:this.stores.loginPermissionsStore})}},l.a.googleLogo({fill:"currentColor",width:14,height:14,marginRight:6}),i.a.createElement(s.FormattedMessage,{id:"loginForm.loginWithGoogleButton.label",defaultMessage:"Continue with Google"}))}renderLoginWithAppleButton(){if(!b.default.isAdminMode)return i.a.createElement(k,{style:{marginTop:10},onClick:this.handleLoginWithAppleClick})}renderCheck(){return l.a.thinCheck({display:"inline",height:12,width:12,color:this.theme.regularTextColor})}renderLoginOptions(e){const{email:t,saml:n}=e;if(t||n)return i.a.createElement("div",{style:this.getCaptionStyle()},t&&n?this.renderContinueWithEmailOrSaml():t?this.renderContinueWithEmail():this.renderContinueWithSaml())}renderContinueWithEmailOrSaml(){return i.a.createElement(s.FormattedMessage,{id:"loginForm.otherLoginOptions.continueWithEmailOrSAML",defaultMessage:"You can also <emailloginlink>continue with email</emailloginlink> or <samlloginlink>continue with SAML SSO</samlloginlink>",values:{emailloginlink:(...e)=>i.a.createElement(C.a,{onClick:()=>{this.stores.loginStore.setState({...this.stores.loginStore.state,loginType:"email",alert:void 0})}},e),samlloginlink:(...e)=>i.a.createElement(C.a,{onClick:()=>{this.stores.loginStore.setState({...this.stores.loginStore.state,loginType:"saml",alert:void 0})}},e)}})}renderContinueWithEmail(){return i.a.createElement(s.FormattedMessage,{id:"loginForm.otherLoginOptions.continueWithEmail",defaultMessage:"You can also <emailloginlink>continue with email</emailloginlink>",values:{emailloginlink:(...e)=>i.a.createElement(C.a,{onClick:()=>{this.stores.loginStore.setState({...this.stores.loginStore.state,loginType:"email",alert:void 0})}},e)}})}renderContinueWithSaml(){return i.a.createElement(s.FormattedMessage,{id:"loginForm.otherLoginOptions.continueWithSAML",defaultMessage:"You can also <samlloginlink>continue with SAML SSO</samlloginlink>",values:{samlloginlink:(...e)=>i.a.createElement(C.a,{onClick:()=>{this.stores.loginStore.setState({...this.stores.loginStore.state,loginType:"saml",alert:void 0})}},e)}})}renderEmailInput(e){const{email:t,onSubmit:n}=e,o="email"===this.props.emailLabelType?i.a.createElement(s.FormattedMessage,{id:"loginForm.emailInput.label",defaultMessage:"Email",description:"Label for email input field if user is logging in with a normal email address"}):i.a.createElement(s.FormattedMessage,{id:"loginForm.workEmailInput.label",defaultMessage:"Work email",description:"Label for email input field if user is logging in with a company email address"});return i.a.createElement(a.Fragment,null,i.a.createElement(m.a,{size:42}),i.a.createElement(g.a,{forId:this.emailInputId},o),i.a.createElement(f.b,{id:this.emailInputId,value:t,type:"email",format:f.b.Format.Large,style:this.getInputStyle(),placeholder:this.props.intl.formatMessage({id:"loginForm.emailInput.placeholder",defaultMessage:"Enter your email address..."}),onSubmit:n,autoComplete:"username",showClearButton:!0,autoFocus:this.props.emailInputAutoFocus,onChange:this.handleEmailChange}))}renderPasswordInput(e){const{password:t,inputType:n,placeholderType:o,intl:r,onSubmit:a}=e;let s="";const l=this.stores.loginStore.state.hasAccount,c=!x.a(this.environment);switch(o){case"enter_password":s=r.formatMessage({id:"loginForm.passcodeInput.enterPasswordPlaceholder",defaultMessage:"Enter your password..."});break;case"enter_code":s=l||!c?r.formatMessage({id:"loginForm.passcodeInput.enterCodePlaceholder",defaultMessage:"Enter login code"}):r.formatMessage({id:"loginForm.passcodeInput.enterSignupCodePlaceholder",defaultMessage:"Enter sign up code"});break;case"paste_code":s=l||!c?r.formatMessage({id:"loginForm.passcodeInput.pasteCodePlaceholder",defaultMessage:"Paste login code"}):r.formatMessage({id:"loginForm.passcodeInput.pasteSignupCodePlaceholder",defaultMessage:"Paste sign up code"});break;case"reverify":s=r.formatMessage({id:"loginForm.passcodeInput.reverifyPlaceholder",defaultMessage:"Paste verification code"})}return i.a.createElement(f.b,{id:this.passwordInputId,type:n,value:t,style:this.getInputStyle(),format:f.b.Format.Large,placeholder:s,onSubmit:a,autoFocus:!0,autoComplete:"text"===n?"one-time-code":"current-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{this.stores.loginStore.setState({...this.stores.loginStore.state,password:"text"===n?e.target.value.trim():e.target.value,alert:void 0})}})}renderForgotPassword(){const{loginStore:e}=this.stores;if(e.isPassword()||e.isEmail())return i.a.createElement("div",{style:this.getCaptionStyle()},i.a.createElement(C.a,{onClick:()=>{e.setState({...e.state,loginType:"forgot",password:"",alert:void 0})}},i.a.createElement(s.FormattedMessage,{id:"loginForm.forgotPasswordLink",defaultMessage:"Forgot password?"})))}renderAlert(){const{alert:e}=this.stores.loginStore.state,t=e&&e.split("User:")[1]||e;return i.a.createElement("div",{style:{fontSize:14,color:d.g.redWithAlpha(1),textAlign:"center",display:t?"block":"none",width:"100%"}},t)}renderDisclaimer(){const{device:e}=this.environment;return this.props.disableDisclaimer?null:i.a.createElement("div",{style:{width:e.isMobile?"100%":500,marginTop:64,fontSize:12,color:this.theme.lightTextColor,textAlign:e.isMobile?"left":"center"}},i.a.createElement("p",{style:{marginBottom:0}},i.a.createElement(s.FormattedMessage,{id:"loginForm.disclaimer",description:"Terms and conditions for using the app",defaultMessage:"By clicking “Continue with Google/Email/SAML” above, you acknowledge that you have read and understood, and agree to Notion's <termsandconditionslink>Terms & Conditions</termsandconditionslink> and <privacypolicylink>Privacy Policy</privacypolicylink>.",values:{termsandconditionslink:(...e)=>i.a.createElement(C.a,{href:E.d.termsAndConditions},e),privacypolicylink:(...e)=>i.a.createElement(C.a,{href:E.d.privacyPolicy},e)}})))}onFormSubmit(e){e.preventDefault()}getInputStyle(){const{device:e}=this.environment;return{marginTop:4,marginBottom:8,boxShadow:this.theme.inputBoxShadow,...e.isMobile&&{lineHeight:"30px"}}}getCaptionStyle(){return{color:this.theme.mediumTextColor,fontSize:14,lineHeight:1.6,marginTop:8,textAlign:"center",...this.props.captionStyle}}getEmailSentCaptionStyle(){return{fontSize:14,textAlign:"center",marginTop:8,marginBottom:8,width:"100%",color:this.theme.mediumTextColor,...this.props.emailPasswordSentPromptStyle}}}I.wrapStyle={width:"100%",display:"flex",flexDirection:"column",alignItems:"center"};t.a=Object(s.injectIntl)(I)},"9OwC":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return M})),n.d(t,"h",(function(){return _})),n.d(t,"f",(function(){return T})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return I}));n("3bBZ"),n("UxlC");var o=n("LvDl"),r=n.n(o),a=n("nFzZ"),i=n("D2XV"),s=n("O+wX"),l=n("J9+s");const c=Object(l.defineMessages)({e:{id:"database.formula.constant.e.description",defaultMessage:"The base of the natural logarithm."},pi:{id:"database.formula.constant.pi.description",defaultMessage:"The ratio of a circle's circumference to its diameter."},if:{id:"database.formula.operator.if.description",defaultMessage:"Switches between two options based on another value."},add:{id:"database.formula.operator.add.description",defaultMessage:"Adds two numbers and returns their sum, or concatenates two strings."},subtract:{id:"database.formula.operator.subtract.description",defaultMessage:"Subtracts two numbers and returns their difference."},multiply:{id:"database.formula.operator.multiply.description",defaultMessage:"Multiplies two numbers and returns their product."},divide:{id:"database.formula.operator.divide.description",defaultMessage:"Divides two numbers and returns their quotient."},pow:{id:"database.formula.operator.pow.description",defaultMessage:"Returns base to the exponent power, that is, baseexponent."},mod:{id:"database.formula.operator.mod.description",defaultMessage:"Divides two numbers and returns their remainder."},unaryMinus:{id:"database.formula.operator.unaryMinus.description",defaultMessage:"Negates a number."},unaryPlus:{id:"database.formula.operator.unaryPlus.description",defaultMessage:"Converts its argument into a number."},not:{id:"database.formula.operator.not.description",defaultMessage:"Returns the logical NOT of its argument."},and:{id:"database.formula.operator.and.description",defaultMessage:"Returns the logical AND of its two arguments."},or:{id:"database.formula.operator.or.description",defaultMessage:"Returns the logical OR of its two arguments."},equal:{id:"database.formula.operator.equal.description",defaultMessage:"Returns true if its arguments are equal, and false otherwise."},unequal:{id:"database.formula.operator.unequal.description",defaultMessage:"Returns false if its arguments are equal, and true otherwise."},larger:{id:"database.formula.operator.larger.description",defaultMessage:"Returns true if the first argument is larger than the second."},largerEq:{id:"database.formula.operator.largerEq.description",defaultMessage:"Returns true if the first argument is larger than or equal to than the second."},smaller:{id:"database.formula.operator.smaller.description",defaultMessage:"Returns true if the first argument is smaller than the second."},smallerEq:{id:"database.formula.operator.smallerEq.description",defaultMessage:"Returns true if the first argument is smaller than or equal to than the second."},concat:{id:"database.formula.function.concat.description",defaultMessage:"Concatenates its arguments and returns the result."},join:{id:"database.formula.function.join.description",defaultMessage:"Inserts the first argument between the rest and returns their concatenation."},slice:{id:"database.formula.function.slice.description",defaultMessage:"Extracts a substring from a string from the start index (inclusively) to the end index (optional and exclusively)."},length:{id:"database.formula.function.length.description",defaultMessage:"Returns the length of a string."},format:{id:"database.formula.function.format.description",defaultMessage:"Formats its argument as a string."},toNumber:{id:"database.formula.function.toNumber.description",defaultMessage:"Parses a number from text."},contains:{id:"database.formula.function.contains.description",defaultMessage:"Returns true if the second argument is found in the first."},replace:{id:"database.formula.function.replace.description",defaultMessage:"Replaces the first match of a regular expression with a new value."},replaceAll:{id:"database.formula.function.replaceAll.description",defaultMessage:"Replaces all matches of a regular expression with a new value."},test:{id:"database.formula.function.test.description",defaultMessage:"Tests if a string matches a regular expression."},empty:{id:"database.formula.function.empty.description",defaultMessage:"Tests if a value is empty."},abs:{id:"database.formula.function.abs.description",defaultMessage:"Returns the absolute value of a number."},cbrt:{id:"database.formula.function.cbrt.description",defaultMessage:"Returns the cube root of a number."},ceil:{id:"database.formula.function.ceil.description",defaultMessage:"Returns the smallest integer greater than or equal to a number."},exp:{id:"database.formula.function.exp.description",defaultMessage:"Returns E^x, where x is the argument, and E is Euler's constant (2.718…), the base of the natural logarithm."},floor:{id:"database.formula.function.floor.description",defaultMessage:"Returns the largest integer less than or equal to a number."},ln:{id:"database.formula.function.ln.description",defaultMessage:"Returns the natural logarithm of a number."},log10:{id:"database.formula.function.log10.description",defaultMessage:"Returns the base 10 logarithm of a number."},log2:{id:"database.formula.function.log2.description",defaultMessage:"Returns the base 2 logarithm of a number."},max:{id:"database.formula.function.max.description",defaultMessage:"Returns the largest of zero or more numbers."},min:{id:"database.formula.function.min.description",defaultMessage:"Returns the smallest of zero or more numbers."},round:{id:"database.formula.function.round.description",defaultMessage:"Returns the value of a number rounded to the nearest integer."},sign:{id:"database.formula.function.sign.description",defaultMessage:"Returns the sign of the x, indicating whether x is positive, negative or zero."},sqrt:{id:"database.formula.function.sqrt.description",defaultMessage:"Returns the positive square root of a number."},start:{id:"database.formula.function.start.description",defaultMessage:"Returns the start of a date range."},end:{id:"database.formula.function.end.description",defaultMessage:"Returns the end of a date range."},now:{id:"database.formula.function.now.description",defaultMessage:"Returns the current date and time."},timestamp:{id:"database.formula.function.timestamp.description",defaultMessage:"Returns an integer number from a Unix millisecond timestamp, corresponding to the number of milliseconds since January 1, 1970."},fromTimestamp:{id:"database.formula.function.fromTimestamp.description",defaultMessage:"Returns a date constructed from a Unix millisecond timestamp, corresponding to the number of milliseconds since January 1, 1970."},dateAdd:{id:"database.formula.function.dateAdd.description",defaultMessage:'Add to a date. The last argument, unit, can be one of: "years", "quarters", "months", "weeks", "days", "hours", "minutes", "seconds", or "milliseconds".',description:'Please do not translate "years", "quarters", etc. These English words are the only valid inputs to the function in the app\'s formula language.'},dateSubtract:{id:"database.formula.function.dateSubtract.description",defaultMessage:'Subtract from a date. The last argument, unit, can be one of: "years", "quarters", "months", "weeks", "days", "hours", "minutes", "seconds", or "milliseconds".',description:'Please do not translate "years", "quarters", etc. These English words are the only valid inputs to the function in the app\'s formula language.'},dateBetween:{id:"database.formula.function.dateBetween.description",defaultMessage:'Returns the time between two dates. The last argument, unit, can be one of: "years", "quarters", "months", "weeks", "days", "hours", "minutes", "seconds", or "milliseconds".',description:'Please do not translate "years", "quarters", etc. These English words are the only valid inputs to the function in the app\'s formula language.'},formatDate:{id:"database.formula.function.formatDate.description",defaultMessage:"Format a date using the Moment standard time format string."},minute:{id:"database.formula.function.minute.description",defaultMessage:"Returns an integer number, between 0 and 59, corresponding to minutes in the given date."},hour:{id:"database.formula.function.hour.description",defaultMessage:"Returns an integer number, between 0 and 23, corresponding to hour for the given date."},day:{id:"database.formula.function.day.description",defaultMessage:"Returns an integer number corresponding to the day of the week for the given date: 0 for Sunday, 1 for Monday, 2 for Tuesday, and so on."},date:{id:"database.formula.function.date.description",defaultMessage:"Returns an integer number, between 1 and 31, corresponding to day of the month for the given."},month:{id:"database.formula.function.month.description",defaultMessage:"Returns an integer number, between 0 and 11, corresponding to month in the given date according to local time. 0 corresponds to January, 1 to February, and so on."},year:{id:"database.formula.function.year.description",defaultMessage:"Returns a number corresponding to the year of the given date."},properties:{id:"database.formula.category.properties",defaultMessage:"Properties"},constants:{id:"database.formula.category.constants",defaultMessage:"Constants"},operators:{id:"database.formula.category.operators",defaultMessage:"Operators"},functions:{id:"database.formula.category.functions",defaultMessage:"Functions"}});var d;function u(e,t){return{key:p[e],titleMessage:h[e],entries:t}}!function(e){e[e.property=0]="property",e[e.constant=1]="constant",e[e.operator=2]="operator",e[e.function=3]="function"}(d||(d={}));const p={[d.property]:"properties",[d.constant]:"constants",[d.operator]:"operators",[d.function]:"functions"},h={[d.property]:c.properties,[d.constant]:c.constants,[d.operator]:c.operators,[d.function]:c.functions},m=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],f={e:{name:"e",value:Math.E,category:d.constant,descriptionMessage:c.e,resultType:"number",examples:["e == 2.718281828459045"]},pi:{name:"pi",value:Math.PI,category:d.constant,descriptionMessage:c.pi,resultType:"number",examples:["2 * pi == 6.283185307179586"]},true:{name:"true",value:!0,category:d.constant,descriptionMessage:void 0,resultType:"checkbox",examples:['true ? "yes" : "no" == "yes"']},false:{name:"false",value:!1,category:d.constant,descriptionMessage:void 0,resultType:"checkbox",examples:['false ? "yes" : "no" == "no"']}};function g(e){return{resultType:e,arity:[e,e]}}function b(e){return{resultType:e,arity:[e]}}const v=g("number"),y=g("checkbox"),S=b("number"),w=b("date"),k={resultType:"number",arity:["date"]},C=[{resultType:"checkbox",arity:["text","text"]},{resultType:"checkbox",arity:["checkbox","checkbox"]},{resultType:"checkbox",arity:["date","date"]},{resultType:"checkbox",arity:["number","number"]}],M=function(e){if(_.hasOwnProperty(e))return _[e]},E=function(e){return e.some(e=>"string"==typeof e)?e.map(e=>e||""):e.map(e=>e||0)},_={if:{name:"if",apply:e=>e[0]?e[1]:e[2],operator:"?",category:d.operator,descriptionMessage:c.if,signatures:[{resultType:"text",arity:["checkbox","text","text"]},{resultType:"number",arity:["checkbox","number","number"]},{resultType:"checkbox",arity:["checkbox","checkbox","checkbox"]},{resultType:"date",arity:["checkbox","date","date"]}],examples:["true ? 1 : -1 == 1",'if(false, "yes", "no") == "no"']},add:{name:"add",apply:e=>{const t=E(e);return t[0]+t[1]},operator:"+",category:d.operator,descriptionMessage:c.add,signatures:[v,{resultType:"text",arity:["text","text"]}],examples:["3 + 4 = 7","add(1, 3) == 4",'"add" + "text" == "addtext"']},subtract:{name:"subtract",apply:e=>{const t=E(e);return t[0]-t[1]},operator:"-",category:d.operator,descriptionMessage:c.subtract,signatures:[v],examples:["3 - 1 == 2","subtract(4, 5) == -1"]},multiply:{name:"multiply",apply:e=>{const t=E(e);return t[0]*t[1]},operator:"*",category:d.operator,descriptionMessage:c.multiply,signatures:[v],examples:["6 * 9 == 54","multiply(2, 10) == 20"]},divide:{name:"divide",apply:e=>{const t=E(e);return t[0]/t[1]},operator:"/",category:d.operator,descriptionMessage:c.divide,signatures:[v],examples:["12 / 4 == 3","divide(12, 3) == 4"]},pow:{name:"pow",apply:e=>{const t=E(e);return Math.pow(t[0],t[1])},operator:"^",category:d.operator,descriptionMessage:c.pow,signatures:[v],examples:["5 ^ 3 == 125","pow(2, 6) == 64"]},mod:{name:"mod",apply:e=>{const t=E(e);return t[0]%t[1]},operator:"%",category:d.operator,descriptionMessage:c.mod,signatures:[v],examples:["7 % 5 == 2","mod(3, 3) == 0"]},unaryMinus:{name:"unaryMinus",apply:e=>-E(e)[0],operator:"-",category:d.operator,descriptionMessage:c.unaryMinus,signatures:[S],examples:["-1 + 2 == 1","unaryMinus(42) == -42"]},unaryPlus:{name:"unaryPlus",apply:e=>+E(e)[0],operator:"+",category:d.operator,descriptionMessage:c.unaryPlus,signatures:[S,{resultType:"number",arity:["text"]},{resultType:"number",arity:["checkbox"]}],examples:['+ "42" == 42',"unaryPlus(true) == 1"]},not:{name:"not",apply:e=>!e[0],operator:"not",category:d.operator,descriptionMessage:c.not,signatures:[{resultType:"checkbox",arity:["checkbox"]}],examples:["not true == false","not(false) == true"]},and:{name:"and",apply:e=>e[0]&&e[1],operator:"and",category:d.operator,descriptionMessage:c.and,signatures:[y],examples:["true and false == false","and(true, true) == true"]},or:{name:"or",apply:e=>e[0]||e[1],operator:"or",category:d.operator,descriptionMessage:c.or,signatures:[y],examples:["false or true == true","or(false, false) == false"]},equal:{name:"equal",apply:(e,t)=>{const[n,o]=e;return i.Z(n)&&i.Z(o)?i.K(n,t).start.valueOf()===i.K(o,t).start.valueOf():n===o},operator:"==",category:d.operator,descriptionMessage:c.equal,signatures:C,examples:["(3 * 5 == 15) == true","equal(false, not true) == true"]},unequal:{name:"unequal",apply:(e,t)=>{const[n,o]=e;return i.Z(n)&&i.Z(o)?i.K(n,t).start.valueOf()!==i.K(o,t).start.valueOf():n!==o},operator:"!=",category:d.operator,descriptionMessage:c.unequal,signatures:C,examples:["(6 * 9 != 42) == false","(true != not false) == false"]},larger:{name:"larger",apply:(e,t)=>{const[n,o]=e;return i.Z(n)&&i.Z(o)?i.K(n,t).start.valueOf()>i.K(o,t).start.valueOf():n>o},operator:">",category:d.operator,descriptionMessage:c.larger,signatures:C,examples:["5 > 3 == true"]},largerEq:{name:"largerEq",apply:(e,t)=>{const[n,o]=e;return i.Z(n)&&i.Z(o)?i.K(n,t).start.valueOf()>=i.K(o,t).start.valueOf():n>=o},operator:">=",category:d.operator,descriptionMessage:c.largerEq,signatures:C,examples:["5 >= 3 == true","4 >= 4 == true"]},smaller:{name:"smaller",apply:(e,t)=>{const[n,o]=e;return i.Z(n)&&i.Z(o)?i.K(n,t).start.valueOf()<i.K(o,t).start.valueOf():n<o},operator:"<",category:d.operator,descriptionMessage:c.smaller,signatures:C,examples:["10 < 8 == false"]},smallerEq:{name:"smallerEq",apply:(e,t)=>{const[n,o]=e;return i.Z(n)&&i.Z(o)?i.K(n,t).start.valueOf()<=i.K(o,t).start.valueOf():n<=o},operator:"<=",category:d.operator,descriptionMessage:c.smallerEq,signatures:C,examples:["10 <= 8 == false","8 <= 8 == true"]}},T=function(e){if(x.hasOwnProperty(e))return x[e]},x={concat:{name:"concat",apply:e=>e?e.join(""):void 0,category:d.function,descriptionMessage:c.concat,signatures:[{resultType:"text",variadic:"text"}],examples:['"dog" +"go" == "doggo"','concat("dog", "go") == "doggo"']},join:{name:"join",apply:e=>e?e.slice(1).join(e[0]):void 0,category:d.function,descriptionMessage:c.join,signatures:[{resultType:"text",variadic:"text"}],examples:['join("-", "a", "b", "c") == "a-b-c"']},slice:{name:"slice",apply:e=>e&&e[0]?e[0].slice(e[1],e[2]):void 0,category:d.function,descriptionMessage:c.slice,signatures:[{resultType:"text",arity:["text","number"]},{resultType:"text",arity:["text","number","number"]}],examples:['slice("Hello world", 1, 5) == "ello"','slice("notion", 3) == "ion"']},length:{name:"length",apply:e=>e[0]?e[0].length:0,category:d.function,descriptionMessage:c.length,signatures:[{resultType:"number",arity:["text"]}],examples:['length("Hello world") == 11']},format:{name:"format",apply:(e,t,n)=>{const o=e[0];return i.Z(o)?Object(s.a)({value:o,userTimeZone:t,allowRelativeDates:!1,intl:n}):void 0!==o?o.toString():void 0},category:d.function,descriptionMessage:c.format,signatures:[{resultType:"text",arity:["number"]},{resultType:"text",arity:["checkbox"]},{resultType:"text",arity:["date"]},{resultType:"text",arity:["text"]}],examples:['format(42) == "42"','format(true) == "true"','format(now()) == "Wed Dec 31 1969 16:00:00 GMT-0800 (PST)"']},toNumber:{name:"toNumber",apply:(e,t)=>{const n=e[0];if(i.Z(n))return i.K(n,t).start.valueOf();if("boolean"==typeof n)return n?1:0;if("string"==typeof n){const e=parseFloat(n);return a.i(e)?e:void 0}return a.i(n)?n:void 0},category:d.function,descriptionMessage:c.toNumber,signatures:[{resultType:"number",arity:["text"]},{resultType:"number",arity:["number"]},{resultType:"number",arity:["checkbox"]},{resultType:"number",arity:["date"]}],examples:['format("42") == 42',"format(false) == 0"]},contains:{name:"contains",apply:e=>Boolean(e[0]&&e[0].includes(e[1])),category:d.function,descriptionMessage:c.contains,signatures:[{resultType:"checkbox",arity:["text","text"]}],examples:['contains("notion", "ion") == true']},replace:{name:"replace",apply:e=>{try{const t=e[0]?e[0].toString():"";return e[1]?t.replace(new RegExp(e[1]),e[2]||""):""}catch(t){return}},category:d.function,descriptionMessage:c.replace,signatures:[{resultType:"text",arity:["number","text","text"]},{resultType:"text",arity:["text","text","text"]},{resultType:"text",arity:["checkbox","text","text"]}],examples:['replace("1-2-3", "-", "!") == "1!2-3"']},replaceAll:{name:"replaceAll",apply:e=>{try{const t=e[0]?e[0].toString():"";return e[1]?t.replace(new RegExp(e[1],"g"),e[2]||""):""}catch(t){return}},category:d.function,descriptionMessage:c.replaceAll,signatures:[{resultType:"text",arity:["number","text","text"]},{resultType:"text",arity:["text","text","text"]},{resultType:"text",arity:["checkbox","text","text"]}],examples:['replaceAll("1-2-3", "-", "!") == "1!2!3"']},test:{name:"test",apply:e=>{try{const t=e[0]?e[0].toString():"";return new RegExp(e[1]).test(t)}catch(t){return}},category:d.function,descriptionMessage:c.test,signatures:[{resultType:"checkbox",arity:["number","text"]},{resultType:"checkbox",arity:["text","text"]},{resultType:"checkbox",arity:["checkbox","text"]}],examples:['test("1-2-3", "-") == true']},empty:{name:"empty",apply:e=>!Boolean(e[0]),category:d.function,descriptionMessage:c.empty,signatures:[{resultType:"checkbox",arity:["number"]},{resultType:"checkbox",arity:["text"]},{resultType:"checkbox",arity:["checkbox"]},{resultType:"checkbox",arity:["date"]}],examples:['empty("") == true']},abs:{name:"abs",apply:e=>Math.abs(e[0]),category:d.function,descriptionMessage:c.abs,signatures:[S],examples:["abs(-3) == 3"]},cbrt:{name:"cbrt",apply:e=>Math.cbrt(e[0]),category:d.function,descriptionMessage:c.cbrt,signatures:[S],examples:["cbrt(8) == 2"]},ceil:{name:"ceil",apply:e=>Math.ceil(e[0]),category:d.function,descriptionMessage:c.ceil,signatures:[S],examples:["ceil(4.2) == 5"]},exp:{name:"exp",apply:e=>Math.exp(e[0]),category:d.function,descriptionMessage:c.exp,signatures:[S],examples:["exp(1) == 2.718281828459045"]},floor:{name:"floor",apply:e=>Math.floor(e[0]),category:d.function,descriptionMessage:c.floor,signatures:[S],examples:["floor(2.8) == 2"]},ln:{name:"ln",apply:e=>Math.log(e[0]),category:d.function,descriptionMessage:c.ln,signatures:[S],examples:["ln(e) == 1"]},log10:{name:"log10",apply:e=>Math.log10(e[0]),category:d.function,descriptionMessage:c.log10,signatures:[S],examples:["log10(1000) == 3"]},log2:{name:"log2",apply:e=>Math.log2(e[0]),category:d.function,descriptionMessage:c.log2,signatures:[S],examples:["log2(64) == 6"]},max:{name:"max",apply:e=>Math.max.apply(void 0,e),category:d.function,descriptionMessage:c.max,signatures:[{resultType:"number",variadic:"number"}],examples:["max(5, 2, 9, 3) == 9"]},min:{name:"min",apply:e=>Math.min.apply(void 0,e),category:d.function,descriptionMessage:c.min,signatures:[{resultType:"number",variadic:"number"}],examples:["min(4, 1, 5, 3) == 1"]},round:{name:"round",apply:e=>Math.round(e[0]),category:d.function,descriptionMessage:c.round,signatures:[S],examples:["round(4.4) == 4","round(4.5) == 5"]},sign:{name:"sign",apply:e=>Math.sign(e[0]),category:d.function,descriptionMessage:c.sign,signatures:[S],examples:["sign(4) == 1","sign(-9) == -1","sign(0) == 0"]},sqrt:{name:"sqrt",apply:e=>Math.sqrt(e[0]),category:d.function,descriptionMessage:c.sqrt,signatures:[S],examples:["sqrt(144) == 12"]},start:{name:"start",apply:e=>{const t=e[0];if(i.Z(t)){if("daterange"===t.type){return{type:"date",start_date:t.start_date}}if("datetimerange"===t.type){return{type:"datetime",start_date:t.start_date,start_time:t.start_time,time_zone:t.time_zone}}return t}},category:d.function,descriptionMessage:c.start,signatures:[w],examples:['start(prop("Date")) == Feb 2, 1996']},end:{name:"end",apply:e=>{const t=e[0];if(i.Z(t)){if("daterange"===t.type){return{type:"date",start_date:t.end_date}}if("datetimerange"===t.type){return{type:"datetime",start_date:t.end_date,start_time:t.end_time,time_zone:t.time_zone,reminder:t.reminder}}return t}},category:d.function,descriptionMessage:c.end,signatures:[w],examples:['end(prop("Date")) == Feb 2, 1996']},now:{name:"now",apply:(e,t)=>i.gb(t),category:d.function,descriptionMessage:c.now,signatures:[{resultType:"date",arity:[]}],examples:["now() == Feb 2, 1996"]},timestamp:{name:"timestamp",apply:(e,t)=>{const n=e[0];if(i.Z(n))return i.K(n,t).start.valueOf()},category:d.function,descriptionMessage:c.timestamp,signatures:[k],examples:["timestamp(now()) == 1512593154718"]},fromTimestamp:{name:"fromTimestamp",apply:(e,t)=>a.i(e[0])?i.r(e[0],t):void 0,category:d.function,descriptionMessage:c.fromTimestamp,signatures:[{resultType:"date",arity:["number"]}],examples:["fromTimestamp(2000000000000) == Tue May 17 2033"]},dateAdd:{name:"dateAdd",apply:(e,t)=>{const[n,o,a]=e;if(!n||!r.a.isNumber(o)||m.indexOf(a)<0)return;const s=i.K(n,t).start.add(o,a).valueOf();return"datetime"===n.type||"datetimerange"===n.type?i.r(s,n.time_zone):i.n(s,t)},category:d.function,descriptionMessage:c.dateAdd,signatures:[{resultType:"date",arity:["date","number","text"]}],examples:m.map(e=>'dateAdd(date, amount, "'.concat(e,'")'))},dateSubtract:{name:"dateSubtract",apply:(e,t)=>{const[n,o,a]=e;if(!n||!r.a.isNumber(o)||m.indexOf(a)<0)return;const s=i.K(n,t).start.subtract(o,a).valueOf();return"datetime"===n.type||"datetimerange"===n.type?i.r(s,n.time_zone):i.n(s,t)},category:d.function,descriptionMessage:c.dateSubtract,signatures:[{resultType:"date",arity:["date","number","text"]}],examples:m.map(e=>'dateSubtract(date, amount, "'.concat(e,'")'))},dateBetween:{name:"dateBetween",apply:(e,t)=>{const[n,o,r]=e;if(!n||!o||m.indexOf(r)<0)return;const a=i.K(n,t).start,s=i.K(o,t).start;return a.diff(s,r).valueOf()},category:d.function,descriptionMessage:c.dateBetween,signatures:[{resultType:"number",arity:["date","date","text"]}],examples:m.map(e=>'dateBetween(date, date2, "'.concat(e,'")'))},formatDate:{name:"formatDate",apply:(e,t)=>{const[n,o]=e;if(n&&o){return i.K(n,t).start.format(o)}},category:d.function,descriptionMessage:c.formatDate,signatures:[{resultType:"text",arity:["date","text"]}],examples:['formatDate(now(), "MMMM D YYYY, HH:mm") == March 30 2010, 12:00','formatDate(now(), "YYYY/MM/DD, HH:mm") == 2010/03/30, 12:00','formatDate(now(), "MM/DD/YYYY, HH:mm") == 03/30/2010, 12:00','formatDate(now(), "HH:mm A") == 12:00 PM','formatDate(now(), "M/D/YY") == 3/30/10']},minute:{name:"minute",apply:(e,t)=>{const n=e[0];if(i.Z(n))return i.K(n,t).start.minutes()},category:d.function,descriptionMessage:c.minute,signatures:[k],examples:["minute(now()) == 45"]},hour:{name:"hour",apply:(e,t)=>{const n=e[0];if(i.Z(n))return i.K(n,t).start.hours()},category:d.function,descriptionMessage:c.hour,signatures:[k],examples:["hour(now()) == 17"]},day:{name:"day",apply:(e,t)=>{const n=e[0];if(i.Z(n))return i.K(n,t).start.day()},category:d.function,descriptionMessage:c.day,signatures:[k],examples:["day(now()) == 3"]},date:{name:"date",apply:(e,t)=>{const n=e[0];if(i.Z(n))return i.K(n,t).start.date()},category:d.function,descriptionMessage:c.date,signatures:[k],examples:["date(now()) == 13"]},month:{name:"month",apply:(e,t)=>{const n=e[0];if(i.Z(n))return i.K(n,t).start.month()},category:d.function,descriptionMessage:c.month,signatures:[k],examples:["month(now()) == 11"]},year:{name:"year",apply:(e,t)=>{const n=e[0];if(i.Z(n))return i.K(n,t).start.year()},category:d.function,descriptionMessage:c.year,signatures:[k],examples:["year(now()) == 1984"]}},I=[u(d.constant,a.t(f)),u(d.operator,a.t(_)),u(d.function,a.t(x))]},"9PHN":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("MeYt"),s=n("zmp8");class l extends a.a{renderComponent(){return r.a.createElement(i.a,{onClick:this.props.onClick,style:{...l.buttonStyle,...this.props.style}},this.props.children)}}l.buttonStyle={display:"inline-flex",alignItems:"center",whiteSpace:"nowrap",borderRadius:3,height:28,padding:"0 8px",lineHeight:1.2,fontSize:14,color:s.g.white,border:"1px solid ".concat(s.g.white)},t.a=l},"9YMM":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"A",(function(){return w})),n.d(t,"C",(function(){return k})),n.d(t,"L",(function(){return C})),n.d(t,"d",(function(){return M})),n.d(t,"G",(function(){return _})),n.d(t,"B",(function(){return T})),n.d(t,"K",(function(){return x})),n.d(t,"u",(function(){return I})),n.d(t,"w",(function(){return P})),n.d(t,"e",(function(){return O})),n.d(t,"o",(function(){return B})),n.d(t,"l",(function(){return L})),n.d(t,"p",(function(){return R})),n.d(t,"q",(function(){return D})),n.d(t,"r",(function(){return A})),n.d(t,"F",(function(){return j})),n.d(t,"f",(function(){return F})),n.d(t,"x",(function(){return V})),n.d(t,"m",(function(){return N})),n.d(t,"H",(function(){return z})),n.d(t,"J",(function(){return X})),n.d(t,"y",(function(){return Y})),n.d(t,"I",(function(){return H})),n.d(t,"s",(function(){return q})),n.d(t,"z",(function(){return W})),n.d(t,"k",(function(){return G})),n.d(t,"j",(function(){return Z})),n.d(t,"i",(function(){return K})),n.d(t,"g",(function(){return J})),n.d(t,"h",(function(){return Q})),n.d(t,"b",(function(){return $})),n.d(t,"D",(function(){return ee})),n.d(t,"c",(function(){return te})),n.d(t,"n",(function(){return ne})),n.d(t,"t",(function(){return re})),n.d(t,"v",(function(){return ae})),n.d(t,"E",(function(){return ie}));n("E9XD");var o,r,a=n("njgS"),i=n("PXtY"),s=n("D2XV"),l=n("hU3F"),c=n("rMzh"),d=n("IdIf"),u=n("VhAz"),p=n("mKX5"),h=n("Catn"),m=n("CARr"),f=n("r8MX"),g=n("QcDD"),b=n("Cycz"),v=n("ZCfS"),y=n("lpTC"),S=n("T8dS");!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(o||(o={})),function(e){e[e.LeftResizer=0]="LeftResizer",e[e.RightResizer=1]="RightResizer",e[e.ItemDrag=2]="ItemDrag"}(r||(r={}));const w=4e3,k=w/4,C={hours:{snapUnit:"fifteen_minutes",primaryDisplayUnit:"fifteen_minutes",secondaryDisplayUnit:"day",activeRangeType:void 0,msPerPixel:864e5/7e3,primaryDisplayUnitAlignment:"range_start",verticalDividerUnit:"fifteen_minutes",showWeekendIndicators:!1,hidePrimaryIndicatorIntersectionOffset:9,getDateRangePlaceholderDuration:e=>e.clone().add(1,"hour")},day:{snapUnit:"fifteen_minutes",primaryDisplayUnit:"hour",secondaryDisplayUnit:"day",activeRangeType:void 0,msPerPixel:69120,primaryDisplayUnitAlignment:"range_start",verticalDividerUnit:"hour",showWeekendIndicators:!1,hidePrimaryIndicatorIntersectionOffset:2,getDateRangePlaceholderDuration:e=>e.clone().add(3,"hour")},week:{snapUnit:"day",primaryDisplayUnit:"day",secondaryDisplayUnit:"month",activeRangeType:"highlight_days",msPerPixel:48e4,primaryDisplayUnitAlignment:"range_middle",verticalDividerUnit:"day",showWeekendIndicators:!0,hidePrimaryIndicatorIntersectionOffset:void 0,getDateRangePlaceholderDuration:e=>e.clone().add(1,"day")},bi_week:{snapUnit:"day",primaryDisplayUnit:"day",secondaryDisplayUnit:"month",activeRangeType:"highlight_days",msPerPixel:108e4,primaryDisplayUnitAlignment:"range_middle",verticalDividerUnit:void 0,showWeekendIndicators:!0,hidePrimaryIndicatorIntersectionOffset:void 0,getDateRangePlaceholderDuration:e=>e.clone().add(3,"day")},month:{snapUnit:"day",primaryDisplayUnit:"day",secondaryDisplayUnit:"month",activeRangeType:"highlight_days",msPerPixel:216e4,primaryDisplayUnitAlignment:"range_middle",verticalDividerUnit:void 0,showWeekendIndicators:!0,hidePrimaryIndicatorIntersectionOffset:void 0,getDateRangePlaceholderDuration:e=>e.clone().add(5,"day")},quarter:{snapUnit:"day",primaryDisplayUnit:"week",secondaryDisplayUnit:"month",activeRangeType:"display_range",msPerPixel:72e5,primaryDisplayUnitAlignment:"range_start",verticalDividerUnit:"month",showWeekendIndicators:!1,hidePrimaryIndicatorIntersectionOffset:35,getDateRangePlaceholderDuration:e=>e.clone().add(2,"week")},year:{snapUnit:"day",primaryDisplayUnit:"week",secondaryDisplayUnit:"month",activeRangeType:"display_range",msPerPixel:1728e4,primaryDisplayUnitAlignment:"range_start",verticalDividerUnit:"month",showWeekendIndicators:!1,hidePrimaryIndicatorIntersectionOffset:6,getDateRangePlaceholderDuration:e=>e.clone().add(4,"week")}};function M(e){return{zoomLevel:new l.a("month"),currentRange:new l.a({startTimestamp:0,endTimestamp:0}),dragState:new l.a(void 0),hoveredItem:new l.a(void 0),dateRangePlaceholder:new l.a({active:!1}),scrollLeft:new l.a(void 0),outerSizeObserver:new c.a,timelineSizeObserver:new c.a,horizontalScroller:void 0,savePreference:void 0,isFullScreen:e.isFullScreen,isRootChild:e.isRootChild,destroyed:!1}}const E={free:void 0,personal_free:void 0,student:void 0,personal:void 0,team_free:5,team:5,enterprise:void 0};function _(e,t){return t/C[e].msPerPixel}function T(e,t){return t*C[e].msPerPixel}function x(e){return"fifteen_minutes"===e||"hour"===e}function I(e){const{store:t,query:n,schema:o,intl:r}=e,l=t.getValue();if(!l)return;const{timeline_by:c,timeline_by_end:d}=n;if(!c)return;const u=o[c];if(!u||!Object(a.i)(u))return;const p={},h=Object(i.a)({property:c,schema:o,block:l,getRecordValue:t.getRecordValue,userTimeZone:s.m,depth:0,intl:r,normalizedSchemaCache:p}).next().value;if("date"!==h.type)return;const m=h.value;if(!d||c===d)return m;{const e=o[d];if(!e||!Object(a.i)(e))return;const n=Object(i.a)({property:d,schema:o,block:l,getRecordValue:t.getRecordValue,userTimeZone:s.m,depth:0,intl:r,normalizedSchemaCache:p}).next().value;if("date"===n.type){const e=n.value,t=s.eb(m,e);if(t)return s.g(t)}}}function P(e){const{store:t,dateValue:n,query:o,schema:r}=e,{timeline_by:i,timeline_by_end:l}=o;if(!i)return;const c=r[i];if(c&&Object(a.i)(c)){if(!l||i===l)return{[i]:Object(m.b)(n)};{const e=r[l];if(!e||!Object(a.i)(e))return;const o=Object(m.o)(t.getPropertyValue(i)),c=Object(m.o)(t.getPropertyValue(l));if("date"===n.type)return{[i]:Object(m.b)({type:"date",start_date:n.start_date,reminder:s.E(o)}),[l]:Object(m.b)({type:"date",start_date:n.start_date,reminder:s.E(c)})};if("daterange"===n.type)return{[i]:Object(m.b)({type:"date",start_date:n.start_date,reminder:s.E(o)}),[l]:Object(m.b)({type:"date",start_date:n.end_date,reminder:s.E(c)})};if("datetime"===n.type)return{[i]:Object(m.b)({type:"datetime",start_date:n.start_date,start_time:n.start_time,time_zone:n.time_zone,reminder:s.G(o)}),[l]:Object(m.b)({type:"datetime",start_date:n.start_date,start_time:n.start_time,time_zone:n.time_zone,reminder:s.G(c)})};if("datetimerange"===n.type)return{[i]:Object(m.b)({type:"datetime",start_date:n.start_date,start_time:n.start_time,time_zone:n.time_zone,reminder:s.G(o)}),[l]:Object(m.b)({type:"datetime",start_date:n.end_date,start_time:n.end_time,time_zone:n.time_zone,reminder:s.G(c)})};Object(u.e)(n)}}}function O(e,t){const n=x(t),o=s.K(n?e:s.qb(e),s.m),r=j(o.start,t),a=n&&"date"===e.type?o.start.clone().add(1,"day").startOf("day"):o.end||r;return{start:r,end:n?j(a,t):V(a,t)}}function B(e){return"timeline:".concat(e)}function L(e){const{horizontalScroller:t,outerSizeObserver:n}=e,o=e.zoomLevel.get(),{startTimestamp:r}=e.currentRange.get();return r+T(o,(t?t.scrollLeft:0)+n.width.get()/2)}function R(e){const{environment:t,timestamp:n,timelineState:o,paddingLeft:r,format:a}=e;return n-T(o.zoomLevel.get(),q({environment:t,paddingLeft:r,format:a,isFullScreen:o.isFullScreen,isRootChild:o.isRootChild})/2)}function D(e){const{environment:t,timestamp:n,timelineState:o,paddingLeft:r,format:a}=e;return n-T(o.zoomLevel.get(),q({environment:t,paddingLeft:r,format:a,isFullScreen:o.isFullScreen,isRootChild:o.isRootChild})-o.outerSizeObserver.width.get()/2)}function A(e){const{timestamp:t,timelineState:n}=e;return t+T(n.zoomLevel.get(),-n.outerSizeObserver.width.get()/2)}function j(e,t){if("fifteen_minutes"===t){const t=15*Math.floor(e.minute()/15);return e.clone().minute(t).startOf("minute")}return e.clone().startOf(t)}function F(e,t){if("fifteen_minutes"===t){const t=15*Math.floor(e.minute()/15)-15;return e.clone().minute(t).startOf("minute")}return e.clone().startOf(t).subtract(1,t).startOf(t)}function V(e,t){if("fifteen_minutes"===t){const t=15*Math.floor(e.minute()/15)+15;return e.clone().minute(t).startOf("minute")}return e.clone().add(1,t).startOf(t)}function N(e){const{startValue:t,snapUnit:n,desiredStart:o,desiredEnd:r}=e;let a=t;const i=s.U(t)||s.m;if(o){const e=U(o,n,"start",i);if("datetime"===e.type)if("date"===a.type){const e={type:"daterange",start_date:a.start_date,end_date:a.start_date};a=s.p(e,s.m)}else"daterange"===a.type&&(a=s.p(a,s.m));"date"===a.type?a={...a,type:"daterange",start_date:e.start_date,end_date:a.start_date}:"daterange"===a.type?a={...a,type:"daterange",start_date:e.start_date,end_date:a.end_date}:"datetime"===a.type?a={...a,type:"datetimerange",start_date:e.start_date,start_time:"datetime"===e.type?e.start_time:a.start_time,end_date:a.start_date,end_time:a.start_time}:"datetimerange"===a.type&&(a={...a,type:"datetimerange",start_date:e.start_date,start_time:"datetime"===e.type?e.start_time:a.start_time})}if(r){const e=U(r,n,"end",i);if("datetime"===e.type)if("date"===a.type){const e={type:"daterange",start_date:a.start_date,end_date:a.start_date};a=s.p(e,s.m)}else"daterange"===a.type&&(a=s.p(a,s.m));"date"===a.type||"daterange"===a.type?a={...a,type:"daterange",end_date:e.start_date}:"datetime"!==a.type&&"datetimerange"!==a.type||(a={...a,type:"datetimerange",end_date:e.start_date,end_time:"datetime"===e.type?e.start_time:"datetimerange"===a.type?a.end_time:a.start_time})}return s.f(a)}function U(e,t,n,o){const r=F(e,t),a=j(e,t),i=V(e,t),l=x(t);let c;return c="start"===n?e.valueOf()>=a.valueOf()+(a.valueOf()-r.valueOf())/2?i:a:e.valueOf()>=a.valueOf()+(a.valueOf()-r.valueOf())/2?l?i:a:l?a:r,function(e,t,n){return x(t)?s.r(e.valueOf(),n):s.n(e.valueOf(),n)}(c,t,o)}function z(e){const{environment:t,isFullScreen:n,isRootChild:o}=e;return(t.device.isDesktop||t.device.isTablet)&&(n||o)}function X(e){const{environment:t,format:n,isFullScreen:o,isRootChild:r}=e;return z({environment:t,isFullScreen:o,isRootChild:r})&&Boolean(n.timeline_show_table)}const Y=96;function H(e){const{isFullScreen:t,isRootChild:n}=e;return!t&&n&&X(e)}function q(e){const{environment:t,paddingLeft:n,format:o,isFullScreen:r,isRootChild:a}=e;return X({environment:t,format:o,isFullScreen:r,isRootChild:a})?n+(o.timeline_table_properties||[]).reduce((e,t)=>(t.width&&t.visible?t.width:0)+e,0):0}function W(){return"00:00"===Object(p.a)("00:00","HH:mm").format("LT")}function G(e,t){return"day"===t?e.format("MMMM D"):"month"===t?e.format("MMMM"):void Object(u.e)(t)}function Z(e,t){if("day"===t)return e.format("LL");if("month"===t){const t=Object(y.a)(S.a).month;return e.format(t)}Object(u.e)(t)}function K(e,t){const n=s.K(e,s.U(e)||s.m,Object(p.a)().locale()),{primaryDisplayUnit:o}=C[t];return"fifteen_minutes"===o||"hour"===o?s.C(n.start):s.B(n.start)}function J(e,t){const n=s.K(e,s.U(e)||s.m,Object(p.a)().locale()),{primaryDisplayUnit:o}=C[t],r=n.end||n.start;return"fifteen_minutes"===o||"hour"===o?s.C(r):s.B(r)}function Q(e,t){const n=s.K(e,s.U(e)||s.m,Object(p.a)().locale()),{primaryDisplayUnit:o}=C[t];return n.end?"fifteen_minutes"===o||"hour"===o?"".concat(n.start.format("lll")," → ").concat(n.end.format("lll")):"".concat(n.start.format("ll")," → ").concat(n.end.format("ll")):"fifteen_minutes"===o||"hour"===o?n.start.format("lll"):n.start.format("ll")}function $(e,t){return j(e,t).isBefore(e)?V(e,t):e}function ee(e){return e.device.scrollbarWidth>0||e.device.isFirefox||e.device.isPhone}function te(e){return!(e.device.isFirefox||e.device.isMobile)}function ne(e,t){const n=t.currentUser.id,o=e.getFormat().timeline_preference,r=B(e.id),a=h.a.get({userId:n,key:r}),i={zoomLevel:"month",centerTimestamp:Date.now()};return oe(a)||oe(o)||i}function oe(e){if(e&&"number"==typeof e.centerTimestamp&&d.o.includes(e.zoomLevel))return e}function re(e,t){let n=e.timeline_table_properties||[];if(t){n.find(({visible:e})=>Boolean(e))||(n=Object(d.l)(n,"title",!0))}return{timeline_show_table:t,timeline_table_properties:n}}function ae(e){const{environment:t,collectionViewLocalStore:n,timelineState:o,isFullScreen:r,isRootChild:a}=e,i=o.zoomLevel.get(),s=n.localResultStore.state;let l=0,c=0;s&&"timeline"===s.type&&(l=s.blockIds.length,c=s.total);const d=n.normalizedFormatStore.state,u=X({environment:t,format:d,isFullScreen:r,isRootChild:a}),p=u&&d.timeline_table_properties?d.timeline_table_properties.length:0,h=d.timeline_properties||[],m=h.filter(e=>"title"!==e.property);return{zoom_level:i,visible_row_count:l,row_count_total:c,show_table:u,show_table_properties_count:p,show_timeline_title:h.length!==m.length,show_timeline_properties_count:m.length}}function ie(e){if(!v.a.state.visitedTimeline)return!1;const{currentUserSettingsStore:t,currentSpaceStore:n}=g.default.state,{data:o}=f.default.state,r=Object(b.h)(e);if(!(o&&n&&t&&r))return!1;const a=t.getSettings().hide_timeline_warning||{},i=Boolean(a[n.id]),s=E[r];return void 0!==s&&("unsubscribed_member"===o.type||"unsubscribed_admin"===o.type||"subscribed_member"===o.type||"subscribed_admin"===o.type)&&o.timelineViewUsage>=s&&!i}},"9axl":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fIr1");const r="user_root",a={table:r,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,space_views:o.a.StringArray,left_spaces:o.a.StringArray,deleted_email:o.a.String}};t.b=a},"9c8K":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c}));n("Junv");var o=n("LvDl"),r=n.n(o),a=n("cBa6");function i(e,t,n){const o=e.getValue(),i=a.I(t),s=a.I(o);if(0===i.length&&0===s.length)return""===n?{filter:{startIndex:0,endIndex:0}}:void 0;const l=r.a.clone(i).reverse(),c=r.a.clone(s).reverse(),d=s.findIndex((e,t)=>e!==i[t]),u=c.findIndex((e,t)=>e!==l[t]);if(-1===d||-1===u)return;const p=r.a.toArray(n),h={filter:{startIndex:d+(p.length>0?1:0),endIndex:d+s.length-i.length}};if(p.length>0){const e=h.filter.startIndex-p.length,t=h.filter.startIndex;s.slice(e,t).join("")===n&&(h.prefix={startIndex:e,endIndex:t})}return h}function s(e,t){if(!t)return;const n=e.getValue();return a.I(n).slice(t.filter.startIndex,t.filter.endIndex).join("")}function l(e,t,n){return s(e,i(e,t,n?"@":""))}function c(e,t,n){if(void 0===e)return!0;if(t&&0===n){if(e.length>8)return!0;const t=r.a.last(e);if(t)return/\s/g.test(t)}}},"9j7d":function(e,t,n){"use strict";n("3bBZ");var o=n("PQqx"),r=n("wldR"),a=n("d933");class i extends r.a{constructor(){super(...arguments),this.shouldReserveStackPosition=!1}willMount(){this.upsertKeyboardShortcutStackEntry(this.props)}willUpdate(e){super.willUpdate(e),e.isRoot!==this.props.isRoot&&this.removeKeyboardShortcutStackEntry(),this.upsertKeyboardShortcutStackEntry(e)}willUnmount(){this.removeKeyboardShortcutStackEntry()}renderComponent(){return this.props.children}removeKeyboardShortcutStackEntry(){a.a.withListenerIgnored(()=>{o.e(this.environment,this),this.shouldReserveStackPosition=!1})}upsertKeyboardShortcutStackEntry(e){a.a.withListenerIgnored(()=>{if(this.shouldReserveStackPosition=this.shouldReserveStackPosition||e.enable,this.shouldReserveStackPosition){if(e.isRoot)return void o.g(this.environment,this.getStackItem(e));o.f(this.environment,this.getStackItem(e))}})}getStackItem(e){return{listener:this,shortcuts:e.shortcuts,enable:e.enable}}}t.a=i},"9ozu":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("6fvo"),i=n("/cKE"),s=n("fgBX");class l extends r.a.PureComponent{render(){const e=Object(a.b)(this.props.char);if(!e)return console.error("Could not find character in emojiData:",this.props.char),r.a.createElement(i.a,{char:this.props.char,size:this.props.size});const t=Object(a.c)(this.props.type),n="".concat(e.sheetX/a.f*100,"%"),o="".concat(e.sheetY/a.f*100,"%");return r.a.createElement("img",{className:s.b,alt:this.props.char,"aria-label":this.props.char,style:{width:this.props.size?this.props.size:"100%",height:this.props.size?this.props.size:"100%",backgroundRepeat:"no-repeat",background:'url("'.concat(t,'")'),backgroundPositionX:n,backgroundPositionY:o,backgroundSize:"".concat(a.f+1,"00% ").concat(a.f+1,"00%"),...this.props.style},src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})}}t.a=l},"9uZX":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return C}));var o=n("wF3w"),r=n("922z"),a=n("J9+s"),i=n("vl8/"),s=n("CARr"),l=n("D2XV"),c=n("mKX5");const d=Object(a.defineMessages)({addNewTodoTitle:{defaultMessage:"Add a new to-do",id:"blockTemplates.templateButton.addNewTodoTitle"}});function u(){return new r.a({block:{root:{id:"root",version:27,type:"factory",properties:{title:[[i.default.formatMessage(d.addNewTodoTitle)]]},content:["to_do"]},to_do:{id:"to_do",version:4,type:"to_do",parent_table:"block",parent_id:"root",alive:!0}}})}const p=Object(a.defineMessages)({viewTitle:{defaultMessage:"Default view",id:"blockTemplates.table.viewTitle"},namePropertyTitle:{defaultMessage:"Name",id:"blockTemplates.table.namePropertyTitle"},tagsPropertyTitle:{defaultMessage:"Tags",id:"blockTemplates.table.tagsPropertyTitle"}});function h(e){const t=Object(o.a)();return new r.a({block:{root:{id:"root",type:e?"collection_view":"collection_view_page",collection_id:"collection",view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",alive:!0},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",alive:!0},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",alive:!0}},collection_view:{view:{id:"view",version:0,type:"table",name:i.default.formatMessage(p.viewTitle),format:{table_properties:[{property:"title",visible:!0,width:276},{property:t,visible:!0}],table_wrap:!0},query2:{aggregations:[{property:"title",aggregator:"count"}]},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",schema:{title:{name:i.default.formatMessage(p.namePropertyTitle),type:"title"},[t]:{name:i.default.formatMessage(p.tagsPropertyTitle),type:"multi_select"}},format:{collection_page_properties:[{property:t,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}})}const m=Object(a.defineMessages)({viewTitle:{defaultMessage:"Board view",id:"blockTemplates.board.viewTitle"},namePropertyTitle:{defaultMessage:"Name",id:"blockTemplates.board.namePropertyTitle"},assignPropertyTitle:{defaultMessage:"Assign",id:"blockTemplates.board.assignPropertyTitle"},statusPropertyTitle:{defaultMessage:"Status",id:"blockTemplates.board.statusPropertyTitle"},statusPropertyRedOptionTitle:{defaultMessage:"Not started",id:"blockTemplates.board.statusPropertyRedOptionTitle"},statusPropertyYellowOptionTitle:{defaultMessage:"In progress",id:"blockTemplates.board.statusPropertyYellowOptionTitle"},statusPropertyGreenOptionTitle:{defaultMessage:"Completed",id:"blockTemplates.board.statusPropertyGreenOptionTitle"},card1Title:{defaultMessage:"Card 1",id:"blockTemplates.board.card1Title",description:"New board example card title"},card2Title:{defaultMessage:"Card 2",id:"blockTemplates.board.card2Title",description:"New board example card title"},card3Title:{defaultMessage:"Card 3",id:"blockTemplates.board.card3Title",description:"New board example card title"}});function f(e){const t=Object(o.a)(),n=Object(o.a)();return new r.a({block:{root:{id:"root",type:e?"collection_view":"collection_view_page",collection_id:"collection",view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[i.default.formatMessage(m.card1Title)]]}},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[i.default.formatMessage(m.card2Title)]]}},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[i.default.formatMessage(m.card3Title)]]}}},collection_view:{view:{id:"view",version:0,type:"board",name:i.default.formatMessage(m.viewTitle),query2:{group_by:t,aggregations:[{aggregator:"count"}]},format:{board_properties:[{property:t,visible:!1},{property:n,visible:!0}]},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",schema:{title:{name:i.default.formatMessage(m.namePropertyTitle),type:"title"},[n]:{name:i.default.formatMessage(m.assignPropertyTitle),type:"person"},[t]:{name:i.default.formatMessage(m.statusPropertyTitle),type:"select",options:[{id:"1",value:i.default.formatMessage(m.statusPropertyRedOptionTitle),color:"red"},{id:"2",value:i.default.formatMessage(m.statusPropertyYellowOptionTitle),color:"yellow"},{id:"3",value:i.default.formatMessage(m.statusPropertyGreenOptionTitle),color:"green"}]}},format:{collection_page_properties:[{property:t,visible:!0},{property:n,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}})}const g=Object(a.defineMessages)({viewTitle:{defaultMessage:"Calendar view",id:"blockTemplates.calendar.viewTitle"},namePropertyTitle:{defaultMessage:"Name",id:"blockTemplates.calendar.namePropertyTitle"},datePropertyTitle:{defaultMessage:"Date",id:"blockTemplates.calendar.datePropertyTitle"},tagsPropertyTitle:{defaultMessage:"Tags",id:"blockTemplates.calendar.tagsPropertyTitle"}});function b(e){const t=Object(o.a)(),n=Object(o.a)();return new r.a({block:{root:{id:"root",type:e?"collection_view":"collection_view_page",collection_id:"collection",view_ids:["view"],alive:!0}},collection_view:{view:{id:"view",version:0,type:"calendar",name:i.default.formatMessage(g.viewTitle),query2:{calendar_by:t},parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",schema:{title:{name:i.default.formatMessage(g.namePropertyTitle),type:"title"},[t]:{name:i.default.formatMessage(g.datePropertyTitle),type:"date"},[n]:{name:i.default.formatMessage(g.tagsPropertyTitle),type:"multi_select"}},parent_id:"root",parent_table:"block",alive:!0}}})}const v=Object(a.defineMessages)({viewTitle:{defaultMessage:"Timeline view",id:"blockTemplates.timeline.viewTitle"},datePropertyTitle:{defaultMessage:"Date",id:"blockTemplates.timeline.datePropertyTitle"}});function y(e){const t=Object(o.a)(),n=Object(o.a)(),a=Object(o.a)();return new r.a({block:{root:{id:"root",type:e?"collection_view":"collection_view_page",collection_id:"collection",view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",properties:{title:[[i.default.formatMessage(m.card1Title)]],[t]:Object(s.b)(Object(l.o)(Object(c.a)().add(-5,"days").startOf("day").valueOf(),Object(c.a)().add(-2,"days").startOf("day").valueOf(),l.m))},alive:!0},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",properties:{title:[[i.default.formatMessage(m.card2Title)]],[t]:Object(s.b)(Object(l.o)(Object(c.a)().add(-3,"days").startOf("day").valueOf(),Object(c.a)().add(0,"days").startOf("day").valueOf(),l.m))},alive:!0},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",properties:{title:[[i.default.formatMessage(m.card3Title)]],[t]:Object(s.b)(Object(l.o)(Object(c.a)().add(-1,"days").startOf("day").valueOf(),Object(c.a)().add(2,"days").startOf("day").valueOf(),l.m))},alive:!0}},collection_view:{view:{id:"view",version:0,type:"timeline",name:i.default.formatMessage(v.viewTitle),format:{timeline_show_table:!e,timeline_properties:[{property:"title",visible:!0}],timeline_table_properties:[{property:"title",visible:!0,width:280},{property:t,visible:!1,width:180},{property:n,visible:!1,width:180},{property:a,visible:!1,width:180}]},query2:{aggregations:[{property:"title",aggregator:"count"}]},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",schema:{title:{name:i.default.formatMessage(m.namePropertyTitle),type:"title"},[t]:{name:i.default.formatMessage(v.datePropertyTitle),type:"date"},[n]:{name:i.default.formatMessage(m.assignPropertyTitle),type:"person"},[a]:{name:i.default.formatMessage(m.statusPropertyTitle),type:"select",options:[{id:"1",value:i.default.formatMessage(m.statusPropertyRedOptionTitle),color:"red"},{id:"2",value:i.default.formatMessage(m.statusPropertyYellowOptionTitle),color:"yellow"},{id:"3",value:i.default.formatMessage(m.statusPropertyGreenOptionTitle),color:"green"}]}},format:{collection_page_properties:[{property:t,visible:!0},{property:n,visible:!0},{property:a,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}})}const S=Object(a.defineMessages)({viewTitle:{defaultMessage:"Gallery view",id:"blockTemplates.gallery.viewTitle"},namePropertyTitle:{defaultMessage:"Name",id:"blockTemplates.gallery.namePropertyTitle"},tagsPropertyTitle:{defaultMessage:"Tags",id:"blockTemplates.gallery.tagsPropertyTitle"},createdPropertyTitle:{defaultMessage:"Created",id:"blockTemplates.gallery.createdPropertyTitle"},page1Title:{defaultMessage:"Page 1",id:"blockTemplates.gallery.page1Title",description:"New gallery example page title"},page2Title:{defaultMessage:"Page 2",id:"blockTemplates.gallery.page2Title",description:"New gallery example page title"},page3Title:{defaultMessage:"Page 3",id:"blockTemplates.gallery.page3Title",description:"New gallery example page title"},page1TodoTitle:{defaultMessage:"To-do",id:"blockTemplates.gallery.page1TodoTitle"},page1CompletedTodoTitle:{defaultMessage:"Completed To-do",id:"blockTemplates.gallery.page1CompletedTodoTitle",description:"New gallery example todo title"}});function w(e){const t=Object(o.a)(),n=Object(o.a)();return new r.a({block:{root:{id:"root",type:e?"collection_view":"collection_view_page",collection_id:"collection",view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[i.default.formatMessage(S.page1Title)]]},content:["to_do_1","to_do_2"]},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[i.default.formatMessage(S.page2Title)]]}},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[i.default.formatMessage(S.page3Title)]]}},to_do_1:{id:"to_do_1",type:"to_do",parent_id:"item_1",parent_table:"block",alive:!0,properties:{title:[[i.default.formatMessage(S.page1TodoTitle)]]}},to_do_2:{id:"to_do_2",type:"to_do",parent_id:"item_1",parent_table:"block",alive:!0,properties:{title:[[i.default.formatMessage(S.page1CompletedTodoTitle)]],checked:[["Yes"]]}}},collection_view:{view:{id:"view",version:0,type:"gallery",name:i.default.formatMessage(S.viewTitle),query2:{aggregations:[{aggregator:"count"}]},format:{gallery_cover:{type:"page_content"}},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",schema:{title:{name:i.default.formatMessage(S.namePropertyTitle),type:"title"},[t]:{name:i.default.formatMessage(S.tagsPropertyTitle),type:"multi_select",options:[]},[n]:{name:i.default.formatMessage(S.createdPropertyTitle),type:"created_time"}},format:{collection_page_properties:[{property:n,visible:!0},{property:t,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}})}const k=Object(a.defineMessages)({viewTitle:{defaultMessage:"List view",id:"blockTemplates.list.viewTitle"},namePropertyTitle:{defaultMessage:"Name",id:"blockTemplates.list.namePropertyTitle"},tagsPropertyTitle:{defaultMessage:"Tags",id:"blockTemplates.list.tagsPropertyTitle"},createdPropertyTitle:{defaultMessage:"Created",id:"blockTemplates.list.createdPropertyTitle"},page1Title:{defaultMessage:"Page 1",id:"blockTemplates.list.page1Title",description:"New list example page title"},page2Title:{defaultMessage:"Page 2",id:"blockTemplates.list.page2Title",description:"New list example page title"},page3Title:{defaultMessage:"Page 3",id:"blockTemplates.list.page3Title",description:"New list example page title"}});function C(e){const t=Object(o.a)(),n=Object(o.a)();return new r.a({block:{root:{id:"root",type:e?"collection_view":"collection_view_page",collection_id:"collection",view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[i.default.formatMessage(k.page1Title)]]}},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[i.default.formatMessage(k.page2Title)]]}},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[i.default.formatMessage(k.page3Title)]]}}},collection_view:{view:{id:"view",version:0,type:"list",name:i.default.formatMessage(k.viewTitle),query2:{aggregations:[{aggregator:"count"}]},format:{list_properties:[{property:t,visible:!0}]},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",schema:{title:{name:i.default.formatMessage(k.namePropertyTitle),type:"title"},[t]:{name:i.default.formatMessage(k.tagsPropertyTitle),type:"multi_select",options:[]},[n]:{name:i.default.formatMessage(k.createdPropertyTitle),type:"created_time"}},format:{collection_page_properties:[{property:n,visible:!0},{property:t,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}})}},"9vSW":function(e,t,n){"use strict";var o=n("g4rC");t.a=new o.a},"9wIn":function(e,t,n){"use strict";n("3bBZ"),n("SYor");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("5/h/"),s=n("7Q97"),l=n("3JF5"),c=n("8f5p"),d=n("J9+s"),u=n("VhAz");class p extends a.a{constructor(){super(...arguments),this.handleClickRemove=()=>{this.props.onClickRemove(this.props.target)}}renderComponent(){const{device:e}=this.environment;return r.a.createElement(s.b,{showRemoveButton:!0,isSingle:!1,format:e.isMobile?s.b.Format.Large:s.b.Format.Medium,onClickRemove:this.handleClickRemove,value:this.getTokenText()})}getTokenText(){const{target:e}=this.props;switch(e.type){case"newUser":return e.value.email.trim();case"existingUser":return Object(i.e)(e.value);case"bot":return Object(l.a)(e.value);case"group":return Object(c.a)({intl:this.props.intl,group:e.value});default:Object(u.e)(e)}}}t.a=Object(d.injectIntl)(p)},A9TN:function(e,t,n){"use strict";let o;n.r(t),o="undefined"!=typeof window&&window.CONFIG?window.CONFIG:{env:"production",isAdminMode:!1,isLocalhost:!1,offline:!0,version:"23.7.64.1",baseURL:"https://www.notion.so",protocol:"notion",staticS3:{url:"https://prod-notion-assets.s3-us-west-2.amazonaws.com",bucket:"prod-notion-assets"},lastUpdatedTime:1620256435032,api:{http:"/api/v3"},googleOAuth:{clientId:"905154081809-858sm3f0qnalqd9d44d9gecjtrdji9tf.apps.googleusercontent.com"},messageStore:{url:"https://msgstore.www.notion.so",api:"/api/v1"},stripe:{key:"pk_live_vuNO27XGTCbXjVwneiECILjT"},revenueCat:{apiResponseMaxAge:6048e5,entitlementIDs:{personal:"notion.id.personal_pro"},productIDs:{personal:{monthly:"notion.id.personal_pro_monthly",yearly:"notion.id.personal_pro_yearly"}}},intercom:{appId:"gpfdrxfd",adminId:"3483686"},segment:{writeKey:"g1mMn2qquRcv7exBIVDivoKl9cOrdxLA"},pricing:{invoiceDaysUntilDue:30,team_free:{spaceBlockLimit:1e3,fileUploadMaxBytes:5e6},personal_free:{fileUploadMaxBytes:5e6},student:{productId:"prod_FhChFoDp7gS1Ba"},personal:{productId:"prod_CpavZFCbxF2YGx",monthlyPrice:500,yearlyPrice:4800},team:{productId:"prod_CpawK4ih14xs4t",monthlyPricePerMember:1e3,yearlyPricePerMember:9600},enterprise:{productId:"prod_Cpb8M1AFEFhdy1",monthlyPricePerMember:2500,yearlyPricePerMember:24e3}},desktopS3:{url:"https://s3-us-west-2.amazonaws.com/desktop-release.notion-static.com"},publicFileS3:{url:"https://s3-us-west-2.amazonaws.com/public.notion-static.com",bucket:"public.notion-static.com"},temporaryFileS3:{url:"https://s3-us-west-2.amazonaws.com/temporary.notion-static.com",bucket:"temporary.notion-static.com"},secureFileS3:{url:"https://s3-us-west-2.amazonaws.com/secure.notion-static.com",bucket:"secure.notion-static.com"},loggly:{token:"edcca201-4028-4ef1-bbb1-c78b430dd74e"},embedly:{key:"421626497c5d4fc2ae6b075189d602a2"},aif:{url:"https://aif.notion.so/aif-production.html"},contentful:{spaceId:"spoqsaf9291f",contentDeliveryToken:"AGqteRpWD8aE_kxy_s7_hSFAlKCh5qf-RctSU6vV6u0",contentPreviewToken:"uR2ZVAs-9TMKDq0YKYVtczFplx6P9p06huCibZDJZKA"},iOSAppId:1232780281},t.default=o},ALSZ:function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"a",(function(){return C})),n.d(t,"d",(function(){return M})),n.d(t,"b",(function(){return E}));var o=n("cBa6"),r=n("RI9y"),a=n("Ajfl"),i=n("CSYU"),s=n("y6Dp"),l=n("MBf9"),c=n("QcDD"),d=n("DNgp"),u=n("WaiN"),p=n("GKeo"),h=n("7IvN"),m=n("onX9"),f=n("yioD"),g=n("hbKx"),b=n("hU3F"),v=n("nM47"),y=n("daQZ");function S(e){const{textStore:t,environment:n}=e,o=Object(g.j)(t)&&void 0!==f.a.getMode(n,t),r=t.isDefaultRecordCache()||"comment"===t.table,a=!o;return{page:r,createPage:r&&t.isDefaultRecordCache(),user:a,bot:a,date:!0,reminder:!0}}function w(e){const{environment:t,textStore:n,oldSelection:a,oldTextValue:l,disableDateMentions:c,disableDateReminderMentions:d}=e,f=function(e){const{textStore:t,oldSelection:n}=e;if(p.a.state.open||m.a.state.open||h.a.state.open)return;const r=o.I(t.getValue()||[]),a=n.startIndex,i=(r[a]||"").normalize("NFKD"),s=(r[a-1]||"").normalize("NFKD"),l=u.a.state;if(l.open)return"[["===l.insertionType&&"]"===i&&"]"===s?"]]":void 0;if("@"===i){if(s&&!/[\s\(\)\[\]]/g.test(s))return;return"@"}if("+"===i){if(s&&!/[\s\(\)\[\]]/g.test(s))return;return"+"}if("[["===r.slice(a-1,a+1).join("")){const e=r[a-1];if(e&&!/[\s\(\)\[\]]/g.test(e))return;return"[["}}(e);if(!f)return;const g=u.a.state;if("]]"===f){if(g.open){const e=g.temporaryInputData.state;e&&g.temporaryInputData.setState({...e,suffix:"]]"}),u.a.setState({...g,showCreateIn:!0})}return}const v=r.get();if(!v)return;const y=r.getRect(v);if(!y)return;const w=S({textStore:n,environment:t}),k=w.page,C=w.createPage,M=w.user&&"@"===f,E=w.bot&&"@"===f,_=w.date&&"@"===f&&!c,T=w.reminder&&"@"===f&&!c&&!d;(M||k||C||_||T)&&("+"!==f||C)&&(u.a.setState({open:!0,insertionType:f,textStore:n,oldTextValue:l,oldSelection:a,selectionRect:y,userRequestStore:new i.a,botRequestStore:new i.a,pageRequestStore:new i.a,temporaryInputData:new b.a(void 0),mentionTypes:{page:k,createPage:C,user:M,bot:E,date:_,reminder:T},expandSection:void 0,showCreateIn:!1,createInQuery:""}),s.Vc(t))}function k(e,t){a.d({direction:"end"});const n=d.default.state;if("editing"!==n.mode)return;let r=!1;if(n.selection.startIndex>0){const e=n.store.getValue()||[],t=o.I(e)[n.selection.startIndex-1];/[\s]/g.test(t)||(r=!0)}l.createAndCommit(e,t=>{r?(a.n({environment:e,store:n.store,string:" ",selection:n.selection,disableMentions:!0,disableDateMentions:!0,disableDateReminderMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:t}),a.n({environment:e,store:n.store,string:"@",selection:{startIndex:n.selection.startIndex+1,endIndex:n.selection.endIndex+1},disableMentions:!1,disableDateMentions:!1,disableDateReminderMentions:!1,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:t})):a.n({environment:e,store:n.store,string:"@",selection:n.selection,disableMentions:!1,disableDateMentions:!1,disableDateReminderMentions:!1,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:t})});const i=u.a.state;if(!i.open)return;const s=S({environment:e,textStore:n.store});u.a.setState({...i,mentionTypes:{page:s.page&&t.page,createPage:s.createPage&&t.createPage,user:s.user&&t.user,bot:s.bot&&t.bot,date:s.date&&t.date,reminder:s.reminder&&t.reminder}})}function C(e){const t=u.a.state,{environment:n,annotation:r,transaction:i}=e;if(t.open){const{currentBlockStore:e}=c.default.state,s=e&&e.contains(t.textStore);let l=t.oldTextValue,d=t.oldSelection;const u=t.insertionType.length-1;u>0&&(l=o.p(l,t.oldSelection.startIndex-u,t.oldSelection.startIndex),d={startIndex:d.startIndex-u,endIndex:d.endIndex-u}),a.s({environment:n,store:t.textStore,value:l,transaction:i}),a.m({environment:n,store:t.textStore,selection:d,annotation:r,analyticsFrom:s?"block":"comment",transaction:i}),M()}}function M(){u.a.setState({open:!1,userRequestStore:u.a.state.userRequestStore,botRequestStore:u.a.state.botRequestStore,pageRequestStore:u.a.state.pageRequestStore,mentionTypes:u.a.state.mentionTypes})}async function E(e){const{environment:t,onPageCreated:n}=e,o=function(e){const{environment:t,titleText:n,ignoreSelectionAreaStore:o,createInValue:r}=e,a=u.a.state;if(!a.open)return;if(!v.j(t))return;o.reset();const i=l.create(t),s=Object(y.e)({environment:t,transaction:i,titleText:n,createInValue:r,recordStoreParent:a.textStore});return{createdPage:s.createdPages[0],createInState:s,transaction:i}}(e);if(!o)return;const{createdPage:r,transaction:a,createInState:i}=o;return r?(n&&n(r),C({environment:t,annotation:["p",r.id],transaction:a}),await async function(e){const{environment:t,transaction:n,createInState:o}=e;return await o.moveToStorePromise,await l.commit({environment:t,transaction:n}),await Object(y.a)({analyticsFrom:"mention_menu",createInState:o}),o}({environment:t,transaction:a,createInState:i})):void 0}},AOw3:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("17x9"),i=n.n(a),s=n("i8i4"),l=n.n(s),c=n("hi+p"),d=n("/mqF"),u=n("FmD2"),p=n("6rsX"),h=n("EZe4"),m=n("DkKf"),f=n("qHvo"),g=n("wldR"),b=n("iVjn"),v=n("uSCg"),y=n("SjXP"),S=n("NOLh"),w=n("LEzx");class k extends w.a{getInitialState(){return{animatingSelectionHalo:!1,animatingDropParentHalo:!1,animatingDropZone:!1,animatingDropZoneHint:!1}}}var C=k,M=n("sjR4"),E=n("nFzZ"),_=n("ikHm"),T=n("BJyN"),x=n("DNgp"),I=n("nZ1u"),P=n("AmMh"),O=n("0zNc"),B=n("l2mL"),L=n("zmp8"),R=n("7M94");class D extends g.a{constructor(){super(...arguments),this.registries=[P.a],this.storeTypes={draggableStore:y.a,selectableStore:C},this.renderSelectionHaloContent=()=>r.a.createElement("div",{className:R.wb,style:this.getSelectionHaloStyle()}),this.renderDropParentHaloConent=()=>r.a.createElement("div",{className:R.wb,style:this.getDropParentHaloStyle()}),this.handleDragStart=e=>{const{reactNative:t}=this.environment;this.props.canDrag&&(e.preventDefault(),t&&t.buzz()),this.props.onDraggableDragStart&&this.props.onDraggableDragStart(e)},this.handleDragMove=e=>{const{device:t}=this.environment;this.props.canDrag&&!this.props.preventBackgroundDrag?f.b.state.isDragging?d.e(this.environment,{currentX:e.currentX,currentY:e.currentY}):m.d()&&(p.k({environment:this.environment,store:this.props.store,toggle:p.t(this.environment),selectBetween:p.s()}),d.g(this.environment,{startX:e.startX,startY:e.startY,stores:M.default.state.stores,isNativeDrag:!1,getGhostElement:this.props.getGhostElement})):I.a.state.isActive||t.isPhone||u.c({environment:this.environment,target:e.target,startX:e.startX,startY:e.startY,showSelectionRect:!0,preventSelectStores:[],allowVerticalEdgeScroll:!0,allowHorizontalEdgeScroll:!this.props.disableScrollToRevealHorizontal}),this.props.onDraggableDragMove&&this.props.onDraggableDragMove(e)},this.handleDragEnd=e=>{const{device:t}=this.environment;t.isMobile&&O.a.state.isDragging&&e.preventDefault(),this.props.canDrag&&f.b.state.isDragging&&d.c({environment:this.environment,shiftKey:e.shiftKey,optionKey:e.optionKey,commandKey:e.commandKey,analyticsFrom:this.props.analyticsName}),this.props.onDraggableDragEnd&&this.props.onDraggableDragEnd(e)},this.handleDragCancel=e=>{this.props.canDrag&&f.b.state.isDragging&&(d.a(this.environment),p.e(this.environment)),this.props.onDraggableDragCancel&&this.props.onDraggableDragCancel(e)},this.handleClick=e=>{Object(h.d)({event:e,context:h.a.EditorClick,callback:()=>{!m.d()&&this.props.canSelect&&p.k({environment:this.environment,store:this.props.store,toggle:p.t(this.environment),selectBetween:p.s()})}})},this.handleContextMenu=e=>{const{device:t}=this.environment;if(t.isAndroid){const t=x.default.state;if("editing"!==t.mode||!t.store.findRecordStoreAncestor(e=>e.id===this.props.store.id).ancestor)return e.preventDefault(),e.stopPropagation(),!1}this.props.canTriggerContextMenu&&Object(h.d)({event:e,context:h.a.EditorContextMenu,callback:()=>{e.preventDefault(),p.k({environment:this.environment,store:this.props.store}),c.c({environment:this.environment,stores:M.default.state.stores,left:e.clientX,top:e.clientY,actions:this.props.blockMenuActions||T.c,showInput:Boolean(this.props.showBlockMenuInput),analyticsFrom:"content_block_menu"})}})},this.handleDoubleClick=e=>{this.props.canSelect||Object(h.d)({event:e,context:h.a.EditorDoubleClick,callback:()=>{this.props.onDoubleClick&&this.props.onDoubleClick(e)}})},this.handleMouseOver=e=>{this.props.canSelect&&Object(h.d)({event:e,context:h.a.EditorMouseOver,callback:()=>{B.a.setState({...B.a.state,hoveredStore:this.props.store,lastHoveredStore:this.props.store})}})},this.handleMouseOut=e=>{B.a.state.hoveredStore===this.props.store&&B.a.setState({...B.a.state,hoveredStore:void 0})},this.handleSelectionHaloAnimationEnd=()=>{this.stores.selectableStore.setState({...this.stores.selectableStore.state,animatingSelectionHalo:!1})},this.computedStore=this.createComputedStore(()=>{const e=this.getDropZoneHintIndex();!E.h(e)&&e>=0&&(this.lastDropZoneHintIndex=e);const t=this.shouldShowSelectionHalo(),n=this.shouldShowDropParentHalo(),o=this.getCurrentDropZone(),r=this.getDropZoneHint(),a=this.lastDropZoneHintIndex,i=this.stores.draggableStore.state.dragging,s=this.stores.draggableStore.hasDragged(),l=this.stores.draggableStore.state.initiator,{animatingSelectionHalo:c,animatingDropParentHalo:d,animatingDropZone:u,animatingDropZoneHint:p}=this.stores.selectableStore.state,h=this.props.store.getType()||"unknown";return{isDragging:i,initiator:l,hasDragged:s,shouldShowSelectionHalo:t,shouldShowDropParentHalo:n,currentDropZone:o,dropZoneHint:r,dropZoneHintIndex:a,shouldRenderSelectionHalo:c||t,shouldRenderDropParentHalo:d||n,shouldRenderDropZoneHint:p||!E.h(r),shouldRenderDropZone:u||!E.h(o),propStoreType:h}})}getNode(){return l.a.findDOMNode(this)}getReferencePoint(e){const{device:t}=this.environment;return t.isMobile?this.props.dropzoneShouldNeverUseOrigin?e.mousePoint:{x:e.originPoint.x,y:e.mousePoint.y}:e.mousePoint}getChildContext(){return{...this.context,closestSelectable:this}}getContextClosestSelectable(){return this.context.closestSelectable}getContextSelectableContainer(){return this.context.selectableContainer}getContextVerticalScroller(){return this.context.verticalScroller}getContextHorizontalScroller(){return this.context.horizontalScroller}renderComponent(){const{isDragging:e,initiator:t,hasDragged:n,shouldShowDropParentHalo:o,shouldShowSelectionHalo:a,currentDropZone:i,dropZoneHint:s,dropZoneHintIndex:l,shouldRenderSelectionHalo:c,shouldRenderDropParentHalo:d,shouldRenderDropZoneHint:u,shouldRenderDropZone:p,propStoreType:h}=this.computedStore.state,m=c||d||u||p,f="".concat(R.vb," notion-").concat(h,"-block");return this.renderDraggable(h=>r.a.createElement("div",Object.assign({style:this.getStyle({isPositionRelative:m,isDragging:e,hasDragged:n,initiator:t}),"data-block-id":this.props.store.id,className:this.props.className?"".concat(f," ").concat(this.props.className):f},Object(v.a)(h||{},{onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick,onMouseMove:this.props.onMouseMove,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave})),this.props.children,c&&this.renderSelectionHalo(a),d&&this.renderDropParentHalo(o),u&&this.renderDropZoneHint(s,l),p&&this.renderCurrentDropZone(i)))}renderDraggable(e){const{device:t}=this.environment;return this.props.canDrag?r.a.createElement(b.a,{store:this.stores.draggableStore,forceTouch:t.isMobile&&!this.props.disableForceTouch,touchDragOnly:this.props.touchDragOnly,onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,disableHorizontalEdgeScroll:this.props.disableHorizontalDragEdgeScroll,render:e}):e(void 0)}renderSelectionHalo(e){return r.a.createElement(S.a,{key:"halo",isVisible:e,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},springConfig:{opacity:D.opacitySpringConfig},onAnimationStart:()=>{e&&this.stores.selectableStore.setState({...this.stores.selectableStore.state,animatingSelectionHalo:!0})},onAnimationEnd:this.handleSelectionHaloAnimationEnd,render:this.renderSelectionHaloContent})}renderDropParentHalo(e){return r.a.createElement(S.a,{key:"parent",isVisible:e,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},springConfig:{opacity:D.opacitySpringConfig},onAnimationStart:()=>{e&&this.stores.selectableStore.setState({...this.stores.selectableStore.state,animatingDropParentHalo:!0})},onAnimationEnd:()=>{this.stores.selectableStore.setState({...this.stores.selectableStore.state,animatingDropParentHalo:!1})},render:this.renderDropParentHaloConent})}renderCurrentDropZone(e){const t=!E.h(e);return r.a.createElement(S.a,{key:"dropZone",isVisible:t,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},springConfig:{opacity:D.opacitySpringConfig},onAnimationStart:()=>{t&&this.stores.selectableStore.setState({...this.stores.selectableStore.state,animatingDropZone:!0})},onAnimationEnd:()=>{this.stores.selectableStore.setState({...this.stores.selectableStore.state,animatingDropZone:!1})},render:()=>r.a.createElement("div",{style:this.getDropZoneStyle(e,0)},e!==f.a.Onto&&r.a.createElement("div",{style:this.getHintGapBoxStyle(e)}))})}renderDropZoneHint(e,t){const n=!E.h(e);return r.a.createElement(S.a,{key:"hint",isVisible:n,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},springConfig:{opacity:D.opacitySpringConfig},onAnimationStart:()=>{n&&this.stores.selectableStore.setState({...this.stores.selectableStore.state,animatingDropZoneHint:!0})},onAnimationEnd:()=>{this.stores.selectableStore.setState({...this.stores.selectableStore.state,animatingDropZoneHint:!1})},render:()=>r.a.createElement("div",{style:this.getDropZoneStyle(e,(t||0)+1)},r.a.createElement("div",{style:this.getHintGapBoxStyle(e)}))})}shouldShowSelectionHalo(){const{device:e}=this.environment,{store:t,shouldShowHalo:n}=this.props;if(!n||e.isPhone)return!1;const{stores:o,phase:r}=M.default.state;return r===M.SelectionPhase.Selected&&o.indexOf(t)>=0&&!f.b.state.isDragging}shouldShowDropParentHalo(){const{store:e,shouldShowHalo:t}=this.props;if(!t)return!1;const n=f.b.state;if(!n.isDragging)return!1;const{currentParentStore:o,currentHintDropZones:r,currentDropZone:a}=n;return r.some(e=>e.direction===f.a.Left||e.direction===f.a.Right)?Boolean(a&&a.store===e):o===e}getCurrentDropZone(){const{store:e,shouldShowDropZone:t}=this.props,n=f.b.state;if(!n.isDragging)return;const{currentDropZone:o}=n;return o&&o.store===e&&t?o.direction:void 0}getDropZoneHint(){const{store:e,shouldShowDropZone:t}=this.props,n=f.b.state;if(!n.isDragging)return;const{currentHintDropZones:o}=n;if(o&&t){const t=o.find(t=>t.store===e);if(t)return t.direction}}getDropZoneHintIndex(){const{store:e}=this.props,t=f.b.state;if(!t.isDragging)return;const{currentHintDropZones:n}=t;return n?n.findIndex(t=>t.store===e):void 0}getStyle(e){const{isPositionRelative:t,isDragging:n,hasDragged:o,initiator:r}=e,a={};return"touch"===r&&(a.transition="transform 200ms ease-out",this.props.canDrag&&n&&!o&&(a.boxShadow=this.theme.mediumBoxShadow,a.transform="scale(1.05)",a.borderRadius=3)),t&&(a.position="relative"),{...a,...this.props.style}}getSelectionHaloStyle(){return{position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,background:L.g.blueWithAlpha(.2),zIndex:_.o,...this.props.haloStyle}}getDropParentHaloStyle(){return{position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,background:L.g.blueWithAlpha(.1)}}getHintGapBoxStyle(e){const{device:t}=this.environment;if(void 0===e)return{};const n=t.isMobile?3:2;return e===f.a.Above||e===f.a.Below?{position:"relative",left:-n,width:n,height:D.dropzoneSize,background:this.theme.contentBackground,transform:"translateZ(100px)"}:{position:"relative",top:-n,width:D.dropzoneSize,height:n,background:this.theme.contentBackground,transform:"translateZ(100px)"}}getDropZoneStyle(e,t){const n={position:"absolute",pointerEvents:"none",background:L.g.blueWithAlpha(.5),zIndex:_.b-t};if(e===f.a.Onto)n.left=0,n.top=0,n.right=0,n.bottom=0,n.background=L.g.blueWithAlpha(.3);else if(e===f.a.Above||e===f.a.Below){const t=4;n.left=0,n.right=0,e===f.a.Above?n.top=-t:(n.bottom=-t,this.props.belowDropZoneMargin&&(n.bottom-=this.props.belowDropZoneMargin)),n.height=D.dropzoneSize}else{const t=8;n.top=0,n.bottom=0,e===f.a.Left?n.left=this.props.dropzoneGap?-this.props.dropzoneGap:-t:n.right=this.props.dropzoneGap?-this.props.dropzoneGap:-t,n.width=D.dropzoneSize}return n}}D.childContextTypes={closestSelectable:i.a.any,selectableContainer:i.a.any,verticalScroller:i.a.any,horizontalScroller:i.a.any,...g.b},D.contextTypes={closestSelectable:i.a.any,selectableContainer:i.a.any,verticalScroller:i.a.any,horizontalScroller:i.a.any,...g.b},D.opacitySpringConfig={stiffness:70,damping:10,precision:.001},D.dropzoneSize=4;t.a=D},APM9:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("mVDJ"),l=n("wldR"),c=n("cYwG"),d=n("2Y+N"),u=n("h2IJ"),p=n("zmp8"),h=n("J9+s"),m=n("6fvo"),f=n("xe8Q"),g=n("WgIs"),b=n("RQ1t"),v=n("MeYt"),y=n("i3uR"),S=n("g4rC"),w=n("dayd"),k=n("D8Ld"),C=n("VyA+"),M=n("LeVO"),E=n("uSCg");class _ extends l.a{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:S.a},this.renderEmojiWithVariations=()=>{const{emoji:e,focused:t}=this.props,{buttonPopupStore:n}=this.stores;return r.a.createElement(C.a,{key:e,capture:t,onEnter:this.handleOpenMenu,onEsc:this.handleCloseMenu},r.a.createElement(y.a,{buttonPopupStore:n,popupType:y.a.PopupType.Popup,renderOrigin:e=>this.renderSingleEmoji(e),render:this.renderVariationMenu}))},this.renderSingleEmoji=e=>{const{emoji:t,focused:n,onClick:o,onMouseEnter:a}=this.props,{fontSize:i}=this.getEmojiButtonSize(),s=f.c[t],l=s&&s.keywords&&s.keywords[0],c=s&&s.variations&&!this.props.variations;return r.a.createElement(M.a,{allowHover:Boolean(l&&!c),renderTooltip:()=>l,closeDelay:0,render:s=>r.a.createElement(v.a,Object.assign({key:t,focused:n,onClick:o},Object(E.a)(e||{},Object(E.a)({onMouseEnter:a},s)),{ignoreLocalHoverState:!0,style:this.styles.emojiButton}),r.a.createElement(w.a,{size:i,char:t}))})},this.renderVariationMenu=e=>{const{emoji:t,variations:n,insertEmoji:o}=this.props,a=(n&&n.length>0?[t,...n]:[t]).map(t=>({key:t,action:n=>{e.close(),o(t)},render:e=>r.a.createElement(_,Object.assign({},this.props,e,{emoji:t,variations:void 0}))}));return r.a.createElement(k.a,{capture:!0,allowEsc:!0},r.a.createElement(g.a,{type:g.a.Type.Horizontal,initialFocus:0,sections:[{key:"variations",render:this.renderVariationWrapper,items:a}]}))},this.renderVariationWrapper=e=>r.a.createElement("div",Object.assign({style:this.styles.variationMenu},e)),this.handleOpenMenu=e=>{e.preventDefault();const{buttonPopupStore:t}=this.stores;t.setState({...t.state,open:!0})},this.handleCloseMenu=()=>{const{buttonPopupStore:e}=this.stores;e.setState({...e.state,open:!1})},this.styles={emojiButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:3,...this.getEmojiButtonSize()},variationMenu:{display:"flex",padding:4}}}renderComponent(){const{variations:e}=this.props;return e&&e.length>0?this.renderEmojiWithVariations():this.renderSingleEmoji()}getEmojiButtonSize(){const{desktopButtonSize:e,desktopFontSize:t,mobileButtonSize:n,mobileFontSize:o}=this.props,{device:r}=this.environment;return r.isMobile?{width:n,height:n,fontSize:o}:{width:e,height:e,fontSize:t}}}_.defaultProps={desktopButtonSize:32,desktopFontSize:24,mobileButtonSize:44,mobileFontSize:32};var T=_,x=n("UZfs"),I=n("aLEG");const P=["💡","👉","☝","👌","🔑","🚧","⚠️","🔥","📌","✂️","❓","🚫","⛔","⏰","☎️","🚨","♻️","✅","🔒","📎","📖","🗣","➡️","📢","🛠","⚙"];class O extends l.a{constructor(){super(...arguments),this.storeTypes={store:s.a,menuListStore:b.a},this.insertEmoji=e=>{this.props.onSubmit(e),this.addToRecentEmojis(e)},this.createCategory=e=>{let t=[];if(t="recent"===e.id?this.stores.store.state.recentEmojis||[]:"callout"===e.id?P:f.a[e.id],this.props.filter){const e=m.a(this.props.filter);e&&(t=this.filterAndSortEmojis(e,t))}if(0!==t.length)return{key:e.id,items:t.map(this.createListItem),render:t=>r.a.createElement(d.a,{key:t.key,isTitleUppercase:!0,title:e.title},r.a.createElement("div",{style:this.getEmojiSectionWrapStyle()},t.children))}},this.createListItem=e=>{const t=m.e(e);return{key:e,action:t=>this.handleEmojiButtonClick(e),render:n=>r.a.createElement(T,Object.assign({},n,{emoji:e,variations:t,insertEmoji:this.insertEmoji,desktopButtonSize:O.desktopEmojiButtonSize,mobileButtonSize:O.mobileEmojiButtonSize}))}},this.handleScroll=e=>{if(e<O.loadMoreCategoryEdgeDistance){const{loadEmojiCount:e}=this.stores.store.state,t=Math.max(s.a.emojisPerPage,this.getAllSectionsEmojiCount());this.stores.store.setState({...this.stores.store.state,loadEmojiCount:Math.min(t,e+s.a.emojisPerPage)})}},this.handleEmojiButtonClick=e=>{0===m.e(e).length&&this.insertEmoji(e)}}willMount(e){super.willMount(e);const t=u.a.get(O.localRecentEmojisKey),n=i.a.toArray(t||"");this.stores.store.setState({...this.stores.store.state,recentEmojis:n}),Object(I.a)()}didUpdate(e){const{menuListStore:t}=this.stores;e.filter!==this.props.filter&&t.setState({...t.state,focus:{section:0,indexLocal:0,indexGlobal:0}})}renderComponent(){const{menuListStore:e}=this.stores,t=this.getVisibleSections(this.getAllSections()),n=!this.environment.device.isPhone&&t.length>0?0:void 0;return 0===t.length&&(this.props.onNoResults&&this.props.onNoResults(),t.push({key:"no results",items:[{key:"no results",action:e=>{},render:(e,t)=>r.a.createElement(x.a,Object.assign({},e,{caption:"No results"}))}],render:e=>r.a.createElement(d.a,Object.assign({},e))})),r.a.createElement("div",{style:O.wrapStyle},r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(g.a,Object.assign({},this.getMenuListProps(),{store:e,initialFocus:n,sections:t,disableMouseLeaveBlur:!0,disableKeyboardArrowWrap:!0,unfocusOnScroll:this.environment.device.isMobile}))),r.a.createElement(c.a,{onChange:this.handleScroll}))}addToRecentEmojis(e){const t=u.a.get(O.localRecentEmojisKey),n=i.a.union([e],i.a.toArray(t)),o=i.a.take(n,O.recentEmojisCount);u.a.set(O.localRecentEmojisKey,o.join("")),this.stores.store.setState({...this.stores.store.state,recentEmojis:o})}getAllSections(){const e=i.a.compact(this.getCategories().map(this.createCategory));if(!this.props.filter)return e;if(this.getEmojiItemCount(e)>s.a.emojisPerPage/2)return e;const t=m.a(this.props.filter);return t?this.createFilteredSection(t):e}getAllSectionsEmojiCount(){const e=this.getAllSections();let t=0;for(const n of e)t+=n.items.length;return t}getEmojiItemCount(e){let t=0;for(const n of e)t+=n.items.length;return t}getVisibleSections(e){const{loadEmojiCount:t}=this.stores.store.state,n=[];let o=0;for(const r of e){if(!(o+r.items.length<=t)){n.push({...r,items:r.items.slice(0,t-o)});break}n.push(r),o+=r.items.length}return n}getCategories(){return i.a.compact([!this.props.filter&&{id:"recent",title:r.a.createElement(h.FormattedMessage,{id:"emojiPicker.section.recent",defaultMessage:"Recent"})},this.props.isCallout?{id:"callout",title:r.a.createElement(h.FormattedMessage,{id:"emojiPicker.section.callout",defaultMessage:"Callout"})}:void 0,{id:"People & Body",title:r.a.createElement(h.FormattedMessage,{id:"emojiPicker.section.people",defaultMessage:"People"})},{id:"Animals & Nature",title:r.a.createElement(h.FormattedMessage,{id:"emojiPicker.section.animals",defaultMessage:"Animals and nature"})},{id:"Food & Drink",title:r.a.createElement(h.FormattedMessage,{id:"emojiPicker.section.food",defaultMessage:"Food and drink"})},{id:"Activities",title:r.a.createElement(h.FormattedMessage,{id:"emojiPicker.section.activity",defaultMessage:"Activity"})},{id:"Travel & Places",title:r.a.createElement(h.FormattedMessage,{id:"emojiPicker.section.travel",defaultMessage:"Travel and places"})},{id:"Objects",title:r.a.createElement(h.FormattedMessage,{id:"emojiPicker.section.objects",defaultMessage:"Objects"})},{id:"Symbols",title:r.a.createElement(h.FormattedMessage,{id:"emojiPicker.section.symbols",defaultMessage:"Symbols"})},{id:"Flags",title:r.a.createElement(h.FormattedMessage,{id:"emojiPicker.section.flags",defaultMessage:"Flags"})}])}filterAndSortEmojis(e,t){const n=i.a.compact(t.map(t=>{const n=f.c[t],o=n&&n.keywords||[],r=o.findIndex(t=>t===e);if(-1!==r)return[10*(10-r),t];const a=o.findIndex(t=>t.startsWith(e));return-1!==a?[10-a,t]:o.some(t=>t.includes(e))?[1,t]:void 0}));return i.a.sortBy(n,e=>-e[0]).map(e=>e[1])}createFilteredSection(e){const t=this.filterAndSortEmojis(e,i.a.flatten(this.getCategories().map(e=>f.a[e.id])));return 0===t.length?[]:[{key:"search-results",items:t.map(this.createListItem),render:e=>r.a.createElement(d.a,{key:e.key},r.a.createElement("div",{style:this.getEmojiSectionWrapStyle()},e.children))}]}getMenuListProps(){const{device:e}=this.environment;return e.isMobile?{type:g.a.Type.Vertical}:{type:g.a.Type.Grid,itemsPerRow:O.desktopItemsPerRow,renderRow:(e,t)=>r.a.createElement("div",{key:t,style:O.rowStyle},e)}}getEmojiSectionWrapStyle(){const{device:e,WindowSizeStore:t}=this.environment,{type:n}=this.getMenuListProps();return{display:"flex",flexDirection:n===g.a.Type.Grid?"column":"row",flexWrap:"wrap",alignItems:"flex-start",background:e.isMobile?this.theme.popoverBackground:p.g.transparent,paddingTop:e.isMobile?10:0,paddingBottom:e.isMobile?10:0,paddingLeft:e.isMobile?t.getSafePaddingLeftCSS(10):O.desktopPaddingLeft,paddingRight:e.isMobile?t.getSafePaddingLeftCSS(10):O.desktopPaddingRight,boxShadow:e.isMobile?"0 1px 0 ".concat(this.theme.regularDividerColor):"",marginBottom:1}}}O.loadMoreCategoryEdgeDistance=100,O.recentEmojisCount=20,O.desktopItemsPerRow=12,O.localRecentEmojisKey="recentEmojis",O.desktopEmojiButtonSize=32,O.desktopPaddingLeft=12,O.desktopPaddingRight=0,O.desktopSpacingRight=22,O.mobileEmojiButtonSize=44,O.desktopPopupWidth=O.desktopEmojiButtonSize*O.desktopItemsPerRow+O.desktopPaddingLeft+O.desktopPaddingRight+O.desktopSpacingRight,O.wrapStyle={display:"flex",flexDirection:"column"},O.rowStyle={display:"flex"};t.a=O},ARzG:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("3bBZ");var o=n("622O"),r=n("CARr");function a(e,t,n){if(n&&!e.file_ids)return[];const a=[];if(e.properties){const i=Object.keys(e.properties);for(const s of i){const i=e.properties[s],l=r.p(i);for(const r of l){const i=Object(o.i)(r.url,e.file_ids,t,n);i&&a.push(i)}}}if(e.format){const{page_cover:r,page_icon:i}=e.format;if(r){const i=Object(o.i)(r,e.file_ids,t,n);i&&a.push(i)}if(i){const r=Object(o.i)(i,e.file_ids,t,n);r&&a.push(r)}}return a}},AUNf:function(e,t,n){"use strict";n.r(t);n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("LEzx"),i=n("QcDD"),s=n("wpmu"),l=n("HRSx");class c extends a.a{getInitialState(){return{values:[]}}getCurrentOfflinePagesStore(){return r.a.compact(this.state.values.map(e=>{const{currentSpaceStore:t}=i.default.state;if(!t)return;const{id:n,type:o}=e;if("collection"===o)throw new Error("Collections not yet supported.");return s.a.createChildStore(t,{table:l.a,id:n})}))}}t.default=new c},"AXh+":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return S}));n("3bBZ");var o=n("G4cA"),r=n("hbKx"),a=n("z22Z"),i=n("xL2i"),s=n("5/h/"),l=n("V1wX"),c=n("Cycz"),d=n("r8MX"),u=n("qX+M"),p=n("2ZkR");function h(e){const t=r.h(e),n=i.b(t);return i.d(n)}function m(e,t){const{id:n}=e.currentUser;let o;if(n){const e=t.getRecordValue({table:s.a,id:n});e&&(o=Object(l.j)(e))}const a=r.h(t);return i.o({actor:o,ancestors:a})}function f(e){return h(e).map(({permissionItem:e})=>e).some(e=>a.n(e)&&a.d(e.role)&&(void 0===e.allow_duplicate||!0===e.allow_duplicate))}function g(e,t){let n;if(n=t instanceof o.a?Object(u.getSpacePermissionItems)(t):h(t).map(({permissionItem:e})=>e),1===n.length){const[t]=n;return"user_permission"===t.type&&a.a(t.role)&&t.user_id===e.currentUser.id}return!1}function b(e,t,n){if(!c.Q(e,"personal_free"))return!1;const{data:o}=d.default.state;if(!o)return!1;if(Boolean(o&&c.D(o)))return!1;const r=c.r(o).map(e=>e.userId),a=c.t(o).map(e=>e.userId);return new Set([...r,...t].filter(e=>!a.includes(e))).size>Math.max(n,r.length)}function v(e){const{environment:t,userIds:n,includesOwner:o}=e,{data:r}=d.default.state;return!!r&&b(t,n,o?5:4)}function y(e){const{environment:t,store:n,permissionItems:r}=e;if(n instanceof o.a)return!1;const{data:i}=d.default.state;return!!i&&b(t,r.filter(a.q).filter(e=>"none"!==e.role).map(e=>e.user_id),5)}function S(e){return"on"===p.default.getGroup(e,"request-access")}},Agvv:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d}));n("UxlC");var o=n("KWgd"),r=n("J9+s");const a="en-US";function i(e){return(e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,""))(e).toLowerCase()}const s=Object(r.createIntlCache)(),l=Object(r.createIntl)({locale:"en-US",defaultLocale:"en-US"},s);function c(){return l}function d(e){return Object(o.c)(e.locale)?e.locale:a}},AjLL:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("M64d"),l=n("ikHm"),c=n("6WtK"),d=n("wldR"),u=n("MvRd"),p=n("TmDR"),h=n("LUuO"),m=n("JBsN"),f=n("zK7c"),g=n("Hq/H"),b=n("wZk+"),v=n("2WqK"),y=n("mF3+"),S=n("FcJC"),w=n("Wae9"),k=n("EZe4"),C=n("NOLh"),M=n("LeVO"),E=n("TDb4"),_=n("C7oc"),T=n("UcZb"),x=n("lCCU"),I=n("7M94"),P=n("J9+s");class O extends d.a{constructor(){super(...arguments),this.handlePlusIconMouseEnter=e=>{Object(k.d)({event:e,context:k.a.SidebarMouseMove,callback:()=>{S.open()}})}}renderComponent(){return r.a.createElement("div",{style:this.getStyle(),onMouseEnter:this.handlePlusIconMouseEnter,onMouseMove:this.handlePlusIconMouseEnter},r.a.createElement("div",{style:{position:"relative"}},this.renderMenuButton(),this.renderExpandButton()))}renderMenuButton(){const e=w.a.getTotalUnreadMentionsCount();return r.a.createElement(C.a,{isVisible:!0,animationStyle:{opacity:T.c.state?0:1},render:()=>r.a.createElement("div",{style:O.buttonWrapStyle},r.a.createElement("div",{style:O.buttonStyle},y.a.hamburgerMenu(this.getSvgStyle()),r.a.createElement(_.a,{color:_.a.Color.Red,count:e,style:{position:"absolute",top:-1,right:-4}})))})}renderExpandButton(){return r.a.createElement(C.a,{isVisible:!0,animationStyle:{opacity:T.c.state?1:0},render:()=>r.a.createElement("div",{style:O.buttonWrapStyle},r.a.createElement(M.a,{renderTooltip:()=>r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(P.FormattedMessage,{defaultMessage:"Lock sidebar open",id:"sidebarExpandButton.tooltip"})),r.a.createElement(E.a,{style:{color:this.theme.mediumInvertedTextColor},name:"toggleSidebar"})),placement:M.a.Placement.Right,alignment:M.a.Alignment.Start,delayThreshold:0,originGap:6,render:e=>r.a.createElement(x.a,Object.assign({icon:y.a.doubleChevronRight,style:{position:"relative"},isDarkIconColor:!0,onClick:()=>S.setExpand({environment:this.environment,isExpanded:!0}),className:I.Z},e))}))})}getStyle(){return{flexShrink:0,width:48,height:48,margin:-12,padding:12,marginRight:-6}}getSvgStyle(){return{width:16,height:16,fill:this.theme.regularIconColor}}}O.buttonStyle={position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderRadius:3},O.buttonWrapStyle={position:"absolute",top:0,left:0,willChange:"opacity"};var B=O,L=n("CIk0"),R=n("KYd6"),D=n("bK/N"),A=n("QcDD"),j=n("8kr4"),F=n("Sd8d"),V=n("uUOz"),N=n("/wWF"),U=n("HTHG"),z=n("AXh+"),X=n("d9nj"),Y=n("4aFz"),H=n("Ripq"),q=n("sdlW"),W=n("H4VD"),G=n("qqdV"),Z=n("7TLZ"),K=n("A9TN"),J=n("Rtjx"),Q=n("yioD"),$=n("VBxf"),ee=n("IULH"),te=n("HSWF"),ne=n("y6Dp"),oe=n("bLTx"),re=n("tvfY"),ae=n("5/h/"),ie=n("ETM2");class se extends d.a{constructor(){super(...arguments),this.handleDoubleClickTopbar=e=>{e.target===e.currentTarget&&Object(k.d)({event:e,context:k.a.EditorDoubleClick,callback:D.toggleMaximized})},this.handleStartPublicEdit=()=>{this.environment.currentUser.isLoggedIn()?Object($.showDialog)({showCancel:!0,keepFocus:!1,message:r.a.createElement(P.FormattedMessage,{defaultMessage:"When you start editing, your name, email and photo will be visible to the page owners.",id:"topbar.startPublicEditDialog.message"}),items:[{label:r.a.createElement(P.FormattedMessage,{defaultMessage:"Continue",id:"topbar.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){Q.a.setState({editing:!0})}}]}):(Object(te.z)({currentUserId:this.environment.currentUser.id,blockId:this.props.store.id}),W.navigate({environment:this.environment,url:G.d.login}))},this.handleAttemptPublicComment=()=>{Object(te.z)({currentUserId:this.environment.currentUser.id,blockId:this.props.store.id}),W.navigate({environment:this.environment,url:G.d.login})},this.forkPageRef=null,this.handleForkPageRef=e=>{this.forkPageRef=e},this.handleOpenQuickFind=()=>{Y.b({environment:this.environment,analyticsFrom:"public-page-topbar"})},this.handleOpenForkPage=()=>{H.d({environment:this.environment,store:this.props.store,originRect:this.getDuplicateClientRect()})},this.handleClickNotion=()=>{const{currentUserRootStore:e,currentUserSettingsStore:t}=A.default.state;ne.tc(this.environment),e&&t?q.n({environment:this.environment,userRootStore:e,userSettingsStore:t}):W.navigate({environment:this.environment,url:G.d.login})},this.appRenderState=this.createComputedStore(()=>U.a(this.environment))}renderComponent(){return Object(s.a)(e=>r.a.createElement("div",Object.assign({style:this.getWrapStyle()},e),r.a.createElement("div",{style:this.getStyle(),className:I.Nb},this.isReady()&&(this.shouldRenderPublicPageTopbar()?this.renderPublicPageTopbar():this.renderDefaultTopbar())),r.a.createElement(h.a,{banners:this.props.banners,isMobile:!1})))}renderPublicPageTopbar(){const{device:e}=this.environment,{store:t,isInvalidPage:n,isElectron:o}=this.props;return r.a.createElement("div",{style:this.getContainerStyle(),onDoubleClick:this.handleDoubleClickTopbar},o&&r.a.createElement(g.a,null),!n&&r.a.createElement(c.a,{store:t,style:se.breadcrumbStyle,maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),r.a.createElement("div",{style:{flexGrow:1,flexShrink:1}}),t.canEdit()&&!Q.a.state.editing&&r.a.createElement(ee.a,{onClick:this.handleStartPublicEdit,style:{marginRight:8,padding:"0 8px"}},y.a.pencil(se.topbarIconStyle),r.a.createElement(P.FormattedMessage,{id:"topbar.publicPage.edit",defaultMessage:"Edit"})),!this.environment.currentUser.isLoggedIn()&&t.canComment()&&!t.canEdit()&&r.a.createElement(ee.a,{onClick:this.handleAttemptPublicComment,style:{marginRight:8,padding:"0 8px"}},y.a.speechBubbleThin(se.topbarIconStyle),r.a.createElement(P.FormattedMessage,{id:"topbar.publicPage.comment",defaultMessage:"Comment"})),r.a.createElement(X.a,{onClick:this.handleOpenQuickFind},y.a.searchThick(se.topbarIconStyle),r.a.createElement(P.FormattedMessage,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"})),Object(z.a)(this.props.store)&&r.a.createElement(X.a,{onClick:this.handleOpenForkPage,ref:this.handleForkPageRef},r.a.createElement(P.FormattedMessage,{defaultMessage:"Duplicate",id:"topbar.publicPage.duplicateButton.label"})),!e.isMobile&&!n&&r.a.createElement(ie.a,{store:t,buttonPopupStore:V.a}),r.a.createElement("div",{style:this.getPublicPageTopbarDividerStyle()}),r.a.createElement(X.a,{onClick:this.handleClickNotion},y.a.notionLogo(se.notionLogoStyle),"Notion"))}renderDefaultTopbar(){const{store:e,isInvalidPage:t,isElectron:n,showSidebarButton:o}=this.props;return r.a.createElement(f.a,{store:e,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>r.a.createElement("div",{style:this.getContainerStyle(),onDoubleClick:this.handleDoubleClickTopbar},o&&r.a.createElement(B,null),n&&r.a.createElement(g.a,null),!t&&r.a.createElement(c.a,{store:e,style:se.breadcrumbStyle,maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),e.canEdit()&&r.a.createElement(p.a,{store:e,isMobile:!1,key:e.id}),!t&&r.a.createElement(u.a,null),r.a.createElement("div",{style:{flexGrow:1,flexShrink:1}}),!t&&this.renderActionButtons())})}renderActionButtons(){const{device:e}=this.environment,{store:t,spaceStore:n,pageVisitStore:o,presenceStore:a,collectionViewStore:i}=this.props,{currentSpaceViewStore:s}=A.default.state;return r.a.createElement("div",{style:se.actionButtonsWrapStyle},t.isRestricted()&&r.a.createElement(oe.a,{style:{marginRight:10},onClick:()=>{j.a.setState({open:!0})}}),t.canEdit()&&o&&a&&r.a.createElement(m.a,{rootStore:t,pageVisitStore:o,presenceStore:a}),r.a.createElement(v.a,{store:t,buttonPopupStore:j.a}),!e.isMobile&&r.a.createElement(R.a,{blockStore:t,spaceStore:n,buttonPopupStore:F.a}),r.a.createElement(L.a,{store:t,spaceViewStore:s}),!e.isMobile&&r.a.createElement(b.a,{store:t,collectionViewStore:i,buttonPopupStore:V.a}))}getDuplicateClientRect(){if(this.forkPageRef){const e=i.a.findDOMNode(this.forkPageRef);if(e instanceof Element)return e.getBoundingClientRect()}}isReady(){const e=Object(Z.a)(this.props.store),{id:t}=this.environment.currentUser,n=t?re.a.createChildStore(this.props.store,{table:ae.a,id:t}):void 0,o=!n||n.isReady();return e&&o}shouldRenderPublicPageTopbar(){return!K.default.isAdminMode&&Object(z.g)(this.environment,this.props.store)}getWrapStyle(){return{width:"100%",maxWidth:"100vw",zIndex:l.v}}getTopbarHeight(){const{device:e}=this.environment;return e.isElectronMac?se.desktopMacHeight:se.defaultHeight}getStyle(){return{width:"100%",maxWidth:"100vw",height:this.getTopbarHeight(),opacity:U.p.state?0:1,transition:"\n\t\t\t\topacity ".concat(se.transitionDuration,"ms,\n\t\t\t\tcolor ").concat(se.transitionDuration,"ms\n\t\t\t"),position:"relative"}}getContainerStyle(){const{device:e}=this.environment,t=e.isElectronMac&&(!this.appRenderState.state.shouldShowSidebar||!Object(J.f)(this.environment))&&!N.a.state.isFullScreen;return{display:"flex",justifyContent:"space-between",alignItems:"center",position:"absolute",overflow:"hidden",height:this.getTopbarHeight(),left:0,right:0,bottom:0,paddingLeft:t?se.paddingLeftWhenDesktopSidebarClose:e.isMobile?4:12,paddingRight:e.isMobile?4:10}}getPublicPageTopbarDividerStyle(){return{flex:"none",width:1,height:16,marginLeft:8,marginRight:8,background:this.theme.darkDividerColor}}}se.defaultHeight=45,se.desktopMacHeight=37,se.paddingLeftWhenDesktopSidebarClose=73,se.transitionDuration=700,se.actionButtonsWrapStyle={flexGrow:0,flexShrink:0,display:"flex",alignItems:"stretch"},se.breadcrumbStyle={height:"100%",flexGrow:0,marginRight:8,fontSize:14,minWidth:0},se.topbarIconStyle={width:14,height:14,marginRight:6},se.notionLogoStyle={width:18,height:18,marginRight:6};t.a=se},Ajfl:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("cBa6"),i=n("wpmu"),s=n("bPtJ"),l=n("sjR4"),c=n("y6Dp"),d=n("l4I2"),u=n("6rsX"),p=n("unoy"),h=n("IzPW"),m=(n("UxlC"),n("Junv"),n("udrG")),f=function(e,t){return r.a.toArray(e.substring(0,t)).length},g=n("MBf9"),b=n("sPNb"),v=n("q2qQ"),y=n("ICWk"),S=n("HRSx"),w=n("bK/N"),k=n("N34Z"),C=n("DNgp"),M=n("hgQN");function E(e){const{environment:t,store:n,toBlockType:o,matchRegex:s,insertTextAfter:d,transaction:h}=e,f="editing"===C.default.state.mode&&C.default.state.selection;if(!f)return;const g=r.a.toArray(a.Y(n.getValue())).slice(0,f.endIndex).join(""),w=s.exec(g);if(!w)return;const M=n.recordStoreParent();if(!(M&&M instanceof i.a))return;const E=M.getType();if(!E)return;if(E!==m.a.text&&!S.b[E])return;const _=o(w);if(void 0!==_&&_!==E){if(M instanceof i.a&&b.a({environment:t,block:M,blockType:_,transaction:h}),fe({environment:t,store:n,selection:{startIndex:0,endIndex:w&&r.a.toArray(w[0]).length||0},transaction:h}),d){const e=v.i({environment:t,selection:l.default.state.stores,createBlockItem:y.b[m.a.text],analyticsFrom:"text_filter_actions",transaction:h}),o=n.getValue()||[];e&&(k.c({store:n,value:[],transaction:h}),k.c({store:e.getBlockTitleStore(),value:o,transaction:h}),u.f({environment:t,store:e}),p.o({store:e.getBlockTitleStore()}))}c.Ye(t,{type:_})}}function _(e){const{environment:t,store:n,transaction:o,regex:i,length:s,analyticsType:l,replace:d}=e,u=n.getValue()||[],p="editing"===C.default.state.mode&&C.default.state.selection;if(!p)return;const h=a.Nb(u,0,p.endIndex),m=r.a.findLastIndex(h.tokensInsideRange,e=>a.db(e).some(e=>a.pb(e))),g=h.tokensInsideRange.slice(-1===m?0:m,h.tokensInsideRange.length),b=a.Y(g);if(Boolean(b.match(/(^| )`[^ ]/)))return;const v=a.Y(u),y=r.a.toArray(v).slice(0,p.endIndex).join(""),S=i.exec(y);if(!S)return;const w=f(v,S.index),k={startIndex:w,endIndex:w+s},M=n.getValue()||[];if(a.mb(M,k.startIndex,k.endIndex,"c"))return;const E="function"==typeof d?d({match:S,matchIndex:w,textValue:u}):d;void 0!==E&&(fe({environment:t,store:n,selection:k,transaction:o}),"editing"===C.default.state.mode&&(be({environment:t,store:n,selection:C.default.state.selection,string:E,disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:o}),c.bf(t,{type:l})))}function T(e){const{environment:t,store:n,delimiter:o,annotation:i,transaction:s}=e,l="editing"===C.default.state.mode&&C.default.state.selection;if(!l)return;const d=n.getValue(),u=x({delimiter:o,storeValue:d,selectionEndIndex:l.endIndex});if(!u)return;if(!I({delimiter:o,storeValue:d,...u}))return;if(a.lb(d,u.startIndex,u.endIndex,a.b.Code))return;const{textValue:h,startIndex:m,endIndex:g}=u,b=f(h,m),v=h.slice(m,g),y=r.a.toArray(v).length,S={startIndex:b,endIndex:b+o.length};fe({environment:t,store:n,selection:S,transaction:s});const w={startIndex:b+y-o.length-o.length,endIndex:b+y-o.length};fe({environment:t,store:n,selection:w,transaction:s});const k={startIndex:S.startIndex,endIndex:w.startIndex};Se({environment:t,store:n,selection:k,annotation:i,transaction:s});const M=k.endIndex;p.m({store:n,selection:{startIndex:M,endIndex:M}}),p.l({annotation:i,extend:!1}),c.m(t,{type:a.F(i)})}function x(e){const{delimiter:t,storeValue:n,selectionEndIndex:o}=e,i=r.a.toArray(a.Y(n)).slice(0,o).join("");if(0===i.length||!i.endsWith(t))return;const s=i.split(t);if(s.length<=2)return;s.reverse();const[l,...c]=s.slice(1),d=r.a.sum(c.map(e=>e.length+t.length))-t.length;return{textValue:i,matchString:l,startIndex:d,endIndex:d+l.length+2*t.length}}function I(e){const{delimiter:t,matchString:n,startIndex:o,endIndex:r,textValue:a}=e;return n.length>0&&!/\s/g.test(n[0])&&!/\s/g.test(n[n.length-1])&&!n.startsWith(t)&&!n.endsWith(t)&&(!a[o-1]||/[\s(]/g.test(a[o-1]))&&(!a[r]||/[\s)]/g.test(a[r]))}function P(e){const{environment:t,delimiter:n,store:o,transaction:i}=e;if("editing"!==C.default.state.mode)return;const{selection:s}=C.default.state,l=o.getValue(),d=x({delimiter:n,storeValue:l,selectionEndIndex:s.endIndex});if(!d)return;if(!function(e){const{storeValue:t,startIndex:n,endIndex:o,delimiter:r}=e;if(!I(e))return!1;const i={[a.b.User]:a.b.User,[a.b.Page]:a.b.Page,[a.b.Bot]:a.b.Bot,[a.b.Date]:a.b.Date,[a.b.TemporaryPage]:a.b.TemporaryPage};for(const s of Object.values(i))if(a.mb(t,n,o,s))return!1;if(a.mb(t,n,n+r.length,a.b.Code)&&a.mb(t,o-r.length,o,a.b.Code))return!1;return!0}({delimiter:n,storeValue:l,...d}))return;const{textValue:u,matchString:h,startIndex:m,endIndex:g}=d,b=f(u,m),v=u.slice(m,g);fe({environment:t,store:o,selection:{startIndex:b,endIndex:b+r.a.toArray(v).length},transaction:i});const y=a.f(h);ve({environment:t,store:o,tokens:[y],index:b,transaction:i});const S=b+r.a.toArray(a.fb(y)).length;p.m({store:o,selection:{startIndex:S,endIndex:S}}),c.m(t,{type:a.b.Equation}),M.j({environment:t,equation:h,from:{type:"create",source:"text_filter",selection:!0}})}const O=["\\.",",",";","\\?","!","\\)","\\]"," "].join("|"),B=new RegExp(" (".concat(O,")$"));function L(e){const t=a.Nb(e.textValue,e.matchIndex-1,e.matchIndex),n=r.a.last(t.tokensInsideRange);if(n&&a.yb(n))return e.match[1]}function R(e){const{environment:t,store:n,transaction:o}=e;let s;if(n.isTable("block")){const e=n.getRecordStoreAtRootPath().getValue();s=e&&e.type}if("code"!==s||C.default.isEditingCaption()){"callout"!==s&&(E({environment:t,store:n,toBlockType:()=>m.a.toDo,matchRegex:/^\[\]$/,insertTextAfter:!1,transaction:o}),E({environment:t,store:n,toBlockType:()=>m.a.subSubHeader,matchRegex:/^### $/,insertTextAfter:!1,transaction:o}),E({environment:t,store:n,toBlockType:()=>m.a.subHeader,matchRegex:/^## $/,insertTextAfter:!1,transaction:o}),E({environment:t,store:n,toBlockType:()=>m.a.header,matchRegex:/^# $/,insertTextAfter:!1,transaction:o}),E({environment:t,store:n,toBlockType:()=>m.a.toggle,matchRegex:/^> $/,insertTextAfter:!1,transaction:o}),E({environment:t,store:n,toBlockType:()=>m.a.quote,matchRegex:/^["“|] $/,insertTextAfter:!1,transaction:o}),E({environment:t,store:n,toBlockType:()=>m.a.bulletedList,matchRegex:/^[-\*\+] $/,insertTextAfter:!1,transaction:o}),E({environment:t,store:n,matchRegex:/^(\d+)\. $/,insertTextAfter:!1,transaction:o,toBlockType:e=>{const t=parseInt(e[1]);if(n.table!==S.a)return;const o=n.getRecordStoreAtRootPath(),a=i.a.fromRecordStore(o),s=a.getType();if(s===m.a.header||s===m.a.subHeader||s===m.a.subSubHeader)return;const l=a.getParentBlockStore();if(!l)return;const c=l.getContentStores(),d=c.findIndex(e=>e.id===a.id);if(-1===d)return;const u=c.slice(0,d),p=r.a.findLastIndex(u,e=>e.getType()!==m.a.numberedList);return u.length-(p+1)+1===t?m.a.numberedList:void 0}}),E({environment:t,store:n,toBlockType:()=>m.a.code,matchRegex:/^```$/,insertTextAfter:!1,transaction:o}),E({environment:t,store:n,toBlockType:()=>m.a.divider,matchRegex:/^—-$/,insertTextAfter:!0,transaction:o}));const e=w.getSubstitutions();for(const r of e)_({environment:t,store:n,transaction:o,regex:r.replace,length:r.length,replace:r.with,analyticsType:"custom_substitution"});_({environment:t,store:n,transaction:o,regex:/--$/,length:2,replace:"—",analyticsType:"em_dash"}),_({environment:t,store:n,transaction:o,regex:/->$/,length:2,replace:"→",analyticsType:"right_arrow"}),_({environment:t,store:n,transaction:o,regex:/<->$/,length:3,replace:"↔",analyticsType:"right_left_arrow"}),_({environment:t,store:n,transaction:o,regex:/←>$/,length:2,replace:"↔",analyticsType:"right_left_arrow"}),_({environment:t,store:n,transaction:o,regex:/=>$/,length:2,replace:"⇒",analyticsType:"right_arrow_double"}),_({environment:t,store:n,transaction:o,regex:/<-$/,length:2,replace:"←",analyticsType:"left_arrow"}),_({environment:t,store:n,transaction:o,regex:/>=$/,length:2,replace:"≥",analyticsType:"greater_than_or_equal_to"}),_({environment:t,store:n,transaction:o,regex:/<=$/,length:2,replace:"≤",analyticsType:"less_than_or_equal_to"}),_({environment:t,store:n,transaction:o,regex:/!=$/,length:2,replace:"≠",analyticsType:"not_equal"}),function(e){_({environment:e.environment,store:e.store,transaction:e.transaction,regex:B,length:2,replace:L,analyticsType:"mention_punctuation"})}({environment:t,store:n,transaction:o}),T({environment:t,delimiter:"`",annotation:[a.b.Code],store:n,transaction:o}),T({environment:t,delimiter:"**",annotation:[a.b.Bold],store:n,transaction:o}),T({environment:t,delimiter:"*",annotation:[a.b.Italic],store:n,transaction:o}),T({environment:t,delimiter:"__",annotation:[a.b.Bold],store:n,transaction:o}),T({environment:t,delimiter:"_",annotation:[a.b.Italic],store:n,transaction:o}),T({environment:t,delimiter:"~",annotation:[a.b.Strike],store:n,transaction:o}),P({environment:t,delimiter:"$$",store:n,transaction:o}),function(e){const{environment:t,store:n,transaction:o}=e,i="editing"===C.default.state.mode&&C.default.state.selection;if(!i)return;const s=n.getValue(),l=r.a.toArray(a.Y(s)).slice(0,i.endIndex).join("");if(a.mb(s,i.startIndex,i.endIndex,"c"))return;const d=/([^ ]+) $/.exec(l);if(!d)return;const u=d[1],h=a.T(u);if(!h)return;const{value:m,href:g}=h,b=f(l,l.indexOf(m)),v=b+r.a.toArray(m).length,y={startIndex:b,endIndex:v};a.mb(s,b,v,"a")||(Se({environment:t,store:n,annotation:["a",g],selection:y,transaction:o}),p.m({store:n,selection:i}),c.jc(t,{href:g}))}({environment:t,store:n,transaction:o})}}var D=n("ZBwS"),A=n.n(D);const j=new A.a,{DIFF_DELETE:F,DIFF_INSERT:V,DIFF_EQUAL:N}=A.a,U=function(e,t){const n=z(e,{count:0,encoding:{},decoding:{}}),o=n.encodedString,r=z(t,n.cypher),a=r.encodedString,i=r.cypher;return function(e,t){return e.map(([e,n])=>[e,X(n,t)])}(j.diff_main(o,a),i).filter(([e,t])=>""!==t)};function z(e,t){const n=r.a.toArray(e).map(e=>{const n=t.encoding[e];if(n)return n;{const n=String.fromCharCode(t.count);return t.count++,t.encoding[e]=n,t.decoding[n]=e,n}});if(t.count>65535)throw new Error("This string has way too many different characters.");const o=n.join("");return{cypher:t,encodedString:o}}function X(e,t){return e.split("").map(e=>t.decoding[e]).join("")}var Y=n("ALSZ"),H=n("sQnJ"),q=n("UWl0"),W=n("X6Ne"),G=n("LNOE"),Z=n("7TLZ"),K=n("AmMh"),J=n("w5u6"),Q=n("I6hv"),$=n("bmSz"),ee=n("Cm2F"),te=n("S26v"),ne=n("H4VD"),oe=n("tP7q"),re=n("/YYm"),ae=n("m8rc"),ie=n("A9TN"),se=n("wiBh"),le=n("wllP"),ce=n("Rnyl"),de=n("xstG"),ue=n("RI9y"),pe=n("W7EN"),he=n("daQZ"),me=n("DyNK");function fe(e){const{environment:t,store:n,selection:o,transaction:i}=e;if(o.startIndex!==o.endIndex){const e=n.getValue(),l=a.p(e,o.startIndex,o.endIndex);ye({environment:t,store:n,value:l,transaction:i});const c=n.getRecordStoreAtRootPath();if("block"===c.table){const d=c,u=a.ab(e,o.startIndex,o.endIndex),p=r.a.without(a.M(u),...a.M(l));for(const e of p){const t=Object(s.c)(d,{table:$.a,id:e});G.b({discussionStore:t,transaction:i})}const h=d.getValue();if(h){const e=Object(pe.b)({parentBlock:h,oldTextValue:u,newTextValue:l,getRecordValue:n.getRecordValue});Object(he.d)({environment:t,transaction:i,parentStore:d,inlinePageIds:e})}}const d={startIndex:o.startIndex,endIndex:o.startIndex};p.m({store:n,selection:d})}else p.m({store:n,selection:o})}function ge(e){const t=C.default.state;"editing"===t.mode&&t.selection.startIndex!==t.selection.endIndex&&("start"===e.direction?C.default.setState({...t,selection:{...t.selection,endIndex:t.selection.startIndex}}):C.default.setState({...t,selection:{...t.selection,startIndex:t.selection.endIndex}}))}function be(e){const{environment:t,store:n,selection:o,disableMentions:i,disableDateMentions:s,disableDateReminderMentions:l,disableSlashCommands:c,disableEmojiCommands:d,string:u,transaction:h}=e,m=n.getValue();if("editing"!==C.default.state.mode)return;const f=a.Kb(u),b=r.a.toArray(f).length;if(fe({environment:t,store:n,selection:o,transaction:h}),b>0){const e=Object(se.c)(),r=a.n(f,e),u=n.getValue();ye({environment:t,store:n,value:a.nb(u,[r],o.startIndex),transaction:h});const v={startIndex:o.startIndex+b,endIndex:o.startIndex+b};p.m({store:n,selection:v}),function(e){const{store:t,transaction:n,environment:o}=e;n.postSubmitActions.push(()=>{const e=g.create(o);R({environment:o,store:t,transaction:e}),g.commit({environment:o,transaction:e,undoCheckpoint:!0})})}({environment:t,store:n,transaction:h}),i||Y.c({environment:t,textStore:n,oldSelection:o,oldTextValue:m,disableDateMentions:s,disableDateReminderMentions:s||Boolean(l)}),c||H.c({environment:t,textStore:n,oldSelection:o,oldTextValue:m}),d||q.b({environment:t,textStore:n,oldSelection:o,oldTextValue:m})}}function ve(e){const{environment:t,store:n,index:o,transaction:i}=e,s=e.tokens.map(a.Lb),l=n.getValue()||[];ye({environment:t,store:n,value:a.nb(l,s,o),transaction:i});const c=n.getRecordStoreAtRootPath();if("block"===c.table){const e=c,t=r.a.without(a.M(s),...a.M(l));for(const n of t){const t=Z.g(e);g.addOperation({transaction:i,store:t,operation:{pointer:t.pointer,path:t.path,command:"listAfter",args:{id:n,after:void 0}}})}}const d=a.I(s).length;p.m({store:n,selection:{startIndex:o+d,endIndex:o+d}})}function ye(e){const{environment:t,store:n,value:o,transaction:r}=e;if(k.c({store:n,transaction:r,value:a.Jb(o)}),n.isTable("block")){const e=n.getRecordStoreAtRootPath().getValue();e&&c.Bb(t,{block_id:e.id,type:e.type})}}function Se(e){const{environment:t,store:n,selection:o,annotation:i,transaction:s}=e,l=n.getValue();if(l){const e=i,c=a.F(e),{tokensInsideRange:d}=a.Nb(l,o.startIndex,o.endIndex);let u;u=r.a.every(d,e=>a.db(e).some(e=>a.F(e)===c))?d.map(e=>{const t=a.fb(e),n=a.db(e).filter(e=>a.F(e)!==c);return a.n(t,n)}):d.map(t=>{const n=a.fb(t),o=a.db(t).filter(e=>a.F(e)!==c);return o.push(e),a.n(n,o)});const p=n.getValue(),h=a.p(p,o.startIndex,o.endIndex);ye({environment:t,store:n,value:a.nb(h,u,o.startIndex),transaction:s})}}function we(e){const{environment:t,blocks:n,annotation:o,transaction:i}=e,s=a.F(o),l=r.a.compact(n.map(e=>{const t=e.getTitleStore();if(!t)return;const n=t.getValue();return n?{block:e,titleStore:t,titleValue:n}:void 0})),c=l.every(({titleValue:e})=>e.every(e=>a.db(e).some(e=>a.F(e)===s)));for(const{titleValue:r,titleStore:d}of l){ye({environment:t,store:d,value:r.map(e=>{const t=a.fb(e),n=a.db(e).filter(e=>a.F(e)!==s);return c||n.push(o),a.n(t,n)}),transaction:i})}}function ke(e){const{environment:t,store:n,selection:o,type:r,transaction:i}=e,s=n.getValue();if(s){const{tokensInsideRange:e}=a.Nb(s,o.startIndex,o.endIndex),l=e.map(e=>{const t=a.db(e),n=a.fb(e),o=t.filter(e=>a.F(e)!==r);return a.n(n,o)}),c=a.p(s,o.startIndex,o.endIndex),d=a.nb(c,l,o.startIndex);if(ye({environment:t,store:n,value:d,transaction:i}),p.m({store:n,selection:o}),r===a.b.Link&&n.table===S.a){const e=n.getRecordStoreAtRootPath(),o=e.getValue();if(o){const r=Object(pe.b)({parentBlock:o,oldTextValue:s,newTextValue:d,getRecordValue:n.getRecordValue});Object(he.d)({environment:t,transaction:i,parentStore:e,inlinePageIds:r})}}}}function Ce(e){const{environment:t,store:n,selection:o,transaction:r}=e,i=a.hb(n.getValue()),s=a.Y(i),l=o.endIndex,c=s.length,{tokensInsideRange:d}=a.Nb(i,l,c);return d.length>0&&fe({environment:t,store:n,selection:{startIndex:l,endIndex:c},transaction:r}),{store:n,tokens:d}}function Me(e){const{environment:t,store:n,selection:o,deleteAfterSelectionResult:r,transaction:a}=e;ve({environment:t,store:n,tokens:r.tokens,index:o.startIndex,transaction:a})}function Ee(e){const{environment:t,store:n,closestSelectable:o,shiftKey:r,transaction:a}=e,i=r?d.f({blocks:[o],transaction:a}):d.c({blocks:[o],transaction:a});if(!i)return;const s=C.default.state;if("editing"===s.mode){const{selection:e}=s;J.default.afterNextFlush(()=>{const r=K.a.findSelectableFromStore(i[0]);if(u.j({store:o,replace:i[0]}),r){const o=Object(le.a)(r.props.store);o?(p.j({store:n}),p.m({store:o,selection:e})):u.o({environment:t,phase:l.SelectionPhase.Selected})}})}}function _e(e){const{environment:t,store:n,closestSelectable:o,transaction:r}=e,a=d.e({transaction:r,blocks:[o]});if(!a)return;const i=C.default.state;if("editing"===i.mode){const{selection:e}=i;J.default.afterNextFlush(()=>{const r=K.a.findSelectableFromStore(a[0]);if(u.j({store:o,replace:a[0]}),r){const o=Object(le.a)(r.props.store);o?(p.j({store:n}),p.m({store:o,selection:e}),C.default.emit()):u.o({environment:t,phase:l.SelectionPhase.Selected})}W.d()})}}function Te(e){const{environment:t,store:n,closestSelectable:o,transaction:r}=e,a=d.d({transaction:r,blocks:[o]});if(!a)return;const i=C.default.state;if("editing"===i.mode){const{selection:e}=i;J.default.afterNextFlush(()=>{const r=K.a.findSelectableFromStore(a[0]);if(u.j({store:o,replace:a[0]}),r){const o=Object(le.a)(r.props.store);o?(p.j({store:n}),p.m({store:o,selection:e}),C.default.emit()):u.o({environment:t,phase:l.SelectionPhase.Selected})}W.d()})}}function xe(e){const{environment:t,store:n,newValue:o,disableMentions:i,disableDateMentions:s,disableSlashCommands:l,disableEmojiCommands:c,disableDateReminderMentions:d,transaction:u}=e,m=n.getValue(),f=a.Y(m),g=U(f,o),b=C.default.state;if("editing"!==b.mode)return;let v=0;for(let a=0;a<g.length;a++){const e=g[a];if(v+r.a.toArray(e[1]).length>b.selection.startIndex){if(e[0]===N){const t=g[a-1],n=g[a+1];let o=g[a-2],i=g[a+2];if(n&&n[0]===V)for(i||(i=[N,""],g.push(i));v+r.a.toArray(e[1]).length>b.selection.startIndex&&e[1].endsWith(n[1]);)e[1]=e[1].slice(0,e[1].length-n[1].length),i[1]=n[1]+i[1];else if(t&&t[0]===V)for(o||(o=[N,""],g.unshift(o));v+r.a.toArray(e[1]).length>b.selection.startIndex&&e[1].startsWith(t[1]);)e[1]=e[1].slice(t[1].length),o[1]=o[1]+t[1],v-=r.a.toArray(t[1]).length}break}v+=r.a.toArray(e[1]).length}let y=!1,S=!1,w=0;for(const[p,h]of g)if(p===V)y=!0,be({environment:t,store:n,selection:{startIndex:w,endIndex:w},string:h,disableMentions:i,disableDateMentions:s,disableDateReminderMentions:d,disableSlashCommands:l,disableEmojiCommands:c,transaction:u}),w+=r.a.toArray(h).length;else if(p===F){y=!0,S=h===a.Gb,fe({environment:t,store:n,selection:{startIndex:w,endIndex:w+r.a.toArray(h).length},transaction:u})}else p===N&&(w+=r.a.toArray(h).length);if(y&&!S){const e=h.n(t);e&&(p.m({store:n,selection:e.selection}),e.forceEmitSelectionStore&&C.default.emit())}}function Ie(e){const{environment:t,store:n,selection:o,annotation:r,analyticsFrom:i,transaction:s}=e;fe({environment:t,store:n,selection:o,transaction:s});const l=[a.h(r),a.n(" ")];if(ve({environment:t,store:n,tokens:l,index:o.startIndex,transaction:s}),p.m({store:n,selection:{startIndex:o.startIndex+l.length,endIndex:o.startIndex+l.length}}),a.Eb(r)&&n.isTable("block")){const e=t.currentUser.id,o=a.jb(r),s=n.getRecordStoreAtRootPath().getValue();s&&e&&c.qc(t,{is_current_user:o===e,user_id:o,from:i,block_type:s.type})}else if(a.qb(r)&&n.isTable("block")){const e=a.J(r),o=n.getRecordStoreAtRootPath().getValue();o&&c.oc(t,{date:e,from:i,block_type:o.type})}else if(a.zb(r)&&n.isTable("block")){const e=a.V(r),o=n.getRecordStoreAtRootPath().getValue();o&&c.pc(t,{page_id:e,from:i,block_type:o.type})}}function Pe(e){const{environment:t,store:n,selection:o,emoji:r,transaction:i}=e;fe({environment:t,store:n,selection:o,transaction:i});const s=[a.n(r)];ve({environment:t,store:n,tokens:s,index:o.startIndex,transaction:i}),p.m({store:n,selection:{startIndex:o.startIndex+s.length,endIndex:o.startIndex+s.length}})}function Oe(e){const{environment:t,store:n,selection:o,transaction:i}=e,s=Object(se.f)(n,o);let l=r.a.toArray(a.cb(n.getValue())),c=0;for(const a of s)if(c++,0===a)l.unshift("\t");else{const e=a+c;l=[...r.a.slice(l,0,e),"\t",...r.a.slice(l,e)]}xe({environment:t,store:n,newValue:a.Kb(l.join("")),disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:i}),p.m({store:n,selection:{startIndex:o.startIndex+1,endIndex:o.endIndex+c}})}function Be(e){const{environment:t,store:n,selection:o,transaction:i}=e,s=Object(se.f)(n,o);let l=r.a.toArray(a.cb(n.getValue())),c=0,d=0;for(const a of s){const e=a-c;0===e?"\t"===l[0]?(l=r.a.slice(l,1),c+=1):" "===l[0]&&" "===l[1]?(l=r.a.slice(l,2),c+=2):" "===l[0]&&(l=r.a.slice(l,1),c+=1):"\t"===l[e+1]?(l=[...r.a.slice(l,0,e+1),...r.a.slice(l,e+2)],c+=1):" "===l[e+1]&&" "===l[e+2]?(l=[...r.a.slice(l,0,e+1),...r.a.slice(l,e+3)],c+=2):" "===l[e+1]&&(l=[...r.a.slice(l,0,e+1),...r.a.slice(l,e+2)],c+=1),a<=o.startIndex&&(d=c)}xe({environment:t,store:n,newValue:a.Kb(l.join("")),disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:i}),p.m({store:n,selection:{startIndex:o.startIndex-d,endIndex:o.endIndex-c}})}function Le(e){const{environment:t,event:n,interactiveToken:o,store:r,parentStore:l,canEdit:c}=e,d=a.db(o.textToken),u=a.A(d),h=a.C(d),m=a.y(d).map(e=>a.L(e));if(a.tb(o.textToken)&&!n.shiftKey&&!n.altKey){if(n.preventDefault(),de.b.state.open)ce.a();else{const e=o.textToken,n=document.createRange(),a=o.node.parentNode,i=o.tokenIndex+1;n.setStart(a,o.tokenIndex),n.setEnd(a,i),ue.set(n,t.device),p.q({environment:t,store:r}),J.default.afterNextFlush(()=>{"editing"===C.default.state.mode&&ce.b({environment:t,selectedToken:{token:e,position:C.default.state.selection},selectionRect:o.node.getBoundingClientRect(),analyticsFrom:"click_token"})})}return}const f=m.find(e=>{const t=Object(s.c)(l||r,{table:$.a,id:e}).getValue();return Boolean(t&&!t.resolved)});if(f){const e=Object(le.c)(r),o=(u||h)&&(Q.b.state.open||t.device.isMobile);if(e&&!o){const o=n.target&&n.target.getBoundingClientRect();return ee.c({environment:t,blockStore:e,analyticsFrom:"existing_comment",discussionId:f,rect:o,shouldFocusDiscussion:!1}),void n.preventDefault()}}let g;if(u&&(g=te.i({str:a.R(u),allowNoProtocol:!0})),h){const e=a.V(h),t=i.a.createChildStore(l||r,{table:S.a,id:e});g=Object(re.a)({store:t})}if(g){n.preventDefault(),p.f(t),Object(me.a)();const{device:e}=t;if(e.isIOS&&p.e(),"page"===Object(oe.l)({url:g,baseUrl:ie.default.baseURL,isMobile:t.device.isMobile,protocol:ie.default.protocol,currentUrl:window.location.href}).name){const e=n.metaKey||n.ctrlKey;ne.navigate({environment:t,url:g,metaClick:e})}else ne.navigateToExternalURL({environment:t,url:g})}else if(c){const{textToken:e,node:i,tokenIndex:s}=o,l=a.db(e);if(a.x(l))return ae.b(t,{originRect:i.getBoundingClientRect(),textStore:r,tokenIndex:s,allowReminders:"comment"!==r.table}),void n.preventDefault()}}function Re(e){Object(me.b)({token:e.interactiveToken,store:e.store})}function De(e){Object(me.a)()}n.d(t,"f",(function(){return fe})),n.d(t,"d",(function(){return ge})),n.d(t,"n",(function(){return be})),n.d(t,"o",(function(){return ve})),n.d(t,"s",(function(){return ye})),n.d(t,"a",(function(){return Se})),n.d(t,"b",(function(){return we})),n.d(t,"r",(function(){return ke})),n.d(t,"e",(function(){return Ce})),n.d(t,"k",(function(){return Me})),n.d(t,"t",(function(){return Ee})),n.d(t,"q",(function(){return _e})),n.d(t,"p",(function(){return Te})),n.d(t,"c",(function(){return xe})),n.d(t,"m",(function(){return Ie})),n.d(t,"l",(function(){return Pe})),n.d(t,"j",(function(){return Oe})),n.d(t,"u",(function(){return Be})),n.d(t,"g",(function(){return Le})),n.d(t,"i",(function(){return Re})),n.d(t,"h",(function(){return De}))},AlLG:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("g4rC"),i=n("wldR"),s=n("zEGb"),l=n("G4GV"),c=n("Sb6f");class d extends i.a{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:a.a,nameInputStore:l.a}}renderComponent(){const{device:e}=this.environment,{propertySchema:t,showIcon:n,style:o}=this.props,a=e.isMobile?16:14;return r.a.createElement("div",{style:{...d.baseStyle,fontSize:a,...o}},n&&r.a.createElement("div",{style:this.getIconStyle()},this.renderIcon()),r.a.createElement("div",{style:{...c.a.textOverflowStyle}},t.name))}renderIcon(){const{device:e}=this.environment,{propertySchema:t}=this.props,n=e.isMobile?16:14;return r.a.createElement(s.a,{type:t.type,size:this.props.iconSize||n,theme:this.theme})}getIconStyle(){return{marginRight:6}}}d.baseStyle={display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0},t.a=d},AmMh:function(e,t,n){"use strict";var o=n("LvDl"),r=n.n(o),a=n("Uv1v"),i=n("sjR4"),s=n("43ch");class l extends a.a{findSelectableFromStore(e){return this.findComponent(t=>t.props.store===e)}findScrollToSelectableFromStore(e){return this.findComponent(t=>t.props.store===e&&t.props.canSelect&&!t.props.disableScrollToReveal&&t.getContextSelectableContainer()===i.default.state.defaultContainer)}findScrollToSelectablesFromIds(e){return this.getComponents().filter(t=>e.includes(t.props.store.id)&&t.props.canSelect&&!t.props.disableScrollToReveal&&t.getContextSelectableContainer()===i.default.state.defaultContainer)}findSelectablesFromStore(e){return this.getComponents().filter(t=>t.props.store===e)}findNodeFromStore(e){const t=this.findSelectableFromStore(e);if(t)return t.getNode()}getRectFromStore(e){const t=this.findNodeFromStore(e);if(t&&t instanceof Element)return t.getBoundingClientRect()}findEditableStoreWithin(e){const t=this.findSelectableFromStore(e);if(t){const e=s.a.findEditableWithinSelectable(t);if(e)return e.props.store}}findSelectablesFromIds(e){const{defaultContainer:t}=i.default.state,n=this.getSortedComponents();return r.a.compact(e.map(e=>n.find(n=>{const o=n.props.store,r=n.getContextSelectableContainer();return Boolean(o&&o.id===e&&r===t)})))}}t.a=new l},AoM6:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("8N42"),l=n("ikHm"),c=n("wldR"),d=n("wPEN"),u=n("zmp8"),p=n("AjLL"),h=n("J9+s"),m=n("y6Dp"),f=n("vJXr");class g extends c.a{renderComponent(){let e;return f.a.state.online?e=r.a.createElement(h.FormattedMessage,{defaultMessage:"Oops, there was an error loading this page. Refresh to load it again.",id:"pageErrorIndicator.loadingError.message"}):(m.uc(this.environment,{type:"page_error_indicator"}),e=this.environment.PersistedRecordCache?r.a.createElement(h.FormattedMessage,{defaultMessage:"Please go online to load this page, then you'll be able to access it while offline.",id:"pageOfflineIndicator.hasLocalData.message"}):r.a.createElement(h.FormattedMessage,{defaultMessage:"Oops, you seem to be offline. Please go online to view this page.",id:"pageOfflineIndicator.noLocalData.message"})),r.a.createElement("div",{style:this.getContainerStyle()},r.a.createElement("div",{style:this.getGreetingStyle()},e))}isLoggedIn(){return this.environment.currentUser.isLoggedIn()}getTopbarHeight(){const{device:e}=this.environment;return e.isElectronMac?p.a.desktopMacHeight:p.a.defaultHeight}getContainerStyle(){const{device:e}=this.environment;return{height:"100%",minHeight:this.isLoggedIn()?"calc(100vh - ".concat(2*this.getTopbarHeight(),"px)"):"100vh",paddingLeft:e.isMobile?16:32,paddingRight:e.isMobile?16:32,display:"flex",justifyContent:"center",alignItems:"center"}}getGreetingStyle(){const{device:e}=this.environment;return{fontSize:e.isMobile?18:32,marginBottom:8,textAlign:"center",color:u.g.uiBlack,maxWidth:640,lineHeight:1.3}}}var b=g,v=n("XBB3"),y=n("sV9r"),S=n("8fuX"),w=n("zK7c"),k=n("X6Ne"),C=n("wlCD"),M=n("ttM1"),E=n("udrG"),_=n("Qc1K"),T=n("lBar"),x=n("QcDD"),I=n("Iece"),P=n("UcZb"),O=n("p0Uu"),B=n("szb2"),L=n("cy36"),R=n("KSnN"),D=n("7M94"),A=n("UiOz"),j=n("Rtjx"),F=n("NOLh"),V=n("WM0W"),N=n("1k9p"),U=n("gHFd"),z=n("1G+a"),X=n("yioD"),Y=n("3Z0Q");class H extends c.a{constructor(){super(...arguments),this.pageContextStore=this.createComputedStore(()=>{const{presenceStore:e,pageVisitStore:t,currentSpaceStore:n,currentSpaceViewStore:o}=x.default.state;return{pageStore:this.props.store,spaceStore:n,spaceViewStore:o,presenceStore:e,pageVisitStore:t,publicEditModeStore:this.publicEditModeStore}}),this.publicEditModeStore=this.createComputedStore(()=>X.a.getMode(this.environment,this.props.store)),this.renderPageSpinner=e=>{if(!e)return;return r.a.createElement("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"},key:"spinner"},r.a.createElement(C.a,{style:{opacity:.5,width:H.spinnerSize,height:H.spinnerSize}}))},this.renderContent=e=>{const{store:t}=this.props,{pageVisitStore:n,presenceStore:a,currentLoadingContainerStore:i}=x.default.state,s=t.getValue();return s&&s.type===E.a.copyIndicator?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:16,marginTop:"12vh"}},r.a.createElement(C.a,null),r.a.createElement("div",{style:{fontSize:14,marginTop:8,color:this.theme.mediumTextColor}},r.a.createElement(h.FormattedMessage,{defaultMessage:"Importing…",id:"frame.importingMessage"}))):this.isPageInErrorState(e)?r.a.createElement(b,{store:t}):r.a.createElement(o.Fragment,null,r.a.createElement(v.b,{context:v.a.Frame,store:t,loadingContainerStore:i,paddingBottom:v.b.paddingBottom(this.environment),paddingLeft:v.b.defaultPaddingLeftRight(this.environment),paddingRight:v.b.defaultPaddingLeftRight(this.environment),pageCoverHeight:v.b.defaultPageCoverHeight(this.environment),disabled:!1}),r.a.createElement(y.a,{pageVisitStore:n,presenceStore:a}))},this.handleScrollerMount=e=>{O.a.PageScroller=e},this.isOffline=this.createComputedStore(()=>!f.a.state.online)}willUnmount(){s.a({rootStore:this.props.store})}renderComponent(){const{device:e,RouterStore:t}=this.environment,{isMobile:n}=e,{store:a,collectionViewStore:s,routerState:l}=this.props,{historyState:c}=l,{currentLoadingContainerStore:u,pageVisitStore:h,presenceStore:m,currentSpaceStore:f,currentSpaceViewStore:g}=x.default.state,b=this.isPageInErrorState(void 0),v=this.environment.currentUser.isLoggedIn(),y=c&&i.a.isNumber(c.scrollTop)?c.scrollTop:void 0,{currentBlockStore:E}=x.default.state;return r.a.createElement(N.a,{value:this.pageContextStore.state},r.a.createElement(F.a,{isVisible:!0,animationStyle:{width:this.environment.WindowSizeStore.state.width-Object(j.b)(this.environment)},render:()=>r.a.createElement("div",{style:this.getStyle(),className:D.B},!n&&r.a.createElement(p.a,{store:a,collectionViewStore:s,spaceStore:f,spaceViewStore:g,pageVisitStore:h,presenceStore:m,showSidebarButton:!Object(j.f)(this.environment),isElectron:e.isElectron,isInvalidPage:b,banners:A.a.state.banners}),n&&r.a.createElement(U.LazyTopbarMobile,{store:a,collectionViewStore:s,spaceStore:f,spaceViewStore:g,pageVisitStore:h,presenceStore:m,isInvalidPage:b,shouldShowMoveTo:Boolean(l.route.showMoveTo&&a.canEdit()&&a.isEmptyPage()&&a.isEmptyTitle()&&v),saveParent:Boolean(l.route.saveParent),banners:A.a.state.banners,isOffline:this.isOffline.state}),r.a.createElement(w.a,{store:a,key:a.id,isDefaultContainer:!0,disable:Boolean(B.c.state.open||L.a.state.open),render:e=>r.a.createElement(d.a,{pageStore:a,pageVisitStore:h,scrollToBlockIds:R.a(t),scrollToPosition:y,store:u,onReady:()=>{_.a(this.environment)},onDone:()=>{this.props.store.isCollectionView()||"rendered"===x.default.state.renderPhase||x.default.setState({...x.default.state,renderPhase:"rendered"})},initialChunkSize:30,incrementChunkSize:30,render:({error:t,ready:n,initialRequestCompleted:a,endOfResultsReached:i})=>r.a.createElement(o.Fragment,null,r.a.createElement(S.b,Object.assign({ref:this.handleScrollerMount,disableScroll:k.e(this.environment)||!n,type:this.useSeparateHorizontalScroller()?S.a.Y:S.a.All,style:this.getScrollerStyle(n),store:I.a},e),a&&this.renderContent(t),n&&!i&&r.a.createElement(C.a,{style:this.getSpinnerStyle()})),r.a.createElement(M.a,{show:!n,showDelay:100,showHold:0,render:this.renderPageSpinner}))})}),this.renderMobileActionBar(),this.shouldShowMobileBottomBar()&&v&&E&&r.a.createElement(U.LazyMobileBottomBar,{store:E}))}))}renderMobileActionBar(){const e=this.environment.currentUser.isLoggedIn(),{isMobile:t,isReactNative:n}=this.environment.device;if(!e||!t)return null;const o=r.a.createElement(U.LazyMobileActionBar,{position:n?z.a.Bottom:z.a.Floating,currentBlockStore:this.props.store});return Object(Y.b)({environment:this.environment})?r.a.createElement(U.LazyNativeMobileActionBar,{currentBlockStore:this.props.store,fallbackRenderer:()=>o}):o}isPageInErrorState(e){const{store:t}=this.props,{currentLoadingContainerStore:n}=x.default.state;return!(!e||!n||n.state.endOfResultsReached)||(!t.getValue()||!t.canRead())}getPageViewBlockBottomPadding(){return"number"==typeof v.b.paddingBottom(this.environment)?"".concat(v.b.paddingBottom(this.environment),"px"):v.b.paddingBottom(this.environment)}shouldShowMobileBottomBar(){const{isTablet:e,isReactNative:t,isAndroid:n}=this.environment.device;return t&&(e||n)}getStyle(){const{device:e}=this.environment,t={flexGrow:1,flexShrink:1,display:"flex",flexDirection:"column",background:this.theme.contentBackground,zIndex:l.e,height:"100vh",maxHeight:"100%",...e.isTablet&&{position:"relative"},...B.c.state.open&&V.a.getMode(this.environment)===B.a?{paddingRight:700}:{}};if(!Object(j.a)(this.environment)){const e=P.c.state;Object(j.g)(this.environment)||(t.boxShadow=this.theme.mediumBoxShadow),t.pointerEvents=e?"none":"auto",t.transform="translateX(0)"}return t}useSeparateHorizontalScroller(){return this.props.store.isCollectionView()&&!T.b(this.environment)}getScrollerStyle(e){const t={display:"flex",flexDirection:"column",zIndex:1,flexGrow:1,position:"relative",...e?{}:H.hiddenStyle};return this.props.store.isCollectionView()?t:{...t,alignItems:"center"}}getSpinnerStyle(){return{zIndex:1,opacity:.5,width:H.spinnerSize,height:H.spinnerSize,marginTop:"calc(-".concat(H.spinnerSize," / 2 - ").concat(this.getPageViewBlockBottomPadding()," / 2)"),marginBottom:24,marginLeft:"auto",marginRight:"auto"}}}H.spinnerSize="1.375em",H.hiddenStyle={opacity:0,pointerEvents:"none",height:0};t.a=H},AvkE:function(e,t,n){"use strict";n.d(t,"m",(function(){return y})),n.d(t,"e",(function(){return S})),n.d(t,"k",(function(){return C})),n.d(t,"n",(function(){return M})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return T})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return P})),n.d(t,"d",(function(){return O})),n.d(t,"j",(function(){return B})),n.d(t,"f",(function(){return L})),n.d(t,"l",(function(){return R})),n.d(t,"i",(function(){return D}));n("3bBZ"),n("4Brf");var o=n("LvDl"),r=n.n(o),a=n("6CqZ"),i=n("7L5k"),s=n("HRSx"),l=n("FUUC"),c=n("6SEd"),d=n("njgS"),u=n("nFzZ"),p=n("VpIZ"),h=n("z22Z"),m=n("cBa6"),f=n("bmSz"),g=n("5/h/"),b=n("mcFc"),v=(n("VhAz"),n("g90h"));u.d;function y(e,t){const{edits:n,index:o}=e,d=[...t&&t.edits||[],...n],u=i.b(d),p=u[0],h=p&&p.timestamp.toString()||t&&t.start_time||n[0].timestamp,m=r.a.last(u),g=m&&m.timestamp.toString()||t&&t.end_time||h,y=w(n[0]),S=function(e){const{space_id:t,navigable_block_id:n,collection_id:o,collection_row_id:r,top_level_block_id:a,discussion_id:i}=e;return n?{parent_table:s.a,parent_id:n}:a?{parent_table:s.a,parent_id:a}:r?{parent_table:s.a,parent_id:r}:i?{parent_table:f.a,parent_id:i}:o?{parent_table:c.a,parent_id:o}:{parent_table:l.a,parent_id:t}}(n[0]),C=a.d[n[0].type],M=(E=C,"following"===b.b[E]||"commented"===E);var E;return{type:C,index:o,start_time:h.toString(),end_time:g.toString(),edits:u.slice(0,1e3),invalid:k(u),shard_id:Object(v.e)(y.space_id),context_id:a.e(y),in_log:M,...y,...S}}function S(e){if("collection-changed"===e.type&&e.collection_data){if(!e.collection_data.before&&!e.collection_data.after)return!1;if(!e.collection_data.before||!e.collection_data.after)return!0;return M(e.collection_data.before.description,e.collection_data.after.description)}if("collection-created"===e.type&&e.collection_data){const t=e.collection_data.description;return Boolean(t)}return!1}function w(e){return u.o(e,a.b)}function k(e){if(0===i.a(e).length)return!0;{const t=e[0];if("mention-deleted"===t.type)return!0;if("mention-created"===t.type){if(t.authors&&t.authors.some(e=>e.table===g.a&&e.id===t.mentioned_user_id))return!0}else if(e.every(e=>"comment-deleted"===e.type))return!0}return!1}function C(e,t){return function(e){const t=e&&e.edits||[];return u.s(r.a.flatten(t.map(e=>e.authors||[])))}(e).some(e=>e.table===g.a&&e.id===t)}function M(e,t){const n=m.bb(e||[]),o=m.bb(t||[]);return!r.a.isEqual(n,o)}function E(e){const{before:t,after:n,schema:o}=e,r=[];return(o?Object.keys(o):d.r).forEach(e=>{M(t&&t.properties&&t.properties[e],n&&n.properties&&n.properties[e])&&r.push(e)}),r}const _=["page_icon"];function T(e){const{before:t,after:n}=e,o=[];return _.forEach(e=>{(t.format&&t.format[e])!==(n.format&&n.format[e])&&o.push(e)}),o}function x(e){const{before:t,after:n,property:o}=e;return M(t&&t.properties&&t.properties[o],n&&n.properties&&n.properties[o])}function I(e){return E(e).length>0}function P(e){return T(e).length>0}function O(e){const{before:t,after:n}=e,o=t?t.type:void 0,r=n?n.type:void 0,a=t&&n&&p.z(t)&&p.z(n);return o&&r&&o!==r&&!a}function B(e){const{activity:t,getRecordValue:n,baseUrl:o}=e;if("top-level-block-created"===t.type||"top-level-block-deleted"===t.type){const e=n({table:s.a,id:t.top_level_block_id});if(e)return p.j({table:s.a,value:e,getRecordValue:n,baseUrl:o})}else if("commented"===t.type){const e=n({table:f.a,id:t.discussion_id});if(e){const t=n({table:s.a,id:e.parent_id});if(t)return p.j({table:s.a,value:t,getRecordValue:n,baseUrl:o,discussionId:e.id})}}else if("collection-row-created"===t.type||"collection-row-deleted"===t.type){const e=n({table:s.a,id:t.collection_row_id});if(e)return p.j({table:s.a,value:e,getRecordValue:n,baseUrl:o})}else if("permissions-edited"===t.type)if(t.navigable_block_id){const e=n({table:s.a,id:t.navigable_block_id});if(e)return p.j({table:s.a,value:e,getRecordValue:n,baseUrl:o})}else{const e=n({table:l.a,id:t.space_id});if(e)return p.j({table:l.a,value:e,getRecordValue:n,baseUrl:o})}else if("block-edited"===t.type){const e=n({table:s.a,id:t.navigable_block_id});if(e)return p.j({table:s.a,value:e,getRecordValue:n,baseUrl:o})}else if("user-mentioned"===t.type){const e=n({table:s.a,id:t.mentioned_block_id});if(e)return p.j({table:s.a,value:e,getRecordValue:n,baseUrl:o})}else if("reminder"===t.type){const e=n({table:s.a,id:t.reminder_block_id});if(e)return p.j({table:s.a,value:e,getRecordValue:n,baseUrl:o})}else if("user-invited"===t.type)if(t.navigable_block_id){const e=n({table:s.a,id:t.navigable_block_id});if(e)return p.j({table:s.a,value:e,getRecordValue:n,baseUrl:o})}else{const e=n({table:l.a,id:t.space_id});if(e)return p.j({table:l.a,value:e,getRecordValue:n,baseUrl:o})}return o||"/"}function L(e){switch(e.type){case"top-level-block-created":return"activity_top_level_block_created";case"top-level-block-deleted":return"activity_top_level_block_deleted";case"collection-row-created":return"activity_collection_row_created";case"collection-row-deleted":return"activity_collection_row_deleted";case"block-edited":return"activity_block_edited";case"permissions-edited":return"activity_permissions_edited";case"user-mentioned":return"activity_mention";case"commented":return"activity_comment";case"user-invited":return"activity_invited";case"collection-edited":return"collection_edited";case"collection-view-edited":return"collection_view_edited";case"collection-property-edited":return"collection_property_edited";case"reminder":return"activity_reminder";case"permission-group-edited":return"activity_permission_group_edited";case"page-locked":return"activity_page_locked";case"page-unlocked":return"activity_page_unlocked";case"email-edited":return"activity_email_edited";case"access-requested":return"activity_access_requested"}}function R(e){return"mentions"===b.b[e.type]}function D(e){const t=[],n=[],o=[];return e.forEach(e=>{!function(e){if("permission-created"===e.type){const t=e.permission_data;if("user_permission"===t.type&&h.d(t.role)&&e.authors&&1===e.authors.length&&e.authors[0].table===g.a&&e.authors[0].id===t.user_id)return!0}return!1}(e)?"permission-restriction-created"===e.type||"permission-restriction-deleted"===e.type?n.push(e):o.push(e):t.push(e)}),{autojoinEdits:t,inheritanceEdits:n,otherEdits:o}}},AwHX:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR");class i extends a.a{renderComponent(){const e=this.environment.device.isMobile?i.mobileStyle:i.desktopStyle;return r.a.createElement("div",{style:e},this.props.icon(this.props.styles))}}i.desktopStyle={width:16},i.mobileStyle={width:16},t.a=i},"B2+S":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1,rect:{top:0,right:0,left:0,bottom:0,width:0,height:0}}}}t.a=new r},B22C:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("wldR"),l=n("VyA+"),c=n("wXH4"),d=n("uSCg"),u=n("nFzZ"),p=n("g4rC");class h extends s.a{constructor(){super(...arguments),this.storeTypes={openStore:p.a},this.handleOriginEnter=e=>{this.openAfterTimeout()},this.handleExtensionEnter=e=>{this.props.onFocus(),this.openAfterTimeout()},this.handleWindowClick=e=>{if(this.environment.device.isPhone)return;const t=i.a.findDOMNode(this);this.isOpen()&&t&&!t.contains(e.target)&&this.handleClose()},this.handleWindowKeydown=e=>{13===e.keyCode&&this.isOpen()&&this.handleClose()},this.openAfterTimeout=e=>{this.clearTimeouts(),this.isOpen()||(e&&e.preventDefault&&e.preventDefault(),this.delayedOpenTimeout=setTimeout(this.handleOpen,h.delayToOpen))},this.closeAfterTimeout=()=>{this.clearTimeouts(),this.isOpen()&&(this.delayedCloseTimeout=setTimeout(this.handleClose,h.delayToClose))},this.handleOpen=()=>{this.clearTimeouts(),this.isOpen()||this.setOpen(!0)},this.handleClose=()=>{this.clearTimeouts(),this.isOpen()&&this.setOpen(!1)},this.handleFocusAndOpen=()=>{this.props.onFocus(),this.handleOpen()}}willMount(e){super.willMount(e),Boolean(e.disableDefaultClick)||window.addEventListener("click",this.handleWindowClick),window.addEventListener("keydown",this.handleWindowKeydown)}willUnmount(){super.willUnmount(),Boolean(this.props.disableDefaultClick)||window.removeEventListener("click",this.handleWindowClick),window.removeEventListener("keydown",this.handleWindowKeydown)}willMountOrUpdate(e){super.willMountOrUpdate(e),e.focused||this.closeAfterTimeout(),e.openOnFocus&&!this.props.focused&&e.focused&&this.openAfterTimeout()}renderComponent(){const{device:e}=this.environment,t=u.n(this.props,["onClick","children","renderOrigin","renderExtension"]),{renderOrigin:n,renderExtension:o}=this.props,a={...Object(d.a)({onMouseEnter:this.handleOriginEnter,onClick:this.handleFocusAndOpen},t),showExtensionArrow:!0};return r.a.createElement(l.a,{capture:this.props.focused,onEnter:this.isOpen()?void 0:this.openAfterTimeout,onRight:this.openAfterTimeout,onLeft:this.isOpen()?this.closeAfterTimeout:void 0,onEsc:this.isOpen()?this.closeAfterTimeout:void 0},r.a.createElement(c.c,{popupType:e.isPhone?c.c.PopupType.SlideUp:c.c.PopupType.Popup,open:this.isOpen(),origin:n(a),placementToOrigin:c.c.Placement.Right,alignmentToOrigin:c.c.Alignment.Center,originGap:0,disableMouseCapture:!0,preventBlockRenderQueueOnEnter:!0,preventScaleTransition:!e.isPhone,preventCaptureEsc:!0,render:()=>o({onMouseEnter:this.handleExtensionEnter},{close:this.closeAfterTimeout})}))}clearTimeouts(){clearTimeout(this.delayedOpenTimeout),clearTimeout(this.delayedCloseTimeout),this.delayedOpenTimeout=null,this.delayedCloseTimeout=null}isOpen(){return this.stores.openStore.state.open}setOpen(e){return this.stores.openStore.setState({...this.stores.openStore.state,open:e})}}h.delayToOpen=120,h.delayToClose=100,t.a=h},BJyN:function(e,t,n){"use strict";n("3bBZ"),n("UxlC"),n("E9XD"),n("4Brf");var o=n("q1tI"),r=n.n(o),a=n("J9+s"),i=n("LvDl"),s=n.n(i),l=n("3zPy"),c=n.n(l),d=n("/YYm"),u=n("IdIf"),p=n("XfKI"),h=n("HRSx"),m=n("njgS"),f=n("Cycz"),g=n("cBa6"),b=n("Sb6f"),v=n("sjR4"),y=n("NbyO"),S=n("qpkC"),w=n("lufz"),k=n("ovYF"),C=n("ICWk"),M=n("ox2z"),E=n("SR/M"),_=n("B22C"),T=n("gbGO"),x=n("VOS9"),I=n("wldR"),P=n("uSCg"),O=n("LeVO"),B=n("zmp8"),L=n("MeYt"),R=n("aEEb");class D extends I.a{renderComponent(){const{onClick:e,onMouseDown:t,onMouseEnter:n,onMouseLeave:o}=this.props;return r.a.createElement(O.a,{renderTooltip:()=>this.props.tooltip,placement:O.a.Placement.Bottom,delayThreshold:80,render:a=>{const i=Object(P.a)(a,{onMouseEnter:n,onMouseLeave:o}),{onMouseDown:s,...l}=i;return r.a.createElement(L.a,Object.assign({},l,{mobileFeedback:this.environment.device.isMobile,onClick:e,onMouseDown:i.onMouseDown||t,hovered:this.props.focused,style:{width:"100%",...this.environment.device.isMobile?D.mobileButtonStyle:D.desktopButtonStyle,justifyContent:"center",color:this.props.isActive?B.g.blue:"inherit"},className:"notranslate"}),r.a.createElement("div",{style:D.optionItemStyle},r.a.createElement("div",{style:{...this.props.style,height:25}},"Ag"),r.a.createElement(R.a,{isSmall:!0,style:{marginTop:4}},this.props.caption)))}})}}D.contextTypes=T.c,D.optionItemStyle={display:"flex",flexDirection:"column",alignItems:"center",minWidth:34,justifyContent:"flex-end"},D.desktopButtonStyle={padding:6,paddingTop:10,borderRadius:3,transition:"color 300ms, border 300ms",lineHeight:1},D.mobileButtonStyle={padding:16,paddingTop:20,transition:"color 300ms, border 300ms",lineHeight:1};var A,j=D,F=n("2Y+N"),V=n("2m/B"),N=n("Pqcg"),U=n("0KcA");!function(e){e[e.Insert=0]="Insert",e[e.TurnInto=1]="TurnInto"}(A||(A={}));class z extends I.a{constructor(){super(...arguments),this.renderMenuItem=e=>r.a.createElement(E.a,Object.assign({},Object(P.a)(e||{},this.props),{title:r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("span",{style:{marginRight:6}},this.props.title),this.props.showNewBadge&&r.a.createElement(U.a,{margin:!1})),icon:this.createIconWithThumbnail(this.props.thumbnail),caption:this.isInsertFormat()&&this.props.description})),this.renderTooltip=()=>r.a.createElement(N.a,{imageURL:this.props.tooltipPhoto,imageWidth:this.props.tooltipPhoto?140:void 0,imageHeight:100,caption:this.props.description})}renderComponent(){return this.environment.device.isMobile?this.renderMenuItem():r.a.createElement(O.a,{renderTooltip:this.renderTooltip,placement:O.a.Placement.Right,delayThreshold:0,render:e=>this.renderMenuItem(e)})}createIconWithThumbnail(e){const t=this.isInsertFormat();return r.a.createElement(V.a,{src:e,style:{display:"block",width:t?46:22,height:t?46:22,borderRadius:3,flexGrow:0,flexShrink:0,boxShadow:this.theme.borderBoxShadow,background:B.g.white}})}isInsertFormat(){return this.props.format===A.Insert}}z.Format=A,z.contextTypes={...T.c};var X=z,Y=n("I5tp");class H extends I.a{constructor(){super(...arguments),this.desktopStyle={display:"flex",justifyContent:"space-between",marginLeft:14,marginRight:14}}renderComponent(){return r.a.createElement(F.a,Object.assign({},this.props),r.a.createElement("div",{style:this.environment.device.isMobile?this.getMobileStyle():this.desktopStyle},this.props.children))}getMobileStyle(){return{display:"flex",justifyContent:"space-around",boxShadow:"0 1px 0 ".concat(this.theme.regularDividerColor),background:this.theme.popoverBackground}}}H.contextTypes={...T.c};var q=H,W=n("0lqH"),G=n("lEhh"),Z=n("QkuB"),K=n("iPhm"),J=n("l4I2"),Q=n("6rsX"),$=n("X6Ne"),ee=n("w5u6");var te=n("aZ00"),ne=n("gRnv"),oe=n("/mqF"),re=n("dsG5"),ae=n("GQP/"),ie=n("Rnyl"),se=n("4aFz"),le=n("X4ZB"),ce=n("ijm6"),de=n("CaJT"),ue=n("H4VD"),pe=n("q2qQ"),he=n("tzV5"),me=n("Ripq"),fe=n("sdlW"),ge=n("hi+p"),be=n("y6Dp"),ve=n("oFLp"),ye=n("sPNb"),Se=n("FcJC"),we=n("G414"),ke=n("MBf9"),Ce=n("wvIE"),Me=n("bK/N"),Ee=n("5w/s"),_e=n("hODJ"),Te=n("frzs"),xe=n("UQxX"),Ie=n("Nxch"),Pe=n("wweX"),Oe=n("iqZH"),Be=n("ALSZ"),Le=n("5Nka"),Re=n("mF3+"),De=n("nM47"),Ae=n("lODM"),je=n("PEWV"),Fe=n("QcDD"),Ve=n("DNgp"),Ne=n("3k5a"),Ue=n("UcZb"),ze=n("9vSW"),Xe=n("Catn"),Ye=n("BLi8"),He=n("PuL6"),qe=n("EmAo"),We=n("szb2"),Ge=n("RqMp"),Ze=n("vJXr");class Ke extends I.a{renderComponent(){return this.props.render(this.theme)}}var Je=Ke,Qe=n("Ajfl"),$e=n("BTUg"),et=n("EarS"),tt=n("7M94"),nt=n("qqdV"),ot=n("HTHG"),rt=n("Oy36"),at=n("vl8/"),it=n("yioD"),st=n("VBxf"),lt=n("nPEg"),ct=n("HSWF"),dt=n("UWl0"),ut=n("3O7B"),pt=n("qX+M"),ht=n("wFTq"),mt=n("daQZ"),ft=n("hU3F");class gt extends I.a{constructor(){super(...arguments),this.storeTypes={autocompleteQuery:ft.a.of("")},this.renderOrigin=e=>r.a.createElement(M.a,Object.assign({},e,{title:r.a.createElement(a.FormattedMessage,Object.assign({},this.props.title)),svg:Re.a.squarePlus,shortcuts:[]})),this.renderExtension=(e,t)=>{const{blocksToTransform:n,onAccept:o,...a}=this.props;return r.a.createElement(ht.a,Object.assign({},a,{targets:this.props.blocksToTransform,isAddTo:!0,isCreateIn:!0,isTurnIntoPage:!0,parentBlockId:void 0,onAccept:async e=>{o&&o(),t.close(),await mt.b(this.environment,{createInValue:e,blocksToTransform:n})},onCancel:t.close,autocompleteQuery:this.stores.autocompleteQuery.state,onAutocompleteQueryChange:this.handleAutocompleteQueryChange,onMouseEnter:e.onMouseEnter,desktopWidth:330,captureSelection:!0,restoreSelection:!0}))},this.handleAutocompleteQueryChange=e=>{this.stores.autocompleteQuery.setState(e)}}renderComponent(){return r.a.createElement(_.a,Object.assign({},this.props,{disableDefaultClick:!0,renderOrigin:this.renderOrigin,renderExtension:this.renderExtension}))}}var bt=gt,vt=n("R3bO"),yt=n("t96T"),St=n("7W+R"),wt=n("c6/J"),kt=n("y74B");n.d(t,"r",(function(){return $o})),n.d(t,"o",(function(){return er})),n.d(t,"b",(function(){return tr})),n.d(t,"p",(function(){return or})),n.d(t,"i",(function(){return pr})),n.d(t,"d",(function(){return hr})),n.d(t,"e",(function(){return fr})),n.d(t,"c",(function(){return br})),n.d(t,"g",(function(){return vr})),n.d(t,"k",(function(){return yr})),n.d(t,"f",(function(){return Sr})),n.d(t,"j",(function(){return wr})),n.d(t,"l",(function(){return kr})),n.d(t,"q",(function(){return Mr})),n.d(t,"m",(function(){return Er})),n.d(t,"h",(function(){return Tr})),n.d(t,"n",(function(){return xr})),n.d(t,"a",(function(){return Pr}));const Ct=Object(a.defineMessages)({mentionPersonTitle:{id:"action.mentionPerson.title",defaultMessage:"Mention a person"},mentionPersonDescription:{id:"action.mentionPerson.description",defaultMessage:"Ping someone so they get a notification."},mentionPageTitle:{id:"action.mentionPage.title",defaultMessage:"Mention a page"},mentionPageDescription:{id:"action.mentionPage.description",defaultMessage:"Mention a page and place in text."},insertEmojiTitle:{id:"action.insertEmoji.title",defaultMessage:"Emoji"},insertEmojiDescription:{id:"action.insertEmoji.description",defaultMessage:"Search for an emoji to place in text."},insertInlineEquationTitle:{id:"action.insertInlineEquation.title",defaultMessage:"Inline equation"},insertInlineEquationKeywords:{id:"action.insertInlineEquation.fuzzySearchKeyword",description:"Keywords used when filtering action menus via fuzzy search: these keywords identify token type for inserting inline equations typeset with LaTeX.",defaultMessage:"LaTeX Math Inline Equation $"},insertInlineEquationDescription:{id:"action.insertInlineEquation.description",defaultMessage:"Insert mathematical symbols in text."},dateOrReminderTitle:{id:"action.dateOrReminder.title",defaultMessage:"Date or reminder"},dateOrReminderDescription:{id:"action.dateOrReminder.description",defaultMessage:"Insert a date or reminder in text."},moveToName:{id:"action.moveTo.name",defaultMessage:"Move to"},enterName:{id:"action.enter.name",defaultMessage:"Enter"},deleteName:{id:"action.delete.name",defaultMessage:"Delete"},duplicateName:{id:"action.duplicate.name",defaultMessage:"Duplicate"},commentName:{id:"action.comment.name",defaultMessage:"Comment"},foregroundColorGrayKeywords:{id:"action.foregroundColor.gray.fuzzySearchKeyword",defaultMessage:"Grey Gray"},backgroundColorGrayKeywords:{id:"action.backgroundColor.gray.fuzzySearchKeyword",defaultMessage:"Grey Gray background"},backgroundColorDefaultKeywords:{id:"action.backgroundColor.default.fuzzySearchKeyword",defaultMessage:"Default Black White"},basicBlocksSection:{id:"action.section.basicBlocks",defaultMessage:"Basic blocks"},inlineSection:{id:"action.section.inline",defaultMessage:"Inline"},databaseSection:{id:"action.section.database",defaultMessage:"Database"},mediaSection:{id:"action.section.media",defaultMessage:"Media"},embedsSection:{id:"action.section.embeds",defaultMessage:"Embeds"},advancedBlocksSection:{id:"action.section.advancedBlocks",defaultMessage:"Advanced blocks"},turnIntoSection:{id:"action.section.turnInto",defaultMessage:"Turn into"},actionsSection:{id:"action.section.actions",defaultMessage:"Actions"},colorSection:{id:"action.section.color",defaultMessage:"Color"},backgroundSection:{id:"action.section.background",defaultMessage:"Background"},backgroundSectionKeywords:{id:"action.section.background.fuzzySearchKeywords",description:"Keywords used when filtering menus via fuzzy search: these keywords help find any actions that modifies the background color of text.",defaultMessage:"Color Background"},fontStyleSection:{id:"action.section.fontStyle",defaultMessage:"Style"},duplicateToName:{id:"action.duplicateTo.name",defaultMessage:"Duplicate to"},leaveName:{id:"action.leave.name",defaultMessage:"Leave"},syncPageName:{id:"action.syncPage.name",defaultMessage:"Save for offline"},resyncPageName:{id:"action.resyncPage.name",defaultMessage:"Refresh offline data"},unsyncPageName:{id:"action.unsyncPage.name",defaultMessage:"Remove from offline"},lockPageName:{id:"action.lockPage.name",defaultMessage:"Lock page"},unlockPageName:{id:"action.unlockPageName.name",defaultMessage:"Unlock page"},addtoFavoritesName:{id:"action.addtoFavorites.name",defaultMessage:"Add to Favorites"},removefromFavoritesName:{id:"action.removefromFavorites.name",defaultMessage:"Remove from Favorites"},renameName:{id:"action.rename.name",defaultMessage:"Rename"},edit:{id:"action.edit.name",defaultMessage:"Edit"},quickFindName:{id:"action.quickFind.name",defaultMessage:"Quick Find"},searchName:{id:"action.search.name",defaultMessage:"Search"},undoName:{id:"action.undo.name",defaultMessage:"Undo"},redoName:{id:"action.redo.name",defaultMessage:"Redo"},copyLinktoViewName:{id:"action.copyLinktoView.name",defaultMessage:"Copy link to view"},whatIsNotionName:{id:"action.whatIsNotion.name",defaultMessage:"What is Notion?"},openinMacAppName:{id:"action.openinMacApp.name",defaultMessage:"Open in Mac app"},openinWindowsAppName:{id:"action.openinWindowsApp.name",defaultMessage:"Open in Windows app"},zoomInName:{id:"action.zoomIn.name",defaultMessage:"Zoom in"},zoomOutName:{id:"action.zoomOut.name",defaultMessage:"Zoom out"},resetZoomName:{id:"action.resetZoom.name",defaultMessage:"Reset zoom"},openiniOSAppName:{id:"action.openiniOSApp.name",defaultMessage:"Open in iOS app"},openinAndroidAppName:{id:"action.openinAndroidApp.name",defaultMessage:"Open in Android app"},copyLinkName:{id:"action.copyLink.name",defaultMessage:"Copy link"},editPageName:{id:"action.editPage.name",defaultMessage:"Edit"},commentPageName:{id:"action.commentPage.name",defaultMessage:"Comment"},duplicatePageName:{id:"action.duplicatePage.name",defaultMessage:"Duplicate page"},backtoNotionName:{id:"action.backtoNotion.name",defaultMessage:"Back to Notion"},signUpOrLogInName:{id:"action.signUpOrlogIn.name",defaultMessage:"Sign up or log in"},pasteName:{id:"action.paste.name",defaultMessage:"Paste"},moveUpName:{id:"action.moveUp.name",defaultMessage:"Move up"},moveDownName:{id:"action.moveDown.name",defaultMessage:"Move down"},insertBelowName:{id:"action.insertBelow.name",defaultMessage:"Insert below"},fullScreenName:{id:"action.fullScreen.name",defaultMessage:"Full screen"},viewOriginalName:{id:"action.viewOriginal.name",defaultMessage:"View original"},downloadName:{id:"action.download.name",defaultMessage:"Download"},replaceName:{id:"action.replace.name",defaultMessage:"Replace"},configureName:{id:"action.configure.name",defaultMessage:"Configure"},captionName:{id:"action.caption.name",defaultMessage:"Caption"},fontDefaultName:{id:"action.setPageFont.default.fuzzySearchKeywords",description:"Keywords used when filtering menus via fuzzy search: these keywords identify the button that toggles the default font for the whole page.",defaultMessage:"Font Default"},fontDefaultCaption:{id:"action.setPageFont.default.caption",defaultMessage:"Default"},fontDefaultTooltip:{id:"action.setPageFont.default.tooltip",defaultMessage:"The default sans-serif workhorse"},fontSerifName:{id:"action.setPageFont.serif.fuzzySearchKeywords",description:"Keywords used when filtering menus via fuzzy search: these keywords identify the button that toggles the serif font for all text on the page.",defaultMessage:"Font Serif"},fontSerifCaption:{id:"action.setPageFont.serif.caption",defaultMessage:"Serif"},fontSerifTooltip:{id:"action.setPageFont.serif.tooltip",defaultMessage:"Good for publishing"},fontMonoName:{id:"action.setPageFont.mono.fuzzySearchKeywords",description:"Keywords used when filtering menus via fuzzy search: these keywords identify the button that toggles the monospaced font for all text on the page.",defaultMessage:"Font Mono"},fontMonoCaption:{id:"action.setPageFont.mono.caption",defaultMessage:"Mono"},fontMonoTooltip:{id:"action.setPageFont.mono.tooltip",defaultMessage:"Good for drafting and notes"},fontSmallTextKeywords:{id:"action.fontSmallText.fuzzySearchKeywords",description:"Keywords used when filtering menus via fuzzy search: these keywords identify the button that toggles the smaller font for all text on the page.",defaultMessage:"Font Small Text"},fontSmallTextLabel:{id:"action.fontSmallText.label",defaultMessage:"Small text"},customizePageLabel:{id:"action.customizePage.label",defaultMessage:"Customize page"},propertyVisibilityLabel:{id:"action.propertyVisibility.label",defaultMessage:"Toggle property visibility"},databaseLockLabel:{id:"action.databaseLock.label",defaultMessage:"Database lock"},fullWidthLabel:{id:"action.fullWidth.label",defaultMessage:"Full width"},wrapCodeKeywords:{id:"action.wrapCode.fuzzySearchKeywords",description:"Keywords used when filtering menus via fuzzy search: these keywords identify the setting for code blocks that toggles word wrapping at the end of lines.",defaultMessage:"Wrap Code"},wrapCodeLabel:{id:"action.wrapCode.label",defaultMessage:"Wrap code"},wrapCellsName:{id:"action.wrapCells.name",defaultMessage:"Wrap cells"},mergewithCSVName:{id:"action.mergewithCSV.name",defaultMessage:"Merge with CSV"},turnintoPageName:{id:"action.turnintoPage.name",defaultMessage:"Turn into page"},turnintoInlineName:{id:"action.turnintoInline.name",defaultMessage:"Turn into inline"},createLinkName:{id:"action.createLink.name",defaultMessage:"Create link"},createEquationName:{id:"action.createEquation.name",defaultMessage:"Create equation"},exportName:{id:"action.export.name",defaultMessage:"Export"},exportCaption:{id:"action.export.caption",defaultMessage:"PDF, HTML, Markdown"},importName:{id:"action.import.name",defaultMessage:"Import"},pageHistoryName:{id:"action.pageHistory.name",defaultMessage:"Page history"},showDeletedPagesName:{id:"action.showDeletedPages.name",defaultMessage:"Show deleted pages"},clearDateName:{id:"action.clearDate.name",defaultMessage:"Clear date"},editPropertyName:{id:"action.editProperty.name",defaultMessage:"Edit property"},filterName:{id:"action.filter.name",defaultMessage:"Filter"},sortName:{id:"action.sort.name",defaultMessage:"Sort"},groupByName:{id:"action.groupBy.name",defaultMessage:"Group by"},propertiesName:{id:"action.properties.name",defaultMessage:"Properties"},templatesName:{id:"action.templates.name",defaultMessage:"Templates"},calendarByName:{id:"action.calendarBy.name",defaultMessage:"Calendar by"},timelineByName:{id:"action.timelineBy.name",defaultMessage:"Timeline by"},noDateName:{id:"action.noDate.name",defaultMessage:"No date"},openasPageName:{id:"action.openasPage.name",defaultMessage:"Open as page"},highlightName:{id:"action.highlight.name",defaultMessage:"Highlight"},turnIntoName:{id:"action.turnInto.name",defaultMessage:"Turn into"},newPageInName:{id:"action.newPageIn.name",defaultMessage:"Turn into page"},colorName:{id:"action.color.name",defaultMessage:"Color"},languageModeName:{id:"action.languageMode.name",description:"Set the language for a code block's syntax highlighting",defaultMessage:"Set language"},boldName:{id:"action.bold.name",defaultMessage:"Bold"},italicName:{id:"action.italic.name",defaultMessage:"Italic"},strikeThroughName:{id:"action.strikeThrough.name",defaultMessage:"Strike-through"},underlineName:{id:"action.underline.name",defaultMessage:"Underline"},darkModeName:{id:"action.darkMode.name",defaultMessage:"Dark mode"},openAsPageName:{id:"action.openAsPage.name",defaultMessage:"Open as page"},openAllTogglesName:{id:"action.openAllToggles.name",defaultMessage:"Open all toggles"},lastUsedHighlightTitle:{id:"action.lastUsedHighlight.title",defaultMessage:"Last used"},lastUsedHighlightKeywords:{id:"action.lastUsedHighlight.fuzzySearchKeywords",description:"Keywords used when filtering menus via fuzzy search: these keywords identify the setting that applies the last text color formatting setting that the user used.",defaultMessage:"Color last used"},shareLinkName:{id:"action.shareLink.name",defaultMessage:"Share link"},joinOrCreateWorkspace:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.joinOrCreateWorkspace.label",defaultMessage:"Join or create workspace"},logOut:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.logOut.label",defaultMessage:"Log out"},unpinName:{id:"action.unpin.name",defaultMessage:"Remove from sidebar"},reportPageName:{id:"action.reportPage.name",defaultMessage:"Report page"}}),Mt=Object(a.defineMessages)({ABAP:{id:"action.languageMode.abap",defaultMessage:"ABAP"},Arduino:{id:"action.languageMode.arduino",defaultMessage:"Arduino"},Bash:{id:"action.languageMode.bash",defaultMessage:"Bash"},BASIC:{id:"action.languageMode.basic",defaultMessage:"Basic"},C:{id:"action.languageMode.c",defaultMessage:"C"},Clojure:{id:"action.languageMode.clojure",defaultMessage:"Clojure"},CoffeeScript:{id:"action.languageMode.coffeescript",defaultMessage:"CoffeeScript"},"C++":{id:"action.languageMode.cplusplus",defaultMessage:"C++"},"C#":{id:"action.languageMode.csharp",defaultMessage:"C#"},CSS:{id:"action.languageMode.css",defaultMessage:"CSS"},Dart:{id:"action.languageMode.dart",defaultMessage:"Dart"},Diff:{id:"action.languageMode.diff",defaultMessage:"Diff"},Docker:{id:"action.languageMode.docker",defaultMessage:"Docker"},Elixir:{id:"action.languageMode.elixir",defaultMessage:"Elixir"},Elm:{id:"action.languageMode.elm",defaultMessage:"Elm"},Erlang:{id:"action.languageMode.erlang",defaultMessage:"Erlang"},Flow:{id:"action.languageMode.flow",defaultMessage:"Flow"},Fortran:{id:"action.languageMode.fortran",defaultMessage:"Fortran"},"F#":{id:"action.languageMode.fsharp",defaultMessage:"F#"},Gherkin:{id:"action.languageMode.gherkin",defaultMessage:"Gherkin"},GLSL:{id:"action.languageMode.glsl",defaultMessage:"GLSL"},Go:{id:"action.languageMode.go",defaultMessage:"Go"},GraphQL:{id:"action.languageMode.graphql",defaultMessage:"Graphql"},Groovy:{id:"action.languageMode.groovy",defaultMessage:"Groovy"},Haskell:{id:"action.languageMode.haskell",defaultMessage:"Haskell"},HTML:{id:"action.languageMode.html",defaultMessage:"HTML"},Java:{id:"action.languageMode.java",defaultMessage:"Java"},JavaScript:{id:"action.languageMode.javascript",defaultMessage:"JavaScript"},JSON:{id:"action.languageMode.json",defaultMessage:"JSON"},Kotlin:{id:"action.languageMode.kotlin",defaultMessage:"Kotlin"},LaTeX:{id:"action.languageMode.latex",defaultMessage:"LaTeX"},Less:{id:"action.languageMode.less",defaultMessage:"LESS"},Lisp:{id:"action.languageMode.lisp",defaultMessage:"Lisp"},LiveScript:{id:"action.languageMode.livescript",defaultMessage:"LiveScript"},Lua:{id:"action.languageMode.lua",defaultMessage:"Lua"},Makefile:{id:"action.languageMode.makefile",defaultMessage:"Makefile"},Markdown:{id:"action.languageMode.markdown",defaultMessage:"Markdown"},Markup:{id:"action.languageMode.markup",defaultMessage:"Markup"},MATLAB:{id:"action.languageMode.matlab",defaultMessage:"MATLAB"},Mermaid:{id:"action.languageMode.mermaid",defaultMessage:"Mermaid"},Nix:{id:"action.languageMode.nix",defaultMessage:"Nix"},"Objective-C":{id:"action.languageMode.objectiveC",defaultMessage:"Objective-C"},OCaml:{id:"action.languageMode.ocaml",defaultMessage:"OCaml"},Pascal:{id:"action.languageMode.pascal",defaultMessage:"Pascal"},Perl:{id:"action.languageMode.perl",defaultMessage:"Perl"},PHP:{id:"action.languageMode.php",defaultMessage:"PHP"},"Plain Text":{id:"action.languageMode.plaintext",defaultMessage:"Plain Text"},PowerShell:{id:"action.languageMode.powershell",defaultMessage:"Powershell"},Prolog:{id:"action.languageMode.prolog",defaultMessage:"Prolog"},Python:{id:"action.languageMode.python",defaultMessage:"Python"},R:{id:"action.languageMode.r",defaultMessage:"R"},Reason:{id:"action.languageMode.reason",defaultMessage:"Reason"},Ruby:{id:"action.languageMode.ruby",defaultMessage:"Ruby"},Rust:{id:"action.languageMode.rust",defaultMessage:"Rust"},Sass:{id:"action.languageMode.sass",defaultMessage:"Sass"},Scala:{id:"action.languageMode.scala",defaultMessage:"Scala"},Scheme:{id:"action.languageMode.scheme",defaultMessage:"Scheme"},Scss:{id:"action.languageMode.scss",defaultMessage:"SCSS"},Shell:{id:"action.languageMode.shell",defaultMessage:"Shell"},SQL:{id:"action.languageMode.sql",defaultMessage:"SQL"},Swift:{id:"action.languageMode.swift",defaultMessage:"Swift"},TypeScript:{id:"action.languageMode.typescript",defaultMessage:"TypeScript"},"VB.Net":{id:"action.languageMode.vbdotnet",defaultMessage:"VB.net"},Verilog:{id:"action.languageMode.verilog",defaultMessage:"Verilog"},VHDL:{id:"action.languageMode.vhdl",defaultMessage:"VHDL"},"Visual Basic":{id:"action.languageMode.visualbasic",defaultMessage:"Visual Basic"},WebAssembly:{id:"action.languageMode.webassembly",defaultMessage:"WebAssembly"},XML:{id:"action.languageMode.xml",defaultMessage:"XML"},YAML:{id:"action.languageMode.yaml",defaultMessage:"YAML"},"Java/C/C++/C#":{id:"action.languageMode.cstyle",defaultMessage:"Java/C/C++/C#"}});function Et(e){return"key"in e}function _t(e){return"clipboardData"in e}function Tt(e){const{key:t,displayName:n,analyticsName:o,fuzzySearchKeywords:a,svg:i,validators:s,shortcuts:l,closeParentMenu:c,action:d,render:u,subActions:p}=e,h=n?at.default.formatMessage(n):void 0,m=a||n,f=m?"".concat(at.default.formatMessage(m)," ").concat(m.defaultMessage):void 0;return{key:"action ".concat(t),displayName:h,analyticsName:o,searchName:f,validators:s,shortcuts:l,action:d,subActions:p,closeParentMenu:c,render:u||(e=>r.a.createElement(M.a,Object.assign({},e,{title:h,svg:i,shortcuts:l})))}}function xt(e){const{key:t,title:n,overrideSearchTitle:o,render:r,actions:a}=e,i=o||n;return{key:t,title:n?at.default.formatMessage(n):void 0,searchTitle:i?"".concat(at.default.formatMessage(i)," ").concat(i.defaultMessage):void 0,render:r,actions:a}}const It=[p.q,p.Gb(p.ib),p.z];function Pt(e){return Tt({...e,validators:It,closeParentMenu:!0,action:({environment:t,blocks:n})=>{ke.createAndCommit(t,o=>{Qe.b({environment:t,blocks:n,annotation:e.annotation,transaction:o})})}})}function Ot(e){const{key:t,displayName:n,analyticsName:o,validators:a,shortcuts:i,subActions:s,svg:l}=e,c=Tt({key:"extension ".concat(t),displayName:n,analyticsName:o,validators:a,shortcuts:i,subActions:s,closeParentMenu:!0,action:()=>{},render:(e,t,n)=>r.a.createElement(_.a,Object.assign({},e,{renderOrigin:e=>r.a.createElement(M.a,Object.assign({},e,{title:c.displayName,svg:l,shortcuts:[]})),onFocus:n.onFocus,renderExtension:(e,o)=>{let a;return a=t.environment.device.isPhone?{menuType:T.b.MenuType.Modal,right:r.a.createElement(lt.DoneMenuText,null),onClickRight:o.close,...e}:{menuType:T.b.MenuType.Popup,width:200,...e},r.a.createElement(T.b,Object.assign({},a),r.a.createElement(x.a,{initialFocus:0,context:t,sections:s(t),onAccept:n.onAccept}))}}))});return c}function Bt(e,t){return{key:"insert ".concat(e.blockType),displayName:e.displayName,analyticsName:e.analyticsName,searchName:e.searchName,render:(t,n)=>r.a.createElement(X,Object.assign({},t,e,{title:e.displayName,format:X.Format.Insert})),closeParentMenu:!0,validators:[t=>!e.shouldShow||e.shouldShow(t.environment)],action:({environment:n})=>{ke.createAndCommit(n,o=>{pe.j({environment:n,selection:v.default.state.stores,createBlockItem:e,analyticsFrom:t,transaction:o})})}}}const Lt=[p.q,p.Gb(p.ib),p.e,p.A,p.Gb(p.i)],Rt=[p.q,p.Gb(p.ib),p.e,p.g("code"),p.Gb(p.i)];function Dt(e,t){switch(e){case"default":return Ct.backgroundColorDefaultKeywords;case"gray":return Ct.foregroundColorGrayKeywords;case"gray_background":return Ct.backgroundColorGrayKeywords;default:return t}}function At(e,t,n){const o=n||Object(B.i)(e),a=Tt({key:"color ".concat(t||e),displayName:o,analyticsName:o.defaultMessage,fuzzySearchKeywords:Dt(e,o),validators:Lt,action:({blocks:t,environment:n})=>{"default"!==e&&$e.a.setHighlightColor(e),ke.createAndCommit(n,n=>{Ee.h({stores:t,update:{block_color:"default"===e?void 0:e},transaction:n})}),v.default.state.phase!==v.SelectionPhase.Selected||n.device.isMobile||Q.e(n)},closeParentMenu:!0,render:t=>r.a.createElement(Y.a,Object.assign({},t,{color:e,overrideDisplayName:a.displayName}))});return a}const jt=[p.q,p.c,p.Gb(p.jb)];const Ft=Tt({key:"delete block",displayName:Ct.deleteName,analyticsName:Ct.deleteName.defaultMessage,svg:Re.a.trash,validators:[p.Hb([p.b([p.O,p.s]),p.b([p.q,p.r,p.Gb(p.h)])]),p.Gb(p.ib)],shortcuts:["delete","backspace"],closeParentMenu:!0,action:({blocks:e,environment:t})=>{ke.createAndCommit(t,n=>{pe.o({environment:t,blocks:e,transaction:n})})}}),Vt=Tt({key:"delete block without shortcuts",displayName:Ct.deleteName,analyticsName:Ct.deleteName.defaultMessage,svg:Re.a.trash,validators:[p.q,p.r,p.Gb(p.h)],closeParentMenu:!0,action:({blocks:e,environment:t})=>{ke.createAndCommit(t,n=>{pe.o({environment:t,blocks:e,transaction:n})})}}),Nt=Tt({key:"duplicate",displayName:Ct.duplicateName,analyticsName:Ct.duplicateName.defaultMessage,svg:Re.a.duplicate,validators:[p.qb,p.q,p.r,p.D],shortcuts:["duplicate"],closeParentMenu:!0,action:({environment:e})=>{const{currentBlockStore:t}=Fe.default.state,n=We.c.state.open&&We.c.state.target||t;if(!n)return;const o=n.getParentCollectionStore();o&&De.j(e)&&ke.createAndCommit(e,t=>{const[r,a]=S.a({environment:e,store:n,addCopyName:!0,transaction:t,deepCopyTransclusionContainers:!1});w.b({childStore:r,parentStore:o,alive:!0,transaction:t}),ue.navigateToBlock({environment:e,store:r})})}}),Ut=Tt({key:"duplicate",displayName:Ct.duplicateName,analyticsName:Ct.duplicateName.defaultMessage,svg:Re.a.duplicate,validators:[p.s,p.Gb(p.h),p.Gb(p.k),p.Hb([p.i,p.Gb(p.ib)])],shortcuts:["duplicate"],closeParentMenu:!0,action:({blocks:e,environment:t})=>{De.j(t)&&(ke.createAndCommit(t,n=>{pe.e({environment:t,blocks:e,transaction:n})}),ee.default.afterNextFlush(()=>{$.d()}))}}),zt=Tt({key:"duplicate into private",displayName:Ct.duplicateName,analyticsName:Ct.duplicateName.defaultMessage,svg:Re.a.duplicate,validators:[p.qb,p.Gb(p.db),p.Hb([p.k,p.Gb(p.r)])],closeParentMenu:!0,action:async({blocks:e,environment:t})=>{if(!De.j(t))return;const n=e[0],o=Fe.default.state.currentSpaceStore,r=Fe.default.state.currentSpaceViewStore;o&&r&&await me.c({environment:t,store:n,spaceStore:o,spaceViewStore:r,isPrivate:!0})}}),Xt=Ot({key:"duplicate to workspace",displayName:Ct.duplicateToName,analyticsName:Ct.duplicateToName.defaultMessage,svg:Re.a.duplicate,validators:[p.qb,p.db,p.Gb(p.r),p.G],subActions:({blocks:e,environment:t})=>{const{currentUserRootStore:n}=Fe.default.state;if(!n)return[];const o=e[0],a=ot.j(n),i=[];for(const s of a){const e=s.getSpaceStore();if(e){const n=Object(pt.getSpaceName)(t,e),a=Object(pt.getSpaceIcon)(t,e);i.push({key:s.id,displayName:n||"",analyticsName:"Duplicate to workspace",searchName:n||"",closeParentMenu:!0,action:async()=>{await me.c({environment:t,store:o,spaceStore:e,spaceViewStore:s,isPrivate:!0})},render:(e,{environment:t})=>r.a.createElement(E.a,Object.assign({title:n,icon:r.a.createElement(rt.a,{icon:a,isEmptyPage:!1,title:n,size:t.device.isMobile?24:20,disabled:!0})},e))})}}return[xt({key:"duplicate-to",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:i})]}}),Yt=Tt({key:"leave shared page",displayName:Ct.leaveName,analyticsName:Ct.leaveName.defaultMessage,svg:Re.a.logout,validators:[p.k,p.Ob,p.Gb(p.Kb)],closeParentMenu:!0,action:({blocks:e,environment:t})=>{ke.createAndCommit(t,n=>{Se.leaveBlocks({environment:t,blocks:e,transaction:n})})}}),Ht=Tt({key:"remove pinned shared page",displayName:Ct.unpinName,analyticsName:Ct.unpinName.defaultMessage,svg:Re.a.pinStrikethrough,validators:[p.k,p.Kb],closeParentMenu:!0,action:({blocks:e,environment:t})=>{const{currentSpaceViewStore:n,currentUserSettingsStore:o}=Fe.default.state;n&&o&&(ke.createAndCommit(t,r=>{for(const a of e)Se.unpinSharedPage({environment:t,transaction:r,spaceViewStore:n,userSettingsStore:o,store:a})}),be.td(t,{type:"shared",from:"sidebar_dropdown_menu"}))}}),qt=Tt({key:"add to favorites",displayName:Ct.addtoFavoritesName,analyticsName:Ct.addtoFavoritesName.defaultMessage,svg:Re.a.star,validators:[p.kb,p.qb,p.Gb(p.R),p.Gb(p.b([p.Kb,p.k]))],closeParentMenu:!0,action:({blocks:e,environment:t})=>{const{currentSpaceViewStore:n}=Fe.default.state;if(n){const o=e[0];ke.createAndCommit(t,e=>{Se.bookmarkPage({spaceViewStore:n,store:o,transaction:e})}),wt.a(t)&&Object(St.c)(t,{pointer:{table:h.a,id:o.id},userId:o.userId})}}}),Wt=Tt({key:"remove from favorites",displayName:Ct.removefromFavoritesName,analyticsName:Ct.removefromFavoritesName.defaultMessage,svg:Re.a.star,validators:[p.R,p.Gb(p.b([p.Kb,p.k]))],closeParentMenu:!0,action:({blocks:e,environment:t})=>{const{currentSpaceViewStore:n}=Fe.default.state;n&&ke.createAndCommit(t,t=>{Se.unbookmarkPage({spaceViewStore:n,store:e[0],transaction:t})})}}),Gt=Tt({key:"rename page",displayName:Ct.renameName,analyticsName:Ct.renameName.defaultMessage,svg:Re.a.rename,validators:[p.tb,p.q,p.Bb,p.qb,p.Gb(p.xb),p.Gb(p.d("table")),p.Gb(p.jb)],shortcuts:["rename"],closeParentMenu:!0,action:e=>{const{blocks:t,originRect:n}=e;if(t.length>0)return le.b({blockStore:t[0],originRect:n})}}),Zt=Tt({key:"rename file",displayName:Ct.renameName,analyticsName:Ct.renameName.defaultMessage,svg:Re.a.rename,validators:[p.q,p.Bb,p.bb,p.Gb(p.d("table"))],shortcuts:["rename"],closeParentMenu:!0,action:e=>{const{blocks:t,originRect:n}=e;if(t.length>0)return ce.b({blockStore:t[0],originRect:n})}}),Kt=Tt({key:"edit transclusion",displayName:Ct.edit,analyticsName:Ct.edit.defaultMessage,svg:Re.a.rename,validators:[p.t,p.Bb,p.Gb(p.jb)],shortcuts:[],closeParentMenu:!0,action:e=>{const{blocks:t}=e;t.length>0&&pe.a({blocks:t})}}),Jt=Tt({key:"quick find",displayName:Ct.quickFindName,analyticsName:Ct.quickFindName.defaultMessage,validators:[p.ub],shortcuts:["quickFind"],closeParentMenu:!0,action:({environment:e})=>{se.c({environment:e,analyticsFrom:"keyboard-shortcut"})}}),Qt=Tt({key:"quick find (alternative)",displayName:Ct.quickFindName,analyticsName:Ct.quickFindName.defaultMessage,validators:[p.ub,p.Gb(p.b([p.Y,p.Nb]))],shortcuts:["openLinkMenu"],closeParentMenu:!0,action:({environment:e})=>{se.c({environment:e,analyticsFrom:"keyboard-shortcut"})}}),$t=Tt({key:"search",displayName:Ct.searchName,analyticsName:Ct.searchName.defaultMessage,validators:[p.kb,p.ab],shortcuts:["search"],closeParentMenu:!0,action:()=>{Me.inPageSearch.start(We.c.state.open)}}),en=Tt({key:"mobile undo",displayName:Ct.undoName,analyticsName:Ct.undoName.defaultMessage,svg:Re.a.undo,validators:[p.kb,p.yb,p.Gb(p.e)],closeParentMenu:!0,action:({environment:e})=>de.f(e)}),tn=Tt({key:"mobile redo",displayName:Ct.redoName,analyticsName:Ct.redoName.defaultMessage,svg:Re.a.redo,validators:[p.yb,p.Gb(p.e)],closeParentMenu:!0,action:({environment:e})=>de.e(e)}),nn=Tt({key:"undo",displayName:Ct.undoName,analyticsName:Ct.undoName.defaultMessage,svg:Re.a.undo,validators:[p.kb,p.Gb(p.nb)],shortcuts:["undo"],closeParentMenu:!0,action:({environment:e})=>de.f(e)}),on=Tt({key:"redo",displayName:Ct.redoName,analyticsName:Ct.redoName.defaultMessage,svg:Re.a.redo,validators:[],shortcuts:["redo"],closeParentMenu:!0,action:({environment:e})=>de.e(e)}),rn=Tt({key:"up",analyticsName:"Up",displayName:void 0,validators:[],shortcuts:["up"],closeParentMenu:!0,action:({environment:e},t)=>{if(t&&Et(t))return t.metaKey||t.ctrlKey?Q.m(e):void Q.d({environment:e,shiftKey:Boolean(t&&t.shiftKey),altKey:Boolean(t&&t.altKey)})}}),an=Tt({key:"left",analyticsName:"Left",displayName:void 0,validators:[],shortcuts:["left"],closeParentMenu:!0,action:({environment:e},t)=>{t&&Et(t)&&Q.b(e)}}),sn=Tt({key:"down",analyticsName:"Down",displayName:void 0,validators:[],shortcuts:["down"],closeParentMenu:!0,action:({environment:e},t)=>{if(t&&Et(t))return t.metaKey||t.ctrlKey?Q.n(e):void Q.a({environment:e,shiftKey:Boolean(t&&t.shiftKey),altKey:Boolean(t&&t.altKey)})}}),ln=Tt({key:"right",analyticsName:"Right",displayName:void 0,validators:[],shortcuts:["right"],closeParentMenu:!0,action:({environment:e})=>{Q.c(e)}}),cn=Tt({key:"context menu",analyticsName:"Context menu",displayName:void 0,validators:[p.sb,p.Gb(p.ib)],shortcuts:["commandSlash"],closeParentMenu:!0,action:()=>{const{stores:e}=v.default.state;ge.b({stores:e,actions:br,analyticsFrom:"command_slash_menu"})}}),dn=Tt({key:"indent",analyticsName:"Indent",displayName:void 0,validators:[p.q,p.Gb(p.ib),p.e,p.Gb(p.c)],shortcuts:["tab"],closeParentMenu:!0,action:({environment:e})=>{ke.createAndCommit(e,t=>{!function(e){const t=v.default.state.stores;if(t.length>0){const n=J.c({blocks:t,transaction:e.transaction});n&&Q.q({environment:e.environment,stores:n})}}({environment:e,transaction:t})})}}),un=Tt({key:"unindent",analyticsName:"Unindent",displayName:void 0,validators:[p.q,p.Gb(p.ib),p.e,p.Gb(p.c)],shortcuts:["untab"],closeParentMenu:!0,action:({environment:e})=>{ke.createAndCommit(e,t=>{!function(e){const t=v.default.state.stores;if(t.length>0){const n=J.f({blocks:t,transaction:e.transaction});n&&Q.q({environment:e.environment,stores:n})}}({environment:e,transaction:t})})}}),pn=Tt({key:"escape",analyticsName:"Escape",displayName:void 0,validators:[],shortcuts:["esc"],closeParentMenu:!0,action:({environment:e})=>{oe.a(e),Q.e(e)}}),hn=Tt({key:"select all",analyticsName:"Select all",displayName:void 0,validators:[],shortcuts:["selectAll"],closeParentMenu:!0,action:({environment:e})=>{Q.l(e)}}),mn=Tt({key:"cut",analyticsName:"Cut",displayName:void 0,validators:[p.q,p.Gb(p.ib)],shortcuts:["cut"],closeParentMenu:!0,action:({environment:e},t)=>{t&&_t(t)&&ke.createAndCommit(e,n=>{te.d({environment:e,event:t,transaction:n})})}}),fn=Tt({key:"copy",analyticsName:"Copy",displayName:void 0,validators:[],shortcuts:["copy"],closeParentMenu:!0,action:({environment:e},t)=>{t&&_t(t)&&te.a({environment:e,event:t})}}),gn=Tt({key:"copy link to block",displayName:Ct.copyLinkName,analyticsName:Ct.copyLinkName.defaultMessage,svg:Re.a.link,validators:[p.kb,p.Bb],closeParentMenu:!0,action:({blocks:e,environment:t},n)=>te.b({environment:t,blocks:e,event:n})}),bn=Tt({key:"copy link to block non-desktop",displayName:Ct.copyLinkName,analyticsName:Ct.copyLinkName.defaultMessage,svg:Re.a.link,validators:[p.kb,p.Bb,p.Gb(p.ab)],closeParentMenu:!0,action:({blocks:e,environment:t},n)=>te.b({environment:t,blocks:e,event:n})}),vn=Tt({key:"copy link to view",displayName:Ct.copyLinktoViewName,analyticsName:Ct.copyLinktoViewName.defaultMessage,svg:Re.a.link,validators:[p.Bb],closeParentMenu:!0,action:({environment:e,blocks:t},n)=>te.b({environment:e,blocks:t,event:n})}),yn=Tt({key:"What is Notion?",displayName:Ct.whatIsNotionName,analyticsName:Ct.whatIsNotionName.defaultMessage,svg:Re.a.notionLogo,validators:[p.Gb(p.kb),p.Gb(p.pb)],closeParentMenu:!0,action:({blocks:e,environment:t},n)=>{window.location.href=nt.d.product}}),Sn=Tt({key:"open in mac app",displayName:Ct.openinMacAppName,analyticsName:Ct.openinMacAppName.defaultMessage,svg:Re.a.notionLogo,validators:[p.Bb,p.Gb(p.pb),p.Gb(p.nb),p.lb],closeParentMenu:!0,action:({blocks:e,environment:t},n)=>{const o=Object(d.a)({store:e[0],fullyQualified:!1});ue.openInNativeApp({url:o,environment:t})}}),wn=Tt({key:"open in windows app",displayName:Ct.openinWindowsAppName,analyticsName:Ct.openinWindowsAppName.defaultMessage,svg:Re.a.notionLogo,validators:[p.Bb,p.Gb(p.pb),p.Gb(p.nb),p.Eb],closeParentMenu:!0,action:({blocks:e,environment:t},n)=>{const o=Object(d.a)({store:e[0],fullyQualified:!1});ue.openInNativeApp({url:o,environment:t})}}),kn=Tt({key:"zoom in",displayName:Ct.zoomInName,analyticsName:Ct.zoomInName.defaultMessage,validators:[p.ab],shortcuts:["zoomIn"],closeParentMenu:!0,action:()=>{Me.zoomIn()}}),Cn=Tt({key:"zoom out",displayName:Ct.zoomOutName,analyticsName:Ct.zoomOutName.defaultMessage,validators:[p.ab],shortcuts:["zoomOut"],closeParentMenu:!0,action:()=>{Me.zoomOut()}}),Mn=Tt({key:"zoom reset",displayName:Ct.resetZoomName,analyticsName:Ct.resetZoomName.defaultMessage,validators:[p.ab],shortcuts:["zoomReset"],closeParentMenu:!0,action:()=>{Me.zoomReset()}}),En=Tt({key:"open in ios app",displayName:Ct.openiniOSAppName,analyticsName:Ct.openiniOSAppName.defaultMessage,svg:Re.a.notionLogo,validators:[p.Bb,p.Gb(p.pb),p.eb],closeParentMenu:!0,action:({blocks:e,environment:t},n)=>{const o=Object(d.a)({store:e[0],fullyQualified:!1});ue.openInNativeApp({url:o,environment:t})}}),_n=Tt({key:"open in android app",displayName:Ct.openinAndroidAppName,analyticsName:Ct.openinAndroidAppName.defaultMessage,svg:Re.a.notionLogo,validators:[p.Bb,p.Gb(p.pb),p.Q],closeParentMenu:!0,action:({blocks:e,environment:t},n)=>{const o=Object(d.a)({store:e[0],fullyQualified:!1});ue.openInNativeApp({url:o,environment:t})}}),Tn=Tt({key:"copy link to current page",displayName:Ct.copyLinkName,analyticsName:Ct.copyLinkName.defaultMessage,svg:Re.a.link,validators:[p.ab],shortcuts:["copyLinkToCurrentPage"],closeParentMenu:!0,action:({environment:e},t)=>{const{currentBlockStore:n}=Fe.default.state,o=We.c.state.open&&We.c.state.target||n;o&&te.b({environment:e,blocks:[o],event:t})}}),xn=Tt({key:"ios share link",displayName:Ct.shareLinkName,analyticsName:Ct.shareLinkName.defaultMessage,svg:Re.a.iOSShare,validators:[p.Bb,p.zb,p.eb],closeParentMenu:!0,action:({blocks:e,environment:t})=>{const n=e[0],o=n.getNavigableBlockStore();if(o){const e=Object(d.a)({store:o,scrollToBlockId:o.id===n.id?void 0:n.id,fullyQualified:!0});t.reactNative&&t.reactNative.share(e)}}}),In=Tt({key:"android share link",displayName:Ct.shareLinkName,analyticsName:Ct.shareLinkName.defaultMessage,svg:Re.a.androidShare,validators:[p.Bb,p.zb,p.Q],closeParentMenu:xn.closeParentMenu,action:xn.action}),Pn=Tt({key:"copy link",displayName:Ct.copyLinkName,analyticsName:Ct.copyLinkName.defaultMessage,svg:Re.a.link,validators:[p.kb,p.Bb,p.Gb(p.zb)],closeParentMenu:!0,action:({blocks:e,environment:t},n)=>{te.b({environment:t,blocks:e,event:n})}}),On=Tt({key:"edit page",displayName:Ct.editPageName,analyticsName:Ct.editPageName.defaultMessage,svg:Re.a.pencil,validators:[p.Bb,p.qb,p.x,p.Gb(p.Jb)],closeParentMenu:!0,action:({environment:e,blocks:t})=>{e.currentUser.isLoggedIn()?Object(st.showDialog)({showCancel:!0,keepFocus:!1,message:r.a.createElement(a.FormattedMessage,{defaultMessage:"When you start editing, your name, email and photo will be visible to the page owners.",id:"action.startPublicEditDialog.message"}),items:[{label:r.a.createElement(a.FormattedMessage,{defaultMessage:"Continue",id:"action.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){it.a.setState({editing:!0})}}]}):(Object(ct.z)({currentUserId:e.currentUser.id,blockId:t[0].id}),ue.navigate({environment:e,url:nt.d.login}))}}),Bn=Tt({key:"comment page",displayName:Ct.commentPageName,analyticsName:Ct.commentPageName.defaultMessage,svg:Re.a.speechBubbleThin,validators:[p.Bb,p.qb,p.n,p.Gb(p.kb)],closeParentMenu:!0,action:({environment:e,blocks:t})=>{Object(ct.z)({currentUserId:e.currentUser.id,blockId:t[0].id}),ue.navigate({environment:e,url:nt.d.login})}}),Ln=Tt({key:"duplicate page",displayName:Ct.duplicatePageName,analyticsName:Ct.duplicatePageName.defaultMessage,svg:Re.a.duplicate,validators:[p.Bb,p.nb,p.kb,p.qb,p.a],closeParentMenu:!0,action:({blocks:e,originRect:t,environment:n})=>{me.d({environment:n,store:e[0],originRect:t})}}),Rn=Tt({key:"back to my content",displayName:Ct.backtoNotionName,analyticsName:Ct.backtoNotionName.defaultMessage,svg:Re.a.notionLogo,validators:[p.kb,p.nb],closeParentMenu:!0,action:({environment:e},t)=>{const{currentUserRootStore:n,currentUserSettingsStore:o}=Fe.default.state;n&&o&&fe.n({environment:e,userRootStore:n,userSettingsStore:o})}}),Dn=Tt({key:"log in",displayName:Ct.signUpOrLogInName,analyticsName:Ct.signUpOrLogInName.defaultMessage,svg:Re.a.loginArrow,validators:[p.Gb(p.kb)],closeParentMenu:!0,action:({environment:e},t)=>{ue.navigate({environment:e,url:nt.d.login})}}),An=Tt({key:"paste",displayName:Ct.pasteName,analyticsName:Ct.pasteName.defaultMessage,validators:[p.q,p.Gb(p.ib),p.E,p.kb],shortcuts:["paste"],closeParentMenu:!0,action:({environment:e},t)=>{t&&_t(t)&&ke.createAndCommit(e,n=>{te.e({environment:e,event:t,disableEmbedMenu:!0,transaction:n})})}}),jn=Tt({key:"move up",displayName:Ct.moveUpName,analyticsName:Ct.moveUpName.defaultMessage,validators:[p.q,p.e,p.Gb(p.c)],shortcuts:["moveUp"],closeParentMenu:!0,action:({environment:e})=>{ke.createAndCommit(e,t=>{!async function(e){const t=J.e({transaction:e.transaction,blocks:v.default.state.stores});t&&(Q.q({environment:e.environment,stores:t}),await ee.default.afterNextFlush(),$.d())}({environment:e,transaction:t})})}}),Fn=Tt({key:"move down",displayName:Ct.moveDownName,analyticsName:Ct.moveDownName.defaultMessage,validators:[p.q,p.e,p.Gb(p.c)],shortcuts:["moveDown"],closeParentMenu:!0,action:({environment:e})=>{ke.createAndCommit(e,t=>{!async function(e){const t=J.d({transaction:e.transaction,blocks:v.default.state.stores});t&&(Q.q({environment:e.environment,stores:t}),await ee.default.afterNextFlush(),$.d())}({environment:e,transaction:t})})}}),Vn=Tt({key:"insert below",displayName:Ct.insertBelowName,analyticsName:Ct.insertBelowName.defaultMessage,svg:Re.a.arrowDown,validators:[p.q,p.e,p.nb],closeParentMenu:!0,action:({blocks:e,environment:t})=>{ke.createAndCommit(t,n=>{pe.l({environment:t,blocks:e,transaction:n})})}}),Nn=Tt({key:"comment",displayName:Ct.commentName,analyticsName:Ct.commentName.defaultMessage,svg:Re.a.speechBubbleThin,validators:[p.q,p.Gb(p.ib),p.e,p.Gb(p.qb),p.Gb(p.rb),p.Bb],shortcuts:["comment"],closeParentMenu:!0,action:({blocks:e,environment:t})=>{const n=e[0];if(n){const e=Ve.default.state;"editing"===e.mode&&e.selection.startIndex!==e.selection.endIndex&&e.store.id===n.id?ne.e({environment:t,blockStore:n,textStore:e.store,selection:e.selection}):ne.d({environment:t,blockStore:n})}}}),Un=Tt({key:"full screen",displayName:Ct.fullScreenName,analyticsName:Ct.fullScreenName.defaultMessage,svg:Re.a.fullscreen,validators:[p.Bb,p.mb,p.y,p.Gb(p.Y)],shortcuts:["space"],closeParentMenu:!0,action:e=>pe.g(e)}),zn=Tt({key:"view original",displayName:Ct.viewOriginalName,analyticsName:Ct.viewOriginalName.defaultMessage,svg:Re.a.alias,validators:[p.Bb,p.Hb([p.mb,p.b([p.bb,p.Gb(p.L)])])],closeParentMenu:!0,action:({blocks:e,environment:t})=>{re.d(t,{store:e[0]})}}),Xn=Tt({key:"download source",displayName:Ct.downloadName,analyticsName:Ct.downloadName.defaultMessage,svg:Re.a.arrowDown,validators:[p.Bb,p.Hb([p.bb,p.mb]),p.L],closeParentMenu:!0,action:({blocks:e,environment:t})=>{re.b({environment:t,store:e[0]})}}),Yn=Tt({key:"replace source",displayName:Ct.replaceName,analyticsName:Ct.replaceName.defaultMessage,svg:Re.a.replace,validators:[p.q,p.Bb,p.Hb([p.bb,p.mb])],closeParentMenu:!0,action:({blocks:e})=>{re.e({store:e[0]})}}),Hn=Tt({key:"configure",displayName:Ct.configureName,analyticsName:Ct.configureName.defaultMessage,svg:Re.a.settings,validators:[p.q,p.Bb,p.W],closeParentMenu:!0,action:e=>pe.d(e)}),qn=Tt({key:"caption",displayName:Ct.captionName,analyticsName:Ct.captionName.defaultMessage,svg:Re.a.caption,validators:[p.q,p.Gb(p.ib),p.Bb,p.S,p.Hb([p.K("source"),p.K("link"),p.Db("code")])],shortcuts:["caption"],closeParentMenu:!0,action:e=>pe.c(e)});function Wn(e){return Tt({key:"font ".concat(e.font||"default"),displayName:e.displayName,analyticsName:e.displayName.defaultMessage,validators:[p.Gb(p.U),p.q],render:(t,n,o)=>{const a=n.blocks[0].getFormat().page_font,i=e.font===a||!e.font&&!a;return r.a.createElement(j,Object.assign({},t,{isActive:i,font:e.font,tooltip:e.tooltip,style:e.style,caption:e.caption}))},closeParentMenu:!1,action:({blocks:t,environment:n},o)=>{ke.createAndCommit(n,o=>{Ee.h({stores:t,update:{page_font:e.font},transaction:o}),be.u(n,{type:e.font||"default"})})}})}const Gn=Wn({displayName:Ct.fontDefaultName,caption:r.a.createElement(a.FormattedMessage,Object.assign({},Ct.fontDefaultCaption)),font:void 0,tooltip:r.a.createElement(a.FormattedMessage,Object.assign({},Ct.fontDefaultTooltip)),style:{fontSize:24,fontFamily:b.a.fontFamily.sans,position:"relative",top:-2}}),Zn=Wn({displayName:Ct.fontSerifName,caption:r.a.createElement(a.FormattedMessage,Object.assign({},Ct.fontSerifCaption)),font:"serif",tooltip:r.a.createElement(a.FormattedMessage,Object.assign({},Ct.fontSerifTooltip)),style:{fontSize:25,fontFamily:b.a.fontFamily.serif}}),Kn=Wn({displayName:Ct.fontMonoName,caption:r.a.createElement(a.FormattedMessage,Object.assign({},Ct.fontMonoCaption)),font:"mono",tooltip:r.a.createElement(a.FormattedMessage,Object.assign({},Ct.fontMonoTooltip)),style:{fontSize:26,fontFamily:b.a.fontFamily.mono,position:"relative",top:-3,letterSpacing:-1}}),Jn=xt({key:"font section",title:Ct.fontStyleSection,render:e=>r.a.createElement(q,Object.assign({isTitleUppercase:!0},e)),actions:[Gn,Zn,Kn]});function Qn(e){return Tt({key:"format ".concat(e.key),displayName:e.displayName,analyticsName:e.displayName.defaultMessage,validators:e.validators,render:(t,{blocks:n,environment:o},a)=>{const i=n[0].getFormat(),s=Boolean(i[e.property]);return r.a.createElement(E.a,Object.assign({},t,{title:e.label,right:r.a.createElement(G.a,{on:s,onClick:t.onClick,isAndroid:o.device.isAndroid})}))},closeParentMenu:!1,action:({environment:t,blocks:n})=>{ke.createAndCommit(t,o=>{const r=n[0],a=r.getFormat(),i=!Boolean(a[e.property]);Ee.h({stores:[r],update:{[e.property]:i},transaction:o}),e.afterAction(i,t)})}})}function $n(e){return Tt({key:e.key,displayName:e.displayName,analyticsName:e.displayName.defaultMessage,validators:e.validators,render:(t,{blocks:n,environment:o})=>{const a=(e.getStore&&e.getStore(n)||n[0]).getFormat(),i=Boolean(a[e.property]);return r.a.createElement(O.a,{key:"format ".concat(e.key),renderTooltip:()=>e.tooltip,placement:O.a.Placement.Left,render:n=>r.a.createElement(E.a,Object.assign({},Object(P.a)(n,t),{title:e.label,right:r.a.createElement(G.a,{on:i,onClick:t.onClick,isAndroid:o.device.isAndroid})}))})},closeParentMenu:!1,action:({blocks:t,environment:n},o)=>{ke.createAndCommit(n,o=>{const r=e.getStore&&e.getStore(t)||t[0],a=r.getFormat(),i=!Boolean(a[e.property]);Ee.e({environment:n,store:r,isLocked:i,transaction:o}),e.afterAction(i,n)})}})}const eo=Qn({key:"small text",displayName:Ct.fontSmallTextKeywords,label:at.default.formatMessage(Ct.fontSmallTextLabel),property:"page_small_text",validators:[p.Gb(p.nb),p.Gb(p.U),p.q],afterAction:(e,t)=>be.t(t,{type:e?"small":"large"})}),to=Tt({key:"save page offline",displayName:Ct.syncPageName,analyticsName:Ct.syncPageName.defaultMessage,svg:Re.a.roundArrowDown,validators:[p.qb,p.B,p.w],closeParentMenu:!1,action:({blocks:e,environment:t},n)=>{const o=e[0];Object(St.c)(t,{pointer:o.pointer,userId:o.userId})}}),no=Tt({key:"resync page offline",displayName:Ct.resyncPageName,analyticsName:Ct.resyncPageName.defaultMessage,svg:Re.a.sync,validators:[p.qb,p.B,p.wb],closeParentMenu:!1,action:({blocks:e,environment:t},n)=>{const o=e[0];Object(St.a)(t,{pointer:o.pointer,userId:o.userId})}}),oo=Tt({key:"remove page offline",displayName:Ct.unsyncPageName,analyticsName:Ct.unsyncPageName.defaultMessage,svg:Re.a.roundArrowDown,validators:[p.qb,p.B,p.wb],closeParentMenu:!1,action:({blocks:e,environment:t},n)=>{const o=e[0];Object(St.d)(t,{pointer:{table:h.a,id:o.id},userId:o.userId})}}),ro=Tt({key:"page lock",displayName:Ct.lockPageName,analyticsName:Ct.lockPageName.defaultMessage,svg:Re.a.lockedThin,validators:[p.Gb(p.U),p.q,p.Gb(p.jb)],closeParentMenu:!1,action:({blocks:e,environment:t},n)=>{const o=e[0];ve.d({environment:t,store:o,lock:!0})}}),ao=Tt({key:"page unlock",displayName:Ct.unlockPageName,analyticsName:Ct.unlockPageName.defaultMessage,svg:Re.a.unlockedThin,validators:[p.Gb(p.U),p.q,p.jb],closeParentMenu:!1,action:({blocks:e,environment:t},n)=>{const o=e[0];ve.d({environment:t,store:o,lock:!1})}}),io=$n({key:"database lock",displayName:Ct.databaseLockLabel,label:at.default.formatMessage(Ct.databaseLockLabel),tooltip:r.a.createElement("div",{style:{maxWidth:200,whiteSpace:"normal"}},r.a.createElement(a.FormattedMessage,{id:"action.databaseLock.tooltip",defaultMessage:"Lock database properties and views to prevent accidental edits. You can still create and edit pages inside"})),property:"block_locked",validators:[p.U,p.q],afterAction:(e,t)=>be.Db(t,{from:"page_more_menu",block_type:"collection_view",locked:Boolean(e)})}),so=$n({key:"database lock",displayName:Ct.databaseLockLabel,label:at.default.formatMessage(Ct.databaseLockLabel),tooltip:r.a.createElement("div",{style:{maxWidth:200,whiteSpace:"normal"}},r.a.createElement(a.FormattedMessage,{id:"action.linkedDatabaseLock.tooltip",defaultMessage:"Lock the linked to database's properties and views to prevent accidental edits. You can still create and edit pages inside"})),getStore:e=>{const t=e[0].getCollectionViewCollectionStore();if(t)return t.getParentBlockStore()},property:"block_locked",validators:[p.U,p.q],afterAction:(e,t)=>be.Db(t,{from:"page_more_menu",block_type:"link_to_collection",locked:Boolean(e)})}),lo=Tt({key:"property visibility",displayName:Ct.propertyVisibilityLabel,analyticsName:Ct.propertyVisibilityLabel.defaultMessage,svg:Re.a.eyeHide,shortcuts:["togglePropertyVisibility"],validators:[p.q,p.Gb(p.U)],closeParentMenu:!0,action:e=>{yt.a.setState({...yt.a.state,forceShowProperties:!yt.a.state.forceShowProperties})}}),co=Tt({key:"customize page",displayName:Ct.customizePageLabel,analyticsName:Ct.customizePageLabel.defaultMessage,svg:Re.a.customizePage,validators:[p.q,p.Gb(p.U)],closeParentMenu:!0,render:e=>r.a.createElement(M.a,Object.assign({},e,{title:r.a.createElement(a.FormattedMessage,Object.assign({},Ct.customizePageLabel)),svg:Re.a.customizePage,shortcuts:[]})),action:e=>{Ie.b({originRect:e.originRect})}}),uo=Qn({key:"full width",displayName:Ct.fullWidthLabel,label:at.default.formatMessage(Ct.fullWidthLabel),property:"page_full_width",validators:[p.Gb(p.yb),p.Gb(p.U),p.q],afterAction:(e,t)=>be.v(t,{type:e?"full_width":"default_width"})}),po=Qn({key:"code wrap",displayName:Ct.wrapCodeKeywords,label:at.default.formatMessage(Ct.wrapCodeLabel),property:"code_wrap",validators:[p.Bb,p.Db("code")],afterAction:(e,t)=>{Xe.a.set({userId:t.currentUser.id,key:K.a.localCodeWrapPreferenceKey,value:e})}});function ho(e){const t=Ne.a.findCollectionViewBlockFromStore(e);if(t)return t.collectionViewLocalStore.collectionViewStore.get()}function mo(e,t){const n=ho(e);if(!n)return;const o=n.getQuery();if(o){if("filter"===t){if(!o.filter)return;return(o.filter.filters||[]).length}if(o.sort)return o.sort.length}}const fo=Tt({key:"format wrap cells",displayName:Ct.wrapCellsName,analyticsName:Ct.wrapCellsName.defaultMessage,validators:[p.V("table"),p.q,p.Gb(p.ib),p.Gb(p.hb)],render:(e,{blocks:t,environment:n},o)=>{const a=ho(t[0]),i=a&&a.getFormat(),s=Boolean(i&&Boolean(i.table_wrap));return r.a.createElement(E.a,Object.assign({},e,{title:at.default.formatMessage(Ct.wrapCellsName),right:r.a.createElement(G.a,{on:s,onClick:e.onClick,isAndroid:n.device.isAndroid})}))},closeParentMenu:!1,action:({environment:e,blocks:t},n)=>{ke.createAndCommit(e,n=>{const o=ho(t[0]);if(!o)return;const r=o.getFormat(),a=!Boolean(r.table_wrap);Ee.h({stores:[o],update:{table_wrap:a},transaction:n}),be.w(e,{type:a?"wrap":"clip",is_fullscreen:!0})})}}),go=xt({key:"page style",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[eo,uo]}),bo=xt({key:"table style",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[fo]}),vo=Tt({key:"enter",displayName:Ct.enterName,analyticsName:Ct.enterName.defaultMessage,validators:[p.q,p.Gb(p.ib)],shortcuts:["enter"],closeParentMenu:!0,action:({environment:e,blocks:t})=>{ke.createAndCommit(e,e=>{pe.h({blocks:t,transaction:e})})}}),yo=Tt({key:"activate",analyticsName:"Activate",displayName:void 0,validators:[p.q,p.l],shortcuts:["commandEnter"],closeParentMenu:!0,action:e=>pe.a(e)}),So=Tt({key:"navigate to page in new tab",analyticsName:"Navigate to page in new tab",displayName:void 0,validators:[p.Bb,p.qb],shortcuts:["commandShiftEnter"],closeParentMenu:!0,action:({blocks:e,environment:t})=>{ve.a({environment:t,blocks:e,openInNewTab:!0})}}),wo=Tt({key:"toggle sidebar",analyticsName:"Toggle sidebar",displayName:void 0,validators:[],shortcuts:["toggleSidebar"],closeParentMenu:!0,action:({environment:e})=>Se.setExpand({environment:e,isExpanded:!Ue.a.state})}),ko=Tt({key:"merge with csv",displayName:Ct.mergewithCSVName,analyticsName:Ct.mergewithCSVName.defaultMessage,svg:Re.a.import,validators:[p.U,p.q,p.vb,p.tb,p.Gb(p.ib),p.Gb(p.hb)],closeParentMenu:!0,action:({blocks:[e],environment:t})=>{he.j({environment:t,store:e})}}),Co=Tt({key:"view collection view as page",displayName:Ct.turnintoPageName,analyticsName:Ct.turnintoPageName.defaultMessage,svg:Re.a.loop,validators:[p.gb,p.Gb(p.i),p.q,p.Gb(p.P),p.Gb(p.ib)],closeParentMenu:!0,action:({blocks:e,environment:t})=>ke.createAndCommit(t,n=>{ye.b({environment:t,blocks:e,blockType:"collection_view_page",transaction:n})})}),Mo=Tt({key:"view collection view inline",displayName:Ct.turnintoInlineName,analyticsName:Ct.turnintoInlineName.defaultMessage,svg:Re.a.loop,validators:[p.cb,p.Gb(p.i),p.q,p.Gb(p.P)],closeParentMenu:!0,action:({blocks:e,environment:t})=>ke.createAndCommit(t,n=>{ye.b({environment:t,blocks:e,blockType:"collection_view",transaction:n}),Q.e(t)})}),Eo=Tt({key:"open link annotation menu",displayName:Ct.createLinkName,analyticsName:Ct.createLinkName.defaultMessage,validators:[p.Y,p.Nb,p.o],shortcuts:["openLinkMenu"],closeParentMenu:!0,action:()=>ae.c({focus:!0})}),_o=Tt({key:"open equation annotation menu",displayName:Ct.createEquationName,analyticsName:Ct.createEquationName.defaultMessage,validators:[p.Y,p.Gb(p.Hb([p.H,p.I,p.Mb,p.Fb]))],shortcuts:["openEquationMenu"],closeParentMenu:!0,action:e=>ie.b({environment:e.environment,analyticsFrom:"input_keyboard_shortcut"})}),To=Tt({key:"go back",analyticsName:"Go back",displayName:void 0,validators:[p.u],shortcuts:["goBack","backbutton"],closeParentMenu:!0,action:()=>ue.back()}),xo=Tt({key:"exit app",analyticsName:"Exit app",displayName:void 0,validators:[p.Gb(p.u),p.Q],shortcuts:["backbutton"],closeParentMenu:!0,action:({environment:e})=>{if(e.reactNative)e.reactNative.exitApp();else if(/Cordova/.test(navigator.userAgent)){const e=window;e.navigator.app&&e.navigator.app.exitApp&&e.navigator.app.exitApp()}}}),Io=Tt({key:"go forward",analyticsName:"Go forward",displayName:void 0,validators:[p.v],shortcuts:["goForward"],closeParentMenu:!0,action:()=>ue.forward()}),Po=Tt({key:"go up",analyticsName:"Go up",displayName:void 0,validators:[()=>ue.canGoUp()],shortcuts:["goUp"],closeParentMenu:!0,action:({environment:e})=>ue.up(e)}),Oo=Tt({key:"switch spaces",analyticsName:"Switch spaces",displayName:void 0,validators:[p.ab],shortcuts:["switchSpaces"],closeParentMenu:!0,action:({environment:e},t)=>{if(!t||!Et(t))return;t.preventDefault();const n=parseInt(c()(t.keyCode)),{currentUserRootStore:o,currentUserSettingsStore:r}=Fe.default.state;o&&r&&(fe.p({environment:e,index:n-1,userRootStore:o,userSettingsStore:r}),be.pe(e))}}),Bo=Tt({key:"open settings",analyticsName:"Open settings",displayName:void 0,validators:[p.ab],shortcuts:["settings"],closeParentMenu:!0,action:e=>{Oe.a()}}),Lo=Tt({key:"new page",analyticsName:"New page",displayName:void 0,validators:[p.Z,p.kb],shortcuts:["newPage"],closeParentMenu:!0,action:({environment:e})=>{Se.quickAddPage({environment:e,from:"cmd_n"})}}),Ro=Tt({key:"action Export Block",displayName:Ct.exportName,analyticsName:Ct.exportName.defaultMessage,validators:[p.vb,p.kb,p.F],closeParentMenu:!0,render:e=>r.a.createElement(M.a,Object.assign({},e,{svg:Re.a.file,title:r.a.createElement(a.FormattedMessage,Object.assign({},Ct.exportName)),caption:r.a.createElement(a.FormattedMessage,Object.assign({},Ct.exportCaption))})),action:({blocks:e,environment:t})=>{Ae.h({environment:t,root:{id:e[0].id,table:"block"}})}}),Do=Tt({key:"action report page",displayName:Ct.reportPageName,analyticsName:Ct.reportPageName.defaultMessage,validators:[p.vb,p.M,p.C],closeParentMenu:!0,render:e=>r.a.createElement(M.a,Object.assign({},e,{style:{color:B.g.red},svg:Re.a.reportPage,title:r.a.createElement(a.FormattedMessage,Object.assign({},Ct.reportPageName))})),action:({blocks:e,environment:t})=>{k.b()}}),Ao=Tt({key:"open import modal",displayName:Ct.importName,analyticsName:Ct.importName.defaultMessage,svg:Re.a.import,validators:[p.vb,p.tb,p.q,p.Gb(p.U)],closeParentMenu:!0,action:({blocks:e})=>{Ge.a.setState({open:!0,pageStore:e[0]})}}),jo=Tt({key:"turn into type",displayName:Ct.turnIntoName,analyticsName:Ct.turnIntoName.defaultMessage,validators:[p.q,p.Gb(p.ib),p.e,p.f],shortcuts:["turnIntoType"],closeParentMenu:!0,action:({blocks:e,environment:t},n)=>{if(!n||!Et(n))return;n.preventDefault();const o=parseInt(c()(n.keyCode)),r=h.y[o];ke.createAndCommit(t,n=>{ye.b({environment:t,blocks:e,blockType:r,transaction:n})})}}),Fo=Tt({key:"move to",displayName:Ct.moveToName,analyticsName:Ct.moveToName.defaultMessage,svg:Re.a.moveTo,shortcuts:["moveTo"],validators:[p.ob,p.m,p.r,p.vb,p.kb,p.Gb(p.fb),p.Gb(p.T)],closeParentMenu:!0,action:e=>{we.d({blocks:e.blocks,originRect:e.originRect,analyticsFrom:"action_menu"})}}),Vo=Tt({key:"move page to",displayName:Ct.moveToName,analyticsName:Ct.moveToName.defaultMessage,shortcuts:["moveTo"],validators:[],closeParentMenu:!0,action:({environment:e})=>{const{currentBlockStore:t}=Fe.default.state;if(!t)return;const n=Fo.validators||[],o=document.querySelector(".".concat(tt.Pb));if(!o)return;const r={environment:e,blocks:[t],originRect:o.getBoundingClientRect()};n.every(e=>e(r))&&Fo.action(r)}}),No=function(e){const{key:t,displayName:n,analyticsName:o,svg:a,validators:i,shortcuts:s,closeParentMenu:l,action:c}=e,d=Tt({key:"action ".concat(t),displayName:n,analyticsName:o,validators:i,shortcuts:s,action:c,closeParentMenu:l,render:({onClick:e,key:t,...n},{environment:o})=>r.a.createElement(je.a,{key:t,requireUpgradeToTier:f.N(o)&&f.j(o),analyticsName:"history_modal",onClick:e,alwaysAllowClick:!0,render:(e,t)=>r.a.createElement(M.a,Object.assign({},Object(P.a)(n,e),{title:d.displayName,svg:a,shortcuts:s,dontShrinkRight:!0,right:t})),renderUpgradeTooltip:()=>{}})});return d}({key:"page history",displayName:Ct.pageHistoryName,analyticsName:Ct.pageHistoryName.defaultMessage,svg:Re.a.versionHistory,validators:[p.q,p.vb,p.qb,p.kb],closeParentMenu:!0,action:({environment:e,blocks:t})=>y.d({environment:e,blockStore:t[0],from:"topbar"})}),Uo=Tt({key:"open page trash",displayName:Ct.showDeletedPagesName,analyticsName:Ct.showDeletedPagesName.defaultMessage,svg:Re.a.showDeletedPages,validators:[p.q,p.X,p.kb,p.Gb(p.db)],closeParentMenu:!0,action:()=>{ze.a.setState({open:!0}),Ye.a.setState({...Ye.a.state,currentTab:"in_current_page"})}}),zo=Tt({key:"clear date",displayName:Ct.clearDateName,analyticsName:Ct.clearDateName.defaultMessage,svg:Re.a.timeBy,validators:[p.q,p.Gb(p.ib),p.Hb([p.d("timeline"),p.d("calendar")])],closeParentMenu:!0,action:({environment:e,blocks:t})=>{const n=p.J(t[0]);if(n){const o=n.collectionViewLocalStore.collectionViewStore.get();o&&ke.createAndCommit(e,e=>{vt.c({stores:t,collectionViewStore:o,transaction:e})})}}}),Xo=Ot({key:"edit property",displayName:Ct.editPropertyName,analyticsName:Ct.editPropertyName.defaultMessage,svg:Re.a.properties,validators:jt,subActions:({blocks:e})=>{const t=e[0];if(!t)return[];const n=t.getParentCollectionStore();if(n){const e=n.getSchema(),t=n.getFormat(),o=u.i(t,e,void 0,[],u.a.Collection);if(o.collection_page_properties){return o.collection_page_properties.unshift({property:"title"}),[{key:0,title:void 0,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:s.a.compact(o.collection_page_properties.map(t=>{const n=e[t.property];if(n&&!m.k(n.type))return function(e){const{property:t,propertySchema:n}=e,o=n.name;return{key:"Edit Property ".concat(o," ").concat(t),displayName:o,analyticsName:"Edit property",searchName:o,validators:jt,closeParentMenu:!0,action:({blocks:e,originRect:o,environment:r},a)=>{"checkbox"===n.type?ke.createAndCommit(r,n=>{Pe.i({stores:e,property:t,transaction:n})}):o&&Pe.h({environment:r,store:e[0],additionalStores:e.slice(1),property:t,format:W.a.Page,rect:{...s.a.toPlainObject(o),width:200},preventClearSelection:!0,blockPropertyValueOverlayStore:We.c.state.open?He.a:qe.a})},render:e=>r.a.createElement(Z.b,Object.assign({},e,{propertySchema:n,format:Z.b.DisplayFormat.Name}))}}({property:t.property,propertySchema:n})}))}]}}return[]}}),Yo=Tt({key:"Filter",displayName:Ct.filterName,analyticsName:Ct.filterName.defaultMessage,render:(e,t)=>{const n=mo(t.blocks[0],"filter");return r.a.createElement(M.a,Object.assign({},e,{title:at.default.formatMessage(Ct.filterName),svg:Re.a.filter,right:n&&r.a.createElement(Je,{render:e=>r.a.createElement("div",{style:{color:e.mediumTextColor}},r.a.createElement(a.FormattedMessage,{defaultMessage:"{ruleCount, plural, one {{ruleCount} rule} other {{ruleCount} rules}}",id:"action.ruleCount.label",values:{ruleCount:n}}))})}))},validators:[p.U,p.q,p.Gb(p.i),p.Gb(p.ib),p.Gb(p.hb)],closeParentMenu:!0,action:({blocks:e})=>pe.s({blocks:e,method:"openFilterMenu"})}),Ho=Tt({key:"Sort",displayName:Ct.sortName,analyticsName:Ct.sortName.defaultMessage,render:(e,t)=>{const n=mo(t.blocks[0],"sort");return r.a.createElement(M.a,Object.assign({},e,{title:at.default.formatMessage(Ct.sortName),svg:Re.a.sort,right:n&&r.a.createElement(Je,{render:e=>r.a.createElement("div",{style:{color:e.mediumTextColor}},r.a.createElement(a.FormattedMessage,{defaultMessage:"{ruleCount, plural, one {{ruleCount} rule} other {{ruleCount} rules}}",id:"action.ruleCountForSorts.label",values:{ruleCount:n}}))})}))},validators:[p.U,p.q,p.Gb(p.i),p.Gb(p.ib),p.Gb(p.hb)],closeParentMenu:!0,action:({blocks:e})=>pe.s({blocks:e,method:"openSortMenu"})}),qo=Tt({key:"open group menu",displayName:Ct.groupByName,analyticsName:Ct.groupByName.defaultMessage,svg:Re.a.groupBy,validators:[p.U,p.V("board"),p.q,p.Gb(p.i),p.Gb(p.ib),p.Gb(p.hb)],closeParentMenu:!0,action:({blocks:e})=>pe.s({blocks:e,method:"openGroupMenu"})}),Wo=Tt({key:"open properties menu",displayName:Ct.propertiesName,analyticsName:Ct.propertiesName.defaultMessage,svg:Re.a.properties,validators:[p.U,p.q,p.Gb(p.i),p.Gb(p.ib),p.Gb(p.hb)],closeParentMenu:!0,action:({blocks:e})=>pe.s({blocks:e,method:"openPropertiesMenu"})}),Go=Tt({key:"open add item menu",displayName:Ct.templatesName,analyticsName:Ct.templatesName.defaultMessage,svg:Re.a.templates,validators:[p.U,p.q,p.Gb(p.i),p.Gb(p.ib)],closeParentMenu:!0,action:({blocks:e})=>pe.s({blocks:e,method:"openAddItemMenu"})}),Zo=Tt({key:"open calendar by menu",displayName:Ct.calendarByName,analyticsName:Ct.calendarByName.defaultMessage,svg:Re.a.timeBy,validators:[p.U,p.V("calendar"),p.q,p.Gb(p.i),p.Gb(p.ib),p.Gb(p.hb)],closeParentMenu:!0,action:({blocks:e})=>pe.s({blocks:e,method:"openCalendarByMenu"})}),Ko=Tt({key:"open timeline by menu",displayName:Ct.timelineByName,analyticsName:Ct.timelineByName.defaultMessage,svg:Re.a.timeBy,validators:[p.U,p.V("timeline"),p.q,p.Gb(p.i),p.Gb(p.ib),p.Gb(p.hb)],closeParentMenu:!0,action:({blocks:e})=>pe.s({blocks:e,method:"openTimelineByMenu"})}),Jo=Tt({key:"open calendar no date menu",displayName:Ct.noDateName,analyticsName:Ct.noDateName.defaultMessage,svg:Re.a.noDate,validators:[p.U,p.q,p.Gb(p.i),p.Lb],closeParentMenu:!0,action:({blocks:e})=>pe.s({blocks:e,method:"openNoDateMenu"})}),Qo=Tt({key:"open collection as page",displayName:Ct.openasPageName,analyticsName:Ct.openasPageName.defaultMessage,svg:Re.a.openAsPage,validators:[p.gb,p.Gb(p.i)],closeParentMenu:!0,action:e=>pe.m(e)}),$o=xt({key:"turn into actions",title:Ct.turnIntoSection,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:Object.keys(h.z).map(e=>function(e){const t=C.b[e];return{key:"turn into ".concat(e),displayName:t.displayName,analyticsName:t.analyticsName,searchName:t.searchName,validators:s.a.compact([p.q,p.f,p.e]),closeParentMenu:!0,action:({environment:t,blocks:n})=>{ke.createAndCommit(t,o=>{ye.b({environment:t,blocks:n,blockType:e,transaction:o})})},render:e=>r.a.createElement(X,Object.assign({},e,t,{title:t.displayName,format:X.Format.TurnInto}))}}(e))}),er=xt({key:"text color actions",title:Ct.colorSection,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:B.c.map(e=>At(e))}),tr=xt({key:"background color actions",title:Ct.backgroundSection,overrideSearchTitle:Ct.backgroundSectionKeywords,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[At("default","default background",B.b.backgroundColorDefault),...B.a.map(e=>At(e))]}),nr=xt({key:"code block languageMode actions",title:Ct.languageModeName,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:m.o.map(e=>Tt({key:"set language ".concat(e," action"),displayName:Mt[e],analyticsName:"set language ".concat(e),validators:Rt,closeParentMenu:!0,action:({environment:t,blocks:n})=>{ke.createAndCommit(t,t=>{kt.a({language:e,blocks:n,transaction:t})})},render:t=>r.a.createElement(E.a,Object.assign({},t,{title:e}))}))}),or=xt({key:"toggle last highlight",title:Ct.lastUsedHighlightTitle,overrideSearchTitle:Ct.lastUsedHighlightKeywords,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Tt({key:"toggle highlight action",displayName:Ct.highlightName,analyticsName:Ct.highlightName.defaultMessage,validators:Lt,shortcuts:["toggleHighlight"],closeParentMenu:!0,action:({environment:e,blocks:t})=>{const n=$e.a.state.color;ke.createAndCommit(e,e=>{const o=s.a.every(t.map(e=>{const t=e.getFormat();return t&&t.block_color===n}))?void 0:n;Ee.h({stores:t,update:{block_color:o},transaction:e})})},render:e=>{const t=$e.a.state.color;return r.a.createElement(Y.a,Object.assign({},e,{color:t,shortcuts:["toggleHighlight"]}))}})]}),rr=Tt({key:"new page in section",displayName:Ct.newPageInName,analyticsName:Ct.newPageInName.defaultMessage,closeParentMenu:!0,svg:Re.a.squarePlus,validators:[p.q,p.Gb(p.ib),p.Gb(p.Db("page")),p.e,p.f],render:(e,t,n)=>{const{onFocus:o,onAccept:a}=n;return r.a.createElement(bt,Object.assign({},e,{title:Ct.newPageInName,blocksToTransform:t.blocks,onFocus:o,onAccept:a?()=>a(rr,t,void 0):void 0}))},action:()=>{}}),ar=Ot({key:"turn into section",displayName:Ct.turnIntoName,analyticsName:Ct.turnIntoName.defaultMessage,svg:Re.a.loop,validators:[p.q,p.Gb(p.ib),p.f,p.e],subActions:()=>[{key:0,title:void 0,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:$o.actions}]}),ir=Ot({key:"color section",displayName:Ct.colorName,analyticsName:Ct.colorName.defaultMessage,svg:Re.a.blockColor,validators:Lt,subActions:()=>[or,er,tr]}),sr=Ot({key:"languageMode section",displayName:Ct.languageModeName,analyticsName:Ct.languageModeName.defaultMessage,validators:Rt,subActions:()=>[nr]}),lr=[Pt({key:"toggle bold",displayName:Ct.boldName,analyticsName:Ct.boldName.defaultMessage,shortcuts:["toggleBold"],annotation:["b"]}),Pt({key:"toggle italics",displayName:Ct.italicName,analyticsName:Ct.italicName.defaultMessage,shortcuts:["toggleItalics"],annotation:["i"]}),Pt({key:"toggle strike",displayName:Ct.strikeThroughName,analyticsName:Ct.strikeThroughName.defaultMessage,shortcuts:["toggleStrike"],annotation:["s"]}),Pt({key:"toggle underline",displayName:Ct.underlineName,analyticsName:Ct.underlineName.defaultMessage,shortcuts:["toggleUnderline"],annotation:[g.b.Underline]})],cr=Tt({key:"toggle dark mode",displayName:Ct.darkModeName,analyticsName:Ct.darkModeName.defaultMessage,validators:[],shortcuts:["toggleDarkMode"],closeParentMenu:!0,action:({environment:e})=>{const t="light"===e.ThemeStore.state.mode?"dark":"light";Ce.c(e,{mode:t})}}),dr=Tt({key:"open peek view as page",displayName:Ct.openAsPageName,analyticsName:Ct.openAsPageName.defaultMessage,validators:[p.Ib],shortcuts:["commandEnter"],closeParentMenu:!0,action:({environment:e})=>{const t=We.c.state;t.open&&ue.navigateToBlock({environment:e,store:t.target})}}),ur=Tt({key:"toggle all toggles",displayName:Ct.openAllTogglesName,analyticsName:Ct.openAllTogglesName.defaultMessage,validators:[],shortcuts:["toggleAllToggles"],closeParentMenu:!0,action:()=>{const{currentBlockStore:e}=Fe.default.state;e&&Object(et.e)(e)}});function pr(e){return Tt({key:"join or create a workspace",displayName:Ct.joinOrCreateWorkspace,analyticsName:Ct.joinOrCreateWorkspace.defaultMessage,svg:Re.a.squarePlus,validators:[],closeParentMenu:!0,action:({environment:t})=>{ut.a.reset(),t.currentUser.id!==e?xe.a({environment:t,newCurrentUserId:e}).then(e=>{_e.a(e)}):_e.a(t)}})}function hr(e){return Tt({key:"log out of a single account",displayName:Ct.logOut,analyticsName:Ct.logOut.defaultMessage,svg:Re.a.circleCross,validators:[],closeParentMenu:!0,action:({environment:t})=>{const{online:n}=Ze.a.state;n&&(Te.logoutSingleAccount({environment:t,userId:e}),be.oe(t))}})}function mr(e){return e.actions.map(t=>({...t,searchName:[e.title,t.displayName].filter(Boolean).join(" ")}))}function fr(e,t){const n=[];for(const o of e){const e=o.actions.filter(t);e.length>0&&n.push({...o,actions:e})}return n}const gr=xt({key:"mobile revision actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[en,tn]}),br=[gr,{key:"block menu primary",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Ft,Ut,ar,rr,Vn,gn]},{key:"block menu secondary",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Un,zn,Xn,Yn,Hn,Gt,Zt,Kt,Fo,Xo,zo,Mo]},{key:"block menu comment",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Nn,qn]},{key:"block menu color",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e,{topBorder:!0})),actions:[ir]},{key:"block menu style",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[po,sr]}],vr=[gr,{key:"inline collection primary actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Ft,Ut,gn,Qo,so]},{key:"inline collection secondary actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Wo,Go,Yo,Ho,qo,Zo,Ko,Jo,Co]},{key:"inline collection export actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[ko,Ro]},{key:"inline collection move actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Fo]},bo],yr=[gr,{key:"inline collection primary actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Ft,Ut,gn,Qo]},{key:"inline collection secondary actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Jo,Co]},{key:"inline collection export actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Ro]},{key:"inline collection move actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Fo]},bo],Sr=[gr,{key:"fullscreen collection secondary actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[vn,Wo,Go,Yo,Ho,qo,Zo,Ko,Jo]},bo],wr=[gr,{key:"locked fullscreen collection primary actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[vn]}],kr=[gr,{key:"outliner primary actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Ht,Vt,Yt,qt,Wt,Ut,zt,Xt,gn,Gt]},{key:"outliner move actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Fo]}],Cr=xt({key:"pageHistory",render:e=>r.a.createElement(F.a,Object.assign({},e)),actions:[nn,No,Uo,Vt]}),Mr=[Jn,go,gr,xt({key:"topbar database edit lock",render:e=>r.a.createElement(F.a,Object.assign({},e)),actions:[io]}),xt({key:"topbar page edit lock",render:e=>r.a.createElement(F.a,Object.assign({},e)),actions:[co,ro,ao]}),xt({key:"topbar primary actions",render:e=>r.a.createElement(F.a,Object.assign({},e)),actions:[qt,Wt,to,no,oo,Tn,bn,Nt,Sn,wn,En,_n,Do]}),Cr,xt({key:"topbar import actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Ao,Ro,ko]}),xt({key:"topbar move actions",render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:[Fo]})],Er=[xt({key:"page",render:e=>r.a.createElement(F.a,Object.assign({},e)),actions:[yn,On,Bn,Ln,Pn,xn,In]}),xt({key:"user",render:e=>r.a.createElement(F.a,Object.assign({},e)),actions:[Rn,Dn]}),xt({key:"report page actions",render:e=>r.a.createElement(F.a,Object.assign({},e)),actions:[Do]})],_r=[...[{key:"mentionPerson",title:Ct.mentionPersonTitle,thumbnail:Le.a.images.blocks.mentionPersonPng,description:Ct.mentionPersonDescription,tooltipPhoto:Le.a.images.tooltips.blocks.mentionPersonPng,action:({environment:e})=>{Be.e(e,{user:!0,bot:!1,date:!1,page:!1,createPage:!1,reminder:!1})}},{key:"mentionPage",title:Ct.mentionPageTitle,thumbnail:Le.a.images.blocks.mentionPagePng,description:Ct.mentionPageDescription,tooltipPhoto:Le.a.images.tooltips.blocks.mentionPagePng,action:({environment:e})=>{Be.e(e,{user:!1,bot:!1,date:!1,reminder:!1,page:!0,createPage:!1})}},{key:"dateOrReminder",title:Ct.dateOrReminderTitle,thumbnail:Le.a.images.blocks.mentionDatePng,description:Ct.dateOrReminderDescription,tooltipPhoto:Le.a.images.tooltips.blocks.mentionTimePng,action:({environment:e})=>{Be.e(e,{user:!1,bot:!1,date:!0,reminder:!0,page:!1,createPage:!1})}}].map(e=>Tt({key:"insert ".concat(e.key),displayName:e.title,analyticsName:"Insert mention",render:t=>r.a.createElement(X,Object.assign({},t,{title:at.default.formatMessage(e.title),thumbnail:e.thumbnail,tooltipPhoto:e.tooltipPhoto,description:at.default.formatMessage(e.description),format:X.Format.Insert})),validators:[p.tb],closeParentMenu:!0,action:({environment:t})=>e.action({environment:t})})),Tt({key:"insert emoji",displayName:Ct.insertEmojiTitle,analyticsName:Ct.insertEmojiTitle.defaultMessage,validators:[p.tb],closeParentMenu:!0,render:e=>r.a.createElement(X,Object.assign({},e,{title:at.default.formatMessage(Ct.insertEmojiTitle),description:at.default.formatMessage(Ct.insertEmojiDescription),thumbnail:Le.a.images.blocks.inlineEmojiPng,tooltipPhoto:Le.a.images.tooltips.blocks.inlineEmojiPng,format:X.Format.Insert})),action:({environment:e})=>dt.d(e)}),Tt({key:"insert inline equation",displayName:Ct.insertInlineEquationTitle,analyticsName:Ct.insertInlineEquationTitle.defaultMessage,fuzzySearchKeywords:Ct.insertInlineEquationKeywords,validators:[p.tb],closeParentMenu:!0,render:e=>r.a.createElement(X,Object.assign({},e,{title:at.default.formatMessage(Ct.insertInlineEquationTitle),description:at.default.formatMessage(Ct.insertInlineEquationDescription),thumbnail:Le.a.images.blocks.inlineEquationPng,tooltipPhoto:Le.a.images.tooltips.blocks.inlineEquationPng,format:X.Format.Insert})),action:({environment:e})=>ie.b({environment:e,analyticsFrom:"slash_menu"})})],Tr=[xt({key:"Insert Basic Blocks",title:Ct.basicBlocksSection,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:C.c.map(e=>Bt(e,"slash_menu"))}),xt({key:"Insert Inline",title:Ct.inlineSection,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:_r}),xt({key:"Insert Database",title:Ct.databaseSection,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:C.d.map(e=>Bt(e,"slash_menu"))}),xt({key:"Insert Media",title:Ct.mediaSection,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:C.f.map(e=>Bt(e,"slash_menu"))}),xt({key:"Insert Embeds",title:Ct.embedsSection,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:C.e.map(e=>Bt(e,"slash_menu"))}),xt({key:"Insert Advanced Blocks",title:Ct.advancedBlocksSection,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:C.a.map(e=>Bt(e,"slash_menu"))})],xr=[...Tr,$o,xt({key:"slash actions",title:Ct.actionsSection,render:e=>r.a.createElement(F.a,Object.assign({isTitleUppercase:!0},e)),actions:(Ir=fr(br,e=>!(e.subActions||"string"==typeof e.key&&e.key.match(/new page in section/))),Ir.reduce((e,t)=>[...e,...t.actions],[]))}),er,tr];var Ir;const Pr=[ur,Jt,Qt,Ft,Ut,Un,vo,yo,So,Hn,zn,Xn,Yn,Gt,Zt,Kt,Nn,qn,en,tn,nn,on,$t,dn,un,hn,pn,jn,Fn,mn,fn,An,rn,an,sn,ln,cn,gn,Eo,_o,To,Io,xo,kn,Cn,Mn,Po,Fo,Vo,Oo,Tn,jo,wo,Yo,Ho,qo,Wo,Go,Zo,Ko,Jo,Qo,Xo,zo,ko,Ao,Co,Mo,po,Bo,Lo,cr,dr,lo,...lr,...mr($o),...mr(er),...mr(tr),...mr(nr),...mr(or)]},BL9y:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));n("3bBZ");var o=n("udrG");const r=function(e,t=!0,n={}){if(!e.state.ready)return!1;if(n[e.id])return!0;if(n[e.id]=!0,e.getType()===o.a.page&&!t)return!0;const a=e.getContentStores();let i=!0;for(const o of a)r(o,!1,n)||(i=!1);return i};async function a(e,t=!0,n={}){if(await e.load(),n[e.id])return;if(n[e.id]=!0,e.getType()===o.a.page&&!t)return;const r=e.getContentStores();await Promise.all(r.map(e=>a(e,!1,n)))}},BLi8:function(e,t,n){"use strict";n("3bBZ");var o=n("LEzx");class r extends o.a{constructor(){super(...arguments),this.loadMoreOffset=200,this.startLimit=20,this.limitIncrement=20}getInitialState(){return{filter:"",currentTab:"all_pages",loading:!0,limit:this.startLimit,excludePages:new Set}}}t.a=new r},BNhs:function(e,t,n){"use strict";n("3bBZ");var o=n("LEzx");class r extends o.a{getInitialState(){return{bypassedPageIds:new Set}}bypassedPage(e){return this.state.bypassedPageIds.has(e)}bypassPage(e){this.state.bypassedPageIds.add(e),this.emit()}}t.a=new r},BRCg:function(e,t,n){"use strict";n.r(t),n.d(t,"GlobalFileUploadStore",(function(){return r}));n("3bBZ");var o=n("LEzx");class r extends o.a{getInitialState(){return{}}getKeyState(e){return this.state[e]}setKeyState(e,t){const n=this.state;t?n[e]=t:delete n[e],this.emit()}isUploading(){const e=this.state,t=Object.keys(e);for(const n of t){if(e[n])return!0}return!1}getBlockKey(e){return e}}t.default=new r},BTUg:function(e,t,n){"use strict";var o=n("LEzx"),r=n("h2IJ");class a extends o.a{getInitialState(){return{color:Boolean(localStorage)&&r.a.get("currentHighlightColor")||"yellow_background"}}setHighlightColor(e){r.a.set("currentHighlightColor",e),this.setState({color:e})}}t.a=new a},BrOh:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var o=n("wpmu"),r=n("HRSx"),a=n("N34Z"),i=n("g90h"),s=n("udrG"),l=n("A9TN");function c(e){const{environment:t,parentStore:n,targetStore:l,transaction:c}=e,d=l.getValue();if(!d)throw new Error("Target store was not defined.");const u=Object(i.b)(),p={id:u,type:s.a.alias,format:{alias_pointer:{table:r.a,id:d.id,spaceId:d.space_id}},parent_id:n.id,parent_table:"block",alive:!0};return Object(a.b)({environment:t,table:"block",value:p,inMemoryRecordCache:n.inMemoryRecordCache,transaction:c}),o.a.createChildStore(n,{table:r.a,id:u})}function d(){return"local"===l.default.env||"development"===l.default.env}},C7oc:function(e,t,n){"use strict";var o,r=n("q1tI"),a=n.n(r),i=n("wldR"),s=n("Sb6f"),l=n("zmp8");!function(e){e[e.Red=0]="Red",e[e.Gray=1]="Gray"}(o||(o={}));class c extends i.a{renderComponent(){const{count:e}=this.props,t=this.props.color===o.Red;if(e&&!(e<=0))return a.a.createElement("div",{style:{...c.style,...this.props.style,...e>99&&{width:void 0,padding:2},background:t?l.g.red:this.theme.lightIconColor}},this.renderNumber())}renderNumber(){const{count:e}=this.props;if(e)return 1===e?a.a.createElement("span",{style:{marginBottom:1,marginLeft:-.5,letterSpacing:void 0,...this.props.numberStyle}},"1"):e>99?a.a.createElement("span",{style:{marginBottom:1,letterSpacing:-.5,...this.props.numberStyle}},"99+"):e>9?a.a.createElement("span",{style:{marginBottom:1,letterSpacing:-.5,marginLeft:-.5,...this.props.numberStyle}},e):a.a.createElement("span",{style:{marginBottom:1,...this.props.numberStyle}},e)}}c.Color=o,c.style={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,fontSize:10,textAlign:"center",fontWeight:s.a.fontWeight.semibold,borderRadius:3,color:l.g.white,position:"static",marginLeft:6,WebkitFontSmoothing:"auto"},t.a=c},CARr:function(e,t,n){"use strict";n.d(t,"m",(function(){return g})),n.d(t,"u",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"q",(function(){return y})),n.d(t,"d",(function(){return S})),n.d(t,"n",(function(){return w})),n.d(t,"a",(function(){return k})),n.d(t,"o",(function(){return C})),n.d(t,"b",(function(){return M})),n.d(t,"s",(function(){return E})),n.d(t,"f",(function(){return _})),n.d(t,"t",(function(){return T})),n.d(t,"g",(function(){return x})),n.d(t,"j",(function(){return I})),n.d(t,"r",(function(){return P})),n.d(t,"e",(function(){return O})),n.d(t,"p",(function(){return B})),n.d(t,"c",(function(){return L})),n.d(t,"v",(function(){return R})),n.d(t,"i",(function(){return D})),n.d(t,"l",(function(){return A})),n.d(t,"w",(function(){return j})),n.d(t,"k",(function(){return F}));n("3bBZ"),n("SYor");var o=n("LvDl"),r=n.n(o),a=n("cBa6"),i=n("D2XV"),s=n("njgS"),l=n("HRSx"),c=n("6BTz"),d=n("RgmA"),u=n("PXtY"),p=n("5/h/"),h=n("nFzZ");const m=new WeakMap;function f(e,t){let n=m.get(e);if(void 0===n){n={};for(const t of e){n[t.value.trim().toLowerCase()]=t.value}m.set(e,n)}return n[t]}function g(e){return a.cb(e).split(",").map(e=>e.trim()).filter(Boolean)}function b(e,t){const n=g(e);for(const o of n){const e=f(t,o.trim().toLowerCase());if(e)return e}}function v(e){return e?[[e]]:[]}function y(e,t){const n=a.cb(e).split(",").map(e=>e.trim()).filter(Boolean).map(e=>{const n=f(t,e.trim().toLowerCase());if(n)return n});return r.a.uniq(r.a.compact(n))}function S(e){if(!e)return[];return[[e.join(",")]]}function w(e){return a.cb(e).trim().toLowerCase()===s.d.trim().toLowerCase()}function k(e){return e?s.c:s.a}function C(e){const t=a.K(e);if(t.length>0){if("Invalid Date"===t[0].start_date)return;return t[0]}const n=a.cb(e);return i.hb(n)}function M(e){return e?[a.h(a.d(e))]:[]}function E(e){return Object(h.s)(a.E(e))}function _(e){const t=e.map(e=>e.table===p.a?a.h(a.o(e.id)):a.h(a.c(e.id)));return Object(d.a)(t,()=>a.n(","))}function T(e){const t=a.W(e);return r.a.uniq(t)}function x(e){const t=e.map(e=>a.h(a.i(e)));return Object(d.a)(t,()=>a.n(","))}function I(e){const{relationValue:t,getRecordValue:n,propertySchema:o,limit:r,includeUnknownRelations:a}=e,i=[];for(const s of t){if(r&&i.length>=r)break;const e=n({table:l.a,id:s});!a||e?e&&e.alive&&e.parent_id===o.collection_id&&i.push(s):i.push(s)}return i}function P(e){const t=a.cb(e);return c.e(t)}function O(e){return void 0===e||isNaN(e)?[]:[[e.toString()]]}function B(e){const t=a.U(e),n=r.a.uniqBy(t,e=>e.url);if(n.length>0)return n;const o=a.cb(e);if(o){const e=a.T(o);if(e)return[{name:e.value,url:e.href}]}return[]}function L(e){const t=e.map(e=>a.n(e.name,[a.g(e.url)]));return Object(d.a)(t,()=>a.n(","))}function R(e){const t=a.U(e);return t.length>0?t[0].url:a.cb(e)}function D(e){return null==e?[]:[a.n(e,[a.g(e)])]}function A(e){const t=Array.from(Object(u.a)({...e,depth:0}));return 0===t.length||t.every(e=>{switch(e.type){case"text":return void 0===e.value||""===e.value;case"checkbox":return void 0===e.value||!1===e.value;case"number":return void 0===e.value||0===e.value;case"select":case"date":return void 0===e.value;case"multi_select":case"relation":case"person":case"file":return void 0===e.value||0===e.value.length}})}function j(e){const t=Array.from(Object(u.a)({...e,depth:0}));return 0===t.length||t.every(e=>{switch(e.type){case"text":return void 0===e.value||""===e.value;case"checkbox":return void 0===e.value||!1===e.value;case"select":case"number":case"date":return void 0===e.value;case"multi_select":case"relation":case"person":case"file":return void 0===e.value||0===e.value.length}})}function F(e){if(e&&"formula"===e.type){const{formula:t}=e;return t&&"checkbox"===t.result_type}return e&&"checkbox"===e.type}},CI7d:function(e,t,n){"use strict";const o={fontSize:{ui:{s:14,m:15},body:{s:15,m:17,l:20},title:{s:22,m:30,l:38,xl:50,xxl:74}},fontFamily:{sans:'inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"',handwriting:'permanent-marker, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"',mono:"iawriter-mono, Nitti, Menlo, Courier, monospace"},fontWeight:{regular:400,medium:500,bold:700},styles:{paragraph:{fontSize:17,lineHeight:1.5},smallCaps:{textTransform:"uppercase",fontSize:11,letterSpacing:.5,fontWeight:500}}};t.a=o},CIk0:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("mF3+"),i=n("y6Dp"),s=n("FcJC"),l=n("loBV"),c=n("wldR"),d=n("LeVO"),u=n("MBf9"),p=n("d9nj"),h=n("6rsX"),m=n("J9+s");class f extends c.a{constructor(){super(...arguments),this.handleBookmarkClick=()=>{const{spaceViewStore:e}=this.props;e&&(h.e(this.environment),i.r(this.environment,{from:"topbar"}),u.createAndCommit(this.environment,t=>{s.bookmarkPage({spaceViewStore:e,store:this.props.store,transaction:t})}))},this.handleUnbookmarkClick=()=>{const{spaceViewStore:e}=this.props;e&&(h.e(this.environment),i.Ze(this.environment,{from:"topbar"}),u.createAndCommit(this.environment,t=>{s.unbookmarkPage({spaceViewStore:e,store:this.props.store,transaction:t})}))}}renderComponent(){const{spaceViewStore:e}=this.props,t=!!e&&Object(l.a)({spaceViewStore:e,pageId:this.props.store.id}),n=t?r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(m.FormattedMessage,{defaultMessage:"Hide this page from your sidebar",id:"topbar.favoriteButton.activeTooltip1",description:"Favorite button tooltip (when it's active), part 1"})):r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(m.FormattedMessage,{defaultMessage:"Pin this page in your sidebar",id:"topbar.favoriteButton.tooltip1",description:"Favorite button tooltip (when it's NOT active), part 1"}));return r.a.createElement(d.a,{placement:d.a.Placement.Bottom,renderTooltip:()=>n,render:e=>r.a.createElement(p.a,Object.assign({},e,{onClick:t?this.handleUnbookmarkClick:this.handleBookmarkClick,icon:t?a.a.check:void 0}),r.a.createElement("span",null,t?r.a.createElement(m.FormattedMessage,{defaultMessage:"Favorited",id:"topbar.favoriteButton.activeTitle",description:"Favorite button title when it's active"}):r.a.createElement(m.FormattedMessage,{defaultMessage:"Favorite",id:"topbar.favoriteButton.title",description:"Favorite button title when it's NOT active"})))})}}t.a=f},CNGQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var o=n("bkwR"),r=n("RyVQ"),a=n("ohKz"),i=n("toub");function s(e){const{environment:t,onSubmit:n,onCancel:o}=e;t.device.isMobile?a.a.setState({open:!0}):i.a.setState({open:!0,currentTab:"profile"}),r.a.setState({open:!0,setNewPassword:!0,password:"",repeatPassword:"",onSubmit:n,onCancel:o})}async function l(e){const{environment:t,userEmail:n}=e,r=await o.checkEmailType(t,{email:n,allowAdminBypass:!0});if("failed"===r.type)return{error:r.error};const{samlRedirect:a,hasPassword:i}=r.data;return{value:{isSamlEnforced:Boolean(a&&a.enforced),hasPassword:Boolean(i)}}}},CPkY:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));n("3bBZ");var o=n("VhAz"),r=n("yF27"),a=n("922z"),i=n("P0+2"),s=n("JU1L"),l=n("LvDl"),c=n.n(l),d=n("Ittr");async function u(){try{await Object(i.a)("LocalRecordStore3")}catch(e){}}const p=[100,1e3,1e4];t.a=class{constructor(e,t,n){this.debug=!1,this.inMemoryCache={},this.inMemoryRecordsToDelete=new Set,this.recordToMaybeStale=new Map,this.debouncedFlushToDisk=c.a.debounce(()=>this.flushInMemoryCacheToDisk(),200,{maxWait:2e3}),this.deleteToSizeInTransaction=Object(r.d)(async(e,t)=>{const n=e.objectStore("Entry"),o=await n.count();if(this.log("deleteToSizeTransaction","target size ".concat(t,", current size ").concat(o)),o<=t)return o;const r=o-t;return o-await this.deleteOldestInTransaction(e,r)}),this.deleteOldestInTransaction=Object(r.d)(async(e,t)=>{const n=e.objectStore("Entry");let o=0,r=await n.index("byTimestamp").openCursor();for(;r&&o<t;)r.delete(),o++,r=await r.continue();return o}),this.batchedDeleteInTransaction=Object(r.d)(async(e,t)=>{const n=e.objectStore("Entry");t.forEach(Object(r.d)(async e=>{const t=await n.openCursor(e);return!!t&&(t.delete(),!0)}))}),this.batchedSetInTransaction=Object(r.d)(async(e,t)=>{const n=e.objectStore("Entry"),o=await Object(r.c)(t.map(Object(r.d)(async e=>{const t=await n.openCursor(e.id);return!!t&&(this.recordToMaybeStale.get(e)&&t.value.value.value&&e.value.value&&e.value.value.version<=t.value.value.value.version?(this.recordToMaybeStale.delete(e),!0):(t.update(e),!0))}))),a=t.filter((e,t)=>!1===o[t]).length;if(0===a)return this.log("batchedSet","only writing updates to records"),"ok";const i=Math.max(this.maxSize-a,0),s=await this.deleteToSizeInTransaction(e,i),l=a-(this.maxSize-s);let c=!1;return t.forEach((e,t)=>{o[t]||(t<l?c=!0:(n.put(e),this.recordToMaybeStale.has(e)&&this.recordToMaybeStale.delete(e)))}),c?"full":"ok"}),this.maxSize=n,this.upgraded=!1,this.previousDbVersion=0,this.db=new r.a(e,t,5,{upgrade:(e,t,n,r)=>{this.upgraded=!0,this.previousDbVersion=t;const a=()=>{const t=e.createObjectStore("Entry",{keyPath:o.d("id")});return t.createIndex("byTimestamp",o.d("timestamp")),t.createIndex("byParentTableAndId",[[o.d("value"),o.d("value"),o.d("parent_table")].join("."),[o.d("value"),o.d("value"),o.d("parent_id")].join(".")]),t};if(t<1&&a(),t<4){const t=e.createObjectStore("Entry2",{keyPath:[o.d("table"),o.d("id"),o.d("userId")]});t.createIndex("byTimestamp",o.d("timestamp")),t.createIndex("byParentTableAndId",[[o.d("value"),o.d("value"),o.d("parent_table")].join("."),[o.d("value"),o.d("value"),o.d("parent_id")].join(".")]),t.createIndex("byUserId",o.d("userId"))}if(t<5){(()=>Array.from(r.objectStoreNames).includes("Entry")?r.objectStore("Entry"):a())().createIndex("byUserId",o.d("userId"))}}})}async initialize(e){const t=this.getUserId(e);await this.db.startTransaction({storeNames:["Entry","Entry2"],mode:"readwrite",errorDetails:"Failed to initialize DB",timeoutMs:void 0},async e=>{const n=this.previousDbVersion;if(this.upgraded&&n<5){const n=e.objectStore("Entry"),o=e.objectStore("Entry2");let r=await n.openCursor();for(;r;){const e=r.value;if(e.id.split(":").length>2){r=await r.continue();continue}const o=Object(s.a)(e.id),a=this.getEntryKey({pointer:o,userId:t});await r.delete(),await n.put({...e,id:a,userId:t}),r=await r.continue()}let i=await o.openCursor();for(;i;){const e=i.value,t=this.getEntryKey({pointer:a.b.fromPointerLike({table:e.table,id:e.id}),userId:e.userId});n.put({...e,id:t,userId:e.userId}),await i.delete(),i=await i.continue()}}return{value:void 0}})}set(e,t,n,o,r,a){const i=this.getUserId(o),s={id:this.getEntryKey({pointer:e,userId:i}),table:e.table,userId:i,value:t,timestamp:Date.now()};this.setInMemory({userId:i,pointer:e,record:s,maybeStaleRecord:a}),this.inMemoryRecordsToDelete.delete(e.id),this.debouncedFlushToDisk()}async get(e,t){if(this.inMemoryRecordsToDelete.has(e.id))return;t=this.getUserId(t);const n=this.getInMemory({userId:t,pointer:e})||await this.getEntryFromDisk(e,t);return n?(this.setInMemory({userId:t,pointer:e,record:{...n,timestamp:Date.now()}}),this.debouncedFlushToDisk(),n.value):void 0}deleteRecord(e,t){this.inMemoryRecordsToDelete.add(e.id),t=this.getUserId(t),this.deleteFromMemory({pointer:e,userId:t})}async getRecordsWithParent(e){const{table:t,parent:n}=e,r=this.getUserId(e.userId),i=await this.db.startTransaction({storeNames:["Entry"],mode:"readonly",errorDetails:"Failed to get records with parent",timeoutMs:void 0},async e=>{const o=[],a=e.objectStore("Entry");let i=await a.index("byParentTableAndId").openCursor([n.table,n.id]);for(;i;){const{pointer:e}=this.getEntryKeyParts(i.value.id);if(e.table===t){const t=(this.getInMemory({userId:r,pointer:e})||i.value).value;t.value&&t.value.parent_id===n.id&&t.value.parent_table===n.table&&o.push(t)}i=await i.continue()}return{value:o}}),s=o.f(i);for(const o of s)o.value&&this.set(a.b.fromPointerLike({table:t,id:o.value.id}),o,void 0,r,void 0);return this.log("getRecordsWithParent",{parent:n,found:s.length}),s}getPageBlocksByParent(e){return Promise.resolve([])}async reset(){await this.db.reset()}log(e,t){this.debug&&console.log(e,t)}async getEntryFromDisk(e,t){const n=await this.db.startTransaction({storeNames:["Entry"],mode:"readonly",errorDetails:"Failed to get entry",timeoutMs:void 0},async n=>({value:await n.objectStore("Entry").get(this.getEntryKey({pointer:e,userId:t}))}));return o.f(n)}async deleteOldest(e){return o.f(await this.db.startTransaction({storeNames:["Entry"],mode:"readwrite",errorDetails:"Failed to delete oldest",timeoutMs:void 0},async t=>({value:await this.deleteOldestInTransaction(t,e)})))}async flushInMemoryCacheToDisk(){const e=[];for(const o of Object(d.b)(this.inMemoryCache))o.value&&e.push(o.value);const t=Array.from(this.inMemoryRecordsToDelete);this.inMemoryCache={},this.inMemoryRecordsToDelete=new Set;const n=Date.now();for(let r=0;r<=p.length;r++){const a=await this.db.startTransaction({storeNames:["Entry"],mode:"readwrite",errorDetails:"Failed to write entries",timeoutMs:void 0},async n=>(0===r&&await this.batchedDeleteInTransaction(n,t),{value:await this.batchedSetInTransaction(n,e)}));if(!(a.error&&"QuotaFull"===a.error.type&&r<p.length))return this.log("flushInMemoryCacheToDisk","took ".concat(Date.now()-n,"ms to write ").concat(e.length," entries")),o.f(a);await this.deleteOldest(p[r])}throw new Error("IndexedDBRecordCache: All attempts to write failed.")}getEntryKey(e){const{pointer:t,userId:n}=e;return[t.id,t.table,n].join(":")}getEntryKeyParts(e){const[t,n,o]=e.split(":");return{pointer:a.b.fromPointerLike({id:t,table:n}),userId:o}}getUserId(e){return e||d.c}setInMemory(e){const{userId:t,pointer:n,record:o,maybeStaleRecord:r}=e;Object(d.e)(this.inMemoryCache,n,t,o),r&&!this.recordToMaybeStale.has(o)?this.recordToMaybeStale.set(o,r):!r&&this.recordToMaybeStale.has(o)&&this.recordToMaybeStale.delete(o)}getInMemory(e){const{userId:t,pointer:n}=e;return Object(d.a)(this.inMemoryCache,n,t)}deleteFromMemory(e){const{userId:t,pointer:n}=e;return Object(d.d)(this.inMemoryCache,n,t)}}},CQbt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fIr1");const r="integration",a={table:r,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,name:o.a.String,parent_table:o.a.String,parent_id:o.a.UUID,created_at:o.a.Number,created_by_id:o.a.UUID,created_by_table:o.a.String,updated_at:o.a.Number,updated_by_id:o.a.UUID,updated_by_table:o.a.String,redirect_uris:o.a.StringArray,status:o.a.String,info:o.a.JSON,alive:o.a.Boolean}};t.b=a},CSYU:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{ready:!1,loading:!1}}}t.a=r},CTEM:function(e,t,n){"use strict";var o=n("e4sT"),r=n.n(o);t.a=function(e){return!(!e||e.length>100||e.startsWith("data")||e.startsWith("http"))&&r.a.onlyEmoji(e).length>0}},CVgL:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("3bBZ");var o=n("VhAz");const r={pseudoAfter:{color:!0,content:!0},pseudoBefore:{color:!0,content:!0}};function a(...e){const t=[],n={};let a=!1;for(const l of e)if(l)if("string"!=typeof l)for(const[e,s]of Object.entries(l))if(e in r){const r=e,l=s;t.push(r);for(const[e,t]of Object(o.b)(l)){n[(i=e,"--".concat(r,"--").concat(i))]=t,a=!0}}else"style"===e?(Object.assign(n,s),a=!0):"className"===e?t.push(s):"object"!=typeof s&&"function"!=typeof s&&(n[e]=s,a=!0);else t.push(l);var i;const s={};return t.length>0&&(s.className=t.join(" ")),a&&(s.style=n),s}},CZQ9:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},CaJT:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));n("Junv"),n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("7Qu9"),i=n("MBf9"),s=n("sjR4"),l=n("DNgp"),c=n("922z");const d=function(){const e=a.default.state,{currentIndex:t,revisionStack:n}=e,o=t+1;return{revision:n[t],index:o}};const u=function(){const e=a.default.state,{currentIndex:t,revisionStack:n}=e,o=t-1;return{revision:n[o],index:o}};const p=function(e){const t=a.default.state;let{revisionStack:n}=t;const{currentIndex:o}=t;n=r.a.slice(n,o,n.length);const i=Date.now(),s=n[0];!e.undoCheckpoint&&s&&i-s.timestamp<=a.groupInterval&&s.transactions[0].isLocal===e.transaction.isLocal?s.transactions.push(e.transaction):n.unshift({transactions:[e.transaction],timestamp:i}),a.default.setState({...a.default.state,revisionStack:n,currentIndex:0})};function h(e,t){const{revision:n,index:o}=d();n&&function(e){const{environment:t,revision:n,nextIndex:o,preventSelectText:d}=e;let{transactions:u}=n;const p=i.create(t);u=r.a.clone(u),u.reverse();for(const a of u){const e=r.a.clone(a.invertedOperations);e.reverse();for(const t of e){const e=a.stores.find(e=>Object(c.g)(e.pointer,t.pointer));t&&e&&i.addOperation({transaction:p,store:e,operation:t})}a.beforeSelection&&s.default.setState({...s.default.state,...a.beforeSelection}),a.beforeTextSelection&&!d&&l.default.setState(a.beforeTextSelection)}i.commit({environment:t,transaction:p,canUndo:!1}),a.default.setState({...a.default.state,currentIndex:o})}({environment:e,revision:n,nextIndex:o,preventSelectText:t})}function m(e,t){const{revision:n,index:o}=u();n&&function(e,t,n,o){const r=i.create(e),{transactions:d}=t;for(const a of d){for(const e of a.operations){const t=a.stores.find(t=>Object(c.g)(t.pointer,e.pointer));t&&i.addOperation({transaction:r,store:t,operation:e})}a.afterSelection&&s.default.setState({...s.default.state,...a.afterSelection}),a.afterTextSelection&&!o&&l.default.setState(a.afterTextSelection)}i.commit({environment:e,transaction:r,canUndo:!1}),a.default.setState({...a.default.state,currentIndex:n})}(e,n,o,t)}const f=function(){a.default.reset()},g=function(){const{revision:e}=d();return!!e},b=function(){const{revision:e}=u();return!!e}},Catn:function(e,t,n){"use strict";var o=n("rQgN");t.a=new class{constructor(e,t){this.localStorageStore=new o.a(e,t)}get({userId:e,key:t}){return this.localStorageStore.get(this.makeUserKey(e,t))}set({userId:e,key:t,value:n}){return this.localStorageStore.set(this.makeUserKey(e,t),n)}remove({userId:e,key:t}){return this.localStorageStore.remove(this.makeUserKey(e,t))}clearStorageForUser(e){this.localStorageStore.scan(t=>{t.startsWith(e)&&this.remove({userId:e,key:t})})}makeUserKey(e,t){return"".concat(e||"guest",":").concat(t)}}("LocalPreferenceStore3",!1)},Cf1b:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{justUnlocked:!1}}}t.a=r},Cgnk:function(e,t,n){"use strict";n("3bBZ");var o=n("LEzx"),r=n("hU3F");class a extends o.a{constructor(){super(...arguments),this.containerDomNode=new r.a(null)}getInitialState(){return{overlays:new Set}}}t.a=a},ClNu:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isHidden:!1}}}t.a=r},Cm2F:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v}));var o=n("bPtJ"),r=n("y6Dp"),a=n("I6hv"),i=n("bmSz"),s=n("7TLZ"),l=n("LNOE"),c=n("yjqD"),d=n("6rsX"),u=n("unoy"),p=n("3k5a"),h=n("gYhp"),m=n("w5u6");function f(e,t){const n=h.a.findComponent(e=>e.props.store.id===t);n&&(d.e(e),u.n({store:n.discussionInputStore.state.textStore}))}async function g(e){const{environment:t,blockStore:n,analyticsFrom:u,discussionId:h,shouldFocusDiscussion:g}=e;let{rect:b}=e;const v=a.b.state.open&&a.b.state.blockStore.id===n.id&&a.b.state.discussionId===h;if(t.device.isMobile&&d.e(t),await m.default.afterNextFlush(),n.isNavigableBlock()){if(h){const e=n.getValue();"PageDetailsStore"in t&&t.PageDetailsStore.setToggleState({type:"discussion",id:e&&e.id,environment:t},!0);const a=Object(o.c)(n,{table:i.a,id:h}).getValue();if(a&&a.resolved){const e=p.a.findBlockWithMethodFromStore(n,"openResolvedDiscussionPopup");e&&(e.openResolvedDiscussionPopup(),await m.default.afterNextFlush(),l.f(h))}r.Nc(t,{from:u})}return}if(!b){const e=p.a.getRect(n);if(!e)return;const t=e.width,o=e.height,r=e.right-t;b={top:e.top,left:r,right:e.right,bottom:e.top+o,height:o,width:t}}let y=a.a.Open;if(h){const e=Object(o.c)(n,{table:i.a,id:h}).getValue();e&&e.resolved&&(y=a.a.Resolved)}else{0===s.m(n).length&&(y=a.a.Resolved)}if(t.device.isMobile&&d.e(t),a.b.setState({open:!0,rect:b,tab:y,blockStore:n,discussionId:h}),r.Nc(t,{from:u}),g)if(h){if(await c.h(10),await m.default.afterNextFlush(),l.f(h),t.device.isMobile)return;v||f(t,h)}else{if(t.device.isMobile)return;const e=s.m(n);e.length>0&&(await c.h(10),await m.default.afterNextFlush(),f(t,e[0].id))}}const b=()=>{const e=a.b.state;e.open&&a.b.setState({open:!1,rect:e.rect})},v=()=>{const e=a.b.state;if(e.open&&e.tab===a.a.Open){0===s.m(e.blockStore).length&&b()}}},CpD0:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("LEzx");class i extends a.a{constructor(){super(...arguments),this.pause=()=>{this.setState({active:!1,onActive:[]})},this.resume=()=>{this.state.onActive.map(e=>e()),this.setState({active:!0,onActive:[]})}}getInitialState(){return{active:!0,onActive:[]}}whenActive(e){this.state.active?e():this.setState({...this.state,onActive:r.a.uniq([...this.state.onActive,e])})}}t.a=new i},Cycz:function(e,t,n){"use strict";n.d(t,"C",(function(){return C})),n.d(t,"D",(function(){return M})),n.d(t,"E",(function(){return E})),n.d(t,"x",(function(){return _})),n.d(t,"y",(function(){return T})),n.d(t,"w",(function(){return x})),n.d(t,"o",(function(){return I})),n.d(t,"h",(function(){return P})),n.d(t,"N",(function(){return B})),n.d(t,"O",(function(){return L})),n.d(t,"P",(function(){return R})),n.d(t,"Q",(function(){return D})),n.d(t,"J",(function(){return A})),n.d(t,"I",(function(){return j})),n.d(t,"K",(function(){return F})),n.d(t,"L",(function(){return V})),n.d(t,"j",(function(){return N})),n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return z})),n.d(t,"v",(function(){return X})),n.d(t,"n",(function(){return Y})),n.d(t,"t",(function(){return H})),n.d(t,"u",(function(){return q})),n.d(t,"r",(function(){return W})),n.d(t,"s",(function(){return G})),n.d(t,"H",(function(){return Z})),n.d(t,"M",(function(){return K})),n.d(t,"d",(function(){return J})),n.d(t,"B",(function(){return Q})),n.d(t,"A",(function(){return $})),n.d(t,"q",(function(){return ee})),n.d(t,"p",(function(){return te})),n.d(t,"G",(function(){return ne})),n.d(t,"m",(function(){return oe})),n.d(t,"e",(function(){return re})),n.d(t,"g",(function(){return ae})),n.d(t,"i",(function(){return ie})),n.d(t,"f",(function(){return se})),n.d(t,"c",(function(){return le})),n.d(t,"F",(function(){return ce})),n.d(t,"k",(function(){return de})),n.d(t,"z",(function(){return ue})),n.d(t,"l",(function(){return pe}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("A9TN"),l=n("mKX5"),c=n("6BTz"),d=n("IdSf"),u=n("z22Z"),p=n("QcDD"),h=n("+fkW"),m=n("zmp8"),f=n("J9+s"),g=n("7Vnh"),b=n("oYg8"),v=n("vl8/"),y=(n("IULH"),n("r8MX")),S=n("vDOa"),w=n("mF3+");const k=Object(f.defineMessages)({monthlyPrice:{id:"spaceSubscriptionBilling.setBillingInterval.pricePerMonth",defaultMessage:"{monthlyPrice} per month"},monthlyPricePerMember:{id:"spaceSubscriptionBilling.setBillingInterval.pricePerMonth.perMember",defaultMessage:"{monthlyPrice} per member per month"}}),C=function(e){const t=I(e);return t&&"number"==typeof t.canceledAt&&"number"==typeof t.willCancelAt},M=function(e){return Boolean(e&&"unsubscribed_admin"!==e.type&&"unsubscribed_member"!==e.type&&"unsubscribed_guest"!==e.type)},E=function(e){return!M(e)};function _(e){return e&&function(e){const t=I(e);if(t)return t.productId}(e)===s.default.pricing.student.productId}function T(e){return Boolean(e&&"subscribed_admin"===e.type&&"v2"===e.version&&e.customerData&&e.customerData.revenueCat&&!0===e.customerData.revenueCat.isSubscribed)}function x(e){return!!e&&("subscribed_admin"===e.type||"unsubscribed_admin"===e.type)}function I(e){if(e&&"subscribed_admin"===e.type&&function(e){return void 0!==e.billing}(e.customerData.stripe))return e.customerData.stripe}function P(e){const t=p.default.state.currentSpaceStore;if(!t)return;const n=y.default.state.data,o=h.a.getPublicSpaceData(e,t.id);if(o&&n){if(o.productId===s.default.pricing.personal.productId||T(n))return"personal";if(o.productId===s.default.pricing.team.productId)return"team";if(o.productId===s.default.pricing.enterprise.productId)return"enterprise";if(o.productId===s.default.pricing.student.productId)return"student";switch(o.planType){case"personal":return"personal_free";case"team":return"team_free";default:return"free"}}}function O(e,t){const n=P(e);return!!n&&t.includes(n)}function B(e){return O(e,["personal_free","team_free","free"])}function L(e){return O(e,["team","team_free","enterprise"])}function R(e){return O(e,["personal_free","personal","free"])}function D(e,t){return t===P(e)}function A(e){return!O(e,["personal","student","personal_free"])}function j(e){return!B(e)}function F(e){return!B(e)}function V(e){return D(e,"personal_free")}function N(e){switch(P(e)){case"personal_free":return"personal";case"team_free":case"free":return"team";default:return!1}}function U(e){const{environment:t,userRootStore:n}=e;if(!n)return;const o=n.getAdminSpaceViewIds().map(e=>{const n=h.a.getPublicSpaceData(t,e);return n&&n.productId});return r.a.compact(o)}async function z(e){const{environment:t,userRootStore:n}=e;if(!n)return;const o=n.getAdminSpaceViewIds().map(async e=>{const n=await h.a.awaitPublicSpaceData(t,e);return n&&n.productId}),a=await Promise.all(o);return r.a.compact(a)}const X=function(e){return"visibleUsers"in e?e.visibleUsers:e.users};function Y(e){return"bots"in e?e.bots:[]}const H=function(e){return X(e).filter(e=>Object(u.k)(e.role))},q=function(e){return H(e).length},W=function(e){return X(e).filter(e=>!Object(u.k)(e.role))},G=function(e){return W(e).length};function Z(e){const t=I(e);return!!t&&(!("charge_automatically"!==t.billing||!t.last4)||!("send_invoice"!==t.billing||!t.billingEmail))}function K(e){return["free","team_free"].some(t=>D(e,t))}const J=function(e,t){return t&&E(t)&&K(e)?t.blockUsage:0},Q=function(e,t){return J(e,t)>=s.default.pricing.team_free.spaceBlockLimit},$=function(e,t){return"unsubscribed_guest"===t.type&&t.blockUsage>=s.default.pricing.team_free.spaceBlockLimit},ee=function(e,t){return J(e,t)/s.default.pricing.team_free.spaceBlockLimit},te=function(e,t){return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.reachedFreeBlockLimit",defaultMessage:"This workspace has used {usedBlocks} of its {freeBlockLimit} block storage limit ({utilizationPercentage}).",values:{usedBlocks:J(e,t),freeBlockLimit:s.default.pricing.team_free.spaceBlockLimit,utilizationPercentage:i.a.createElement(f.FormattedNumber,{value:ee(e,t),style:"percent",maximumSignificantDigits:2,maximumFractionDigits:0})}})},ne=function(e,t,n){const o=t.getPlanType();if(E(n))switch(o){case"team":return i.a.createElement(a.Fragment,null,i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.teamTrialMessage",defaultMessage:"This workspace is on a free trial of the <bold>Team Plan</bold> with a block storage limit.",values:{bold:(...e)=>i.a.createElement("b",null,e)}})," ",te(e,n));case"personal":return i.a.createElement(a.Fragment,null,i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.personalFreeUpgradeMessage",defaultMessage:"This workspace is on the <bold>Personal Plan</bold>. Upgrade to collaborate with more people using Notion.",values:{bold:(...e)=>i.a.createElement("b",null,e)}}));default:return}if(!P(e))return i.a.createElement(a.Fragment,null,i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.legacySubscriptionMessage",defaultMessage:"Our subscription system is currently being migrated. Please check back in a bit to see what's new!"}));const r=I(n);if(r&&C(n))return i.a.createElement(a.Fragment,null,function(e,t,n){const o={cancellationDate:t,expirationDate:n,bold:(...e)=>i.a.createElement("b",null,e)};switch(e){case"personal":return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.cancellationMessage.personalPlan",defaultMessage:"This workspace’s <bold>Personal Pro</bold> plan was canceled on {cancellationDate} and will expire on {expirationDate}.",values:o});case"personal_education":return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.cancellationMessage.personalEducationPlan",defaultMessage:"This workspace’s <bold>Personal Pro Education</bold> plan was canceled on {cancellationDate} and will expire on {expirationDate}.",values:o});case"team":return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.cancellationMessage.teamPlan",defaultMessage:"This workspace’s <bold>Team</bold> plan was canceled on {cancellationDate} and will expire on {expirationDate}.",values:o});case"enterprise":return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.cancellationMessage.enterprisePlan",defaultMessage:"This workspace’s <bold>Enterprise</bold> plan was canceled on {cancellationDate} and will expire on {expirationDate}.",values:o});case"legacy":return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.cancellationMessage.legacyPla",defaultMessage:"This workspace’s <bold>Legacy</bold> plan was canceled on {cancellationDate} and will expire on {expirationDate}.",values:o})}}(pe(r.productId),Object(l.a)(r.canceledAt).format("LL"),Object(l.a)(r.willCancelAt).format("LL"))," ",function(e){switch(e){case"team":return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.nextPlan.team",defaultMessage:"After the current plan expires, this workspace will be in a free trial of the Team Plan with a 1,000 block storage limit."});case"personal":return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.nextPlan.personal",defaultMessage:"After the current plan expires, this workspace will be on the Personal Plan."});default:return}}(o));if(r){const e=Object(c.b)({amount:r.planAmount*r.quantity,currency:"dollar",intl:v.default.getIntl()}),n=Object(c.b)({amount:Math.max(0,r.nextInvoiceAmount||0),currency:"dollar",intl:v.default.getIntl()}),o=function(e,t,n,o){const r={bold:(...e)=>i.a.createElement("b",null,e),renewalDate:i.a.createElement("b",null,o),planCharge:t,planInterval:n};switch(e){case"personal":return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionNextChargeMessage.personalPlan",defaultMessage:"{planInterval, select, month {This workspace’s Personal Pro Plan is set to <bold>{planCharge} per month</bold> and will renew on {renewalDate}.} other {This workspace’s Personal Pro Plan is set to <bold>{planCharge} per year</bold> and will renew on {renewalDate}.}}",description:"Example: 'This workspace’s Personal Pro Plan is set to <bold>$10 per month</bold> and will renew on April 1, 2020.'",values:r});case"personal_education":return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionNextChargeMessage.personalEducationPlan",defaultMessage:"{planInterval, select, month {This workspace’s Personal Pro (Education) plan is set to <bold>{planCharge} per month</bold> and will renew on {renewalDate}.} other {This workspace’s Personal Pro (Education) plan is set to <bold>{planCharge} per year</bold> and will renew on {renewalDate}.}}",description:"Example: 'This workspace’s Personal Pro (Education) plan is set to <bold>$10 per month</bold> and will renew on April 1, 2020.'",values:r});case"team":return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionNextChargeMessage.teamPlan",defaultMessage:"{planInterval, select, month {This workspace’s Team Plan is set to <bold>{planCharge} per month</bold> and will renew on {renewalDate}.} other {This workspace’s Team Plan is set to <bold>{planCharge} per year</bold> and will renew on {renewalDate}.}}",description:"Example: 'This workspace’s Team Plan is set to <bold>$10 per month</bold> and will renew on April 1, 2020.'",values:r});case"enterprise":return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionNextChargeMessage.enterprisePlan",defaultMessage:"{planInterval, select, month {This workspace’s Enterprise Plan is set to <bold>{planCharge} per month</bold> and will renew on {renewalDate}.} other {This workspace’s Enterprise Plan is set to <bold>{planCharge} per year</bold> and will renew on {renewalDate}.}}",description:"Example: 'This workspace’s Enterprise Plan is set to <bold>$10 per month</bold> and will renew on April 1, 2020.'",values:r});case"legacy":return i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionNextChargeMessage.legacyPlan",defaultMessage:"{planInterval, select, month {This workspace’s Legacy Plan is set to <bold>{planCharge} per month</bold> and will renew on {renewalDate}.} other {This workspace’s Legacy Plan is set to <bold>{planCharge} per year</bold> and will renew on {renewalDate}.}}",description:"Example: 'This workspace’s Legacy Plan is set to <bold>$10 per month</bold> and will renew on April 1, 2020.'",values:r})}}(pe(r.productId),e,r.interval,Object(l.a)(r.periodEnd).format("LL")),s=t.id,u=i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.upcomingInvoiceLink",defaultMessage:"<upcominginvoicelink>View upcoming invoice</upcominginvoicelink>",values:{upcominginvoicelink:(...e)=>i.a.createElement(d.a,{inline:!0,style:{color:m.g.uiGray,whiteSpace:"nowrap"},innerStyle:{color:m.g.uiGray,padding:"2px 3px",borderRadius:3},href:"/invoice/upcoming?spaceId=".concat(s),external:!0},e)}});return r.periodEnd===r.nextInvoiceTime?i.a.createElement(a.Fragment,null,o," ",i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.remainingChargeMessage",defaultMessage:"Adjusted for your account balance, you will be charged {formattedInvoiceNextCharge}.",values:{formattedInvoiceNextCharge:n}})," ",u):i.a.createElement(a.Fragment,null,o," ",i.a.createElement(f.FormattedMessage,{id:"subscriptionSettings.subscriptionStatus.proratedChargeMessage",defaultMessage:"You have an upcoming prorated charge on {upcomingChargeDate} for {formattedInvoiceNextCharge}.",values:{formattedInvoiceNextCharge:n,upcomingChargeDate:Object(l.a)(r.nextInvoiceTime).format("LL")}})," ",u)}};function oe(e){const{state:t,promo:n,data:o}=e,{productId:r}=s.default.pricing[t.subscriptionTier],a=se(t),l=q(o),c=ae(t,o),d=Math.min(0,function(e){const t=I(e);return"unsubscribed_admin"===e.type||"unsubscribed_member"===e.type?e.accountBalance:t?t.accountBalance:0}(o));let u,p,h;r===s.default.pricing.personal.productId?(u=s.default.pricing.personal.yearlyPrice,p=s.default.pricing.personal.monthlyPrice,h="year"===a?u:p):r===s.default.pricing.team.productId?(u=s.default.pricing.team.yearlyPricePerMember,p=s.default.pricing.team.monthlyPricePerMember,h="year"===a?u*l:p*l):(u=s.default.pricing.enterprise.yearlyPricePerMember,p=s.default.pricing.enterprise.monthlyPricePerMember,h="year"===a?u*l:p*l);const m=Object(S.a)(h,n),g=t.taxAmount,b=t.calculatingTax,v=Math.max(0,h-m.amount-c+d+(g&&!b?g:0)),y=[{type:"standard",name:i.a.createElement(f.FormattedMessage,{id:"subscriptionHelpers.lineItems.subTotal",defaultMessage:"Subtotal"}),price:h}];return"production"!==s.default.env&&y.push({type:t.calculatingTax?"calculating":"standard",name:i.a.createElement(f.FormattedMessage,{id:"subscriptionHelpers.lineItems.tax.title",defaultMessage:"Tax"}),price:t.taxAmount,subtitle:t.taxAmount||0===t.taxAmount?void 0:i.a.createElement(f.FormattedMessage,{id:"subscriptionHelpers.lineItems.tax.subtitle",defaultMessage:"if applicable"})}),0!==m.amount&&y.push({type:"promotion",name:i.a.createElement(f.FormattedMessage,{id:"subscriptionHelpers.lineItems.promo",defaultMessage:"Coupon"}),price:m.amount,subtitle:m.monthsRemaining?i.a.createElement(f.FormattedMessage,{id:"subscriptionHelpers.lineItems.promo.subtitle",defaultMessage:"Valid for {expirationInMonths} months",values:{expirationInMonths:m.monthsRemaining}}):void 0}),0!==c&&y.push({type:"promotion",name:i.a.createElement(f.FormattedMessage,{id:"subscriptionHelpers.lineItems.credit",defaultMessage:"Credit"}),price:c}),{yearlyUnitPrice:u,monthlyUnitPrice:p,creditAmount:c,planAmount:h,payAmount:v,accountBalance:d,lineItems:y}}function re(e,t){const{currentUserStore:n}=p.default.state,o=I(t),r=n?n.getValue():void 0;return e.temporaryBillingEmail||("subscribed_admin"===t.type&&o?o.billingEmail:void 0)||(r?r.email:void 0)}function ae(e,t){const{temporaryUseCreditCents:n}=e;return void 0!==n?n:t.availableCredit}function ie(e){const t=Object(g.d)(s.default,e.intl);return{personal:{year:t.price.yearly.pro,month:t.price.monthly.pro},team:{year:t.price.yearly.team,month:t.price.monthly.team},enterprise:{year:t.price.yearly.enterprise,month:t.price.monthly.enterprise}}[e.subscriptionTier][e.billingInterval]}function se(e){return e.temporaryBillingInterval||"year"}function le(e,t,n){return[{id:"year",title:i.a.createElement(f.FormattedMessage,{id:"subscriptionHelpers.billingInterval.yearly.option.title",defaultMessage:"<pre>Yearly – {memberPrice} / member / month <span>{yearlySavingsPercent} off</span></pre>",description:"Yearly billing option for Notion, which lets users save some money compared to the monthly option. {yearlySavingsPercent} has already been formatted with the % sign.",values:{pre:(...e)=>i.a.createElement("pre",{style:{margin:0}},e),memberPrice:ie({subscriptionTier:e,billingInterval:"year",intl:n}),span:(...e)=>i.a.createElement("span",{style:{display:"pre",color:"#53A83F"}},e),yearlySavingsPercent:i.a.createElement(f.FormattedNumber,{value:t,maximumSignificantDigits:2,maximumFractionDigits:0,style:"percent"})}})},{id:"month",title:i.a.createElement(f.FormattedMessage,{id:"subscriptionHelpers.billingInterval.monthly.option.title",defaultMessage:"Monthly – {memberPrice} / member / month",values:{memberPrice:ie({subscriptionTier:e,billingInterval:"month",intl:n})}})}]}const ce=function(e){const t="personal"===pe(e.productId),n=Object(c.b)({amount:e.yearlyPlanAmount/12,currency:"dollar",intl:v.default.getIntl()}),o=Object(c.b)({amount:e.monthlyPlanAmount,currency:"dollar",intl:v.default.getIntl()}),r=t?i.a.createElement(f.FormattedMessage,Object.assign({},k.monthlyPrice,{values:{monthlyPrice:o}})):i.a.createElement(f.FormattedMessage,Object.assign({},k.monthlyPricePerMember,{values:{monthlyPrice:o}}));return i.a.createElement(a.Fragment,null,i.a.createElement(b.a,{title:i.a.createElement(f.FormattedMessage,{id:"spaceSubscriptionBilling.setBillingInterval.yearlyOption",defaultMessage:"Yearly – Save {yearlySavingsPercent}",description:"Yearly billing option for Notion, which lets users save some money compared to the monthly option. {yearlySavingsPercent} has already been formatted with the % sign.",values:{yearlySavingsPercent:i.a.createElement(f.FormattedNumber,{value:e.yearlySavingsPercent,maximumSignificantDigits:2,maximumFractionDigits:0,style:"percent"})}}),caption:t?i.a.createElement(f.FormattedMessage,Object.assign({},k.monthlyPrice,{values:{monthlyPrice:n}})):i.a.createElement(f.FormattedMessage,Object.assign({},k.monthlyPricePerMember,{values:{monthlyPrice:n}})),isSelected:"year"===e.currentBillingInterval,onClick:e.handleYearlyBillingClick}),i.a.createElement(b.a,{title:i.a.createElement(f.FormattedMessage,{id:"spaceSubscriptionBilling.setBillingInterval.monthlyOption",defaultMessage:"Monthly"}),caption:r,isSelected:"year"!==e.currentBillingInterval,onClick:e.handleMonthlyBillingClick}))};f.FormattedMessage,f.FormattedMessage,f.FormattedMessage,f.FormattedMessage;function de(e){return[{type:"credit_card",title:i.a.createElement("div",{style:{display:"flex",alignItems:"center"}},i.a.createElement(f.FormattedMessage,{id:"subscriptionHelpers.paymentMethod.creditCard.title",defaultMessage:"Credit or debit card"}),i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",{style:{marginLeft:5}},w.a.visa({width:23})),i.a.createElement("div",{style:{marginLeft:5}},w.a.mastercard({width:23})),i.a.createElement("div",{style:{marginLeft:5}},w.a.amex({width:23})),i.a.createElement("div",{style:{marginLeft:5}},w.a.dinersclub({width:23}))))},{type:"invoice",title:i.a.createElement(f.FormattedMessage,{id:"subscriptionHelpers.paymentMethod.invoice.title",defaultMessage:"ACH or wire transfer"}),caption:i.a.createElement(f.FormattedMessage,{id:"subscriptionHelpers.paymentMethod.invoice.caption",defaultMessage:"Receive an invoice via email"})},{type:"native_payment_platform",title:i.a.createElement("div",{style:{display:"flex"}},i.a.createElement(f.FormattedMessage,{id:"subscriptionHelpers.paymentMethod.appleOrGooglePay.title",defaultMessage:"Apple or Google Pay"}),i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",{style:{marginLeft:5}},w.a.applePay({width:23})),i.a.createElement("div",{style:{marginLeft:5}},w.a.googlePay({width:23}))))}].filter(t=>e.includes(t.type))}const ue=function(e){return e>=25},pe=function(e){const t=y.default.state.data;return e===s.default.pricing.personal.productId||T(t)?"personal":e===s.default.pricing.student.productId?"personal_education":e===s.default.pricing.team.productId?"team":e===s.default.pricing.enterprise.productId?"enterprise":"legacy"}},D2XV:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"w",(function(){return u})),n.d(t,"t",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"v",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"x",(function(){return g})),n.d(t,"cb",(function(){return b})),n.d(t,"W",(function(){return y})),n.d(t,"Y",(function(){return S})),n.d(t,"X",(function(){return w})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return C})),n.d(t,"V",(function(){return M})),n.d(t,"L",(function(){return E})),n.d(t,"Q",(function(){return _})),n.d(t,"ab",(function(){return T})),n.d(t,"y",(function(){return x})),n.d(t,"z",(function(){return I})),n.d(t,"E",(function(){return P})),n.d(t,"G",(function(){return O})),n.d(t,"eb",(function(){return B})),n.d(t,"lb",(function(){return L})),n.d(t,"m",(function(){return D})),n.d(t,"Z",(function(){return A})),n.d(t,"ib",(function(){return V})),n.d(t,"kb",(function(){return N})),n.d(t,"jb",(function(){return U})),n.d(t,"hb",(function(){return X})),n.d(t,"ob",(function(){return W})),n.d(t,"nb",(function(){return G})),n.d(t,"pb",(function(){return Z})),n.d(t,"bb",(function(){return K})),n.d(t,"gb",(function(){return J})),n.d(t,"n",(function(){return Q})),n.d(t,"r",(function(){return $})),n.d(t,"o",(function(){return ee})),n.d(t,"s",(function(){return te})),n.d(t,"fb",(function(){return ne})),n.d(t,"db",(function(){return oe})),n.d(t,"D",(function(){return re})),n.d(t,"F",(function(){return ae})),n.d(t,"S",(function(){return ie})),n.d(t,"I",(function(){return se})),n.d(t,"T",(function(){return le})),n.d(t,"R",(function(){return de})),n.d(t,"u",(function(){return ue})),n.d(t,"p",(function(){return pe})),n.d(t,"K",(function(){return he})),n.d(t,"N",(function(){return me})),n.d(t,"O",(function(){return fe})),n.d(t,"mb",(function(){return be})),n.d(t,"h",(function(){return ve})),n.d(t,"g",(function(){return ye})),n.d(t,"l",(function(){return Se})),n.d(t,"f",(function(){return we})),n.d(t,"P",(function(){return ke})),n.d(t,"H",(function(){return Ce})),n.d(t,"M",(function(){return Me})),n.d(t,"J",(function(){return Ee})),n.d(t,"qb",(function(){return _e})),n.d(t,"U",(function(){return Te})),n.d(t,"A",(function(){return xe})),n.d(t,"B",(function(){return Ie})),n.d(t,"C",(function(){return Pe})),n.d(t,"i",(function(){return Oe}));n("SYor");var o=n("LvDl"),r=n.n(o),a=n("hfHo"),i=n("J9+s");new Date;const s=Date.UTC(2020,4,27),l=["12h","24h"],c=Object(i.defineMessages)({ll:{defaultMessage:"Full date",id:"dateHelpers.dateFormat.fullDate"},"MMM DD, YYYY":{defaultMessage:"Month Day, Year",id:"dateHelpers.dateFormat.explicitMonthDayYear"},"MM/DD/YYYY":{defaultMessage:"Month/Day/Year",id:"dateHelpers.dateFormat.monthDayYear"},"DD/MM/YYYY":{defaultMessage:"Day/Month/Year",id:"dateHelpers.dateFormat.dayMonthYear"},"YYYY/MM/DD":{defaultMessage:"Year/Month/Day",id:"dateHelpers.dateFormat.yearMonthDay"},relative:{defaultMessage:"Relative",id:"dateHelpers.dateFormat.relative"}}),d=["ll","MM/DD/YYYY","DD/MM/YYYY","YYYY/MM/DD","relative"],u="09:00",p=[void 0,{unit:"minute",value:0},{unit:"minute",value:5},{unit:"minute",value:10},{unit:"minute",value:15},{unit:"minute",value:30},{unit:"hour",value:1},{unit:"hour",value:2},{unit:"day",value:1,time:u},{unit:"day",value:2,time:u}],h=[void 0,{unit:"day",value:0,time:u},{unit:"day",value:1,time:u},{unit:"day",value:2,time:u},{unit:"week",value:1,time:u}],m="ll",f=Object(i.defineMessages)({"12h":{defaultMessage:"12 hour",id:"dateHelpers.12hourTimeFormat"},"24h":{defaultMessage:"24 hour",id:"dateHelpers.24hourTimeFormat"}}),g="LT",b="LT",v={year:!1,month:!1,week:!1,day:!1,hour:!0,minute:!0},y=e=>"daterange"===e.type,S=e=>"datetimerange"===e.type;function w(e){return!v[e.unit]}function k(e){return w(e)?e:{unit:"day",value:0,time:u}}function C(e){return w(e)&&0===e.value?{unit:"minute",value:0}:e}function M(){return Object(a.default)("1990-12-28").format("L").startsWith("28")}function E(e){if(y(t=e)||S(t)){const t=he(e,D);return function(e){return void 0!==e.end&&e.end.isSameOrAfter(e.start)}(t)?t:void 0}var t;return he(e,D)}function _(e,t){if("date"===e.type||"daterange"===e.type){if(!e.reminder)return;const{unit:n,value:o,time:r}=e.reminder;return a.default.tz("".concat(e.start_date," ").concat(r),"".concat(V," ").concat(N),U,!0,t).subtract(o,n)}{if(!e.reminder)return;const{unit:n,value:o}=e.reminder;return he(e,t).start.subtract(o,n)}}function T(e,t){const n=function(e,t){const n=_(e,t);if(n)return n.valueOf()-Object(a.default)().valueOf()}(e,t);return void 0!==n&&n<=0}function x(e,t,n){return"date"===e.type?re(e,t).locale(n.locale).format("LL"):"datetime"===e.type?ae(e).locale(n.locale).format("LLL"):"daterange"===e.type?[re(ie(e),t).locale(n.locale).format("LL"),re(se(e),t).locale(n.locale).format("LL")].join(" → "):[ae(le(e)).locale(n.locale).format("LL"),ae(ce(e)).locale(n.locale).format("LL")].join(" → ")}function I(e,t){const n=he(e,t);if(n.end)return a.default.duration(n.end.valueOf()-n.start.valueOf()).humanize()}function P(e){if(e&&("date"===e.type||"daterange"===e.type))return e.reminder}function O(e){if(e&&("datetime"===e.type||"datetimerange"===e.type))return e.reminder}function B(e,t){if(e&&t){const n=de(e),o=de(t);if("datetime"===n.type){const e="datetime"===o.type?o:ue(o,n.time_zone);return{type:"datetimerange",start_date:n.start_date,start_time:n.start_time,end_date:e.start_date,end_time:e.start_time,time_zone:n.time_zone}}if("datetime"===o.type){const e=ue(n,o.time_zone);return{type:"datetimerange",start_date:e.start_date,start_time:e.start_time,end_date:o.start_date,end_time:o.start_time,time_zone:o.time_zone}}return{type:"daterange",start_date:n.start_date,end_date:o.start_date}}return e?de(e):t?de(t):void 0}const L=function(e,t,n,o){return Boolean(R(e,t,n)||o&&(R(n,o,e)||R(n,o,t)))},R=function(e,t,n){return n>=e&&n<=t},D=a.default.tz.guess();function A(e){const t=e;return Boolean(t&&t.type&&t.start_date)}const j=["MMMM D YYYY, HH:mm ZZ","YYYY MM DD, HH:mm ZZ","MM DD YYYY, HH:mm ZZ","MMM DD YYYY, HH:mm ZZ","DD MMM YYYY, HH:mm ZZ","MM/DD/YYYY, HH:mm ZZ","MM-DD-YYYY, HH:mm ZZ","M/D/YYYY, HH:mm ZZ","M-D-YYYY, HH:mm ZZ","MM/DD/YY, HH:mm ZZ","MM-DD-YY, HH:mm ZZ","M/D/YY, HH:mm ZZ","M-D-YY, HH:mm ZZ","D MMM YY, HH:mm ZZ","D/MMM/YY, HH:mm ZZ","D-MMM-YY, HH:mm ZZ","MMMM D YYYY, HH:mm","YYYY MM DD, HH:mm","MM DD YYYY, HH:mm","MMM DD YYYY, HH:mm","DD MMM YYYY, HH:mm","MM/DD/YYYY, HH:mm","MM-DD-YYYY, HH:mm","M/D/YYYY, HH:mm","M-D-YYYY, HH:mm","MM/DD/YY, HH:mm","MM-DD-YY, HH:mm","M/D/YY, HH:mm","M-D-YY, HH:mm","D MMM YY, HH:mm","D/MMM/YY, HH:mm","D-MMM-YY, HH:mm","D MMM YYYY, HH:mm","D/MMM/YYYY, HH:mm","D-MMM-YYYY, HH:mm"],F=["MMMM D YYYY","YYYY MM DD","MM DD YYYY","MMM DD YYYY","DD MMM YYYY","MM/DD/YYYY","MM-DD-YYYY","M/D/YYYY","M-D-YYYY","MM/DD/YY","MM-DD-YY","M/D/YY","M-D-YY","D MMM YY","D/MMM/YY","D-MMM-YY","D MMM YYYY","D/MMM/YYYY","D-MMM-YYYY"],V="YYYY-MM-DD",N="HH:mm",U="en",z=/(.+) \((.+)\)/;function X(e){const t=z.exec(e);let n,o;t&&t[1]&&t[2]?(n=t[1],o=t[2]):n=e;const r=n.split("→");if(r[0]&&r[1]){const e=r[0].trim(),t=r[1].trim();if(q(e)&&q(t)){o=o||D;const n=H(e,o),r=H(t,o);if(n&&r){return{type:"datetimerange",start_date:n.date,start_time:n.time,end_date:r.date,end_time:r.time,time_zone:o}}}else{const n=Y(e),o=Y(t);if(n&&o){return{type:"daterange",start_date:n,end_date:o}}}}else if(r[0]){const e=r[0].trim();if(q(e)){o=o||D;const t=H(e,o);if(t){return{type:"datetime",start_date:t.date,start_time:t.time,time_zone:o}}}else{const t=Y(e);if(t){return{type:"date",start_date:t}}}}}function Y(e){const t=a.default.tz(e,F,U,!0,D);if(t.isValid())return t.format(V)}function H(e,t){const n=a.default.tz(e,j,U,!0,t);if(n.isValid())return{date:n.format(V),time:n.format(N),timeZone:t}}function q(e){return a.default.tz(e,j,U,!0,D).isValid()}function W(e){const t=a.default.tz(e).format(V);return a.default.tz(t,V,e)}function G(e){return{type:"date",start_date:W(e).format("YYYY-MM-DD")}}function Z(e){return{type:"date",start_date:W(e).add(1,"day").format(V)}}function K(e){return{type:"date",start_date:a.default.tz(e).subtract(1,"week").format(V)}}function J(e){const t=a.default.tz(e);return{type:"datetime",start_date:t.format(V),start_time:t.format(N),time_zone:e}}function Q(e,t){return{type:"date",start_date:a.default.tz(e,t).format(V)}}function $(e,t){const n=a.default.tz(e,t||D);return{type:"datetime",start_date:n.format(V),start_time:n.format(N),time_zone:t||D}}function ee(e,t,n){const o=a.default.tz(e,n),r=a.default.tz(t,n);return{type:"daterange",start_date:o.format(V),end_date:r.format(V)}}function te(e,t,n){const o=a.default.tz(e,n||D),r=a.default.tz(t,n||D);return{type:"datetimerange",start_date:o.format(V),start_time:o.format(N),end_date:r.format(V),end_time:r.format(N),time_zone:n||D}}function ne(e,t,n){const o=he(e,n),r=he(t,n);return o.start.valueOf()<r.start.valueOf()?e:t}function oe(e,t,n){const o=he(e,n),r=he(t,n);return o.start.valueOf()>r.start.valueOf()?e:t}function re(e,t,n){return a.default.tz(e.start_date,V,n||U,!0,t)}function ae(e,t){return a.default.tz("".concat(e.start_date," ").concat(e.start_time),"".concat(V," ").concat(N),t||U,!0,e.time_zone)}function ie(e){return{type:"date",start_date:e.start_date,reminder:e.reminder}}function se(e){return{type:"date",start_date:e.end_date,reminder:e.reminder}}function le(e){return{type:"datetime",start_date:e.start_date,start_time:e.start_time,time_zone:e.time_zone,reminder:e.reminder}}function ce(e){return{type:"datetime",start_date:e.end_date,start_time:e.end_time,time_zone:e.time_zone,reminder:e.reminder}}function de(e){return"daterange"===e.type?ie(e):"datetimerange"===e.type?le(e):e}function ue(e,t){return $(re(e,t).valueOf(),t)}function pe(e,t){const n=he(e,t);return te(n.start.valueOf(),n.end.endOf("day").valueOf(),t)}function he(e,t,n){return"datetimerange"===e.type?{start:ae(le(e),n),end:ae(ce(e),n)}:"datetime"===e.type?{start:ae(e,n)}:"daterange"===e.type?{start:re(ie(e),t,n),end:re(se(e),t,n)}:{start:re(e,t,n)}}function me(e){const{previous:t}=e,n=ge(t),o=re({type:"date",start_date:e.updatedStartDate},D),r=o.clone().add(n);return{newDate:{...t,start_date:e.updatedStartDate,end_date:r.format(V)},currentMonth:o}}function fe(e){const{previous:t,updatedStartTime:n}=e,o=ge(t),r=ae({type:"datetime",start_date:t.start_date,start_time:n,time_zone:t.time_zone}),a=r.clone().add(o);return{newDate:{...t,start_time:e.updatedStartTime,end_date:a.format(V),end_time:a.format(N)},currentMonth:r}}function ge(e){const t=he(e,D);return a.default.duration(t.end.diff(t.start))}function be(e,t){return he(e,t).start.valueOf()}function ve(e){if("date"===e.type||"datetime"===e.type)return e;{const t=he(e,D);return t.end&&t.start.isAfter(t.end)?"daterange"===e.type?{...e,start_date:e.end_date}:{...e,start_date:e.end_date,start_time:e.end_time}:e}}function ye(e){if("date"===e.type||"datetime"===e.type)return e;{const t=he(e,D);return t.end&&!t.end.isAfter(t.start)?"daterange"===e.type?{...e,end_date:e.start_date}:{...e,end_date:e.start_date,end_time:e.start_time}:e}}function Se(e,t){if("date"===e.type||"daterange"===e.type)return e;if("datetime"===e.type){const n=he(e,t);return{type:"datetime",start_date:n.start.tz(t).format(V),start_time:n.start.tz(t).format(N),time_zone:t,reminder:e.reminder}}{const n=he(e,t);if(!n.end)throw new Error("Datetimerange with no end.");return{type:"datetimerange",start_date:n.start.tz(t).format(V),start_time:n.start.tz(t).format(N),end_date:n.end.tz(t).format(V),end_time:n.end.tz(t).format(N),time_zone:t,reminder:e.reminder}}}function we(e){return"daterange"===e.type&&e.start_date===e.end_date?{type:"date",start_date:e.start_date,reminder:e.reminder}:"datetimerange"===e.type&&e.start_date===e.end_date&&e.start_time===e.end_time?{type:"datetime",start_date:e.start_date,start_time:e.start_time,reminder:e.reminder,time_zone:e.time_zone}:e}function ke(e){if("datetime"===e.type||"datetimerange"===e.type)return e.time_zone}function Ce(){return 1===Object(a.default)().startOf("week").day()?1:0}function Me(e,t){return 0===e.day()&&1===t?e.day(-6).startOf("day"):e.day(t||0).startOf("day")}function Ee(e,t){return 0===e.day()&&1===t?e.endOf("day"):e.day(6+(t||0)).endOf("day")}function _e(e){return"datetime"===e.type?{type:"date",start_date:e.start_date}:"datetimerange"===e.type?{type:"daterange",start_date:e.start_date,end_date:e.end_date}:e}function Te(e){if("datetime"===e.type||"datetimerange"===e.type)return e.time_zone}function xe(e){return"ko"===e.locale()?"".concat(e.format("D"),"일"):e.format("D")}function Ie(e){return"".concat(e.format("MMM")," ").concat(xe(e))}function Pe(e){return"".concat(Ie(e)," ").concat(e.format("LT"))}const Oe={toPersistedDate:(e,t=D)=>r.a.isDate(e)?Q(e.getTime(),D):{type:"date",start_date:e.start.tz(t).format(V)},toPersistedDateTime:(e,t=D)=>r.a.isDate(e)?$(e.getTime(),D):{type:"datetime",start_date:e.start.tz(t).format(V),start_time:e.start.tz(t).format(N),time_zone:t},toNative:(e,t=D)=>{if("start"in e)return e.start.toDate();return he(e,t).start.toDate()},toMomentRange:(e,t=D)=>{if(r.a.isDate(e)){return he(Oe.toPersistedDate(e),t)}return he(e,t)},toMoment:(e,t=D)=>Oe.toMomentRange(e).start}},D8Ld:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("wldR"),l=n("VyA+");class c extends s.a{renderComponent(){const e={capture:this.props.capture,onEnter:this.props.allowMenuList?void 0:i.a.identity,onShiftEnter:i.a.identity,onCommandEnter:i.a.identity,onCommandShiftEnter:i.a.identity,onCommandSlash:i.a.identity,onEsc:this.props.allowMenuList||this.props.allowEsc?void 0:i.a.identity,onUp:this.props.allowMenuList?void 0:i.a.identity,onDown:this.props.allowMenuList?void 0:i.a.identity,onDelete:i.a.identity,onSpace:i.a.identity,onBackspace:i.a.identity,onLeft:i.a.identity,onRight:i.a.identity,onUntab:this.props.allowTabUntab?void 0:i.a.identity,onTab:this.props.allowTabUntab?void 0:i.a.identity,onSelectAll:i.a.identity,onRedo:this.props.allowUndo?void 0:i.a.identity,onUndo:this.props.allowUndo?void 0:i.a.identity,onToggleUnderline:i.a.identity,onToggleHighlight:i.a.identity,onToggleBold:i.a.identity,onToggleItalics:i.a.identity,onToggleStrike:i.a.identity,onToggleCode:i.a.identity,onCut:i.a.identity,onCopy:i.a.identity,onPaste:i.a.identity,onKeypress:i.a.identity,onHome:i.a.identity,onEnd:i.a.identity,onDuplicate:i.a.identity,onOpenLinkMenu:i.a.identity,onOpenEquationMenu:i.a.identity,onSearch:i.a.identity,onGoToBeginningOfLine:i.a.identity,onGoToEndOfLine:i.a.identity,onGoForwardOneChar:i.a.identity,onGoBackwardOneChar:i.a.identity,onMoveUp:i.a.identity,onMoveDown:i.a.identity,onComment:i.a.identity,onCaption:i.a.identity,onRename:i.a.identity,onTurnIntoType:i.a.identity,onOpenFile:i.a.identity,onMoveTo:i.a.identity,onToggleAllToggles:i.a.identity,onTogglePropertyVisibility:i.a.identity,onGoBack:void 0,onGoForward:void 0,onGoUp:void 0,onSwitchSpaces:void 0,onQuickFind:void 0,onToggleSidebar:void 0,onZoomIn:void 0,onZoomOut:void 0,onZoomReset:void 0,onNewPage:void 0,onBackButton:void 0,onSettings:void 0,onCopyLinkToCurrentPage:void 0,onToggleDarkMode:void 0};return r.a.createElement(l.a,Object.assign({},e),this.props.children)}}t.a=c},DNfA:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var o,r,a=n("q1tI"),i=n.n(a),s=n("nFzZ"),l=n("wldR");!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.Center=4]="Center"}(o||(o={})),function(e){e[e.Start=0]="Start",e[e.Center=1]="Center",e[e.End=2]="End"}(r||(r={}));class c extends l.a{renderComponent(){return i.a.createElement("div",{style:this.getStyle()},this.props.origin,i.a.createElement("div",{style:this.getOriginFillerStyle()},i.a.createElement("div",{style:this.getChildrenWrapStyle()},this.props.children)))}getStyle(){return{position:"relative",...this.props.style}}getOriginFillerStyle(){const{alignItems:e,justifyContent:t}=this.getAlignmentAndPlacement();return{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:t,alignItems:e}}getChildrenWrapStyle(){const{top:e,left:t,right:n,bottom:o}=this.getAlignmentAndPlacement(),r={position:"relative"};return e&&(r.top=e),o&&(r.bottom=o),t&&(r.left=t),n&&(r.right=n),{...r,...this.props.childrenWrapStyle}}getAlignmentAndPlacement(){let e,t,n,a,i,l;const d=s.h(this.props.placement)?o.Bottom:this.props.placement,u=s.h(this.props.alignment)?r.Center:this.props.alignment;return d===o.Top?(l="flex-end",t="100%",i=c.alignmentToFlex[u]):d===o.Bottom?(l="flex-start",e="100%",i=c.alignmentToFlex[u]):d===o.Left?(l=c.alignmentToFlex[u],a="100%",i="flex-end"):d===o.Right?(l=c.alignmentToFlex[u],n="100%",i="flex-start"):d===o.Center&&(l="center",i=c.alignmentToFlex[u]),{alignItems:i,justifyContent:l,top:e,left:n,right:a,bottom:t}}}c.alignmentToFlex={[r.Start]:"flex-start",[r.Center]:"center",[r.End]:"flex-end"},t.c=c},DNgp:function(e,t,n){"use strict";n.r(t),n.d(t,"TextSelectionStore",(function(){return l}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("LEzx"),i=n("kaWB"),s=n("LqYT");class l extends a.a{constructor(){super(...arguments),this.isEditingStore=new s.a(()=>"editing"===this.state.mode)}getInitialState(){return{mode:"empty"}}cloneState(){return"editing"===this.state.mode?{mode:"editing",store:this.state.store,selection:r.a.cloneDeep(this.state.selection),savedSelectionXPosition:this.state.savedSelectionXPosition,forceExtendAnnotations:r.a.cloneDeep(this.state.forceExtendAnnotations)}:"readOnly"===this.state.mode?{mode:"readOnly",store:this.state.store,selection:r.a.cloneDeep(this.state.selection),savedSelectionXPosition:this.state.savedSelectionXPosition}:{mode:"empty"}}isEmptySelection(){if("empty"===this.state.mode)return!0;const{selection:e}=this.state;return e.startIndex===e.endIndex}isEditingComment(){return"editing"===this.state.mode&&this.state.store.table===i.a}isEditingCaption(){return"editing"===this.state.mode&&r.a.isEqual(this.state.store.path,["properties","caption"])}hasSelection(){if("empty"===this.state.mode)return!1;const{selection:e}=this.state;return e.startIndex>=0&&e.endIndex>=0}}const c=new l;t.default=c},DUpR:function(e,t,n){},DaKt:function(e,t,n){"use strict";var o=n("LqYT"),r=n("qHvo"),a=n("nZ1u"),i=n("0zNc");t.a=new o.a(()=>i.a.state.isDragging||r.b.state.isDragging||a.a.state.isActive)},DbeH:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n("q1tI"),r=n.n(o),a=n("toub"),i=n("y6Dp"),s=n("nWgh"),l=n("r8MX"),c=n("Cycz"),d=n("QcDD"),u=n("VBxf"),p=n("nM47"),h=n("J9+s"),m=n("vl8/"),f=n("+U1l"),g=n("1G+a");const b=async function(e,t){i.K(e,{from:t.from,for_subscription_tier:t.for});const n=Object(g.b)({environment:e})&&"personal"===t.for;if(e.device.isReactNative&&!n)return;const o=d.default.state.currentSpaceStore;o&&o.canAdmin()&&await p.e(e);const b=l.default.state.data;let v=void 0;if(!b||"unsubscribed_admin"!==b.type&&"subscribed_admin"!==b.type||(v=b),n)return void(v&&e.reactNative&&o&&o.id&&e.reactNative.openUpgradeModal(o.id));if(v&&"revenueCat"===v.customerData.activeSubscriptionPlatform){const e=r.a.createElement(h.FormattedMessage,{id:"upsellActions.switchPlanFromInAppPurchase",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."});return void u.showErrorMessage(e)}const y=c.o(b);let S=!1;if(y&&"team_free"!==t.for){const e=r.a.createElement(h.FormattedMessage,{id:"upsellActions.confirmProration.message",defaultMessage:"You are about to subscribe to Notion's {plan, select, personal {Personal} team {Team} other {Enterprise}} plan for {price} per member per {monthlyBilling, select, true {month} other {year}}.{br}{isSubscribed, select, true {You will be charged a prorated amount, minus any account balance.} other {}}",values:{plan:t.for,price:c.i({subscriptionTier:t.for,billingInterval:y.interval,intl:m.default.intl}),monthlyBilling:"month"===y.interval,br:r.a.createElement("br",null),isSubscribed:void 0===y.canceledAt}});S=!(await u.confirmUserAction({message:e,acceptLabel:r.a.createElement(h.FormattedMessage,{id:"upsellActions.confirmProration.acceptLabel",defaultMessage:"Upgrade to {plan, select, personal {Personal} team {Team} other {Enterprise}}",values:{plan:t.for}})}))}if(!b||"unsubscribed_admin"!==b.type&&"subscribed_admin"!==b.type||S)a.a.setState({open:!0,currentTab:"plans"});else if("team_free"===t.for)f.a.setState({open:!0});else if(o&&c.H(b)&&y){const{billing:n}=y,{interval:r}=y,a=s.d[t.for][r];await p.h({environment:e,spaceStore:o,plan:a,billing:n})}else p.d(e,{subscriptionTier:t.for,from:t.from})}},Dime:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("UWAZ"),l=n("Qfcx"),c=n("wpmu"),d=n("wldR"),u=(n("Junv"),n("17x9")),p=n.n(u),h=n("udrG"),m=n("jZoB"),f=n("M64d"),g=n("jmjn"),b=n("NOLh"),v=n("QTGx"),y=n("XBB3"),S=n("AOw3"),w=n("WM0W"),k=n("VpIZ"),C=n("HRSx"),M=n("vo/r"),E=n("1P/O"),_=n("szb2"),T=n("dlZW"),x=n("HTHG"),I=n("ICWk"),P=n("q2qQ"),O=n("MBf9"),B=n("Ho6V"),L=n("Rtjx"),R=n("XfKI");class D extends d.a{constructor(){super(...arguments),this.blockRef=r.a.createRef(),this.storeTypes={blockResizerStore:g.a},this.renderPreventSidebar=()=>{const{isInlineCollectionView:e}=this.renderStateStore.state;return e?this.renderSelectable():Object(f.a)(this.renderSelectable)},this.renderSelectable=e=>{const{store:t,canEditList:n,isFirstItem:o}=this.props,{canDropOnto:a,canDropLeftRight:i,shouldShowParentHalo:s,showHoverMenu:l,canDrag:c,canSelect:d,shouldShowSelectionHalo:u,isColumnList:p,showCommentMenu:h,preventBackgroundDrag:m,shouldDisableHoverMenuDrag:f}=this.renderStateStore.state;return r.a.createElement(S.a,Object.assign({style:this.getStyle(),store:t,canSelect:d,canEditText:this.canEdit(),shouldShowHalo:u,shouldShowParentHalo:s,canDrag:c,canDropAbove:n&&o,canDropBelow:n,canDropLeft:i,canDropRight:i,canDropOnto:n&&a,canNativeDropAbove:n&&o,canNativeDropBelow:n,canNativeDropLeft:i,canNativeDropRight:i,onSelectableDrop:this.handleDrop,onNativeDrop:this.handleNativeDrop,canTriggerContextMenu:n&&!p,onInsertAfter:this.handleInsertAfter,onInsertBefore:this.handleInsertBefore,canInsertBefore:n,canInsertAfter:n,onEditText:this.handleEditText,onEnter:this.handleEnter,onRemove:this.handleRemove,showBlockMenuInput:!0,shouldShowHoverMenu:l,shouldDisableHoverMenuDrag:f,shouldShowCommentMenu:h,shouldShowDropZone:!0,preventBackgroundDrag:m,analyticsName:"page_content"},e),this.renderBlock())},this.handleInsertBefore=e=>{const{insertStores:t,transaction:n}=e;return i.a.clone(t).reverse().map(e=>m.c({parent:this.props.listStore,insert:e,before:this.props.store,transaction:n}).child)},this.handleInsertAfter=e=>{const{insertStores:t,transaction:n}=e;return i.a.clone(t).reverse().map(e=>m.b({parent:this.props.listStore,insert:e,after:this.props.store,transaction:n}).child)},this.handleDrop=e=>{const{droppedDirection:t,droppedStores:n,duplicate:o}=e;O.createAndCommit(this.environment,e=>{s.a({environment:this.environment,targetParentStore:this.props.listStore,targetStore:this.props.store,droppedDirection:t,droppedStores:n,duplicate:o,transaction:e})})},this.handleNativeDrop=e=>{const{files:t,droppedDirection:n}=e;O.createAndCommit(this.environment,e=>s.c({environment:this.environment,files:t,targetParentStore:this.props.listStore,targetStore:this.props.store,droppedDirection:n,transaction:e}))},this.handleEditText=e=>s.b({environment:this.environment,targetStore:this.props.store,targetParentStore:this.props.listStore,isAtStart:e.isAtStart,transaction:e.transaction}),this.handleEnter=e=>{if(this.blockRef.current&&this.blockRef.current.edit)this.blockRef.current.edit();else{this.handleEditText({isAtStart:!1,transaction:e.transaction})||P.j({environment:this.environment,createBlockItem:I.b[h.a.text],selection:e.blocks,analyticsFrom:"text_enter",transaction:e.transaction})}},this.handleRemove=e=>{const{store:t}=this.props,{transaction:n}=e,o=t.recordStoreParent();o&&("block"!==o.table&&"space"!==o.table||m.e({parent:o,remove:t,transaction:n}))},this.canEditStore=this.createComputedStore(()=>{const e=this.pageContext&&this.pageContext.publicEditModeStore.state;return!this.props.disabled&&((!e||"edit"===e)&&this.props.store.canEdit())}),this.renderStateStore=this.createComputedStore(()=>{const{device:e}=this.environment,{store:t,canEditList:n,disableSelection:o}=this.props,r=t.getValue(),{dragging:a,temporaryFullWidth:i}=this.stores.blockResizerStore.state,s=Object(v.a)(this.props.store),l=t.getType(),c=a?i:t.getFormat().block_full_width,d=l===h.a.page||l===h.a.collectionViewPage||l===h.a.alias||l===h.a.toggle&&!E.a.isOpen(t.id),u=Boolean(r&&k.q(r)),p=l===h.a.columnList,m=s===M.a,f=m,g=this.isRootChild()&&!p&&n&&!e.isMobile,b=this.pageContext&&this.pageContext.publicEditModeStore.state,y=n&&!R.p({environment:this.environment,blocks:[this.props.store],publicEditMode:b}),S=!o&&t.canRead()&&!p&&!m&&!y,w=S&&!m,C=w,T=n&&!p&&!m,x=("comment_only"===t.getRole()||"comment"===b)&&!n&&!p&&!u&&this.environment.currentUser.isLoggedIn(),I=n&&!p,P=_.c.state;return{type:l,isFullWidth:c,canDropOnto:d,canDropLeftRight:g,shouldShowParentHalo:C,showHoverMenu:T,canDrag:I,canSelect:S,shouldShowSelectionHalo:w,isColumnList:p,showCommentMenu:x,isInlineCollectionView:m,isInPeekRenderer:Boolean(P.open&&this.props.store.findRecordStoreAncestor(e=>e===P.target).ancestor),isMediaWithoutSource:r&&k.y(r)&&(!r.properties||!r.properties.source),preventBackgroundDrag:f,shouldDisableHoverMenuDrag:y}},!0),this.blockRendererStore=this.createComputedStore(()=>Object(v.a)(this.props.store)),this.appRenderState=this.createComputedStore(()=>x.a(this.environment))}willMount(e){super.willMount(e),this.isCopyIndicatorWithoutPendingTransaction="copy_indicator"===e.store.getType()&&!T.transactionQueue.isPendingTransactionForRecord(e.store.pointer)}renderComponent(){const{isInlineCollectionView:e}=this.renderStateStore.state;if(!this.isCopyIndicatorWithoutPendingTransaction)return this.isMediaType()?r.a.createElement(b.a,{isVisible:!0,animationStyle:this.getMediaAnimationStyle(),render:()=>this.renderPreventSidebar()}):e&&Object(L.a)(this.environment)?r.a.createElement(b.a,{isVisible:!0,animationStyle:{width:this.getFullWidth(),maxWidth:this.getFullWidth()},render:()=>this.renderPreventSidebar()}):this.renderPreventSidebar()}renderBlock(){const{renderItem:e,disabled:t,store:n,numberedListCounterStore:o}=this.props,a=this.blockRendererStore.state;return e?e(n):a?r.a.createElement(a,{ref:this.blockRef,store:this.props.store,disabled:t,isFirstItem:this.props.isFirstItem,isLastItem:this.props.isLastItem,blockResizerStore:this.stores.blockResizerStore,numberedListCounterStore:o}):void 0}isRootChild(){return this.props.store.depth()<=2}isInHistoryModal(){return Boolean(this.props.store.inMemoryRecordCache.snapshotData)}isMediaType(){const e=this.renderStateStore.state.type;return!!e&&Boolean(C.p[e])}isOverflowEdgeBlockType(){const e=this.renderStateStore.state.type;return!!e&&C.c[e]}isInColumnList(){return this.context.isInColumnList}canEdit(){return this.canEditStore.state}getStyle(){const{device:e}=this.environment,{type:t,isInPeekRenderer:n,isFullWidth:o,isInlineCollectionView:r,isMediaWithoutSource:a}=this.renderStateStore.state,i={width:"100%"};i.maxWidth=this.getFullWidth(),(e.isMobile&&!o||this.isInColumnList()||!this.isRootChild())&&(i.maxWidth="100%"),this.isRootChild()&&t&&C.w[t]?i.alignSelf="center":t&&C.p[t]&&(i.alignSelf="flex-start");const{topGap:s,gap:l,bottomGap:c}=D;if(i.marginTop=this.props.isFirstItem?s:l,i.marginBottom=this.props.isLastItem?c:l,a?i.marginTop=D.marginStyle.marginTop:!this.props.isFirstItem&&t&&D.defaultMarginTop[t]&&(i.marginTop=D.defaultMarginTop[t]),a?i.marginBottom=D.marginStyle.marginBottom:!this.props.isLastItem&&t&&D.defaultMarginBottom[t]&&(i.marginBottom=D.defaultMarginBottom[t]),r&&(this.isRootChild()||e.isPhone)){const e=this.getFullWidth();i.maxWidth=n?this.getInlineCollectionInPeekViewMaxWidth():e,i.width=e,i.alignSelf="center"}return i}getMediaAnimationStyle(){const{type:e}=this.renderStateStore.state;if(e&&Object(B.b)({environment:this.environment,type:e}))return{width:"100%"};const{dragging:t,temporaryWidth:n,temporaryFullWidth:o,temporaryPageWidth:r}=this.stores.blockResizerStore.state,{block_width:a,block_full_width:i,block_page_width:s}=this.props.store.getFormat(),l=t?n:a,c=t?r:s;return{width:(t?o:i)?this.getFullWidth():c?"100%":l}}getFullWidth(){const{device:e}=this.environment,{isInPeekRenderer:t}=this.renderStateStore.state,n=this.environment.WindowSizeStore.state.width,o=n-e.scrollbarWidth;if(this.isInHistoryModal()&&!e.isPhone)return.8*n-240-e.scrollbarWidth;if(this.isInColumnList()||!this.isRootChild())return"100%";if(t)return w.a.width-e.scrollbarWidth;if(Object(L.a)(this.environment)){let t=o;const{state:{shouldShowSidebar:n}}=this.appRenderState;return(!e.isMobile||e.isTablet)&&n&&Object(L.f)(this.environment)&&(t-=Object(L.b)(this.environment)),this.isOverflowEdgeBlockType()||(t-=2*y.b.defaultPaddingLeftRight(this.environment)),t}return o}getInlineCollectionInPeekViewMaxWidth(){const{device:e}=this.environment;return"calc(100vw - ".concat(2*w.a.outerPadding-e.scrollbarWidth,"px)")}}D.contextTypes={...d.b,isInColumnList:p.a.any},D.marginStyle={marginTop:4,marginBottom:4},D.defaultMarginTop={quote:D.marginStyle.marginTop,code:D.marginStyle.marginTop,bookmark:D.marginStyle.marginTop,file:void 0,video:D.marginStyle.marginTop,embed:D.marginStyle.marginTop,tweet:D.marginStyle.marginTop,audio:D.marginStyle.marginTop,drive:D.marginStyle.marginTop,gist:D.marginStyle.marginTop,maps:D.marginStyle.marginTop,framer:D.marginStyle.marginTop,invision:D.marginStyle.marginTop,figma:D.marginStyle.marginTop,loom:D.marginStyle.marginTop,typeform:D.marginStyle.marginTop,codepen:D.marginStyle.marginTop,equation:D.marginStyle.marginTop,pdf:D.marginStyle.marginTop,header:"2em",sub_header:"1.4em",sub_sub_header:"1em",image:"0.5em",page:void 0,collection_view:void 0,collection_view_page:void 0,column_list:void 0,column:void 0,breadcrumb:void 0,text:void 0,bulleted_list:void 0,numbered_list:void 0,to_do:void 0,toggle:void 0,factory:void 0,copy_indicator:void 0,divider:void 0,link_to_collection:void 0,link_to_page:void 0,alias:void 0,transclusion_container:1,transclusion_reference:1,callout:D.marginStyle.marginTop,table_of_contents:D.marginStyle.marginTop,whimsical:D.marginStyle.marginTop,miro:D.marginStyle.marginTop,abstract:D.marginStyle.marginTop},D.defaultMarginBottom={quote:D.marginStyle.marginBottom,code:D.marginStyle.marginBottom,header:D.marginStyle.marginBottom,bookmark:D.marginStyle.marginBottom,file:void 0,video:D.marginStyle.marginBottom,embed:D.marginStyle.marginBottom,tweet:D.marginStyle.marginBottom,drive:D.marginStyle.marginBottom,audio:D.marginStyle.marginBottom,gist:D.marginStyle.marginBottom,maps:D.marginStyle.marginBottom,framer:D.marginStyle.marginBottom,invision:D.marginStyle.marginBottom,figma:D.marginStyle.marginBottom,loom:D.marginStyle.marginBottom,typeform:D.marginStyle.marginBottom,codepen:D.marginStyle.marginBottom,equation:D.marginStyle.marginBottom,pdf:D.marginStyle.marginBottom,image:"0.5em",sub_header:void 0,sub_sub_header:void 0,page:void 0,collection_view:void 0,collection_view_page:void 0,column_list:void 0,column:void 0,breadcrumb:void 0,text:void 0,bulleted_list:void 0,numbered_list:void 0,to_do:void 0,toggle:void 0,factory:void 0,copy_indicator:void 0,divider:void 0,link_to_collection:void 0,link_to_page:void 0,alias:void 0,transclusion_container:1,transclusion_reference:1,callout:D.marginStyle.marginBottom,table_of_contents:D.marginStyle.marginBottom,whimsical:D.marginStyle.marginBottom,miro:D.marginStyle.marginBottom,abstract:D.marginStyle.marginBottom},D.topGap=2,D.gap=1,D.bottomGap=0;var A=D,j=n("g90h"),F=n("2bwL"),V=n("hbKx");class N extends d.a{constructor(){super(...arguments),this.renderItem=(e,t,n)=>e===N.emptyDroppableKey?this.renderEmptyDroppable():e===N.placeholderKey?r.a.createElement("div",{key:e},this.props.emptyPlaceholder):this.renderChild(e,t,n),this.handleEmptyDrop=e=>{const{droppedDirection:t,droppedStores:n,duplicate:o}=e;O.createAndCommit(this.environment,e=>{s.a({environment:this.environment,targetParentStore:this.props.store,targetStore:void 0,droppedDirection:t,droppedStores:n,duplicate:o,transaction:e})})},this.handleEmptyNativeDrop=e=>{const{files:t,droppedDirection:n}=e;O.createAndCommit(this.environment,e=>{s.c({environment:this.environment,files:t,targetParentStore:this.props.store,targetStore:void 0,droppedDirection:n,transaction:e})})},this.canEditStore=this.createComputedStore(()=>{const e=Object(V.j)(this.props.store)&&this.pageContext&&this.pageContext.publicEditModeStore.state;return(!e||"edit"===e)&&this.props.store.canEdit()}),this.itemKeysStore=this.createComputedStore(()=>{const e=this.props.store.getValue()||[];let t=e;const n=this.getChildrenLimit(),o=this.canEdit(),r=0===e.length;return void 0!==n&&(t=i.a.slice(t,0,n)),o&&r&&t.push(N.emptyDroppableKey),o&&r&&this.props.emptyPlaceholder&&t.push(N.placeholderKey),t}),this.numberedListCounterStore=this.createComputedStore(()=>{const e=this.itemKeysStore.state,t=[];for(const n of e)if(n!==N.emptyDroppableKey&&n!==N.placeholderKey){const e=this.createStoreForItemId(n).getValue();e&&e.type===h.a.numberedList?t.push(n):t.push(void 0)}return t})}renderComponent(){if(!this.props.disableContent)return this.itemKeysStore.state.map(this.renderItem)}renderChild(e,t,n){const{disabled:o}=this.props,a=this.createStoreForItemId(e),s=i.a.findLastIndex(n,e=>Object(j.f)(e));return r.a.createElement(A,{key:e,store:a,renderItem:this.props.renderItem,listStore:this.props.store,isFirstItem:0===t,isLastItem:t===s,disabled:o,disableLayout:this.props.disableLayout,canEditList:this.canEdit(),numberedListCounterStore:this.numberedListCounterStore,disableSelection:this.props.disableSelection})}renderEmptyDroppable(){const e=c.a.createChildStore(this.props.store,{table:C.a,id:this.props.store.id}),t=this.canEdit();return r.a.createElement(S.a,{key:N.emptyDroppableKey,store:e,canDropBelow:t,canNativeDropBelow:t,onSelectableDrop:this.handleEmptyDrop,onNativeDrop:this.handleEmptyNativeDrop,style:this.props.emptyDroppableStyle,analyticsName:"page_content",shouldShowDropZone:!0})}canEdit(){return!this.props.disabled&&(!F.b.state&&this.canEditStore.state)}getChildrenLimit(){const{limitParents:e}=l.a.state,t=this.props.store.id;let n;return this.props.store.findRecordStoreAncestor(o=>{const r=e.get(o);return!(!r||!r.hasOwnProperty(t))&&(n=r[t],!0)}),n}createStoreForItemId(e){return c.a.createChildStore(this.props.store,{table:C.a,id:e})}}N.placeholderKey="placeholder",N.emptyDroppableKey="emptyDroppableKey";t.a=N},DkKf:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s}));var o=n("1UIA");const r={mouse:6,finger:0,stylus:6};function a(e){return e&&"stylus"===e.touchType?"stylus":"finger"}const i=function(){return o.b.moved};function s(e){return!!e.isTrusted&&i()}},DlEO:function(e,t,n){"use strict";var o=n("1Imc");t.a=new o.a},Dnhi:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isActive:!1}}isReady(){return Boolean(this.state.remotePresenceData)}}r.presentMaxActivityAge=6e4,t.a=r},DrHl:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("7Q97"),s=n("W8iW");class l extends a.a{renderComponent(){const e=this.props.options.find(e=>e.value===this.props.value);if(e)return r.a.createElement(i.b,{format:this.props.format,value:r.a.createElement(s.a,null,e.value),onClickRemove:this.props.onClickRemove,showRemoveButton:this.props.showRemoveButton,isSingle:this.props.isSingle,backgroundColor:this.theme.selectColors[e&&e.color||"default"],shouldShrink:this.props.shouldShrink})}}l.Format=i.a,t.a=l},DyNK:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var o=n("Ko2L"),r=n("cBa6");function a(e){const{token:t,store:n}=e,a=r.db(t.textToken),s=r.A(a);s?o.a.setState({token:t,store:n,annotation:s}):i()}function i(){o.a.state&&o.a.setState(void 0)}},E4rx:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return w}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("rJFj"),i=n("A9TN"),s=n("d933"),l=n("u5ao"),c=n("Mht8"),d=n("sjR4"),u=n("DNgp"),p=n("l2mL"),h=n("Uy0f"),m=n("JuT7"),f=n("pFdg"),g=n("nFzZ"),b=n("Ko8Q"),v=n("zb5D");const y=1*g.b;function S(e){const{environment:t,presenceStore:n}=e,{persistAutoListener:o,rootStore:r,isActive:a,listenerReference:i}=n.state;if(a){if(o&&o.destroy(),i&&m.a.removeListener(i),r&&M({environment:t,rootStore:r})){const e=Object(b.h)(r.id),{id:n}=t.currentUser;n&&m.a.updateField(e,n,{present:!1},y),m.a.clearOnDisconnect(e,"presenceActions").catch(e=>{c.log({level:"error",from:"destroyPresence",type:"SystemError",error:Object(v.a)(e)})})}n.reset()}}async function w(e){const{environment:t,rootStore:n,presenceStore:o}=e;if((!o.state.rootStore||o.state.rootStore!==n)&&(o.state.isActive&&S({environment:t,presenceStore:o}),await n.load(),C({environment:t,rootStore:n}))){o.setState({...o.state,isActive:!0,rootStore:n});const e=r.a.throttle(()=>{o&&o.state.isActive&&o.state.rootStore===n&&k({environment:t,presenceStore:o})},1e3),a=(e,t)=>{o&&o.state.isActive&&o.state.rootStore===n&&function(e,t){const{remotePresenceData:n}=t.state,o=e||{};r.a.isEqual(n,o)||t.setState({...t.state,remotePresenceData:o})}(function(e){const t={};if(r.a.isObject(e)){const n=Object.keys(e);for(const o of n){const n=e[o];n&&!Object(f.d)(l.b,n)&&(t[o]=n)}}return t}(t),o)},i=Object(b.h)(n.id),c=m.a.addListener(i,a,void 0);o.setState({...o.state,persistAutoListener:new s.a({onChange:e}),listenerReference:c});const{id:d}=t.currentUser;d&&M({environment:t,rootStore:n})&&await m.a.onDisconnect({key:i,field:d,updates:{present:!1},ttl:y},"presenceActions"),k({environment:t,presenceStore:o})}}function k(e){const{environment:t,presenceStore:n}=e,{persistAutoListener:o,rootStore:r}=n.state;o&&o.startListener({incrementCycle:!0});const{id:a}=t.currentUser;if(!r||!M({environment:t,rootStore:r}))return;let i;if(a&&r.canEdit()){let e;const{lastHoveredStore:t}=p.a.state;t&&t.id&&r&&r.contains(t)&&(e=t.id);const n=d.default.state;n.stores.length&&(e=n.stores[0].id);const o=u.default.state;"editing"===o.mode&&r.contains(o.store)&&"block"===o.store.table&&(e=o.store.id),e||n.pivot&&(e=n.pivot.id),i={userId:a,present:h.a.state.isVisible,activityTimestamp:Date.now(),blockId:e||null}}if(o&&o.stopListener({isEndOfCycle:!0}),i){const e=Object(b.h)(r.id),{id:n}=t.currentUser;n&&m.a.updateField(e,n,i,y)}}function C(e){const{environment:t,rootStore:n}=e;return Boolean(n)&&Object(a.a)(n.id)&&n.canEdit()&&t.currentUser.isLoggedIn()}function M(e){const{environment:t,rootStore:n}=e;return C({environment:t,rootStore:n})&&!i.default.isAdminMode}},ETM2:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("mF3+"),i=n("y6Dp"),s=n("i3uR"),l=n("wldR"),c=n("VOS9"),d=n("gbGO"),u=n("QcDD"),p=n("MeYt"),h=n("6rsX"),m=n("BJyN"),f=n("3IKt");class g extends l.a{constructor(){super(...arguments),this.renderOrigin=e=>{const{device:t}=this.environment;return r.a.createElement(p.a,Object.assign({style:this.getButtonStyle(),mobileFeedback:t.isMobile},e),a.a.dots({width:18,height:18}))},this.renderPopup=()=>{const{device:e}=this.environment,{store:t}=this.props,n={environment:this.environment,blocks:[t]};let o;return o=e.isMobile?{menuType:d.b.MenuType.ActionSheet}:{menuType:d.b.MenuType.Popup,width:210,maxHeight:"80vh"},r.a.createElement(d.b,Object.assign({},o),r.a.createElement(c.a,{sections:m.m,onAccept:this.handleAccept,context:n}))},this.handleClick=()=>{h.e(this.environment),i.gd(this.environment)},this.handleDismiss=()=>{this.props.buttonPopupStore.setState({...this.props.buttonPopupStore.state,open:!1})},this.handleAccept=e=>{const{currentBlockStore:t}=u.default.state;if(t){const n=t.getType();n&&i.q(this.environment,{analyticsName:e.analyticsName,from:"public_topbar_more_menu",block_type:n})}e.closeParentMenu&&this.handleDismiss()}}renderComponent(){const{device:e}=this.environment;return Object(f.a)(this.environment)||e.isMobile?r.a.createElement(s.a,{popupType:e.isMobile?s.a.PopupType.SlideUp:s.a.PopupType.Popup,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderOrigin,onClick:this.handleClick,render:this.renderPopup,originGap:8}):null}getButtonStyle(){const{device:e}=this.environment;return e.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",marginLeft:8,marginRight:8}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:3}}}t.a=g},EZe4:function(e,t,n){"use strict";var o;n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),function(e){e[e.ButtonMouseDown=0]="ButtonMouseDown",e[e.EditorMouseDown=1]="EditorMouseDown",e[e.EditorMouseUp=2]="EditorMouseUp",e[e.EditorClick=3]="EditorClick",e[e.MenuListClick=4]="MenuListClick",e[e.EditorContextMenu=5]="EditorContextMenu",e[e.EditorMouseOver=6]="EditorMouseOver",e[e.EditorHoverMouseMove=7]="EditorHoverMouseMove",e[e.EditorDropMouseMove=8]="EditorDropMouseMove",e[e.EditorDoubleClick=9]="EditorDoubleClick",e[e.SidebarMouseMove=10]="SidebarMouseMove",e[e.MobileTap=11]="MobileTap"}(o||(o={}));const r={},a=function(e){const t=r[e.context],n=e.event.nativeEvent||e.event;t!==n&&(r[e.context]=n,e.callback&&e.callback())},i=function(e){a({event:e,context:o.EditorMouseDown,callback:()=>{}})},s=function(e){a({event:e,context:o.EditorClick,callback:()=>{}})};t.d=a},EarS:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return b}));n("3bBZ");var o=n("udrG"),r=n("jZoB"),a=n("N34Z"),i=n("unoy"),s=n("6rsX"),l=n("bkwR"),c=n("1P/O"),d=n("Catn"),u=n("2ZkR");function p(e){return"".concat("ToggleBlock","-").concat(e)}function h(e){const{environment:t,store:n,transaction:l}=e,c=a.a({environment:t,type:o.a.text,inMemoryRecordCache:n.inMemoryRecordCache,transaction:l});r.a({parent:n.getContentStore(),append:c,transaction:l});const d=n.getContentStores()[0];s.f({environment:t,store:d});const u=d.getBlockTitleStore();i.o({store:u})}function m({blockId:e,state:t,currentUserId:n}){c.a.setOpen(e,t),d.a.set({userId:n,key:p(e),value:t})}function f({blockId:e,currentUserId:t}){const n=d.a.get({userId:t,key:p(e)});c.a.setOpen(e,n)}function g(e,t){if("on"!==u.default.getGroup(e,"turbo-toggles"))return;const{blockId:n}=t;l.loadCachedPageChunkBatched(e,{pageId:n,limit:25,chunkNumber:0,cursor:{stack:[]},verticalColumns:!1})}function b(e){const t=function e(t,n){n||(n=[]),t.getType()===o.a.toggle&&n.push(t.id);const r=t.getContentStores();for(const o of r)o.isNavigableBlock()||e(o,n);return n}(e),n=e.environment.currentUser.id;t.forEach(e=>f({blockId:e,currentUserId:n}));const r=!t.every(e=>c.a.isOpen(e));t.forEach(e=>m({blockId:e,state:r,currentUserId:n}))}},EmAo:function(e,t,n){"use strict";var o=n("pSmD");t.a=new o.a},Erf6:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},EszA:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var o=n("Ajfl"),r=n("unoy"),a=n("MBf9"),i=n("DNgp");function s(e){const{environment:t,annotation:n}=e,s=i.default.state;if("editing"===s.mode){const{selection:e,store:l}=s;i.default.isEmptySelection()?r.p({annotation:n}):(a.createAndCommit(t,r=>{o.a({environment:t,store:l,annotation:n,selection:e,transaction:r})}),r.m({store:l,selection:e}))}}function l(e){const{environment:t,annotationType:n}=e,r=i.default.state;if("editing"===r.mode){const{selection:e,store:s}=r;i.default.isEmptySelection()||a.createAndCommit(t,r=>{o.r({environment:t,store:s,type:n,selection:e,transaction:r})})}}},EtGu:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isOpen:!1,backgroundAnimationComplete:!0,fullscreenNodeAnimationComplete:!0,startScrollTop:0}}}t.a=new r},Etmo:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var o=n("yjqD"),r=n("Erf6"),a=n("bjn0"),i=n("y6Dp"),s=n("QcDD"),l=n("6SEd");async function c(e){const{relationCollectionId:t,relationProperty:n}=e,a=o.c();return r.a.setState({open:!0,relationCollectionId:t,relationProperty:n,targetCollectionId:void 0,selfRelationType:"same_property",collectionSearchQuery:"",onComplete:a.resolve}),await a.promise}function d(){const e=r.a.state;e.open&&(r.a.setState({open:!1}),e.onComplete(void 0))}function u(e){const{currentBlockStore:t}=s.default.state,n=r.a.state;if(n.open&&n.targetCollectionId&&t){r.a.setState({open:!1});const o=a.a.createChildStore(t,{table:l.a,id:n.targetCollectionId}).getValue();o&&(n.onComplete({targetCollectionValue:o,selfRelationType:n.selfRelationType}),i.R(e,{type:n.relationCollectionId===n.targetCollectionId?n.selfRelationType:"other_collection"}))}}},F1uM:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("nFzZ"),i=n("GVKY");var s=function(e){return e&&i.b(e,"url")},l=n("S26v"),c=n("tP7q"),d=n("cBa6"),u=n("udrG"),p=n("622O");n.d(t,"k",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"j",(function(){return N})),n.d(t,"i",(function(){return U})),n.d(t,"b",(function(){return z})),n.d(t,"c",(function(){return X})),n.d(t,"e",(function(){return Y})),n.d(t,"d",(function(){return H})),n.d(t,"l",(function(){return W})),n.d(t,"f",(function(){return G}));const h=930,m=320;function f(e,t){if(e&&t){const n=l.e(e).pathname||"";return n.substring(n.length-t.length,n.length).toLowerCase()===t}return!1}const g=/(https?:)?(\/\/)?gist\.github\.com\/([^\/]+\/)?[0-9a-f]+/;const b=/(https?:)?(\/\/)?(drive|docs|sheets)\.google\.com\/(open|(file|document|spreadsheets|presentation)\/d\/).+/;const v=/(https?:)?(\/\/)?docs\.google\.com\/document\/d\/[^\/]+\/edit.*/;const y=/(https?:)?(\/\/)?twitter\.com\/[^\/]+\/status\/[^\/]+/;const S=/(https?:)?(\/\/)?(www\.)?google\.com\/maps\/.+/;const w=/(https?:)?(\/\/)?framer\.cloud\/.+/;const k=/(https?:)?(\/\/)?(www\.)?whimsical\.com\/.+/,C=/(https?:)?(\/\/)?(www\.)?whimsical\.com\/blog\/.+/;const M=/(https?:)?(\/\/)?(www\.)?miro\.com\/app\/board\/.+/;const E=/(https?:)?(\/\/)?app\.abstract\.com\/share\/.+/,_=/(https?:)?(\/\/)?share\.goabstract\.com\/.+/;const T=/(https?:)?(\/\/)?invis\.io\/.+/,x=/(https?:)?(\/\/)?invisionapp\.com\/.+/,I=/(https?:)?(\/\/)?invisionapp\.com\/inside-design\/.+/;const P=[".png",".jpg",".jpeg",".gif",".tif",".tiff",".bmp",".svg",".heic"],O=function(e){return Object(p.k)(e.url)||P.some(t=>f(e.url,t))},B=[".mp3",".wav",".ogg",".oga",".m4a"],L=/(https?:)?(\/\/)?(www\.)?youtube\.com\/[watch|embed].+/,R=/(https?:)?(\/\/)?vimeo.com\/[0-9]+/;const D=/(https?:)?(\/\/)?([\w\.-]+\.)?figma.com\/(file|proto)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/;const A=/(https?:)?(\/\/)?(www\.)?(use)?loom\.com\/share\/.+/;const j=/(https?:)?(\/\/)?[^\.]+\.typeform\.com\/to\/.+/;const F=/(https?:)?(\/\/)?codepen\.io\/[^\/]+\/pen\/.+/;const V=[".webm",".mkv",".flv",".flv",".vob",".ogv",".ogg",".drc",".gifv",".mng",".avi",".mov",".qt",".wmv",".yuv",".rm",".rmvb",".asf",".amv",".mp4",".m4p",".m4v",".mpg",".mp2",".mpeg",".mpe",".mpv",".mpg",".mpeg",".m2v",".m4v",".svi",".3gp",".3g2",".mxf",".roq",".nsv",".flv",".f4v",".f4p",".f4a",".f4b"],N=function(e){return V.some(t=>f(e.url,t))},U=function(e){if(!s(e.url))return!1;return"page"!==Object(c.l)({url:e.url,baseUrl:e.baseUrl,isMobile:!1,protocol:void 0,currentUrl:void 0}).name},z={image:O,video:function(e){return N(e)||L.test(e.url)||R.test(e.url)},tweet:function(e){return y.test(e.url)},drive:function(e){return b.test(e.url)},gist:function(e){return g.test(e.url)},invision:function(e){return!O(e)&&!I.test(e.url)&&(T.test(e.url)||x.test(e.url))},framer:function(e){return w.test(e.url)},audio:function(e){return B.some(t=>f(e.url,t))},maps:function(e){return S.test(e.url)},figma:function(e){return D.test(e.url)},loom:function(e){return A.test(e.url)},typeform:function(e){return j.test(e.url)},codepen:function(e){return F.test(e.url)},pdf:function(e){const t=l.e(e.url);return Boolean(t.pathname&&t.pathname.indexOf(".pdf")>=0)},whimsical:function(e){return k.test(e.url)&&!C.test(e.url)},miro:function(e){return M.test(e.url)},abstract:function(e){return E.test(e.url)||_.test(e.url)},embed:function(e){if(!s(e.url))return!1;return"page"!==Object(c.l)({url:e.url,baseUrl:e.baseUrl,isMobile:!1,protocol:void 0,currentUrl:void 0}).name&&!a.j(z).filter(e=>"embed"!==e).map(e=>z[e]).some(t=>t(e))}};function X(e){const{preferredType:t}=e,n=a.j(z),o=[];for(const r of n)if(z[r](e)){if(r===t&&"embed"!==t)return r;o.push(r)}return o.length>0?o[0]:"embed"}function Y(e){const{width:t,height:n,scale:o,type:r,pageWidth:a}=e,i={block_width:t,block_height:n,block_preserve_scale:Boolean(o),block_full_width:!1,block_page_width:!1};return"embed"===r||"pdf"===r?(i.block_page_width=!i.block_width,i.block_height=n||m):"video"===r&&n?(i.block_page_width=!0,i.block_aspect_ratio=n/t):"image"===r&&n?i.block_aspect_ratio=n/t:"audio"===r||"maps"===r?(i.block_width=void 0,i.block_page_width=!0):"whimsical"!==r&&"framer"!==r&&"miro"!==r||(i.block_width=void 0,i.block_page_width=!0,i.block_height=400),t>a&&(i.block_page_width=!0,"image"!==r&&"video"!==r||(i.block_height=void 0)),i}async function H(e){const{type:t,isDataURL:n,source:o}=e;return t===u.a.tweet?function(e){const{source:t}=e;return{type:"tweet",properties:{source:d.m(t)},format:{display_source:void 0}}}(e):t===u.a.gist?function(e){const{source:t}=e;return{type:"gist",properties:{source:d.m(t)},format:{display_source:void 0}}}(e):t===u.a.figma?function(e){const{source:t}=e,n="https://www.figma.com/embed?embed_host=notion&url=".concat(encodeURIComponent(t));return{type:"figma",properties:{source:d.m(n)},format:{display_source:void 0,block_height:m}}}(e):t===u.a.audio?function(e){const{source:t}=e;return{type:"audio",properties:{source:d.m(t)},format:{display_source:void 0}}}(e):t===u.a.image||n?function(e){const{source:t}=e;return{type:"image",properties:{source:d.m(t)},format:{display_source:t}}}(e):t===u.a.invision?function(e){const{source:t}=e;return{type:"invision",properties:{source:d.m(t)},format:{display_source:void 0,block_height:m}}}(e):t===u.a.pdf?function(e){const{source:t}=e;return{type:"pdf",properties:{source:d.m(t)},format:{display_source:void 0,block_height:m}}}(e):t===u.a.drive&&function(e){return v.test(e.url)}({url:o})?function(e){const{source:t,type:n}=e;return{type:n,properties:{source:d.m(t)},format:{display_source:void 0,block_height:m}}}(e):async function(e){const{pageWidth:t,getEmbedData:n,source:o,type:r}=e,a=await n({source:o,pageWidth:t,type:r});if(a&&!a.empty)return a;let i=r,s={...Y({type:r,width:400,height:void 0,scale:!1,pageWidth:t}),display_source:o},l={source:d.m(o)};i===u.a.embed&&(i=u.a.bookmark,s={},l={link:d.m(o),title:d.m(o)});return{type:i,properties:l,format:s}}(e)}const q=["http:","https:"];function W(e){const t=l.e(e);let n=e;if(t.protocol){if(q.indexOf(t.protocol)<0){const o=e.slice(t.protocol.length);n="".concat("http:").concat(o)}}else n="".concat("http:","//").concat(r.a.trimStart(e,"/"));return n}function G(e){const t=l.e(e);if(t&&"www.youtube.com"===t.hostname&&"/watch"===t.pathname&&t.query&&t.query.v)return l.d({url:"https://www.youtube.com/embed/".concat(t.query.v),query:{...t.query,v:void 0}});if(t&&"whimsical.com"===t.hostname&&t.pathname){const e=t.pathname.split("/").slice(-1)[0];return l.d({url:"https://whimsical.com/embed/".concat(e)})}if(t&&"miro.com"===t.hostname&&t.pathname){const e=t.pathname.split("/")[3];return l.d({url:"https://miro.com/app/live-embed/".concat(e,"/?")})}return e}},F9et:function(e,t,n){"use strict";n("3bBZ");var o=n("wldR");class r extends o.a{constructor(){super(...arguments),this.handleMouseDown=e=>{if(this.props.capture){if(this.isFocusable(e.target))return;this.isFocusable(document.activeElement)&&e.preventDefault()}}}renderComponent(){return this.props.render({onMouseDown:this.handleMouseDown})}isFocusable(e){return"true"===e.contentEditable||"input"===e.tagName.toLowerCase()}}t.a=r},FCWi:function(e,t,n){"use strict";n.r(t);n("3bBZ");var o=n("LvDl"),r=n.n(o);n.d(t,"runWithTimer",(function(){return c})),n.d(t,"logStoreEmit",(function(){return d})),n.d(t,"logComponentForceUpdate",(function(){return u})),n.d(t,"logComponentRender",(function(){return p}));let a=!1,i=[],s=[],l=[];function c(e,t){setTimeout(()=>{console.info("Starting perf"),a=!0,i=[],s=[],l=[],setTimeout(()=>{console.info("Stopping perf"),a=!1,console.info("Store emits:"),function(){const e={};r.a.each(i,({storeName:t})=>{e[t]||(e[t]=0),e[t]++});const t=r.a.map(e,(e,t)=>({storeName:t,emitCount:e})),n=r.a.sortBy(t,({emitCount:e})=>-1*e),o=r.a.slice(n,0,30);console.table(o),t.length>30&&console.info("+ ".concat(t.length-30," more updates"))}(),console.info("Component force updates:"),function(){const e={};r.a.each(s,({componentName:t,storeName:n})=>{const o="".concat(t,":").concat(n);e[o]||(e[o]=0),e[o]++});const t=function(e){const t=[];for(var n in e){const o=e[n];t.push([n,o])}return t}(e).map(([e,t])=>{const[n,o]=e.split(":");return{componentName:n,storeName:o,updateCount:t}}),n=r.a.sortBy(t,({updateCount:e})=>-1*e),o=r.a.slice(n,0,30);console.table(o),t.length>30&&console.info("+ ".concat(t.length-30," more updates"));console.info("Note: an 'undefined' storeName means the component updated for some reason other than a store emit.")}(),console.info("Component renders:"),function(){const e={};r.a.each(l,({componentName:t})=>{e[t]||(e[t]=0),e[t]++});const t=r.a.map(e,(e,t)=>({componentName:t,renderCount:e})),n=r.a.sortBy(t,({renderCount:e})=>-1*e),o=r.a.slice(n,0,30);console.table(o),t.length>30&&console.info("+ ".concat(t.length-30," more updates"))}()},t)},e)}function d(e){a&&i.push({storeName:e.constructor.name,stack:(new Error).stack})}function u(e,t){a&&s.push({componentName:"debugName"in e?e.debugName:e.constructor.name,storeName:t&&t.constructor.name,stack:(new Error).stack})}function p(e){a&&l.push({componentName:e.constructor.name,stack:(new Error).stack})}},FIf6:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("LeVO"),s=n("MeYt"),l=n("J9+s"),c=n("VhAz"),d=n("DbeH");class u extends a.a{constructor(){super(...arguments),this.handleClick=e=>{d.a(this.environment,{from:this.props.analyticsName,for:this.props.subscriptionTier}),this.props.onClick&&this.props.onClick(e)}}renderComponent(){const{device:e}=this.environment;if(e.isIOS&&e.isNative)return;let t;if("personal"===this.props.subscriptionTier)t=r.a.createElement(l.FormattedMessage,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"});else if("team"===this.props.subscriptionTier)t=r.a.createElement(l.FormattedMessage,{defaultMessage:"Team",id:"upgradeButton.team.text"});else{if("enterprise"!==this.props.subscriptionTier)throw Object(c.e)(this.props.subscriptionTier),new Error;t=r.a.createElement(l.FormattedMessage,{defaultMessage:"Enterprise",id:"upgradeButton.enterprise.text"})}return e.isMobile?r.a.createElement(s.a,{disabled:void 0===this.props.onClick,style:{...u.clickableStyle,...this.props.mobileStyle}},r.a.createElement("div",{style:this.getInnerStyle()},t)):r.a.createElement(i.a,{delayThreshold:120,placement:i.a.Placement.Bottom,renderTooltip:()=>r.a.createElement("div",{style:{width:180,textAlign:"center"}},r.a.createElement(l.FormattedMessage,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"}),r.a.createElement("br",null),r.a.createElement(l.FormattedMessage,{defaultMessage:"Click to learn more.",id:"upgradeButton.learnMore.tooltip"})),originGap:6,render:e=>r.a.createElement(s.a,Object.assign({style:{...u.clickableStyle,...this.props.desktopStyle},disabled:void 0===this.props.onClick,onClick:this.handleClick},e),r.a.createElement("div",{style:this.getInnerStyle()},t))})}getInnerStyle(){const{device:e}=this.environment;return{padding:"2px 6px",borderRadius:3,color:this.theme.mediumTextColor,background:this.theme.selectColors.default,fontSize:e.isMobile?11:9,lineHeight:e.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}}}u.clickableStyle={display:"flex",alignItems:"center",borderRadius:3},t.a=u},FUUC:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return d}));var o=n("fIr1");const r="doc_notes",a="wiki",i="project_management",s="notes",l="bookmarks",c="tasks",d="space",u={table:d,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,name:o.a.String,permissions:o.a.JSON,permission_groups:o.a.JSON,email_domains:o.a.StringArray,pages:o.a.StringArray,icon:o.a.String,disable_public_access:o.a.Boolean,disable_public_access_requests:o.a.Boolean,disable_guests:o.a.Boolean,disable_move_to_space:o.a.Boolean,disable_export:o.a.Boolean,disable_space_page_edits:o.a.Boolean,beta_enabled:o.a.Boolean,created_time:o.a.Number,last_edited_time:o.a.Number,deleted_by:o.a.Number,created_by_table:o.a.String,created_by_id:o.a.UUID,last_edited_by_table:o.a.String,last_edited_by_id:o.a.UUID,admin_disable_public_access:o.a.Boolean,space_pages:o.a.UUIDArray,plan_type:o.a.String,invite_link_enabled:o.a.Boolean,initial_use_cases:o.a.String}};t.h=u},FWat:function(e,t,n){"use strict";n.d(t,"B",(function(){return v})),n.d(t,"m",(function(){return w})),n.d(t,"A",(function(){return M})),n.d(t,"u",(function(){return T})),n.d(t,"y",(function(){return P})),n.d(t,"w",(function(){return L})),n.d(t,"v",(function(){return A})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return F})),n.d(t,"o",(function(){return U})),n.d(t,"r",(function(){return Y})),n.d(t,"q",(function(){return H})),n.d(t,"s",(function(){return q})),n.d(t,"t",(function(){return G})),n.d(t,"D",(function(){return K})),n.d(t,"z",(function(){return J})),n.d(t,"h",(function(){return $})),n.d(t,"g",(function(){return ee})),n.d(t,"a",(function(){return ne})),n.d(t,"n",(function(){return oe})),n.d(t,"x",(function(){return re})),n.d(t,"p",(function(){return ae})),n.d(t,"c",(function(){return ie})),n.d(t,"d",(function(){return se})),n.d(t,"b",(function(){return le})),n.d(t,"j",(function(){return ce})),n.d(t,"k",(function(){return de})),n.d(t,"l",(function(){return ue})),n.d(t,"i",(function(){return he})),n.d(t,"C",(function(){return me}));n("3bBZ"),n("SYor");var o=n("LvDl"),r=n.n(o),a=n("VhAz"),i=n("njgS"),s=n("vshI"),l=n("D2XV"),c=n("hfHo"),d=n("k1PL"),u=n("4bJO"),p=n("PXtY"),h=n("nFzZ"),m=n("6SEd"),f=n("5/h/");const g={string_is:!0,string_is_not:!0,string_contains:!0,string_does_not_contain:!0,string_starts_with:!0,string_ends_with:!0,is_empty:!0,is_not_empty:!0},b=Object(h.j)(g);function v(e){return t=e.operator,Boolean(g[t]);var t}const y={checkbox_is:!0,checkbox_is_not:!0},S=Object(h.j)(y);function w(e){return t=e.operator,Boolean(y[t]);var t}const k={enum_is:!0,enum_is_not:!0,is_empty:!0,is_not_empty:!0},C=Object(h.j)(k);function M(e){return t=e.operator,Boolean(k[t]);var t}const E={enum_contains:!0,enum_does_not_contain:!0,is_empty:!0,is_not_empty:!0},_=Object(h.j)(E);function T(e){return t=e.operator,Boolean(E[t]);var t}const x={relation_contains:!0,relation_does_not_contain:!0,is_empty:!0,is_not_empty:!0},I=Object(h.j)(x);function P(e){return t=e.operator,Boolean(x[t]);var t}const O={person_contains:!0,person_does_not_contain:!0,is_empty:!0,is_not_empty:!0},B=Object(h.j)(O);function L(e){return t=e.operator,Boolean(O[t]);var t}const R={number_equals:!0,number_does_not_equal:!0,number_greater_than:!0,number_less_than:!0,number_greater_than_or_equal_to:!0,number_less_than_or_equal_to:!0,is_empty:!0,is_not_empty:!0},D=Object(h.j)(R);function A(e){return t=e.operator,Boolean(R[t]);var t}const j=[...Object(h.t)({today:{type:"relative",value:"today"},tomorrow:{type:"relative",value:"tomorrow"},yesterday:{type:"relative",value:"yesterday"},one_week_ago:{type:"relative",value:"one_week_ago"},one_week_from_now:{type:"relative",value:"one_week_from_now"},one_month_ago:{type:"relative",value:"one_month_ago"},one_month_from_now:{type:"relative",value:"one_month_from_now"}}),{type:"exact",value:void 0}],F=Object(h.t)({the_past_week:{type:"relative",value:"the_past_week"},the_past_month:{type:"relative",value:"the_past_month"},the_past_year:{type:"relative",value:"the_past_year"},the_next_week:{type:"relative",value:"the_next_week"},the_next_month:{type:"relative",value:"the_next_month"},the_next_year:{type:"relative",value:"the_next_year"}}),V={date_is:!0,date_is_before:!0,date_is_after:!0,date_is_on_or_before:!0,date_is_on_or_after:!0,date_is_within:!0,is_empty:!0,is_not_empty:!0},N=Object(h.j)(V);function U(e){return t=e.operator,Boolean(V[t]);var t}const z={is_empty:!0,is_not_empty:!0},X=Object(h.j)(z);function Y(e){return Boolean(z[e])}function H(e){return Y(e.operator)}const q=H,W={text:v,number:A,checkbox:w,select:M,multi_select:T,relation:P,person:L,date:U,file:q};function G(e,t){return e in W&&W[e](t)}const Z={any:!0,none:!0,every:!0},K=Object(h.j)(Z);function J(e){return Boolean(Z[e.operator])}const Q={text:b,checkbox:S,select:C,multi_select:_,relation:I,person:B,number:D,date:N,file:X};function $(e){return Q[e]}const ee={operator:"and",filters:[]},te={and:!0,or:!0},ne=Object(h.j)(te);function oe(e){return"operator"in e&&te[e.operator]}function re(e){return"property"in e&&"string"==typeof e.property}function ae(e){return 0===(e.filters||[]).length}function ie(e){const{block:t,filter:n,schema:o,getRecordValue:r,userId:a,userTimeZone:i,intl:s,normalizedSchemaCache:l}=e;let c=!0;const d=n.operator,u=n.filters||[];for(const p of u){const e=re(p)?se({property:p.property,filter:p.filter,schema:o,block:t,getRecordValue:r,userId:a,userTimeZone:i,depth:0,intl:s,normalizedSchemaCache:l}):ie({filter:p,block:t,schema:o,getRecordValue:r,userId:a,userTimeZone:i,intl:s,normalizedSchemaCache:l});if("and"===d&&!e)return!1;if("or"===d&&e)return!0;c=e}return c}function se(e){const{block:t,schema:n,property:o,filter:i,getRecordValue:l,userId:c,userTimeZone:h,depth:m,intl:f,normalizedSchemaCache:g}=e,b=n[o];if(!b)return!1;if("formula"===b.type){if(!b.formula)return!1;if(!b.formula.result_type)return!1;if(!G(b.formula.result_type,i))return!1;const t=Object(s.a)({...e,resultCache:{}}),n={type:b.formula.result_type,value:t};return le({filter:i,filterValue:n,userId:e.userId,userTimeZone:e.userTimeZone,getRecordValue:e.getRecordValue})}if("rollup"===b.type){if(b.aggregation&&"show_unique"!==b.aggregation){if(Object(u.m)(b.aggregation)||Object(u.n)(b.aggregation)||Object(u.k)(b.aggregation)||Object(u.i)(b.aggregation)){if(!A(i))return!1}else if(Object(u.l)(b.aggregation)){if(!U(i))return!1}else Object(a.e)(b.aggregation);const t=Object(d.a)(e);if(!t)return!1;if("number"===t.type)return!!A(i)&&le({filter:i,filterValue:t,userId:c,userTimeZone:h,getRecordValue:l});if("date"===t.type)return!!U(i)&&le({filter:i,filterValue:t,userId:c,userTimeZone:h,getRecordValue:l});Object(a.e)(t)}if(!J(i))return!1;const s=Object(d.c)({property:o,schema:n,getRecordValue:l,normalizedSchemaCache:g});if(!s)return!1;const p=Object(d.d)({property:o,schema:n,block:t,getRecordValue:l,normalizedSchemaCache:g});return!J(i.subfilter)&&function(e,t,n){if("any"===e)return 0!==t.length&&t.some(n);if("none"===e)return 0===t.length||!t.some(n);if("every"===e)return 0!==t.length&&r.a.every(t,n);Object(a.e)(e)}(i.operator,p,e=>se({filter:i.subfilter,block:e,property:s.targetProperty,schema:s.targetCollectionSchema,getRecordValue:l,userId:c,userTimeZone:h,depth:m+1,intl:f,normalizedSchemaCache:g}))}const v=Object(p.c)(b.type);if(!G(v,i))return!1;const y=Object(p.f)({filterValueType:v,block:t,property:o,schema:n,getRecordValue:l,userTimeZone:h,intl:f});return le({filter:i,filterValue:y,userId:e.userId,userTimeZone:e.userTimeZone,getRecordValue:e.getRecordValue})}function le(e){return(0,pe[e.filterValue.type])(e)}function ce(e){const{operatorValue:t,userTimeZone:n}=e;if("exact"===t.type){const e=t.value;if(void 0===e)return;const{start:o}=l.K(e,n);return o.startOf("day").valueOf()}return"today"===t.value?Object(c.default)().tz(n).startOf("day").valueOf():"tomorrow"===t.value?Object(c.default)().tz(n).add(1,"days").startOf("day").valueOf():"yesterday"===t.value?Object(c.default)().tz(n).add(-1,"days").startOf("day").valueOf():"one_week_from_now"===t.value?Object(c.default)().tz(n).add(1,"weeks").startOf("day").valueOf():"one_week_ago"===t.value?Object(c.default)().tz(n).add(-1,"weeks").startOf("day").valueOf():"one_month_from_now"===t.value?Object(c.default)().tz(n).add(1,"months").startOf("day").valueOf():"one_month_ago"===t.value?Object(c.default)().tz(n).add(-1,"months").startOf("day").valueOf():void Object(a.e)(t)}function de(e){const{operatorValue:t,userTimeZone:n}=e;return"the_past_week"===t.value?{start:Object(c.default)().tz(n).add(-1,"weeks").valueOf(),end:Object(c.default)().tz(n).valueOf()}:"the_past_month"===t.value?{start:Object(c.default)().tz(n).add(-1,"months").valueOf(),end:Object(c.default)().tz(n).valueOf()}:"the_past_year"===t.value?{start:Object(c.default)().tz(n).add(-1,"years").valueOf(),end:Object(c.default)().tz(n).valueOf()}:"the_next_week"===t.value?{start:Object(c.default)().tz(n).valueOf(),end:Object(c.default)().tz(n).add(1,"weeks").valueOf()}:"the_next_month"===t.value?{start:Object(c.default)().tz(n).valueOf(),end:Object(c.default)().tz(n).add(1,"months").valueOf()}:"the_next_year"===t.value?{start:Object(c.default)().tz(n).valueOf(),end:Object(c.default)().tz(n).add(1,"years").valueOf()}:void Object(a.e)(t)}function ue(e){const{operatorValue:t,userId:n}=e;if("relative"===t.type){if("me"===t.value)return n?{table:f.a,id:n}:void 0;Object(a.e)(t)}return t.value}const pe={text:function(e){const{filter:t,filterValue:n}=e,o=n.value||"";if(!r.a.isString(o))throw new Error("str is not a string: ".concat(o));if("is_empty"===t.operator)return 0===o.length;if("is_not_empty"===t.operator)return o.length>0;const i=(t.value.value||"").trim();return!i||("string_is"===t.operator?o===i:"string_is_not"===t.operator?o!==i:"string_contains"===t.operator?o.indexOf(i)>=0:"string_does_not_contain"===t.operator?o.indexOf(i)<0:"string_starts_with"===t.operator?o.slice(0,i.length)===i:"string_ends_with"===t.operator?o.slice(o.length-i.length)===i:void Object(a.e)(t.operator))},checkbox:function(e){const{filter:t,filterValue:n}=e,o=Boolean(n.value),r=t.value;return"checkbox_is"===t.operator?o===Boolean(r.value):"checkbox_is_not"===t.operator?o!==Boolean(r.value):void Object(a.e)(t.operator)},select:function(e){const{filter:t,filterValue:n}=e,o=n.value;if("is_empty"===t.operator)return void 0===o;if("is_not_empty"===t.operator)return void 0!==o;const r=t.value.value;return void 0===r||("enum_is"===t.operator?o===r:"enum_is_not"===t.operator?o!==r:void Object(a.e)(t.operator))},multi_select:function(e){const{filter:t,filterValue:n}=e,o=n.value||[];if("is_empty"===t.operator)return 0===o.length;if("is_not_empty"===t.operator)return o.length>0;const r=t.value.value;return void 0===r||("enum_contains"===t.operator?o.some(e=>e===r):"enum_does_not_contain"===t.operator?!o.some(e=>e===r):void Object(a.e)(t.operator))},relation:function(e){const{filter:t,filterValue:n}=e,o=n.value||[];if("is_empty"===t.operator)return 0===o.length;if("is_not_empty"===t.operator)return o.length>0;const r=t.value.value;return void 0===r||("relation_contains"===t.operator?o.some(e=>e===r):"relation_does_not_contain"===t.operator?!o.some(e=>e===r):void Object(a.e)(t.operator))},person:function(e){const{filter:t,filterValue:n,userId:o}=e,i=n.value||[];if("is_empty"===t.operator)return 0===i.length;if("is_not_empty"===t.operator)return i.length>0;const s=ue({operatorValue:t.value,userId:o});return void 0===s||("person_contains"===t.operator?i.some(e=>r.a.isEqual(e,s)):"person_does_not_contain"===t.operator?!i.some(e=>r.a.isEqual(e,s)):void Object(a.e)(t.operator))},number:function(e){const{filter:t,filterValue:n}=e,o=n.value;if("is_empty"===t.operator)return void 0===o;if("is_not_empty"===t.operator)return void 0!==o;const i=t.value.value;return!(void 0!==i&&!r.a.isNaN(i))||void 0!==o&&!r.a.isNaN(o)&&("number_equals"===t.operator?o===i:"number_does_not_equal"===t.operator?o!==i:"number_greater_than"===t.operator?o>i:"number_less_than"===t.operator?o<i:"number_greater_than_or_equal_to"===t.operator?o>=i:"number_less_than_or_equal_to"===t.operator?o<=i:void Object(a.e)(t.operator))},date:function(e){const{filter:t,filterValue:n,userTimeZone:o}=e,r=n.value;if("is_empty"===t.operator)return void 0===r;if("is_not_empty"===t.operator)return void 0!==r;if(!r)return!1;const i=l.K(r,o).start.valueOf();if("date_is_within"===t.operator){const e=de({operatorValue:t.value,userTimeZone:o});return i>=e.start&&i<=e.end}const s=ce({operatorValue:t.value,userTimeZone:o});if(void 0===s)return!0;const d=Object(c.default)(s).tz(o).endOf("day").valueOf();return"date_is"===t.operator?d>=i&&s<=i:"date_is_before"===t.operator?i<s:"date_is_on_or_before"===t.operator?i<=d:"date_is_after"===t.operator?i>d:"date_is_on_or_after"===t.operator?i>=s:void Object(a.e)(t.operator)},file:function(e){const{filter:t,filterValue:n}=e,o=n.value||[];return"is_empty"===t.operator?0===o.length:"is_not_empty"===t.operator?o.length>0:void Object(a.e)(t)}};function he(e){const{schema:t,property:n,getRecordValue:o,normalizedSchemaCache:r}=e,a=t[n];if(!a)return"text";if("formula"===a.type)return a.formula&&a.formula.result_type?a.formula.result_type:"text";if("rollup"===a.type){if(!a.relation_property||!a.target_property)return"text";if(a.aggregation)return Object(u.f)(a.aggregation);const e=t[a.relation_property];if(!e||"relation"!==e.type||!e.collection_id)return"text";const n=o({table:m.a,id:e.collection_id});return n?he({schema:Object(i.f)(r,n.id,n.schema),property:a.target_property,getRecordValue:o,normalizedSchemaCache:r}):"text"}return Object(p.c)(a.type)}function me(e,t){if("formula"===e.type)return e.formula&&e.formula.result_type?G(e.formula.result_type,t):!!H(t);if("rollup"===e.type){if(e.aggregation&&"show_unique"!==e.aggregation){return G(Object(u.f)(e.aggregation),t)}return!!J(t)}return G(Object(p.c)(e.type),t)}},FcJC:function(e,t,n){"use strict";n.r(t),n.d(t,"open",(function(){return L})),n.d(t,"close",(function(){return R})),n.d(t,"setExpand",(function(){return D})),n.d(t,"setWidth",(function(){return A})),n.d(t,"leaveBlocks",(function(){return j})),n.d(t,"bookmarkPage",(function(){return F})),n.d(t,"unbookmarkPage",(function(){return V})),n.d(t,"pinSharedPage",(function(){return N})),n.d(t,"unpinSharedPage",(function(){return U})),n.d(t,"quickAddPage",(function(){return X})),n.d(t,"initialize",(function(){return H}));n("3bBZ");var o=n("y6Dp"),r=n("wpmu"),a=n("bkwR"),i=n("H4VD"),s=n("jZoB"),l=n("nM47"),c=n("Ugx7"),d=n("MBf9"),u=n("HSWF"),p=n("N34Z"),h=n("QcDD"),m=n("fwa5"),f=n("nZ1u"),g=n("UcZb"),b=n("w5u6"),v=n("6BvA"),y=n("p0Uu"),S=n("cbKx"),w=n("FoNW"),k=n("3O7B"),C=n("9vSW"),M=n("h2IJ"),E=n("raUL"),_=n("p0Ff"),T=n("ov3o"),x=n("G414"),I=n("xstG"),P=n("1wVZ"),O=n("qX+M"),B=n("qKs6");function L(){g.c.state||f.a.state.isActive||I.b.isOpen()||g.c.set(!0)}function R(){!g.c.state||S.a.state.open||w.a.state.open||C.a.state.open||k.a.state.open||m.a.state.isActive||v.a.state.blockStore||g.d.state.isResizing||!Object(P.a)()||g.c.set(!1)}function D(e){g.a.set(e.isExpanded),Y(),e.isExpanded?o.ne(e.environment):o.le(e.environment)}function A(e){g.e.set(e.width),Y()}async function j(e){const{blocks:t,transaction:n,environment:o}=e,{currentSpaceViewStore:r}=h.default.state;if(r)for(const a of t)s.e({parent:r.getSharedPagesStore(),remove:a,transaction:n});i.navigateAwayIfCurrentPage({environment:o,blocks:t}),await Promise.all(t.map(e=>a.leaveBlock(o,{blockId:e.id})))}const F=function(e){const{store:t,spaceViewStore:n,transaction:o}=e,a=n.getBookmarkedPagesStore(),i=r.a.createChildStore(a,t.pointer);s.d({parent:a,prepend:i,transaction:o})},V=function(e){const{store:t,spaceViewStore:n,transaction:o}=e,a=n.getBookmarkedPagesStore(),i=r.a.createChildStore(a,t.pointer);s.e({parent:a,remove:i,transaction:o})},N=function(e){const{store:t,spaceViewStore:n,transaction:o}=e;z(e);const a=n.getSharedPagesStore(),i=r.a.createChildStore(a,t.pointer);s.d({parent:a,prepend:i,transaction:o})},U=function(e){const{store:t,spaceViewStore:n,transaction:o}=e;z(e);const a=n.getSharedPagesStore(),i=r.a.createChildStore(a,t.pointer);s.e({parent:a,remove:i,transaction:o})};function z(e){const{environment:t,spaceViewStore:n,userSettingsStore:o,transaction:r}=e,a=n.getSpaceId();if(!a||o.hasUserPinnedToOutliner({spaceId:a,type:"shared"}))return;const{visibleSharedPagesStores:i}=Object(O.getSharedPageContext)({environment:t,spaceViewStore:n,userSettingsStore:o}),s=i.map(({id:e})=>e);p.d({store:n,data:{shared_pages:s},transaction:r}),B.c({userSettingsStore:o,spaceId:a,type:"shared",transaction:r})}async function X(e){const{from:t,environment:n,redirect:r}=e,{currentSpaceStore:a,currentSpaceViewStore:s}=h.default.state;if(l.j(n)&&a&&a.canEdit()&&s){const e=d.create(n),l=await u.p(a,a.loadRecordValue);T.a.setState({...T.a.state,lastPageId:h.default.state.currentBlockStore?h.default.state.currentBlockStore.id:void 0});const m=p.a({environment:n,type:"page",inMemoryRecordCache:_.default,transaction:e});await x.b({environment:n,targets:[m],value:l,transaction:e}),d.commit({environment:n,transaction:e}),n.device.isMobile?(i.navigateToBlock({environment:n,store:m,showMoveTo:!0,saveParent:!0,redirect:r}),R()):i.peekBlock({environment:n,store:m,showMoveTo:!0,saveParent:!0}),c.g({spaceViewStore:s,type:"private",outlinerToggleButtonStore:E.a,newValue:!1}),o.fb(n,{from:t,type:"page"}),b.default.afterNextFlush(()=>{y.a.SidebarScroller&&y.a.SidebarScroller.scrollToBottom()})}}function Y(){const e={expanded:g.a.state,width:g.e.state};M.a.set("sidebar",e)}function H(){const e=M.a.get("sidebar");e&&(void 0!==e.expanded&&g.a.set(e.expanded),void 0!==e.width&&g.e.set(e.width))}},"Fco/":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("prF1"),s=n("y6Dp"),l=n("mF3+"),c=n("lCCU");class d extends a.a{renderComponent(){return r.a.createElement(i.a,{href:this.props.href,external:!0,onClick:()=>s.C(this.environment,{from:this.props.helpButtonContext})},r.a.createElement(c.a,{icon:l.a.help,style:{height:24,width:24,marginRight:-6,fill:this.theme.mediumIconColor}}))}}t.a=d},Fe7V:function(e,t,n){"use strict";n.d(t,"h",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return k})),n.d(t,"f",(function(){return _})),n.d(t,"b",(function(){return T}));var o=n("bkwR"),r=n("dACB"),a=n("j76I"),i=n("JU1L"),s=n("p0Ff"),l=n("dlZW"),c=n("8L2b"),d=n("z22Z"),u=n("HRSx"),p=n("cBa6"),h=(n("VpIZ"),n("7W+R"),n("5/h/")),m=n("9axl"),f=n("NCLm"),g=n("FUUC");function b(e){const{environment:t,pointer:n,userId:o,inMemoryRecordCache:a,recordWithRole:i,force:l,updatePath:b,isOffline:v,maybeStaleRecordMap:y}=e,S=o||t.currentUser.id,w=i&&i.value&&i.value.version,k=i&&i.role;if(l||"number"==typeof w&&w>a.getVersion({pointer:n,userId:S})||k&&a.getRole({pointer:n,userId:S})!==k){if(a.setRecord({pointer:n,userId:S},i),a.emitRecord(n,b),i){if(n.table===u.a&&i.value){const e=i.value;e.properties&&e.properties.title&&(e.properties.title=e.properties.title.map(e=>p.Lb(e)))}const{PersistedRecordCache:e}=t;e&&E[n.table]&&e.set(n,i,function(e){const{environment:t,pointer:n,recordWithRole:o}=e,{id:r}=t.currentUser;if((n.table===h.a||n.table===m.a||n.table===f.a)&&r===n.id)return C;if(n.table===c.a&&o.value&&o.value.parent_id===r)return M;if(n.table===g.a&&Object(d.k)(o.role))return M;return}({environment:t,pointer:n,recordWithRole:i}),S,v,y)}a===s.default&&r.b({pointer:n,userId:S})}}function v(e){const{environment:t,userId:n,recordMap:o,inMemoryRecordCache:r,force:i,areRecordsOfflined:s,maybeStaleRecordMap:c}=e,{PersistedRecordCache:d}=t;a.c(o,async({pointer:e,value:o})=>{if(l.transactionQueue.isPendingTransactionForRecord(e)){if(d){const o=await d.get(e,n||t.currentUser.id);o&&b({environment:t,inMemoryRecordCache:r,pointer:e,userId:n,recordWithRole:o,updatePath:[],force:i,isOffline:s,maybeStaleRecordMap:c})}}else b({environment:t,inMemoryRecordCache:r,pointer:e,userId:n,recordWithRole:o,updatePath:[],force:i,isOffline:s,maybeStaleRecordMap:c})})}async function y(e){const{inMemoryRecordCache:t,pointer:n,userId:r,environment:a}=e,i=l.transactionQueue.isPendingTransactionForRecord(n),{PersistedRecordCache:s}=a;if(i)return s&&await s.get(n,r);let c,d;s&&(c=await s.get(n,r),c&&b({environment:a,inMemoryRecordCache:t,pointer:n,userId:r,recordWithRole:c,updatePath:[]}));try{const e=t.getRecord({pointer:n,userId:r});d=await o.syncRecordValue(a,{userId:r,version:e&&e.value&&e.value.version?e.value.version:-1,pointer:n}),d&&b({environment:a,inMemoryRecordCache:t,pointer:n,userId:r,recordWithRole:d,updatePath:[]})}catch(u){console.error(u)}return d||c}async function S(e){const{inMemoryRecordCache:t,pointer:n,userId:r,environment:a}=e,{PersistedRecordCache:i}=a,s=await o.syncRecordValue(a,{pointer:n,userId:r,version:-1});s&&(w({environment:a,inMemoryRecordCache:t,persistedRecordCache:i,pointer:n,userId:r}),b({environment:a,inMemoryRecordCache:t,pointer:n,userId:r,recordWithRole:s,updatePath:[]}))}function w(e){const{inMemoryRecordCache:t,persistedRecordCache:n,pointer:o,userId:r}=e;t.deleteRecord({pointer:o,userId:r}),t.emitRecord(o,[]),n&&n.deleteRecord(o,r)}function k(e){const t=s.default.cache;Object.keys(t).forEach(n=>{const o=Object(i.a)(n);r.c({pointer:o,environment:e}),delete t[n]})}const C=100,M=50,E={block:!0,notion_user:!0,space:!0,space_view:!0,user_root:!0,collection:!0,collection_view:!0,follow:!0,discussion:!0,comment:!0,user_settings:!0,slack_integration:!0,bot:!0,integration:!0,space_invite_link:!0,template_checklist:!0,page_visit:!0,activity:!1,notification:!1,access_request:!1,customer:!1,temporary_password:!1,password:!1,slack_notification:!1,snapshot:!1,credit:!1,used_credit:!1,space_recover_pages:!1,user_metadata:!1,saml_config:!1,experiment:!1,education_domain:!1,education_email:!1,public_email_domain:!1,user_data_consent_permissions:!1,token:!1,apple_token:!1,google_token:!1,firebase_token:!1,trello_token:!1,asana_token:!1,evernote_token:!1,drive_token:!1,block_token:!1,bot_token:!1,integration_token:!1,csat_feedback:!1,subscription:!1,space_domain:!1,admin_api_log:!1,admin_api_op_log:!1,oauth_authorization_code:!1};function _(e,t=s.default){t.hasListener(e.page.pointer)&&(t.setSyncState(e.page,e),t.emitRecord(e.page.pointer,[]))}function T(e,t=s.default){t.clearSyncState(e),t.emitRecord(e.pointer,[])}},FkPB:function(e,t,n){"use strict";var o=n("q1tI"),r=n("d933"),a=n("LqYT"),i=(n("3bBZ"),n("4Brf"),n("FCWi")),s=n("w5u6"),l=n("oXlg"),c=n("0V5j");function d(){const[e,t]=Object(o.useState)(0);Object(o.useDebugValue)(e);const n=Object(c.a)(),r=Object(o.useCallback)(()=>new Promise(e=>{n()?(l.a.log("dequeueRerender"),a.current.add(e),t(e=>e+1)):e()}),[n]),a=Object(o.useRef)(new Set);return Object(o.useEffect)(()=>{for(const e of a.current)try{e()}finally{a.current.delete(e)}}),Object(o.useCallback)((e={})=>{const{debugName:t,store:n}=e;l.a.log("enqueueRender",t,n),i.logComponentForceUpdate({debugName:t||"useEnqueueRender"},n),s.default.enqueueComponentRender(r)},[r])}Symbol("first render");var u=n("mY49");function p(e,t={}){const{debugName:n}=t,a=d(),i=Object(o.useRef)(!1),s=Object(o.useCallback)((function(e){l.a.log("useSubscription listener called",{debugName:n,disabled:i.current},e),i.current||a({store:e})}),[a,n]);Object(o.useEffect)(()=>(e.addListener(s),l.a.log("useStoreState: addListener",n,e),()=>{l.a.log("useStoreState: removeListener",n,e)}),[e,n,s]),i.current=!0;try{const t=r.a.withListenerIgnored(()=>e.state);return Object(o.useDebugValue)(t),t}finally{i.current=!1}}function h(e,t,n={}){const{debugName:r}=n;return Object(o.useDebugValue)(r),p(function(e,t,n={}){const{useDeepEqual:r,debugName:i}=n;Object(o.useDebugValue)(i);const s=Object(o.useCallback)(e,t),l=Object(o.useRef)();l.current||(l.current=new a.a(s,Boolean(r)),l.current.debugName=i);const c=l.current;return Object(u.d)(t,u.a)&&c.updateStoreInstance(s,Boolean(r)),Object(o.useEffect)(()=>{const e=()=>{};return c.addListener(e),()=>c.removeListener(e)},[c]),c}(e,t,n),n)}function m(e,t){const n=function(e,t){const n=Object(o.useRef)();if(e)return n.current=void 0,e;if(!t)throw new Error("useStore: no store instance, and no store constructor");return n.current||(n.current=new t),n.current}(e,t),r=n.constructor.name;return Object(o.useDebugValue)(n.constructor.name),[p(n,{debugName:r}),Object(o.useCallback)(e=>"function"==typeof e?n.update(e):n.setState(e),[n]),n]}n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}))},FmD2:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("Ucj+"),i=n("x0lk"),s=n("6rsX"),l=n("JZPr"),c=n("lBar"),d=n("v/t1"),u=n("jWHj"),p=n("sjR4"),h=n("nZ1u"),m=n("AmMh");function f(e){const{environment:t,target:n,startX:o,startY:r,showSelectionRect:a,preventSelectStores:i,allowVerticalEdgeScroll:f,allowHorizontalEdgeScroll:b}=e,v=m.a.getSortedComponents(),{defaultContainer:y}=p.default.state;if(!y)return;if(o>=window.innerWidth-t.device.scrollbarWidth)return;if(r>=window.innerHeight-t.device.scrollbarWidth)return;const S=c.f(n),w=c.d(n),k=v.filter(e=>e.getContextSelectableContainer()===y),C=()=>{h.a.state.isActive&&(s.h(),g({environment:t,currentX:h.a.state.currentX,currentY:h.a.state.currentY,toggle:u.a().shift}))};S&&d.a(S,"scroll",C),w&&d.a(w,"scroll",C),h.a.setState({moved:!1,isActive:!0,startX:o,startY:r,currentX:o,currentY:r,currentRect:void 0,startSelection:p.default.state.stores,startSelectables:k,verticalScrollerEl:S,horizontalScrollerEl:w,startScrollTop:S?S.scrollTop:0,startScrollLeft:w?w.scrollLeft:0,showSelectionRect:a,handleScroll:C,preventSelectStores:i,allowVerticalEdgeScroll:f,allowHorizontalEdgeScroll:b}),s.e(t),l.e()}function g(e){const{environment:t}=e,n=h.a.state;if(n.isActive){const{currentX:o,currentY:l,verticalScrollerEl:c,horizontalScrollerEl:d,startScrollTop:u,startScrollLeft:p,preventSelectStores:m}=n;let f=n.startY;if(c){f-=c.scrollTop-u}let g=n.startX;if(d){g-=d.scrollLeft-p}const b={top:Math.min(f,l),bottom:Math.max(f,l),left:Math.min(g,o),right:Math.max(g,o)},v=a.a.state.selectableRectMap,S=n.startSelectables.filter(e=>{const t=v.get(e);return e.props.canSelect&&t&&i.b(b,t)&&m.indexOf(e.props.store)<0}),w=y(S);let k=[];const C=w.find(e=>e.length>1);if(C)k=C;else{const e=r.a.last(w);e&&(k=e)}let M=r.a.map(k,e=>e.props.store);if(e.toggle)for(const e of n.startSelection)r.a.includes(M,e)?M=r.a.without(M,e):M.push(e);h.a.setState({...n,moved:!0,currentX:e.currentX,currentY:e.currentY,currentRect:b}),s.q({environment:t,stores:M})}}function b(e){const t=h.a.state;if(t.isActive){const{moved:n,verticalScrollerEl:o,horizontalScrollerEl:r,handleScroll:a}=t;n||s.e(e),o&&d.b(o,"scroll",a),r&&d.b(r,"scroll",a),h.a.setState({isActive:!1})}}const v=function(e){if(e)for(;;){if(!(e=e.getContextClosestSelectable()))return;if(e.props.canSelect)return e}},y=function(e){const t=new Map,n={root:!0};for(const o of e){const e=v(o)||n;t.get(e)||t.set(e,[]),t.get(e).push(o)}return Array.from(t.values())}},Fo9m:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var o=n("N34Z"),r=n("p+Y9"),a=n("cBa6"),i=n("BRCg"),s=n("MBf9"),l=n("vX3W");function c(e){const{store:t,file:n,environment:o}=e,a=i.default.getBlockKey(t.id);l.a(),r.e({environment:o,file:n,bucket:"secure",record:t.pointer,onStart:e=>{i.default.setKeyState(a,{progressPercent:0,file:n,name:e.name,size:e.size})},onProgress:e=>{const t=i.default.getKeyState(a);t&&i.default.setKeyState(a,{...t,progressPercent:e.progressPercent})},onComplete:e=>{const n=i.default.getKeyState(a);n&&s.createAndCommit(o,o=>{d({store:t,source:e,name:n.name,size:n.size,transaction:o}),i.default.setKeyState(a,void 0)})},onError:()=>{i.default.setKeyState(a,void 0)}})}const d=function(e){const{store:t,source:n,name:r,size:i,transaction:s}=e;let l;r?l=r:n&&(l=n.substring(n.lastIndexOf("/")+1)),o.d({store:t.getPropertiesStore(),data:{source:a.m(n),title:a.m(l),size:a.m(i)},transaction:s})}},FoNW:function(e,t,n){"use strict";var o=n("g4rC");t.a=new o.a},Fv2F:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));n("UxlC");var o=n("CxY0"),r=n.n(o);function a(e){return e.src.endsWith("/")?e.dest.endsWith("/")?e.dest:"".concat(e.dest,"/"):e.dest.endsWith("/")?e.dest.slice(0,e.dest.length-1):e.dest}function i(e){const t=r.a.parse(e.httpUrl,!0);t.protocol="".concat(e.protocol,":"),t.port=null,t.host=null;const n=r.a.format(t);return a({src:e.httpUrl,dest:n})}function s(e){const t=r.a.parse(e.baseUrl),n=r.a.parse(e.schemeUrl,!0);n.protocol=t.protocol,n.port=t.port,n.host=t.host;const o=r.a.format(n);return a({src:e.schemeUrl,dest:o})}function l(e){if(!e.url.startsWith("".concat(e.protocol,":")))return e.url;const t=r.a.parse(e.baseUrl,!0);return r.a.parse(e.url,!0).hostname===t.hostname?e.url:e.url.replace("".concat(e.protocol,"://*"),"".concat(e.protocol,":/"))}},"G+Ai":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fIr1");const r="bot",a={table:r,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,name:o.a.String,parent_table:o.a.String,parent_id:o.a.UUID,created_at:o.a.Number,created_by_id:o.a.UUID,created_by_table:o.a.String,alive:o.a.Boolean,type:o.a.String,integration_id:o.a.UUID}};t.b=a},G414:function(e,t,n){"use strict";n.d(t,"d",(function(){return I})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return B})),n.d(t,"e",(function(){return L}));n("3bBZ");var o=n("wpmu"),r=n("6rsX"),a=n("G4cA"),i=n("y6Dp"),s=n("jZoB"),l=n("lufz"),c=n("Mr7a"),d=n("N34Z"),u=n("sdlW"),p=n("VBxf"),h=n("hvW1"),m=n("bjn0"),f=n("HSWF"),g=n("QcDD"),b=n("ov3o"),v=n("uUOz"),y=n("pl8j"),S=n("hi+p"),w=n("RvCr"),k=n("V6+p"),C=n("HRSx"),M=n("FUUC"),E=n("J9+s"),_=n("5xGH"),T=n("guIK");const x=Object(E.defineMessages)({movingContent:{id:"moveToMenuActions.movingContent.loadingMessage",defaultMessage:"Moving content…"}});function I(e){const{blocks:t,originRect:n,analyticsFrom:o,onAccept:r,isAddTo:a}=e;t.length&&(v.a.reset(),y.a.reset(),S.a(),b.a.setState({isOpen:!0,rect:n,targets:t,autocompleteQuery:"",analyticsFrom:o,onAccept:r,isAddTo:a,lastPageId:b.a.state.lastPageId}))}async function P(e){const{transaction:t,value:n,environment:o}=e,r=b.a.state,{currentSpaceStore:a}=g.default.state;if(r.isOpen&&a){const{targets:e}=r;O(o);const s=await async function(e){return R({...e,action:"move"})}({environment:o,value:n,targets:e,transaction:t});s&&(i.sc(o,{table:s.table,from:r.analyticsFrom}),r.onAccept&&r.onAccept(n),s.table===C.a&&await f.a(a,a.id,s.id))}}function O(e){b.a.setState({isOpen:!1,lastPageId:b.a.state.lastPageId}),r.e(e)}async function B(e){return R({...e,action:"add"})}async function L(e){return R({...e,action:"retain-alias"})}async function R(e){const{transaction:t,targets:n,value:r,environment:i,action:f}=e,{currentBlockStore:b}=g.default.state,{id:v}=i.currentUser;if(!b||!v)return;let y,S;if("current-space"===r.type){const{currentUserRootStore:e,currentSpaceStore:t}=g.default.state;e&&t&&(y=t.table,S=t.id)}else"page"===r.type?(y=C.a,S=r.id):"space"===r.type&&(y=M.a,S=r.id);if(!y||!S)throw new Error("No table or id found.");return"block"===y?await async function(e){const{environment:t,currentBlockStore:n,blockId:r,targets:i,transaction:d,persist:u}=e,p=o.a.createChildStore(n,{table:C.a,id:r});await p.load();const h=p.isCollectionView()?p.getCollectionViewCollectionStore():p;if(!h)throw new Error("Move to store invalid.");for(let f of i){if(!u){const e=f.getParentStore();e instanceof o.a?s.e({parent:e.getContentStore(),remove:f,transaction:d}):e instanceof a.a&&s.e({parent:e.getPagesStore(),remove:f,transaction:d})}if(h instanceof o.a)s.a({parent:h.getContentStore(),append:f,transaction:d}),c.b({store:f,transaction:d});else if(h instanceof m.a){c.b({store:f,transaction:d}),f=w.o({environment:t,stores:[f],transaction:d})[0],w.a({environment:t,store:f,collectionStore:h,coerce:!0,transaction:d})}l.b({parentStore:h,childStore:f,alive:!0,transaction:d})}return h}({environment:i,currentBlockStore:b,blockId:S,targets:n,transaction:t,persist:"retain-alias"===f}):"space"===y?await async function(e){const{environment:t,transaction:n,currentBlockStore:r,currentUserId:i,spaceId:c,targets:m,action:f,value:b}=e,v=a.a.createChildStore(r,{table:M.a,id:c});if("move"===f&&"current-space"!==b.type){h.b({message:x.movingContent});const e=await u.m({environment:t,blockStores:m,spaceId:c});if(h.a(),void 0!==e.error)return void p.showErrorMessage(e.error)}else!function(e){const{spaceStore:t,targets:n,currentUserId:r,transaction:i}=e;for(const c of n){const e=c.getParentStore();if(e instanceof o.a)s.e({parent:e.getContentStore(),remove:c,transaction:i});else if(e instanceof a.a)throw new _.a("moveOrAddInCurrentSpace: Try to move to a different space");s.a({parent:t.getPagesStore(),append:c,transaction:i});const n={type:"user_permission",user_id:r,role:"editor"};d.d({store:c,data:{permissions:[n]},transaction:i}),l.b({parentStore:t,childStore:c,alive:!0,transaction:i})}}({spaceStore:v,targets:m,transaction:n,currentUserId:i});return await async function(e){const{environment:t,currentBlockStore:n,currentUserId:r,spaceStore:a,targets:i}=e,{currentUserRootStore:s}=g.default.state;if(Boolean(i.find(e=>e.id===n.id))&&s){const e=s.getSpaceViewStores().find(e=>e.getSpaceId()===a.id),i=n.getMovedStore().getValue(),l=i?o.a.createChildStore(n,i.moved_to):n;e&&(await Object(T.b)({environment:t,spaceId:a.id,userId:r}),await async function(e){const{environment:t,spaceStore:n,spaceViewStore:o,blockStore:r}=e;n&&o&&(g.default.setState({...g.default.state,currentSpaceStore:n,currentSpaceViewStore:o,currentBlockStore:r}),await k.a(t))}({environment:t,spaceStore:a,spaceViewStore:e,blockStore:l}))}}({environment:t,currentBlockStore:r,currentUserId:i,targets:m,spaceStore:v}),v}({environment:i,transaction:t,currentBlockStore:b,currentUserId:v,spaceId:S,targets:n,value:r,action:f}):void 0}},G4GV:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{inputValue:"",focus:!1}}}t.a=r},G4cA:function(e,t,n){"use strict";var o=n("bPtJ"),r=n("+fkW"),a=n("qX+M");class i extends o.d{constructor(e,t,n={}){super({environment:e,pointer:t,userId:n.userId,inMemoryRecordCache:n.inMemoryRecordCache})}static createChildStore(e,t){const n=o.d.getChildStoreKey(t,i.keyName),r=e.getRecordStoreChildStore(n),a=r||new i(e.environment,t,{userId:e.userId,inMemoryRecordCache:e.inMemoryRecordCache});return r||a.setRecordStoreParent(e,n),a}clone(){return new i(this.environment,this.pointer,{userId:this.userId,inMemoryRecordCache:this.inMemoryRecordCache})}getDomain(){const e=r.a.getPublicSpaceData(this.environment,this.id);if(e)return e.domain}getDisablePublicAccess(){const e=this.getValue();if(e)return Boolean(e.disable_public_access);{const e=r.a.getPublicSpaceData(this.environment,this.id);return!!e&&e.disablePublicAccess}}getDisableGuests(){const e=this.getValue();if(e)return Boolean(e.disable_guests);{const e=r.a.getPublicSpaceData(this.environment,this.id);return!!e&&e.disableGuests}}getDisableMoveToSpace(){const e=this.getValue();if(e)return Boolean(e.disable_move_to_space);{const e=r.a.getPublicSpaceData(this.environment,this.id);return!!e&&e.disableMoveToSpace}}getIcon(){return a.getSpaceIcon(this.environment,this)}getIconStore(){return Object(o.a)(this,this.pointer,"icon")}getPagesStore(){return Object(o.a)(this,this.pointer,"pages")}getPermissionGroups(){const e=this.getValue();return e&&e.permission_groups?e.permission_groups:[]}getPermissionItems(){const e=this.getValue();return e&&e.permissions?e.permissions:[]}getPlanType(){const e=this.getValue();return e&&e.plan_type}}i.keyName="SpaceStore",t.a=i},GEFS:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("wldR"),l=n("LEzx");class c extends l.a{getInitialState(){return{ready:!1,pages:0,renderWidth:0,showPages:0}}}var d=c,u=n("stZG"),p=(n("mva1"),n("wlCD")),h=n("zmp8"),m=n("cYwG"),f=n("8fuX"),g=n("WxaJ"),b=n("6rsX"),v=n("uSCg"),y=n("gHFd");n.d(t,"a",(function(){return S}));class S extends s.a{constructor(){super(...arguments),this.storeTypes={store:d},this.handleMouseDown=()=>{b.e(this.environment)},this.handleDocumentLoadSuccess=e=>{e&&e._pdfInfo&&this.stores.store.setState({...this.stores.store.state,pages:e._pdfInfo.numPages,showPages:1})},this.handlePageRenderSuccess=()=>{this.stores.store.setState({...this.stores.store.state,ready:!0})},this.handleScrollOffsetChange=e=>{e<S.loadMoreOffset&&this.stores.store.state.ready&&this.renderNextPage()},this.updateRenderWidth=()=>{this.stores.store.setState({...this.stores.store.state,renderWidth:this.props.width})},this.updateRenderWidthDebounced=i.a.debounce(this.updateRenderWidth,1e3)}async willMount(e){super.willMount(e),this.stores.store.setState({...this.stores.store.state,renderWidth:e.width}),this.ReactPDF=await y.deps.reactPDF.loader(),this.enqueueForceUpdate()}willUpdate(e){super.willUpdate(e),this.updateRenderWidthDebounced()}renderComponent(){if(!this.ReactPDF)return;const{source:e}=this.props,t=this.stores.store.state,{Document:n,Page:o}=this.ReactPDF;return r.a.createElement(u.a,{capture:!0,render:a=>r.a.createElement(f.b,Object.assign({type:f.a.All,style:this.getStyle()},Object(v.a)(a,{onMouseDown:this.handleMouseDown})),r.a.createElement(n,{file:e,loading:r.a.createElement(p.a,{style:S.loadingSpinnerStyle}),onLoadSuccess:this.handleDocumentLoadSuccess},i.a.range(t.showPages).map(e=>r.a.createElement(o,{key:e+1,pageNumber:e+1,width:this.getPageWidth(),loading:"",renderAnnotationLayer:!1,renderInteractiveForms:!1,onRenderSuccess:this.handlePageRenderSuccess}))),r.a.createElement(m.a,{onChange:this.handleScrollOffsetChange}))})}getPageWidth(){const{device:e}=this.environment,t=this.stores.store.state;return Math.min(window.innerWidth,t.renderWidth)-2*S.leftRightPadding-e.scrollbarWidth}renderNextPage(){const{showPages:e,pages:t}=this.stores.store.state;e<t&&this.stores.store.setState({...this.stores.store.state,ready:!1,showPages:e+1})}getStyle(){const{device:e}=this.environment;return{position:"relative",height:this.props.height,maxHeight:e.isMobile?"75vh":void 0,background:h.g.uiExtraLightGray,paddingTop:S.topBottomPadding,paddingBottom:S.topBottomPadding,paddingLeft:S.leftRightPadding,paddingRight:S.leftRightPadding,overflow:"visible"}}}S.loadMoreOffset=200,S.topBottomPadding=8,S.leftRightPadding=16,S.loadingSpinnerStyle={position:"absolute",top:"calc(50% - 9px)",left:"calc(50% - 9px)",width:18,height:18};const w={render:e=>{const{contentWrapStyle:t,width:n,height:o}=e;return r.a.createElement(g.a,{url:e.source,permissionRecord:e.store.pointer,render:(e,a,i)=>i?a?r.a.createElement("div",{style:t},r.a.createElement(S,{source:a,width:n||500,height:o||500})):void 0:r.a.createElement("div",null)})},embedGhost:!0,resizable:!0};t.b=w},GJWe:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"d",(function(){return D})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return F})),n.d(t,"g",(function(){return z})),n.d(t,"f",(function(){return X})),n.d(t,"i",(function(){return q})),n.d(t,"h",(function(){return G})),n.d(t,"j",(function(){return Z})),n.d(t,"k",(function(){return K}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("KAy6"),l=n.n(s),c=n("S26v"),d=n("cBa6"),u=n("O+wX"),p=n("5/h/"),h=n("Wvka"),m=n("D2XV"),f=n("mF3+"),g=n("bmSz"),b=n("CTEM"),v=n("di7S"),y=n("VpIZ"),S=n("zmp8"),w=n("Sb6f"),k=n("622O"),C=n("3JF5"),M=n("G+Ai"),E=n("J9+s"),_=n("fgBX"),T=n("xe8Q"),x=n("47e+"),I=n("MQ9n"),P=n("HRSx"),O=n("CVgL"),B=n("W7EN"),L=n("6SEd");const R="notion-text-buffer",D="notion-text-mention-token",A="notion-text-equation-token",j="notion-ignore-text-content",F="\ufeff",V={b:{fontWeight:w.a.fontWeight.semibold},i:{fontStyle:"italic"},c:{fontFamily:w.a.fontFamily.githubMono,lineHeight:"normal",background:S.q.light.gray.alpha(.15).css(),color:S.g.red,borderRadius:3,fontSize:"85%",padding:"0.2em 0.4em"},a:{cursor:"pointer",color:S.g.inherit,wordWrap:"break-word"},s:{textDecoration:"line-through"},_:{color:S.g.inherit,borderBottom:"0.05em solid",wordWrap:"break-word"},"+":{color:S.g.diffTextColor,backgroundColor:S.g.diffBackground},"-":{opacity:.4,marginBottom:6,textDecoration:"line-through"},z:{background:S.s,borderBottom:"2px solid ".concat(S.f),paddingBottom:2},st:{borderRadius:1,background:S.g.selectionColor,boxShadow:"0 0 0 3px ".concat(S.g.selectionColor)}},N=["h","m","z","b","i","c","s","_","a","u","p","d","+","-"];function U(e,t){return r.a.assignWith(e,t,(e,t,n)=>{if("textDecoration"===n&&void 0!==e)return"".concat(e," ").concat(t)})}function z(e,t){const n={},o=e.filter(e=>{const t=d.F(e);return"m"===t||"z"===t}).length,r=e.filter(e=>{const t=d.F(e);return"m"!==t&&"z"!==t});o>0&&r.push(["z"]);const a=r.sort((e,t)=>N.indexOf(d.F(t))-N.indexOf(d.F(e)));for(const i of a){const e=d.F(i);if("z"===e)U(n,{background:Object(S.d)(o,t),borderBottom:"2px solid ".concat(S.f),paddingBottom:2});else if(d.vb(i)){const e=d.Q(i);U(n,Object(S.m)(e,t))}else{const t=V[e];t&&U(n,t)}}return n}const X=(e,t,n)=>d.s(e||[],e=>{if(d.rb(e)){const o=d.L(e);if(n)return o===n;const r=t({table:g.a,id:o});return Boolean(r&&!r.resolved)}return!0});function Y(e){const t=e.key;return i.a.createElement(a.Fragment,{key:t},e,i.a.createElement("span",{className:R},F))}const H=Object(E.defineMessages)({untitledTextAsString:{defaultMessage:"Untitled",id:"textRenderHelpers.untitledTextAsString"}});function q(e){const{textValue:t,disableHover:n,disableStyleAnnotations:o,disableDateStyleAnnotations:a,getRecordValue:s,baseUrl:l,userTimeZone:g,disabled:b,isAndroid:v,disableLinks:y,isSafariOrIOS:k,showEmojiInline:E,emojiType:_,highlightDiscussionId:L,theme:R,intl:V,katex:N,parentBlockId:U,isClient:H,currentUserId:q}=e,Z=X(t,s,L),K=Z.map((e,t)=>{const r=d.fb(e),T=d.db(e);if(0===T.length)return i.a.createElement(x.a,{key:t,size:"1em",type:_},r);const L=o?{textDecoration:"none",color:S.g.inherit}:z(T,R),X=T.find(d.Cb);if(X){const{prefix:e,suffix:n,completion:o,prefixIcon:a}=d.X(X),s=r.slice(e.length,n?-n.length:void 0);return i.a.createElement("span",Object.assign({key:t},Object(O.a)("notion-temporary-input",{background:R.inlineInputBackground,padding:4,borderRadius:4,marginLeft:-4,pseudoAfter:{content:'"'.concat(o,'"'),color:R.lightTextColor}})),i.a.createElement("span",{style:{color:R.mediumTextColor,display:a?"none":"initial"}},e),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{contentEditable:!1,className:j,style:{display:"inline-block"}},a),i.a.createElement("hr",Object.assign({role:"none"},Object(O.a)(j,{display:"inline-block",border:0,padding:0,margin:0,opacity:0,verticalAlign:"-0.15em",height:"1em",fontSize:"1em",lineHeight:"1em",pseudoAfter:{content:'"'.concat(F,'"')}})))),s,n&&i.a.createElement("span",{style:{display:"none"}},n))}if(d.tb(e)){const n=d.O(e),o=Boolean(d.db(e).find(d.Bb)),r=function(e){const{katex:t,equation:n,index:o,isTemporary:r,style:a,intl:s,theme:l}=e;if(t)return i.a.createElement(I.a,{key:o,display:"inline",katex:t,equation:n,index:o,isTemporary:r,style:a,theme:l,intl:s});return i.a.createElement("span",{key:o,contentEditable:!1,style:a,className:A},n)}({katex:N,equation:n,index:t,isTemporary:o,style:L,theme:R,intl:V});return v?Y(r):r}const Z=d.A(T);if(Z&&!o){const e=d.R(Z);if(e){const o=c.i({str:c.e(e).href,allowNoProtocol:!0}),a={...L};if(o){const e=Object(B.c)(o);if(e){s({table:P.a,id:e})&&(a.fontWeight=w.a.fontWeight.medium)}}const l=i.a.createElement("span",{style:{borderBottom:"0.05em solid",borderColor:R.opacityLinkDecorationColor,opacity:.7}},i.a.createElement(x.a,{size:"1em",type:_},r));if(y)return i.a.createElement("span",{key:t,style:a,"data-token-index":t},l);a.textDecoration=a.textDecoration||"inherit";const d=n?"notion-link-token":"".concat("notion-link-token"," ").concat("notion-enable-hover");return i.a.createElement("a",{key:t,href:o,style:a,className:d,target:"_blank",rel:"noopener noreferrer","data-token-index":t},l)}}const K=d.D(T);if(K){const e=d.jb(K),n=s({table:p.a,id:e}),o=e=>i.a.createElement("div",{style:{...e.style,background:R.lightDividerColor}}),r=i.a.createElement("span",{key:t,style:{color:R.mediumTextColor,...L},contentEditable:!1,className:D,"data-token-index":t},i.a.createElement("span",null),i.a.createElement("span",null,i.a.createElement("span",{style:{opacity:.6}},"@"),n?i.a.createElement(x.a,{size:"1em",type:_},Object(p.e)(n)):i.a.createElement(o,{style:{height:8,width:75,borderRadius:3,display:"inline-block",marginLeft:"2px"}})),i.a.createElement("span",null));return v?Y(r):r}const Q=d.u(T);if(Q){const e=d.G(Q),n=s({table:M.a,id:e}),o=i.a.createElement("span",{key:t,style:{color:R.mediumTextColor,...L},contentEditable:!1,className:D,"data-token-index":t},i.a.createElement("span",null),i.a.createElement("span",null,i.a.createElement("span",{style:{opacity:.6}},"@🤖"),i.a.createElement(x.a,{size:"1em",type:_},Object(C.a)(n))),i.a.createElement("span",null));return v?Y(o):o}const $=d.C(T);if($){return function(e){const{pageId:t,getRecordValue:n,baseUrl:o,showEmojiInline:r,isSafariOrIOS:a,emojiType:s,intl:l,parentBlockId:c,index:d,theme:u,isAndroid:p,isFocused:m,isClient:g,style:b,disableHover:v,currentUserId:y,userTimeZone:k}=e,C=n({table:P.a,id:t}),M=J(t,n,l,k),E=Object(h.a)({pageId:t,pageValue:C,baseUrl:o}),_=C&&G({pageValue:C,baseUrl:o,getRecordValue:n,emojiType:s,isSafariOrIOS:a,isClient:g,showEmojiInline:r,currentUserId:y}),T=C&&C.parent_id!==c?W({icon:f.a.alias,style:{marginRight:"0.1em"}}):void 0,I=m?{background:u.equationTemporaryPlaceholderBackground,boxShadow:"0 0 0 3px ".concat(u.equationTemporaryPlaceholderBackground),borderRadius:1,userSelect:"none"}:{},O=b&&b.textDecoration||"inherit",B=i.a.createElement("a",{key:d,style:{...b,verticalAlign:"top",cursor:"pointer",color:S.g.inherit,textDecoration:O,transition:"all 100ms ease-in",...I},contentEditable:!1,className:"".concat("notion-page-mention-token"," ").concat(D," ").concat(v?"":"notion-enable-hover"),"data-token-index":d,href:E},i.a.createElement("span",{style:{whiteSpace:"nowrap"}}),i.a.createElement("span",{style:{whiteSpace:"nowrap"}},_,T),i.a.createElement("span",{style:{borderBottom:"0.05em solid ".concat(u.linkDecorationColor),fontWeight:w.a.fontWeight.medium},className:"notion-page-mention-token__title"},i.a.createElement(x.a,{size:"1em",type:s},M||l.formatMessage({id:"textRenderHelpers.pageMention.untitledPlaceholder",defaultMessage:"Untitled"}))),i.a.createElement("span",{style:{whiteSpace:"nowrap"}}));return p?Y(B):B}({pageId:d.V($),isFocused:Boolean(T.find(d.Db)),isAndroid:v,intl:V,emojiType:_,index:t,theme:R,getRecordValue:s,style:L,baseUrl:l,parentBlockId:U,showEmojiInline:E,isSafariOrIOS:k,isClient:Boolean(H),disableHover:n,currentUserId:q,userTimeZone:g})}const ee=d.x(T);if(ee){const{date_format:e,time_format:o,...r}=d.J(ee),s=Object(u.a)({value:r,date_format:e,time_format:o,userTimeZone:g,intl:V,allowRelativeDates:!0});let l,c={opacity:.5};r.reminder&&(l=m.ab(r,g),c=l?{color:S.g.red}:{color:S.g.blue});const p=i.a.createElement("span",{key:t,style:{...L,...c,cursor:b?"auto":"pointer"},contentEditable:!1,className:n?D:"".concat(D," ").concat("notion-enable-hover"),"data-token-index":t},i.a.createElement("span",null),i.a.createElement("span",null,i.a.createElement("span",{style:{opacity:.5}},"@"),i.a.createElement("span",{className:"notion-reminder",style:a?{textDecoration:"none",color:S.g.inherit}:{}},s),r.reminder&&i.a.createElement("div",{style:{display:"inline-block",width:"1em",marginLeft:4,marginRight:2,paddingBottom:3,verticalAlign:"middle"}},f.a.alarmClock({fill:l?S.g.red:S.g.blue}))),i.a.createElement("span",null));return v?Y(p):p}const te={key:t,style:L,"data-token-index":t,...d.w(T)?{spellCheck:!1}:{}};return i.a.createElement("span",Object.assign({},te),i.a.createElement(x.a,{size:"1em",type:_},r))}),Q=Z[Z.length-1],$=Q?d.fb(Q):"",ee=r.a.toArray($),te=r.a.last(ee);return te&&("\n"===te||te===d.Gb||te===d.q||"raw"!==_&&T.c[te])&&K.push("\n"),K}function W(e){const{icon:t,style:n}=e;return i.a.createElement("span",{style:{width:"1em",display:"inline-block",verticalAlign:"-0.15em",...n}},t())}function G(e){const{showEmojiInline:t,emojiType:n,pageValue:o,getRecordValue:r,baseUrl:a,isSafariOrIOS:s,isClient:l,currentUserId:c}=e;let d,u;if(o&&Object(y.q)(o)){const e=o.collection_id;if(e){const t=r({table:L.a,id:e});t&&t.icon&&(d=t.icon,u={table:L.a,id:e})}}else o&&o.format&&o.format.page_icon&&(d=o.format.page_icon,u={table:P.a,id:o.id});if(d&&Object(b.a)(d))return i.a.createElement("span",{style:{display:t?"inline":"inline-block",height:"1em",width:"1em",marginRight:s?"0.6em":"0.2em",marginBottom:s?"0.2em":0,whiteSpace:"nowrap"}},i.a.createElement(_.a,{size:"1em",char:d,type:n}));if(d&&u){const e=Object(k.l)(d)?v.a({url:d,permissionRecord:u,width:100,fullyQualified:!l,baseUrl:a||"",userId:c}):d;return i.a.createElement("img",{style:{width:"1em",height:"1em",verticalAlign:"-0.15em",marginRight:"0.2em",borderRadius:1},src:e})}{const e={marginRight:"0.2em"};return"page"!==o.type||void 0!==o.content&&0!==o.content.length?W({icon:f.a.page,style:e}):W({icon:f.a.pageEmpty,style:e})}}function Z(e){const t=q(e);return l.a.renderToString(i.a.createElement(a.Fragment,null,t))}function K(e){const{textValue:t,getRecordValue:n,userTimeZone:o,deterministic:r,intl:a}=e,i=d.hb(t);let s="";for(const l of i){const e=d.fb(l),t=d.db(l),i=d.D(t),c=d.C(t),h=d.x(t),m=d.z(t);if(i){const e=d.jb(i);if(e){const t=n({table:p.a,id:e});s+="@".concat(Object(p.e)(t))}}else if(c){const e=d.V(c);e&&(s+="@".concat(J(e,n,a,o)||a.formatMessage(H.untitledTextAsString)))}else if(h){const{date_format:e,time_format:t,...n}=d.J(h);s+="@".concat(Object(u.a)({value:n,date_format:e,time_format:t,userTimeZone:o,intl:a,...r?{allowRelativeDates:!1}:{allowRelativeDates:!0}}))}else if(m){s+=d.N(m)}else s+=e}return s}function J(e,t,n,o){const r=t({table:P.a,id:e});if(r){if("collection_view"!==r.type&&"collection_view_page"!==r.type){const e=r.properties&&r.properties.title?r.properties.title:[];return K({textValue:d.hb(e).filter(e=>!d.Ab(e)),getRecordValue:t,userTimeZone:o,deterministic:!1,intl:n})}{const e=r.collection_id;if(e){const n=t({table:L.a,id:e});if(n&&n.name)return d.cb(n.name)}}}return""}},GKeo:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},"GQP/":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return h}));var o=n("cBa6"),r=n("Ajfl"),a=n("MBf9"),i=n("RI9y"),s=n("DNgp"),l=n("ieCD"),c=n("unoy");const d=e=>{const{selection:t,focus:n}=e,r=s.default.state;if("editing"!==r.mode)return;const{store:a}=r,c=t||r.selection,{tokensInsideRange:d}=o.Nb(a.getValue(),c.startIndex,c.endIndex),u=d.find(e=>Boolean(o.S(e))),p=i.get();if(!p)return;const h=i.getRect(p);h&&l.a.setState({open:!0,url:"",editingToken:u,savedTextSelectionState:{...r,selection:c},selectionRect:h,focusMenu:n})};function u(e){const{environment:t,transaction:n,url:o,editingToken:a,savedTextSelectionState:i}=e;a&&r.r({environment:t,store:i.store,type:"a",selection:i.selection,transaction:n}),r.a({environment:t,store:i.store,annotation:["a",o],selection:i.selection,transaction:n}),c.m({store:i.store,selection:{startIndex:i.selection.startIndex,endIndex:i.selection.endIndex}}),l.a.reset()}function p(e){const t=l.a.state;if(!t.open)return;const{editingToken:n,savedTextSelectionState:o}=t;n&&(a.createAndCommit(e,t=>{r.r({environment:e,store:o.store,type:"a",selection:o.selection,transaction:t})}),s.default.emit(),l.a.reset())}function h(){l.a.setState({open:!1})}},GRWW:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isScrolling:!1,scrollTop:0,scrollHeight:0,scrollLeft:0,scrollWidth:0}}}t.a=r},GUcd:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("SR/M"),s=n("gbGO"),l=n("J9+s"),c=n("vl8/");const d=Object(l.defineMessages)({default:{defaultMessage:"Default",id:"colors.select.default"},gray:{defaultMessage:"Gray",id:"colors.select.gray"},brown:{defaultMessage:"Brown",id:"colors.select.brown"},orange:{defaultMessage:"Orange",id:"colors.select.orange"},yellow:{defaultMessage:"Yellow",id:"colors.select.yellow"},green:{defaultMessage:"Green",id:"colors.select.green"},blue:{defaultMessage:"Blue",id:"colors.select.blue"},purple:{defaultMessage:"Purple",id:"colors.select.purple"},pink:{defaultMessage:"Pink",id:"colors.select.pink"},red:{defaultMessage:"Red",id:"colors.select.red"}});class u extends a.a{renderComponent(){return r.a.createElement(i.a,Object.assign({},this.props,{icon:this.renderColorTile(),title:(e=this.props.color,c.default.formatMessage(d[e]))}));var e}renderColorTile(){return r.a.createElement("div",{style:{width:this.environment.device.isMobile?24:18,height:this.environment.device.isMobile?24:18,background:this.theme.selectColors[this.props.color],boxShadow:this.theme.innerBorderBoxShadow,borderRadius:3}})}}u.contextTypes={...s.c};t.a=u},GVKY:function(e,t,n){"use strict";let o;function r(e){return o||(o=n("dP7y")),e(o)}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=(e,t)=>r(n=>n.test(e,t)),i=(e,t)=>r(n=>n.find(e,t))},GZ8e:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("Sb6f"),s=n("qzno");class l extends a.a{renderComponent(){const{prefix:e,viewName:t}=this.props;return r.a.createElement("div",{style:{position:"relative",width:"100%"}}," ",r.a.createElement("div",{style:l.labelStyle},e,this.renderIcon(),r.a.createElement("span",{style:l.nameStyle},t)))}renderIcon(){const{viewType:e}=this.props;if(e){return(0,s.g[e])({marginLeft:8,marginRight:2,width:"1em",display:"inline",verticalAlign:"bottom"})}}}l.labelStyle={...i.a.textOverflowStyle,position:"absolute",left:0,right:0,top:0,bottom:0},l.nameStyle={marginLeft:4,fontWeight:i.a.fontWeight.semibold},t.a=l},GaQ6:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("3bBZ");var o=n("vmS8"),r=n("nFzZ");class a{constructor(e){this.value=e}escaped(){return JSON.stringify(this.value)}}class i{constructor(e){this.value=e}escaped(){return this.value.toString()}}function s(e,...t){return(new l).bind(e,...t)}class l{constructor(){this.chunks=[],this.args=[]}bind(e,...t){for(const n of e)if(this.chunks.push(n),t.length){const e=t.shift();if(e instanceof a||e instanceof i){this.chunks.push(e.escaped());continue}if(e instanceof l){this.push(e);continue}if(Array.isArray(e)){e.forEach(e=>this.push(e));continue}void 0!==e&&(this.chunks.push("?"),this.args.push(e))}return this}push(e){return this.chunks.push(...e.chunks),this.args.push(...e.args),this}joins(e){const t=new l;return e.forEach((n,o)=>{t.push(n),o!==e.length-1&&t.push(this)}),t}toString(){return"SQL(`".concat(this.sql(),"`, ").concat(JSON.stringify(this.args),")")}sql(){return Object(r.q)(this.chunks.join(""))}asRead(){return{sql:this.sql(),args:this.args,getData:!0}}asWrite(){return{sql:this.sql(),args:this.args}}async all(e){return Object(o.f)(e,this.sql(),this.args)}async first(e){return(await this.all(e))[0]}async run(e){return Object(o.g)(e,this.sql(),this.args)}}},Gam4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("3bBZ");function o(e){for(const t of e)!t.pointer&&t.table&&t.id&&(t.pointer={table:t.table,id:t.id})}},Ggib:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}open(e){this.setState({open:!0,temporaryPaymentMethod:"credit_card",temporaryAddress:{name:"",businessName:"",addressLine1:"",addressLine2:"",zipCode:"",city:"",state:"",country:""},appliedPromo:void 0,error:void 0,subscriptionTier:e,vatApplicable:!1,calculatingTax:!1})}setAddressField(e,t){this.state.open&&this.setState({...this.state,temporaryAddress:{...this.state.temporaryAddress,[e]:t}})}}t.a=new r},GojS:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("58VE"),s=n("5/h/"),l=n("Sb6f");class c extends a.a{renderComponent(){return r.a.createElement("div",{style:this.getStyle()},r.a.createElement("div",{style:this.getAvatarWrapStyle()},r.a.createElement(i.a,{userValue:this.props.userValue,avatarShouldShowShadow:this.props.avatarShouldShowShadow,size:this.props.avatarSize})),r.a.createElement("div",{className:"notranslate",style:{...l.a.textOverflowStyle}},Object(s.e)(this.props.userValue)))}getStyle(){return{display:"flex",alignItems:"center",minWidth:0,...this.props.style}}getAvatarWrapStyle(){return this.props.inline?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6}}}t.a=c},Gw5o:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("LNOE"),l=n("wldR"),c=n("cBa6"),d=n("7TLZ"),u=n("LEzx");class p extends u.a{getInitialState(){return{showItems:p.showItemsChunkSize}}}p.showItemsChunkSize=10;var h=p,m=n("bFnu"),f=n("MBf9"),g=n("mF3+"),b=n("i3uR"),v=n("gbGO"),y=n("WgIs"),S=n("2Y+N"),w=n("SR/M");class k extends u.a{getInitialState(){return{editing:!1}}}var C=k,M=n("Uc+B"),E=n("SeL1"),_=n("N34Z"),T=n("VBxf"),x=n("5/h/"),I=n("bPtJ"),P=n("mKX5"),O=n("Sb6f"),B=n("kdGy"),L=n("g4rC"),R=n("unoy"),D=n("wXH4"),A=n("Cm2F"),j=n("qE2X"),F=n("74GD"),V=n("fJHT"),N=n("QcDD"),U=n("w5u6"),z=n("IULH"),X=n("DaKt"),Y=n("aEEb"),H=n("58VE"),q=n("3JF5"),W=n("J9+s"),G=n("Uv1v");class Z extends G.a{}var K=new Z,J=n("VhAz"),Q=n("0CAA"),$=n("KTXS"),ee=n("Z1H8"),te=n("z22Z");class ne extends l.a{constructor(){super(...arguments),this.registries=[K],this.edit=()=>{this.handleEditComment()},this.storeTypes={mouseStore:m.a,commentStore:C,buttonPopupStore:L.a},this.discussionInputStore=new M.a(this.environment),this.renderEditCommentPopup=()=>{const{device:e,WindowSizeStore:t}=this.environment;return r.a.createElement(F.a,{capture:!0},r.a.createElement("div",{style:{width:e.isReactNative?"100vw":e.isMobile?"calc(100vw - 60px)":520,maxWidth:e.isMobileBrowser?"90vw":"100%",paddingTop:8,paddingBottom:e.isAndroid?12:8,paddingLeft:e.isMobile?t.getSafePaddingLeftCSS(10):10,paddingRight:e.isMobile?t.getSafePaddingRightCSS(10):10}},r.a.createElement(ee.a,{capture:!0,render:()=>r.a.createElement(E.a,{parentStore:this.props.store,onCancel:this.handleCancelEdit,onSubmit:this.handleSubmitEdit,discussionInputStore:this.discussionInputStore,isEditingExistingComment:!0,isMobileSlideUpMenu:!0,shouldSaveUnsentComments:!1})})))},this.handleEditComment=async()=>{const e=d.e(this.props.store).getValue()||[],t=this.discussionInputStore.state.textStore;f.createAndCommit(this.environment,n=>{_.c({store:t,value:e,transaction:n})}),this.stores.commentStore.setState({editing:!0}),await U.default.afterNextFlush(),await U.default.afterNextFlush(),R.n({store:t})},this.handleCancelEdit=async()=>{const e=d.e(this.props.store).getValue()||[],t=this.discussionInputStore.state.textStore.getValue();if(i.a.isEqual(e,t))this.stores.commentStore.setState({editing:!1});else{await T.confirmUserAction({message:r.a.createElement(W.FormattedMessage,{defaultMessage:"Do you want to discard this edit?",id:"comment.confirmDialog.discardEdit.prompt"}),acceptLabel:r.a.createElement(W.FormattedMessage,{defaultMessage:"Discard",id:"comment.confirmDialog.discardEdit.discardButton.label"})})&&this.stores.commentStore.setState({editing:!1})}},this.handleSubmitEdit=async()=>{const e=this.discussionInputStore.state.textStore.getValue();e&&e.length>0?(f.createAndCommit(this.environment,t=>{s.c({environment:this.environment,store:this.props.store,text:e,transaction:t,discussionLocation:this.props.discussionLocation})}),this.stores.commentStore.setState({editing:!1})):(await this.handleDeleteComment(),this.stores.commentStore.setState({editing:!1}))},this.handleDeleteComment=async()=>{await T.confirmUserAction({message:r.a.createElement(W.FormattedMessage,{defaultMessage:"Would you like to delete this comment?",id:"comment.confirmDialog.deleteComment.prompt"}),acceptLabel:r.a.createElement(W.FormattedMessage,{defaultMessage:"Delete",id:"comment.confirmDialog.deleteComment.deleteButton.label"})})&&(this.deleteComment(),A.b(),j.b(this.environment))},this.handleMouseMove=e=>{X.a.state||this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=e=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.handleResolve=()=>{f.createAndCommit(this.environment,e=>{s.e({environment:this.environment,discussionStore:this.props.discussionStore,transaction:e,discussionLocation:this.props.discussionLocation})}),A.b()},this.handleReopen=()=>{f.createAndCommit(this.environment,e=>{s.d({environment:this.environment,discussionStore:this.props.discussionStore,transaction:e,discussionLocation:this.props.discussionLocation})})}}renderComponent(){const{device:e}=this.environment;return r.a.createElement(D.c,{open:this.stores.commentStore.state.editing,popupType:e.isReactNative?D.c.PopupType.SlideUp:D.c.PopupType.Popup,origin:this.renderComment(),onDismiss:this.handleCancelEdit,render:this.renderEditCommentPopup})}renderComment(){const{store:e}=this.props,t=e.getValue();if(!t)return;if(!t.created_by_table||!t.created_by_id)return;const n=Object(I.c)(e,{table:t.created_by_table,id:t.created_by_id});let o;o=t.last_edited_time&&t.last_edited_time>t.created_time+100?r.a.createElement(W.FormattedMessage,{defaultMessage:"Edited {lastEditedTime}",id:"comment.editedAtTime.label",values:{lastEditedTime:Object(P.a)(t.last_edited_time).calendar()}}):Object(P.a)(t.created_time).calendar();const a=n.getValue(),i=e=>r.a.createElement("div",{style:{...e.style,background:this.theme.lightDividerColor}});return r.a.createElement("div",{style:ne.commentStyle,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},n.table===x.a?a?r.a.createElement(H.a,{userValue:a,style:ne.avatarStyle,size:ne.avatarSize,avatarShouldShowShadow:!0}):r.a.createElement(i,{style:{marginRight:8,marginTop:2,height:ne.avatarSize,width:ne.avatarSize,borderRadius:20}}):r.a.createElement(B.a,{botValue:n.getValue()}),r.a.createElement("div",{style:{flexGrow:1,minWidth:0}},r.a.createElement("div",{style:ne.userRowStyle},r.a.createElement("div",{style:{fontWeight:O.a.fontWeight.semibold}},n.table===x.a?a?Object(x.e)(n.getValue()):r.a.createElement(i,{style:{height:8,width:81,borderRadius:3}}):Object(q.a)(n.getValue())),r.a.createElement(Y.a,{isSmall:!0,isSecondaryColor:!0,isMultiline:!0,style:{margin:"0 6px",whiteSpace:"nowrap"}},o)),r.a.createElement(V.a,{store:d.e(this.props.store),disabled:!0,disableDateMentions:!0})),this.renderMenuButton())}renderMenuButton(){const{device:e}=this.environment;if(!this.environment.currentUser.isLoggedIn())return;const t=this.props.blockStore.getRole(),n=t&&te.e(t);if(n)return;const o=this.props.discussionStore.getValue(),a=o&&o.comments&&o.comments[0]===this.props.store.id,s=o&&o.context,l=a&&!s,c=o&&o.resolved,d="comment_only"===t||this.pageContext&&"comment"===this.pageContext.publicEditModeStore.state,u=l&&!e.isMobile&&!d&&!n,p=this.stores.mouseStore.state.mouseEntered||this.props.hoveringDiscussion&&l||this.stores.buttonPopupStore.state.open||e.isMobile||this.props.alwaysShowResolve&&u,h=this.props.store.getValue();if(!h)return;const m=N.default.state.currentUserStore;if(!m)return;const f=h.created_by_table===x.a&&m.id===h.created_by_id,k=[];!e.isMobile||d||n||(c?k.push("reopen"):k.push("resolve")),f&&(k.push("edit"),k.push("delete"));const C=k.length>0||this.props.onHide;return C||u?r.a.createElement(b.a,{popupType:e.isMobile?b.a.PopupType.SlideUp:b.a.PopupType.Popup,buttonPopupStore:this.stores.buttonPopupStore,placementToOrigin:b.a.Placement.Right,renderOrigin:t=>{const n=u&&r.a.createElement(z.a,{isSmall:!0,style:{...C&&{borderTopRightRadius:0,borderBottomRightRadius:0,marginRight:-1},color:this.theme.mediumTextColor},onClick:c?this.handleReopen:this.handleResolve},c?r.a.createElement(W.FormattedMessage,{defaultMessage:"Re-open",id:"comment.actions.reopenButton.label"}):r.a.createElement(W.FormattedMessage,{defaultMessage:"Resolve",id:"comment.actions.resolveButton.label"})),o=C&&r.a.createElement(z.a,Object.assign({isSmall:!0,disabled:!p,style:{...!e.isMobile&&u&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},width:24}},t),g.a.dots({width:14,height:e.isMobile?4:3,fill:this.theme.mediumIconColor}));let a;return e.isMobile?a={display:"flex",flexShrink:0,marginTop:-2}:(a={display:"flex",flexShrink:0,borderRadius:3,marginTop:-2},this.props.alwaysShowResolve&&u||(a={...a,position:"absolute",marginTop:0,right:0,top:0,opacity:p?1:0,transition:"\n\t\t\t\t\t\t\t\t\topacity\n\t\t\t\t\t\t\t\t\t100ms\n\t\t\t\t\t\t\t\t\tease-out\n\t\t\t\t\t\t\t\t"})),r.a.createElement("div",{style:a},n,o)},render:t=>{let n;n=e.isMobile?{menuType:v.b.MenuType.ActionSheet}:{menuType:v.b.MenuType.Popup};const o=k.map(e=>"reopen"===e?{key:"reopen",render:e=>r.a.createElement(w.a,Object.assign({},e,{icon:g.a.arrowLeft({height:18,width:18}),title:r.a.createElement(W.FormattedMessage,{id:"comment.reopenDiscussion.button",defaultMessage:"Re-open discussion"})})),action:this.handleReopen}:"resolve"===e?{key:"resolve",render:e=>r.a.createElement(w.a,Object.assign({},e,{icon:g.a.thinCheck({height:18,width:18}),title:r.a.createElement(W.FormattedMessage,{id:"comment.resolveDiscussion.button",defaultMessage:"Resolve discussion"})})),action:this.handleResolve}:"edit"===e?{key:"edit",render:e=>r.a.createElement(w.a,Object.assign({},e,{icon:g.a.pencil({height:18,width:18}),title:r.a.createElement(W.FormattedMessage,{id:"comment.editComment.button",defaultMessage:"Edit comment"})})),action:this.handleEditComment}:"delete"===e?{key:"delete",render:e=>r.a.createElement(w.a,Object.assign({},e,{icon:g.a.trash({height:18,width:18}),title:r.a.createElement(W.FormattedMessage,{id:"comment.deleteComment.button",defaultMessage:"Delete comment"})})),action:this.handleDeleteComment}:void Object(J.e)(e));return r.a.createElement(v.b,Object.assign({},n),r.a.createElement(y.a,{type:y.a.Type.Vertical,initialFocus:void 0,onAccept:t.close,sections:i.a.compact([o.length&&{key:0,render:e=>r.a.createElement(S.a,Object.assign({},e)),items:o}])}),!e.isMobile&&r.a.createElement(S.a,{topBorder:!0,disableDesktopPadding:!0},r.a.createElement($.a,{title:r.a.createElement(W.FormattedMessage,{defaultMessage:"Learn about comments",id:"comments.learn"}),href:Object(Q.a)("guides.comments"),analyticsFrom:"comments"})))}}):void 0}deleteComment(){f.createAndCommit(this.environment,e=>{s.a({environment:this.environment,commentStore:this.props.store,transaction:e,discussionLocation:this.props.discussionLocation})})}}ne.commentStyle={display:"flex",alignItems:"flex-start",position:"relative",marginBottom:6,fontSize:14},ne.avatarStyle={marginRight:8,marginTop:2,userSelect:"none",WebkitUserSelect:"none"},ne.avatarSize=20,ne.userRowStyle={display:"flex",alignItems:"baseline",userSelect:"none",WebkitUserSelect:"none"};var oe,re=ne,ae=n("IzPW"),ie=n("zmp8"),se=n("DNgp"),le=n("gYhp"),ce=n("bxQm"),de=n("tzmq");!function(e){e[e.Menu=0]="Menu",e[e.Page=1]="Page"}(oe||(oe={}));class ue extends l.a{constructor(){super(...arguments),this.registries=[le.a],this.storeTypes={discussionStore:h,mouseStore:m.a},this.discussionInputStore=this.props.discussionInputStore||new M.a(this.environment),this.handleEditPreviousComment=()=>{const e=this.environment.currentUser.id;if(!e)return;const t=d.d(this.props.store).filter(t=>{const n=t.getValue();return!!n&&n.created_by_id===e}),n=i.a.last(t);if(!n)return;const o=K.findComponent(e=>e.props.store.id===n.id);o&&(R.f(this.environment),o.edit())},this.handleResolve=()=>{f.createAndCommit(this.environment,e=>{s.e({environment:this.environment,discussionStore:this.props.store,transaction:e,discussionLocation:this.props.discussionLocation})}),A.b()},this.handleReopen=()=>{f.createAndCommit(this.environment,e=>{s.d({environment:this.environment,discussionStore:this.props.store,transaction:e,discussionLocation:this.props.discussionLocation})})},this.handleCancelReply=async()=>{const e=this.discussionInputStore.state.textStore.getValue();if(e&&e.length>0){await T.confirmUserAction({message:r.a.createElement(W.FormattedMessage,{defaultMessage:"Do you want to discard this reply?",id:"discussion.confirmDialog.discardReply.prompt"}),acceptLabel:r.a.createElement(W.FormattedMessage,{defaultMessage:"Discard",id:"discussion.confirmDialog.discardReplyButton.label"})})?(this.handleResetInput(),this.props.onDismiss&&this.props.onDismiss()):(await U.default.afterNextFlush(),R.n({store:this.discussionInputStore.state.textStore}))}else this.handleResetInput(),this.props.onDismiss&&this.props.onDismiss()},this.handleSumbitReply=async()=>{const{device:e}=this.environment,t=this.discussionInputStore.state.textStore.getValue();t&&t.length>0&&(f.createAndCommit(this.environment,e=>{s.g({environment:this.environment,discussionStore:this.props.store,textValue:t,transaction:e,discussionLocation:this.props.discussionLocation})}),this.handleResetInput(),R.f(this.environment),e.isMobile||(await U.default.afterNextFlush(),R.o({store:this.discussionInputStore.state.textStore})))},this.handleLoadMore=()=>{this.stores.discussionStore.setState({...this.stores.discussionStore.state,showItems:this.stores.discussionStore.state.showItems+h.showItemsChunkSize})},this.handleResetInput=()=>{this.discussionInputStore.reset()},this.handleMouseMove=e=>{X.a.state||this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=e=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.isEditing=this.createComputedStore(()=>{const e=se.default.state;return"editing"===e.mode&&e.store===this.discussionInputStore.state.textStore}),this.getDiscussionContext=()=>{const e=this.props.store.getValue();if(e&&e.context)return c.s(e.context,t=>!c.rb(t)||c.L(t)===e.id)}}willMountOrUpdate(){this.environment.KatexStore.loadIfNeeded(this.getDiscussionContext)}renderComponent(){const{device:e,WindowSizeStore:t}=this.environment,n=d.d(this.props.store),o=i.a.takeRight(n,this.stores.discussionStore.state.showItems),a=n.length-o.length,s=a>0,l=o.map((e,t)=>r.a.createElement(re,{key:e.id,store:e,discussionStore:this.props.store,blockStore:this.props.blockStore,hoveringDiscussion:this.stores.mouseStore.state.mouseEntered,discussionLocation:this.props.discussionLocation,alwaysShowResolve:this.props.alwaysShowResolve,onHide:this.props.onHide})),c=s&&r.a.createElement(re,{key:n[0].id,store:n[0],discussionStore:this.props.store,blockStore:this.props.blockStore,hoveringDiscussion:this.stores.mouseStore.state.mouseEntered,discussionLocation:this.props.discussionLocation,alwaysShowResolve:this.props.alwaysShowResolve,onHide:this.props.onHide}),u=a>1&&r.a.createElement(ce.a,{style:{marginBottom:6},onClick:this.handleLoadMore,key:"loadMoreButton"},r.a.createElement(W.FormattedMessage,{defaultMessage:"{moreCommentsNumber, plural, one {Click to show {moreCommentsNumber} older comment} other {Click to show {moreCommentsNumber} older comments}}",id:"discussion.showMoreCommentsButton.label",values:{moreCommentsNumber:a-1}})),p=this.props.blockStore.getRole(),h=p&&te.e(p),m=this.environment.currentUser.isLoggedIn();return r.a.createElement("div",{style:{...this.props.format===oe.Page&&{padding:"8px 4px 14px"},...this.props.format===oe.Menu&&{paddingTop:12,paddingBottom:12,boxShadow:this.props.isFirst?"none":"0 -1px 0 ".concat(this.theme.regularDividerColor),marginTop:this.props.isFirst?0:1,background:!this.props.isOnly&&this.isEditing.state?this.theme.focusDiscussionBackground:ie.g.transparent,paddingLeft:e.isMobile?t.getSafePaddingLeftCSS(14):14,paddingRight:e.isMobile?t.getSafePaddingRightCSS(14):14}},onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},this.renderDiscussionContext(),c,u,l,m&&!h&&r.a.createElement(E.a,{parentStore:this.props.store,onCancel:this.handleCancelReply,onSubmit:this.handleSumbitReply,discussionInputStore:this.discussionInputStore,isMobileSlideUpMenu:!1,shouldSaveUnsentComments:!0,onEditPreviousComment:this.handleEditPreviousComment}))}renderDiscussionContext(){const{device:e}=this.environment,t=this.getDiscussionContext();if(!t)return;const n=ae.l({environment:this.environment,textValue:t,parentStore:this.props.store,disableHover:!1,disableStyleAnnotations:!1,disableDateStyleAnnotations:!1,disabled:!0,highlightDiscussionId:this.props.store.id,theme:this.theme,emojiType:Object(de.a)(this.environment),katex:this.environment.KatexStore.getKatex()}),o=this.props.blockStore.getRole(),a=0===c.M(t).length,i="comment_only"===o||this.pageContext&&"comment"===this.pageContext.publicEditModeStore.state,s=o&&te.e(o),l=this.environment.currentUser.isLoggedIn();return r.a.createElement("div",{style:{display:"flex",alignItems:"flex-start",fontSize:14,marginBottom:8,lineHeight:1.4,...a&&{color:this.theme.mediumTextColor}}},a&&r.a.createElement("div",{style:{flexShrink:0,alignSelf:"center",width:3,borderRadius:3,marginLeft:2,marginRight:8,height:20,background:ie.e}}),r.a.createElement("div",{style:{...O.a.textOverflowStyle,marginRight:"auto",...!a&&{paddingBottom:3}}},n),!e.isMobile&&!i&&!s&&l&&this.renderResolveButton())}renderResolveButton(){const e=this.props.store.getValue(),t=e&&e.resolved;return r.a.createElement(z.a,{isSmall:!0,onClick:t?this.handleReopen:this.handleResolve,style:{marginTop:-2,marginLeft:12}},t?r.a.createElement(W.FormattedMessage,{defaultMessage:"Re-open",id:"discussion.reopenDiscussion.button"}):r.a.createElement(W.FormattedMessage,{defaultMessage:"Resolve",id:"discussion.resolveDiscussion.button"}))}}ue.Format=oe;t.a=ue},H1ac:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{pageMap:{}}}setStatus(e,t){const{pageMap:n}=this.state;t?n[e]=!0:delete n[e],this.emit()}}t.a=new r},H4VD:function(e,t,n){"use strict";n.r(t),n.d(t,"resetPageState",(function(){return tt})),n.d(t,"resetPeekState",(function(){return nt})),n.d(t,"resetEditorState",(function(){return ot})),n.d(t,"resetSidebarState",(function(){return rt})),n.d(t,"updateHistoryState",(function(){return st})),n.d(t,"clearHistoryState",(function(){return lt})),n.d(t,"navigate",(function(){return ct})),n.d(t,"handleNavigateWithinSamePage",(function(){return dt})),n.d(t,"navigateToPage",(function(){return ut})),n.d(t,"navigateToBlock",(function(){return pt})),n.d(t,"peekBlock",(function(){return ht})),n.d(t,"navigateToExternalURL",(function(){return mt})),n.d(t,"openFileUrl",(function(){return ft})),n.d(t,"downloadFileUrl",(function(){return gt})),n.d(t,"navigateAwayIfCurrentPage",(function(){return bt})),n.d(t,"back",(function(){return vt})),n.d(t,"forward",(function(){return yt})),n.d(t,"canGoUp",(function(){return St})),n.d(t,"up",(function(){return wt})),n.d(t,"downloadUrl",(function(){return kt})),n.d(t,"openInNativeApp",(function(){return Ct})),n.d(t,"updateRouterState",(function(){return Mt})),n.d(t,"initialize",(function(){return xt}));var o=n("LvDl"),r=n.n(o),a=n("A9TN"),i=n("/YYm"),s=n("hbKx"),l=n("wpmu"),c=n("hi+p"),d=n("CaJT"),u=n("6rsX"),p=n("bK/N"),h=n("+NSf"),m=n("Cm2F"),f=n("JZPr"),g=n("bkwR"),b=n("sdlW"),v=n("X4ZB"),y=n("ijm6"),S=n("S26v"),w=n("HSWF"),k=n("tP7q"),C=n("Fv2F"),M=n("wF3w"),E=n("y6Dp"),_=n("OUVA"),T=n("sZEU"),x=n("Qc1K"),I=n("KSnN"),P=n("622O"),O=n("di7S"),B=n("wweX"),L=n("g90h"),R=n("LB1/"),D=n("QcDD"),A=n("sjR4"),j=n("AmMh"),F=n("Iece"),V=n("w5u6"),N=n("8kr4"),U=n("Sd8d"),z=n("uUOz"),X=n("RuPz"),Y=n("pl8j"),H=n("TAMl"),q=n("ZbKq"),W=n("FoNW"),G=n("9vSW"),Z=n("Catn"),K=n("h2IJ"),J=n("PuL6"),Q=n("EmAo"),$=n("szb2"),ee=n("5qTp"),te=n("5JRq"),ne=n("p+Y9"),oe=n("fbat"),re=n("T1kp"),ae=n("DlEO"),ie=n("qqdV"),se=n("frzs"),le=n("2ZkR"),ce=n("qX+M"),de=n("hODJ"),ue=n("H4VD"),pe=n("30UQ"),he=n("Ripq"),me=n("HTHG"),fe=n("6dM0"),ge=n("RqMp"),be=n("toub"),ve=n("5ma9"),ye=n("Dnhi"),Se=n("okm4"),we=n("6Zdk"),ke=n("E4rx"),Ce=n("cgvQ"),Me=n("40tV"),Ee=n("+zu0"),_e=n("uN94"),Te=n("lKX+"),xe=n("mxzd"),Ie=n("dDgv"),Pe=n("FcJC"),Oe=n("HHyf"),Be=n("O5tY"),Le=n("Rd/G"),Re=n("vl8/"),De=n("klxS"),Ae=n("VBxf"),je=n("tvfY"),Fe=n("s4NR"),Ve=n.n(Fe),Ne=n("J9+s"),Ue=n("0CAA"),ze=n("1yOa"),Xe=n("3+J3"),Ye=n("SYQx"),He=n("qE2X"),qe=n("HRSx"),We=n("8L2b"),Ge=n("9axl"),Ze=n("5/h/"),Ke=n("mXKa"),Je=n("UWX6"),Qe=n("iqZH"),$e=n("hnPE");const et=Object(Ne.defineMessages)({errorSamlMessage:{defaultMessage:"Could not log you in.",id:"router.loginWithSamlError.message",description:"SAML is a method of logging in for enterprise users. This error is shown when a user cannot log in with SAML."},appleErrorMessage:{id:"loginActions.loggingInWithApple.errorMessage",defaultMessage:"Something went wrong while trying to log in with Apple."}});function tt(e){N.a.reset(),U.a.reset(),z.a.reset(),X.a.reset(),B.a({environment:e,blockPropertyValueOverlayStore:Q.a}),ne.d()}function nt(e){Y.a.reset(),H.a.reset(),q.a.reset(),B.a({environment:e,blockPropertyValueOverlayStore:J.a})}function ot(e){p.inPageSearch.stop(),u.e(e),f.e(),u.p({pivot:void 0}),c.a(),oe.a.reset(),d.d(),m.a(),v.a(e),y.a(e),re.a()}function rt(e){G.a.reset(),ee.default.setState({...ee.default.state,open:!1}),W.a.state.open&&(W.a.reset(),e.device.isMobile&&Pe.close()),Ye.a.state.open&&He.a(e)}function at(){const{currentBlockStore:e}=D.default.state;let t=0,n=[];if(e){const{stores:e}=A.default.state;n=r.a.compact(e.map(e=>e.id)),t=F.a.state.scrollTop}return{scrollTop:t,blockIds:n}}function it({historyId:e,historyIndex:t,currentUserId:n}){const o={...at(),index:t};Z.a.set({userId:n,key:e,value:o})}function st({historyId:e,currentUserId:t}){const n=Z.a.get({userId:t,key:e});if(!n)return;const o={...at(),index:n.index};Z.a.set({userId:t,key:e,value:o})}function lt({RouterStore:e,currentUserId:t}){const n=e.state.id;Z.a.remove({userId:t,key:n})}function ct(e){const{environment:t,redirect:n,metaClick:o,frontPreserveScrollPosition:r}=e,{RouterStore:i,currentUser:s}=t,l=s.id,c=k.l({url:e.url,baseUrl:a.default.baseURL,isMobile:t.device.isMobile,protocol:a.default.protocol,currentUrl:window.location.href});if("external"===c.name)return void mt({environment:t,url:e.url});const d=C.b({schemeUrl:e.url,baseUrl:a.default.baseURL}),u=S.f(e.url);if(o)t.device.isElectron&&"page"===c.name?p.openInNewWindow(u):mt({environment:t,url:d});else{const o=i.state.route,a="page"===o.name&&"page"===c.name&&o.blockId===c.blockId,s=t.AppUpdateStore.state.appUpdate;if(!a&&!e.redirect&&te.g(t,s))return void te.e({environment:t,url:u,version:s.version,broadcast:!0});n||a||st({historyId:i.state.id,currentUserId:l}),rt(t);const d=Object(M.a)();n?window.history.replaceState({id:d,currentUserId:t.currentUser.id},void 0,u):window.history.pushState({id:d,currentUserId:t.currentUser.id},void 0,u);const p=function({historyId:e,currentUserId:t}){const n=Z.a.get({userId:t,key:e});return n?n.index:0}({historyId:i.state.id,currentUserId:l});it({historyId:d,historyIndex:n?p:p+1,currentUserId:l}),Mt({environment:t,id:d,action:n?"replace":"push",href:u}),a&&dt(t),!r&&window.scrollTo(0,0)}h.default.logNavigation()}async function dt(e){const{RouterStore:t}=e,n=D.default.state.currentBlockStore;if(n&&"page"===t.state.route.name){if(t.state.route.scrollToBlockId){const e=[t.state.route.scrollToBlockId];0===r.a.compact(j.a.findSelectablesFromIds(e)).length&&(await I.b(n,e),await V.default.afterNextFlush())}x.a(e)}}function ut(e,t,n){const{currentSpaceStore:o}=D.default.state;if(!e.getValue())return;const r=e.isNavigableBlock(),{page:a,block:i}=r?{page:e,block:void 0}:{page:s.c(e),block:e};a&&(!i&&o&&w.b({currentUserId:n.currentUser.id,spaceId:o.id,blockId:a.id}),pt({environment:n,store:a,scrollToBlockId:i&&i.id,metaClick:t,visitType:Me.c.Search}))}function pt(e){const{environment:t,store:n,redirect:o,scrollToBlockId:r,collectionViewId:a,metaClick:s,discussionId:l,showMoveTo:c,saveParent:d,visitType:u}=e,p=Object(i.a)({store:n,fullyQualified:!1,scrollToBlockId:r,collectionViewId:a,discussionId:l,showMoveTo:c,saveParent:d});n.isNavigableBlock()&&Ee.a.recordVisit({id:n.id,type:void 0!==u?u:Me.c.Default,currentUserId:t.currentUser.id}),ct({environment:t,url:p,redirect:o,metaClick:s})}function ht(e){const{environment:t,store:n,metaClick:o,showMoveTo:r,saveParent:a}=e,{currentBlockStore:s}=D.default.state;if(s){ct({environment:t,url:o?Object(i.a)({store:n,fullyQualified:!1,showMoveTo:r,saveParent:a}):Object(i.a)({store:s,peekViewBlockId:n.id,fullyQualified:!1,showMoveTo:r,saveParent:a}),metaClick:o})}}function mt(e){const{environment:t,targetSelf:n}=e;let o=Object(S.i)({str:e.url,allowNoProtocol:!0});if(o)if("/"===o[0]&&(o=a.default.baseURL+o),t.device.isElectron)p.openExternalUrl(o);else if(t.reactNative)o.startsWith("http:")||o.startsWith("https:")?t.reactNative.openInAppBrowser(o):window.location.href=o;else{const t=document.createElement("a");t.href=e.url,t.classList.add("notion-link"),n||t.setAttribute("target","_blank"),t.setAttribute("rel","noopener noreferrer"),document.body.appendChild(t),t.click(),t.remove()}}async function ft(e,t){if(P.j(t.url,a.default.secureFileS3.url))if(e.device.isElectron||e.device.isReactNative){const n=await g.getSignedFileUrl(e,t);n&&mt({environment:e,url:n})}else{mt({environment:e,url:O.c({...t,baseURL:a.default.baseURL,currentUserId:e.currentUser&&e.currentUser.id})})}else mt({environment:e,url:t.url})}async function gt(e,t){if(P.j(t.url,a.default.secureFileS3.url))if(e.device.isElectron||e.device.isReactNative){const n=await g.getSignedFileUrl(e,t);n&&kt({environment:e,url:n})}else{kt({environment:e,url:O.c({...t,baseURL:a.default.baseURL,currentUserId:e.currentUser&&e.currentUser.id})})}else mt({environment:e,url:t.url})}async function bt(e){const{environment:t,blocks:n}=e,{currentBlockStore:o,currentSpaceViewStore:r,currentUserSettingsStore:a,currentUserRootStore:i}=D.default.state,l=$.c.state,c=o&&n.find(e=>e.id===o.id);if(c&&r){const e=s.c(c,1);e?pt({environment:t,store:e}):await b.o({environment:t,spaceViewStore:r,userSettingsStore:a,userRootStore:i})}Boolean(l.open&&n.find(e=>e.id===l.target.id))&&o&&pt({environment:t,store:o})}const vt=function(){window.history.back()},yt=function(){window.history.forward()},St=function(){const e=D.default.state.currentBlockStore;return!!e&&!!s.c(e,1)},wt=function(e){const t=D.default.state.currentBlockStore;if(!t)return;const n=s.c(t,1);n&&pt({environment:e,store:l.a.createChildStore(n,n.pointer)})};function kt(e){const{environment:t,url:n}=e;t.reactNative?t.reactNative.share(n):t.device.isElectron?p.downloadUrl(n):window.location.href=n}function Ct(e){const{environment:t,url:n}=e,o=S.f(n);t.device.isNative?ct({url:o,environment:t}):window.location.href=C.c({httpUrl:o,protocol:a.default.protocol})}async function Mt(e){const{id:t,action:n,href:o,environment:i}=e,{RouterStore:s,currentUser:c}=i,d=k.l({url:e.href,isMobile:i.device.isMobile,baseUrl:a.default.baseURL,protocol:a.default.protocol,currentUrl:window.location.href}),u=Z.a.get({userId:c.id,key:t});s.setState({id:t,historyState:u,action:n,route:d});const p=S.e(o),h=Object(L.h)(p.query[R.d]);h&&Object(Je.e)({currentUserId:c.id,referralUserId:h});const m=p.query[R.c];m&&Object(Je.d)({currentUserId:c.id,promoCode:m});const f=p.query[_.a];if(f&&(Object(Ke.setSessionAnalyticsTags)(f),Tt(_.a)),"page"!==d.name&&!k.a[d.name]){var g=S.f(o),v=Ve.a.parse(g.split("?")[1]||"");E.hf(i,{pathname:p.pathname,query:g,utm_source:v.utm_source||"",utm_medium:v.utm_medium||"",utm_campaign:v.utm_campaign||"",utm_term:v.utm_term||"",utm_content:v.utm_content||"",fbclid:v.fbclid||"",gclid:v.gclid||"",device:v.device||"",targetid:v.targetid||"",criterionid:v.criterionid||""})}const y=p.query.target;"intercom"===y?(T.a({environment:i,from:"query_param"}),Tt("target")):"billing"===y&&(Object(Qe.a)({currentTab:y}),Tt("target")),await le.default.waitUntil(()=>le.default.state.isLoaded),"root"===d.name?async function(e,t){const n=t.currentUser.isLoggedIn();if(n){const o=await Object(ce.loadUserRedirectData)({environment:t,disableRedirectUrl:!1}),{firstSpaceView:a,forkPageBlockId:i,publicAccessPageId:s,oauthAuthorizationParams:c,userRootStore:d,redirectUrl:u,userSettingsStore:p}=o;await le.default.waitUntil(()=>le.default.state.isLoaded),await de.e(t);const h=_e.default.state,m=t.currentUser.id,f=K.a.get(fe.z);if(f&&n)return void(await _t(t,f));if(c&&a&&(o.onboardingCompleted||fe.m(h))){const{responseType:e,redirectUri:n,integrationId:o,state:r}=c;return void $e.b({environment:t,responseType:e,redirectUri:n,integrationId:o,state:r})}if(h.isOnboarding)fe.m(h)?h.spaceViewId&&await b.o({environment:t,spaceViewStore:new Te.a(t,{table:We.a,id:h.spaceViewId}),userSettingsStore:p,userRootStore:d}):ue.navigate({environment:t,url:ie.d.onboarding});else if(c&&o.onboardingCompleted){const{responseType:e,integrationId:n,redirectUri:o,state:r}=c;$e.b({environment:t,responseType:e,integrationId:n,redirectUri:o,state:r})}else if(s&&o.onboardingCompleted){w.z({currentUserId:m,blockId:void 0});const e=l.a.createChildStore(d,{table:qe.a,id:s});await e.load(),ue.navigateToBlock({environment:t,store:e})}else if(a&&o.onboardingCompleted){if(t.device.isMobile&&!o.mobileOnboardingCompleted)await de.i(t,{type:"mobile-onboarding",redirectUrl:u});else if(i){w.w({currentUserId:m,blockId:void 0});const e=l.a.createChildStore(d,{table:qe.a,id:i});await e.load(),await me.m(d);const n=me.j(d);if(1===n.length){const o=n[0],r=o.getSpaceStore();if(!r)return;he.c({environment:t,store:e,spaceStore:r,spaceViewStore:o,isPrivate:!0})}else ue.navigateToBlock({environment:t,store:e})}else u?ct({environment:t,url:u,redirect:!0}):b.n({environment:t,userRootStore:d,userSettingsStore:p});"credit"===e.target&&be.a.setState({open:!0,currentTab:"credit"}),"import"===e.target&&ge.a.setState({open:!0});const n=Object(L.h)(e.template);if(n){const e=r.a.flatten(Object(Le.c)(Re.default.getIntl()).map(e=>e.items)).find(e=>e.previewRootId===n);e&&pe.i({environment:t,item:e,createNewPage:!1,isPrivate:!1})}}else await de.i(t,{type:"new-user",redirectUrl:u})}}(d,i):"onboarding"===d.name?async function(e){if(e.currentUser.isLoggedIn())await de.e(e);else{const t=_e.default.state,n=K.a.get(fe.z);t.isOnboarding||n?ct({environment:e,url:ie.d.signup}):ct({environment:e,url:ie.d.login})}}(i):"samlAuthCallback"===d.name?async function(e,t){let n;e.userId?await Object(se.loginSamlUser)({environment:t,userId:e.userId,isNewSignup:e.isNewSignup||!1,previousUserId:e.previousUserId}):n=e.token&&e.csrfState?await Object(se.loginSamlUserWithToken)({environment:t,csrfState:e.csrfState,token:e.token,isNewSignup:e.isNewSignup||!1}):e.error||Re.default.formatMessage(et.errorSamlMessage);n&&(ae.a.setState({...ae.a.state,alert:n}),ct({environment:t,url:ie.d.login}))}(d,i):"appleAuthCallback"===d.name?async function(e,t){const{callbackType:n,encryptedToken:o,encryptedNonce:r,code:a,error:i,encryptedUserObject:s}=e;if("native"===n&&!t.device.isNative)return void Ct({url:window.location.href,environment:t});if("user_cancelled_authorize"===i)return ae.a.setState({...ae.a.state,loginType:"email"}),void ct({environment:t,url:ie.d.login});if(i||!a||!o||!r){const e=Re.default.formatMessage(et.appleErrorMessage);return ae.a.setState({...ae.a.state,alert:e}),void ct({environment:t,url:ie.d.login})}const l=await Object(se.loginWithAppleAuth)({environment:t,encryptedToken:o,encryptedNonce:r,code:a,encryptedUserObject:s});l&&(ae.a.setState({...ae.a.state,alert:l}),ct({url:ie.d.login,environment:t}))}(d,i):"googleAuthCallback"===d.name?async function(e,t){const{callbackType:n,encryptedToken:o,code:r,error:a}=e;if("native"===n&&!t.device.isNative)return void Ct({url:window.location.href,environment:t});"access_denied"===a&&ae.a.setState({...ae.a.state,loginType:"email"});if(a||!r||!o)return ae.a.setState({...ae.a.state,alert:a}),void ct({environment:t,url:ie.d.login});const i=await Object(se.loginWithGoogleAuth)({environment:t,encryptedToken:o,code:r});i&&(ae.a.setState({...ae.a.state,alert:i}),ct({url:ie.d.login,environment:t}))}(d,i):"googleDriveAuthCallback"===d.name?function(e,t){const{code:n,error:o}=e;!o&&n&&Ce.a(t,n);const{url:r}=Object(Ie.a)(t);ct({url:r||"/",environment:t})}(d,i):"loginWithEmailCallback"===d.name?async function(e,t){const{state:n,password:o,isSignup:r,redirectURL:a}=e,i=await Object(se.loginWithTemporaryPasscode)({environment:t,state:n,password:o,redirectURL:a});i&&(ae.a.setState({...ae.a.state,alert:i}),ct(r?{url:ie.d.signup,environment:t}:{url:ie.d.login,environment:t}))}(d,i):"passwordResetCallback"===d.name?async function(e,t){const{state:n,password:o}=e,r=await Object(se.loginPasswordReset)({environment:t,csrfState:n,password:o});r&&(ae.a.setState({...ae.a.state,loginType:"email",alert:r}),ct({url:ie.d.login,environment:t}))}(d,i):"logout"===d.name?await Object(se.actuallyLogoutAndDeleteAllLocalData)(i):"login"===d.name?Et(i):"signup"===d.name?Et(i):"page"===d.name||"space"===d.name?(ve.d({route:d,environment:i}),function(e,t){if(!e.device.isMobile){const{currentBlockStore:n,currentSpaceStore:o}=D.default.state;if(!n)return;const r=$.c.state;let a,i=!1,s=!1;if("page"===t.name&&t.peekViewBlockId){const e=l.a.createChildStore(n,{table:qe.a,id:t.peekViewBlockId});i=Boolean(t.showMoveTo),s=Boolean(t.saveParent),a=e}if(a&&(!r.open||a.id!==r.target.id)){const t=A.default.cloneState(),n=xe.a.cloneState();ue.resetPeekState(e),ue.resetSidebarState(e),ue.resetEditorState(e),E.vd(e,{page_id:a.id,is_peek:!0,type:"page"});const r=new l.a(e,a.pointer),c=new ze.a,d=new ye.a,u=new Se.a;$.c.setState({...$.c.state,open:!0,target:r,pageVisitStore:c,presenceStore:d,showMoveTo:i,saveParent:s,loadingContainerStore:u,savedSelectionStoreState:t,savedTableSelectionStoreState:n}),ke.b({environment:e,rootStore:r,presenceStore:d}),Xe.a(e,{block:r,pageVisitStore:c,timestamp:Date.now(),fromPageRefresh:Object(Ke.getAppRefreshed)()}),we.e(e,a.id),Ee.a.recordVisit({id:a.id,type:Me.c.Default,currentUserId:e.currentUser.id}),o&&w.d({currentUserId:e.currentUser.id,spaceId:o.id,pageId:r.id})}r.open&&!a&&($.c.setState({...$.c.state,open:!1}),ke.a({environment:e,presenceStore:r.presenceStore}),ue.resetPeekState(e))}}(i,d)):"templatesRedirect"===d.name?ue.navigate({environment:i,url:Object(Ue.a)("templateGallery"),redirect:!0}):"communityRedirect"===d.name?ue.navigate({environment:i,url:Object(Ue.a)("community"),redirect:!1}):"guideRedirect"===d.name?ue.navigate({environment:i,url:Object(Ue.a)("guides.guides"),redirect:!0}):"invoiceRedirect"===d.name?ue.navigate({environment:i,url:"/",redirect:!0}):"termsRedirect"===d.name?ue.navigate({environment:i,url:Object(Ue.a)("terms"),redirect:!0}):"contentPolicyRedirect"===d.name?ue.navigate({environment:i,url:Object(Ue.a)("contentPolicy"),redirect:!0}):"uiDoc"===d.name?ue.navigate({environment:i,url:"/",redirect:!0}):"exportPreview"===d.name?ue.navigate({environment:i,url:"/",redirect:!0}):"admin"===d.name?a.default.isAdminMode||ue.navigate({environment:i,url:"/",redirect:!0}):"teamInvite"===d.name?_t(i,d.inviteCode):"new"===d.name?async function(e,t){if(!e.currentUser.id)return void ue.navigate({environment:e,url:"/",redirect:!0});if(t){const{currentUserSettingsStore:o}=D.default.state,r=new De.a(e,{table:Ge.a,id:e.currentUser.id});if(await r.load(),void 0===D.default.state.currentSpaceStore||D.default.state.currentSpaceStore.id!==t)try{await b.k({environment:e,userRootStore:r,spaceId:t,navigate:!0,analyticsFrom:"redirect",userSettingsStore:o})}catch(n){return void Object(Ae.showMessage)({message:n.message,onAccept:vt})}}else ue.navigate({environment:e,url:"/",redirect:!0}),await D.default.waitUntil(()=>void 0!==D.default.state.currentSpaceStore&&void 0!==D.default.state.currentSpaceViewStore&&void 0!==D.default.state.currentUserRootStore);Pe.quickAddPage({environment:e,from:"route",redirect:!0})}(i,d.spaceId):"integrations"===d.name?function(e){"production"!==a.default.env&&e.currentUser.isLoggedIn()||ct({environment:e,url:ie.d.login})}(i):"unknown"===d.name&&ue.navigate({environment:i,url:"/",redirect:!0})}function Et(e){e.currentUser.isLoggedIn()&&ct({environment:e,url:"/",redirect:!0})}async function _t(e,t){const n=Oe.a({environment:e,request:{type:"invite-link",inviteLinkCode:t}}),o=(await n.next()).value;Be.a.setState({publicPageData:o});const r=()=>{K.a.set(fe.z,t),ue.navigate({environment:e,url:ie.d.onboarding})};if(e.currentUser.isLoggedIn()&&o.spaceId){const{id:n}=e.currentUser;if(n){const i=new je.a(e,{table:Ze.a,id:n});await i.load();const s=i.getValue();if(s&&!s.family_name){r();const t=await Object(ce.loadUserRedirectData)({environment:e,disableRedirectUrl:!1});return void(await de.i(e,{type:"new-user",redirectUrl:t.redirectUrl}))}const l=new De.a(e,{table:Ge.a,id:n});await l.load();try{const n=await b.k({environment:e,userRootStore:l,userSettingsStore:void 0,spaceId:o.spaceId,navigate:!1,analyticsFrom:"redirect",inviteCode:t});await b.o({environment:e,spaceViewStore:n.spaceViewStore,userSettingsStore:void 0,userRootStore:l})}catch(a){Object(Ae.showMessage)({message:a.message,onAccept:vt})}}}else r()}function Tt(e){const t=S.f(S.g(window.location.href,"target"));window.history.replaceState(history.state,void 0,t)}const xt=async function(e){const t=window.history.state&&window.history.state.id||Object(M.a)();if(!window.history.state){const n=e.currentUser.id;window.history.replaceState({id:t,currentUserId:n},void 0,window.location.href),it({historyId:t,historyIndex:0,currentUserId:n})}await Mt({environment:e,id:t,action:"pop",href:window.location.href});const n=e.currentUser.id,o=w.k(n);if(!o||"undefined"===o){const e=window.location.pathname;e&&w.x({currentUserId:n,value:e})}}},HDj1:function(e,t,n){"use strict";var o=n("Uv1v");class r extends o.a{}t.a=new r},HHyf:function(e,t,n){"use strict";var o=n("bkwR"),r=n("FUUC"),a=n("yUnD"),i=n("HRSx"),s=n("LvDl"),l=n.n(s),c=n("pQrc"),d=n("z22Z"),u=n("xL2i"),p=n("njgS"),h=n("V1wX"),m=n("Mkmb");function f(e,t){if(g(e,t))return!0;const n=Boolean(e.disable_public_access_requests||e.admin_disable_public_access);return!(!t||!Object(h.c)(t)||n)}function g(e,t){if(!t)return!1;if(Object(h.e)(t))return!1;const n=t.value;let o=!1;const r=e.email_domains||[],a=e.permissions||[];if(n&&n.email&&r){const e=Object(c.a)(n.email);o=l.a.includes(r,e)}return a.find(e=>"user_permission"===e.type&&e.user_id===n.id)&&(o=!0),o}function b(e){const{block:t,space:n,viewer:o}=e;if(!t)return;if(!g(n,o))return;const r=Object(u.h)(t).filter(e=>"user_permission"===e.type&&Object(d.a)(e.role)).map(e=>e.user_id);return 0!==r.length?r.find(e=>Object(m.d)(n,e)):void 0}var v=n("6SEd"),y=n("5/h/"),S=n("ezkE"),w=n("vl8/"),k=n("ocLp");async function*C(e){const{environment:t,request:n}=e;if("block-space"===n.type)try{const e=await k.a.measure("loadPublicPageData","block:".concat(n.blockId," space:").concat(n.spaceId),()=>async function(e,t){if("block-space"!==t.type)throw new Error("Shouldn't be looking for a non-block-space page");const{blockId:n}=t,{id:o}=e.currentUser;if(n&&o){let t,s,l,c;const d=await a.a({environment:e,recordPointers:[{table:i.a,id:n},{table:y.a,id:o}],recurFn:(e,o,a)=>{const d=[];if(e===i.a&&o===n&&a&&a.value&&(t=a.value),e===r.a&&a&&a.value&&(s=a.value),e===v.a&&a&&a.value&&t&&t.parent_id===o&&(l=a.value),e===y.a&&a&&a.value&&(c=a.value),a&&a.value){const e=a.value;e.parent_id&&e.parent_table&&d.push({table:e.parent_table,id:e.parent_id})}return d},recordIsRequired:()=>!0});if(t&&s&&c){const e=S.d({table:i.a,id:n},d),o={table:y.a,value:c},r=Boolean(S.h(e,o)),a=S.j(e);return function(e){const{block:t,space:n,spaceDomain:o,collectionParentValue:r,actor:a,userHasExplicitAccess:i,hasPublicAccess:s,intl:l}=e,c=g(n,a),d=r&&(i||s)?p.e(r.schema):void 0,u=r&&(i||s)?r.id:void 0,h=r&&r.format&&(i||s)?r.format:void 0;return{spaceName:n.name||l.formatMessage({id:"publicPageDataHelpers.untitledWorkspace.placeholder",defaultMessage:"Untitled Workspace"}),spaceId:n.id,spaceDomain:o,canJoinSpace:c,icon:n.icon,userHasExplicitAccess:i,hasPublicAccess:s,ownerUserId:b({block:t,space:n,viewer:a}),collectionId:u,collectionSchema:d,collectionFormat:h,betaEnabled:n.beta_enabled,canRequestAccess:f(n,a)}}({block:t,space:s,spaceDomain:void 0,collectionParentValue:l,actor:Object(h.j)(c),userHasExplicitAccess:r,hasPublicAccess:a,intl:w.default.getIntl()})}}throw new Error("No offline public page data found.")}(t,n));yield e}catch(l){}const s=await o.getPublicPageData(t,n);if("success"!==s.type)throw s.error;yield s.data}n.d(t,"a",(function(){return C}))},HRSx:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"o",(function(){return i})),n.d(t,"k",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"u",(function(){return d})),n.d(t,"v",(function(){return u})),n.d(t,"p",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"z",(function(){return f})),n.d(t,"y",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"w",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"r",(function(){return S})),n.d(t,"n",(function(){return w})),n.d(t,"m",(function(){return k})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return M})),n.d(t,"x",(function(){return E})),n.d(t,"l",(function(){return _})),n.d(t,"q",(function(){return T})),n.d(t,"a",(function(){return x}));var o=n("fIr1");const r=["malware","social_engineering","unwanted_software","dcma","verified"],a={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,page:!0,column:!0,column_list:!0,factory:!0,transclusion_container:!0},i={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,column:!0},s={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0},l={header:!0,sub_header:!0,sub_sub_header:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,quote:!0,callout:!0},c={text:!0,page:!0,collection_view_page:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,quote:!0,to_do:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0,transclusion_container:!0,transclusion_reference:!0,alias:!0},d={text:!0,header:!0,sub_header:!0,sub_sub_header:!0},u={header:!0,sub_header:!0,sub_sub_header:!0,quote:!0,callout:!0},p={image:!0,video:!0,embed:!0,tweet:!0,drive:!0,gist:!0,invision:!0,framer:!0,audio:!0,maps:!0,figma:!0,loom:!0,typeform:!0,codepen:!0,pdf:!0,whimsical:!0,miro:!0,abstract:!0},h={...p,bookmark:!0,file:!0,code:!0},m={factory:!0},f={text:!0,header:!0,sub_header:!0,sub_sub_header:!0,page:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,code:!0,quote:!0,callout:!0,equation:!0},g=["text","header","sub_header","sub_sub_header","to_do","bulleted_list","numbered_list","toggle","code","page"],b={image:!0,video:!0,tweet:!0,drive:!0,maps:!0,gist:!0,audio:!0,file:!0,collection_view:!0,pdf:!0},v={column_list:!0,collection_view:!0,...p},y={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,quote:!0,page:!0,header:!0,sub_header:!0,sub_sub_header:!0,bookmark:!0,file:!0,collection_view_page:!0,callout:!0,table_of_contents:!0},S={page:!0,collection_view:!0,collection_view_page:!0},w={copy_indicator:!0,link_to_page:!0,link_to_collection:!0},k={column:!0,column_list:!0,copy_indicator:!0,divider:!0,link_to_page:!0,link_to_collection:!0,table_of_contents:!0},C={column:!0,column_list:!0,copy_indicator:!0,divider:!0,link_to_page:!0,link_to_collection:!0,table_of_contents:!0,collection_view:!0,collection_view_page:!0,alias:!0,transclusion_reference:!0},M={collection_view:!0},E={text:!0,page:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,factory:!0,code:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0},_={header:!0,sub_header:!0,sub_sub_header:!0},T={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0},x="block",I={table:x,columnTypes:{id:o.a.UUID,space_id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,type:o.a.String,properties:o.a.JSON,content:o.a.StringArray,discussions:o.a.StringArray,view_ids:o.a.StringArray,collection_id:o.a.UUID,permissions:o.a.JSON,created_time:o.a.Number,last_edited_time:o.a.Number,copied_from:o.a.UUID,file_ids:o.a.StringArray,ignore_block_count:o.a.Boolean,is_template:o.a.Boolean,parent_id:o.a.UUID,parent_table:o.a.String,alive:o.a.Boolean,moved:o.a.JSON,format:o.a.JSON,created_by:o.a.UUID,last_edited_by:o.a.UUID,created_by_table:o.a.String,created_by_id:o.a.UUID,last_edited_by_table:o.a.String,last_edited_by_id:o.a.UUID,content_classification:o.a.String},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0,type:!0},defaultColumnValues:{alive:!1}};t.j=I},HSWF:function(e,t,n){"use strict";n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"x",(function(){return S})),n.d(t,"k",(function(){return w})),n.d(t,"B",(function(){return k})),n.d(t,"y",(function(){return C})),n.d(t,"C",(function(){return M})),n.d(t,"l",(function(){return E})),n.d(t,"c",(function(){return _})),n.d(t,"r",(function(){return T})),n.d(t,"h",(function(){return x})),n.d(t,"b",(function(){return P})),n.d(t,"d",(function(){return B})),n.d(t,"s",(function(){return L})),n.d(t,"i",(function(){return R})),n.d(t,"a",(function(){return A})),n.d(t,"q",(function(){return j})),n.d(t,"n",(function(){return U})),n.d(t,"g",(function(){return z})),n.d(t,"w",(function(){return X})),n.d(t,"j",(function(){return Y})),n.d(t,"z",(function(){return H})),n.d(t,"o",(function(){return q})),n.d(t,"A",(function(){return G})),n.d(t,"p",(function(){return Z})),n.d(t,"m",(function(){return K})),n.d(t,"t",(function(){return J})),n.d(t,"v",(function(){return Q})),n.d(t,"u",(function(){return ee}));n("3bBZ"),n("SYor");var o=n("LvDl"),r=n.n(o),a=n("HRSx"),i=n("g90h"),s=n("78yG"),l=n("Mht8"),c=n("nFzZ"),d=n("wpmu"),u=n("+zu0"),p=n("h2IJ"),h=n("Catn"),m=n("FUUC"),f=n("7QKz"),g=n("koI6"),b=n("ddTe");const v="calloutBlockIcon",y="calloutBlockBackground";function S({currentUserId:e,value:t}){h.a.set({userId:e,key:"sourceInitialPage",value:t})}function w(e){return h.a.get({userId:e,key:"sourceInitialPage"})}function k(e){localStorage.setItem(s.b,JSON.stringify(e))}function C(e,t){p.a.set("lastVisitedRoute",e),p.a.set("lastVisitedRouteUserId",t)}function M(){p.a.remove("lastVisitedRoute"),p.a.remove("lastVisitedRouteUserId")}function E(){return{route:p.a.get("lastVisitedRoute"),userId:p.a.get("lastVisitedRouteUserId")}}function _({currentUserId:e,spaceId:t,query:n}){const o=T({currentUserId:e,spaceId:t}),a=r.a.uniqBy([n,...o],e=>e.text.trim()).slice(0,10);h.a.set({userId:e,key:I(t),value:JSON.stringify(a)})}function T({currentUserId:e,spaceId:t}){const n=h.a.get({userId:e,key:I(t)});if(n){const e=te(n);return Array.isArray(e)?e:[]}return[]}function x({currentUserId:e,spaceId:t}){h.a.remove({userId:e,key:I(t)})}function I(e){return"recentSearches:".concat(e)}function P({currentUserId:e,spaceId:t,blockId:n}){const o=function({currentUserId:e,spaceId:t}){const n=h.a.get({userId:e,key:O(t)});if(n){const e=te(n);return Array.isArray(e)?e:[]}return[]}({currentUserId:e,spaceId:t}),a=r.a.uniq([n,...o]).slice(0,10);h.a.set({userId:e,key:O(t),value:JSON.stringify(a)})}function O(e){return"recentQuickJumps:".concat(e)}function B({currentUserId:e,spaceId:t,pageId:n}){const o=L({currentUserId:e,spaceId:t}),a=r.a.uniq([n,...o]).slice(0,10);h.a.set({userId:e,key:D(t),value:JSON.stringify(a)})}function L({currentUserId:e,spaceId:t}){const n=h.a.get({userId:e,key:D(t)});if(n){const e=te(n);return Array.isArray(e)?e:[]}return[]}function R({currentUserId:e,spaceId:t}){h.a.remove({userId:e,key:D(t)})}function D(e){return"recentlyVisitedPages:".concat(e)}async function A(e,t,n){const o=await j(e,t),a=r.a.uniq([n,...o]).slice(0,10);h.a.set({userId:e.environment.currentUser.id,key:F(t),value:JSON.stringify(a)})}async function j(e,t){const n=h.a.get({userId:e.environment.currentUser.id,key:F(t)});if(n){const t=te(n);if(t){const n=await Promise.all(t.map(async t=>{const n=d.a.createChildStore(e,{table:a.a,id:t});return await n.load(),n.canEdit()}));return t.filter((e,t)=>n[t])}}return[]}function F(e){return"recentMoveToTargets2:".concat(e)}function V(){return p.a.get("deviceId")}function N(e){return p.a.set("deviceId",e)}async function U(e){if(!Object(g.a)(e)){let e=V();return e||(e=Object(i.b)(),N(e)),e}const t=V();if(t)return await Object(g.c)(e,{name:f.a,value:t,domain:window.location.hostname}),p.a.remove("deviceId"),t;let n=await Object(g.b)(e,f.a);return n||(n=Object(i.b)(),N(n),await Object(g.c)(e,{name:f.a,value:n,domain:window.location.hostname})),n}function z(e){if(e)u.a.clearForUser(e),h.a.clearStorageForUser(e);else{const e=V();localStorage.clear(),e&&N(e)}}function X({currentUserId:e,blockId:t}){h.a.set({userId:e,key:"forkPageTemplate",value:t})}function Y(e){return h.a.get({userId:e,key:"forkPageTemplate"})}function H({currentUserId:e,blockId:t}){h.a.set({userId:e,key:"publicAccessPageId",value:t})}function q(e){return h.a.get({userId:e,key:"publicAccessPageId"})}Object(b.exposeDebugValue)("getDeviceId",U);const W=function(e){return"quickAddParent3:".concat(e)};function G({currentUserId:e,spaceId:t,value:n}){h.a.set({userId:e,key:W(t),value:n})}async function Z(e,t){const n=e.environment.currentUser.id,o=h.a.get({userId:n,key:W(e.id)});let r;if(o)if("page"===o.type){await t({table:a.a,id:o.id})&&(r=o)}else if("space"===o.type){await t({table:m.a,id:o.id})&&(r=o)}return r||{type:"current-space"}}function K(e){return"UnsentDiscussion-".concat(e)}async function J(){if("storage"in navigator&&"estimate"in navigator.storage){const{quota:e,usage:t}=await navigator.storage.estimate();if("number"==typeof e&&"number"==typeof t)return{quota:e,usage:t}}if("webkitPersistentStorage"in navigator){const e=navigator.webkitPersistentStorage;if("queryUsageAndQuota"in e)return new Promise(t=>{e.queryUsageAndQuota((e,n)=>{t("number"==typeof n&&"number"==typeof e?{usage:e,quota:n}:void 0)},()=>t(void 0))})}}async function Q(){if(navigator.storage&&navigator.storage.persist)try{const e=await navigator.storage.persist();return l.clientLogglyEnvironmentData.isPersistent=e,e}catch(e){console.trace("Persistence is disabled",e)}}const $=15*c.c;function ee(e){const{quota:t,usage:n}=e;return n/t<=.9&&t>=$}function te(e){try{return JSON.parse(e)}catch(t){return}}},HTHG:function(e,t,n){"use strict";n.d(t,"o",(function(){return N})),n.d(t,"c",(function(){return U})),n.d(t,"g",(function(){return z})),n.d(t,"d",(function(){return X})),n.d(t,"l",(function(){return Y})),n.d(t,"a",(function(){return H})),n.d(t,"p",(function(){return q})),n.d(t,"e",(function(){return W})),n.d(t,"h",(function(){return G})),n.d(t,"i",(function(){return Z})),n.d(t,"n",(function(){return K})),n.d(t,"b",(function(){return J})),n.d(t,"k",(function(){return Q})),n.d(t,"f",(function(){return $})),n.d(t,"j",(function(){return ee})),n.d(t,"m",(function(){return te})),n.d(t,"q",(function(){return ne}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("wpmu"),i=n("AXh+"),s=n("XBB3"),l=n("sjR4"),c=n("qHvo"),d=n("DNgp"),u=n("nZ1u"),p=n("dccM"),h=n("6BvA"),m=n("iICV"),f=n("UiOz"),g=n("PuL6"),b=n("EmAo"),v=n("szb2"),y=n("5qTp"),S=n("uLZi"),w=n("z8HZ"),k=n("7IvN"),C=n("WaiN"),M=n("GKeo"),E=n("7TLZ"),_=n("QcDD"),T=n("LqYT"),x=n("D2XV"),I=n("qX+M"),P=n("tvfY"),O=n("2ZkR"),B=n("BNhs"),L=n("VpIZ"),R=n("vJXr"),D=n("c6/J"),A=n("A9TN"),j=n("AUNf"),F=n("HRSx"),V=n("5/h/");const N="set";function U(){if(_.default.state.currentBlockStore)return _.default.state.currentBlockStore.id}function z(e){let t;if(_.default.state.currentUserStore?t=_.default.state.currentUserStore:e.currentUser.id&&(t=new P.a(e,{table:V.a,id:e.currentUser.id})),t){return t.getValue()}}function X(){const e=l.default.getCurrentRootStore();if(e&&e instanceof a.a)return e}async function Y(e,t){const n=new a.a(e,{table:F.a,id:t});return await Object(E.q)(n),n.canRead()&&Object(i.g)(e,n)}const H=e=>{const{currentBlockStore:t}=_.default.state,n=e.currentUser.isLoggedIn(),o=t?t.getValue():void 0,r=o&&Object(L.C)(o)&&!(t&&B.a.bypassedPage(t.id))&&"has-content-classification-block"===O.default.getGroup(e,"content-classification-block"),a=Boolean(t&&t.canRead()&&t.getValue()),s=Boolean(t&&t.canEdit()&&t.getValue()),l=Boolean(t&&Object(E.a)(t)),c=Boolean(t&&a&&Object(i.g)(e,t)),d=Boolean(n&&a&&(s&&!c||l&&!c)&&!r),u=Boolean(!t||t&&t.isReady()&&!a||r);return{shouldShowSidebar:d,shouldShowFrame:!u,shouldShowError:u}},q=new T.a(()=>{const{currentBlockStore:e}=_.default.state,t=e&&e.isCollectionView();return m.a.state.isKeyboardMode&&!h.a.isActive()&&!t&&!y.default.state.open&&!w.a.state.open&&0===f.a.state.banners.length});function W(e){const{currentSpaceViewStore:t}=_.default.state;if(t){return r.a.union(t.getWorkspacePages(),Object(I.getSharedPages)(e,t),t.getPrivatePages()).filter(e=>e.isNavigableBlock())}return[]}function G(e){const{currentSpaceViewStore:t}=_.default.state;return t?r.a.uniqBy([...t.getBookmarkedPages(),...t.getWorkspacePages(),...Object(I.getSharedPages)(e,t),...t.getPrivatePages()],"id"):[]}const Z=e=>{const{currentSpaceStore:t,currentSpaceViewStore:n,currentUserRootStore:o,currentUserSettingsStore:r}=_.default.state;if(!(n&&o&&t&&r))return;const a="on"===O.default.getGroup(e,"sidebar-enhancements"),i=Object(I.getSpacePermissionItems)(t),s=n.getBookmarkedPages(),l=n.getWorkspacePages(),{allSharedPagesStores:c,visibleSharedPagesStores:d}=Object(I.getSharedPageContext)({environment:e,spaceViewStore:n,userSettingsStore:r}),u=n.getPrivatePages(),p=j.default.state.values,h=!t.canEdit(),m=1===i.length&&0===l.length&&"personal"===t.getPlanType(),f=s.length>0,g=!h&&!m,b=c.length>0,v=r.hasUserPinnedToOutliner({spaceId:t.id,type:"shared"}),y=a&&(c.length>=I.SHARED_VIEW_ALL_LIMIT||v),S=!h,w=(!R.a.state.online||"local"===A.default.env)&&p.length>0&&D.a(e);return{isGuest:h,isPersonalSpace:m,showBookmarksSection:f,showOfflineSection:w,showWorkspaceSection:g,showSharedSection:b,showPrivateSection:S,showOnlyPrivateSection:!(f||g||b||w),showSharedOverflowButton:y,stickTemplateItemsToBottom:s.length+c.length+l.length+u.length>=8,allSharedPagesStores:c,visibleSharedPagesStores:d}},K=new T.a(()=>m.a.state.isKeyboardMode||u.a.state.isActive||c.b.state.isDragging||M.a.state.open||C.a.state.open||k.a.state.open||S.a.hasOpenMouseCapturePopup()||b.a.state.isOpen&&!v.c.state.open||g.a.state.isOpen);function J(e){const{defaultContainer:t}=l.default.state,n=s.b.defaultWidth-2*s.b.defaultPaddingLeftRight(e);if(t){const e=p.a.findComponent(e=>e.props.store===t.props.store);if(e){const t=e.getContentInnerWidth();if(t)return Math.min(n,t)}}return n}function Q(){const{currentBlockStore:e}=_.default.state,t=v.c.state,n=d.default.state;return"editing"===n.mode&&(e&&e.id===n.store.id&&n.store.path.includes("title")||t.open&&t.target.id===n.store.id&&n.store.path.includes("title"))}function $(){const{currentUserRootStore:e}=_.default.state;if(e){const t=e.getSpaceViewStores();return r.a.compact(t.map(e=>e.getSpaceId()))}return[]}function ee(e){return r.a.uniqBy(e.getSpaceViewStores(),e=>{const t=e.getValue();return t&&t.space_id}).filter(e=>{const t=e.getSpaceStore();return e.getValue()&&t&&t.canEdit()})}async function te(e){await e.load();const t=e.getSpaceViewStores();await Promise.all(t.map(async e=>{await e.load();const t=e.getSpaceStore();t&&await t.load()}))}const ne=new T.a((function(){const{currentUserSettingsStore:e}=_.default.state,t=Object(x.H)();if(e){const n=e.getSettings();return void 0===n.start_day_of_week?t:n.start_day_of_week}return t}))},Hf2Q:function(e,t,n){},HiHT:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=n("a9+E");const r={ABAP:o.PrismLanguages.abap,Arduino:o.PrismLanguages.arduino,Bash:o.PrismLanguages.bash,BASIC:o.PrismLanguages.basic,C:o.PrismLanguages.c,Clojure:o.PrismLanguages.clojure,CoffeeScript:o.PrismLanguages.coffeescript,"C++":o.PrismLanguages.cpp,"C#":o.PrismLanguages.csharp,CSS:o.PrismLanguages.css,Dart:o.PrismLanguages.dart,Diff:o.PrismLanguages.diff,Docker:o.PrismLanguages.docker,Elixir:o.PrismLanguages.elixir,Elm:o.PrismLanguages.elm,Erlang:o.PrismLanguages.erlang,Flow:o.PrismLanguages.flow,Fortran:o.PrismLanguages.fortran,"F#":o.PrismLanguages.fsharp,Gherkin:o.PrismLanguages.gherkin,GLSL:o.PrismLanguages.glsl,Go:o.PrismLanguages.go,GraphQL:o.PrismLanguages.graphql,Groovy:o.PrismLanguages.groovy,Haskell:o.PrismLanguages.haskell,HTML:o.PrismLanguages.html,Java:o.PrismLanguages.java,JavaScript:o.PrismLanguages.jsx,JSON:o.PrismLanguages.json,Kotlin:o.PrismLanguages.kotlin,LaTeX:o.PrismLanguages.latex,Less:o.PrismLanguages.less,Lisp:o.PrismLanguages.lisp,LiveScript:o.PrismLanguages.livescript,Lua:o.PrismLanguages.lua,Makefile:o.PrismLanguages.makefile,Markdown:o.PrismLanguages.markdown,Markup:o.PrismLanguages.markup,MATLAB:o.PrismLanguages.matlab,Mermaid:"null",Nix:o.PrismLanguages.nix,"Objective-C":o.PrismLanguages.objectivec,OCaml:o.PrismLanguages.ocaml,Pascal:o.PrismLanguages.pascal,Perl:o.PrismLanguages.perl,PHP:o.PrismLanguages.php,"Plain Text":"null",PowerShell:o.PrismLanguages.powershell,Prolog:o.PrismLanguages.prolog,Python:o.PrismLanguages.python,R:o.PrismLanguages.r,Reason:o.PrismLanguages.reason,Ruby:o.PrismLanguages.ruby,Rust:o.PrismLanguages.rust,Sass:o.PrismLanguages.sass,Scala:o.PrismLanguages.scala,Scheme:o.PrismLanguages.scheme,Scss:o.PrismLanguages.scss,Shell:o.PrismLanguages.bash,SQL:o.PrismLanguages.sql,Swift:o.PrismLanguages.swift,TypeScript:o.PrismLanguages.tsx,"VB.Net":o.PrismLanguages.vbnet,Verilog:o.PrismLanguages.verilog,VHDL:o.PrismLanguages.vhdl,"Visual Basic":o.PrismLanguages.visualBasic,WebAssembly:o.PrismLanguages.wasm,XML:o.PrismLanguages.xml,YAML:o.PrismLanguages.yaml,"Java/C/C++/C#":o.PrismLanguages.clike},a={[o.PrismLanguages.abap]:"ABAP",[o.PrismLanguages.arduino]:"Arduino",[o.PrismLanguages.bash]:"Bash",[o.PrismLanguages.basic]:"BASIC",[o.PrismLanguages.c]:"C",[o.PrismLanguages.clojure]:"Clojure",[o.PrismLanguages.coffeescript]:"CoffeeScript",[o.PrismLanguages.cpp]:"C++",[o.PrismLanguages.csharp]:"C#",[o.PrismLanguages.css]:"CSS",[o.PrismLanguages.dart]:"Dart",[o.PrismLanguages.diff]:"Diff",[o.PrismLanguages.docker]:"Docker",[o.PrismLanguages.elixir]:"Elixir",[o.PrismLanguages.elm]:"Elm",[o.PrismLanguages.erlang]:"Erlang",[o.PrismLanguages.flow]:"Flow",[o.PrismLanguages.fortran]:"Fortran",[o.PrismLanguages.fsharp]:"F#",[o.PrismLanguages.gherkin]:"Gherkin",[o.PrismLanguages.glsl]:"GLSL",[o.PrismLanguages.go]:"Go",[o.PrismLanguages.graphql]:"GraphQL",[o.PrismLanguages.groovy]:"Groovy",[o.PrismLanguages.haskell]:"Haskell",[o.PrismLanguages.html]:"HTML",[o.PrismLanguages.java]:"Java",[o.PrismLanguages.javascript]:"JavaScript",[o.PrismLanguages.jsx]:"JavaScript",[o.PrismLanguages.json]:"JSON",[o.PrismLanguages.kotlin]:"Kotlin",[o.PrismLanguages.latex]:"LaTeX",[o.PrismLanguages.less]:"Less",[o.PrismLanguages.lisp]:"Lisp",[o.PrismLanguages.livescript]:"LiveScript",[o.PrismLanguages.lua]:"Lua",[o.PrismLanguages.makefile]:"Makefile",[o.PrismLanguages.markdown]:"Markdown",[o.PrismLanguages.markup]:"Markup",[o.PrismLanguages.matlab]:"MATLAB",[o.PrismLanguages.nix]:"Nix",[o.PrismLanguages.objectivec]:"Objective-C",[o.PrismLanguages.ocaml]:"OCaml",[o.PrismLanguages.pascal]:"Pascal",[o.PrismLanguages.perl]:"Perl",[o.PrismLanguages.php]:"PHP",[o.PrismLanguages.powershell]:"PowerShell",[o.PrismLanguages.prolog]:"Prolog",[o.PrismLanguages.python]:"Python",[o.PrismLanguages.r]:"R",[o.PrismLanguages.reason]:"Reason",[o.PrismLanguages.ruby]:"Ruby",[o.PrismLanguages.rust]:"Rust",[o.PrismLanguages.sass]:"Sass",[o.PrismLanguages.scala]:"Scala",[o.PrismLanguages.scheme]:"Scheme",[o.PrismLanguages.scss]:"Scss",[o.PrismLanguages.bash]:"Shell",[o.PrismLanguages.sql]:"SQL",[o.PrismLanguages.swift]:"Swift",[o.PrismLanguages.typescript]:"TypeScript",[o.PrismLanguages.tsx]:"TypeScript",[o.PrismLanguages.vbnet]:"VB.Net",[o.PrismLanguages.verilog]:"Verilog",[o.PrismLanguages.vhdl]:"VHDL",[o.PrismLanguages.visualBasic]:"Visual Basic",[o.PrismLanguages.wasm]:"WebAssembly",[o.PrismLanguages.xml]:"XML",[o.PrismLanguages.yaml]:"YAML",[o.PrismLanguages.clike]:"Java/C/C++/C#"}},"Hl/2":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("wldR"),l=n("wweX"),c=n("fJHT"),d=n("CARr"),u=n("tzV5"),p=n("N34Z"),h=n("6SEd"),m=(n("SYor"),n("UxlC"),n("P8+q")),f=n.n(m),g=n("njgS"),b=n("gbGO"),v=n("DrHl"),y=n("wXH4"),S=n("EZe4"),w=n("G4GV"),k=n("mF3+"),C=n("VBxf"),M=n("y6Dp"),E=n("SR/M"),_=n("WgIs"),T=n("2Y+N"),x=n("dXb3"),I=n("ox2z"),P=n("GUcd"),O=n("6sah"),B=n("zmp8"),L=n("J9+s"),R=n("nPEg"),D=n("VyA+");class A extends s.a{constructor(){super(...arguments),this.storeTypes={renameInputStore:w.a},this.renderActionMenuPopup=()=>{const{device:e}=this.environment,{value:t,schema:n,property:o}=this.props,{renameInputStore:a}=this.stores,i=n[o];if(!i)return;if(!g.l(i))return;const s=i.options||[],l=s.find(e=>e.value===t);if(l){const n={key:"color",render:e=>r.a.createElement(T.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{id:"database.selectPropertyOptionEditMenu.colorsSection",defaultMessage:"Colors",description:"Menu section header for buttons that change the color of the focused select option"}),isTitleUppercase:!0,topBorder:!0})),items:B.r.map(e=>({key:e,render:t=>r.a.createElement(P.a,Object.assign({},t,{color:e,checkState:l.color===e})),action:()=>{this.handleSelectPropertyColorPickerChange(e)}}))},o={key:"delete",render:e=>r.a.createElement(T.a,Object.assign({},e)),items:[{key:"delete",render:e=>r.a.createElement(I.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{id:"database.selectPropertyOptionEditMenu.deleteLabel",defaultMessage:"Delete",description:"Label for button that deletes an existing option for the focused select option"}),svg:k.a.trash})),action:this.handleDelete}]};let i;return i=e.isMobile?{menuType:b.b.MenuType.Modal,title:r.a.createElement(v.a,{format:v.a.Format.Large,value:t,options:s,showRemoveButton:!1,isSingle:!0}),right:r.a.createElement(R.DoneMenuText,null),onClickRight:this.handleRenameInputSubmit}:{menuType:b.b.MenuType.Popup,width:200},r.a.createElement(b.b,Object.assign({},i),r.a.createElement(T.a,{isInput:!0},r.a.createElement(x.a,{focus:!e.isMobile||void 0,selectAll:!e.isMobile,value:a.state.inputValue,onChange:this.handleRenameInputChange,onSubmit:this.handleRenameInputSubmit,mobileEditLabel:r.a.createElement(L.FormattedMessage,{defaultMessage:"Rename",id:"database.editProperty.select.mobileLabel"})})),r.a.createElement(_.a,{type:_.a.Type.Vertical,disableKeyboard:!0,initialFocus:void 0,sections:[o,n]}))}},this.handleDelete=()=>{Object(C.showDialog)({showCancel:!0,keepFocus:!1,message:r.a.createElement(L.FormattedMessage,{id:"database.selectPropertyOptionEditMenu.deleteModal.prompt",defaultMessage:"Are you sure you want to remove this option?"}),items:[{label:r.a.createElement(L.FormattedMessage,{id:"database.selectPropertyOptionEditMenu.deleteModal.confirmButton",defaultMessage:"Remove"}),color:"red",onAccept:()=>{const{collectionId:e,id:t,schema:n,property:o,onChange:r,analyticsFrom:a}=this.props,i=n[o];i&&g.l(i)&&(r([{pointer:{table:h.a,id:e},command:"keyedObjectListRemove",path:["schema",o,"options"],args:{remove:{id:t}}}]),this.props.onCloseActionMenu(),M.Q(this.environment,{property_type:i.type,action:"select_delete_option",from:a}))}}]})},this.handleActionButtonClick=e=>{Object(S.d)({event:e,context:S.a.MenuListClick,callback:()=>this.props.onOpenActionMenu(this.props.value)})},this.handleRenameInputChange=e=>{const{renameInputStore:t}=this.stores,n=e.target.value.replace(/,/g,"");t.setState({...t.state,inputValue:n}),t.emit()},this.handleRenameInputSubmit=e=>{this.props.onCloseActionMenu(),this.performRename()},this.handleSelectPropertyColorPickerChange=e=>{const{id:t,collectionId:n,property:o,schema:r,onChange:a,analyticsFrom:i}=this.props,s=r[o];if(!s)return;if(!g.l(s))return;const l=(s.options||[]).find(e=>e.id===t);if(!l)return;const c={...l,color:e};a([{pointer:{table:h.a,id:n},command:"keyedObjectListUpdate",path:["schema",o,"options"],args:{value:c}}]),M.Q(this.environment,{property_type:s.type,action:"select_change_color",from:i})}}willMountOrUpdate(e){e.actionMenuOpen&&!this.props.actionMenuOpen&&this.stores.renameInputStore.setState({...this.stores.renameInputStore.state,inputValue:this.props.value})}renderComponent(){const{device:e}=this.environment,{value:t,focused:n,locked:o,schema:a,property:s}=this.props,l=a[s];if(!l)return;if(!g.l(l))return;const c=l.options||[];return r.a.createElement(D.a,{capture:this.props.actionMenuOpen,onEnter:i.a.identity},r.a.createElement(E.a,Object.assign({},this.props,{title:r.a.createElement(v.a,{format:this.environment.device.isMobile?v.a.Format.Large:v.a.Format.Medium,value:t,options:c,showRemoveButton:!1,isSingle:!0}),desktopTitleStyle:{marginRight:6},isTokenTitle:!0,right:!o&&r.a.createElement(y.c,{popupType:e.isMobile?y.c.PopupType.SlideUp:y.c.PopupType.Popup,open:this.props.actionMenuOpen,onDismiss:this.handleRenameInputSubmit,origin:r.a.createElement(O.a,{onClick:this.handleActionButtonClick,isMobile:e.isMobile,style:{opacity:n||e.isMobile?1:0}}),render:this.renderActionMenuPopup})})))}performRename(){const{id:e,collectionId:t,property:n,value:o,schema:a,onChange:i}=this.props,{renameInputStore:s}=this.stores,l=s.state.inputValue,c=a[n];if(!c)return;if(!g.l(c))return;const d=c.options||[],u=d.find(t=>t.id!==e&&t.value===l);if(o!==l)if(l)if(u)C.showErrorMessage(r.a.createElement(L.FormattedMessage,{defaultMessage:"This select option already exists.",id:"database.editProperty.errorDialog.duplicateSelectValue.message"}));else{const o=d.find(t=>t.id===e);if(!o)return;const r={...o,value:l};i([{pointer:{table:h.a,id:t},command:"keyedObjectListUpdate",path:["schema",n,"options"],args:{value:r}}])}else C.showErrorMessage(r.a.createElement(L.FormattedMessage,{defaultMessage:"Please type a value.",id:"database.editProperty.errorDialog.missingSelectValue.message"}))}}A.contextTypes=b.c;var j=A,F=n("g90h"),V=n("g8hj"),N=n("wF3w"),U=n("W3at"),z=n("zTdN"),X=n("LEzx");class Y extends X.a{getInitialState(){return{inputValue:"",openPropertyActionMenu:void 0}}}var H=Y,q=n("RQ1t"),W=n("sUh3");class G extends s.a{constructor(){super(...arguments),this.storeTypes={store:H,menuListStore:q.a},this.handleSelectPropertyMenuItemChange=e=>{const{property:t,schema:n}=this.props,o=n[t];if(!o)return;if(!g.l(o))return;const r=o.options||[],a=[...r],s={},l=this.props.value.filter(e=>{const t=r.find(t=>t.value===e);return!t||a.some(e=>e.id===t.id)});s.operations=e,i.a.isEqual(l,this.props.value)||(s.value=l),this.props.onChange(s)},this.handleCloseActionMenu=()=>{this.stores.store.setState({...this.stores.store.state,openPropertyActionMenu:void 0})},this.handleOpenActionMenu=e=>{this.stores.store.setState({...this.stores.store.state,openPropertyActionMenu:e})},this.handleTokenInputChange=e=>{this.stores.store.setState({...this.stores.store.state,inputValue:""});const{collectionId:t,allowMultiple:n,property:o,schema:r,onChange:a,analyticsFrom:s}=this.props,l=r[o];if(!l)return;if(!g.l(l))return;const c=l.options||[];let d;d=n?e:e.length>0?[e[e.length-1]]:[];const u=i.a.uniq(i.a.compact(d.map(e=>{const t=c.find(t=>t.value===e);if(t)return t.value}))),p=d.find(e=>!c.find(t=>t.value===e)),m={value:u.concat(i.a.compact([p]))};if(p){const e={id:Object(F.b)(),value:p,color:this.createSelectColor},n={pointer:{table:h.a,id:t},command:"keyedObjectListAfter",path:["schema",o,"options"],args:{value:e}};m.operations=[n],this.setRandomCreateSelectColor(),M.Q(this.environment,{property_type:l.type,action:"select_add_option",from:s})}a(m)},this.handleDraggableListDrop=e=>{const{collectionId:t,property:n,schema:o,onChange:r}=this.props,a=o[n];if(!a)return;if(!g.l(a))return;const i=a.options||[],s=i.map(e=>e.value),{beforeOps:l}=Object(W.a)(s,e),c=[];for(const[d,u]of Object.entries(l)){const e=i.find(e=>e.value===d);if(e)if(u){const o=i.find(e=>e.value===u);if(o){const r={pointer:{table:h.a,id:t},command:"keyedObjectListBefore",path:["schema",n,"options"],args:{value:e,before:{id:o.id}}};c.push(r)}}else{const o={pointer:{table:h.a,id:t},command:"keyedObjectListAfter",path:["schema",n,"options"],args:{value:e}};c.push(o)}}c.length>0&&r({operations:c}),this.stores.menuListStore.reset()}}willMount(e){if(this.setRandomCreateSelectColor(),e.insertChar){const t=e.insertChar;this.stores.store.setState({...this.stores.store.state,inputValue:t})}}renderNoOptionsFound(){return r.a.createElement(L.FormattedMessage,{id:"database.selectPropertyEditMenu.noResults",defaultMessage:"No options found"})}renderSelectOnlyPrompt(){return r.a.createElement(L.FormattedMessage,{id:"database.selectPropertyEditMenu.selectOnlyPrompt",defaultMessage:"Select an option"})}renderSelectOrCreatePrompt(){return r.a.createElement(L.FormattedMessage,{id:"database.selectPropertyEditMenu.selectOrCreatePrompt",defaultMessage:"Select an option or create one"})}renderComponent(){const{device:e}=this.environment,{disabled:t,locked:n}=this.props,o=this.props.schema[this.props.property];if(!o)return;if(!g.l(o))return;const a=o.options||[],i=this.renderCurrentTokens(a),s=this.getTokenResults(this.stores.store.state.inputValue,a),l=0===s.length,c=r.a.createElement(U.a,{focus:e.isMobile?void 0:!this.stores.store.state.openPropertyActionMenu,focusAfterAnimation:!0,format:U.a.Format.Select,tokens:i,placeholder:this.props.intl.formatMessage({id:"database.selectPropertyEditMenu.searchPlaceholder",defaultMessage:"Search for an option..."}),onRemoveLastToken:()=>{this.handleTokenInputChange(this.props.value.slice(0,this.props.value.length-1))},value:this.stores.store.state.inputValue,disabled:t,onChange:e=>this.stores.store.setState({...this.stores.store.state,inputValue:e.target.value}),dontShowBorderBottom:e.isAndroid});let d;return d=e.isMobile?{menuType:b.b.MenuType.Modal,title:o.name,right:r.a.createElement(R.DoneMenuText,null),onClickRight:this.props.onDismiss,header:c}:{menuType:b.b.MenuType.Popup,header:c,tokenInputHeader:!0},t?r.a.createElement(b.b,Object.assign({},d)):r.a.createElement(b.b,Object.assign({},d),l?r.a.createElement(T.a,{title:n?this.renderNoOptionsFound():this.renderSelectOrCreatePrompt()},e.isReactNative&&r.a.createElement(z.a,{title:this.renderNoOptionsFound()})):r.a.createElement(_.a,{type:_.a.Type.Vertical,initialFocus:this.stores.store.state.inputValue.length>0?0:void 0,sections:[{key:0,render:e=>this.renderMenuListSection(e,s),items:this.getSelectMenuListItems(s,a)}],onAccept:(e,t,n)=>{this.props.onAccept(n)},store:this.stores.menuListStore}))}renderMenuListSection(e,t){const{device:n}=this.environment,{locked:o}=this.props;return n.isMobile?r.a.createElement(T.a,Object.assign({},e,{title:o?this.renderSelectOnlyPrompt():this.renderSelectOrCreatePrompt()})):o?r.a.createElement(T.a,Object.assign({},e,{title:this.renderSelectOnlyPrompt(),children:e.children})):r.a.createElement(T.a,Object.assign({},e,{title:this.renderSelectOrCreatePrompt(),children:r.a.createElement(V.b,{direction:V.a.Vertical,keys:t,renderKey:n=>e.children[t.indexOf(n)],onDrop:this.handleDraggableListDrop})}))}renderFoundSelectPropertyMenuItem(e,t){const{device:n}=this.environment;return r.a.createElement(j,Object.assign({},e,{id:t.id,value:t.value,showDragHandle:!n.isMobile&&!this.props.locked,locked:this.props.locked,property:this.props.property,schema:this.props.schema,analyticsFrom:this.props.analyticsFrom,collectionId:this.props.collectionId,onChange:this.handleSelectPropertyMenuItemChange,actionMenuOpen:this.stores.store.state.openPropertyActionMenu===t.value,onCloseActionMenu:this.handleCloseActionMenu,onOpenActionMenu:this.handleOpenActionMenu}))}renderCreateSelectPropertyMenuItem(e,t,n){const{device:o}=this.environment;return r.a.createElement(E.a,Object.assign({},e,{title:r.a.createElement("div",{style:{display:"flex",minWidth:0}},r.a.createElement("div",{style:{marginRight:6,lineHeight:1.3}},r.a.createElement(L.FormattedMessage,{id:"database.selectPropertyEditMenu.createLabel",defaultMessage:"Create",description:"Label that appears beside the button to create a new option for select property in a database"})),r.a.createElement(v.a,{value:n,options:[t],showRemoveButton:!1,isSingle:!0,format:o.isMobile?v.a.Format.Large:v.a.Format.Medium})),isTokenTitle:!0}))}getSelectMenuListItems(e,t){return e.map(e=>{const n=t.find(t=>t.value===e);return{key:e,render:t=>{if(n)return this.renderFoundSelectPropertyMenuItem(t,n);{const n={id:Object(N.a)(),value:e,color:this.createSelectColor};return this.renderCreateSelectPropertyMenuItem(t,n,e)}},action:()=>{this.handleTokenInputChange([...this.props.value,e])}}})}renderCurrentToken(e,t,n){const{device:o}=this.environment,{disabled:a}=this.props;return r.a.createElement(v.a,{key:e.id,value:t,options:n,showRemoveButton:!a,isSingle:!1,format:o.isMobile?v.a.Format.Large:v.a.Format.Medium,shouldShrink:!0,onClickRemove:()=>{this.handleTokenInputChange(this.props.value.filter(e=>e!==t))}})}renderCurrentTokens(e){return i.a.compact(this.props.value.map(t=>{const n=e.find(e=>e.value===t);if(n)return this.renderCurrentToken(n,t,e)}))}getTokenResults(e,t){const n=t.map(e=>e.value);let o;if(e){o=f.a.filter(e,n).map(e=>e.original),!t.find(t=>t.value===e)&&e.trim().length>0&&!this.props.locked&&o.push(e.trim().replace(/,/g,""))}else o=n;return o}setRandomCreateSelectColor(){const{schema:e,property:t}=this.props,n=e[t];if(!n)return;if(!g.l(n))return;const o=n.options||[],r=Object(B.n)(o);this.createSelectColor=r}}var Z=Object(L.injectIntl)(G),K=n("hU3F"),J=n("Pl3d"),Q=n("f0kS"),$=n("4HCU"),ee=n("5/h/"),te=n("V1wX"),ne=n("G+Ai"),oe=n("LNlx"),re=n("JMnu"),ae=n("7ab4");class ie extends s.a{constructor(){super(...arguments),this.inputValue=new K.a("")}willMount(e){super.willMount(e),e.insertChar&&this.inputValue.set(e.insertChar)}renderComponent(){const{device:e}=this.environment,{disabled:t,intl:n}=this.props,o=this.props.value.map(n=>{const o=Object(te.a)({pointer:n,getRecordValue:this.props.parentStore.getRecordValue});if(o.value)return r.a.createElement(re.c,{key:n.id,actor:o,format:e.isMobile?re.c.Format.Large:re.c.Format.Medium,showRemoveButton:!t,onClickRemove:()=>{const e=this.props.value.filter(e=>e.id!==n.id);this.props.onChange({value:e})},shouldShrink:!0,isSingle:!1})}),a={request:{query:this.inputValue.get(),actors:this.props.value},performRequest:async({query:e,actors:t})=>{const{users:n,bots:o}=await $.i({environment:this.environment,query:e,membersOnly:!1});return{users:n.filter(e=>!t.some(t=>t.id===e.id)).slice(0,20),bots:o.filter(e=>!t.some(t=>t.id===e.id)).slice(0,20)}},render:(e,t,o)=>{if(e)return r.a.createElement(T.a,{title:n.formatMessage(ae.b.selectPerson),loading:!o},r.a.createElement(z.a,{title:r.a.createElement(L.FormattedMessage,{defaultMessage:"Something went wrong.",id:"database.personPropertyMenu.searchErrorMessage"})}));if(t&&0===t.users.length&&0===t.bots.length)return r.a.createElement(T.a,{title:n.formatMessage(ae.b.selectPerson),loading:!o},r.a.createElement(z.a,{title:r.a.createElement(L.FormattedMessage,{defaultMessage:"No results",id:"database.personPropertyMenu.noSearchResults.message"})}));const a=i.a.compact((t&&t.users||[]).map(e=>({key:e.id,render:t=>r.a.createElement(Q.a,Object.assign({},t,{user:e})),action:()=>{this.props.onChange({value:[...this.props.value,{table:ee.a,id:e.id}]}),this.inputValue.set("")}}))),s=i.a.compact((t&&t.bots||[]).map(e=>({key:e.id,render:t=>r.a.createElement(oe.a,Object.assign({},t,{bot:e})),action:()=>{this.props.onChange({value:[...this.props.value,{table:ne.a,id:e.id}]}),this.inputValue.set("")}}))),l=[];return a.length>0&&l.push({key:"person section",render:e=>r.a.createElement(T.a,Object.assign({},e,{title:n.formatMessage(ae.b.selectPerson),loading:!o})),items:a}),s.length>0&&l.push({key:"bot section",render:e=>r.a.createElement(T.a,Object.assign({},e,{title:"Select a bot",loading:!o})),items:s}),r.a.createElement(_.a,{type:_.a.Type.Vertical,initialFocus:this.inputValue.get().length>0?0:void 0,sections:l})}},s=this.props.schema[this.props.property];if(!s)return;const l=r.a.createElement(U.a,{focus:!e.isMobile||void 0,focusAfterAnimation:!0,format:U.a.Format.Person,tokens:o,placeholder:n.formatMessage(ae.b.searchForPerson),disabled:t,onRemoveLastToken:()=>{this.props.onChange({value:this.props.value.slice(0,this.props.value.length-1)})},value:this.inputValue.get(),onChange:e=>this.inputValue.set(e.target.value),dontShowBorderBottom:e.isAndroid});let c;return c=e.isMobile?{menuType:b.b.MenuType.Modal,title:s.name,right:r.a.createElement(R.DoneMenuText,null),onClickRight:this.props.onDismiss,header:l}:{menuType:b.b.MenuType.Popup,header:l,tokenInputHeader:!0,maxHeight:333},t?r.a.createElement(b.b,Object.assign({},c)):r.a.createElement(b.b,Object.assign({},c),r.a.createElement(J.a,Object.assign({},a)))}}var se=Object(L.injectIntl)(ie),le=n("CSYU"),ce=n("IdSf");class de extends X.a{getInitialState(){return{searchQuery:"",searchLimit:de.limitIncrement,searchPopupOpen:!1}}}de.limitIncrement=20,de.incrementScrollOffset=200;var ue=de,pe=n("bjn0"),he=n("wpmu"),me=n("Wvka"),fe=n("A9TN"),ge=n("OxuQ"),be=n("IdIf"),ve=n("yNyh"),ye=n("Z1H8"),Se=n("H4VD"),we=n("Oy36"),ke=n("xqms"),Ce=n("xEkU"),Me=n.n(Ce),Ee=n("i8i4"),_e=n.n(Ee),Te=n("AlLG"),xe=n("0lqH"),Ie=n("sbdd"),Pe=n("MeYt");class Oe extends s.a{renderComponent(){const{device:e}=this.environment;return e.isMobile?this.renderMobileMenuItem():this.renderDesktopMenuItem()}renderMobileMenuItem(){const{disabled:e,store:t,isSelected:n}=this.props;return r.a.createElement(Ie.a,Object.assign({},this.props,{store:t,hidePath:!0,right:!e&&n?this.renderMobileRemoveButton():void 0}))}renderDesktopMenuItem(){const{store:e,focused:t,onClick:n,onMouseEnter:o,showProperties:a,schema:i,blockPropertyValueOverlayStore:s}=this.props;return r.a.createElement(Pe.a,{style:this.getDesktopStyle(),hovered:t,onClick:n,onMouseEnter:o},a.map(t=>{if(!i[t])return;const n="title"===t?nt.titleColumnWidth:nt.columnWidth;return r.a.createElement("div",{key:t,style:{pointerEvents:"none"}},r.a.createElement(xe.b,{store:e,disabled:!0,property:t,schema:i,format:xe.a.Table,width:n,tableWrap:!1,forceMouseEntered:!1,disableTableBorderRight:!0,blockPropertyValueOverlayStore:s,locked:!1}))}))}renderMobileRemoveButton(){return r.a.createElement(Pe.a,{mobileFeedback:!0,onClick:this.props.onClickRemove,style:{padding:12,marginRight:-12}},k.a.close({width:20,height:20}))}getDesktopStyle(){return{display:"inline-flex",alignItems:"center",height:nt.rowHeight-1,minWidth:"100%",paddingLeft:32,boxShadow:"0 1px 0 ".concat(this.theme.regularDividerColor),marginBottom:1,cursor:"pointer"}}}var Be=Oe,Le=n("8fuX"),Re=n("bFnu"),De=n("LeVO");class Ae extends s.a{constructor(){super(...arguments),this.storeTypes={mouseStore:Re.a},this.handleMouseMove=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})}}renderComponent(){return r.a.createElement("div",{style:Ae.wrapStyle,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},this.renderButton())}renderButton(){const{isSelected:e,isFocused:t,onClick:n}=this.props,a=this.stores.mouseStore.state.mouseEntered,i=t||a;return e?r.a.createElement("div",{onClick:n,style:this.getFloatingButtonStyle(a,!0)},k.a.plus({width:14,transform:"rotate(45deg)"})):i?r.a.createElement(De.a,{renderTooltip:()=>r.a.createElement(o.Fragment,null,r.a.createElement(L.FormattedMessage,{defaultMessage:"Add page to relation",id:"database.relationPropertyMenu.tooltip.addPage.message"}),r.a.createElement("br",null),r.a.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},r.a.createElement(L.FormattedMessage,{defaultMessage:"Enter",id:"database.relationPropertyMenu.tooltip.addPage.prompt"}))),render:e=>r.a.createElement("div",Object.assign({onClick:n,style:this.getFloatingButtonStyle(a,!1)},e),k.a.plus({width:14}))}):void 0}getFloatingButtonStyle(e,t){return{display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20,borderRadius:20,marginLeft:10,cursor:"pointer",fill:B.g.white,transition:"opacity 200ms",opacity:e?.9:1,background:t?B.g.red:B.g.blue}}}Ae.wrapStyle={display:"flex",alignItems:"center",justifyContent:"flex-end",height:32};var je=Ae,Fe=n("wlCD"),Ve=n("KTXS"),Ne=n("cYwG"),Ue=n("0CAA"),ze=n("HRSx");class Xe extends s.a{constructor(){super(...arguments),this.tableRowsScroller=null,this.storeTypes={menuListStore:q.a,draggableListStore:ke.a},this.renderRowActionButton=(e,t)=>{const{menuListStore:n}=this.stores;if(e.type===Ye.SearchPage||e.type===Ye.SelectedPage){const{indexGlobal:o}=n.state.focus;return r.a.createElement(je,{isFocused:t===o,isSelected:e.type===Ye.SelectedPage,key:e.pageId,onClick:()=>{this.props.onClickActionButton(e)}})}},this.handleTableHeaderMount=e=>{this.tableHeaderEl=e||void 0},this.handleTableRowsScrollerMount=e=>{if(this.tableRowsScroller=e,this.tableRowsScroller){const e=_e.a.findDOMNode(this.tableRowsScroller);e&&(this.tableRowsScrollerEl=e,e.addEventListener("scroll",this.handleScroll))}else this.tableRowsScrollerEl&&this.tableRowsScrollerEl.removeEventListener("scroll",this.handleScroll)},this.handleScroll=()=>{this.scrollUpdateIsQueued||(this.scrollUpdateIsQueued=!0,Me()(()=>{if(this.tableRowsScrollerEl&&this.tableHeaderEl){const e=this.tableRowsScrollerEl.scrollLeft;this.tableHeaderEl.style.transform="translate3d(".concat(-e,"px, 0, 0)")}this.scrollUpdateIsQueued=!1}))},this.handleDraggableListDrop=e=>{const{onDrag:t}=this.props;t(e)},this.isDragging=this.createComputedStore(()=>this.stores.draggableListStore.state.isDragging)}renderComponent(){const{device:e}=this.environment;return e.isMobile?this.renderMobileResults():this.renderDesktopResults()}renderDesktopResults(){const{results:e,disabled:t,loading:n,shouldShowHelpButton:a,onScrollOffsetChange:i}=this.props,s=0===e.length;return r.a.createElement(o.Fragment,null,!s&&this.renderTableHeaderRow(),r.a.createElement(Le.b,{style:{...Xe.verticalScollerStyle,...s&&{marginTop:0}},type:Le.a.Y},r.a.createElement(Le.b,{type:Le.a.X,ref:this.handleTableRowsScrollerMount,style:this.getResultsAreaStyle()},s&&!n?this.renderEmptyState():this.renderRowsMenuList(e),n&&this.renderLoadingIndicator(),i&&r.a.createElement(Ne.a,{onChange:i})),!t&&this.renderRowActionButtons(e)),a&&r.a.createElement(T.a,{topBorder:!0,disableDesktopPadding:!0},r.a.createElement(Ve.a,{title:r.a.createElement(L.FormattedMessage,{id:"database.relationProperty.newRelation.helpCaption",defaultMessage:"Learn about relations and rollups"}),href:Object(Ue.a)("guides.relations"),analyticsFrom:"relation_menu"})))}renderMobileResults(){const{results:e,loading:t}=this.props,n=0===e.length;return r.a.createElement(o.Fragment,null,n&&!t?this.renderEmptyState():this.renderRowsMenuList(e),t&&this.renderLoadingIndicator())}renderTableHeaderRow(){const{showProperties:e,targetCollectionStore:t}=this.props,n=t.getSchema();return r.a.createElement("div",{style:this.getTableHeaderRowWrapStyle(),ref:this.handleTableHeaderMount},e.map(e=>{const t=n[e];if(!t)return;const o="title"===e?Xe.titleColumnWidth:Xe.columnWidth;return r.a.createElement(Te.a,{key:e,propertySchema:t,showIcon:!0,style:{width:o,color:this.theme.mediumTextColor,...xe.b.cellLeftPaddingStyle}})}))}renderRowsMenuList(e){const{canDrag:t}=this.props,n=e.map(e=>e.key);return r.a.createElement(_.a,{type:_.a.Type.Vertical,store:this.stores.menuListStore,initialFocus:0,sections:[{key:"results",render:e=>r.a.createElement(T.a,Object.assign({},e,{disableDesktopPadding:!0,children:t?r.a.createElement(V.b,{direction:V.a.Vertical,keys:n,renderKey:t=>e.children[n.indexOf(t)],onDrop:this.handleDraggableListDrop,store:this.stores.draggableListStore}):e.children})),items:e.map(e=>e.type===Ye.SearchPage||e.type===Ye.SelectedPage?this.renderRowMenuItem(e):this.renderCreateRowMenuItem(e))}]})}renderRowMenuItem(e){const{disabled:t,parentStore:n,blockPropertyValueOverlayStore:o,showProperties:a,targetCollectionStore:i,onAccept:s}=this.props,l=i.getSchema(),c=he.a.createChildStore(n,{table:ze.a,id:e.pageId});return{key:c.id,render:n=>r.a.createElement(Be,Object.assign({},n,{disabled:t,isSelected:e.type===Ye.SelectedPage,store:c,showProperties:a,schema:l,blockPropertyValueOverlayStore:o,onClickRemove:()=>this.props.onClickActionButton(e)})),action:t=>{const n=t.event.metaKey||t.event.ctrlKey;s(e,n)}}}renderCreateRowMenuItem(e){const{device:t}=this.environment,{onAccept:n,targetCollectionStore:o}=this.props;return{key:"create-row",render:(n,a)=>r.a.createElement(E.a,Object.assign({},n,{icon:k.a.plus({width:16,fill:this.theme.mediumIconColor,marginRight:4,marginLeft:-2}),style:this.getCreateNewRowStyle(),title:r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(L.FormattedMessage,{id:"database.relationProperty.newRelation.createNewPageLabel",defaultMessage:"<medium>Create a new page</medium> {pageName} <medium>in</medium> {databaseNameWithIcon}",values:{medium:(...e)=>r.a.createElement("span",{style:{color:this.theme.mediumTextColor}},e),pageName:e.name?r.a.createElement("span",null," ",e.name," "):r.a.createElement("span",null," "),databaseNameWithIcon:r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:Xe.recordTitleMargin}},r.a.createElement(we.a,{disabled:!0,icon:o.getIcon(),isEmptyPage:!1,size:t.isMobile?24:20}),r.a.createElement(ge.a,{store:o,style:{marginLeft:Xe.recordTitleMargin*(t.isRetina?.5:1)}}))}}))})),action:t=>{const o=t.event.metaKey||t.event.ctrlKey;n(e,o)}}}renderRowActionButtons(e){return r.a.createElement("div",{style:Xe.rowActionButtonsWrapStyle},!this.isDragging.state&&e.map(this.renderRowActionButton))}renderEmptyState(){const{device:e}=this.environment;if(!e.isMobile)return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:70,fontSize:14,color:this.theme.mediumTextColor}},r.a.createElement(L.FormattedMessage,{id:"database.relationProperty.newRelation.searchInitialState",defaultMessage:"Search to find and link pages"}))}renderLoadingIndicator(){return r.a.createElement("div",{style:{height:"100%",padding:Xe.rowHeight,display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Fe.a,{style:{margin:"0 auto"}}))}getResultsAreaStyle(){return{minHeight:"auto",paddingBottom:16}}getTableHeaderRowWrapStyle(){return{position:"absolute",display:"inline-flex",minWidth:"100%",height:Xe.rowHeight,zIndex:1,background:this.theme.popoverBackground,boxShadow:"\n\t\t\t\t0 1px 0 ".concat(this.theme.regularDividerColor,"\n\t\t\t"),paddingLeft:32}}getCreateNewRowStyle(){const{device:e}=this.environment;return{fontSize:e.isMobile?16:14,minHeight:e.isMobile?44:Xe.rowHeight}}}Xe.width=600,Xe.titleColumnWidth=300,Xe.columnWidth=150,Xe.rowHeight=32,Xe.recordTitleMargin=4,Xe.verticalScollerStyle={width:"100%",maxHeight:300,position:"relative",marginTop:Xe.rowHeight},Xe.rowActionButtonsWrapStyle={position:"absolute",top:0,left:0};var Ye,He=Xe,qe=n("QcDD"),We=n("w5u6"),Ge=n("Sb6f"),Ze=n("7KuZ"),Ke=n("922z"),Je=n("szb2"),Qe=n("vl8/"),$e=n("+NSf");!function(e){e[e.SelectedPage=0]="SelectedPage",e[e.SearchPage=1]="SearchPage",e[e.NewPage=2]="NewPage"}(Ye||(Ye={}));const et=Object(L.defineMessages)({inputPlaceholder:{defaultMessage:"Search for a page, or create a new one…",id:"relationPropertyMenu.searchPlaceholder",description:"Placeholder when searching for a page to relate to for this relation value."}});class tt extends s.a{constructor(){super(...arguments),this.storeTypes={store:ue,requestStore:le.a,menuListStore:q.a,draggableListStore:ke.a},this.handleSearchInputChange=e=>{const t=e.target.value;this.stores.store.setState({searchQuery:t,searchPopupOpen:!!t,searchLimit:ue.limitIncrement})},this.handleDesktopSearchInputClick=()=>{const e=this.stores.store.state;this.stores.store.setState({searchQuery:e.searchQuery,searchPopupOpen:!0,searchLimit:ue.limitIncrement})},this.handleInputKeyDown=e=>{"Escape"===e.key&&this.resetInputState()},this.handleSearchClearButtonClick=()=>{this.resetInputState()},this.handleDesktopTargetCollectionClick=()=>{M.Ld(this.environment,{from:this.props.analyticsFrom})},this.handleMobileTargetCollectionClick=()=>{const e=this.getRenderState();e&&(Se.navigate({environment:this.environment,url:e.targetParentUrl}),M.Ld(this.environment,{from:this.props.analyticsFrom}))},this.handleMobileSearchInputClick=()=>{const e=this.stores.store.state;this.stores.store.setState({searchQuery:e.searchQuery,searchPopupOpen:!0,searchLimit:ue.limitIncrement})},this.handleValueRelationPropertyMenuResultsAccept=(e,t)=>{const{currentBlockStore:n}=qe.default.state;if(n&&e.type===Ye.SelectedPage){let o;if(t){const t=he.a.createChildStore(n,{table:ze.a,id:e.pageId});o=Object(me.a)({pageId:e.pageId,pageValue:t.getValue(),baseUrl:fe.default.baseURL})}else o=Object(me.a)({pageId:n.id,pageValue:n.getValue(),baseUrl:fe.default.baseURL,peekViewBlockId:e.pageId});Se.navigate({environment:this.environment,url:o,metaClick:t}),M.Md(this.environment,{from:this.props.analyticsFrom,meta_click:t})}},this.handleSearchRelationPropertyMenuResultsAccept=e=>{if(this.props.disabled)return;const{value:t,onChange:n}=this.props,{currentBlockStore:o}=qe.default.state;if(o)if(e.type===Ye.SearchPage){n({value:[...t,e.pageId]}),this.resetInputState(),M.Jd(this.environment,{from:this.props.analyticsFrom})}else if(e.type===Ye.NewPage){const o=Object(F.b)(),r=[...t,o];n({newPageId:o,newPageName:e.name,value:r}),this.resetInputState(),M.Kd(this.environment,{from:this.props.analyticsFrom})}},this.handleClickActionButton=e=>{const{value:t,onChange:n}=this.props,{currentBlockStore:o}=qe.default.state;if(o)if(e.type===Ye.SearchPage){n({value:[...t,e.pageId]}),M.Jd(this.environment,{from:this.props.analyticsFrom})}else if(e.type===Ye.SelectedPage){n({value:t.filter(t=>t!==e.pageId)}),M.Nd(this.environment,{from:this.props.analyticsFrom})}},this.handleRelationPropertyMenuResultsDrag=e=>{this.props.onChange({value:e}),M.Od(this.environment,{from:this.props.analyticsFrom})},this.handleMobileSearchMenuClickRight=()=>{this.resetInputState()},this.handleSearchScrollOffsetChange=e=>{const{store:t,requestStore:n}=this.stores,{loading:o,result:r}=n.state;e<ue.incrementScrollOffset&&r&&!o&&r.results.length>=t.state.searchLimit&&t.setState({...t.state,searchLimit:t.state.searchLimit+ue.limitIncrement})},this.performSearchRequest=async e=>{const{value:t,disabled:n}=this.props,o={results:[],query:e.query},r=this.getRenderState();if(!r)return o;const{currentSpaceStore:a}=qe.default.state;if(!a)return o;const{targetCollectionValue:i}=r,{results:s}=await $.h({environment:this.environment,query:e.query,parentId:i.id,limit:e.limit,spaceId:a.id,excludeTemplates:!0,source:"relation_menu"}),l=s.map(e=>{if(t.includes(e)){return{key:e,type:Ye.SelectedPage,pageId:e}}return{key:e,type:Ye.SearchPage,pageId:e}});if(e&&!n){const t={key:e.query,type:Ye.NewPage,name:e.query};l.push(t)}return{results:l,query:e.query}},this.getRecordValue=Ke.c.fromPlainFunctionUnsafe(e=>e.table===ze.a?he.a.createChildStore(this.props.blockStore,e).getValue():void 0)}didMount(){super.didMount(),We.default.afterNextFlush(()=>{We.default.afterNextFlush(()=>{const e=this.getRenderState();if(e){0===this.getValueResults(e).length&&this.stores.store.setState({searchPopupOpen:!0,searchQuery:"",searchLimit:ue.limitIncrement})}})})}renderComponent(){const{device:e}=this.environment,t=this.getRenderState();if(t)return r.a.createElement(ye.a,{capture:!0,allowMenuList:!0,allowEsc:!0,allowUndo:!0,allowTabUntab:!0,render:()=>e.isMobile?this.renderMobileMenu(t):this.renderDesktopMenu(t)})}renderDesktopMenu(e){const{device:t}=this.environment,{searchQuery:n,searchPopupOpen:o}=this.stores.store.state,{property:a,schema:i,blockStore:s,blockPropertyValueOverlayStore:l,disabled:c}=this.props,{targetParentUrl:d,showProperties:u,targetCollectionStore:p}=e,h=this.getValueResults(e);let m=!0;return Je.c.state.open&&Je.c.state.target!==this.props.blockStore&&(m=!1),r.a.createElement(b.b,{menuType:b.b.MenuType.Popup},r.a.createElement(y.a,{popupType:y.b.Popup,open:o,disableMouseCapture:!0,style:{width:tt.width+40,overflow:"hidden",maxHeight:"70vh"},origin:r.a.createElement("div",{style:this.getHeaderWrapStyle()},r.a.createElement(ve.b,{style:tt.searchInputStyle,value:n,placeholder:Qe.default.formatMessage(et.inputPlaceholder),forceShowClearButton:Boolean(n||o),focus:m,onChange:this.handleSearchInputChange,onClearButtonClick:this.handleSearchClearButtonClick,onClick:this.handleDesktopSearchInputClick,onKeyDown:this.handleInputKeyDown,format:ve.a.Transparent}),r.a.createElement("div",{style:tt.targetDatabaseWrapStyle},r.a.createElement(L.FormattedMessage,{id:"database.relationProperty.newRelation.targetDatabase",defaultMessage:"<regular>In</regular> {databaseWithIcon}",description:"Title for menu that enables users to search in a database. The word 'in' appears as regular text, and the database appears as clickable page link. This message indicates what database is being searched, for example: 'In [🎒Tasks]'",values:{regular:(...e)=>r.a.createElement("span",{style:{color:this.theme.mediumTextColor,whiteSpace:"nowrap",marginLeft:4}},e),databaseWithIcon:r.a.createElement(ce.a,{href:d,style:{marginLeft:tt.recordTitleMargin},innerStyle:{display:"flex"},onClick:this.handleDesktopTargetCollectionClick},r.a.createElement(we.a,{disabled:!0,icon:p.getIcon(),isEmptyPage:!1,size:20}),r.a.createElement(ge.a,{store:p,underline:!0,style:{...this.getDesktopRecordTitleStyle(),marginLeft:tt.recordTitleMargin*(t.isRetina?.5:1)}}))}}))),render:()=>this.renderSearchResults(e)}),r.a.createElement(He,{targetCollectionStore:p,showProperties:u,results:h,property:a,schema:i,parentStore:s,disabled:c,loading:!1,canDrag:!c&&!t.isMobile,blockPropertyValueOverlayStore:l,onAccept:this.handleValueRelationPropertyMenuResultsAccept,onClickActionButton:this.handleClickActionButton,onDrag:this.handleRelationPropertyMenuResultsDrag,shouldShowHelpButton:!0}))}renderMobileMenu(e){const{device:t}=this.environment,{searchPopupOpen:n}=this.stores.store.state,{property:o,schema:a,blockStore:i,blockPropertyValueOverlayStore:s,disabled:l,onDismiss:c}=this.props,{showProperties:d,targetCollectionStore:u}=e,p=this.getValueResults(e);return r.a.createElement(b.b,{menuType:b.b.MenuType.Modal,title:e.propertySchema.name,right:r.a.createElement(L.FormattedMessage,{defaultMessage:"Done",id:"relationPropertyMenu.mobileMenuDone.button"}),onClickRight:c},r.a.createElement(T.a,{disableMobilePadding:!0},r.a.createElement(E.a,{focused:!1,title:r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(L.FormattedMessage,{id:"database.relationProperty.newRelation.targetDatabase",defaultMessage:"<regular>In</regular> {databaseWithIcon}",description:"Title for menu that enables users to search in a database. The word 'in' appears as regular text, and the database appears as clickable page link. This message indicates what database is being searched, for example: 'In [🎒Tasks]'",values:{regular:(...e)=>e,databaseWithIcon:r.a.createElement("div",{style:{display:"flex",marginLeft:2*tt.recordTitleMargin}},r.a.createElement(we.a,{disabled:!0,icon:u.getIcon(),isEmptyPage:!1,size:20}),r.a.createElement(ge.a,{store:u,underline:!0,style:{marginLeft:tt.recordTitleMargin}}))}})),showExtensionArrow:!1,onClick:this.handleMobileTargetCollectionClick})),r.a.createElement(T.a,{topBorder:!0,disableMobilePadding:!1},r.a.createElement(y.a,{popupType:y.b.SlideUp,open:n,origin:r.a.createElement(E.a,{focused:!1,title:r.a.createElement("span",{style:{display:"flex",alignItems:"center"}},k.a.plus({marginRight:8,width:t.isMobile?16:14,height:t.isMobile?16:14}),r.a.createElement(L.FormattedMessage,{defaultMessage:"Add a page",id:"relationPropertyMenu.addAPage.button"})),onClick:this.handleMobileSearchInputClick,style:{color:this.theme.mediumTextColor}}),render:()=>this.renderSearchResults(e)})),r.a.createElement(He,{targetCollectionStore:u,showProperties:d,results:p,property:o,schema:a,parentStore:i,disabled:l,loading:!1,canDrag:!l&&!t.isMobile,blockPropertyValueOverlayStore:s,onAccept:this.handleValueRelationPropertyMenuResultsAccept,onClickActionButton:this.handleClickActionButton,onDrag:this.handleRelationPropertyMenuResultsDrag,shouldShowHelpButton:!0}))}renderSearchResults(e){const{device:t}=this.environment,{value:n,property:o,schema:a,blockStore:i,blockPropertyValueOverlayStore:s,disabled:l}=this.props,{requestStore:c}=this.stores,{showProperties:d,targetCollectionStore:u}=e,{searchQuery:p,searchLimit:h}=this.stores.store.state;let m=$e.default.createMetric("rum.relation_search_query");const f={request:{query:p,limit:h},debounce:$.b,performRequest:this.performSearchRequest,render:(e,c)=>{const h=!c,f=((c?c.results:c)||[]).map(e=>{if(e.type===Ye.SearchPage&&n.includes(e.pageId)){return{type:Ye.SelectedPage,key:e.key,pageId:e.pageId}}if(e.type!==Ye.SelectedPage||n.includes(e.pageId))return e;return{type:Ye.SearchPage,key:e.key,pageId:e.pageId}});!h&&""!==p&&m&&c&&c.query===p&&($e.default.emit(this.environment,m),m=void 0);const g=r.a.createElement(He,{targetCollectionStore:u,showProperties:d,results:f,property:o,schema:a,parentStore:i,disabled:l,loading:h,canDrag:!1,blockPropertyValueOverlayStore:s,onAccept:this.handleSearchRelationPropertyMenuResultsAccept,onClickActionButton:this.handleClickActionButton,onDrag:this.handleRelationPropertyMenuResultsDrag,shouldShowHelpButton:!1,onScrollOffsetChange:this.handleSearchScrollOffsetChange});return t.isMobile?r.a.createElement(b.b,{menuType:b.b.MenuType.Modal,title:r.a.createElement(L.FormattedMessage,{defaultMessage:"Relation",id:"relationPropertyMenu.mobileRelationMenu.title"}),left:this.renderMobileHelpButton(),right:r.a.createElement(L.FormattedMessage,{defaultMessage:"Done",id:"relationPropertyMenu.mobileDoneButton"}),header:r.a.createElement(x.a,{value:p,disabled:l,onChange:this.handleSearchInputChange,placeholder:Qe.default.formatMessage(et.inputPlaceholder),showClearButton:!0,focus:!t.isMobile||void 0,focusInitial:!0,style:{...t.isAndroid&&{borderBottom:"none"}}}),onClickRight:this.handleMobileSearchMenuClickRight},g):g}};return r.a.createElement(J.a,Object.assign({},f,{requestStore:c}))}renderMobileHelpButton(){return r.a.createElement(Ze.a,{href:Object(Ue.a)("guides.relations"),analyticsFrom:"relation_menu"})}getRenderState(){const{schema:e,property:t,blockStore:n}=this.props,o=e[t];if(!o||"relation"!==o.type||!o.collection_id)return;const r=pe.a.createChildStore(n,{table:h.a,id:o.collection_id}),a=r.getValue();if(!a)return;const i=he.a.createChildStore(r,{table:ze.a,id:a.parent_id}),s=g.e(a.schema),l=["title",...(be.i(r.getFormat(),s,void 0,[],be.a.Collection).collection_page_properties||[]).map(e=>e.property)],c=Object(me.a)({pageId:i.id,pageValue:i.getValue(),baseUrl:fe.default.baseURL});return{propertySchema:o,targetCollectionStore:r,targetCollectionValue:a,targetParentBlock:i,showProperties:l,targetCollectionSchema:s,targetParentUrl:c}}resetInputState(){this.stores.store.reset()}getValueResults(e){const{value:t}=this.props,{propertySchema:n}=e;return d.j({relationValue:t,propertySchema:n,getRecordValue:this.getRecordValue}).map(e=>({key:e,type:Ye.SelectedPage,pageId:e}))}getDesktopRecordTitleStyle(){return{fontWeight:Ge.a.fontWeight.semibold,fontSize:14}}getHeaderWrapStyle(){return{display:"flex",width:"100%",position:"relative",zIndex:2,padding:"6px 10px",fontSize:14,background:this.theme.inputBackground,boxShadow:"\n\t\t\t\t0 1px 0 ".concat(this.theme.darkDividerColor,"\n\t\t\t")}}}tt.width=800,tt.titleColumnWidth=300,tt.columnWidth=150,tt.rowHeight=32,tt.recordTitleMargin=4,tt.targetDatabaseWrapStyle={display:"flex",marginLeft:10,alignItems:"center"},tt.searchInputStyle={flexGrow:1};var nt=tt,ot=n("vX3W"),rt=n("F1uM"),at=n("T1kp"),it=n("i3uR"),st=n("1y3T"),lt=n("622O");class ct extends X.a{getInitialState(){return{open:!1}}}var dt=ct;class ut extends s.a{constructor(){super(...arguments),this.storeTypes={filePropertyMenuItemStore:dt},this.renderRenameMenu=()=>{const{device:e}=this.environment,t=this.stores.filePropertyMenuItemStore.state;if(!t.open)return;let n;return n=e.isMobile?{menuType:b.b.MenuType.ActionSheet}:{menuType:b.b.MenuType.Popup,width:380},r.a.createElement(b.b,Object.assign({},n),r.a.createElement("div",{style:this.getInputWrapStyle()},r.a.createElement(ve.b,{style:this.getInputStyle(),value:t.inputValue,placeholder:lt.f(this.props.url),onChange:this.handleRenameInputChange,onSubmit:this.handleCloseRename,focusInitial:!0,selectAll:!0})))},this.handleFullScreen=()=>{at.b({renderFullScreenNode:()=>r.a.createElement(st.a,{url:this.props.url,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:300,render:(e,t)=>r.a.createElement("img",{src:t,style:{maxHeight:"100%",maxWidth:"100%",margin:"0 auto",alignSelf:"center"}})}),fullScreenNodeRect:this.imageNode.getBoundingClientRect()})},this.handleRename=()=>{this.stores.filePropertyMenuItemStore.setState({open:!0,inputValue:this.props.name})},this.handleCloseRename=()=>{this.stores.filePropertyMenuItemStore.setState({open:!1})},this.handleRenameInputChange=e=>{const t=this.stores.filePropertyMenuItemStore.state;if(!t.open)return;const n=e.target.value;this.stores.filePropertyMenuItemStore.setState({...t,inputValue:n});const o=lt.d({title:n,source:this.props.url});this.props.onChange({url:this.props.url,name:o})},this.handleViewOriginal=()=>{const{url:e,name:t}=this.props;Se.openFileUrl(this.environment,{url:e,downloadName:t,permissionRecord:this.props.store.pointer})},this.handleDownload=()=>{const{url:e,name:t}=this.props;Se.downloadFileUrl(this.environment,{url:e,download:!0,downloadName:t,permissionRecord:this.props.store.pointer})},this.handleDelete=()=>{this.props.onDelete(this.props.url)}}renderComponent(){const{url:e}=this.props;return rt.h({url:e})?this.renderImage(e):this.renderFile()}renderImage(e){const{device:t}=this.environment,{disabled:n}=this.props;return r.a.createElement(E.a,{focused:!1,showDragHandle:!n&&!t.isMobile,style:{paddingTop:t.isMobile?12:8,paddingBottom:t.isMobile?12:8,alignItems:"flex-start"},title:r.a.createElement(st.a,{url:e,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:300,render:(e,t)=>r.a.createElement("div",{style:ut.innerStyle},r.a.createElement("img",{src:t,style:ut.imageStyle,onClick:this.handleFullScreen,ref:e=>this.imageNode=e}))}),right:this.renderActionMenu(!0),dontShrinkRight:!0})}renderFile(){const{device:e}=this.environment,{disabled:t}=this.props,{name:n}=this.props;return r.a.createElement(y.a,{open:this.stores.filePropertyMenuItemStore.state.open,popupType:e.isMobile?it.a.PopupType.SlideUp:it.a.PopupType.Popup,origin:r.a.createElement(E.a,{focused:!1,showDragHandle:!t&&!e.isMobile,onClick:this.handleViewOriginal,title:n,icon:r.a.createElement("div",{style:{width:e.isMobile?16:14}},k.a.file()),right:this.renderActionMenu(!1),dontShrinkRight:!0}),render:this.renderRenameMenu,onDismiss:this.handleCloseRename})}getActionMenuItems(e){const{device:t}=this.environment,{url:n,disabled:o}=this.props,a=[];return e&&a.push({key:"fullscreen",render:e=>r.a.createElement(E.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{defaultMessage:"Full screen",id:"database.actionMenu.fileProperty.fullscreen.title"})})),action:this.handleFullScreen}),(lt.j(n,fe.default.secureFileS3.url)||t.isNative)&&a.push({key:"download",render:e=>r.a.createElement(E.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{defaultMessage:"Download",id:"database.actionMenu.fileProperty.download.title"})})),action:this.handleDownload}),a.push({key:"original",render:e=>r.a.createElement(E.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{defaultMessage:"View original",id:"database.actionMenu.fileProperty.viewOriginal.title"})})),action:this.handleViewOriginal}),o||e||a.push({key:"rename",render:e=>r.a.createElement(E.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{defaultMessage:"Rename",id:"database.actionMenu.fileProperty.rename.title"})})),action:this.handleRename}),o||a.push({key:"delete",render:e=>r.a.createElement(E.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{defaultMessage:"Delete",id:"database.actionMenu.fileProperty.delete.title"})})),action:this.handleDelete}),a}renderActionMenu(e){const{device:t}=this.environment;return r.a.createElement(it.a,{popupType:t.isMobile?it.a.PopupType.SlideUp:it.a.PopupType.Popup,renderOrigin:e=>r.a.createElement(O.a,Object.assign({isMobile:t.isMobile},e)),render:n=>{let o;return o=t.isMobile?{menuType:b.b.MenuType.ActionSheet}:{menuType:b.b.MenuType.Popup,width:200},r.a.createElement(b.b,Object.assign({},o),r.a.createElement(_.a,{type:_.a.Type.Vertical,initialFocus:0,onAccept:n.close,sections:[{key:"section",render:e=>r.a.createElement(T.a,Object.assign({},e)),items:this.getActionMenuItems(e)}]}))}})}getInputWrapStyle(){return{display:"flex",alignItems:"center",color:this.theme.regularTextColor,fontSize:"13px",padding:"4px 8px"}}getInputStyle(){return{display:"flex",alignItems:"center",flexGrow:1,fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10,width:"100%",borderRadius:3,boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,cursor:"text",position:"relative"}}}ut.imageStyle={display:"block",maxWidth:"100%",maxHeight:180,cursor:"zoom-in"},ut.innerStyle={flex:"auto",overflow:"hidden"};var pt=ut,ht=n("YQvo"),mt=n("p+Y9"),ft=n("nObc"),gt=n("ZQ9l"),bt=n("fVGD");class vt extends s.a{renderComponent(){return r.a.createElement(gt.a,{title:r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Fe.a,{style:{marginTop:1,marginRight:6}}),r.a.createElement(bt.a,{percentage:this.props.progressPercent}))})}}var yt=vt,St=n("D8Ld");class wt extends s.a{constructor(){super(...arguments),this.storeTypes={fileUploadStore:ht.a},this.renderFile=e=>{const{device:t}=this.environment,{value:n,disabled:o}=this.props,a=n.find(t=>t.url===e);if(a){const e=a.url,n=a.name;return t.isMobile?r.a.createElement(T.a,{key:e},r.a.createElement(pt,{store:this.props.store,name:n,url:e,onDelete:this.handleFileDelete,onChange:this.handleFileChange,disabled:o})):r.a.createElement(pt,{store:this.props.store,name:n,url:e,onDelete:this.handleFileDelete,onChange:this.handleFileChange,key:e,disabled:o})}},this.handleAddFileMount=e=>{e&&(this.addFileButton=e)},this.handleAddFileClick=e=>{this.showMediaPicker()},this.handleDraggableDrop=e=>{const{onChange:t,value:n}=this.props;t({value:i.a.sortBy(n,t=>{const n=t.url;return n?e.indexOf(n):1/0})})},this.handleMediaPickerUploadStart=e=>{ot.a(),this.stores.fileUploadStore.setState({isLoading:!0,progressPercent:0}),this.uploadingFiles=[e]},this.handleMediaPickerUploadComplete=e=>{const{value:t,onChange:n}=this.props;if(!this.uploadingFiles)return;const o=this.uploadingFiles[0];o&&(n({value:[...t,{name:o.name||e,url:e}]}),this.stores.fileUploadStore.reset(),ot.a())},this.handleMediaPickerEmbedComplete=e=>{const{value:t,onChange:n}=this.props;n({value:[...t,{name:e,url:e}]}),this.stores.fileUploadStore.reset(),ot.a()},this.handleUploadFilesStart=e=>{this.stores.fileUploadStore.setState({isLoading:!0,progressPercent:0}),this.uploadingFiles=e},this.handleUploadFilesComplete=e=>{const{value:t,onChange:n}=this.props;this.uploadingFiles&&(n({value:[...this.uploadingFiles.map((t,n)=>{const o=e[n];return{name:t.name||o,url:o}}),...t]}),this.stores.fileUploadStore.reset())},this.handleUploadProgress=e=>{const{progressPercent:t}=e;this.stores.fileUploadStore.setState({...this.stores.fileUploadStore.state,progressPercent:t})},this.handleUploadError=()=>{this.stores.fileUploadStore.reset(),C.showErrorMessage(r.a.createElement(L.FormattedMessage,{id:"filePropertyMenu.uploadFileFailedError.message",defaultMessage:"Upload failed."}))},this.handleFileChange=e=>{const{value:t,onChange:n}=this.props;n({value:t.map(t=>t.url===e.url?{name:e.name,url:e.url}:t)})},this.handleFileDelete=e=>{const{value:t,onChange:n}=this.props;n({value:t.filter(t=>t.url!==e)})}}didMount(){const{device:e}=this.environment,{uploadFiles:t,store:n}=this.props;t?mt.f({environment:this.environment,files:t,bucket:"secure",record:n.pointer,onStart:this.handleUploadFilesStart,onProgress:this.handleUploadProgress,onComplete:this.handleUploadFilesComplete,onError:this.handleUploadError}):this.isEmpty()&&!e.isMobile&&this.showMediaPicker()}willUnmount(){ot.a()}renderComponent(){const{device:e}=this.environment,{disabled:t}=this.props,n=this.isEmpty(),{isLoading:o,progressPercent:a}=this.stores.fileUploadStore.state;let i;return i=e.isMobile?{menuType:b.b.MenuType.Modal,title:r.a.createElement(L.FormattedMessage,{defaultMessage:"File property",id:"database.fileProperty.mobileMenu.title"}),right:r.a.createElement(R.DoneMenuText,null),onClickRight:this.props.onDismiss}:{menuType:b.b.MenuType.Popup},r.a.createElement(St.a,{capture:!0,allowUndo:!0,allowEsc:!0,allowTabUntab:!0},r.a.createElement(b.b,Object.assign({},i),this.renderFiles(),r.a.createElement(T.a,{topBorder:!n&&!t,desktopStyle:{...n&&{paddingTop:3,paddingBottom:3}}},o&&r.a.createElement(yt,{progressPercent:a}),!o&&!t&&r.a.createElement(ft.a,{focused:!1,onClick:this.handleAddFileClick,title:r.a.createElement(L.FormattedMessage,{id:"database.fileProperty.focusedLabel",defaultMessage:"Add a file or image"}),ref:this.handleAddFileMount}))))}renderFiles(){const{device:e}=this.environment,{value:t,disabled:n}=this.props,a=i.a.compact(t.map(e=>e.url));return 0===a.length?void 0:e.isMobile||n?r.a.createElement(o.Fragment,null,a.map(this.renderFile)):r.a.createElement(T.a,null,r.a.createElement(V.b,{direction:V.a.Vertical,keys:a,renderKey:this.renderFile,onDrop:this.handleDraggableDrop}))}isEmpty(){const{value:e}=this.props;return 0===e.length}showMediaPicker(){const{store:e}=this.props,t=_e.a.findDOMNode(this.addFileButton);t&&t instanceof Element&&ot.b(this.environment,{originRect:t.getBoundingClientRect(),originGap:3,isSmallWidth:!0,showArrow:!0,title:"File",currentTab:"file",tabs:[{type:"file",fileUpload:!0,imageUpload:!1,videoUpload:!1,onUpload:t=>{mt.e({environment:this.environment,file:t,bucket:"secure",record:e.pointer,onStart:this.handleMediaPickerUploadStart,onProgress:this.handleUploadProgress,onComplete:this.handleMediaPickerUploadComplete,onError:this.handleUploadError})}},{type:"embed",onChange:this.handleMediaPickerEmbedComplete}]})}}var kt=wt,Ct=n("6BTz");class Mt extends s.a{constructor(){super(...arguments),this.storeTypes={inputStore:w.a},this.handleInputChange=e=>{const t=e.target.value;this.stores.inputStore.setState({...this.stores.inputStore.state,inputValue:t});let n=Ct.e(t);"percent"===this.props.format&&void 0!==n&&(n/=100),this.props.onChange(n)}}willMount(e){super.willMount(e);const{value:t,format:n,insertChar:o,intl:r}=e;o?this.stores.inputStore.setState({...this.stores.inputStore.state,inputValue:o}):this.stores.inputStore.setState({...this.stores.inputStore.state,inputValue:Ct.c(t,n,r)||""})}renderComponent(){const{disabled:e}=this.props,{isIOS:t}=this.environment.device;return r.a.createElement(D.a,{capture:!e,onDelete:i.a.identity,onSpace:i.a.identity,onBackspace:i.a.identity,onLeft:i.a.identity,onRight:i.a.identity,onUp:i.a.identity,onDown:i.a.identity,onSelectAll:i.a.identity,onRedo:i.a.identity,onUndo:i.a.identity,onCut:i.a.identity,onCopy:i.a.identity,onPaste:i.a.identity,onKeypress:i.a.identity},r.a.createElement(ve.b,{style:{...Wt.textStyle,display:"block"},value:this.stores.inputStore.state.inputValue,format:ve.b.Format.Transparent,onChange:this.handleInputChange,inputStyle:this.getInputStyle(),focus:!e,disabled:e,type:t?"number":"text"}))}getInputStyle(){const{isTable:e}=this.props;return{textAlign:e?"right":"left"}}}var Et=Object(L.injectIntl)(Mt),_t=n("MBf9"),Tt=n("cBa6"),xt=n("udrG"),It=n("nFzZ");class Pt extends s.a{constructor(){super(...arguments),this.storeTypes={inputStore:w.a},this.handleInputChange=e=>{const{onChange:t}=this.props,n=e.target.value;this.stores.inputStore.setState({...this.stores.inputStore.state,inputValue:n}),t(n)}}willMount(e){super.willMount(e);const{value:t}=e;this.stores.inputStore.setState({...this.stores.inputStore.state,inputValue:t||""})}renderComponent(){const{disabled:e}=this.props;return r.a.createElement(D.a,{capture:!e,onDelete:i.a.identity,onSpace:i.a.identity,onBackspace:i.a.identity,onLeft:i.a.identity,onRight:i.a.identity,onUp:i.a.identity,onDown:i.a.identity,onSelectAll:i.a.identity,onRedo:i.a.identity,onUndo:i.a.identity,onCut:i.a.identity,onCopy:i.a.identity,onPaste:i.a.identity,onKeypress:i.a.identity},r.a.createElement(ve.b,{type:this.props.inputType,style:{...Wt.textStyle,display:"block"},value:this.stores.inputStore.state.inputValue,format:ve.b.Format.Transparent,onChange:this.handleInputChange,focus:!e,disabled:e}))}}var Ot=Pt,Bt=n("uSCg"),Lt=n("g4rC"),Rt=n("T1td"),Dt=n("Ijt+"),At=n("QkuB"),jt=n("7bRZ");class Ft extends s.a{constructor(){super(...arguments),this.storeTypes={relationButtonPopupStore:Lt.a,targetPropertyButtonPopupStore:Lt.a,aggregationButtonPopupStore:Lt.a},this.renderRelationSelect=e=>r.a.createElement(Rt.a,{schema:this.props.schema,isRelationProperty:!0,onAccept:this.handleRelationAccept,onClose:e.close,allowProperty:this.handleRelationAllowProperty}),this.renderTargetPropertySelect=e=>{const t=this.getRenderState();if(t)return r.a.createElement(Rt.a,{isRelationProperty:!1,schema:t.relatedCollectionSchema,onAccept:this.handleTargetPropertyAccept,allowProperty:this.handleTargetPropertyAllowProperty,onClose:e.close})},this.renderAggregationSelect=e=>{const t=this.getRenderState();if(t&&t.propertySchema.target_property)return r.a.createElement(Dt.a,{property:t.propertySchema.target_property,schema:t.relatedCollectionSchema,onChange:this.handlePropertyAggregationMenuChange,onClose:e.close,noneText:r.a.createElement(L.FormattedMessage,{id:"database.rollupProperty.aggregate.showOriginal",defaultMessage:"Show original",description:"Default setting for rollup properties: shows the original value of the selected property of the related pages."}),source:"rollupPropertyMenu"})},this.handleRelationAccept=e=>{const{schema:t,property:n,onChange:o,analyticsFrom:r}=this.props,a=this.getRenderState();a&&(o({schema:{...t,[n]:{...a.propertySchema,relation_property:e,target_property:"title",target_property_type:"title",aggregation:void 0}}}),M.T(this.environment,{from:r}))},this.handleTargetPropertyAccept=e=>{const{schema:t,property:n,onChange:o,analyticsFrom:r}=this.props,a=this.getRenderState();if(!a||!a.relatedCollectionValue||!a.relatedCollectionSchema)return;const i=a.relatedCollectionSchema[e];i&&(o({schema:{...t,[n]:{...a.propertySchema,target_property:e,target_property_type:i.type,aggregation:void 0}}}),M.U(this.environment,{from:r,property_type:i.type}))},this.handlePropertyAggregationMenuChange=e=>{const{schema:t,property:n,onChange:o,analyticsFrom:r}=this.props,a=this.getRenderState();a&&(o({schema:{...t,[n]:{...a.propertySchema,aggregation:e}}}),M.S(this.environment,{from:r,aggregation:e}))},this.handleRelationAllowProperty=e=>"relation"===e.type,this.handleTargetPropertyAllowProperty=e=>"rollup"!==e.type}renderComponent(){const{device:e}=this.environment,{disabled:t}=this.props,n=this.getRenderState();if(!n)return;let o;o=e.isMobile?{menuType:b.b.MenuType.Modal,title:n.propertySchema.name,right:r.a.createElement(R.DoneMenuText,null),onClickRight:this.props.onDismiss}:{menuType:b.b.MenuType.Popup};const a=Boolean(n.propertySchema.relation_property),i=Boolean(n.propertySchema.relation_property&&n.propertySchema.target_property);return r.a.createElement(b.b,Object.assign({},o),r.a.createElement(_.a,{type:_.a.Type.Vertical,initialFocus:void 0,sections:[{key:0,render:e=>r.a.createElement(T.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{id:"database.rollupProperty.editRelation.title",defaultMessage:"Relation"}),isTitleUppercase:!0})),items:[{key:0,render:o=>r.a.createElement(it.a,{key:o.key,popupType:e.isMobile?y.b.SlideUp:y.b.Popup,renderOrigin:e=>n.relationPropertySchema?r.a.createElement(At.b,Object.assign({},Object(Bt.a)(o,e),{propertySchema:n.relationPropertySchema,format:At.a.Name,right:this.getMenuItemChevron(),disabled:t})):r.a.createElement(E.a,Object.assign({},Object(Bt.a)(o,e),{title:r.a.createElement(L.FormattedMessage,{id:"database.rollupProperty.editRelation.buttonTitle",defaultMessage:"Select an existing relation…"}),right:this.getMenuItemChevron(),style:{color:this.theme.mediumTextColor},disabled:t})),render:this.renderRelationSelect,buttonPopupStore:this.stores.relationButtonPopupStore}),action:()=>{this.stores.relationButtonPopupStore.setState({open:!0})}}]},{key:1,render:e=>r.a.createElement(T.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{id:"database.rollupProperty.editProperty.title",defaultMessage:"Property"}),topBorder:!0,isTitleUppercase:!0})),items:[{key:0,render:o=>r.a.createElement(De.a,{renderTooltip:()=>r.a.createElement(L.FormattedMessage,{id:"database.rollupProperty.editProperty.tooltip",defaultMessage:"Select an existing relation first."}),disableTooltip:a,key:o.key,render:i=>r.a.createElement(it.a,{popupType:e.isMobile?y.b.SlideUp:y.b.Popup,renderOrigin:e=>n.targetPropertySchema?r.a.createElement(At.b,Object.assign({},Object(Bt.a)(o,e),{propertySchema:n.targetPropertySchema,format:At.a.Name,right:this.getMenuItemChevron(),disabled:t})):r.a.createElement(E.a,Object.assign({},Object(Bt.a)(o,i),{title:r.a.createElement(L.FormattedMessage,{id:"database.rollupProperty.editProperty.buttonTitle",defaultMessage:"Select a property to display…"}),right:this.getMenuItemChevron(),disabled:!a||t,disabledFeedback:!0})),render:this.renderTargetPropertySelect,buttonPopupStore:this.stores.targetPropertyButtonPopupStore})}),action:()=>{this.stores.targetPropertyButtonPopupStore.setState({open:!0})}}]},{key:2,render:e=>r.a.createElement(T.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{id:"database.rollupProperty.editAggregate.title",defaultMessage:"Calculate"}),topBorder:!0,isTitleUppercase:!0})),items:[{key:0,render:o=>r.a.createElement(De.a,{renderTooltip:()=>r.a.createElement(L.FormattedMessage,{id:"database.rollupProperty.editAggregate.tooltip",defaultMessage:"Select an existing relation and property first."}),disableTooltip:i,key:o.key,render:a=>i?r.a.createElement(it.a,{popupType:e.isMobile?y.b.SlideUp:y.b.Popup,renderOrigin:e=>r.a.createElement(E.a,Object.assign({},Object(Bt.a)(o,e),{title:n.propertySchema.aggregation?jt.b[n.propertySchema.aggregation]:r.a.createElement(L.FormattedMessage,{id:"database.rollupProperty.aggregate.showOriginal",defaultMessage:"Show original",description:"Default setting for rollup properties: shows the original value of the selected property of the related pages."}),right:this.getMenuItemChevron(),disabled:t})),render:this.renderAggregationSelect,buttonPopupStore:this.stores.aggregationButtonPopupStore}):r.a.createElement(E.a,Object.assign({},Object(Bt.a)(o,a),{title:r.a.createElement(L.FormattedMessage,{id:"database.rollupProperty.aggregate.showOriginal",defaultMessage:"Show original",description:"Default setting for rollup properties: shows the original value of the selected property of the related pages."}),right:this.getMenuItemChevron(),disabled:!0,disabledFeedback:!0}))}),action:()=>{this.stores.aggregationButtonPopupStore.setState({open:!0})}}]}]}))}getMenuItemChevron(){return k.a.chevronDown({width:11,fill:this.theme.mediumIconColor})}getRenderState(){const{schema:e,property:t,parentStore:n}=this.props,o=e[t];if(!o)return;let r,a;if(o.relation_property){const t=e[o.relation_property];t&&"relation"===t.type&&(r=t)}if(r&&r.collection_id){a=pe.a.createChildStore(n,{table:h.a,id:r.collection_id}).getValue()}const i=a?g.e(a.schema):{};let s;return a&&o.target_property&&(s=i[o.target_property]),{propertySchema:o,relationPropertySchema:r,relatedCollectionValue:a,relatedCollectionSchema:i,targetPropertySchema:s}}}var Vt=Ft,Nt=n("HTHG"),Ut=n("kFin"),zt=n("bPtJ"),Xt=n("gHFd"),Yt=n("yioD"),Ht=n("hbKx");n.d(t,"b",(function(){return Gt}));class qt extends s.a{constructor(){super(...arguments),this.renderOverlay=()=>{const e=this.props.store.state;if(e.isOpen)return r.a.createElement(D.a,{key:"".concat(e.store.id).concat(e.property),capture:!0,onTab:this.handleTab,onUntab:this.handleUntab,onEnter:this.handleEnter,onDelete:i.a.identity,onBackspace:i.a.identity},this.renderOverlayContent(e))},this.renderTitle=e=>{const{clonedStore:t}=e;return r.a.createElement("div",{style:qt.titleStyle},r.a.createElement(c.a,{store:t.getPropertyStore(e.property),disableSlashCommands:!0,onEnter:this.handleEnter,onEsc:this.handleEsc,onTab:this.handleTab,onUntab:this.handleUntab,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableStyleAnnotations:!0,disableShiftEnter:!0,onChange:this.handleTextChange,disabled:this.isDisabled(e)}))},this.renderText=e=>{const{clonedStore:t}=e;return r.a.createElement("div",{style:qt.textStyle},r.a.createElement(c.a,{store:t.getPropertyStore(e.property),disableSlashCommands:!0,onEnter:this.handleEnter,onEsc:this.handleEsc,onTab:this.handleTab,onUntab:this.handleUntab,disableSelectAllBlocks:!0,disableSelectionDrag:!0,onChange:this.handleTextChange,disabled:this.isDisabled(e)}))},this.renderURL=(e,t)=>{const n=d.v(this.getPropertyValue(e));let o="url";return"phone_number"===t?o="tel":"email"===t&&(o="email"),r.a.createElement(Ot,{value:n,inputType:o,disabled:this.isDisabled(e),onChange:this.handleURLValueChange,onDismiss:this.close})},this.renderNumber=e=>{const t=e.format===xe.a.Table,n=d.r(this.getPropertyValue(e)),o=this.getNormalizedPropertySchema(e);if(o&&"number"===o.type)return r.a.createElement(Et,{value:n,isTable:t,format:o.number_format||"number",disabled:this.isDisabled(e),insertChar:e.insertChar,onChange:this.handleNumberValueChange})},this.renderSelect=e=>{const t=this.getSchema(e),n=this.getCollectionStore(e),o=this.getNormalizedPropertySchema(e);if(!n||!o||"select"!==o.type)return;const a=o.options||[],i=d.u(this.getPropertyValue(e),a);return r.a.createElement(Z,{allowMultiple:!1,value:i?[i]:[],property:e.property,collectionId:n.id,schema:t,disabled:this.isDisabled(e),locked:this.isLocked(e),onChange:this.handleSelectPropertyMenuUpdate,analyticsFrom:this.getAnalyticsFrom(e),insertChar:e.insertChar,onAccept:this.handleSelectPropertyMenuAccept,onDismiss:this.close})},this.renderMultiSelect=e=>{const t=this.getSchema(e),n=this.getCollectionStore(e),o=this.getNormalizedPropertySchema(e);if(!n||!o||"multi_select"!==o.type)return;const a=o.options||[],i=d.q(this.getPropertyValue(e),a);return r.a.createElement(Z,{allowMultiple:!0,value:i,property:e.property,collectionId:n.id,schema:t,disabled:this.isDisabled(e),locked:this.isLocked(e),onChange:this.handleSelectPropertyMenuUpdate,analyticsFrom:this.getAnalyticsFrom(e),insertChar:e.insertChar,onAccept:this.handleSelectPropertyMenuAccept,onDismiss:this.close})},this.renderPerson=e=>{const t=this.getSchema(e),n=d.s(this.getPropertyValue(e));return r.a.createElement(se,{value:n,property:e.property,schema:t,disabled:this.isDisabled(e),onChange:this.handlePersonPropertyMenuUpdate,insertChar:e.insertChar,onDismiss:this.close,parentStore:e.store})},this.renderRelation=e=>{const t=this.getSchema(e),n=d.t(this.getPropertyValue(e));return r.a.createElement(nt,{value:n,property:e.property,schema:t,disabled:this.isDisabled(e),onChange:this.handleRelationPropertyMenuUpdate,analyticsFrom:this.getAnalyticsFrom(e),insertChar:e.insertChar,onDismiss:this.close,blockStore:e.store,blockPropertyValueOverlayStore:this.props.store,locked:this.isLocked(e)})},this.renderRollup=e=>{const t=this.getSchema(e);return r.a.createElement(Vt,{property:e.property,schema:t,disabled:this.isDisabled(e)||this.isLocked(e),onChange:this.handleRollupPropertyMenuUpdate,parentStore:e.store,analyticsFrom:this.getAnalyticsFrom(e),onDismiss:this.close})},this.renderDate=e=>{const t=this.getNormalizedPropertySchema(e);if(!t||"date"!==t.type)return;const n=d.o(this.getPropertyValue(e));return r.a.createElement(Xt.DependencyConsumer,{dependency:Xt.deps.menus},({DatePropertyMenu:o})=>r.a.createElement(o,{firstDayOfWeek:Nt.q.state,value:n,onChangeValue:this.handleDatePropertyValueChange,dateFormat:t.date_format,onChangeDateFormat:this.handleDatePropertyDateFormatChange,timeFormat:t.time_format,disabled:this.isDisabled(e),locked:this.isLocked(e),onChangeTimeFormat:this.handleDatePropertyTimeFormatChange,onDismiss:this.close,shouldShowReminder:!0}))},this.renderFile=e=>{const t=this.getSchema(e),n=d.p(this.getPropertyValue(e));return r.a.createElement(kt,{store:e.store,value:n,property:e.property,schema:t,onDismiss:this.close,uploadFiles:e.uploadFiles,disabled:this.isDisabled(e),onChange:t=>{const n=_t.create(this.environment);if(It.h(t.schema)||this.updateSchema(t.schema,n),!It.h(t.value)){const o=d.c(t.value);for(const t of this.getPropertyStores(e))p.c({store:t,value:o,transaction:n});this.trackEditPropertyValue(e)}_t.commit({environment:this.environment,transaction:n})}})},this.renderFormula=e=>{const{device:t}=this.environment,o=this.getSchema(e),{store:a}=e,i=a.getValue();if(i)return r.a.createElement(Ut.a,{fetch:()=>Promise.all([n.e(17),n.e(7)]).then(n.bind(null,"jAkY")),loading:e=>t.isMobile?r.a.createElement(b.b,{menuType:b.b.MenuType.Modal,title:r.a.createElement(L.FormattedMessage,{defaultMessage:"Formula",id:"database.propertyValues.mobileFormulaMenu.title"}),left:r.a.createElement(R.CancelMenuText,null),onClickLeft:this.handleFormulaPropertyMenuCancelClick},r.a.createElement("div",{style:{width:"100%",paddingTop:"2em",display:"flex",alignItems:"center",justifyContent:"center"}},e&&r.a.createElement(Fe.a,null))):r.a.createElement("div",{style:{height:358,width:580,display:"flex",alignItems:"center",justifyContent:"center"}},e&&r.a.createElement(Fe.a,null)),render:({default:t})=>r.a.createElement(t,{property:e.property,block:i,disabled:this.isDisabled(e)||this.isLocked(e),schema:o,onChange:this.handleFormulaPropertyMenuUpdate,onClickCancel:this.handleFormulaPropertyMenuCancelClick,analyticsFrom:this.getAnalyticsFrom(e)})})},this.renderFunctions={title:this.renderTitle,text:this.renderText,relation:this.renderRelation,rollup:this.renderRollup,select:this.renderSelect,multi_select:this.renderMultiSelect,person:this.renderPerson,number:this.renderNumber,date:this.renderDate,file:this.renderFile,url:this.renderURL,phone_number:this.renderURL,email:this.renderURL,formula:this.renderFormula,checkbox:void 0,created_by:void 0,created_time:void 0,last_edited_by:void 0,last_edited_time:void 0},this.handleBgClick=()=>{l.b({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})},this.handleEsc=()=>{l.d({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})},this.handleTab=()=>{l.f({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})},this.handleUntab=()=>{l.g({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})},this.handleEnter=()=>{l.c({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})},this.handleSelectPropertyMenuAccept=e=>{const t=this.props.store.state;if(!t.isOpen)return;const n=this.getNormalizedPropertySchema(t);n&&"select"===n.type&&We.default.afterNextFlush(()=>{e?l.c({environment:this.environment,blockPropertyValueOverlayStore:this.props.store}):l.d({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})})},this.handleSelectPropertyMenuUpdate=e=>{const t=this.props.store.state;if(!t.isOpen)return;const n=_t.create(this.environment);if(It.h(e.operations)||this.applyOperationsToSchema(e.operations,n),!It.h(e.value)){const o=d.d(e.value);for(const e of this.getPropertyStores(t))p.c({store:e,value:o,transaction:n});this.trackEditPropertyValue(t)}_t.commit({environment:this.environment,transaction:n})},this.handlePersonPropertyMenuUpdate=e=>{const t=this.props.store.state;if(!t.isOpen)return;const n=_t.create(this.environment);if(It.h(e.schema)||this.updateSchema(e.schema,n),!It.h(e.value)){const o=d.f(e.value);for(const e of this.getPropertyStores(t))p.c({store:e,value:o,transaction:n});this.trackEditPropertyValue(t)}_t.commit({environment:this.environment,transaction:n})},this.handleRelationPropertyMenuUpdate=async e=>{const t=this.props.store.state;if(!t.isOpen)return;const n=this.getNormalizedPropertySchema(t);if(!n||"relation"!==n.type)return;const o=this.getSchema(t),r=_t.create(this.environment);if(e.newPageId&&e.newPageName&&n.collection_id){const o={id:e.newPageId,version:0,type:xt.a.page,parent_id:n.collection_id,parent_table:h.a,alive:!0,properties:{title:Tt.m(e.newPageName)},collection_id:void 0};p.b({environment:this.environment,table:ze.a,value:o,inMemoryRecordCache:t.store.inMemoryRecordCache,transaction:r})}if(e.value){const n=d.g(e.value);for(const e of this.getPropertyStores(t))p.c({store:e,value:n,transaction:r});this.trackEditPropertyValue(t)}if(e.rollupPropertyId&&e.rollupPropertySchema){const t={...o,[e.rollupPropertyId]:e.rollupPropertySchema};this.updateSchema(t,r)}_t.commit({environment:this.environment,transaction:r}),e.rollupPropertyId&&(await We.default.afterNextFlush(),l.e({environment:this.environment,blockPropertyValueOverlayStore:this.props.store,openProperty:e.rollupPropertyId}))},this.handleDatePropertyValueChange=e=>{const t=this.props.store.state;if(!t.isOpen)return;const n=_t.create(this.environment),o=d.b(e);for(const r of this.getPropertyStores(t))p.c({store:r,value:o,transaction:n});e||l.d({environment:this.environment,blockPropertyValueOverlayStore:this.props.store}),this.trackEditPropertyValue(t),_t.commit({environment:this.environment,transaction:n})},this.handleDatePropertyDateFormatChange=e=>{const t=this.props.store.state;if(!t.isOpen)return;const n=this.getNormalizedPropertySchema(t);if(!n||"date"!==n.type)return;const o=this.getSchema(t),r={...n,date_format:e},a={...o,[t.property]:r},i=_t.create(this.environment);this.updateSchema(a,i),_t.commit({environment:this.environment,transaction:i}),r&&(this.getAnalyticsFrom(t),M.Q(this.environment,{property_type:r.type,action:"date_change_format",from:this.getAnalyticsFrom(t)}))},this.handleDatePropertyTimeFormatChange=e=>{const t=this.props.store.state;if(!t.isOpen)return;const n=this.getNormalizedPropertySchema(t);if(!n||"date"!==n.type)return;const o=this.getSchema(t),r={...n,time_format:e},a={...o,[t.property]:r},i=_t.create(this.environment);this.updateSchema(a,i),_t.commit({environment:this.environment,transaction:i}),r&&(this.getAnalyticsFrom(t),M.Q(this.environment,{property_type:r.type,action:"date_change_format",from:this.getAnalyticsFrom(t)}))},this.handleFormulaPropertyMenuUpdate=({schema:e,close:t})=>{const n=_t.create(this.environment);this.updateSchema(e,n),_t.commit({environment:this.environment,transaction:n}),t&&this.close()},this.handleNumberValueChange=e=>{const t=this.props.store.state;if(!t.isOpen)return;const n=d.e(e);_t.createAndCommit(this.environment,e=>{for(const o of this.getPropertyStores(t))p.c({store:o,value:n,transaction:e})}),this.trackEditPropertyValue(t)},this.handleURLValueChange=e=>{const t=this.props.store.state;if(!t.isOpen)return;const n=d.i(e);_t.createAndCommit(this.environment,e=>{for(const o of this.getPropertyStores(t))p.c({store:o,value:n,transaction:e})}),this.trackEditPropertyValue(t)},this.handleTextChange=()=>{const e=this.props.store.state;if(!e.isOpen)return;const{store:t,property:n,additionalStores:o}=e,r=t.getPropertyStore(n).getValue();_t.createAndCommit(this.environment,e=>{for(const t of o)p.c({store:t.getPropertyStore(n),value:r,transaction:e})}),this.trackEditPropertyValue(e)},this.handleRollupPropertyMenuUpdate=e=>{this.props.store.state.isOpen&&_t.createAndCommit(this.environment,t=>{this.updateSchema(e.schema,t)})},this.handleFormulaPropertyMenuCancelClick=()=>{this.props.store.setState({...this.props.store.state,isOpen:!1})},this.close=()=>{l.a({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})}}renderComponent(){const{device:e}=this.environment,t=this.props.store.state;let n,o,a;if(t.isOpen){const r=t.format===xe.a.Page,i=this.getNormalizedPropertySchema(t),s=i&&i.type,l=t.store.canEdit();let c=t.rect.top,d=t.rect.left,u=t.rect.width,p=t.rect.height;r?(d-=1,u+=1):(c-=1,d-=1,u+=1,p+=2),"number"===s?o={width:u}:"date"===s?(c+=p-1,o={}):"relation"===s?o={width:Math.max(nt.width,u),minHeight:l?97:void 0,overflow:"hidden"}:"person"===s?o={width:Math.max(240,u),minHeight:l?100:void 0}:"formula"===s?(c+=p-1,o={}):"select"===s||"multi_select"===s?o={width:Math.max(300,u)}:"rollup"===s?(c+=p-1,o={width:Math.max(260,u)}):"text"===s&&e.isMobile?a={maxHeight:"calc(100vh - 24px)",overflowY:"auto",WebkitOverflowScrolling:"touch",width:Math.max(240,u)}:o={width:Math.max(240,u),minHeight:Math.min(p,window.innerHeight-24),maxHeight:window.innerHeight-24,overflowY:"auto"},n={top:c,bottom:c,left:d,right:d+u,width:u,height:0}}if(t.isOpen||!this.previousPopupProps){const i=this.getPopupStyle(),s=!e.isMobile||i===y.c.PopupType.Popup,l={key:this.getPopupKey(),popupType:i,open:t.isOpen,originRect:n,style:e.isMobile?{width:o?o.width:void 0,...a}:o,alignmentToOrigin:y.c.Alignment.Start,placementToOrigin:y.c.Placement.Bottom,preventScaleTransition:s,preventOpacityTransition:s,render:this.renderOverlay,onDismiss:this.handleBgClick};return this.previousPopupProps=l,r.a.createElement(y.c,Object.assign({},l))}{const e={...this.previousPopupProps,open:!1};return r.a.createElement(y.c,Object.assign({},e))}}renderOverlayContent(e){const t=this.getNormalizedPropertySchema(e);if(!t)return;const n=this.renderFunctions[t.type];return n?n(e,t.type):void 0}getPopupStyle(){const{device:e}=this.environment;if(e.isMobile){const e=this.props.store.state;if(!e.isOpen)return y.b.SlideUp;const t=this.getNormalizedPropertySchema(e);return t?Gt[t.type]:y.b.SlideUp}return y.b.Popup}getPopupKey(){const e=this.props.store.state;if(!e.isOpen)return"ignore";const t=this.getNormalizedPropertySchema(e);return t?t.type:"ignore"}getSchema(e){return e.store.getSchema()||{}}getNormalizedPropertySchema(e){return this.getSchema(e)[e.property]}getCollectionStore(e){return e.store.getParentCollectionStore()}getPropertyStores(e){return this.getAllEditStores(e).map(t=>t.getPropertyStore(e.property))}getPropertyValue(e){return(e.store.getProperties()||{})[e.property]}updateSchema(e,t){const n=this.props.store.state;if(n.isOpen&&n.isOpen){const o=this.getCollectionStore(n);o&&u.p({environment:this.environment,collectionStore:o,update:{schema:e},transaction:t})}}applyOperationsToSchema(e,t){const n=this.props.store.state;if(n.isOpen&&n.isOpen){const o=this.getCollectionStore(n);if(o){const n=o.getSchema();for(const a of e)_t.addOperation({store:Object(zt.c)(o,a.pointer),operation:a,transaction:t});const r=o.getSchema();u.h({environment:this.environment,collectionStore:o,oldSchema:n,newSchema:r,transaction:t})}}}trackEditPropertyValue(e){const t=e.store.getType(),n=this.getNormalizedPropertySchema(e);t&&n&&M.Ab(this.environment,{block_id:e.store.id,property:e.property,property_type:n.type,from:this.getAnalyticsFrom(e)})}getAnalyticsFrom(e){return e.format===xe.a.Table?"table":"page_properties"}getAllEditStores(e){return[e.store,...e.additionalStores]}isLocked(e){return e.store.isNavigableAncestorLocked()}isDisabled(e){const t=e.store.getRoot(),n=t instanceof he.a&&t.isPageBlock()&&t.isLocked(),o=Object(Ht.j)(t)&&Yt.a.getMode(this.environment,t),r=Boolean(o&&"edit"!==o);return!e.store.canEdit()||n||r}}qt.textStyle={paddingLeft:9,paddingRight:9,paddingTop:6,paddingBottom:6,fontSize:14,minHeight:34},qt.titleStyle={...qt.textStyle,fontWeight:Ge.a.fontWeight.medium};var Wt=t.a=qt;const Gt={title:y.b.Popup,text:y.b.Popup,number:y.b.Popup,url:y.b.Popup,phone_number:y.b.Popup,email:y.b.Popup,relation:y.b.SlideUp,rollup:y.b.SlideUp,select:y.b.SlideUp,multi_select:y.b.SlideUp,person:y.b.SlideUp,date:y.b.SlideUp,file:y.b.SlideUp,formula:y.b.SlideUp,checkbox:y.b.SlideUp,created_by:y.b.SlideUp,created_time:y.b.SlideUp,last_edited_by:y.b.SlideUp,last_edited_time:y.b.SlideUp}},Ho6V:function(e,t,n){"use strict";n.d(t,"b",(function(){return h}));n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("mF3+"),i=n("jmjn"),s=n("n8tN"),l=n("mego"),c=n("+jeX"),d=n("J9+s"),u=n("vl8/");const p=Object(d.defineMessages)({embedButtonText:{defaultMessage:"Embed PDF",id:"pdfBlock.embeds.button.label"}});function h(e){const{type:t,environment:n}=e;return"pdf"===t&&n.device.isMobile}class m extends s.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:i.a}}renderPersisted(){const e=this.props.store.getType();return e&&h({environment:this.environment,type:e})?r.a.createElement(c.a,{store:this.props.store,disabled:this.props.disabled}):r.a.createElement(l.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:a.a.pdf,mediaMenuCurrentTab:"file",mediaMenuTabs:[{type:"file",fileUpload:!0},{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(d.FormattedMessage,{defaultMessage:"Embed a PDF file",id:"pdfBlock.embeds.caption"}),embedButtonText:u.default.formatMessage(p.embedButtonText),urlInputPlaceholder:"https://..."}),r.a.createElement(d.FormattedMessage,{defaultMessage:"Embed a PDF",id:"pdfBlock.placeholder"}))}}t.a=m},"Hq/H":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("mF3+"),i=n("H4VD"),s=n("wldR"),l=n("TDb4"),c=n("LeVO"),d=n("stZG"),u=n("y6Dp"),p=n("lCCU"),h=n("J9+s"),m=n("MeYt"),f=n("wXH4"),g=n("szb2");class b extends s.a{constructor(){super(...arguments),this.renderDesktopButtons=()=>r.a.createElement(d.a,{capture:!0,render:e=>r.a.createElement("div",Object.assign({style:{display:"flex",flexShrink:0}},e),this.renderBackButton(),this.renderForwardButton())}),this.handleBackClick=()=>{u.z(this.environment,{type:"back"}),i.back()},this.handleForwardClick=()=>{u.z(this.environment,{type:"forward"}),i.forward()}}renderComponent(){return this.environment.device.isMobile?this.renderMobile():this.renderDesktop()}renderDesktop(){return r.a.createElement(f.c,{style:{background:"transparent",borderRadius:0,boxShadow:"none"},origin:this.renderDesktopButtons(),render:this.renderDesktopButtons,placementToOrigin:f.c.Placement.Center,alignmentToOrigin:f.c.Alignment.Center,open:g.c.state.open,disableMouseCapture:!0,preventCaptureEsc:!0,preventScaleTransition:!0,preventOpacityTransition:!0,popupType:f.c.PopupType.Popup})}renderBackButton(){const{RouterStore:e}=this.environment;return r.a.createElement(c.a,{renderTooltip:()=>r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(h.FormattedMessage,{id:"topbarBrowserHistoryButtons.goBackButton.label",defaultMessage:"Go back"}),r.a.createElement(l.a,{name:"goBack",style:{opacity:.5,marginLeft:4}})),placement:c.a.Placement.Bottom,alignment:c.a.Alignment.Center,originGap:6,render:t=>r.a.createElement(p.a,Object.assign({icon:a.a.historyBack,isDarkIconColor:!0,className:"notion-history-back-button",disabled:!e.canGoBack(),style:{position:"relative"},onClick:this.handleBackClick},t))})}renderForwardButton(){const{RouterStore:e}=this.environment;return r.a.createElement(c.a,{renderTooltip:()=>r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(h.FormattedMessage,{id:"topbarBrowserHistoryButton.goForwardButton.label",defaultMessage:"Go forward"}),r.a.createElement(l.a,{name:"goForward",style:{opacity:.5,marginLeft:4}})),placement:c.a.Placement.Bottom,alignment:c.a.Alignment.Center,originGap:6,render:t=>r.a.createElement(p.a,Object.assign({icon:a.a.historyForward,isDarkIconColor:!0,className:"notion-history-forward-button",disabled:!e.canGoForward(),style:{position:"relative"},onClick:this.handleForwardClick},t))})}renderMobile(){return r.a.createElement(d.a,{capture:!0,render:e=>r.a.createElement("div",Object.assign({style:{display:"flex",flexShrink:0,height:"100%",paddingLeft:4,paddingRight:4}},e),this.renderMobileBackButton(),this.renderMobileForwardButton())})}renderMobileBackButton(){const{RouterStore:e}=this.environment,t=!e.canGoBack();return r.a.createElement(m.a,{onClick:this.handleBackClick,className:"notion-history-back-button",disabled:t,disabledFeedback:!0,mobileFeedback:!0,style:b.mobileButtonStyle},a.a.historyBack({width:16,height:16}))}renderMobileForwardButton(){const{RouterStore:e}=this.environment,t=!e.canGoForward();return r.a.createElement(m.a,{onClick:this.handleForwardClick,className:"notion-history-forward-button",disabled:t,mobileFeedback:!0,disabledFeedback:!0,style:b.mobileButtonStyle},a.a.historyForward({width:16,height:16}))}}b.mobileButtonStyle={position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:32},t.a=b},HwWE:function(e,t,n){},Hz2r:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return M})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return T}));n("3bBZ"),n("p532");var o=n("wpmu"),r=n("kXah"),a=n("bkwR"),i=n("qpkC"),s=n("udrG"),l=n("MBf9"),c=n("lufz"),d=n("N34Z"),u=n("jZoB"),p=n("5w/s"),h=n("y6Dp"),m=n("p0Ff"),f=n("VBxf"),g=n("bB9B"),b=n("J9+s"),v=n("vl8/"),y=n("HRSx"),S=n("+NSf");const w=Object(b.defineMessages)({duplicateTemplateError:{id:"databaseTemplatePickerActions.duplicateTemplateFailedError.message",defaultMessage:"Duplicate template failed."}});function k(e){const{environment:t,pageStore:n,copyBlockId:s,useInMemoryRecordCache:l,addCopyName:c,transaction:u}=e,p=new o.a(t,{table:y.a,id:s},{inMemoryRecordCache:l});if(l){const e=i.b(t,{blockId:p.id,inMemoryRecordCache:p.inMemoryRecordCache,allowCopyCollections:!0,requireFullSubtree:!1,skipTransclusionContainerChildren:!1});if(!e)throw new Error("Client copy could not be created.");i.c({environment:t,sourceBlockId:p.id,targetBlockId:n.id,sourceBlockSubtree:e,targetInMemoryRecordCache:n.inMemoryRecordCache,addCopyName:c,transaction:u,deepCopyTransclusionContainers:!1})}else{const e={...p.getProperties()};for(const t of Object.keys(n.getProperties()))delete e[t];d.d({store:n.getPropertiesStore(),data:e,transaction:u});const o={copied_from:s};d.d({store:n,data:o,transaction:u}),d.d({store:n.getFormatStore(),data:p.getFormat(),transaction:u}),p.getContentIds().length>0&&(r.a.setStatus(n.id,!0),u.postSubmitCallbacks.push(async e=>{if(e)return Object(f.showErrorMessage)(v.default.formatMessage(w.duplicateTemplateError)),void r.a.setStatus(n.id,!1);await a.duplicateBlock(t,{sourceBlockId:s,targetBlockId:n.id,addCopyName:c,appendContentOnly:!0}).next().finally(()=>{r.a.setStatus(n.id,!1)})}))}return n}function C(e){const{environment:t,collectionStore:n,transaction:o}=e,r=d.a({environment:t,type:s.a.page,inMemoryRecordCache:n.inMemoryRecordCache,transaction:o});return d.d({store:r,data:{is_template:!0},transaction:o}),u.a({parent:n.getTemplatePagesStore(),append:r,transaction:o}),r}function M(e){const{environment:t,collectionStore:n,templateStore:o,transaction:r}=e,a=d.a({environment:t,type:s.a.page,inMemoryRecordCache:o.inMemoryRecordCache,transaction:r});d.d({store:a,data:{is_template:!0},transaction:r}),u.b({parent:n.getTemplatePagesStore(),after:o,insert:a,transaction:r});const i=l.create(t);try{k({environment:t,copyBlockId:o.id,pageStore:a,addCopyName:!0,transaction:i}),l.commit({environment:t,transaction:i})}catch(c){Object(f.showErrorMessage)(v.default.formatMessage(w.duplicateTemplateError))}return a}function E(e){const{collectionStore:t,templateStore:n,transaction:o}=e;u.e({parent:t.getTemplatePagesStore(),remove:n,transaction:o}),c.a({childStore:n,alive:!1,transaction:o})}function _(e){const{environment:t,store:n,templateStore:o,title:r,isKeyboard:a,isCreateIn:i}=e,s=l.create(t),c=n.getProperties(),u=S.default.createMetric("rum.initialize_collection_template");k({environment:t,pageStore:n,copyBlockId:o.id,useInMemoryRecordCache:n.inMemoryRecordCache!==m.default?n.inMemoryRecordCache:void 0,transaction:s}),d.d({store:n.getPropertiesStore(),data:{title:r,...c},transaction:s}),d.d({store:n,data:{is_template:null,created_by:null,created_by_id:null,created_by_table:null,created_time:null},transaction:s}),p.e({environment:t,store:n,isLocked:!1,transaction:s}),0===o.getContentIds().length&&Object(g.a)({environment:t,store:n,transaction:s}),l.commit({environment:t,transaction:s}),S.default.emit(t,u),h.f(t,{page_id:o.id,is_keyboard:a,is_create_in:i})}function T(e){const{collectionStore:t,newTemplateIds:n,transaction:o}=e;d.d({store:t,data:{template_pages:n},transaction:o})}},I5tp:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("SR/M"),s=n("Sb6f"),l=n("gbGO"),c=n("zmp8"),d=n("TDb4"),u=n("vl8/");class p extends a.a{renderComponent(){const{color:e,overrideDisplayName:t}=this.props,n=t||u.default.formatMessage(Object(c.i)(e)),o=!this.environment.device.isMobile&&this.props.shortcuts&&this.props.shortcuts[0];return r.a.createElement(i.a,Object.assign({},this.props,{title:n,icon:this.renderIcon(),dontShrinkRight:!0,right:this.props.right||o&&r.a.createElement(d.a,{name:o,style:this.getShortcutStyle()})}))}renderIcon(){return r.a.createElement("div",{style:this.getColorIconStyle()},"A")}getShortcutStyle(){return{color:this.theme.lightTextColor,fontSize:12,whiteSpace:"nowrap"}}getColorIconStyle(){return{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,textAlign:"center",fontSize:16,borderRadius:3,fontWeight:s.a.fontWeight.medium,boxShadow:this.theme.innerBorderBoxShadow,...Object(c.j)(this.props.color,this.theme)}}}p.contextTypes={...l.c},t.a=p},I6hv:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o,r=n("LEzx");!function(e){e[e.Open=0]="Open",e[e.Resolved=1]="Resolved",e[e.NewThread=2]="NewThread"}(o||(o={}));class a extends r.a{getInitialState(){return{open:!1,rect:{top:0,right:0,left:0,bottom:0,width:0,height:0}}}}t.b=new a},I8ZR:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("kdGy"),s=n("3JF5"),l=n("Sb6f");class c extends a.a{renderComponent(){const{botValue:e,avatarSize:t,shouldShowBadge:n}=this.props;return r.a.createElement("div",{style:this.getStyle()},r.a.createElement("div",{style:this.getAvatarWrapStyle()},r.a.createElement(i.a,{botValue:e,size:t})),r.a.createElement("div",{style:{...l.a.textOverflowStyle}},Object(s.a)(e)),n&&r.a.createElement("div",{style:this.getBadgeStyle()},"Bot"))}getStyle(){return{display:"flex",alignItems:"center",minWidth:0,...this.props.style}}getAvatarWrapStyle(){return this.props.inline?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6}}getBadgeStyle(){const{device:e}=this.environment;return{padding:"2px 6px",borderRadius:3,color:this.theme.mediumTextColor,background:this.theme.selectColors.default,fontSize:e.isMobile?11:9,lineHeight:e.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginLeft:8,marginTop:1}}}t.a=c},ICWk:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return _})),n.d(t,"f",(function(){return T})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return I})),n.d(t,"a",(function(){return P}));n("4Brf");var o=n("J9+s"),r=n("HRSx"),a=n("922z"),i=n("udrG"),s=n("9uZX"),l=n("5Nka"),c=n("vl8/"),d=n("BrOh");const u=Object(o.defineMessages)({textTitle:{id:"newBlock.text.title",defaultMessage:"Text"},textDescription:{id:"newBlock.text.description",defaultMessage:"Just start writing with plain text."},textKeywords:{id:"newBlock.text.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for unstructured text.",defaultMessage:"Plain Text"},pageTitle:{id:"newBlock.page.title",defaultMessage:"Page"},pageDescription:{id:"newBlock.page.description",defaultMessage:"Embed a sub-page inside this page."},pageKeywords:{id:"newBlock.page.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Page' block type.",defaultMessage:"Page"},linkToPageTitle:{id:"newBlock.linkToPage.title",defaultMessage:"Link to page"},linkToPageDescription:{id:"newBlock.linkToPage.description",defaultMessage:"Link to an existing page."},linkToPageKeywords:{id:"newBlock.linkToPage.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'link to page' block type.",defaultMessage:"Link to page ltp"},linkToCollectionTitle:{id:"newBlock.linkToCollection.title",defaultMessage:"Create linked database"},linkToCollectionDescription:{id:"newBlock.linkToCollection.description",defaultMessage:"Create custom views for a database."},linkToCollectionKeywords:{id:"newBlock.linkToCollection.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Create linked database' block type.",defaultMessage:"Create linked database"},transclusionContainerTitle:{id:"newBlock.transclusionContainer.title",defaultMessage:"Block reference"},transclusionContainerDescription:{id:"newBlock.transclusionContainer.description",defaultMessage:"Sync content across pages."},transclusionContainerKeywords:{id:"newBlock.transclusionContainer.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Create block reference' block type.",defaultMessage:"Create block reference transclusion portal block embed"},toDoTitle:{id:"newBlock.toDo.title",defaultMessage:"To-do list"},toDoDescription:{id:"newBlock.toDo.description",defaultMessage:"Track tasks with a to-do list."},toDoKeywords:{id:"newBlock.toDo.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for checkboxes and todo items.",defaultMessage:"Todo To-Do Checkbox List"},headerTitle:{id:"newBlock.header.title",defaultMessage:"Heading 1"},headerDescription:{id:"newBlock.header.description",defaultMessage:"Big section heading."},headerKeywords:{id:"newBlock.header.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for the largest heading type. In English, this is used to match 'heading', 'header', 'h1', and '#' inspired by markdown.",defaultMessage:"Headinger 1 #"},subHeaderTitle:{id:"newBlock.subHeader.title",defaultMessage:"Heading 2"},subHeaderDescription:{id:"newBlock.subHeader.description",defaultMessage:"Medium section heading."},subHeaderKeywords:{id:"newBlock.subHeader.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for the subheadings. In English, this is used to match 'heading', 'header', 'h2', 'subheader', and '##' inspired by markdown.",defaultMessage:"sub headinger 2 ##"},subSubHeaderTitle:{id:"newBlock.subSubHeader.title",defaultMessage:"Heading 3"},subSubHeaderDescription:{id:"newBlock.subSubHeader.description",defaultMessage:"Small section heading."},subSubHeaderKeywords:{id:"newBlock.subSubHeader.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for the sub-subheadings. In English, this is used to match 'heading', 'header', 'h3', 'subsubheader', and '###' inspired by markdown.",defaultMessage:"sub sub headinger 3 ###"},imageTitle:{id:"newBlock.image.title",defaultMessage:"Image"},imageDescription:{id:"newBlock.image.description",defaultMessage:"Upload or embed with a link."},imageKeywords:{id:"newBlock.image.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for embedded images.",defaultMessage:"Image Picture"},bookmarkTitle:{id:"newBlock.bookmark.title",defaultMessage:"Web bookmark"},bookmarkDescription:{id:"newBlock.bookmark.description",defaultMessage:"Save a link as a visual bookmark."},bookmarkKeywords:{id:"newBlock.bookmark.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for links to external pages with rich previews.",defaultMessage:"Web Link Bookmark"},dividerTitle:{id:"newBlock.divider.title",defaultMessage:"Divider"},dividerDescription:{id:"newBlock.divider.description",defaultMessage:"Visually divide blocks."},dividerKeywords:{id:"newBlock.divider.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for a horizontal line.",defaultMessage:"Horizontal Rule Divider --- —-"},codeTitle:{id:"newBlock.code.title",defaultMessage:"Code"},codeDescription:{id:"newBlock.code.description",defaultMessage:"Capture a code snippet."},codeKeywords:{id:"newBlock.code.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for writing blocks of monospaced, optionally-syntax-highlighted code.",defaultMessage:"Code ```"},quoteTitle:{id:"newBlock.quote.title",defaultMessage:"Quote"},quoteDescription:{id:"newBlock.quote.description",defaultMessage:"Capture a quote."},quoteKeywords:{id:"newBlock.quote.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Quote' block type.",defaultMessage:"Quote"},bulletedListTitle:{id:"newBlock.bulletedList.title",defaultMessage:"Bulleted list"},bulletedListDescription:{id:"newBlock.bulletedList.description",defaultMessage:"Create a simple bulleted list."},bulletedListKeywords:{id:"newBlock.bulletedList.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for bulleted lists.",defaultMessage:"Bulleted Unordered List"},numberedListTitle:{id:"newBlock.numberedList.title",defaultMessage:"Numbered list"},numberedListDescription:{id:"newBlock.numberedList.description",defaultMessage:"Create a list with numbering."},numberedListKeywords:{id:"newBlock.numberedList.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for numbered lists.",defaultMessage:"Numbered Ordered List"},toggleTitle:{id:"newBlock.toggle.title",defaultMessage:"Toggle list"},toggleDescription:{id:"newBlock.toggle.description",defaultMessage:"Toggles can hide and show content inside."},toggleKeywords:{id:"newBlock.toggle.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Toggle list' block type.",defaultMessage:"Toggle list"},fileTitle:{id:"newBlock.file.title",defaultMessage:"File"},fileDescription:{id:"newBlock.file.description",defaultMessage:"Upload or embed with a link."},fileKeywords:{id:"newBlock.file.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'File' block type.",defaultMessage:"File"},videoTitle:{id:"newBlock.video.title",defaultMessage:"Video"},videoDescription:{id:"newBlock.video.description",defaultMessage:"Embed from YouTube, Vimeo..."},videoKeywords:{id:"newBlock.video.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Video' block type.",defaultMessage:"Video"},audioTitle:{id:"newBlock.audio.title",defaultMessage:"Audio"},audioDescription:{id:"newBlock.audio.description",defaultMessage:"Embed from SoundCloud, Spotify..."},audioKeywords:{id:"newBlock.audio.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for embedded audio files and music.",defaultMessage:"Audio Sound Music"},embedTitle:{id:"newBlock.embed.title",defaultMessage:"Embed"},embedDescription:{id:"newBlock.embed.description",defaultMessage:"For PDFs, Google Maps, and more."},embedKeywords:{id:"newBlock.embed.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for generic embedded content from external websites.",defaultMessage:"Embed iFrame"},driveTitle:{id:"newBlock.drive.title",defaultMessage:"Google Drive"},driveDescription:{id:"newBlock.drive.description",defaultMessage:"Embed a Google Doc, Google Sheet..."},driveKeywords:{id:"newBlock.drive.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Google Drive' block type.",defaultMessage:"Google Drive"},figmaTitle:{id:"newBlock.figma.title",defaultMessage:"Figma"},figmaDescription:{id:"newBlock.figma.description",defaultMessage:"Embed a Figma file."},figmaKeywords:{id:"newBlock.figma.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Figma' block type.",defaultMessage:"Figma"},loomTitle:{id:"newBlock.loom.title",defaultMessage:"Loom"},loomDescription:{id:"newBlock.loom.description",defaultMessage:"Embed a Loom recording."},loomKeywords:{id:"newBlock.loom.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Loom' block type.",defaultMessage:"Loom"},typeformTitle:{id:"newBlock.typeform.title",defaultMessage:"Typeform"},typeformDescription:{id:"newBlock.typeform.description",defaultMessage:"Embed a Typeform."},typeformKeywords:{id:"newBlock.typeform.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Typeform' block type.",defaultMessage:"Typeform"},codepenTitle:{id:"newBlock.codepen.title",defaultMessage:"CodePen"},codepenDescription:{id:"newBlock.codepen.description",defaultMessage:"Embed a CodePen."},codepenKeywords:{id:"newBlock.codepen.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'CodePen' block type.",defaultMessage:"CodePen"},tweetTitle:{id:"newBlock.tweet.title",defaultMessage:"Tweet"},tweetDescription:{id:"newBlock.tweet.description",defaultMessage:"Embed a Tweet."},tweetKeywords:{id:"newBlock.tweet.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Tweet' block type.",defaultMessage:"Tweet"},gistTitle:{id:"newBlock.gist.title",defaultMessage:"GitHub Gist"},gistDescription:{id:"newBlock.gist.description",defaultMessage:"Embed a Gist from GitHub."},gistKeywords:{id:"newBlock.gist.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'GitHub Gist' block type.",defaultMessage:"GitHub Gist"},mapsTitle:{id:"newBlock.maps.title",defaultMessage:"Google Maps"},mapsDescription:{id:"newBlock.maps.description",defaultMessage:"Embed a Google Map."},mapsKeywords:{id:"newBlock.maps.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Google Maps' block type.",defaultMessage:"Google Maps"},framerTitle:{id:"newBlock.framer.title",defaultMessage:"Framer"},framerDescription:{id:"newBlock.framer.description",defaultMessage:"Embed a Framer prototype."},framerKeywords:{id:"newBlock.framer.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Framer' block type.",defaultMessage:"Framer"},invisionTitle:{id:"newBlock.invision.title",defaultMessage:"Invision"},invisionDescription:{id:"newBlock.invision.description",defaultMessage:"Embed an Invision project."},invisionKeywords:{id:"newBlock.invision.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Invision' block type.",defaultMessage:"Invision"},equationTitle:{id:"newBlock.equation.title",defaultMessage:"Block equation"},equationDescription:{id:"newBlock.equation.description",defaultMessage:"Display a standalone math equation."},equationKeywords:{id:"newBlock.equation.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for math equations typeset via LaTeX.",defaultMessage:"LaTeX Math Block Equation $$"},pdfTitle:{id:"newBlock.pdf.title",defaultMessage:"PDF"},pdfDescription:{id:"newBlock.pdf.description",defaultMessage:"Embed a PDF."},pdfKeywords:{id:"newBlock.pdf.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'PDF' block type.",defaultMessage:"PDF"},factoryTitle:{id:"newBlock.factory.title",defaultMessage:"Template button"},factoryDescription:{id:"newBlock.factory.description",defaultMessage:"Duplicate blocks with a click."},factoryKeywords:{id:"newBlock.factory.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for 'template factories'--configurable buttons that duplicate blocks.",defaultMessage:"Template Duplicate Button"},breadcrumbTitle:{id:"newBlock.breadcrumb.title",defaultMessage:"Breadcrumb"},breadcrumbDescription:{id:"newBlock.breadcrumb.description",defaultMessage:"Show the current page location."},breadcrumbKeywords:{id:"newBlock.breadcrumb.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Breadcrumb' block type.",defaultMessage:"Breadcrumb"},calloutTitle:{id:"newBlock.callout.title",defaultMessage:"Callout"},calloutDescription:{id:"newBlock.callout.description",defaultMessage:"Make writing stand out."},calloutKeywords:{id:"newBlock.callout.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Callout' block type.",defaultMessage:"Callout"},table_of_contentsTitle:{id:"newBlock.tableOfContents.title",defaultMessage:"Table of contents"},table_of_contentsDescription:{id:"newBlock.tableOfContents.description",defaultMessage:"Show an outline of your page."},table_of_contentsKeywords:{id:"newBlock.tableOfContents.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for displaying a table of contents of the page.",defaultMessage:"TOC Table of Contents"},whimsicalTitle:{id:"newBlock.whimsical.title",defaultMessage:"Whimsical"},whimsicalDescription:{id:"newBlock.whimsical.description",defaultMessage:"Embed a Whimsical board."},whimsicalKeywords:{id:"newBlock.whimsical.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Whimsical' block type.",defaultMessage:"Whimsical"},miroTitle:{id:"newBlock.miro.title",defaultMessage:"Miro"},miroDescription:{id:"newBlock.miro.description",defaultMessage:"Embed a Miro board."},miroKeywords:{id:"newBlock.miro.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Miro' block type.",defaultMessage:"Miro"},abstractTitle:{id:"newBlock.abstract.title",defaultMessage:"Abstract"},abstractDescription:{id:"newBlock.abstract.description",defaultMessage:"Embed an Abstract project."},abstractKeywords:{id:"newBlock.abstract.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Abstract' block type.",defaultMessage:"Abstract"},inlineTableTitle:{id:"newBlock.inlineTable.title",defaultMessage:"Table - Inline"},inlineTableDescription:{id:"newBlock.inlineTable.description",defaultMessage:"Create a table inline in this page."},inlineTableKeywords:{id:"newBlock.inlineTable.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Table - Inline' block type.",defaultMessage:"Table - Inline"},inlineBoardTitle:{id:"newBlock.inlineBoard.title",defaultMessage:"Board - Inline"},inlineBoardDescription:{id:"newBlock.inlineBoard.description",defaultMessage:"Create a kanban board inline in this page."},inlineBoardKeywords:{id:"newBlock.inlineBoard.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Board - Inline' block type.",defaultMessage:"Board - Inline"},inlineGalleryTitle:{id:"newBlock.inlineGallery.title",defaultMessage:"Gallery - Inline"},inlineGalleryDescription:{id:"newBlock.inlineGallery.description",defaultMessage:"Create a gallery inline in this page."},inlineGalleryKeywords:{id:"newBlock.inlineGallery.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Gallery - Inline' block type.",defaultMessage:"Gallery - Inline"},inlineListTitle:{id:"newBlock.inlineList.title",defaultMessage:"List - Inline"},inlineListDescription:{id:"newBlock.inlineList.description",defaultMessage:"Create a list inline in this page."},inlineListKeywords:{id:"newBlock.inlineList.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'List - Inline' block type.",defaultMessage:"List - Inline"},inlineCalendarTitle:{id:"newBlock.inlineCalendar.title",defaultMessage:"Calendar - Inline"},inlineCalendarDescription:{id:"newBlock.inlineCalendar.description",defaultMessage:"Create a calendar inline in this page."},inlineCalendarKeywords:{id:"newBlock.inlineCalendar.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Calendar - Inline' block type.",defaultMessage:"Calendar - Inline"},inlineTimelineTitle:{id:"newBlock.inlineTimeline.title",defaultMessage:"Timeline - Inline"},inlineTimelineDescription:{id:"newBlock.inlineTimeline.description",defaultMessage:"Create a timeline inline in this page."},inlineTimelineKeywords:{id:"newBlock.inlineTimeline.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Timeline - Inline' block type.",defaultMessage:"Timeline - Inline"},fullPageTableTitle:{id:"newBlock.fullPageTable.title",defaultMessage:"Table - Full page"},fullPageTableDescription:{id:"newBlock.fullPageTable.description",defaultMessage:"Create a table as its own page."},fullPageTableKeywords:{id:"newBlock.fullPageTable.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Table - Full page' block type.",defaultMessage:"Table - Full page"},fullPageBoardTitle:{id:"newBlock.fullPageBoard.title",defaultMessage:"Board - Full page"},fullPageBoardDescription:{id:"newBlock.fullPageBoard.description",defaultMessage:"Create a kanban board as its own page."},fullPageBoardKeywords:{id:"newBlock.fullPageBoard.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Board - Full page' block type.",defaultMessage:"Board - Full page"},fullPageGalleryTitle:{id:"newBlock.fullPageGallery.title",defaultMessage:"Gallery - Full page"},fullPageGalleryDescription:{id:"newBlock.fullPageGallery.description",defaultMessage:"Create a gallery as its own page."},fullPageGalleryKeywords:{id:"newBlock.fullPageGallery.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Gallery - Full page' block type.",defaultMessage:"Gallery - Full page"},fullPageListTitle:{id:"newBlock.fullPageList.title",defaultMessage:"List - Full page"},fullPageListDescription:{id:"newBlock.fullPageList.description",defaultMessage:"Create a list as its own page."},fullPageListKeywords:{id:"newBlock.fullPageList.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'List - Full page' block type.",defaultMessage:"List - Full page"},fullPageCalendarTitle:{id:"newBlock.fullPageCalendar.title",defaultMessage:"Calendar - Full page"},fullPageCalendarDescription:{id:"newBlock.fullPageCalendar.description",defaultMessage:"Create a calendar as its own page."},fullPageCalendarKeywords:{id:"newBlock.fullPageCalendar.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Calendar - Full page' block type.",defaultMessage:"Calendar - Full page"},fullPageTimelineTitle:{id:"newBlock.fullPageTimeline.title",defaultMessage:"Timeline - Full page"},fullPageTimelineDescription:{id:"newBlock.fullPageTimeline.description",defaultMessage:"Create a timeline as its own page."},fullPageTimelineKeywords:{id:"newBlock.fullPageTimeline.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Timeline - Full page' block type.",defaultMessage:"Timeline - Full page"}});function p(e){const{key:t,displayName:n,fuzzySearchKeywords:o,blockType:i,thumbnail:s,tooltipPhoto:l,description:d,createTemplate:u,shouldShow:p,showNewBadge:h}=e,m="".concat(c.default.formatMessage(o)," ").concat(o.defaultMessage);return{key:t,displayName:c.default.formatMessage(n),analyticsName:n.defaultMessage,searchName:m,thumbnail:s,tooltipPhoto:l,description:d?c.default.formatMessage(d):void 0,templateRootBlockId:"root",blockType:i,createTemplate:u||(()=>new a.a({[r.a]:{root:{id:"root",type:i}}})),shouldShow:p,showNewBadge:h}}const h={[i.a.text]:p({key:i.a.text,blockType:i.a.text,displayName:u.textTitle,fuzzySearchKeywords:u.textKeywords,thumbnail:l.a.images.blocks.textPng,description:u.textDescription,tooltipPhoto:l.a.images.tooltips.blocks.textPng}),[i.a.page]:p({key:i.a.page,blockType:i.a.page,displayName:u.pageTitle,fuzzySearchKeywords:u.pageKeywords,thumbnail:l.a.images.blocks.pagePng,description:u.pageDescription,tooltipPhoto:l.a.images.tooltips.blocks.pagePng}),[i.a.link_to_page]:p({key:i.a.link_to_page,blockType:i.a.link_to_page,displayName:u.linkToPageTitle,fuzzySearchKeywords:u.linkToPageKeywords,thumbnail:l.a.images.blocks.linkPng,description:u.linkToPageDescription,tooltipPhoto:l.a.images.tooltips.blocks.linkToPagePng}),[i.a.link_to_collection]:p({key:i.a.link_to_collection,blockType:i.a.link_to_collection,displayName:u.linkToCollectionTitle,fuzzySearchKeywords:u.linkToCollectionKeywords,thumbnail:l.a.images.blocks.linkPng,description:u.linkToCollectionDescription,tooltipPhoto:l.a.images.tooltips.blocks.tablePng}),[i.a.transclusionContainer]:p({key:i.a.transclusionContainer,blockType:i.a.transclusionContainer,displayName:u.transclusionContainerTitle,fuzzySearchKeywords:u.transclusionContainerKeywords,thumbnail:l.a.images.blocks.linkPng,description:u.transclusionContainerDescription,tooltipPhoto:l.a.images.tooltips.blocks.linkToPagePng,shouldShow:d.a}),[i.a.toDo]:p({key:i.a.toDo,blockType:i.a.toDo,displayName:u.toDoTitle,fuzzySearchKeywords:u.toDoKeywords,thumbnail:l.a.images.blocks.toDoPng,description:u.toDoDescription,tooltipPhoto:l.a.images.tooltips.blocks.toDoListPng}),[i.a.header]:p({key:i.a.header,blockType:i.a.header,displayName:u.headerTitle,fuzzySearchKeywords:u.headerKeywords,thumbnail:l.a.images.blocks.headerPng,description:u.headerDescription,tooltipPhoto:l.a.images.tooltips.blocks.headerPng}),[i.a.subHeader]:p({key:i.a.subHeader,blockType:i.a.subHeader,displayName:u.subHeaderTitle,fuzzySearchKeywords:u.subHeaderKeywords,thumbnail:l.a.images.blocks.subheaderPng,description:u.subHeaderDescription,tooltipPhoto:l.a.images.tooltips.blocks.subHeaderPng}),[i.a.subSubHeader]:p({key:i.a.subSubHeader,blockType:i.a.subSubHeader,displayName:u.subSubHeaderTitle,fuzzySearchKeywords:u.subSubHeaderKeywords,thumbnail:l.a.images.blocks.subsubheaderPng,description:u.subSubHeaderDescription,tooltipPhoto:l.a.images.tooltips.blocks.subsubheaderPng}),[i.a.image]:p({key:i.a.image,blockType:i.a.image,displayName:u.imageTitle,fuzzySearchKeywords:u.imageKeywords,description:u.imageDescription,tooltipPhoto:l.a.images.tooltips.blocks.imagePng,thumbnail:l.a.images.blocks.imagePng}),[i.a.bookmark]:p({key:i.a.bookmark,blockType:i.a.bookmark,displayName:u.bookmarkTitle,fuzzySearchKeywords:u.bookmarkKeywords,thumbnail:l.a.images.blocks.webBookmarkPng,description:u.bookmarkDescription,tooltipPhoto:l.a.images.tooltips.blocks.webBookmarkPng}),[i.a.divider]:p({key:i.a.divider,blockType:i.a.divider,displayName:u.dividerTitle,fuzzySearchKeywords:u.dividerKeywords,thumbnail:l.a.images.blocks.dividerPng,description:u.dividerDescription,tooltipPhoto:l.a.images.tooltips.blocks.dividerPng}),[i.a.code]:p({key:i.a.code,blockType:i.a.code,displayName:u.codeTitle,fuzzySearchKeywords:u.codeKeywords,thumbnail:l.a.images.blocks.codePng,description:u.codeDescription,tooltipPhoto:l.a.images.tooltips.blocks.codePng}),[i.a.quote]:p({key:i.a.quote,blockType:i.a.quote,displayName:u.quoteTitle,fuzzySearchKeywords:u.quoteKeywords,thumbnail:l.a.images.blocks.quotePng,description:u.quoteDescription,tooltipPhoto:l.a.images.tooltips.blocks.quotePng}),[i.a.bulletedList]:p({key:i.a.bulletedList,blockType:i.a.bulletedList,displayName:u.bulletedListTitle,fuzzySearchKeywords:u.bulletedListKeywords,thumbnail:l.a.images.blocks.bulletedListPng,description:u.bulletedListDescription,tooltipPhoto:l.a.images.tooltips.blocks.bulletedListPng}),[i.a.numberedList]:p({key:i.a.numberedList,blockType:i.a.numberedList,displayName:u.numberedListTitle,fuzzySearchKeywords:u.numberedListKeywords,thumbnail:l.a.images.blocks.numberedListPng,description:u.numberedListDescription,tooltipPhoto:l.a.images.tooltips.blocks.numberedListPng}),[i.a.toggle]:p({key:i.a.toggle,blockType:i.a.toggle,displayName:u.toggleTitle,fuzzySearchKeywords:u.toggleKeywords,thumbnail:l.a.images.blocks.togglePng,description:u.toggleDescription,tooltipPhoto:l.a.images.tooltips.blocks.toggleListPng}),[i.a.file]:p({key:i.a.file,blockType:i.a.file,displayName:u.fileTitle,fuzzySearchKeywords:u.fileKeywords,thumbnail:l.a.images.blocks.filePng,tooltipPhoto:l.a.images.tooltips.blocks.filePng,description:u.fileDescription}),[i.a.video]:p({key:i.a.video,blockType:i.a.video,displayName:u.videoTitle,fuzzySearchKeywords:u.videoKeywords,thumbnail:l.a.images.blocks.videoPng,tooltipPhoto:l.a.images.tooltips.blocks.videoPng,description:u.videoDescription}),[i.a.audio]:p({key:i.a.audio,blockType:i.a.audio,displayName:u.audioTitle,fuzzySearchKeywords:u.audioKeywords,thumbnail:l.a.images.blocks.audioPng,description:u.audioDescription}),[i.a.embed]:p({key:i.a.embed,blockType:i.a.embed,displayName:u.embedTitle,fuzzySearchKeywords:u.embedKeywords,thumbnail:l.a.images.blocks.embedPng,description:u.embedDescription}),[i.a.drive]:p({key:i.a.drive,blockType:i.a.drive,displayName:u.driveTitle,fuzzySearchKeywords:u.driveKeywords,thumbnail:l.a.images.blocks.drivePng,description:u.driveDescription}),[i.a.figma]:p({key:i.a.figma,blockType:i.a.figma,displayName:u.figmaTitle,fuzzySearchKeywords:u.figmaKeywords,thumbnail:l.a.images.blocks.figmaPng,description:u.figmaDescription}),[i.a.loom]:p({key:i.a.loom,blockType:i.a.loom,displayName:u.loomTitle,fuzzySearchKeywords:u.loomKeywords,thumbnail:l.a.images.blocks.loomPng,description:u.loomDescription}),[i.a.typeform]:p({key:i.a.typeform,blockType:i.a.typeform,displayName:u.typeformTitle,fuzzySearchKeywords:u.typeformKeywords,thumbnail:l.a.images.blocks.typeformPng,description:u.typeformDescription}),[i.a.codepen]:p({key:i.a.codepen,blockType:i.a.codepen,displayName:u.codepenTitle,fuzzySearchKeywords:u.codepenKeywords,thumbnail:l.a.images.blocks.codepenPng,description:u.codepenDescription}),[i.a.tweet]:p({key:i.a.tweet,blockType:i.a.tweet,displayName:u.tweetTitle,fuzzySearchKeywords:u.tweetKeywords,thumbnail:l.a.images.blocks.twitterPng,description:u.tweetDescription}),[i.a.gist]:p({key:i.a.gist,blockType:i.a.gist,displayName:u.gistTitle,fuzzySearchKeywords:u.gistKeywords,thumbnail:l.a.images.blocks.githubPng,description:u.gistDescription}),[i.a.maps]:p({key:i.a.maps,blockType:i.a.maps,displayName:u.mapsTitle,fuzzySearchKeywords:u.mapsKeywords,thumbnail:l.a.images.blocks.mapsPng,description:u.mapsDescription}),[i.a.framer]:p({key:i.a.framer,blockType:i.a.framer,displayName:u.framerTitle,fuzzySearchKeywords:u.framerKeywords,thumbnail:l.a.images.blocks.framerPng,description:u.framerDescription}),[i.a.invision]:p({key:i.a.invision,blockType:i.a.invision,displayName:u.invisionTitle,fuzzySearchKeywords:u.invisionKeywords,thumbnail:l.a.images.blocks.invisionPng,description:u.invisionDescription}),[i.a.equation]:p({key:i.a.equation,blockType:i.a.equation,displayName:u.equationTitle,fuzzySearchKeywords:u.equationKeywords,thumbnail:l.a.images.blocks.texPng,tooltipPhoto:l.a.images.tooltips.blocks.mathPng,description:u.equationDescription}),[i.a.pdf]:p({key:i.a.pdf,blockType:i.a.pdf,displayName:u.pdfTitle,fuzzySearchKeywords:u.pdfKeywords,thumbnail:l.a.images.blocks.pdfPng,description:u.pdfDescription}),[i.a.factory]:p({displayName:u.factoryTitle,fuzzySearchKeywords:u.factoryKeywords,thumbnail:l.a.images.blocks.templateButtonPng,key:i.a.factory,blockType:i.a.factory,description:u.factoryDescription,tooltipPhoto:l.a.images.tooltips.blocks.templateButtonPng,createTemplate:s.c}),[i.a.breadcrumb]:p({displayName:u.breadcrumbTitle,thumbnail:l.a.images.blocks.breadcrumbPng,tooltipPhoto:l.a.images.tooltips.blocks.breadcrumbPng,description:u.breadcrumbDescription,fuzzySearchKeywords:u.breadcrumbKeywords,key:i.a.breadcrumb,blockType:i.a.breadcrumb}),[i.a.callout]:p({key:i.a.callout,blockType:i.a.callout,displayName:u.calloutTitle,thumbnail:l.a.images.blocks.calloutPng,description:u.calloutDescription,fuzzySearchKeywords:u.calloutKeywords,tooltipPhoto:l.a.images.tooltips.blocks.calloutPng}),[i.a.table_of_contents]:p({displayName:u.table_of_contentsTitle,fuzzySearchKeywords:u.table_of_contentsKeywords,thumbnail:l.a.images.blocks.tableOfContentsPng,tooltipPhoto:l.a.images.tooltips.blocks.tableOfContentsPng,description:u.table_of_contentsDescription,key:i.a.table_of_contents,blockType:i.a.table_of_contents}),[i.a.whimsical]:p({key:i.a.whimsical,blockType:i.a.whimsical,displayName:u.whimsicalTitle,fuzzySearchKeywords:u.whimsicalKeywords,thumbnail:l.a.images.blocks.whimsicalPng,description:u.whimsicalDescription}),[i.a.miro]:p({key:i.a.miro,blockType:i.a.miro,displayName:u.miroTitle,fuzzySearchKeywords:u.miroKeywords,thumbnail:l.a.images.blocks.miroPng,description:u.miroDescription}),[i.a.abstract]:p({key:i.a.abstract,blockType:i.a.abstract,displayName:u.abstractTitle,thumbnail:l.a.images.blocks.abstractPng,description:u.abstractDescription,fuzzySearchKeywords:u.abstractKeywords})},m=p({key:"inline table",blockType:i.a.collectionView,displayName:u.inlineTableTitle,thumbnail:l.a.images.blocks.tableInlinePng,description:u.inlineTableDescription,fuzzySearchKeywords:u.inlineTableKeywords,tooltipPhoto:l.a.images.tooltips.blocks.tablePng,createTemplate:()=>s.f(!0)}),f=p({key:"inline board",blockType:i.a.collectionView,displayName:u.inlineBoardTitle,thumbnail:l.a.images.blocks.boardInlinePng,description:u.inlineBoardDescription,fuzzySearchKeywords:u.inlineBoardKeywords,tooltipPhoto:l.a.images.tooltips.blocks.boardPng,createTemplate:()=>s.a(!0)}),g=p({key:"inline gallery",blockType:i.a.collectionView,displayName:u.inlineGalleryTitle,thumbnail:l.a.images.blocks.galleryInlinePng,description:u.inlineGalleryDescription,fuzzySearchKeywords:u.inlineGalleryKeywords,tooltipPhoto:l.a.images.tooltips.blocks.galleryPng,createTemplate:()=>s.d(!0)}),b=p({key:"inline list",blockType:i.a.collectionView,displayName:u.inlineListTitle,thumbnail:l.a.images.blocks.listInlinePng,description:u.inlineListDescription,fuzzySearchKeywords:u.inlineListKeywords,tooltipPhoto:l.a.images.tooltips.blocks.listPng,createTemplate:()=>s.e(!0)}),v=p({key:"inline calendar",blockType:i.a.collectionView,displayName:u.inlineCalendarTitle,thumbnail:l.a.images.blocks.calendarInlinePng,description:u.inlineCalendarDescription,fuzzySearchKeywords:u.inlineCalendarKeywords,tooltipPhoto:l.a.images.tooltips.blocks.calendarPng,createTemplate:()=>s.b(!0)}),y=p({key:"inline timeline",blockType:i.a.collectionView,displayName:u.inlineTimelineTitle,thumbnail:l.a.images.blocks.timelineInlinePng,description:u.inlineTimelineDescription,fuzzySearchKeywords:u.inlineTimelineKeywords,tooltipPhoto:l.a.images.tooltips.blocks.timelinePng,showNewBadge:!0,createTemplate:()=>s.g(!0)}),S=p({key:"full page table",blockType:i.a.collectionView,displayName:u.fullPageTableTitle,thumbnail:l.a.images.blocks.tablePng,description:u.fullPageTableDescription,fuzzySearchKeywords:u.fullPageTableKeywords,tooltipPhoto:l.a.images.tooltips.blocks.tablePng,createTemplate:()=>s.f(!1)}),w=p({key:"full page board",blockType:i.a.collectionView,displayName:u.fullPageBoardTitle,thumbnail:l.a.images.blocks.boardPng,description:u.fullPageBoardDescription,fuzzySearchKeywords:u.fullPageBoardKeywords,tooltipPhoto:l.a.images.tooltips.blocks.boardPng,createTemplate:()=>s.a(!1)}),k=p({key:"full page gallery",blockType:i.a.collectionView,displayName:u.fullPageGalleryTitle,thumbnail:l.a.images.blocks.galleryPng,description:u.fullPageGalleryDescription,fuzzySearchKeywords:u.fullPageGalleryKeywords,tooltipPhoto:l.a.images.tooltips.blocks.galleryPng,createTemplate:()=>s.d(!1)}),C=p({key:"full page list",blockType:i.a.collectionView,displayName:u.fullPageListTitle,thumbnail:l.a.images.blocks.listPng,description:u.fullPageListDescription,fuzzySearchKeywords:u.fullPageListKeywords,tooltipPhoto:l.a.images.tooltips.blocks.listPng,createTemplate:()=>s.e(!1)}),M=p({key:"full page calendar",blockType:i.a.collectionView,displayName:u.fullPageCalendarTitle,thumbnail:l.a.images.blocks.calendarPng,description:u.fullPageCalendarDescription,fuzzySearchKeywords:u.fullPageCalendarKeywords,tooltipPhoto:l.a.images.tooltips.blocks.calendarPng,createTemplate:()=>s.b(!1)}),E=p({key:"full page timeline",blockType:i.a.collectionView,displayName:u.fullPageTimelineTitle,thumbnail:l.a.images.blocks.timelinePng,description:u.fullPageTimelineDescription,fuzzySearchKeywords:u.fullPageTimelineKeywords,tooltipPhoto:l.a.images.tooltips.blocks.timelinePng,showNewBadge:!0,createTemplate:()=>s.g(!1)}),_=[h[i.a.text],h[i.a.page],h[i.a.toDo],h[i.a.header],h[i.a.subHeader],h[i.a.subSubHeader],h[i.a.bulletedList],h[i.a.numberedList],h[i.a.toggle],h[i.a.quote],h[i.a.divider],h[i.a.link_to_page],h[i.a.callout]],T=[h[i.a.image],h[i.a.bookmark],h[i.a.video],h[i.a.audio],h[i.a.code],h[i.a.file]],x=[m,f,g,b,v,y,S,w,k,C,M,E,h[i.a.link_to_collection]],I=[h[i.a.embed],h[i.a.drive],h[i.a.tweet],h[i.a.gist],h[i.a.maps],h[i.a.figma],h[i.a.abstract],h[i.a.invision],h[i.a.framer],h[i.a.whimsical],h[i.a.miro],h[i.a.pdf],h[i.a.loom],h[i.a.typeform],h[i.a.codepen]],P=[h[i.a.table_of_contents],h[i.a.equation],h[i.a.factory],h[i.a.breadcrumb],h[i.a.transclusionContainer]]},IULH:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("MeYt"),s=n("zmp8");class l extends a.a{renderComponent(){return r.a.createElement(i.a,{style:this.getButtonStyle(),hoveredStyle:{background:this.getHoveredBackground()},pressedStyle:{background:this.getPressedBackground()},disabled:this.props.disabled,hovered:this.props.hovered,className:this.props.className,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,disabledFeedback:this.props.disabledFeedback},this.props.children)}getButtonStyle(){return{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:3,height:this.getButtonHeight(),padding:this.props.isSmall?"0 6px":"0 12px",fontSize:this.props.isSmall?12:14,lineHeight:1.2,...this.getRegularStyle(),...this.props.style}}getRegularStyle(){return this.props.isRed?{color:s.g.red,border:"1px solid ".concat(this.theme.outlineRedButtonBorder)}:this.props.isBlue?{color:s.g.blue,border:"1px solid ".concat(this.theme.blueColor)}:this.props.backgroundColor?{border:"1px solid ".concat(this.theme.outlineButtonBorder),background:this.props.backgroundColor}:{border:"1px solid ".concat(this.theme.outlineButtonBorder)}}getHoveredBackground(){return this.props.isRed?this.theme.outlinefrontSecondaryButtonHoveredBackground:this.props.isBlue?this.theme.outlineBlueButtonHoveredBackground:this.props.backgroundColor?Object(s.h)([this.theme.buttonHoveredBackground,this.props.backgroundColor]):this.theme.buttonHoveredBackground}getPressedBackground(){return this.props.isRed?this.theme.outlinefrontSecondaryButtonPressedBackground:this.props.isBlue?this.theme.outlineBlueButtonPressedBackground:this.props.backgroundColor?Object(s.h)([this.theme.buttonPressedBackground,this.props.backgroundColor]):this.theme.buttonPressedBackground}getButtonHeight(){return this.props.isSmall?24:this.props.isLarge&&this.environment.device.isMobile?44:32}}t.a=l},IYZQ:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("prF1"),s=n("zmp8");class l extends a.a{renderComponent(){return r.a.createElement(i.a,{href:this.props.href,external:this.props.external,style:{...l.linkStyle,...this.props.style,...this.props.disableUnderline&&{textDecoration:"none"}},onClick:this.props.onClick,className:this.props.disableHover?void 0:"notion-link",onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.children)}}l.linkStyle={display:"inline",textDecoration:"underline",color:s.g.inherit},t.a=l},IdIf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"o",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"g",(function(){return C})),n.d(t,"d",(function(){return M})),n.d(t,"n",(function(){return E})),n.d(t,"l",(function(){return T}));n("3bBZ");var o,r=n("LvDl"),a=n.n(r),i=n("CARr"),s=n("qqv4");!function(e){e[e.Block=0]="Block",e[e.Page=1]="Page",e[e.Collection=2]="Collection",e[e.Table=3]="Table",e[e.Board=4]="Board",e[e.Calendar=5]="Calendar",e[e.List=6]="List",e[e.Gallery=7]="Gallery",e[e.Timeline=8]="Timeline"}(o||(o={}));const l=["show","hide_if_empty","hide"],c=["section_show","section_collapsed","section_hide"],d="medium",u=100,p=["hours","day","week","bi_week","month","quarter","year"],h={type:"load_limit",limit:50},m=[{type:"load_limit",limit:10},{type:"load_limit",limit:25},{type:"load_limit",limit:50},{type:"load_limit",limit:100},{type:"load_all"}];function f(e){return e||h}function g(e,t,n,r,a){if(e||(e={}),a===o.Table)e={...e,table_properties:y(e.table_properties||[],t,"force",!0)};else if(a===o.Board){const o=b(e.board_cover,t);!0===(e={...e,board_cover:o,board_groups2:Object(s.e)({groups:e.board_groups2||[],schema:t,groupBy:n,resultGroupValues:r}),board_properties:S(e.board_properties||[],t,M(o)?"allow":"force")}).board_title_visible&&(e.board_properties=T(e.board_properties||[],"title",!0),delete e.board_title_visible)}else if(a===o.Calendar)e={...e,calendar_properties:S(e.calendar_properties||[],t,"disallow")};else if(a===o.List)e={...e,list_properties:S(e.list_properties||[],t,"disallow")};else if(a===o.Gallery){const n=b(e.gallery_cover,t);!0===(e={...e,gallery_cover:n,gallery_properties:S(e.gallery_properties||[],t,M(n)?"allow":"force")}).gallery_title_visible&&(e.gallery_properties=T(e.gallery_properties||[],"title",!0),delete e.gallery_title_visible)}else if(a===o.Timeline){const n=y(e.timeline_table_properties||[],t,"allow",!1),o=n.some(({visible:e})=>Boolean(e)),r=E(Boolean(e.timeline_show_table),n);e={...e,timeline_properties:S(e.timeline_properties||[],t,r?"allow":"force"),timeline_table_properties:n,timeline_show_table:Boolean(e.timeline_show_table&&o)}}else if(a===o.Page||a===o.Collection){const n=S(e.collection_page_properties||[],t,"disallow"),o=t=>{const n=e.property_visibility;if(n){const e=n.find(({property:e})=>e===t);return e&&e.visibility}};e={...e,page_section_visibility:e.page_section_visibility||{backlinks:"section_collapsed",comments:"section_show"},property_visibility:n.map(e=>({property:e.property,visibility:o(e.property)||"show"})),collection_page_properties:n}}return e}function b(e,t){if(e&&"property"===e.type){const n=t[e.property];return n&&"file"===n.type?e:void 0}return e}function v(e){const t=Object.keys(e);return a.a.sortBy(t,t=>{if("title"===t)return"";{const n=e[t];return n?n.name:""}})}function y(e,t,n,o){let r=[...e];r=r.filter(e=>e&&Boolean(t[e.property])),"allow"===n?r=T(r,"title",!1):"disallow"===n?r=_(r,"title"):"force"===n&&(r=T(r,"title",!0));const i=r.some(e=>!e.visible),s=v(t);for(const a of s)if("title"!==a){e.find(e=>e.property===a)||(!i&&o?r.push({property:a,visible:!0}):r.push({property:a,visible:!1}))}return r=r.map(e=>{if(e.width)return e;{const t="title"===e.property?280:200;return{...e,width:t}}}),r=a.a.uniqBy(r,({property:e})=>e),r}function S(e,t,n){let o=[...e];o=o.filter(e=>e&&Boolean(t[e.property])),"allow"===n?o=T(o,"title",!1):"disallow"===n?o=_(o,"title"):"force"===n&&(o=T(o,"title",!0));const r=v(t);for(const a of r)if("title"!==a){o.find(e=>e.property===a)||o.push({property:a,visible:!1})}return o=a.a.uniqBy(o,({property:e})=>e),o}function w(e){return"table"===e?o.Table:"board"===e?o.Board:"calendar"===e?o.Calendar:"list"===e?o.List:"timeline"===e?o.Timeline:o.Gallery}function k(e){const{blockValue:t,property:n,schema:o,getRecordValue:r,userTimeZone:a,intl:s}=e;if(!t)return!1;if("title"===n)return!1;const l=o[n];return!(!l||"checkbox"!==l.type)||!i.w({property:n,schema:o,block:t,getRecordValue:r,userTimeZone:a,intl:s,normalizedSchemaCache:{}})}function C(e){return e&&e.format&&e.format.drive_properties}function M(e){return Boolean(e)}function E(e,t){return Boolean(e&&t.find(({property:e,visible:t})=>Boolean("title"===e&&t)))}function _(e,t){return e.filter(({property:e})=>e!==t)}function T(e,t,n){let o=[...e];const r=e.findIndex(e=>e.property===t),a=e[r];return a?!a.visible&&n&&(o[r]={...o[r],visible:!0}):o=[{property:t,visible:!0},...e],o}},IdSf:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("H4VD"),s=n("S26v"),l=n("zmp8"),c=n("MeYt"),d=n("zgcg");class u extends a.a{constructor(){super(...arguments),this.handleWrapClick=e=>{const{device:t}=this.environment;if(e.shiftKey)return void e.preventDefault();const n=e.metaKey||e.ctrlKey;!t.isElectron&&n||e.preventDefault()},this.handleClick=e=>{const{device:t}=this.environment,n=s.i({str:this.props.href,allowNoProtocol:!0}),o=s.i({str:this.props.metaHref,allowNoProtocol:!0}),r=e.metaKey||e.ctrlKey;if(e.shiftKey)e.preventDefault();else if(t.isElectron||!r){if(n)if(this.props.external)e.preventDefault(),i.navigateToExternalURL({environment:this.environment,url:o||n});else if(this.context.overrideLinkClick)this.context.overrideLinkClick(o||n);else{const e=r?n:o||n;i.navigate({environment:this.environment,url:e,metaClick:r})}this.props.onClick&&this.props.onClick(e)}}}renderComponent(){return r.a.createElement("a",{href:s.i({str:this.props.href,allowNoProtocol:!0}),style:this.getStyle(),target:this.props.external?"_blank":void 0,rel:"noopener noreferrer",onClick:this.handleWrapClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown},this.renderButton())}renderButton(){const{device:e}=this.environment;return r.a.createElement(c.a,{style:this.getInnerStyle(),hoveredStyle:this.props.hoveredStyle,pressedStyle:this.props.pressedStyle,mobileFeedback:e.isMobile,onClick:this.handleClick,hovered:this.props.hovered,ignoreLocalHoverState:this.props.ignoreLocalHoverState},this.props.children)}getStyle(){return{display:this.props.inline?"inline":"block",color:l.g.inherit,textDecoration:"none",...this.props.style}}getInnerStyle(){return{...this.props.underline&&{textDecoration:"underline"},...!this.props.inline&&{width:"100%"},...this.props.inline&&{display:"inline"},...this.props.innerStyle}}}u.contextTypes=d.a,t.a=u},Iece:function(e,t,n){"use strict";var o=n("GRWW");t.a=new o.a},"Ijt+":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("SR/M"),s=n("2Y+N"),l=n("nPEg"),c=n("gbGO"),d=n("WgIs"),u=n("LeVO"),p=n("uSCg"),h=n("wXH4"),m=n("4bJO"),f=n("7bRZ"),g=n("J9+s");const b=Object(g.defineMessages)({noneText:{defaultMessage:"None",id:"database.propertyAggregationMenu.noneText"}});class v extends a.a{renderComponent(){const{device:e}=this.environment;let t;return t=e.isMobile?{menuType:c.b.MenuType.Modal,title:r.a.createElement(g.FormattedMessage,{defaultMessage:"Table aggregation",id:"database.mobilePropertyAggregationMenu.title"}),right:r.a.createElement(l.DoneMenuText,null),onClickRight:this.props.onClose}:{menuType:c.b.MenuType.Popup,width:200},r.a.createElement(c.b,Object.assign({},t),r.a.createElement(d.a,{type:d.a.Type.Vertical,initialFocus:0,sections:[{key:0,render:e=>r.a.createElement(s.a,Object.assign({},e)),items:this.getAggregationActions()}],onAccept:this.props.onClose}))}getAggregationActions(){const e=[],{property:t,schema:n,source:o}=this.props,a=n[t];if(!a)return[];e.push({key:"none",render:e=>r.a.createElement(i.a,Object.assign({},e,{title:this.props.noneText||this.props.intl.formatMessage(b.noneText)})),action:()=>this.props.onChange(void 0)});for(const r of m.c)e.push(this.createAggregationAction(r));if(Object(f.h)(a))for(const r of m.e){const t=this.createAggregationAction(r);if("show_unique"===r)switch(o){case"tableAggregation":continue;case"rollupPropertyMenu":e.splice(1,0,t);continue}e.push(t)}if(Object(f.i)(a))for(const r of m.q)e.push(this.createAggregationAction(r));if(Object(f.g)(a))for(const r of m.d)e.push(this.createAggregationAction(r));if(Object(f.f)(a))for(const r of m.a)e.push(this.createAggregationAction(r));return e}createAggregationAction(e){const t=f.b[e];return{key:t,render:n=>r.a.createElement(u.a,{key:n.key,placement:h.a.Placement.Right,delayThreshold:0,render:e=>r.a.createElement(i.a,Object.assign({title:t},Object(p.a)(e,n))),renderTooltip:()=>r.a.createElement("div",{style:{width:140,whiteSpace:"normal"}},r.a.createElement("img",{src:f.c[e],style:{borderRadius:3,width:140,marginTop:4}}),f.a[e])}),action:()=>this.props.onChange(e)}}}t.a=Object(g.injectIntl)(v)},Ittr:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l}));n("3bBZ");var o=n("922z");const r="guest";function*a(e){for(const[t,n]of Object.entries(e))if(n)for(const e of n){const n={pointer:e.pointer,value:e.value,userId:t};yield n}}function i(e,t,n){const o=e[n=n||r];return o&&o.get(t)}function s(e,t,n,a){const i=e[n=n||r]||new o.a;e[n]!==i&&(e[n]=i),i.set(t,a)}function l(e,t,n){const a=e[n=n||r]||new o.a;e[n]!==a&&(e[n]=a),a.delete(t)}},IzPW:function(e,t,n){"use strict";n.d(t,"l",(function(){return L})),n.d(t,"m",(function(){return R})),n.d(t,"a",(function(){return V})),n.d(t,"n",(function(){return N})),n.d(t,"j",(function(){return U})),n.d(t,"k",(function(){return z})),n.d(t,"g",(function(){return X})),n.d(t,"i",(function(){return Y})),n.d(t,"h",(function(){return H})),n.d(t,"b",(function(){return W})),n.d(t,"c",(function(){return G})),n.d(t,"e",(function(){return Z})),n.d(t,"d",(function(){return K})),n.d(t,"f",(function(){return J}));n("3bBZ"),n("UxlC");var o=n("LvDl"),r=n.n(o),a=n("cBa6"),i=n("Ajfl"),s=n("V9q8"),l=n("RI9y"),c=n("GJWe"),d=n("hgQN"),u=n("D2XV"),p=n("B2+S"),h=n("DNgp"),m=n("vl8/"),f=n("fgBX"),g=n("A9TN"),b=n("nFzZ"),v=n("9c8K"),y=n("DyNK");function S(e){try{return Boolean(e&&e.nodeType===Node.ELEMENT_NODE)}catch(t){return!1}}function w(e){return S(e)&&e.hasAttribute("data-root")}function k(e){return S(e)&&e.classList.contains(c.d)}function C(e){return S(e)&&e.classList.contains(c.c)}function M(e){return function(e){const t=s.a(e,e=>Object(d.h)(e)||w(e));if(t&&k(t))return t}(e)||_(e)||function(e){const t=s.a(e,e=>C(e)||w(e));if(t&&C(t))return t}(e)}function E(e){return S(e)&&e.classList.contains(f.b)}function _(e){const t=s.a(e,e=>Object(d.h)(e)||w(e));if(t&&Object(d.h)(t))return t}const T=function(e){return S(e)&&e.classList.contains(c.a)},x=function(e){if(T(e))return!0;try{return T(e.parentNode)}catch(t){return!1}};function I(e){return s.a(e,w)}const P=function(e){try{const t=s.a(e,e=>Boolean(e.getAttribute&&e.getAttribute("contenteditable"))||w(e));return t&&t.isContentEditable}catch(t){return!1}};function O(e,t,n){const o=I(e);return o?function e(t,n,o){if(n===o.container){if(s.g(n)){const e=n.textContent||"";return r.a.toArray(e.substring(0,o.offset)).length}{const e=Array.from(n.childNodes).slice(0,o.offset).map(e=>j(D(t,e))).join("");return r.a.toArray(e).length}}let a=0;for(const i of Array.from(n.childNodes)){if(i.contains(o.container))return a+e(t,i,o);a+=r.a.toArray(j(D(t,i))).length}return a}(n,o,function(e,t){const n=M(e);if(n){const e=n.parentNode,o=Array.from(e.childNodes).indexOf(n);return{container:e,offset:0===t?o:o+1}}if(T(e)||T(e.parentNode)){return{container:e,offset:(e.textContent||" ").length-1}}return{container:e,offset:t}}(e,t)):0}function B(e,t,n){if(0===n)return!(t.childNodes.length>0)||k(t.childNodes[0])||E(t.childNodes[0])||Object(d.h)(t.childNodes[0])||C(t.childNodes[0])?{container:t,offset:0}:{container:t.childNodes[0],offset:0};let o=n;for(let a=0;a<t.childNodes.length;a++){const n=t.childNodes[a],i=j(D(e,n)),l=r.a.toArray(i).length;if(a===t.childNodes.length-1?o-l<=0:o-l<0){if(k(n)||Object(d.h)(n)||E(n)||T(n)||C(n))return{container:n.parentNode,offset:s.b(n.parentNode,n)};if(n.nodeType===Node.TEXT_NODE){return{container:n,offset:r.a.slice(r.a.toArray(i),0,o).join("").length}}return B(e,n,o)}o-=l}return{container:t,offset:0}}function L(e){const{environment:{device:t,currentUser:n},textValue:o,parentStore:r,disableHover:a,disableStyleAnnotations:i,disableDateStyleAnnotations:s,disabled:l,emojiType:d,highlightDiscussionId:p,parentBlockId:h,theme:f,katex:b}=e,v=r.getRecordValue;return c.i({textValue:o,getRecordValue:v,disableHover:a,disableStyleAnnotations:i,disableDateStyleAnnotations:s,disableLinks:!1,userTimeZone:u.m,disabled:l,isAndroid:t.isAndroid,isSafariOrIOS:t.isSafari||t.isIOS,showEmojiInline:t.isWindows,emojiType:d,highlightDiscussionId:p,theme:f,intl:m.default.getIntl(),parentBlockId:h,katex:b,baseUrl:g.default.baseURL,isClient:!0,currentUserId:n.id})}const R=function(e,t){return c.k({textValue:e,getRecordValue:t.getRecordValue,userTimeZone:u.m,intl:m.default.getIntl()})};function D(e,t){let n="";if(k(t))n+=a.Gb;else if(Object(d.h)(t))n=a.q;else if(E(t))n+=t.alt;else if(function(e){return S(e)&&"br"===e.tagName.toLowerCase()}(t))n+="\n";else if(s.g(t))n+=t.textContent;else if(C(t));else for(const o of Array.from(t.childNodes))n+=D(e,o);return n}const A=new RegExp(c.e,"g");function j(e){return e.replace(A,"")}const F={[a.Gb]:{deleteEndToken:new RegExp("".concat(a.Gb,"$"),"g"),deleteToken:new RegExp("(".concat(a.Gb,")([^").concat(c.e,"])"),"g"),existingToken:new RegExp("".concat(a.Gb).concat(c.e),"g")},[a.q]:{deleteEndToken:new RegExp("".concat(a.q,"$"),"g"),deleteToken:new RegExp("(".concat(a.q,")([^").concat(c.e,"])"),"g"),existingToken:new RegExp("".concat(a.q).concat(c.e),"g")}};function V(e,t){if(!t)return"";let n=D(e,t);if(e.device.isAndroid)for(const[o,r]of Object.entries(F))n=n.replace(r.deleteEndToken,"").replace(r.deleteToken,"$2").replace(r.existingToken,o);return"\n"===n[n.length-1]&&(n=n.substring(0,n.length-1)),n}function N(e,t){if(t||(t=l.get()),t){const n=O(t.startContainer,t.startOffset,e),o=O(t.endContainer,t.endOffset,e),r=M(t.startContainer)||M(t.endContainer);return{selection:{startIndex:n,endIndex:o},forceEmitSelectionStore:Boolean(r)}}}function U(e,t,n,o){const r=B(e,t,n),a=B(e,t,o),i=document.createRange();if(r.container)try{i.setStart(r.container,r.offset)}catch(s){console.info(s)}if(a.container)try{i.setEnd(a.container,a.offset)}catch(s){console.info(s)}return i}function z(e,t,n){if(t||n){if(t&&n){if(x(t.startContainer)!==x(n.startContainer))return!1;if(x(t.endContainer)!==x(n.endContainer))return!1;if(_(t.startContainer)!==_(n.startContainer))return!1;if(_(t.endContainer)!==_(n.endContainer))return!1;if(t.startOffset===n.startOffset&&t.endOffset===n.endOffset&&t.startContainer===n.startContainer&&t.endContainer===n.endContainer)return!0;if(P(t.startContainer)&&P(n.startContainer)){const o=I(t.startContainer),r=I(n.startContainer),a=I(t.endContainer),i=I(n.endContainer),s=O(t.startContainer,t.startOffset,e),l=O(n.startContainer,n.startOffset,e),c=O(t.endContainer,t.endOffset,e),d=O(n.endContainer,n.endOffset,e);return o===r&&a===i&&s===l&&c===d}return!1}return!1}return!0}const X=e=>{const{environment:t,event:n,textValue:o,editorNode:r,store:a,canEdit:s}=e,l=q({event:n,textValue:o,editorNode:r});(t.device.isFirefox||"editing"!==h.default.state.mode||h.default.isEmptySelection()||l&&Object(d.h)(l.node))&&l&&i.g({environment:t,event:n,interactiveToken:l,store:a,canEdit:s})};function Y(e){const{environment:t,event:n,textValue:o,editorNode:r,store:a,canEdit:s}=e,l=q({event:n,textValue:o,editorNode:r});l&&i.i({environment:t,event:n,interactiveToken:l,store:a,canEdit:s})}function H(e){const{environment:t,event:n,textValue:o,editorNode:r,store:a,canEdit:s}=e;if(n.target===r)return void Object(y.a)();const l=q({event:n,textValue:o,editorNode:r});l&&i.h({environment:t,event:n,interactiveToken:l,store:a,canEdit:s})}const q=e=>{const{event:t,textValue:n,editorNode:o}=e,r=s.a(t.target,e=>Boolean(e.getAttribute&&e.getAttribute("data-token-index")));if(r&&o.contains(r)){const e=r.getAttribute("data-token-index");if(e){const t=parseInt(e);if(n){const e=n[t];if(e)return{textValue:n,tokenIndex:t,textToken:e,node:r}}}}},W=e=>{const{store:t}=e,n=t.getValue();if(p.a.state.open&&"inline"===p.a.state.type){const{selection:e,textStore:o}=p.a.state;if(t===o)return a.a({textValue:n,selection:e,annotation:["z"]})}return n};function G(e){const{store:t,equationStore:n}=e;if(!n.isOpen())return;const{store:o,selection:r}=n.state.savedTextSelectionState;if(t!==o)return;const i=o.getValue(),s=r.startIndex===r.endIndex?i:a.p(i,r.startIndex,r.endIndex),l=d.a({equationState:n.state,isTemporary:!0});return l?a.nb(s,[l],r.startIndex):void 0}function Z(e){const{store:t,selection:n}=e,o=t.getValue();if(n.startIndex+1!==n.endIndex)return o;const r=a.gb(o,n.startIndex);if(!r||!a.Ab(r))return o;const i=n.startIndex===n.endIndex?o:a.p(o,n.startIndex,n.endIndex),s=Object(b.f)(r[1],a.Db),l=[r[0],[...s,a.l()]];return a.nb(i,[l],n.startIndex)}function K(e){const{store:t,mentionMenuState:n}=e,o=t.getValue();if(n.textStore!==t)return o;const r=n.temporaryInputData.get();if(!r)return o;const i=Object(v.c)(t,n.oldTextValue,r.prefix);if(i&&i.prefix){const{tokensBeforeRange:e,tokensInsideRange:t,tokensAfterRange:n}=a.Nb(o,i.prefix.startIndex,i.filter.endIndex),s=a.Y(t);return[...e,a.n(s,[a.k(r)]),...n]}return o}function J(e){const{store:t,selection:n}=e,o=t.getValue(),{tokensBeforeRange:r,tokensInsideRange:i,tokensAfterRange:s}=a.Nb(o,n.startIndex,n.endIndex),l=a.Y(i);return[...r,a.n(l,[[a.b.TemporarySelection]]),...s]}},"J9+s":function(e,t,n){"use strict";n.r(t),n.d(t,"defineMessages",(function(){return c}));n("4Brf");var o=n("BK0h");n.d(t,"createIntl",(function(){return o.a}));var r=n("MyaD");n.d(t,"createIntlCache",(function(){return r.d}));var a=n("zSVi");n.d(t,"injectIntl",(function(){return a.c}));var i=n("52Oh");n.d(t,"useIntl",(function(){return i.a}));var s=n("7++0");n.d(t,"FormattedList",(function(){return s.b}));var l=n("24R3");n.d(t,"FormattedMessage",(function(){return l.a})),n.d(t,"FormattedNumber",(function(){return s.c})),n.d(t,"IntlProvider",(function(){return o.b})),n.d(t,"RawIntlProvider",(function(){return a.b})),n.d(t,"FormattedDate",(function(){return s.a}));Symbol("defined message descriptor");function c(e){return e}},JBsN:function(e,t,n){"use strict";n("3bBZ"),n("Junv");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("wldR"),l=n("LeVO"),c=n("tvfY"),d=n("GojS"),u=n("mKX5"),p=n("8SB7"),h=n("58VE"),m=n("5/h/"),f=n("MeYt"),g=n("X6Ne"),b=n("aEEb"),v=n("J9+s"),y=n("3+J3"),S=n("JuT7"),w=n("Ko8Q"),k=n("dlZW");class C extends s.a{willMount(){this.startMessageStoreListener()}willUnmount(){this.stopMessageStoreListener()}didUpdate(){this.stopMessageStoreListener(),this.startMessageStoreListener()}async startMessageStoreListener(){const{block:e}=this.props;if(await k.transactionQueue.awaitRecordTransaction(e.pointer),!this.componentIsMounted)return;const t=Object(w.g)(e.id);this.messageStoreListenerReference=S.a.addListener(t,i.a.throttle(()=>y.b(this.environment,{block:this.props.block,pageVisitStore:this.props.pageVisitStore,incremental:!0,limit:this.props.limit}),1e3),void 0)}stopMessageStoreListener(){this.messageStoreListenerReference&&(S.a.removeListener(this.messageStoreListenerReference),this.messageStoreListenerReference=void 0)}}var M=C;class E extends s.a{constructor(){super(...arguments),this.renderAvatar=e=>{const{userId:t}=e,n=Object(p.c)(this.environment,e),o=this.getUserValue(t);if(o)return r.a.createElement(l.a,{key:t,textWrap:!0,renderTooltip:()=>this.renderAvatarTooltip(e,n),render:t=>{const a=r.a.createElement(h.a,{userValue:o,style:this.getUserAvatarStyle(),isOffline:!n,size:E.avatarSize,avatarShouldShowShadow:!0});if(n&&e.blockId){const n=e.blockId;return r.a.createElement(f.a,Object.assign({},t,{onClick:()=>g.c([n],!0),style:E.avatarButtonStyle,hoveredStyle:E.avatarButtonHoveredStyle,pressedStyle:E.avatarButtonPressedStyle}),a)}return r.a.createElement("div",Object.assign({},t),a)}})},this.renderHiddenUsersTooltipItem=(e,t)=>{const n=Object(p.c)(this.environment,e),o=this.getUserValue(e.userId);if(!o)return;let a;!n&&e.activityTimestamp&&(a=Object(u.a)(e.activityTimestamp).fromNow());const i=r.a.createElement("div",{style:{display:"flex",alignContent:"flex-end",minWidth:140,width:"100%",marginTop:4}},r.a.createElement(d.a,{userValue:o,avatarSize:18,style:{flexGrow:1}}),r.a.createElement("div",{style:{marginLeft:"auto",paddingLeft:12,textAlign:"right",flexShrink:1,color:this.theme.mediumInvertedTextColor}},a));if(n&&e.blockId){const n=e.blockId;return r.a.createElement(f.a,{onClick:()=>g.c([n],!0),style:{display:"flex",alignItems:"center"},key:t},i)}return r.a.createElement("div",{style:{display:"flex",alignItems:"center"},key:t},i)},this.renderStateStore=this.createComputedStore(()=>{const{pageVisitStore:e,presenceStore:t}=this.props,n=Object(p.a)(e,t),o=this.environment.currentUser.id;if(!o)return;const r=this.getUserValue(o),a=n.find(e=>e.userId===o);if(!a||!r)return;let s=n.filter(e=>e.userId!==o&&Object(p.c)(this.environment,e));s=this.orderPresenceData(s).reverse();const l=this.orderPresenceData(i.a.difference(n,s,[a])).reverse(),c=[...s,...l];return{visibleUsers:c.slice(0,E.maxUsers),hiddenUsers:c.slice(E.maxUsers)}},!0)}renderComponent(){return r.a.createElement(r.a.Fragment,null,this.renderPresence(),r.a.createElement(M,{block:this.props.rootStore,pageVisitStore:this.props.pageVisitStore,limit:1+E.maxUsers+E.maxOtherUsers}))}renderPresence(){const e=this.environment.currentUser.id;if(!e)return;const t=this.renderStateStore.state;if(!t)return;const{visibleUsers:n,hiddenUsers:o}=t;if([e,...n.map(e=>e.userId),...o.map(e=>e.userId)].map(e=>this.createUserStore(e)).every(e=>e.isReady())&&(n.length>0||o.length>0)){const t=[...n];return t.reverse(),r.a.createElement("div",{style:this.getStyle()},o.length>0&&this.renderHiddenUsers(o),t.map(this.renderAvatar),this.renderAvatar({userId:e,present:!0}))}}renderAvatarTooltip(e,t){const n=this.environment.currentUser.id,o=this.getUserValue(e.userId);if(!o)return;let a;return t?n!==o.id&&(a=e.blockId?r.a.createElement(v.FormattedMessage,{defaultMessage:"Viewing now. Click to see where they are.",id:"topbar.presenceIndicator.viewingNowWithLocation.tooltip"}):r.a.createElement(v.FormattedMessage,{defaultMessage:"Viewing now",id:"topbar.presenceIndicator.viewingNow.tooltip"})):n!==o.id&&e.activityTimestamp&&(a=r.a.createElement(v.FormattedMessage,{defaultMessage:"Last viewed {timeFromNow}",id:"topbar.presenceIndicator.lastViewedTime.tooltip",values:{timeFromNow:Object(u.a)(Math.min(e.activityTimestamp,Date.now())).fromNow()}})),r.a.createElement("div",null,r.a.createElement("div",{className:"notranslate"},Object(m.e)(o)),r.a.createElement("div",{style:{fontWeight:400}},o.email),a&&r.a.createElement("div",{style:{color:this.theme.mediumInvertedTextColor,minWidth:150,paddingTop:2,paddingBottom:2,lineHeight:1.3}},a))}renderHiddenUsers(e){return r.a.createElement(l.a,{allowHover:!0,originGap:7,renderTooltip:t=>{const n=[],o=[];for(const r of e)Object(p.c)(this.environment,r)?n.push(r):o.push(r);const a=o.slice(0,E.maxOtherUsers-n.length);return r.a.createElement("div",Object.assign({},t),n.length>0&&r.a.createElement("div",{style:{marginBottom:4}},r.a.createElement(b.a,{style:this.getTooltipSectionLabelStyle()},r.a.createElement(v.FormattedMessage,{defaultMessage:"Viewing now",id:"topbar.presenceIndicator.hiddenUsers.viewingNow.tooltip"})),n.map(this.renderHiddenUsersTooltipItem)),a.length>0&&r.a.createElement("div",{style:{marginBottom:4}},r.a.createElement(b.a,{style:{...this.getTooltipSectionLabelStyle()}},r.a.createElement(v.FormattedMessage,{defaultMessage:"Last viewed by",id:"topbar.presenceIndicator.hiddenUsers.lastViewedBy.tooltip"})),a.map(this.renderHiddenUsersTooltipItem)),o.length>a.length&&r.a.createElement("div",{style:{marginLeft:2,marginTop:2,color:this.theme.mediumInvertedTextColor}},r.a.createElement(v.FormattedMessage,{defaultMessage:"{notViewingMoreUsersCount} more…",id:"topbarPresence.presenceIndicator.hiddenUsers.moreUsersNotViewing.tooltip",values:{notViewingMoreUsersCount:o.length-a.length}})))},render:t=>r.a.createElement("div",Object.assign({style:{color:this.theme.mediumTextColor,fontSize:14,marginLeft:2*E.avatarOverlap,marginRight:-E.avatarOverlap,whiteSpace:"nowrap"}},t),r.a.createElement(v.FormattedMessage,{defaultMessage:"{hiddenUsersCount, plural, one {+ {hiddenUsersCount} other} other {+ {hiddenUsersCount} others}}",id:"topbar.presenceIndicator.hiddenUsers.otherCount.message",values:{hiddenUsersCount:e.length}}))})}orderPresenceData(e){const t=e.map(e=>{const t=e.activityTimestamp?e.activityTimestamp:864e5;return{data:e,sort:Math.floor(t/1e3/60).toString().padStart(10,"0")+e.userId}});return i.a.sortBy(t,e=>e.sort).map(e=>e.data)}getUserValue(e){const{rootStore:t}=this.props;return c.a.createChildStore(t,{table:m.a,id:e}).getValue()}createUserStore(e){const{rootStore:t}=this.props;return c.a.createChildStore(t,{table:m.a,id:e})}getStyle(){return{display:"flex",alignItems:"center",position:"relative",flexDirection:"row-reverse",marginRight:10+E.avatarOverlap,marginLeft:4+E.avatarOverlap,transform:"translateZ(0)"}}getUserAvatarStyle(){return{width:E.avatarSize,height:E.avatarSize,borderRadius:E.avatarSize,marginRight:-E.avatarOverlap,position:"relative"}}getTooltipSectionLabelStyle(){return{color:this.theme.mediumInvertedTextColor,fontSize:10,textTransform:"uppercase",letterSpacing:"0.015em"}}}E.maxUsers=6,E.maxOtherUsers=25,E.avatarSize=23,E.avatarOverlap=5,E.avatarButtonStyle={transition:"all 0.2s ease",transform:"scale(1)"},E.avatarButtonHoveredStyle={transform:"scale(1.15)",background:"none"},E.avatarButtonPressedStyle={transform:"scale(0.9)",background:"none"};t.a=E},JMnu:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("GojS"),s=n("7Q97"),l=n("mF3+"),c=n("MeYt"),d=n("58VE"),u=n("V1wX"),p=n("5/h/"),h=n("I8ZR"),m=n("kdGy");class f extends a.a{renderComponent(){return r.a.createElement("div",{style:this.getStyle()},this.renderActor(),this.renderRemoveButton())}renderActor(){const{actor:e,format:t}=this.props,{avatarSize:n}=f.styles[t];if(e.table===p.a){const o=e.value;return t===s.a.Inline?r.a.createElement(d.a,{userValue:o,size:n,avatarShouldShowShadow:!0,hasTooltip:!0,style:{minWidth:0}}):r.a.createElement(i.a,{userValue:o,avatarSize:n,inline:!0,style:{minWidth:0}})}{const o=e.value;return t===s.a.Inline?r.a.createElement(m.a,{botValue:o,size:n,style:{minWidth:0}}):r.a.createElement(h.a,{botValue:o,avatarSize:n,inline:!0,style:{minWidth:0}})}}renderRemoveButton(){const{height:e,closeIconSize:t}=f.styles[this.props.format];if(this.props.showRemoveButton)return r.a.createElement(c.a,{onClick:this.props.onClickRemove,style:{display:"flex",alignItems:"center",justifyContent:"center",width:e,height:e,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:3}},l.a.closeThick({width:t,height:t,opacity:.5}))}getStyle(){const{format:e,isSingle:t,showRemoveButton:n,shouldShrink:o}=this.props,{height:r,fontSize:a,margin:i,marginEditState:s}=f.styles[e];return{display:"flex",alignItems:"center",flexShrink:o?1:0,minWidth:0,height:r,borderRadius:3,fontSize:a,lineHeight:"120%",margin:t?0:n?s:i}}}function g(e){const{userValue:t,...n}=e;return r.a.createElement(f,Object.assign({actor:Object(u.i)(t)},n))}function b(e){const{botValue:t,...n}=e;return r.a.createElement(f,Object.assign({actor:Object(u.h)(t)},n))}f.Format=s.a,f.styles={[s.a.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[s.a.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:16},[s.a.Medium]:{height:18,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[s.a.Inline]:{height:18,fontSize:14,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:20},[s.a.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:10,avatarSize:20}},t.c=f,g.Format=f.Format,b.Format=f.Format},JQ0b:function(e,t,n){"use strict";n("3bBZ"),n("SYor");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("wldR"),l=n("qzno"),c=n("njgS"),d=n("VOS9"),u=n("G4GV"),p=n("yNyh"),h=n("uSCg"),m=n("EZe4"),f=n("zEGb"),g=n("y6Dp"),b=n("DNfA"),v=n("gbGO"),y=n("nPEg"),S=n("dXb3"),w=n("LeVO"),k=n("SR/M"),C=n("QkuB"),M=n("2Y+N"),E=n("B22C"),_=n("wXH4"),T=n("XDBA"),x=n("6rsX"),I=n("unoy"),P=n("JZPr"),O=n("zmp8"),B=n("Pqcg"),L=n("J9+s"),R=n("Nxch"),D=n("mF3+"),A=n("ox2z"),j=n("i8i4"),F=n.n(j),V=n("VhAz"),N=n("aEEb"),U=n("hU3F");const z=Object(L.defineMessages)({propertyTypeSectionTitle:{defaultMessage:"Property Type",id:"database.editPropertyButtonPopup.propertyTypeSectionTitle"},extensionMenuSectionTitleBasic:{defaultMessage:"Basic",id:"database.editPropertyButtonPopup.extensionMenuSectionTitleBasic"},extensionMenuSectionTitleAdvanced:{defaultMessage:"Advanced",id:"database.editPropertyButtonPopup.extensionMenuSectionTitleAdvanced"}});class X extends s.a{constructor(){super(...arguments),this.popupContainer=null,this.wasOpen=!1,this.storeTypes={nameInputStore:u.a,alert:U.a.of(void 0)},this.renderPopup=()=>{const{device:e}=this.environment,{canEditCollection:t}=this.props,{inputValue:n}=this.stores.nameInputStore.state,o=this.stores.alert.get();let a;return a=e.isMobile?{menuType:v.b.MenuType.Modal,title:r.a.createElement(L.FormattedMessage,{id:"database.editProperty.mobile.title",defaultMessage:"Edit property"}),right:r.a.createElement(y.DoneMenuText,null),onClickRight:this.handleNameInputSubmit,rightDisabled:void 0!==o}:{menuType:v.b.MenuType.Popup,width:240},r.a.createElement(v.b,Object.assign({},a),r.a.createElement(M.a,{isInput:!0},r.a.createElement(S.a,{value:n,format:p.b.Format.Default,focus:!e.isMobile||void 0,selectAll:!0,disabled:this.props.disabled||!t,onChange:this.handleNameInputChange,onSubmit:this.handleNameInputSubmit,mobileEditLabel:r.a.createElement(L.FormattedMessage,{id:"database.editProperty.rename.buttonLabel",defaultMessage:"Rename"}),placeholder:this.props.intl.formatMessage({id:"database.editProperty.rename.placeholder",defaultMessage:"Property name"})}),this.renderAlert(o)),this.renderActionMenu())},this.createPropertyAction=e=>{const t=l.n[e];return{key:e,displayName:t,analyticsName:t,searchName:t,validators:[],render:n=>r.a.createElement(w.a,{key:n.key,placement:w.a.Placement.Right,render:o=>r.a.createElement(k.a,Object.assign({},Object(h.a)(n,o),{title:t,icon:r.a.createElement(f.a,{type:e,size:14,theme:this.theme,style:{fill:this.theme.regularIconColor}})})),renderTooltip:()=>this.renderTooltip(e)}),action:()=>{this.setPropertyType(e)},closeParentMenu:!0}},this.handleClick=()=>{I.f(this.environment),x.e(this.environment),P.e(),this.props.onOpen()},this.handleContextMenu=e=>{Object(m.d)({event:e,context:m.a.EditorContextMenu,callback:()=>{this.props.disabled||(e.preventDefault(),this.props.onOpen())}})},this.handleNameInputChange=e=>{const{nameInputStore:t}=this.stores,{property:n}=this.props,o=this.mutatedSchema||this.props.schema,r=(e.target.value||"").trim(),a=Object(V.b)(o).some(([e,t])=>Boolean(t&&n!==e&&t.name===r));if(t.setState({...t.state,inputValue:e.target.value}),a){const e=this.props.intl.formatMessage({id:"editPropertyButtonPopup.duplicatePropertyNameError",defaultMessage:"A property named {propertyName} already exists in this database."},{propertyName:r});this.stores.alert.set(e)}else this.stores.alert.set(void 0)},this.handleNameInputSubmit=()=>{const{property:e,onChange:t,from:n}=this.props,o=this.mutatedSchema||this.props.schema,{nameInputStore:r}=this.stores,a=(r.state.inputValue||"").trim(),i=this.stores.alert.get(),s=o[e];if(!s||void 0!==i)return;const l=s.name;if(a&&a!==l&&void 0===i){const n={...o,[e]:{...s,name:a}};this.mutatedSchema=n,t({newSchema:n})}g.Q(this.environment,{property_type:s.type,from:n,action:"rename"}),this.props.onClose()}}willMountOrUpdate(e){super.willMountOrUpdate(e);const{property:t,schema:n,open:o}=e,{nameInputStore:r}=this.stores;if(o){if(!this.wasOpen){this.wasOpen=!0;const e=n[t];e&&r.setState({...r.state,inputValue:e.name})}}else this.wasOpen=!1;this.mutatedSchema=void 0}renderComponent(){const{device:e}=this.environment,{property:t,schema:n,open:o}=this.props;if(n[t])return r.a.createElement(_.a,{open:o,popupType:e.isMobile?_.a.PopupType.SlideUp:_.a.PopupType.Popup,onDismiss:this.handleNameInputSubmit,origin:this.props.renderOrigin({onContextMenu:this.handleContextMenu,onClick:this.handleClick}),render:this.renderPopup,ref:e=>{this.popupContainer=e}})}renderAlert(e){if(void 0!==e)return r.a.createElement(N.a,{isMultiline:!0,style:{paddingTop:8,marginLeft:16,marginRight:16,color:O.g.red}},e)}renderTitlePropertyMenuItem(e,t){return r.a.createElement(w.a,{key:t.key,placement:b.b.Top,renderTooltip:()=>r.a.createElement("div",{style:{width:260}},r.a.createElement(L.FormattedMessage,{defaultMessage:"The Name column is used as the title of each page in the database and cannot be changed.",id:"database.editProperty.name.tooltip"})),textWrap:!0,render:n=>r.a.createElement(C.b,Object.assign({},Object(h.a)(t,n),{propertySchema:e,format:C.b.DisplayFormat.Type}))})}getPropertyExtensionAction(e){const{device:t}=this.environment,n=l.n[e.type],o=[];return this.isSystemProperty()||(o.push({key:"basic section",title:this.props.intl.formatMessage(z.extensionMenuSectionTitleBasic),render:e=>r.a.createElement(M.a,Object.assign({isTitleUppercase:!0},e)),actions:[this.createPropertyAction("text"),this.createPropertyAction("number"),this.createPropertyAction("select"),this.createPropertyAction("multi_select"),this.createPropertyAction("date"),this.createPropertyAction("person"),this.createPropertyAction("file"),this.createPropertyAction("checkbox"),this.createPropertyAction("url"),this.createPropertyAction("email"),this.createPropertyAction("phone_number")]}),o.push({key:"advanced section",title:this.props.intl.formatMessage(z.extensionMenuSectionTitleAdvanced),render:e=>r.a.createElement(M.a,Object.assign({isTitleUppercase:!0},e)),actions:[this.createPropertyAction("formula"),this.createPropertyAction("relation"),this.createPropertyAction("rollup"),this.createPropertyAction("created_time"),this.createPropertyAction("created_by"),this.createPropertyAction("last_edited_time"),this.createPropertyAction("last_edited_by")]})),{key:n,displayName:n,analyticsName:n,searchName:n,validators:[],render:(n,a,i)=>r.a.createElement(E.a,Object.assign({},n,{renderOrigin:t=>r.a.createElement(C.b,Object.assign({},t,{propertySchema:e,format:C.b.DisplayFormat.Type})),onFocus:i.onFocus,renderExtension:(e,n)=>{let s;return s=t.isMobile?{menuType:v.b.MenuType.Modal,title:r.a.createElement(L.FormattedMessage,{id:"database.editProperty.mobile.title",defaultMessage:"Edit property"}),right:r.a.createElement(y.DoneMenuText,null),onClickRight:n.close,...e}:{menuType:v.b.MenuType.Popup,width:200,height:457,maxHeight:"80vh",...e},r.a.createElement(v.b,Object.assign({},s),r.a.createElement(d.a,{context:a,sections:o,onAccept:i.onAccept}))}})),subActions:e=>[{key:0,title:void 0,render:e=>r.a.createElement(M.a,Object.assign({isTitleUppercase:!0},e)),actions:i.a.flatten(o.map(e=>e.actions))}],action:()=>null,closeParentMenu:!0}}getActionMenuActions(e){const t=[];if(this.props.canEditCollection)if("title"===this.props.property){const n=l.n[e.type];t.push({key:"title ".concat(n),displayName:n,analyticsName:n,searchName:n,validators:[],render:t=>this.renderTitlePropertyMenuItem(e,{...t,onClick:i.a.identity}),closeParentMenu:!0,action:()=>null})}else t.push(this.getPropertyExtensionAction(e));return t}renderActionMenu(){const e=this.props.schema[this.props.property];if(!e)return;const t=[];if(t.push({key:"property type section",title:this.props.intl.formatMessage(z.propertyTypeSectionTitle),render:e=>r.a.createElement(M.a,Object.assign({isTitleUppercase:!0},e)),actions:this.getActionMenuActions(e)}),this.props.actions.length>0&&t.push({key:"extra subactions",render:e=>r.a.createElement(M.a,Object.assign({},e)),actions:this.props.actions}),"view_properties"!==this.props.from&&"table"!==this.props.from){const e=this.props.intl.formatMessage({id:"editPropertyButtonPopup.customizePage.label",defaultMessage:"Customize page"});t.push({key:"edit page subactions",render:e=>r.a.createElement(M.a,Object.assign({},e)),actions:[{key:"customizePage",displayName:e,analyticsName:e,searchName:e,render:(t,n)=>r.a.createElement(A.a,Object.assign({},t,{title:e,svg:D.a.customizePage})),closeParentMenu:!0,action:e=>{const t=F.a.findDOMNode(this.popupContainer);if(t&&t instanceof Element){const e=t.getBoundingClientRect();R.b({originRect:e})}}}]})}return r.a.createElement(d.a,{disableKeyboard:!0,context:{blocks:[],environment:this.environment},sections:t,onAccept:this.handleNameInputSubmit})}renderTooltip(e){const t=l.j(e),n=l.m[e];return r.a.createElement(B.a,{imageURL:n,imageWidth:140,imageHeight:100,caption:t})}isSystemProperty(){return c.r.includes(this.props.property)}async setPropertyType(e){const{property:t,collectionId:n,onChange:o,from:r}=this.props,a=this.mutatedSchema||this.props.schema,i=await T.k({environment:this.environment,collectionId:n,schema:a,property:t,propertyType:e});i&&(this.mutatedSchema=i.newSchema,o(i),g.Q(this.environment,{property_type:e,from:r,action:"change_type"}))}}t.a=Object(L.injectIntl)(X)},JSZu:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i3uR"),i=n("g4rC");const s=new i.a,l=new i.a;var c=n("vJXr"),d=n("SiBm"),u=n("J9+s"),p=n("nPEg"),h=n("SR/M"),m=n("gbGO"),f=n("wldR"),g=n("Rtjx"),b=n("/6eU"),v=n("Sb6f"),y=n("9M6r"),S=n("7M94"),w=n("VyA+"),k=n("LvDl"),C=n.n(k),M=n("1Imc"),E=n("62KP");class _ extends f.a{constructor(){super(...arguments),this.storeTypes={loginStore:M.a,loginPermissionsStore:E.a},this.renderLoginAction=e=>{const{redirectURL:t}=this.props,{device:n}=this.environment;return r.a.createElement("div",{style:{height:"100%"}},!n.isMobile&&r.a.createElement("div",{style:this.getCancelStyle(),onClick:()=>d.a.setState({...d.a.getState(),open:!1})},r.a.createElement(u.FormattedMessage,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})),r.a.createElement("div",{style:this.getLoginActionWrapperStyle()},!n.isMobile&&r.a.createElement("div",{style:this.getTitleStyle()},r.a.createElement(u.FormattedMessage,Object.assign({},Object(g.e)(this.props.intl,e)))),r.a.createElement("div",{style:this.getDescriptionStyle()},this.renderDescription(e)),r.a.createElement(w.a,{capture:!0,onBackspace:C.a.identity,onLeft:C.a.identity,onRight:C.a.identity,onSelectAll:C.a.identity,onRedo:C.a.identity,onUndo:C.a.identity,onCut:C.a.identity,onCopy:C.a.identity,onPaste:C.a.identity,onKeypress:C.a.identity,onDelete:C.a.identity,onTab:C.a.identity},r.a.createElement(y.a,Object.assign({style:this.getLoginActionStyle(),emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0,disableDisclaimer:!0,redirectURL:t,disableLoginLink:this.props.disableLoginLink},this.stores)))))},this.renderAccountActionModal=()=>{const{open:e,createType:t}=d.a.state;return r.a.createElement(b.a,{open:e,innerStyle:this.getModalStyle(),onDismiss:()=>{d.a.reset(),this.stores.loginStore.reset()},render:()=>{if(t)return this.renderLoginAction(t)},className:S.Db})},this.getAccountActionStyle=()=>{const{device:e}=this.environment;return{display:"flex",color:this.theme.mediumTextColor,whiteSpace:"nowrap",fontSize:e.isMobile?16:12}}}willMount(e){super.willMount(e);const{loginStore:t}=this.stores;"email"===t.state.loginType&&this.environment.device.isMobile&&t.setState({...t.state,loginType:"google"})}renderComponent(){const{online:e}=c.a.state,{device:t}=this.environment,{createType:n}=this.props;return t.isMobile?r.a.createElement(a.a,{popupType:a.a.PopupType.SlideUp,buttonPopupStore:"add-account"===n?l:s,alignmentToOrigin:a.a.Alignment.Start,placementToOrigin:a.a.Placement.Top,originGap:0,isFullWidthOnMobile:!0,render:e=>this.renderAccountActionMenu(n,e),preventScaleTransition:!0,renderOrigin:t=>r.a.createElement(h.a,Object.assign({focused:!1,disabled:!e,title:this.renderMenuButtonLoginTitle(n)},t))}):r.a.createElement("div",{onClick:()=>{e&&d.a.setState({...d.a.getState(),open:!0,createType:n})}},r.a.createElement(h.a,{focused:!1,disabled:!e,title:this.renderMenuButtonLoginTitle(n)}),this.renderAccountActionModal())}renderMenuButtonLoginTitle(e){switch(e){case"create-work":return r.a.createElement("div",{style:this.getAccountActionStyle()},r.a.createElement(u.FormattedMessage,{defaultMessage:"Create work account",id:"sidebarSwitcherMultiAccount.menuItem.createWorkAccountButton.label"}));case"add-account":return r.a.createElement("div",{style:this.getAccountActionStyle()},r.a.createElement(u.FormattedMessage,{defaultMessage:"Add another account from email",id:"sidebarSwitcherMultiAccount.addAccountButton.label"}))}}renderAccountActionMenu(e,t){const n={menuType:m.b.MenuType.Modal,left:r.a.createElement(p.CancelMenuText,null),onClickLeft:t.close,whiteBackground:!0,title:r.a.createElement(u.FormattedMessage,Object.assign({},Object(g.e)(this.props.intl,e)))};return r.a.createElement(m.b,Object.assign({},n),this.renderLoginAction(e))}renderDescription(e){switch(e){case"add-account":return r.a.createElement(u.FormattedMessage,{id:"sidebarSwitcherMultiAccount.addAccount.description",defaultMessage:"Use an existing account, or sign up with a new email. Your current account will remain logged in.",description:"Description when adding an account"});case"create-work":return r.a.createElement(u.FormattedMessage,{id:"sidebarSwitcherMultiAccount.createWork.description",defaultMessage:"We’ll check if your teammates are already on Notion. If not, we’ll create a new home for you and your team.",description:"Description when creating a work account"})}}getBaseMobileStyle(){return this.environment.device.isMobile?{maxWidth:343}:{}}getModalStyle(){return{width:480,maxWidth:"calc(100vw - 100px)",borderRadius:3}}getTitleStyle(){return{fontSize:28,fontWeight:v.a.fontWeight.semibold,marginTop:90,textAlign:"center",lineHeight:1.1,...this.getBaseMobileStyle()}}getDescriptionStyle(){return{fontSize:14,color:this.theme.mediumTextColor,width:350,marginTop:12,marginBottom:20,textAlign:"center",lineHeight:1.3,...this.getBaseMobileStyle()}}getCancelStyle(){return{fontSize:14,color:this.theme.mediumTextColor,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer"}}getLoginActionWrapperStyle(){return{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",userSelect:"none",WebkitUserSelect:"none"}}getLoginActionStyle(){return{width:320,marginTop:24,marginBottom:64,...this.getBaseMobileStyle()}}}t.a=Object(u.injectIntl)(_)},JU1L:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=n("922z");function r(e){const{table:t,id:n,spaceId:o}=e;return"".concat(n,":").concat(t)}function a(e){const t=e.split(":");return 2===t.length?o.b.fromPointerLike({table:t[1],id:t[0]}):o.b.fromPointerLike({table:t[2],id:t[1],spaceId:t[0]})}},JZPr:function(e,t,n){"use strict";n.d(t,"j",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return C})),n.d(t,"i",(function(){return M}));n("3bBZ");var o=n("6rsX"),r=n("N34Z"),a=n("RPv2"),i=n("cBa6"),s=n("D2XV"),l=n("RvCr"),c=n("CARr"),d=n("mxzd"),u=n("5/h/"),p=n("vshI"),h=n("+jaY"),m=n("vl8/");function f(e){const{environment:t,collectionViewBlock:n,selection:r}=e;d.a.setState({isActive:!0,collectionViewBlock:n,selection:r}),o.e(t)}function g(){d.a.setState({isActive:!1})}function b(e){const{environment:t,collectionViewBlock:n,shiftKey:o,columnCount:r,selection:a}=e;if(o&&a.end.x>0){const e={x:a.end.x-1,y:a.end.y};f({environment:t,collectionViewBlock:n,selection:{start:a.start,end:e}})}else if(!o&&a.start.x>0){const e={x:a.start.x-1,y:a.start.y};f({environment:t,collectionViewBlock:n,selection:{start:e,end:e}})}else if(!o&&0===a.start.x&&a.start.y>0){const e={x:r-1,y:a.start.y-1};f({environment:t,collectionViewBlock:n,selection:{start:e,end:e}})}}function v(e){const{environment:t,collectionViewBlock:n,shiftKey:o,columnCount:r,rowCount:a,selection:i}=e;if(o&&i.end.x<r-1){const e={x:i.end.x+1,y:i.end.y};f({environment:t,collectionViewBlock:n,selection:{start:i.start,end:e}})}else if(!o&&i.start.x<r-1){const e={x:i.start.x+1,y:i.start.y};f({environment:t,collectionViewBlock:n,selection:{start:e,end:e}})}else if(!o&&i.start.x>=r-1&&i.start.y<a-1){const e={x:0,y:i.start.y+1};f({environment:t,collectionViewBlock:n,selection:{start:e,end:e}})}}function y(e){const{environment:t,collectionViewBlock:n,shiftKey:o,selection:r}=e;if(o&&r.end.y>0){const e={x:r.end.x,y:r.end.y-1};f({environment:t,collectionViewBlock:n,selection:{start:r.start,end:e}})}else if(!o&&r.start.y>0){const e={x:r.start.x,y:r.start.y-1};f({environment:t,collectionViewBlock:n,selection:{start:e,end:e}})}}function S(e){const{environment:t,collectionViewBlock:n,shiftKey:o,rowCount:r,selection:a}=e;if(o&&a.end.y<r-1){const e={x:a.end.x,y:a.end.y+1};f({environment:t,collectionViewBlock:n,selection:{start:a.start,end:e}})}else if(!o&&a.start.y<r-1){const e={x:a.start.x,y:a.start.y+1};f({environment:t,collectionViewBlock:n,selection:{start:e,end:e}})}}function w(e){const{selection:t,currentRows:n,currentPropertyFormats:o,transaction:i}=e,s=a.a(t);for(let a=s.minY;a<=s.maxY;a++){const e=n[a];if(e)for(let t=s.minX;t<=s.maxX;t++){const n=o[t];r.c({store:e.getPropertyStore(n.property),value:null,transaction:i})}}}const k=e=>{C(e),w(e)},C=e=>{const{collectionViewBlock:t,schema:n,selection:o,currentRows:r,currentPropertyFormats:i,event:l}=e;if(!l.clipboardData)return;const c=a.a(o);let d="";const u=[],p={};for(let a=c.minY;a<=c.maxY;a++){const e=r[a];if(e){const o=e.getValue();if(o){const r=[];u.push(r);for(let a=c.minX;a<=c.maxX;a++){const l=i[a],u=E(e,n,l.property,p);r.push(u);const f=Object(h.a)({property:l.property,schema:n,block:o,getRecordValue:t.getRecordValue,userTimeZone:s.m,exportedFilePaths:!1,depth:0,intl:m.default.getIntl(),normalizedSchemaCache:p});f&&(d+=f),a<c.maxX&&(d+="\t")}a<c.maxY&&(d+="\n")}}}l.preventDefault(),l.clipboardData.setData("text/plain",d),l.clipboardData.setData(a.b,JSON.stringify(u))};function M(e){const{environment:t,collectionViewLocalStore:n,collectionStore:o,collectionViewBlock:s,selection:c,currentRows:d,currentPropertyFormats:u,event:p,transaction:h}=e;if(!p.clipboardData)return;const m=p.clipboardData.getData(a.b),g=p.clipboardData.getData("text/html");let b;if(m)b=JSON.parse(m);else if(g){const e=document.createElement("div");e.innerHTML=g;const t=e.querySelector("table");if(t){const e=t.querySelectorAll("tr");b=[];for(const t of Array.from(e)){const e=[],n=t.querySelectorAll("td");for(const t of Array.from(n))e.push(i.m(t.textContent||""));b.push(e)}}}if(b){const e=a.a(c),i=b[0].length;let p=Math.floor((e.maxX-e.minX+1)/i);0===p&&(p=1);const m=b.length;let g=Math.floor((e.maxY-e.minY+1)/m);0===g&&(g=1);for(let a=0;a<g;a++)for(let s=0;s<p;s++){const c=e.minX+s*i,p=e.minY+a*m;for(let e=0;e<m;e++){let a=d[p+e];if(!a){const{newStore:e}=l.b({environment:t,parentStore:o,collectionViewLocalStore:n,group:void 0,results:d,insertAtStart:!1,coerce:!0,transaction:h});a=e}for(let t=0;t<i;t++){const n=u[c+t];if(n){const o=b[e][t];r.c({store:a.getPropertyStore(n.property),value:o,transaction:h})}}}}f({environment:t,collectionViewBlock:s,selection:{start:{x:e.minX,y:e.minY},end:{x:e.minX+i*p-1,y:e.minY+m*g-1}}})}}const E=function(e,t,n,o){const r=t[n];if(!r)throw new Error("Property not found");const a=e.getValue();if(!a)return[];const l=(e.getProperties()||{})[n];if("formula"===r.type){const r=Object(p.c)({property:n,schema:t,block:a,getRecordValue:e.getRecordValue,userTimeZone:s.m,depth:0,intl:m.default.getIntl(),resultCache:{},normalizedSchemaCache:o});return i.m(r)}return"created_time"===r.type&&a&&a.created_time?c.b(s.r(a.created_time,s.m)):"created_by"===r.type&&a&&a.created_by_table&&a.created_by_id?a.created_by_table===u.a?[i.h(["u",a.created_by_id])]:[i.h(["r",a.created_by_id])]:"last_edited_time"===r.type&&a&&a.last_edited_time?c.b(s.r(a.last_edited_time,s.m)):"last_edited_by"===r.type&&a&&a.last_edited_by_table&&a.last_edited_by_id?a.last_edited_by_table===u.a?[i.h(["u",a.last_edited_by_id])]:[i.h(["r",a.last_edited_by_id])]:l||[]}},JgyA:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var o=n("LEzx"),r=n("VhAz");function a(e){return"following"===e||"mentions"===e||"allPages"!==e&&"archive"!==e&&"currentPage"!==e&&void Object(r.e)(e)}class i extends o.a{getInitialState(){return{currentTab:"mentions",isCurrentTabEmpty:!0}}}t.a=new i},JuT7:function(e,t,n){"use strict";var o=n("qRmb"),r=n("rJFj");t.a=new class{constructor(){this.subscriptionCount=0}addListener(e,t,n){if(Object(r.a)(e))return this.subscriptionCount+=1,n||(n="subscription:".concat(this.subscriptionCount)),o.d(e,t,n),{key:e,subscriptionId:n}}removeListener({key:e,subscriptionId:t}){Object(r.a)(e)&&o.f(e,t)}async updateField(e,t,n,r){await o.g(e,t,n,r)}async onDisconnect(e,t){const{key:n,field:r,updates:a,ttl:i}=e,s="".concat(t,"/").concat(n);await o.c(s,[{operation:"updateField",key:n,field:r,updates:a,ttl:i}])}async clearOnDisconnect(e,t){const n="".concat(t,"/").concat(e);await o.e(n)}}},JwIb:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("Sb6f"),i=n("wldR");class s extends i.a{renderComponent(){return r.a.createElement("div",{style:this.getStyle()},r.a.createElement("div",{style:s.innerStyle},this.props.iconSvg({...this.getIconStyle()}),r.a.createElement("div",{style:{...a.a.textOverflowStyle}},this.props.children)),this.props.right&&r.a.createElement("div",{style:s.rightStyle},this.props.right))}getStyle(){return{width:"100%",fontSize:14,fontFamily:a.a.fontFamily.sans,color:this.theme.mediumTextColor,borderRadius:3,background:this.theme.embedPlaceholderBackground,position:"relative",...this.props.style}}getIconStyle(){return{width:25,height:25,flexShrink:0,marginRight:12,fill:this.theme.mediumIconColor,...this.props.iconStyle}}}s.innerStyle={padding:12,paddingRight:36,display:"flex",alignItems:"center",textAlign:"left",width:"100%",overflow:"hidden"},s.rightStyle={position:"absolute",top:4,right:4},s.textPaddingLeftRight=6,s.textPaddingTopBottom=2,s.titleStyle={fontSize:14,lineHeight:"20px"},s.captionStyle={fontSize:12,paddingTop:s.textPaddingTopBottom,paddingBottom:s.textPaddingTopBottom},s.smallButtonStyle=s.captionStyle,t.a=s},Jxif:function(e,t,n){},KGQE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fIr1");n("g90h");const r="page_visit",a={table:r,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,parent_table:o.a.String,parent_id:o.a.UUID,user_id:o.a.UUID,visited_at:o.a.Number,space_id:o.a.UUID},requiredColumns:{parent_table:!0,parent_id:!0,user_id:!0,visited_at:!0}};t.b=a},KJyx:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("gbGO");class s extends a.a{renderComponent(){return r.a.createElement("div",{style:this.environment.device.isMobile?this.getMobileStyle():this.getDesktopStyle()},this.props.children)}getDesktopStyle(){return{padding:"0px 15px 8px",fontSize:14}}getMobileStyle(){return{padding:"12px 16px 18px",fontSize:16,background:this.theme.popoverBackground,boxShadow:"0 1px 0 ".concat(this.theme.regularDividerColor),marginBottom:1}}}s.contextTypes={...i.c},t.a=s},KSnN:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("EarS"),i=n("hbKx"),s=n("BL9y"),l=n("wpmu"),c=n("HRSx");function d(e){const t=e.state;return"page"===t.route.name&&t.route.scrollToBlockId?[t.route.scrollToBlockId]:t.historyState?t.historyState.blockIds:[]}function u(e,t){const n=t.map(t=>l.a.createChildStore(e,{table:c.a,id:t})).map(e=>i.g(e)).filter(t=>{const n=t.slice(1).find(e=>"block"===e.table&&e.isNavigableBlock());return n&&n.id===e.id}).map(e=>{const t=e.findIndex(e=>"block"===e.table&&e.isNavigableBlock());return e.slice(1,t).filter(e=>"block"===e.table&&"toggle"===e.getType())});return r.a.uniqBy(r.a.flatten(n),e=>e.id)}async function p(e,t){await async function(e,t){const n=t.map(t=>l.a.createChildStore(e,{table:c.a,id:t}));await Promise.all(n.map(e=>i.k(e)))}(e,t),function(e,t){const n=u(e,t);for(const o of n)a.d({blockId:o.id,state:!0,currentUserId:o.environment.currentUser.id})}(e,t),await async function(e,t){const n=u(e,t);await Promise.all(n.map(e=>s.a(e)))}(e,t)}},KTXS:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("SR/M"),s=n("gbGO"),l=n("prF1"),c=n("mF3+"),d=n("y6Dp");class u extends a.a{renderComponent(){return r.a.createElement(l.a,{href:this.props.href,external:!0,onClick:()=>d.C(this.environment,{from:this.props.analyticsFrom})},r.a.createElement(i.a,{icon:!this.props.left&&this.renderIcon(),title:this.renderTitle(),focused:!1}))}renderIcon(){const{device:e}=this.environment;return c.a.help({width:e.isPhone?16:14,fill:this.theme.lightIconColor,marginRight:this.props.left?6:0})}renderTitle(){const{left:e}=this.props;return e?r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("span",{style:{...this.getTitleStyle(),marginRight:"auto"}},this.props.left),this.renderIcon(),r.a.createElement("span",{style:this.getTitleStyle()},this.props.title)):r.a.createElement("span",{style:this.getTitleStyle()},this.props.title)}getTitleStyle(){const{device:e}=this.environment;return{fontSize:e.isPhone?14:12,verticalAlign:1,color:this.theme.lightTextColor}}}u.contextTypes={...s.c},t.a=u},KWgd:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}));const o=["en-US","ko-KR"],r=["es-ES","es-419","fr-FR","ja-JP","pt-BR","zh-CN","zh-TW"];function a(e){return o.includes(e)}},KYd6:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i3uR"),i=n("LeVO"),s=n("wldR"),l=n("uSCg"),c=n("R14H"),d=(n("UxlC"),n("bPtJ")),u=n("408K"),p=n("MBf9"),h=n("N34Z"),m=n("mF3+"),f=n("hbKx"),g=n("OxuQ"),b=n("lEhh"),v=n("/YYm"),y=n("VBxf"),S=n("bkwR"),w=n("VkkH"),k=n("S26v"),C=n("tP7q"),M=n("A9TN"),E=n("Wnyi"),_=n("J9+s"),T=n("zzAG");const x=Object(_.defineMessages)({somethingWentWrong:{defaultMessage:"Something went wrong.",id:"slackActions.dialogError.loginWithSlack.errorMessage"},titleMessage:{defaultMessage:"Slack login",id:"slackActions.loginPopupModal.title"}});var I=n("y6Dp"),P=n("MeYt"),O=n("prF1"),B=n("d9nj"),L=n("5Nka"),R=n("aEEb"),D=n("IYZQ"),A=n("Pqcg");class j extends s.a{constructor(){super(...arguments),this.renderTooltip=()=>r.a.createElement(A.a,{imageURL:L.a.images.tooltips.pageUpdates.slackPng,imageHeight:100,caption:r.a.createElement(_.FormattedMessage,{defaultMessage:"Connect a Slack channel to get updates about this page and pages within it.",id:"topbar.updatesButton.slackIntegrationButton.tooltip"})}),this.handleSetupSlackIntegration=async()=>{I.k(this.environment);const e=await async function(e){const{environment:t,blockId:n,intl:o}=e,r=Object(E.b)(t);let a=Object(C.h)(M.default.baseURL,{blockId:n,authType:r,userId:t.currentUser.id});a=r.redirectToAuth?a:await Object(E.c)(t,a);const i=await w.a(t,{width:530,height:530,url:a,titleMessage:x.titleMessage});if(!i)return o.formatMessage(x.somethingWentWrong);const s=k.e(i);if(!s.query.code||!s.query.state)return o.formatMessage(x.somethingWentWrong);const l=await S.authWithSlack(t,{code:s.query.code,encryptedState:s.query.state});return"failed"===l.type?Object(T.b)(o,l):void 0}({environment:this.environment,blockId:this.props.store.id,intl:this.props.intl});e&&y.showErrorMessage(e)},this.handleRemoveSlackIntegration=e=>{y.showDialog({message:r.a.createElement(_.FormattedMessage,{id:"slackIntegrationButton.removeIntegrationConfirmationDialog.prompt",defaultMessage:"Are you sure you want to remove Slack integration?"}),showCancel:!0,keepFocus:!0,items:[{label:r.a.createElement(_.FormattedMessage,{id:"slackIntegrationButton.removeIntegrationConfirmationDialog.removeButton.label",defaultMessage:"Remove"}),color:"red",onAccept:()=>{I.Rd(this.environment),p.createAndCommit(this.environment,t=>{h.d({store:e,data:{enabled:!1},transaction:t})})}}]})}}renderComponent(){const{slackIntegrationStore:e,blockStore:t}=this.getSlackIntegration(),n=e.getValue();return e.isReady()?n&&n.enabled?t.id!==this.props.store.id?this.renderInherited(n,t):this.renderConnected(n,e):this.renderEmpty():this.renderLoading()}renderLoading(){return r.a.createElement(i.a,{placement:i.a.Placement.Left,render:e=>r.a.createElement(P.a,Object.assign({disabled:!0,style:this.getWrapStyle()},e),r.a.createElement(R.a,{isSecondaryColor:!0,style:{marginRight:"auto"}},r.a.createElement(_.FormattedMessage,{defaultMessage:"Loading…",id:"topbar.updatesButton.slackIntegrationButton.loading"})),r.a.createElement(b.a,{on:!1,disabled:!0})),renderTooltip:this.renderTooltip})}renderEmpty(){return r.a.createElement(i.a,{placement:i.a.Placement.Left,render:e=>r.a.createElement(P.a,Object.assign({onClick:this.handleSetupSlackIntegration,style:this.getWrapStyle()},e),r.a.createElement(R.a,{style:{marginRight:"auto"}},r.a.createElement(_.FormattedMessage,{defaultMessage:"Connect Slack channel",id:"topbar.updatesButton.slackIntegrationButton.title"})),r.a.createElement(b.a,{on:!1,onClick:this.handleSetupSlackIntegration})),renderTooltip:this.renderTooltip})}renderChannelLink(e){const t=e.channel.replace(/^#/,""),n="https://www.slack.com/messages/".concat(e.channel_id,"/");return e.channel_id?r.a.createElement(O.a,{external:!0,href:n,style:{marginLeft:-6,marginRight:"auto",minWidth:0}},r.a.createElement(B.a,{isSmall:!0,style:{maxWidth:"100%"}},this.renderChannelName(t))):r.a.createElement("div",{style:{display:"flex",marginRight:"auto"}},this.renderChannelName(t))}renderChannelName(e){return r.a.createElement(o.Fragment,null,r.a.createElement("div",{style:{width:16,marginRight:6,marginLeft:1,flexShrink:0}},m.a.slackLogo()),r.a.createElement(R.a,null,e))}renderConnected(e,t){return r.a.createElement(i.a,{placement:i.a.Placement.Left,render:n=>r.a.createElement(P.a,Object.assign({onClick:()=>this.handleRemoveSlackIntegration(t),style:this.getWrapStyle()},n),this.renderChannelLink(e),r.a.createElement(b.a,{on:!0,onClick:()=>this.handleRemoveSlackIntegration(t)})),renderTooltip:this.renderTooltip})}renderInherited(e,t){return r.a.createElement(i.a,{placement:i.a.Placement.Left,render:n=>r.a.createElement(P.a,Object.assign({style:this.getWrapStyle()},n),this.renderChannelLink(e),r.a.createElement(R.a,{style:{marginLeft:12,marginRight:12,lineHeight:1.2},isSecondaryColor:!0,isMultiline:!0},r.a.createElement(_.FormattedMessage,{defaultMessage:"Based on",id:"topbar.updatesButton.slackIntegrationButton.activeTitle"})," ",r.a.createElement(D.a,{href:Object(v.a)({store:t})},r.a.createElement(g.a,{store:t,style:{display:"inline"}}))),r.a.createElement(b.a,{on:!0,disabled:!0})),renderTooltip:this.renderTooltip})}getSlackIntegration(){const e=f.g(this.props.store),t=[];for(const n of e)"block"===n.table&&t.push({blockStore:n,slackIntegrationStore:Object(d.c)(this.props.store,{table:u.a,id:n.id})});for(const{blockStore:n,slackIntegrationStore:o}of t)if(o.isReady()){const e=o.getValue();if(e&&e.enabled)return{blockStore:n,slackIntegrationStore:o}}return{blockStore:this.props.store,slackIntegrationStore:Object(d.c)(this.props.store,{table:u.a,id:this.props.store.id})}}getWrapStyle(){return{display:"flex",alignItems:"center",height:42,fontSize:14,paddingLeft:16,paddingRight:16,boxShadow:"0 1px 0 ".concat(this.theme.regularDividerColor),whiteSpace:"nowrap",position:"relative",zIndex:1}}}var F=Object(_.injectIntl)(j),V=n("lOyx"),N=n("VpIZ"),U=n("gbGO"),z=n("vJXr"),X=n("6rsX"),Y=n("7M94");class H extends s.a{constructor(){super(...arguments),this.renderOrigin=e=>{const{device:t}=this.environment;if(!t.isMobile)return r.a.createElement(i.a,{placement:i.a.Placement.Bottom,renderTooltip:()=>r.a.createElement(_.FormattedMessage,{defaultMessage:"View past changes to this page",id:"topbar.updatesButton.tooltip"}),render:t=>r.a.createElement(B.a,Object.assign({icon:this.props.blockStore.isFollowing()?m.a.check:void 0},Object(l.a)(e,t)),r.a.createElement("span",null,r.a.createElement(_.FormattedMessage,{defaultMessage:"Updates",id:"topbar.updatesButton.title"})))})},this.renderPopup=e=>{const{blockStore:t}=this.props,n=z.a.state.online,a=t.canEdit(),i=this.getActivityLogArgs();if(i)return r.a.createElement(U.b,{menuType:U.b.MenuType.Popup,className:Y.Rb,header:r.a.createElement(o.Fragment,null,r.a.createElement(c.a,{store:t}),n&&a&&r.a.createElement(F,{store:t}))},r.a.createElement(V.a,Object.assign({key:t.id,empty:this.renderEmptyState(),analyticsContext:"click_page_updates",isTopbarUpdatesMenu:!0,source:"page_updates"},i)))},this.handleClick=()=>{X.e(this.environment),I.ed(this.environment)}}renderComponent(){const{device:e}=this.environment;return r.a.createElement(a.a,{onClick:this.handleClick,disabled:!this.props.spaceStore,popupType:e.isMobile?a.a.PopupType.SlideUp:a.a.PopupType.Popup,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderOrigin,originGap:8,render:this.renderPopup,style:{width:440,overflow:"hidden"}})}renderEmptyState(){return r.a.createElement("div",{style:{marginTop:64,textAlign:"center",paddingLeft:18,paddingRight:18,marginBottom:64}},r.a.createElement("div",{style:{fontSize:14,color:this.theme.mediumTextColor,marginTop:4}},r.a.createElement("span",null,r.a.createElement(_.FormattedMessage,{defaultMessage:"No edits in this page yet.",id:"topbar.updatesButton.emptyState"}))))}getActivityLogArgs(){const{spaceStore:e}=this.props;if(!e)return;const t=this.props.blockStore.id,n=e.id,o=this.props.blockStore.getValue();return{navigableBlockId:t,collectionId:o&&N.q(o)?o.collection_id:void 0,spaceId:n}}}t.a=H},KcXv:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var o=n("zmp8"),r=n("Sb6f");const a={color:o.g.defaultText,fill:"currentColor",lineHeight:1.5,fontFamily:r.a.fontFamily.sans},i={paddingTop:3,paddingBottom:3,paddingLeft:2,paddingRight:2}},Kl92:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return S})),n.d(t,"h",(function(){return P})),n.d(t,"j",(function(){return B})),n.d(t,"d",(function(){return D})),n.d(t,"c",(function(){return A})),n.d(t,"i",(function(){return F}));var o=n("FWat"),r=n("4bJO"),a=n("k1PL"),i=n("J9+s"),s=n("vl8/"),l=n("LvDl"),c=n.n(l);const d={text:{operator:"string_contains",value:{type:"exact",value:void 0}},relation:{operator:"relation_contains",value:{type:"exact",value:void 0}},url:{operator:"string_contains",value:{type:"exact",value:void 0}},checkbox:{operator:"checkbox_is",value:{type:"exact",value:!0}},created_by:{operator:"person_contains",value:{type:"exact",value:void 0}},last_edited_by:{operator:"person_contains",value:{type:"exact",value:void 0}},select:{operator:"enum_is",value:{type:"exact",value:void 0}},multi_select:{operator:"enum_contains",value:{type:"exact",value:void 0}},person:{operator:"person_contains",value:{type:"exact",value:void 0}},number:{operator:"number_equals",value:{type:"exact",value:void 0}},date:{operator:"date_is",value:{type:"exact",value:void 0}},created_time:{operator:"date_is",value:{type:"exact",value:void 0}},last_edited_time:{operator:"date_is",value:{type:"exact",value:void 0}},email:{operator:"string_contains",value:{type:"exact",value:void 0}},phone_number:{operator:"string_contains",value:{type:"exact",value:void 0}},title:{operator:"string_contains",value:{type:"exact",value:void 0}},file:{operator:"is_empty"}};function u(e){return d[e]}function p(e){return e.formula&&e.formula.result_type?u(e.formula.result_type):{operator:"is_empty"}}function h(e){const{property:t,schema:n}=e,o=n[t];if(!o)return{operator:"is_empty"};if("formula"===o.type)return p(o);if("rollup"===o.type){if(o.aggregation&&"show_unique"!==o.aggregation){return u(Object(r.f)(o.aggregation))}{const t=Object(a.c)({...e,normalizedSchemaCache:{}});if(!t){return{operator:"any",subfilter:{operator:"is_empty"}}}if("rollup"===t.targetPropertySchema.type){return{operator:"any",subfilter:{operator:"is_empty"}}}if("formula"===t.targetPropertySchema.type){return{operator:"any",subfilter:p(t.targetPropertySchema)}}return{operator:"any",subfilter:u(t.targetPropertySchema.type)}}}return u(o.type)}const m=Object(i.defineMessages)({is_empty:{defaultMessage:"Is empty",id:"collectionFilterMenuHelpers.operator.isEmpty"},is_not_empty:{defaultMessage:"Is not empty",id:"collectionFilterMenuHelpers.operator.isNotEmpty"},string_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.stringIs"},string_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.stringIsNot"},string_contains:{defaultMessage:"Contains",id:"collectionFilterMenuHelpers.operator.stringContains"},string_does_not_contain:{defaultMessage:"Does not contain",id:"collectionFilterMenuHelpers.operator.stringDoesNotContain"},string_starts_with:{defaultMessage:"Starts with",id:"collectionFilterMenuHelpers.operator.stringStartsWith"},string_ends_with:{defaultMessage:"Ends with",id:"collectionFilterMenuHelpers.operator.stringEndsWith"},checkbox_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.checkboxIs"},checkbox_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.checkboxIsNot"},enum_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.enumIs"},enum_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.enumIsNot"},enum_contains:{defaultMessage:"Contains",id:"collectionFilterMenuHelpers.operator.enumContains"},enum_does_not_contain:{defaultMessage:"Does not contain",id:"collectionFilterMenuHelpers.operator.enumDoesNotContain"},person_contains:{defaultMessage:"Contains",id:"collectionFilterMenuHelpers.operator.personContains"},person_does_not_contain:{defaultMessage:"Does not contain",id:"collectionFilterMenuHelpers.operator.personDoesNotContain"},relation_contains:{defaultMessage:"Contains",id:"collectionFilterMenuHelpers.operator.relationContains"},relation_does_not_contain:{defaultMessage:"Does not contain",id:"collectionFilterMenuHelpers.operator.relationDoesNotContain"},number_equals:{defaultMessage:"=",id:"collectionFilterMenuHelpers.operator.numberEquals"},number_does_not_equal:{defaultMessage:"≠",id:"collectionFilterMenuHelpers.operator.numberDoesNotEqual"},number_greater_than:{defaultMessage:">",id:"collectionFilterMenuHelpers.operator.numberGreaterThan"},number_less_than:{defaultMessage:"<",id:"collectionFilterMenuHelpers.operator.numberLessThan"},number_greater_than_or_equal_to:{defaultMessage:"≥",id:"collectionFilterMenuHelpers.operator.numberGreaterThanOrEqualTo"},number_less_than_or_equal_to:{defaultMessage:"≤",id:"collectionFilterMenuHelpers.operator.numberLessThanOrEqualTo"},date_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.dateIs"},date_is_before:{defaultMessage:"Is before",id:"collectionFilterMenuHelpers.operator.dateIsBefore"},date_is_after:{defaultMessage:"Is after",id:"collectionFilterMenuHelpers.operator.dateIsAfter"},date_is_on_or_before:{defaultMessage:"Is on or before",id:"collectionFilterMenuHelpers.operator.dateIsOnOrBefore"},date_is_on_or_after:{defaultMessage:"Is on or after",id:"collectionFilterMenuHelpers.operator.dateIsOnOrAfter"},date_is_within:{defaultMessage:"Is within",id:"collectionFilterMenuHelpers.operator.dateIsWithin"},any:{defaultMessage:"Any",id:"collectionFilterMenuHelpers.operator.any"},none:{defaultMessage:"None",id:"collectionFilterMenuHelpers.operator.none"},every:{defaultMessage:"Every",id:"collectionFilterMenuHelpers.operator.every"}});function f(e){return s.default.formatMessage(m[e])}const g=Object(i.defineMessages)({today:{defaultMessage:"Today",id:"collectionFilterMenuHelpers.relativeDates.today"},tomorrow:{defaultMessage:"Tomorrow",id:"collectionFilterMenuHelpers.relativeDates.tomorrow"},yesterday:{defaultMessage:"Yesterday",id:"collectionFilterMenuHelpers.relativeDates.yesterday"},one_week_ago:{defaultMessage:"One week ago",id:"collectionFilterMenuHelpers.relativeDates.oneWeekAgo"},one_week_from_now:{defaultMessage:"One week from now",id:"collectionFilterMenuHelpers.relativeDates.oneWeekFromNow"},one_month_ago:{defaultMessage:"One month ago",id:"collectionFilterMenuHelpers.relativeDates.oneMonthAgo"},one_month_from_now:{defaultMessage:"One month from now",id:"collectionFilterMenuHelpers.relativeDates.oneMonthFromNow"}}),b=Object(i.defineMessages)({exactDate:{defaultMessage:"Exact date",id:"collectionFilterMenuHelpers.relativeDates.exactDate"}});function v(e){return"exact"===e.type?s.default.formatMessage(b.exactDate):s.default.formatMessage(g[e.value])}const y=Object(i.defineMessages)({the_past_week:{defaultMessage:"The past week",id:"collectionFilterMenuHelpers.relativeDates.thePastWeek"},the_past_month:{defaultMessage:"The past month",id:"collectionFilterMenuHelpers.relativeDates.thePastMonth"},the_past_year:{defaultMessage:"The past year",id:"collectionFilterMenuHelpers.relativeDates.thePastYear"},the_next_week:{defaultMessage:"The next week",id:"collectionFilterMenuHelpers.relativeDates.theNextWeek"},the_next_month:{defaultMessage:"The next month",id:"collectionFilterMenuHelpers.relativeDates.theNextMonth"},the_next_year:{defaultMessage:"The next year",id:"collectionFilterMenuHelpers.relativeDates.theNextYear"}});function S(e){return s.default.formatMessage(y[e.value])}const w=Object(i.defineMessages)({and:{defaultMessage:"And",id:"collectionFilterMenuHelpers.combinatorOperators.and"},or:{defaultMessage:"Or",id:"collectionFilterMenuHelpers.combinatorOperators.or"}}),k=Object(i.defineMessages)({checked:{defaultMessage:"Checked",id:"collectionFilterMenuHelpers.checkbox.checked"},unchecked:{defaultMessage:"Unchecked",id:"collectionFilterMenuHelpers.checkbox.unchecked"}});const C=({filter:e,schema:t})=>I({filter:e.subfilter,schema:t}),M=({filter:e})=>v(e.value),E=({filter:e})=>'"'.concat(e.value.value||"",'"'),_=({filter:e})=>void 0===e.value.value?void 0:e.value.value.toString(),T=({filter:e})=>function(e){const t=e.value?k.checked:k.unchecked;return s.default.formatMessage(t)}(e.value),x={is_empty:()=>{},is_not_empty:()=>{},string_is:E,string_is_not:E,string_contains:E,string_does_not_contain:E,string_starts_with:E,string_ends_with:E,checkbox_is:T,checkbox_is_not:T,enum_is:E,enum_is_not:E,enum_contains:E,enum_does_not_contain:E,relation_contains:()=>{},relation_does_not_contain:()=>{},person_contains:()=>{},person_does_not_contain:()=>{},number_equals:_,number_does_not_equal:_,number_greater_than:_,number_less_than:_,number_greater_than_or_equal_to:_,number_less_than_or_equal_to:_,date_is:M,date_is_before:M,date_is_after:M,date_is_on_or_before:M,date_is_on_or_after:M,date_is_within:({filter:e})=>S(e.value),any:C,none:C,every:C};function I(e){const{filter:t}=e,n=f(t.operator),o=x[t.operator](e);return c.a.compact([n,o]).join(" ")}function P(e){const{filter:t,schema:n}=e;if(Object(o.n)(t)){const e=t.filters||[],r=c.a.compact(e.map(e=>{const t=P({filter:e,schema:n});if(t)return Object(o.n)(e)?"(".concat(t,")"):t})),a=s.default.formatMessage(w[t.operator]);return r.join(" ".concat(a," "))}if(Object(o.x)(t)){const e=n[t.property];if(!e)return;const o=t.filter,r=e.name,a=I({filter:o,schema:n});return c.a.compact([r,a]).join(" ")}}const O={text:function(e,t){return Object(o.r)(t)?{operator:t}:Object(o.q)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},number:function(e,t){return Object(o.r)(t)?{operator:t}:Object(o.q)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},checkbox:function(e,t){return{operator:t,value:e.value}},select:function(e,t){return Object(o.r)(t)?{operator:t}:Object(o.q)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},multi_select:function(e,t){return Object(o.r)(t)?{operator:t}:Object(o.q)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},relation:function(e,t){return Object(o.r)(t)?{operator:t}:Object(o.q)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},person:function(e,t){return Object(o.r)(t)?{operator:t}:Object(o.q)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},date:function(e,t){return Object(o.r)(t)?{operator:t}:"date_is_within"===t?"date_is_within"!==e.operator?{operator:t,value:{type:"relative",value:"the_past_week"}}:e:"date_is_within"===e.operator?{operator:t,value:{type:"relative",value:"today"}}:Object(o.q)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},file:function(e,t){return{operator:t}}};function B(e,t,n){return(0,O[e])(t,n)}const L=Object(i.defineMessages)({and:{defaultMessage:"And",id:"database.filterOperators.and"},or:{defaultMessage:"Or",id:"database.filterOperators.or"}}),R=Object(i.defineMessages)({and:{defaultMessage:"All filters must match",id:"database.filterOperators.andCaption"},or:{defaultMessage:"At least one filter must match",id:"database.filterOperators.orCaption"}});function D(e,t){return"and"===e?t.formatMessage(L.and):t.formatMessage(L.or)}function A(e,t){return"and"===e?t.formatMessage(R.and):t.formatMessage(R.or)}const j=Object(i.defineMessages)({any:{defaultMessage:"Any",id:"database.filterOperators.any"},every:{defaultMessage:"Every",id:"database.filterOperators.every"},none:{defaultMessage:"None",id:"database.filterOperators.none"}});function F(e,t){return"any"===e?t.formatMessage(j.any):"every"===e?t.formatMessage(j.every):t.formatMessage(j.none)}},Ko2L:function(e,t,n){"use strict";var o=n("LEzx"),r=n("ddTe");class a extends o.a{getInitialState(){}}const i=new a;Object(r.exposeDebugValue)("TokenHoverStore",i),t.a=i},Ko8Q:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"k",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return m}));var o=n("922z");function r(e){return"versions/".concat(e.id,":").concat(e.table)}function a(e){const t=e.indexOf("/");if(-1===t)return;const n=e.substring(t+1).split(":");return 2===n.length?o.b.fromPointerLike({table:n[1],id:n[0]}):void 0}function i(e){return"collection/".concat(e)}function s(e){return"activity/".concat(e)}function l(e){return"activity/".concat(e)}function c(e){return"activity/".concat(e)}function d(e){return"notification/".concat(e)}function u(e){return"backlinks/".concat(e)}function p(e){return"user_content/".concat(e)}function h(e){return"page_visit/".concat(e)}function m(e){return"presence/".concat(e)}},"LB1/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c}));var o=n("fIr1");n("g90h"),n("S26v");const r={web_login:500,desktop_login:500,mobile_login:500,invited_user:500,invited_by_user:1e3,import_evernote:500,browser_extension:300,mobile_share_sheet:300},a=2e4,i="r",s="promo",l=new Date("10/24/18").getTime(),c=function(e){return e.settings&&e.settings.signup_time&&e.settings.signup_time>=l},d={table:"credit",columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,user_id:o.a.UUID,amount:o.a.Number,created_timestamp:o.a.Number,type:o.a.String,to_user_id:o.a.UUID,activated:o.a.Boolean,from_user_id:o.a.UUID,sent_email:o.a.Boolean}};t.b=d},LEzx:function(e,t,n){"use strict";var o=n("LvDl"),r=n.n(o),a=n("Z6+j"),i=n("d933"),s=n("FCWi"),l=n("mgru");class c extends a.a{constructor(){super(),this.debug=!1,this.shouldEmit=!0,this.instanceState=this.getInitialState()}getState(){const e=this.instanceState;return this.shouldEmit&&i.a.logStoreAccess(this,e),e}get state(){return this.getState()}setState(e){Object(l.a)(this.instanceState,e)||(this.instanceState=e,this.emit())}reset(){this.setState(this.getInitialState())}update(e){this.setState(e(this.state))}emit(){this.shouldEmit&&(s.logStoreEmit(this),this.debug&&(console.info("emit:",this.constructor.name,r.a.cloneDeep(this.instanceState)),console.trace()),super.emit(this))}addListener(e){this.shouldEmit&&super.addListener(e)}removeListener(e){this.shouldEmit&&super.removeListener(e)}waitUntil(e){return e()?Promise.resolve():new Promise(t=>{const n=()=>{e()&&(this.removeListener(n),t())};this.addListener(n)})}getInitialState(){return{}}}t.a=c},LFt7:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("dNiu"),i=n("wldR"),s=n("W8iW");class l extends i.a{renderComponent(){const{text:e,highlighter:t}=this.props;if(!t)return r.a.createElement(s.a,null,e);const n=t.tokenize(e).map((e,n)=>Object(a.e)(e)?r.a.createElement("span",{key:n,style:t.style},r.a.createElement(s.a,null,Object(a.c)(e))):r.a.createElement(s.a,null,Object(a.c)(e)));return r.a.createElement(r.a.Fragment,null,n)}}t.a=l},LNOE:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return w})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return M}));n("3bBZ");var o=n("i8i4"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("cBa6"),l=n("N34Z"),c=n("MBf9"),d=n("y6Dp"),u=n("7TLZ"),p=n("kaWB"),h=n("lBar"),m=n("gYhp"),f=n("nFzZ"),g=n("5/h/");function b(e){const t=u.e(e.store);l.c({store:t,value:e.text,transaction:e.transaction}),d.Cb(e.environment,e.discussionLocation)}function v(e){const{environment:t,commentStore:n,transaction:o}=e,r=u.j(n);if(!r)return;const a=u.f(r),i=a.getValue();i&&(l.d({store:n,transaction:o,data:{alive:!1}}),c.addOperation({store:a,operation:{pointer:a.pointer,path:a.path,command:"listRemove",args:{id:n.id}},transaction:o}),(0===i.length||1===i.length&&i[0]===n.id)&&y({discussionStore:r,transaction:o}),d.sb(t,e.discussionLocation))}function y(e){const{discussionStore:t,transaction:n}=e,o=u.i(t);if(!o)return;const r=u.g(o);c.addOperation({store:r,operation:{pointer:r.pointer,path:r.path,command:"listRemove",args:{id:t.id}},transaction:n}),C({store:o,discussionId:t.id,transaction:n})}function S(e){const{environment:t,discussionStore:n,transaction:o}=e;l.d({store:n,data:{resolved:!0},transaction:o}),d.Wd(t,e.discussionLocation)}function w(e){const{environment:t,discussionStore:n,transaction:o}=e;l.d({store:n,data:{resolved:!1},transaction:o}),d.Sd(t,e.discussionLocation)}function k(e){const{environment:t,discussionStore:n,textValue:o,transaction:r}=e,{id:a}=t.currentUser;if(!a)return;if(i.a.isEqual(o,[]))return;const h=u.d(n),m=i.a.last(h);if(m){const n=m.getValue();if(n&&n.created_by_table===g.a&&n.created_by_id===a){const a=n.last_edited_time||n.created_time;if(Date.now()-a<2*f.d)return l.d({store:m,data:{text:s.Jb([...n.text,["\n"],...o]),last_edited_time:Date.now()},transaction:r}),void d.j(t,e.discussionLocation)}}const b=l.b({environment:t,table:p.a,value:{parent_id:n.id,parent_table:n.table,text:o,created_by_table:g.a,created_by_id:a,alive:!0},inMemoryRecordCache:n.inMemoryRecordCache,transaction:r}),v=u.f(n);c.addOperation({store:v,operation:{pointer:v.pointer,path:v.path,command:"listAfter",args:{id:b.id}},transaction:r}),d.i(t,e.discussionLocation)}const C=e=>{const{store:t,transaction:n,discussionId:o}=e,r=u.k(t),a=r.getValue()||{};if(a){const e=Object.keys(a);for(const t of e){let e=!1;const c=(a[t]||[]).map(t=>{const n=s.fb(t),r=s.db(t),a=r.filter(e=>!i.a.isEqual(e,["m",o]));return e=e||r.length!==a.length,s.n(n,a)});e&&l.d({store:r,data:{[t]:s.Jb(c)},transaction:n})}}};function M(e){const t=m.a.findComponent(t=>t.props.store.id===e);if(t){const e=r.a.findDOMNode(t);if(e&&e.parentElement){const t=Array.from(e.parentElement.children).indexOf(e);h.h(e,0===t?0:-1)}}}},LNlx:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("SR/M"),s=n("gbGO"),l=n("3JF5");class c extends a.a{renderComponent(){const{bot:e}=this.props;return r.a.createElement(i.a,Object.assign({},this.props,{icon:"🤖",title:Object(l.a)(e)}))}}c.contextTypes=s.c,t.a=c},LSDq:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("3bBZ");var o=n("yjqD");class r{constructor(e){this.parallel=e,this.queue=[],this.running=[],this.afterFlushes=[],this.afterClogs=[]}static async map(e,t,n){const o=new r(e);return await Promise.all(t.map((e,t,r)=>o.enqueue(()=>n(e,t,r))))}getStats(){return{running:this.running.length,queue:this.queue.length}}enqueue(e){const t=o.c();return this.queue.push({deferred:t,action:()=>e().then(t.resolve).catch(t.reject)}),this.flush(),t.promise}wrap(e){return(...t)=>this.enqueue(()=>e(...t))}enqueueImmediate(e){const t=e(),n=o.c();return t.then(n.resolve).catch(n.reject),this.queue.push({action:()=>t,deferred:n}),this.flush(),t}flush(){if(0===this.queue.length){if(0===this.running.length){for(const e of this.afterFlushes)e.resolve(null);this.afterFlushes=[]}if(this.running.length<this.parallel){for(const e of this.afterClogs)e.resolve(null);this.afterClogs=[]}return}if(this.running.length>=this.parallel)return;const e=this.queue.splice(0,this.parallel-this.running.length);for(const t of e)this.running.push(t);for(const t of e)t.action().then(()=>{this.running.splice(this.running.indexOf(t),1),this.flush()})}afterFlush(){const e=o.c();return this.afterFlushes.push(e),this.flush(),e.promise}afterClog(){const e=o.c();return this.afterClogs.push(e),this.flush(),e.promise}cancel(){const e=this.running,t=this.queue;this.running=[],this.queue=[];for(const n of e)n.deferred.reject(new Error("CanceledTask."));for(const n of t)n.deferred.reject(new Error("CanceledTask."))}}},LUuO:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("h5Kq");class s extends a.a{constructor(){super(...arguments),this.renderBanner=(e,t,n)=>{const{id:o,type:a,render:s}=e,l=n.length>1&&t!==n.length-1;return r.a.createElement(i.b,{key:o,type:a,shouldUseDivider:l,isMobile:this.props.isMobile},s())}}renderComponent(){return r.a.createElement("div",{style:{width:"100%",userSelect:"none",WebkitUserSelect:"none"}},this.props.arbitraryRenderBefore,this.props.banners.map(this.renderBanner))}}t.a=s},LeVO:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LEzx");class i extends a.a{getInitialState(){return{entered:!1}}}var s=i,l=n("DNfA"),c=n("wldR"),d=n("wXH4"),u=n("nFzZ"),p=n("Sb6f"),h=n("iICV"),m=n("DaKt");class f extends c.a{constructor(){super(...arguments),this.storeTypes={store:s},this.renderTooltip=()=>this.props.renderTooltip({onMouseEnter:this.handleMouseEnterTooltip,onMouseLeave:this.handleMouseLeaveTooltip}),this.handleMouseEnterOrigin=()=>{if(!m.a.state&&!h.a.state.isKeyboardMode){this.clearTimeouts();const e=this.props.delayThreshold||200;this.mouseEnterTimeout=window.setTimeout(this.setMouseEntered,e)}},this.setMouseEntered=()=>{this.stores.store.setState({...this.stores.store.state,entered:!0})},this.handleMouseDownOrigin=()=>{this.handleClose()},this.handleMouseLeaveOrigin=()=>{this.props.allowHover?(this.clearTimeouts(),this.mouseLeaveTimeout=window.setTimeout(this.handleClose,this.getCloseDelay())):this.handleClose()},this.handleClose=()=>{this.clearTimeouts(),this.stores.store.setState({...this.stores.store.state,entered:!1})},this.handleMouseEnterTooltip=()=>{this.clearTimeouts(),this.setMouseEntered()},this.handleMouseLeaveTooltip=()=>{this.clearTimeouts(),this.mouseLeaveTimeout=window.setTimeout(this.handleClose,this.getCloseDelay())}}willUnmount(){this.handleClose()}renderComponent(){const{device:e}=this.environment;return e.isPhone||this.props.disableTooltip?this.props.render({}):r.a.createElement(d.c,{popupType:e.isPhone?d.c.PopupType.SlideUp:d.c.PopupType.Popup,open:this.isVisible(),origin:this.props.render({onMouseEnter:this.handleMouseEnterOrigin,onMouseLeave:this.handleMouseLeaveOrigin,onMouseDown:this.handleMouseDownOrigin}),originRect:this.props.originRect,originGap:this.props.originGap||6,placementToOrigin:u.h(this.props.placement)?l.b.Top:this.props.placement,alignmentToOrigin:this.props.alignment,preventScaleTransition:!0,preventOpacityTransition:!0,style:this.getStyle(),viewportPadding:4,preventCaptureEsc:!0,preventPointerEvents:!this.props.allowHover,disableMouseCapture:!0,render:this.renderTooltip})}clearTimeouts(){this.mouseEnterTimeout&&(window.clearTimeout(this.mouseEnterTimeout),this.mouseEnterTimeout=void 0),this.mouseLeaveTimeout&&(window.clearTimeout(this.mouseLeaveTimeout),this.mouseLeaveTimeout=void 0)}getCloseDelay(){return void 0===this.props.closeDelay?500:this.props.closeDelay}isVisible(){return Object(u.h)(this.props.forceVisibleState)?this.stores.store.state.entered:this.props.forceVisibleState}getStyle(){const e={background:(t=this.theme).tooltipBackground,color:t.regularInvertedTextColor,borderRadius:3,padding:"4px 8px",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontSize:12,lineHeight:1.4,fontWeight:p.a.fontWeight.medium};var t;return this.props.textWrap||(e.whiteSpace="nowrap"),{...e,...this.props.style}}}f.Placement=l.b,f.Alignment=l.a;t.a=f},LoBg:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("3uHk"),s=n("w5u6");class l extends a.a{willMount(){this.props.capture&&this.increment()}willUpdate(e){this.props.capture&&!e.capture&&this.decrement(),!this.props.capture&&e.capture&&this.increment()}willUnmount(){this.props.capture&&this.decrement()}renderComponent(){if(this.props.children)return r.a.Children.only(this.props.children)}increment(){s.default.afterNextFlush(()=>{i.a.state.capturingAreas.add(this),i.a.emit()})}decrement(){s.default.afterNextFlush(()=>{i.a.state.capturingAreas.delete(this),i.a.emit()})}}t.a=l},LqYT:function(e,t,n){"use strict";var o=n("LvDl"),r=n("d933"),a=n("Z6+j"),i=n("FCWi"),s=n("mgru"),l=n("w5u6"),c=n("oXlg");class d extends a.a{constructor(e,t){super(),this.hasListeners=!1,this.shouldRecompute=!1,this.useDeepEqual=!1,this.handleChange=()=>{this.setShouldRecompute(),l.default.enqueueComputedStoreRecompute(this.recomputeState)},this.recomputeState=()=>{this.shouldRecompute=!1;const e=this.lastState;this.hasListeners&&this.autoListener.startListener({incrementCycle:!0});const t=this.computeFn();this.hasListeners&&this.autoListener.stopListener({isEndOfCycle:!0}),(this.useDeepEqual?Object(o.isEqual)(e,t):Object(s.a)(e,t))?this.debugName&&c.a.log("ComputedStore.recomputeState unchanged",this.debugName,this):(this.debugName&&c.a.log("ComputedStore.recomputeState emit",this.debugName,this),this.lastState=t,this.emit())},this.computeFn=e,this.autoListener=new r.a({onChange:this.handleChange}),t&&(this.useDeepEqual=Boolean(t))}getState(){return r.a.logStoreAccess(this,{hasListeners:this.hasListeners,lastState:this.lastState}),this.hasListeners?(this.shouldRecompute&&this.recomputeState(),this.lastState):this.computeFn()}get state(){return this.getState()}addListener(e){super.addListener(e),this.hasListeners||(this.hasListeners=!0,this.recomputeState())}removeListener(e){super.removeListener(e),0===this.listenerCount()&&(this.hasListeners=!1,this.autoListener.destroy())}emit(){i.logStoreEmit(this),super.emit(this)}updateStoreInstance(e,t){const n=Boolean(t);this.useDeepEqual===n&&this.computeFn===e||(this.debugName&&c.a.log("ComputedStore.updateStoreInstance changed",this.debugName),this.computeFn=e,this.useDeepEqual=n,this.setShouldRecompute())}setShouldRecompute(){this.shouldRecompute=!0}enqueueRecompute(){this.handleChange()}recompute(){this.recomputeState()}}t.a=d},M29X:function(e){e.exports=JSON.parse('{"guides.guides":"https://www.notion.so/e040febf70a94950b8620e6f00005004","guides.comments":"https://www.notion.so/3f4aa425e0ae44989247f30e08158b41","guides.backlinks":"https://www.notion.so/cb3c406403c940b68af52de121e05474","guides.notionForTeams":"https://www.notion.so/f6f02f30e70c4fcdbad04760354d8f79","guides.keyboardShortcuts":"https://www.notion.so/66e28cec810548c3a4061513126766b0","guides.reinstallMac":"https://www.notion.so/3341dd4ece814f4697a89bc8a6a7ac07","guides.reinstallWindows":"https://www.notion.so/c13422552b7a462d8c1867e9c8367cde","guides.upgradeAndroid":"https://www.notion.so/d76947964e2f4d9a847da0069dfe1714","guides.upgradeiOS":"https://www.notion.so/87d6bfa0b33144aaaaf20f1fbb734c42","guides.import":"https://www.notion.so/18c37b470e8941789548b68049af750b","guides.importEvernote":"https://www.notion.so/notion/18c37b470e8941789548b68049af750b#3cc72054b7094d87b6a4883d017c69ff","guides.importGoogleDocs":"https://www.notion.so/notion/18c37b470e8941789548b68049af750b#0d1e8c7c0ec444c0a6098287cecefb4f","guides.importQuip":"https://www.notion.so/notion/18c37b470e8941789548b68049af750b#ac9ebb05a48b4baeaf58e78374ab4d16","guides.importDropboxPaper":"https://www.notion.so/notion/18c37b470e8941789548b68049af750b#eeb6cd7ff7d24e5b839d598c906a45ed","guides.importWorkflowy":"https://www.notion.so/notion/18c37b470e8941789548b68049af750b#9d1e7e6a97be422daa19a772d86e001b","guides.importConfluence":"https://www.notion.so/notion/18c37b470e8941789548b68049af750b#ea2fdb1d5e0a4e7fa8c8b3a3353b16e6","guides.sharing":"https://www.notion.so/524c32ac63dc424a842891ace7a99bf8","guides.invitePerson":"https://www.notion.so/27d4016f95b5444eb7be5f81d5bfa057","guides.formulas":"https://www.notion.so/Formulas-28f3f5c3ae644c59b4d862046ea6a541","guides.allUpdates":"https://www.notion.so/c1112a5335c848e7922a3fd5d91227f7","guides.notifications":"https://www.notion.so/bef80feafec64c789e631c85a16f2d5b","guides.quickFind":"https://www.notion.so/af945b6e69b64437afba2d143e4b546f","guides.relations":"https://www.notion.so/fd56bfc6a3f0471a9f0cc3110ff19a79","guides.reminders":"https://www.notion.so/b4325370e2744d999c021900e76c9abb","guides.trash":"https://www.notion.so/e1b5901bdc2f4905aaf0aa4a3b47be63","guides.pageHistory":"https://www.notion.so/eec3af1f5bc64ba0a712ee5794e12a9c","guides.database":"https://www.notion.so/fd8cd2d212f74c50954c11086d85997e","guides.databaseView":"https://www.notion.so/fd8cd2d212f74c50954c11086d85997e#345a826adfdb4d32a17ddcb9799386b4","guides.databaseFilter":"https://www.notion.so/fd8cd2d212f74c50954c11086d85997e#a64301249c9d43aa90ac867a35593e4b","guides.databaseSort":"https://www.notion.so/fd8cd2d212f74c50954c11086d85997e#0eb303043b1742468e5aff2f3f670505","guides.databaseProperties":"https://www.notion.so/fd8cd2d212f74c50954c11086d85997e#92a90f06bb7947408ba0255d56cec50d","guides.databaseCalendar":"https://www.notion.so/c00c23c26e31471496b540583e1b8c47","guides.tableOfContents":"https://www.notion.so/50de58f824bf4100a4a9fa5b6f783c2b","guides.billingAndPayment":"https://www.notion.so/Billing-payment-a72397ef9c5c4c5dac992af37f0dc6dc","guides.equations":"https://www.notion.so/Math-equations-b4e9e4e03677413481a4910e8bd328c1","guides.profileSettings":"https://www.notion.so/87076204f7f5480db33c35e85c46968b","guides.notificationSettings":"https://www.notion.so/bef80feafec64c789e631c85a16f2d5b#c4d40cecfa654dadb67992b981a12aed","guides.referralsAndCredit":"https://www.notion.so/7f39e3701b3f482ba313e60461fabee8","guides.exportWorkspace":"https://www.notion.so/notion/b0a64a148cad461cb6e9df74f7372ecf#23a9194abf324cb7a222ede243fdcb5b","guides.exportMembers":"https://www.notion.so/notion/b0a64a148cad461cb6e9df74f7372ecf","guides.deleteWorkspace":"https://www.notion.so/a0648422a1324111b360ac0c377bcded","guides.members":"https://www.notion.so/27d4016f95b5444eb7be5f81d5bfa057#c5b722687a3a42c685c15c8da8ebe4cd","guides.groups":"https://www.notion.so/09442f5ddc9a4ecf89250caf82a2c08d#539b74f60dce4e479348259d1c42a31c","guides.changeBillingInterval":"https://www.notion.so/Billing-payment-a72397ef9c5c4c5dac992af37f0dc6dc#3340478b585b4b9c81375e4a0b33b86c","guides.databaseTemplates":"https://www.notion.so/fd8cd2d212f74c50954c11086d85997e#f5c297e6f2f342e0b649ae2c98686b90","guides.samlSettings":"https://www.notion.so/8c81b7350a22467ba53d600d6e6819c0","guides.securitySettings":"https://www.notion.so/b0a64a148cad461cb6e9df74f7372ecf#5b2e99911fa548bb9b04fc36f9e5cab2","guides.scim":"https://www.notion.so/8797619fd6124a19aa280095f2ab9a95","guides.imagesFaqs":"https://www.notion.so/83601023414740ef9c79c23c64f80c6b#06dcdd8d490b470583ea6ebf44ad9e5b","guides.videosFaqs":"https://www.notion.so/8a84c7515fa840fcbc3af76f21449f25#5bd776e64c6c404bafde40fc04f228ff","guides.audioFaqs":"https://www.notion.so/0faba286086c42faa960c35af798baf6#7671aa693dc445008291fc2683b8cb06","guides.embedsFaqs":"https://www.notion.so/6b7133323590447b9d8e963c136ebce5#0117b94e0f3c44c4841359f3dd44f0ed","guides.remoteTips":"https://www.notion.so/95f92175c8bd41ad8610432f0f952556","guides.alias":"https://www.notion.so/95f92175c8bd41ad8610432f0f952556","templateGallery":"https://www.notion.so/181e961aeb5c4ee6915307c0dfd5156d","community":"https://www.notion.so/notion/04f306fbf59a413fae15f42e2a1ab029","terms":"https://www.notion.so/notion/Terms-and-Privacy-28ffdd083dc3473e9c2da6ec011b58ac","contentPolicy":"https://www.notion.so/notion/1b9a773d5583486cb5c1d39a8d777a55"}')},M64d:function(e,t,n){"use strict";var o=n("FcJC"),r=n("EZe4");const a=e=>{Object(r.d)({event:e,context:r.a.SidebarMouseMove,callback:()=>{o.close()}})};t.a=function(e){return e({onMouseMove:a})}},MBf9:function(e,t,n){"use strict";n.r(t);n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("HRSx"),i=n("SRc3"),s=n("922z"),l=n("g90h");class c{constructor(e){this.id=Object(l.b)(),this.committed=!1,this.isLocal=!1,this.operations=[],this.stores=[],this.initialRecordMap=new s.a,this.invertedOperations=[],this.preSubmitActions=[],this.postSubmitActions=[],this.postSubmitCallbacks=[];const{spaceId:t,userId:n}=e;t&&n&&(this.spaceId=t,this.userId=n)}done(e){for(const t of this.postSubmitCallbacks)t(e)}awaitDone(){return new Promise((e,t)=>{this.postSubmitCallbacks.push(n=>{n?t(n):e()})})}}var d=n("5ma9"),u=n("Owea"),p=n("VBxf"),h=n("Fe7V"),m=n("CaJT"),f=n("wpmu"),g=n("A9TN"),b=n("6SEd"),v=n("bjn0"),y=n("hbKx"),S=n("kaWB"),w=n("FUUC"),k=n("sjR4"),C=n("DNgp"),M=n("vJXr"),E=n("dlZW"),_=n("ARzG"),T=n("622O");var x=n("oqx9"),I=n("G4cA"),P=n("NoAG"),O=n("zok3"),B=n("nFzZ"),L=n("5/h/"),R=n("vl8/"),D=n("J9+s"),A=n("/xiq"),j=n("nM47");n.d(t,"updateConnectionState",(function(){return V})),n.d(t,"create",(function(){return U})),n.d(t,"addOperation",(function(){return z})),n.d(t,"commit",(function(){return Y})),n.d(t,"createAndCommit",(function(){return H}));const F=Object(D.defineMessages)({invalidBlockOperation:{defaultMessage:"Hey there! Blocks cannot be moved inside of themselves.",id:"saveChanges.errorDialog.blocksCannotBeMovedInsideSelf.message"}});function V(e){M.a.state.online&&e.currentUser.id?E.transactionQueue.unpause():E.transactionQueue.pause()}const N=function(e){r.a.uniqBy(e.stores,e=>e.id).forEach(t=>{if(t.table===a.a){const n=f.a.fromRecordStore(t),o=n.getValue();if(o){const t=Object(_.a)(o,g.default.secureFileS3.url,!1),r=o.file_ids||[];for(const o of t)r.indexOf(o.id)<0&&z({transaction:e,store:n,operation:{pointer:n.pointer,path:["file_ids"],command:"listAfter",args:{id:o.id}}})}}else if(t.table===b.a){const n=v.a.fromRecordStore(t),o=n.getValue();if(o){const t=function(e,t,n){if(n&&!e.file_ids)return[];const o=[],{cover:r,icon:a}=e;if(r){const a=Object(T.i)(r,e.file_ids,t,n);a&&o.push(a)}if(a){const r=Object(T.i)(a,e.file_ids,t,n);r&&o.push(r)}return o}(o,g.default.secureFileS3.url,!1),r=o.file_ids||[];for(const o of t)r.indexOf(o.id)<0&&z({transaction:e,store:n,operation:{pointer:n.pointer,path:["file_ids"],command:"listAfter",args:{id:o.id}}})}}})};const U=function(e,t){const n=d.a(),o=new c({spaceId:n,userId:t||e.currentUser.id});return o.beforeSelection=k.default.cloneState(),o.beforeTextSelection=C.default.cloneState(),o},z=function(e){const{store:t,operation:n,transaction:o}=e,{inMemoryRecordCache:r}=t;if(o.committed)throw new Error("Transaction has already been committed.");const a=t.getRecordStoreAtRootPath().getValue(),s=t.getRecordStoreAtRootPath().getRole(),l=i.a(n,a);o.initialRecordMap.get(t.pointer)||(s?o.initialRecordMap.set(t.pointer,{role:s,value:a}):o.initialRecordMap.set(t.pointer,void 0));const c=i.b(n,a),d=r.getRole({pointer:t.pointer,userId:t.userId});if(h.h({environment:t.environment,inMemoryRecordCache:r,pointer:t.pointer,userId:t.userId,force:!0,recordWithRole:{value:c,role:d||"editor"},updatePath:n.path}),"block"===t.table){const e=c;e&&e.parent_id&&"collection"===e.parent_table&&u.a.setEditedBlock(e.parent_id,e.id)}return o.isLocal=!t.isDefaultRecordCache(),o.operations.push(n),l&&o.invertedOperations.push(l),o.stores.push(t),r.appliedTransaction=!0,t};function X(e){const t=r.a.uniqBy(e.stores,e=>e.id);for(const n of t){h.c({inMemoryRecordCache:n.inMemoryRecordCache,persistedRecordCache:n.environment.PersistedRecordCache,pointer:n.pointer,userId:n.userId,environment:n.environment});const t=e.initialRecordMap.get(n.pointer);t&&h.h({environment:n.environment,inMemoryRecordCache:n.inMemoryRecordCache,pointer:n.pointer,userId:n.userId,updatePath:[],recordWithRole:t})}}function Y(e){return new Promise((t,n)=>{if(0===e.transaction.operations.length)return e.transaction.done(),t();void 0===e.canUndo&&(e.canUndo=!0);const{transaction:o,canUndo:i}=e,s=function(e){for(const t of e.stores)if("block"===t.table){const e=y.f(t);if(e){if(y.g(e).find(e=>e.table===t.table&&e.id===t.id))return R.default.formatMessage(F.invalidBlockOperation)}}}(o);if(s)return X(o),p.showErrorMessage(s),void t();for(const e of o.preSubmitActions)e();if(function(e,t){const n=e.currentUser.id,o=Date.now(),i=Math.round(Math.floor(o/B.d)*B.d),s=r.a.uniqBy(t.stores,e=>e.id);let l=[];for(const r of s)if(r.table===a.a){const e=f.a.createChildStore(r,r.pointer);if(e.canEdit()&&l.push(e),!e.isNavigableBlock()){const t=y.c(e);t&&t.canEdit()&&l.push(t)}}else if(r.table===S.a)l.push(x.a.createChildStore(r,r.pointer));else if(r.table===w.a)l.push(I.a.createChildStore(r,r.pointer));else if(r.table===b.a){const e=v.a.createChildStore(r,r.pointer).getParentBlockStore();e&&e.canEdit()&&l.push(e)}else if(r.table===P.a){const e=O.a.createChildStore(r,r.pointer).getParentBlockStore();e&&e.canEdit()&&l.push(e)}l=r.a.uniqBy(l,e=>e.id);for(const r of l)if(r instanceof f.a){const e=r.getValue();(e?e.created_by_id:void 0)||(z({transaction:t,store:r,operation:{pointer:r.pointer,path:["created_by_id"],command:"set",args:n}}),z({transaction:t,store:r,operation:{pointer:r.pointer,path:["created_by_table"],command:"set",args:L.a}})),(e?e.created_time:void 0)||z({transaction:t,store:r,operation:{pointer:r.pointer,path:["created_time"],command:"set",args:i}}),(e?e.last_edited_time:void 0)!==i&&z({transaction:t,store:r,operation:{pointer:r.pointer,path:["last_edited_time"],command:"set",args:i}}),(e?e.last_edited_by_id:void 0)!==n&&(z({transaction:t,store:r,operation:{pointer:r.pointer,path:["last_edited_by_id"],command:"set",args:n}}),z({transaction:t,store:r,operation:{pointer:r.pointer,path:["last_edited_by_table"],command:"set",args:L.a}}))}else if(r instanceof I.a){const e=r.getValue();(e?e.created_by_id:void 0)||(z({transaction:t,store:r,operation:{pointer:r.pointer,path:["created_by_id"],command:"set",args:n}}),z({transaction:t,store:r,operation:{pointer:r.pointer,path:["created_by_table"],command:"set",args:L.a}})),(e?e.created_time:void 0)||z({transaction:t,store:r,operation:{pointer:r.pointer,path:["created_time"],command:"set",args:i}}),(e?e.last_edited_time:void 0)!==i&&z({transaction:t,store:r,operation:{pointer:r.pointer,path:["last_edited_time"],command:"set",args:i}}),(e?e.last_edited_by_id:void 0)!==n&&(z({transaction:t,store:r,operation:{pointer:r.pointer,path:["last_edited_by_id"],command:"set",args:n}}),z({transaction:t,store:r,operation:{pointer:r.pointer,path:["last_edited_by_table"],command:"set",args:L.a}}))}else if(r instanceof x.a){const e=r.getValue();(e?e.created_by_id:void 0)||(z({transaction:t,store:r,operation:{pointer:r.pointer,path:["created_by_id"],command:"set",args:n}}),z({transaction:t,store:r,operation:{pointer:r.pointer,path:["created_by_table"],command:"set",args:L.a}})),(e?e.created_time:void 0)||z({transaction:t,store:r,operation:{pointer:r.pointer,path:["created_time"],command:"set",args:i}}),(e?e.last_edited_time:void 0)!==i&&z({transaction:t,store:r,operation:{pointer:r.pointer,path:["last_edited_time"],command:"set",args:i}})}}(e.environment,o),N(o),function(e,t){const n=t.operations.filter(e=>e.pointer.table===P.a);if(n.length>0){r.a.uniq(n.map(e=>e.pointer.id)).map(e=>t.initialRecordMap.get({table:P.a,id:e})).includes(void 0)&&t.postSubmitCallbacks.push(()=>{j.e(e)})}}(e.environment,o),o.afterSelection=k.default.cloneState(),o.afterTextSelection=C.default.cloneState(),i&&m.c({transaction:o,undoCheckpoint:e.undoCheckpoint}),o.isLocal){for(const e of o.postSubmitActions)e();o.done(),t()}else{const r=e=>{o.done(e),e?n(e):t()},{LocalBacklinkStore:a,currentUser:i}=e.environment;a&&A.b({LocalBacklinkStore:a,currentUser:i},o),E.transactionQueue.enqueueTask({id:o.id,userId:o.userId,spaceId:o.spaceId,timestamp:Date.now(),operations:o.operations,callback:r}).catch(e=>{X(o),r(e)});for(const e of o.postSubmitActions)e()}o.committed=!0})}function H(e,t,n){const o=U(e,n),r=t(o);return Y({environment:e,transaction:o}),r}},MHAS:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("ZQ9l"),s=n("MeYt"),l=n("mF3+"),c=n("aEEb");class d extends a.a{renderComponent(){const{device:e}=this.environment;return r.a.createElement(s.a,{mobileFeedback:e.isMobile,onClick:this.props.onClick,hovered:this.props.focused,disabled:this.props.disabled,style:this.props.buttonStyle},r.a.createElement(i.a,Object.assign({},this.props,{dontShrinkTitle:!0,right:this.props.right&&r.a.createElement("div",{style:{display:"flex",whiteSpace:"nowrap"}},r.a.createElement(c.a,{isSecondaryColor:!0,isMobile:e.isMobile},this.props.right),!e.isMobile&&r.a.createElement("div",{style:{visibility:this.props.disabled?"hidden":void 0,flexShrink:0}},l.a.chevronDown({width:10,marginLeft:4,fill:this.theme.lightIconColor})))})))}}t.a=d},MOs8:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=["personal","programmer","product_manager","designer","marketing","sales","customer_support","hr_recruiting","student","unfilled"],r=["team_lead","org_lead","company_lead","not_lead","unfilled"]},MQ9n:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return m}));var o=n("q1tI"),r=n.n(o),a=n("GJWe"),i=n("mF3+"),s=n("VhAz");const l=e=>"block"===e.display?r.a.createElement(c,Object.assign({},e)):r.a.createElement(d,Object.assign({},e)),c=e=>{const{katex:t,equation:n,options:o,style:a,errorStyle:i,theme:s}=e,l=m({katex:t,equation:n,options:{...o,displayMode:!0}});return l.error?r.a.createElement("div",{key:"error",style:{background:s.errorText,...i},role:"alert"},l.error.message):r.a.createElement("div",{key:"value",style:a,dangerouslySetInnerHTML:{__html:l.value}})},d=e=>{const{katex:t,index:n,equation:o,options:s,isTemporary:l,style:c,theme:d,intl:f}=e;if(!o)return r.a.createElement(u,{key:n,index:n,style:{...p("empty",d),...c}},i.a.equation(h.equationIcon),f.formatMessage({id:"inlineEquationToken.placeholder.label",defaultMessage:"New equation",description:"Placeholder text shown when a new inline equation is created, but does not yet have content"}));const g=m({katex:t,equation:o,options:{...s,displayMode:!1}});return g.error?r.a.createElement(u,{key:n,index:n,style:{...p("error",d),...c}},i.a.equation(h.equationIcon),f.formatMessage({id:"inlineEquationToken.invalidPlaceholder.label",defaultMessage:"Invalid equation",description:"Placeholder text shown when their LaTeX formula is invalid and cannot be parsed"})):r.a.createElement(u,{key:n,index:n,style:{...l&&p("temporary",d),...c}},r.a.createElement("span",null),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:g.value}}),r.a.createElement("span",null,a.e))},u=e=>{const{index:t,style:n,children:o}=e;return r.a.createElement("span",{key:t,"data-token-index":t,contentEditable:!1,className:a.b,style:{...h.inlineContainer,...n}},o)};function p(e,t){return"empty"===e?{...h.inlinePlaceholder,background:t.equationEmptyPlaceholderBackground,color:t.mediumTextColor}:"error"===e?{...h.inlinePlaceholder,background:t.equationErrorPlaceholderBackground,color:t.errorText}:"temporary"===e?{...h.inlinePlaceholder,...h.temporaryPlaceholder,background:t.equationTemporaryPlaceholderBackground}:void Object(s.e)(e)}const h={inlineContainer:{userSelect:"all",WebkitUserSelect:"all",MozUserSelect:"all"},inlinePlaceholder:{display:"inline-flex",alignItems:"center",verticalAlign:"top",padding:"0 ".concat(4,"px"),borderRadius:3},equationIcon:{width:16,height:16,marginRight:4,display:"inline-block",fill:"currentColor"},temporaryPlaceholder:{transform:"translate3d(-".concat(4,"px, 0, 0)"),marginRight:-8}};function m(e){const{katex:t,equation:n,options:o}=e;try{return{error:void 0,value:t.renderToString(n,o)}}catch(r){return{error:r}}}},MYfK:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR");class i extends a.a{renderComponent(){const{forId:e,children:t,style:n}=this.props;return r.a.createElement("label",{style:{...this.getStyle(),...n},htmlFor:e},t)}getStyle(){const{hasMarginTop:e}=this.props,t={display:"block",marginBottom:4,fontSize:12,color:this.theme.mediumTextColor};return e&&(t.marginTop=14),t}}t.a=i},Ma8p:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("dayd"),s=n("tzmq"),l=(n("3bBZ"),n("6fvo")),c=n("VhAz"),d=n("/cKE"),u=n("hU3F"),p=n("9ozu");class h extends a.a{constructor(){super(...arguments),this.storeTypes={highResLoaded:u.a.of(!1),showLowResPlaceholder:u.a.of(!1)},this.handleLoad=()=>{this.stores.highResLoaded.set(!0)}}didMount(){this.showPlaceholderAfterTimeout()}showPlaceholderAfterTimeout(){window.clearTimeout(this.timerId),this.stores.showLowResPlaceholder.set(!1),this.timerId=window.setTimeout(()=>{this.stores.highResLoaded.state||this.stores.showLowResPlaceholder.set(!0)},300)}UNSAFE_componentWillReceiveProps(e){super.UNSAFE_componentWillReceiveProps(e),this.stores.highResLoaded.set(!1),this.showPlaceholderAfterTimeout()}renderComponent(){const e=Object(s.a)(this.environment);if("raw"===e)return r.a.createElement(d.a,{char:this.props.char});const t=Object(l.b)(this.props.char);if(!t)return r.a.createElement(d.a,{char:this.props.char});const n="google"===e?"img-google-136/".concat(t.codepoints,".png"):"twitter"===e?"svg-twitter/".concat(t.codepoints,".svg"):Object(c.e)(e),o=r.a.createElement("img",{alt:this.props.char,"aria-label":this.props.char,style:{position:"absolute",top:0,left:0,opacity:this.stores.highResLoaded.state?1:0,transition:this.stores.highResLoaded.state&&this.stores.showLowResPlaceholder.state?"opacity ease-in 100ms":void 0,width:this.props.size,height:this.props.size},onLoad:this.handleLoad,src:"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/"+n});return r.a.createElement("div",{style:{position:"relative",width:this.props.size,height:this.props.size}},r.a.createElement(p.a,{char:this.props.char,type:e,size:this.props.size,style:{opacity:this.stores.showLowResPlaceholder.state&&!this.stores.highResLoaded.state?1:0,transition:"opacity ease-out 100ms"}}),o)}}var m=h;class f extends a.a{renderComponent(){const{device:e}=this.environment,{emoji:t,size:n,disableShrinking:o}=this.props;let a=n,l=0,c=1.1;if(n<28&&!o){a=e.isRetina&&e.isChrome?.9*a:.7*a}return"raw"===Object(s.a)(this.environment)&&((e.isSafari||e.isIOS)&&(l=-5),e.isAndroid&&(l=n/-4,c=n>18?1:.8)),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:n,width:n}},r.a.createElement("div",{style:{height:a,width:a,fontSize:a,lineHeight:c,marginLeft:l,color:this.theme.regularEmojiColor}},t&&(n>32?r.a.createElement(m,{char:t,size:n}):r.a.createElement(i.a,{char:t}))))}}t.a=f},MaHM:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var o=n("q1tI"),r=n.n(o),a=n("J9+s");function i(){return r.a.createElement(a.FormattedMessage,{defaultMessage:"Filter",id:"database.filterMenu.mobileMenuTitle"})}function s(){return r.a.createElement(a.FormattedMessage,{defaultMessage:"Add a filter",id:"database.filterMenu.addFilterButtonTitle"})}},Mcmf:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("i8i4"),l=n.n(s),c=n("17x9"),d=n.n(c),u=n("/mqF"),p=n("FmD2"),h=n("CaJT"),m=n("6rsX"),f=n("unoy"),g=n("EZe4"),b=n("x0lk"),v=n("RI9y"),y=n("sjR4"),S=n("wldR"),w=n("iVjn"),k=n("VyA+"),C=n("uSCg"),M=n("DkKf"),E=n("qHvo"),_=n("DNgp"),T=n("nZ1u"),x=n("AmMh"),I=n("43ch"),P=n("w5u6"),O=n("B2+S"),B=n("iICV");class L extends S.a{constructor(){super(...arguments),this.isSelected=!1,this.shouldEditOnClick=!0,this.registries=[I.a],this.handleKeyDown=e=>{e.metaKey||e.ctrlKey||e.altKey||B.a.setKeyboardMode(!0)},this.handleDragStart=e=>{const t=this.getContextClosestSelectableStore();e.shiftKey&&!this.isEditing.state&&t?(e.preventDefault(),m.k({environment:this.environment,store:t,toggle:m.t(this.environment),selectBetween:m.s()}),this.shouldEditOnClick=!1):this.shouldEditOnClick=!0},this.handleDragMove=e=>{if(E.b.state.isDragging)u.e(this.environment,{currentX:e.currentX,currentY:e.currentY});else if(e.shiftKey)M.d()&&u.g(this.environment,{startX:e.startX,startY:e.startY,stores:y.default.state.stores,isNativeDrag:!1,getGhostElement:void 0});else if(!T.a.state.isActive){const t=l.a.findDOMNode(this);if(!t)return;if(!(t instanceof Element))return;const n=b.a(t.getBoundingClientRect(),L.minDragDist);!b.g(n,e.currentX,e.currentY)&&this.props.canSelectionDrag&&(this.shouldEditOnClick=!1,p.c({environment:this.environment,target:e.target,startX:e.startX,startY:e.startY,showSelectionRect:!1,preventSelectStores:[],allowVerticalEdgeScroll:!0,allowHorizontalEdgeScroll:!1}))}},this.handleDragEnd=e=>{E.b.state.isDragging?u.c({environment:this.environment,shiftKey:e.shiftKey,optionKey:e.optionKey,commandKey:e.commandKey,analyticsFrom:"page_content"}):f.g()},this.handleClick=e=>{const{device:t}=this.environment;Object(g.d)({event:e,context:g.a.EditorClick,callback:()=>{if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented&&!O.a.state.open)if(this.shouldEditOnClick){const n=this.getContextClosestSelectableStore();if(n?m.f({environment:this.environment,store:n}):(m.r({stores:[]}),m.o({environment:this.environment,phase:y.SelectionPhase.Selected,preventClearEditingText:!0})),t.isMobile&&!this.isEditing.state){const t=this.getNode();if(t){t.classList.add("edtior-force-select");const n=v.rangeFromPoint(e.clientX,e.clientY);if(t.classList.remove("edtior-force-select"),n){const e=this.props.getTextSelectionFromRange(n);e&&(f.m({store:this.props.store,selection:e.selection}),e.forceEmitSelectionStore&&_.default.emit())}}}this.saveSerializedTextSelectionAfterFlush()}else this.shouldEditOnClick=!0}})},this.handleDragCancel=e=>{E.b.state.isDragging&&(u.a(this.environment),m.e(this.environment))},this.onEsc=e=>{if(this.props.disabled)return;e.preventDefault();const t=this.getContextClosestSelectableStore();if(t){const e=x.a.findSelectableFromStore(t);e&&e.props.canSelect&&m.q({environment:this.environment,stores:[t]})}},this.onUp=e=>{this.props.disabled||f.d({environment:this.environment,store:this.props.store,topBottomPadding:this.props.topBottomPadding,event:e})},this.onDown=e=>{this.props.disabled||f.a({environment:this.environment,store:this.props.store,topBottomPadding:this.props.topBottomPadding,event:e})},this.onLeft=e=>{this.props.disabled||f.b({environment:this.environment,store:this.props.store,event:e})},this.onRight=e=>{this.props.disabled||f.c({environment:this.environment,store:this.props.store,event:e})},this.onSelectAll=e=>{this.props.disabled||(e.preventDefault(),f.k({environment:this.environment,store:this.props.store,canSelectAllBlocks:this.props.canSelectAllBlocks}))},this.onUndo=e=>{e.preventDefault(),h.f(this.environment)},this.onRedo=e=>{e.preventDefault(),h.e(this.environment)},this.handleContextMenu=e=>{this.isEditing.state&&Object(g.d)({event:e,context:g.a.EditorContextMenu,callback:()=>{this.saveSerializedTextSelectionAfterFlush()}})},this.handleDoubleClick=e=>{Object(g.d)({event:e,context:g.a.EditorDoubleClick,callback:()=>{}})},this.handleSelect=e=>{const{device:t}=this.environment;t.isMobile?this.handleMobileSelect(e):this.handleDesktopSelect(e)},this.handleMobileSelect=e=>{if(!this.props.disabled){if(!v.get())return;const e=this.getContextClosestSelectableStore();this.isEditing.state||m.f({environment:this.environment,store:e}),this.saveSerializedTextSelection(),P.default.flush()}},this.handleDesktopSelect=e=>{!this.props.disabled&&this.isEditing.state&&this.saveSerializedTextSelection()},this.saveSerializedTextSelectionAfterFlush=()=>{P.default.afterNextFlush(()=>{this.saveSerializedTextSelection()})},this.isEditing=this.createComputedStore(()=>{const e=_.default.state;return"editing"===e.mode&&e.store===this.props.store})}getNode(){return l.a.findDOMNode(this)}didMountOrUpdate(){this.isEditing.state?this.isSelected||(this.isSelected=!0,this.props.onSelected&&this.props.onSelected()):this.isSelected&&(this.isSelected=!1,this.clearBrowserSelection(),this.props.onDeselected&&this.props.onDeselected())}willUnmount(){this.isSelected&&(this.isSelected=!1,this.props.onDeselected&&this.props.onDeselected())}shouldComponentUpdate(e){return!0}getContextClosestSelectable(){return this.context.closestSelectable}getContextClosestSelectableStore(){if(this.context.closestSelectable)return this.context.closestSelectable.props.store}renderComponent(){const{disabled:e,disableUpDownArrows:t,disableEnter:n}=this.props,o=this.isEditing.state;return r.a.createElement(k.a,{capture:o&&!e,onDelete:this.createEventDataCallback("onDelete"),onBackspace:this.createEventDataCallback("onBackspace"),onEnter:n?void 0:this.createEventDataCallback("onEnter"),onShiftEnter:this.createEventDataCallback("onShiftEnter"),onCommandEnter:this.createEventDataCallback("onCommandEnter"),onCommandShiftEnter:this.createEventDataCallback("onCommandShiftEnter"),onUp:t?void 0:this.createEventDataCallback("onUp"),onDown:t?void 0:this.createEventDataCallback("onDown"),onLeft:this.createEventDataCallback("onLeft"),onRight:this.createEventDataCallback("onRight"),onTab:this.createEventDataCallback("onTab"),onUntab:this.createEventDataCallback("onUntab"),onSelectAll:this.createEventDataCallback("onSelectAll"),onToggleUnderline:this.createEventDataCallback("onToggleUnderline"),onToggleHighlight:this.createEventDataCallback("onToggleHighlight"),onToggleBold:this.createEventDataCallback("onToggleBold"),onToggleItalics:this.createEventDataCallback("onToggleItalics"),onToggleStrike:this.createEventDataCallback("onToggleStrike"),onToggleCode:this.createEventDataCallback("onToggleCode"),onUndo:this.createEventDataCallback("onUndo"),onRedo:this.createEventDataCallback("onRedo"),onEsc:this.createEventDataCallback("onEsc"),onCut:this.createEventDataCallback("onCut"),onCopy:this.createEventDataCallback("onCopy"),onPaste:this.createEventDataCallback("onPaste"),onKeypress:this.createEventDataCallback("onKeyPress"),onMoveUp:this.createEventDataCallback("onMoveUp"),onMoveDown:this.createEventDataCallback("onMoveDown"),onHome:this.saveSerializedTextSelectionAfterFlush,onEnd:this.saveSerializedTextSelectionAfterFlush,onGoToBeginningOfLine:this.saveSerializedTextSelectionAfterFlush,onGoToEndOfLine:this.saveSerializedTextSelectionAfterFlush,onGoForwardOneChar:this.saveSerializedTextSelectionAfterFlush,onGoBackwardOneChar:this.saveSerializedTextSelectionAfterFlush},this.renderDraggable())}renderDraggable(){const e=this.isEditing.state;return r.a.createElement(w.a,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,cursor:"text",render:t=>this.props.render(Object(C.a)(t,{onClick:this.handleClick,onContextMenu:this.handleContextMenu,onKeyDown:this.handleKeyDown,onDoubleClick:this.handleDoubleClick}),this.handleSelect,e),disableHorizontalEdgeScroll:this.props.disableHorizontalEdgeScroll})}createEventDataCallback(e){return this.props[e]?this.props[e]:this[e]?this[e]:void 0}saveSerializedTextSelection(){const e=this.props.getTextSelectionFromRange(v.get());if(e){if("empty"!==_.default.state.mode&&_.default.state.store===this.props.store&&i.a.isEqual(_.default.state.selection,e.selection)&&!e.forceEmitSelectionStore)return;f.m({store:this.props.store,selection:e.selection,readOnly:this.props.disabled}),e.forceEmitSelectionStore&&_.default.emit()}}clearBrowserSelection(){this.props.clearBrowserSelection()}}L.minDragDist=20,L.contextTypes={closestSelectable:d.a.any,selectableContainer:d.a.any,...S.b},t.a=L},MeYt:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("TSYQ"),l=n.n(s),c=n("wldR"),d=n("7z/K"),u=n("m0IC"),p=n("7M94");class h extends c.a{constructor(){super(...arguments),this.storeTypes={store:d.a},this.classNames=this.createComputedStore(()=>l()(this.props.className,this.environment.showButtonFocusRing.state&&p.z)),this.handleClick=e=>{const{disabled:t,onClick:n}=this.props;u.a({store:this.stores.store,event:e,disabled:t||!1,onClick:n})},this.handleMouseEnter=e=>{const{disabled:t,onMouseEnter:n}=this.props;u.d({store:this.stores.store,event:e,disabled:t||!1,onMouseEnter:n})},this.handleMouseMove=e=>{const{disabled:t,onMouseMove:n}=this.props;u.f({store:this.stores.store,event:e,disabled:t||!1,onMouseMove:n})},this.handleMouseLeave=e=>{const{disabled:t,onMouseLeave:n}=this.props;u.e({store:this.stores.store,event:e,disabled:t||!1,onMouseLeave:n})},this.handleMouseDown=e=>{const{disabled:t,onMouseDown:n}=this.props;u.c({store:this.stores.store,event:e,disabled:t||!1,onMouseDown:n})},this.handleMouseUp=e=>{const{disabled:t,onMouseUp:n}=this.props;u.g({store:this.stores.store,event:e,disabled:t||!1,onMouseUp:n})},this.handleTouchStart=e=>{const{disabled:t,onTouchStart:n}=this.props;u.j({store:this.stores.store,event:e,disabled:t||!1,onTouchStart:n})},this.handleTouchEnd=e=>{const{disabled:t,onTouchEnd:n}=this.props;u.i({store:this.stores.store,event:e,disabled:t||!1,onTouchEnd:n})},this.handleTouchCancel=e=>{const{disabled:t,onTouchCancel:n}=this.props;u.h({store:this.stores.store,event:e,disabled:t||!1,onTouchCancel:n})},this.handleContextMenu=e=>{const{disabled:t,onContextMenu:n}=this.props;u.b({store:this.stores.store,event:e,disabled:Boolean(t),onContextMenu:n})},this.handleKeyDown=e=>{const{disabled:t}=this.props;t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||"Enter"!==e.key&&" "!==e.key||i.a.findDOMNode(this)!==document.activeElement||e.target instanceof HTMLElement&&(e.target.click(),e.preventDefault())}}willMount(){u.l(this.stores.store)}willMountOrUpdate(e){const{store:t}=this.stores;e.disabled&&(t.state.hovered||t.state.pressed)&&t.reset()}willUnmount(){u.m(this.stores.store)}renderComponent(){const{children:e}=this.props;return r.a.createElement("div",{style:this.getStyle(),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onContextMenu:this.handleContextMenu,onKeyDown:this.handleKeyDown,className:this.classNames.state,role:"button","aria-disabled":this.props.disabled,tabIndex:this.props.disabled?-1:0},e)}getStyle(){const{allowTextSelection:e,disableTransition:t}=this.props,{pressed:n}=this.stores.store.state;return{userSelect:e?"auto":"none",WebkitUserSelect:e?"auto":"none",transition:t?"none":"background 20ms ease-in",cursor:this.props.disabled?void 0:"pointer",opacity:this.props.disabled&&this.props.disabledFeedback?.4:void 0,...this.props.style,...this.showHoveredStyle()&&this.getHoveredStyle(),...n&&this.getPressedStyle()}}showHoveredStyle(){const{ignoreLocalHoverState:e,focused:t}=this.props,{hovered:n}=this.stores.store.state;return e?this.props.hovered||t:n||this.props.hovered||t}getHoveredStyle(){return{...(!this.props.mobileFeedback||this.props.focused)&&{background:this.theme.buttonHoveredBackground,...this.props.hoveredStyle}}}getPressedStyle(){return this.props.mobileFeedback?{opacity:.4}:{background:this.theme.buttonPressedBackground,...this.props.pressedStyle}}}t.a=h},Mf5Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y}));n("3bBZ");var o=n("nkfK"),r=n("g90h"),a=n("iPhm"),i=n("HiHT"),s=n("wpmu"),l=n("bPtJ"),c=n("y6Dp"),d=n("N34Z"),u=n("CARr"),p=n("cBa6"),h=n("Catn"),m=n("5w/s"),f=n("HSWF"),g=n("HRSx");function b(e){const{environment:t,createBlockItem:n,from:o,inMemoryRecordCache:r,transaction:a}=e;if(!n.templateRootBlockId||!n.createTemplate)throw new Error("Invalid createBlock item.");const i=v({environment:t,sourceBlockId:n.templateRootBlockId,sourceBlockSubtree:n.createTemplate(),targetRecordCache:r,transaction:a,deepCopyTransclusionContainers:!0});return y({store:i,transaction:a}),o&&n.blockType&&c.fb(t,{from:o,type:n.blockType}),i}function v(e){const{environment:t,sourceBlockId:n,sourceBlockSubtree:a,targetRecordCache:i,transaction:c,deepCopyTransclusionContainers:u}=e,p=e.targetBlockId||Object(r.b)(),h=o.a({sourceBlockId:n,targetBlockId:p,recordMap:a,options:{deepCopyTransclusionContainers:u}}),m=new s.a(t,{table:g.a,id:p},{inMemoryRecordCache:i});for(const{pointer:o,value:r}of h){const e=Object(l.c)(m,o);r&&d.d({store:e,data:r,transaction:c})}return m}function y(e){const{store:t,transaction:n}=e;"code"===t.getType()?function(e){const{store:t,transaction:n}=e,o=t.getProperties(),r=t.getFormat(),s=t.environment.currentUser.id,l=h.a.get({userId:s,key:a.a.localLanguagePreferenceKey}),c=l&&i.b[l]?l:a.a.defaultLanguage,m=h.a.get({userId:s,key:a.a.localCodeWrapPreferenceKey}),f=t.getBlockTitleStore(),g=f.getValue(),b=p.Ob(g);b&&d.c({store:f,value:b,transaction:n});void 0===o.language&&d.d({store:t.getPropertiesStore(),data:{language:u.h(c)},transaction:n});void 0===r.code_wrap&&d.d({store:t.getFormatStore(),data:{code_wrap:m},transaction:n})}({store:t,transaction:n}):"table_of_contents"===t.getType()?function(e){const{store:t,transaction:n}=e;void 0===t.getFormat().block_color&&m.h({stores:[t],update:{block_color:"gray"},transaction:n})}({store:t,transaction:n}):"callout"===t.getType()&&function(e){const{store:t,transaction:n}=e,o=t.environment.currentUser.id,r=h.a.get({userId:o,key:f.f})||"💡",a=h.a.get({userId:o,key:f.e})||"gray_background",i=t.getFormat();void 0===i.block_color&&m.h({stores:[t],update:{block_color:a},transaction:n});void 0===i.page_icon&&m.h({stores:[t],update:{page_icon:r},transaction:n})}({store:t,transaction:n})}},Mht8:function(e,t,n){"use strict";n.r(t),n.d(t,"initialize",(function(){return c})),n.d(t,"clientLogglyEnvironmentData",(function(){return d})),n.d(t,"log",(function(){return m})),n.d(t,"rateLimitedLog",(function(){return f})),n.d(t,"BatchedLogger",(function(){return g}));var o=n("LvDl"),r=n.n(o),a=n("ddTe"),i=n("y2NV"),s=n("zb5D");let l="debug";function c(e){l=e.isLocalhost?"warning":"debug","undefined"!=typeof window&&(window._LTracker=window._LTracker||[],window._LTracker.push({logglyKey:e.loggly.token,sendConsoleErrors:!1,tag:"client-".concat(e.env)}),n("19e1"))}const d={};Object(a.exposeDebugValue)("logglySetLogLevel",(e="debug")=>{l=e});const u=["error","warning","info","debug"];function p(e,t){return u.indexOf(e)<=u.indexOf(t)}function h(e){const{level:t,from:n,type:o,...r}=e,a=new Date,i="".concat(a.toISOString()," [").concat(t,"] ").concat(n," ").concat(o);e.data&&e.data.message?console.info("".concat(i,": "),e.data.message,r):console.info(i,r)}function m(e){p(e.level,l)&&h(e);const t=function(e){if(e.error&&"VersionError"===e.error.name)return 1;return 100}(e);if(Object(i.b)(t)){const t={...e};void 0!==e.data&&(t.data=Object(s.b)(e.data));const n={href:window.location.href,clientTimestamp:Date.now()};void 0!==d&&(t.clientEnvironmentData=d),t.instantClientData=n,"undefined"!=typeof _LTracker&&_LTracker.push(t)}}const f=r.a.throttle(m,2e3);class g{constructor(e){this.messages=[],this.flush=()=>{if(0===this.messages.length)return;m({level:this.level,from:this.from,type:this.type,data:{miscDataToConvertToString:{messages:this.messages}}}),this.messages=[]};const{from:t,type:n,level:o,maxLength:r}=e;this.maxLength=r,this.from=t,this.type=n,this.level=o}log(e){p(e.level,this.level)&&h(e),this.messages.push({...e,ts:Date.now()}),this.messages.length>this.maxLength&&this.messages.splice(0,this.messages.length-this.maxLength)}}},Mkmb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c}));var o=n("z22Z"),r=n("xL2i");const a=.75,i=.9;function s(e,t){return!e||!t||!Object(o.a)(t)||e&&e.permissions&&e.permissions.filter(e=>e.role&&Object(o.a)(e.role)).length>1}function l(e){return Boolean(e.permissions&&e.permissions.find(e=>"deleted_permission"===e.type))}function c(e,t){const n=Object(r.h)(e);return Boolean(n.find(e=>"user_permission"===e.type&&e.user_id===t&&Object(o.k)(e.role)))}},Mr7a:function(e,t,n){"use strict";n.d(t,"f",(function(){return B})),n.d(t,"e",(function(){return L})),n.d(t,"d",(function(){return R})),n.d(t,"a",(function(){return D})),n.d(t,"c",(function(){return A})),n.d(t,"b",(function(){return F}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("z22Z"),i=n("xL2i"),s=n("FUUC"),l=n("hbKx"),c=n("w5u6"),d=n("wpmu"),u=n("G4cA"),p=n("y6Dp"),h=n("VBxf"),m=n("N34Z"),f=n("MBf9"),g=n("nM47"),b=n("Cycz"),v=n("r8MX"),y=n("bPtJ"),S=n("bkwR"),w=n("5/h/"),k=n("J9+s"),C=n("vl8/"),M=n("QcDD"),E=n("AXh+"),_=n("Agvv"),T=n("qX+M"),x=n("V1wX"),I=n("VhAz"),P=n("7TLZ");const O=Object(k.defineMessages)({preventFullPageAccessDeletion:{id:"permissionsActions.preventRemovingAllFullAccess.message",defaultMessage:"Please give someone else Full Access before removing this permission.",description:"A warning that appears when a user is the only person with full admin access to a page and they attempt to remove their own admin permissions. We need the user to give admin permissions to at least one other person before they can remove their own permissions."},confirmUpgradeMessage:{defaultMessage:"To add members to your workspace, you need to switch it to the Team plan. You will be charged a prorated amount based on your current billing interval and account balance.",id:"permissions.confirmDialog.upgradeToTeamWorkspace.message"},confirmUpgradeButtonLabel:{defaultMessage:"Upgrade to Team workspace",id:"permissions.confirmDialog.upgradeToTeamWorkspace.confirmButton.label"}});async function B(e){const{environment:t,store:n,permissionItems:o,transaction:m}=e;if(Object(E.c)(e))return;const b=n.getValue();if(!b)return;const v=b.permissions||[];let S=[...v];const{id:w}=t.currentUser,k=n instanceof u.a,M=n instanceof d.a&&(n.getParentTable()===s.a||n.isRestricted());o.forEach(e=>{k?p.df(t,e):p.cf(t,e)}),S=S.filter(e=>!o.some(t=>i.m(e,t)));for(const r of o)S.push(r);S=S.filter(e=>"none"!==a.f(e));const _=Boolean(o.find(e=>"user_permission"===e.type&&e.user_id===w&&!a.a(e.role)));if(n instanceof d.a&&M&&w){const e=l.i(n),t=e?Object(T.getSpacePermissionItems)(e):[],r=e?e.getPermissionGroups():[],i=Boolean(S.find(e=>"user_permission"===e.type&&a.a(e.role)&&e.user_id===w)),s=t.find(e=>"user_permission"===e.type&&e.user_id===w),c=o.find(e=>"space_permission"===e.type&&a.a(e.role)),d=S.find(e=>Boolean("group_permission"===e.type&&a.a(e.role)&&r.find(t=>Boolean(t.id===e.group_id&&t.user_ids&&t.user_ids.indexOf(w)>=0))));if(i&&s&&(c||d)&&(S=S.filter(e=>!("user_permission"===e.type&&e.user_id===w))),!_){S.find(e=>!("space_permission"!==e.type||!a.a(e.role)||!s)||(!("user_permission"!==e.type||!a.a(e.role)||e.user_id!==w)||!("group_permission"!==e.type||!a.a(e.role)||!r.find(t=>Boolean(t.id===e.group_id&&t.user_ids&&t.user_ids.indexOf(w)>=0)))))||(S=S.filter(e=>!("user_permission"===e.type&&e.user_id===w)),S.push({type:"user_permission",user_id:w,role:"editor"}))}}if(!S.some(e=>{const t=a.f(e);return a.a(t)})&&(k||M))return void c.default.afterNextFlush(()=>{h.showErrorMessage(C.default.formatMessage(O.preventFullPageAccessDeletion))});const x=Object(y.a)(n,n.pointer,"permissions"),I=[];for(const r of v){!S.find(e=>i.m(r,e))&&a.m(r)&&I.push({...r,role:"none"})}for(const s of S){const e=v.find(e=>i.m(s,e));!a.m(s)||e&&r.a.isEqual(e,s)||I.push(s)}let P=[];const B=l.f(n);if(n instanceof d.a&&!n.isRestricted()&&B&&B instanceof d.a){const e=Object(E.b)(B);P=I.map(t=>e.find(e=>r.a.isEqual(e.permissionItem,t))?{...t,role:"none"}:t)}else P=I;for(const r of P)f.addOperation({store:x,operation:{pointer:x.pointer,command:"setPermissionItem",path:x.path,args:r},transaction:m});return new Promise((e,n)=>{m.postSubmitCallbacks.push(async o=>{if(o)return n(o);await g.e(t),e()})})}function L(e){const{environment:t,store:n,permissionItem:o,transaction:r}=e;if(!n.getValue())return;const s=Object(E.b)(n).map(e=>e.permissionItem).filter(e=>!i.m(e,o)),c=[];for(const i of s)a.m(i)&&c.push(i);const d=t.currentUser.id,u=d?n.getRecordValue({table:w.a,id:d}):void 0,h=u&&Object(x.j)(u),m=l.h(n);d&&!i.p({actor:h,ancestors:m,updatedPermissionItem:o})&&c.push({type:"user_permission",user_id:d,role:"editor"}),c.push(o);const b=n.getPermissionsStore();for(const a of c)f.addOperation({store:b,operation:{pointer:b.pointer,command:"setPermissionItem",path:b.path,args:a},transaction:r});return f.addOperation({store:b,operation:{pointer:b.pointer,command:"setSingletonPermissionItem",path:b.path,args:{singletonPermissionItem:{type:"restricted_permission"},set:!0}},transaction:r}),p.ae(t,{type:"none"===o.role?"remove":"narrow"}),new Promise((e,n)=>{r.postSubmitCallbacks.push(async o=>{if(o)return n(o);await g.e(t),e()})})}function R(e){const{environment:t,store:n,transaction:o}=e,r=n.getValue();if(!r)return;const a=n.getPermissionItems(),s=l.f(n),c=s?i.c(l.h(s)):[],d=i.i({table:n.table,value:r},a,c),u=n.getPermissionsStore();for(const i of d)f.addOperation({store:u,operation:i,transaction:o});return p.Xd(t,{using_admin_api:!1}),new Promise((e,n)=>{o.postSubmitCallbacks.push(async o=>{if(o)return n(o);await g.e(t),e()})})}async function D(e){const{environment:t,store:n}=e,{currentSpaceStore:o}=M.default.state;if(o){const e=o.id,r=n.id,a=await S.spaceAdminRestoreAccess(t,{spaceId:e,blockId:r});p.Xd(t,{using_admin_api:!0}),"failed"===a.type&&h.showError(a)}}async function A(e){const{environment:t,isOnboarding:n}=e;if(0===e.inviteTargets.length)return!0;const{data:o}=v.default.state;if(o&&"subscribed_admin"===o.type&&e.store instanceof u.a){const n=Object(T.getSpacePermissionItems)(e.store).length+e.inviteTargets.length;if(!b.J(t)&&n>1){if(!(await h.confirmUserAction({message:C.default.formatMessage(O.confirmUpgradeMessage),acceptLabel:C.default.formatMessage(O.confirmUpgradeButtonLabel)})))return!1}}let r;if(p.Hb(t,{role:e.inviteRole,is_space:e.store instanceof u.a,invite_targets:e.inviteTargets}),function(e){const t=e.inviteTargets[0];return!(!t||"bot"!==t.type)}(e))if(Object(P.p)(e.store)){const t=e.inviteRole;r=e.inviteTargets.map(e=>({type:"bot_permission",role:t,bot_id:e.value.id}))}else if(Object(P.n)(e.store)){const t=e.inviteRole;r=e.inviteTargets.map(e=>({type:"bot_permission",role:t,bot_id:e.value.id}))}else Object(I.e)(e.store);else r=await Promise.all(e.inviteTargets.map(async n=>{if("newUser"===n.type){const r=Object(_.c)(C.default.getIntl()),a=n.value.email,i=await S.createEmailUser(t,{email:a,preferredLocaleOrigin:"inferred_from_inviter",preferredLocale:r,productId:o&&"productId"in o?o.productId:void 0});if("failed"===i.type)throw h.showErrorMessage(i.error.message),i.error;return{type:"user_permission",role:e.inviteRole,user_id:i.data.userId}}if("existingUser"===n.type){return{type:"user_permission",role:e.inviteRole,user_id:n.value.id}}if("group"===n.type){return{type:"group_permission",role:e.inviteRole,group_id:n.value.id}}Object(I.e)(n)}));let i=!1;return e.store instanceof d.a&&b.L(t)?i=await async function(e){const{environment:t,store:n,permissionItems:o}=e,{currentSpaceStore:r}=M.default.state;if(!r)return!1;const i=r.getValue();if(!i)return!1;if("failed"===(await S.inviteGuestsToSpace(t,{spaceId:i.id,blockId:n.id,permissionItems:o.filter(a.q)})).type)return!1;const s=o.filter(a.g);s.length>0&&await j({environment:t,store:n,permissionItems:s});return!0}({environment:t,store:e.store,permissionItems:r}):(await j({environment:t,store:e.store,permissionItems:r}),i=!0),n||await g.e(t),i}async function j(e){const{environment:t,store:n,permissionItems:o}=e,r=f.create(t);B({environment:t,store:n,permissionItems:o,transaction:r});const a=r.awaitDone();f.commit({environment:t,transaction:r}),await a}const F=function(e){const{store:t,transaction:n}=e;m.d({store:t,data:{permissions:null},transaction:n})}},MvRd:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("wldR"),l=n("wlCD"),c=n("LeVO"),d=n("rlmE"),u=n("vJXr"),p=n("2bwL"),h=n("i3uR"),m=n("d9nj"),f=n("gbGO"),g=n("6BTz"),b=n("mF3+"),v=n("HSWF"),y=n("J9+s");class S extends s.a{constructor(){super(...arguments),this.fakeSync=!1,this.realSync=!1,this.handleKeyDown=e=>{if(Object(d.a)(this.environment,e,"command+s")){e.preventDefault(),!u.a.state.online||this.fakeSync||p.b.state||(this.fakeSync=!0,this.enqueueForceUpdate(),setTimeout(()=>{this.fakeSync=!1,this.enqueueForceUpdate()},500))}},this.handleStartSync=()=>{u.a.state.syncing&&!this.realSync&&(this.realSync=!0,this.enqueueForceUpdate())},this.handleStartSyncDebounced=i.a.debounce(this.handleStartSync,8e3),this.handleStopSync=()=>{this.realSync&&!u.a.state.syncing&&(this.realSync=!1,this.enqueueForceUpdate())},this.handleStopSyncDebounced=i.a.debounce(this.handleStopSync,200),this.isOnline=this.createComputedStore(()=>u.a.state.online),this.shouldShowLoadingSpinner=()=>(this.fakeSync||this.realSync)&&!p.b.state}willMount(){this.listenForSave(),u.a.addListener(this.handleStartSyncDebounced),u.a.addListener(this.handleStopSyncDebounced)}willUnmount(){this.unlistenForSave(),u.a.removeListener(this.handleStartSyncDebounced),u.a.removeListener(this.handleStopSyncDebounced)}renderComponent(){const{device:e}=this.environment;return r.a.createElement(o.Fragment,null,!e.isMobile&&this.renderDesktopIndicators(),e.isMobile&&this.renderMobileLoadingSpinner(),this.renderErrors())}renderDesktopIndicators(){const{intl:e}=this.props;return this.isOnline.state?this.shouldShowLoadingSpinner()?r.a.createElement(c.a,{renderTooltip:()=>r.a.createElement(y.FormattedMessage,{defaultMessage:"{percent} complete.",id:"connectionState.savePercentangeIndicator.tooltip",values:{percent:p.a.percentComplete(e)}}),render:e=>r.a.createElement("div",Object.assign({style:this.getLoadingStateStyle()},e),r.a.createElement(l.a,{style:{margin:4,marginRight:8}}),r.a.createElement(y.FormattedMessage,{defaultMessage:"Saving…",id:"connectionState.saving.message"}))}):void 0:r.a.createElement(c.a,{renderTooltip:()=>r.a.createElement("div",{style:{width:200}},r.a.createElement(y.FormattedMessage,{defaultMessage:"{numberOfEdits, plural, one {You have {numberOfEdits} edit that will be synced next time you are online.} other {You have {numberOfEdits} edits that will be synced next time you are online.}}",id:"connectionState.offlineBadge.tooltip",values:{numberOfEdits:p.a.state.totalPending}})),textWrap:!0,render:e=>r.a.createElement("div",Object.assign({style:this.getOfflineBadgeStyle()},e),r.a.createElement(y.FormattedMessage,{defaultMessage:"Offline",id:"connectionState.offlineBadge.label"}))})}renderMobileLoadingSpinner(){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",paddingLeft:4,paddingRight:8,visibility:this.shouldShowLoadingSpinner()?"visible":"hidden"}},r.a.createElement(l.a,{style:{height:18,width:18}}))}renderErrors(){const{device:e}=this.environment;if(p.a.state.transactionQueueError){const e=r.a.createElement(y.FormattedMessage,{defaultMessage:"Cannot save changes",id:"connectionState.errorIndicator.cannotSaveChanges.message"}),t=r.a.createElement(y.FormattedMessage,{defaultMessage:"You can no longer make edits: {errorMessage} Contact support if that doesn’t fix the issue. {usageInfoMessage}",id:"connectionState.errorIndicator.cannotMakeEdits.detailedMessage",values:{errorMessage:p.a.state.transactionQueueError.message,usageInfoMessage:this.renderUsageInfo()}});return this.renderErrorIndicator(e,t)}const t=p.a.state.storageUsageEstimate;if(void 0!==t&&!Object(v.u)(t)){const t=e.isBrowser?r.a.createElement(y.FormattedMessage,{defaultMessage:"Low browser storage",id:"connectionState.errorIndicator.lowStorageOnWebApp.message"}):e.isReactNative?r.a.createElement(y.FormattedMessage,{defaultMessage:"Low app storage",id:"connectionState.errorIndicator.lowStorageOnMobileApp.message"}):r.a.createElement(y.FormattedMessage,{defaultMessage:"Low disk space",id:"connectionState.errorIndicator.lowStorageOnDesktopApp.message"});return this.renderErrorIndicator(t,r.a.createElement(o.Fragment,null,this.renderUsageInfo()," ",r.a.createElement(y.FormattedMessage,{id:"connectionState.errorIndicator.possibleLostEdits.detailedMessagePart2",defaultMessage:"You may lose changes made while offline. Try closing and re-opening your app, and contact support if that doesn’t fix the issue."})))}}renderUsageInfo(){const e=p.a.state.storageUsageEstimate,{intl:t}=this.props;if(e){const n=e.usage/e.quota;return r.a.createElement(y.FormattedMessage,{defaultMessage:"Notion is using {percentageOfStorageBytesUsed} of its available storage on your device ({usedNumberOfBytes} of {totalNumberOfBytes}).",id:"connectionState.errorIndicator.possibleLostEdits.detailedMessagePart1",values:{usedNumberOfBytes:Object(g.c)(e.usage,"bytes",t),totalNumberOfBytes:Object(g.c)(e.quota,"bytes",t),percentageOfStorageBytesUsed:t.formatNumber(n,{style:"percent",maximumFractionDigits:2})}})}}renderErrorIndicator(e,t){const{device:n}=this.environment,o=b.a.collectionDescriptionSmall({marginLeft:6,width:14,height:14,fill:this.getErrorStateStyle().color});return n.isMobile?r.a.createElement(h.a,{popupType:h.a.PopupType.SlideUp,renderOrigin:t=>r.a.createElement(m.a,Object.assign({style:this.getErrorStateStyle()},t),e||o),render:({close:e})=>r.a.createElement(f.b,{menuType:f.b.MenuType.ActionSheet},r.a.createElement("div",{style:{padding:15,background:this.theme.errorText,color:"white"},onClick:e},t))}):r.a.createElement(c.a,{renderTooltip:()=>r.a.createElement("div",{style:{width:320,whiteSpace:"normal"}},t),render:t=>r.a.createElement("div",Object.assign({style:this.getErrorStateStyle()},t),e,o)})}listenForSave(){window.addEventListener("keydown",this.handleKeyDown)}unlistenForSave(){window.removeEventListener("keydown",this.handleKeyDown)}getTextStyle(){const{device:e}=this.environment,t=e.isMobile;return{display:"flex",alignItems:"center",marginRight:t?0:18,fontSize:t?12:14}}getOfflineBadgeStyle(){const{device:e}=this.environment,t=e.isMobile;return{display:"flex",alignItems:"center",padding:"0px 6px",height:t?20:24,borderRadius:3,marginRight:t?4:18,whiteSpace:"nowrap",fontSize:t?12:14,color:this.theme.mediumTextColor,border:"1px solid ".concat(this.theme.darkDividerColor)}}getLoadingStateStyle(){return{...this.getTextStyle(),color:this.theme.lightTextColor}}getErrorStateStyle(){return{...this.getTextStyle(),whiteSpace:"nowrap",color:this.theme.errorText}}}t.a=Object(y.injectIntl)(S)},N34Z:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h}));var o=n("g90h"),r=n("wpmu"),a=n("bPtJ"),i=n("MBf9"),s=n("HRSx"),l=n("d2j2"),c=n("922z");function d(e){const{environment:t,table:n,value:r,transaction:s,inMemoryRecordCache:d}=e;r.id||(r.id=Object(o.b)());const u=r,p=l.a.create(n,u),h=c.b.fromRecordWithTable(p),m=new a.d({environment:t,pointer:h,userId:s.userId,inMemoryRecordCache:d});return i.addOperation({store:m,operation:{pointer:m.pointer,path:[],command:"set",args:r},transaction:s}),m}function u(e){const{environment:t,type:n,properties:a,permissions:i,format:l,transaction:c,inMemoryRecordCache:d}=e,u=Object(o.b)(),h=new r.a(t,{table:s.a,id:u},{userId:c.userId,inMemoryRecordCache:d});return p({store:h,transaction:c,value:{type:n,permissions:i,properties:a,format:l}}),h}const p=function(e){const{store:t,value:n,transaction:o}=e,r=t.path;i.addOperation({store:t,operation:{pointer:t.pointer,path:r,command:"set",args:n||null},transaction:o})};function h(e){const{store:t,data:n,transaction:o}=e,r=t.path;i.addOperation({store:t,operation:{pointer:t.pointer,path:r,command:"update",args:n},transaction:o})}},NCLm:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c}));n("3bBZ");var o=n("fIr1"),r=n("J9+s");const a=Object(r.defineMessages)({personal:{defaultMessage:"Just me",id:"userSettings.userType.personal"},"team_<5":{defaultMessage:"2-50 people",id:"userSettings.userType.team2-50"},"team_5-20":{defaultMessage:"51-100 people",id:"userSettings.userType.team51-100"},"team_20-100":{defaultMessage:"101-1000 people",id:"userSettings.userType.team101-1000"},"team_100+":{defaultMessage:"1000+ people",id:"userSettings.userType.team1000+"}}),i=(a.personal,[{type:"team_<5",displayNameMessage:a["team_<5"]},{type:"team_5-20",displayNameMessage:a["team_5-20"]},{type:"team_20-100",displayNameMessage:a["team_20-100"]},{type:"team_100+",displayNameMessage:a["team_100+"]}]);function s(e,t){return{type:e.type,displayName:t.formatMessage(e.displayNameMessage)}}function l(e){return i.map(t=>s(t,e))}const c="user_settings",d={table:c,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,settings:o.a.JSON}};t.b=d},NMKT:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("gha2"),r=n("VcFn");const a=function(){r.a.state.isActive&&(o.a.setState({...o.a.state,open:!1}),r.a.setState({...r.a.state,isActive:!1,isAnimatingClosed:!0}))}},NNnf:function(e,t,n){"use strict";n.d(t,"h",(function(){return T})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return I})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return B})),n.d(t,"c",(function(){return R})),n.d(t,"m",(function(){return F})),n.d(t,"i",(function(){return V})),n.d(t,"o",(function(){return N})),n.d(t,"n",(function(){return U})),n.d(t,"k",(function(){return z})),n.d(t,"j",(function(){return X})),n.d(t,"e",(function(){return Y})),n.d(t,"l",(function(){return H})),n.d(t,"d",(function(){return q}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("5/h/"),i=n("hfHo"),s=n("GJWe"),l=n("CARr"),c=n("HRSx"),d=n("udrG"),u=n("nFzZ"),p=n("njgS"),h=n("VpIZ"),m=n("D2XV"),f=n("O+wX"),g=n("7L5k"),b=n("FUUC"),v=n("CTEM"),y=n("IdIf"),S=n("V1wX"),w=n("vshI"),k=n("3JF5"),C=n("J9+s"),M=n("xL2i"),E=n("6SEd"),_=n("VhAz");const T=Object(C.defineMessages)({defaultPluralizedUserNames:{defaultMessage:"Someone",id:"pushNotification.pluralizedUserNames.defaultLabel"},defaultPermissionGroupName:{defaultMessage:"Deleted group",id:"pushNotification.permissionGroupName.defaultLabel"},untitledPermissionGroupName:{defaultMessage:"Untitled group",id:"pushNotification.permissionGroupName.untitledLabel"},userEditedPermissionGroup:{defaultMessage:"{userName} edited {permissionGroupName}",id:"pushNotification.userEditedTarget.label"},userDeletedPermissionGroup:{defaultMessage:"{userName} deleted {permissionGroupName}",id:"pushNotification.userDeletedTarget.label"},userCreatedPermissionGroup:{defaultMessage:"{userName} created {permissionGroupName}",id:"pushNotification.userCreatedTarget.label"},unknownAuthor:{defaultMessage:"Unknown author",id:"pushNotification.authorPhrase.unknown"},untitledSpaceName:{defaultMessage:"Untitled",id:"pushNotification.untitledSpaceName.label"},untitledCollectionName:{defaultMessage:"Untitled",id:"pushNotification.untitledCollectionName.placeholder"},untitledBlockTitle:{defaultMessage:"Untitled",id:"pushNotification.untitledBlockTitle.placeholder"},twoUserNames:{defaultMessage:"{firstAuthor} and {secondAuthor}",id:"pushNotification.twoUserNames.label"},threePlusUserNames:{defaultMessage:"{othersCount, plural, one {{firstAuthor} and {othersCount} other} other {{firstAuthor} and {othersCount} others}}",id:"pushNotification.threePlusUserNames.label"},editorPermissionLabel:{defaultMessage:"Full access",id:"pushNotifications.editorPermissionLevel.label"},readerPermissionLabel:{defaultMessage:"Read only",id:"pushNotifications.readerPermissionLevel.label"},editOnlyPermissionLabel:{defaultMessage:"Edit only",id:"pushNotifications.editOnlyPermissionLevel.label"},commentOnlyPermissionLabel:{defaultMessage:"Comment only",id:"pushNotifications.commentOnlyPermissionLevel.label"},noAccessPermissionLabel:{defaultMessage:"No access",id:"pushNotifications.noAccessPermissionLevel.label"},publicPermissionRoleLabel:{defaultMessage:"Public ({permissionLevel})",id:"pushNotifications.publicPermissions.label",description:"Label for the public permission level of this page."},userNameWithRole:{defaultMessage:"{userName} ({permissionLevel})",id:"pushNotifications.userPermissionsWithRole.label",description:"Label for the permission level this user has."},spaceNameWithRole:{defaultMessage:"{spaceName} ({permissionLevel})",id:"pushNotifications.spacePermissionsWithRole.label",description:"Label for the permission level that members of this workspace have."},imageInPushNotification:{defaultMessage:"{imageEmoji} Image",id:"pushNotification.imageInPushNotification.placeholder"},topLevelBlockCreated:{defaultMessage:"{userName} created {targetName} in {spaceName}",id:"pushNotification.userCreatedBlockInSpace.message"},topLevelBlockDeleted:{defaultMessage:"{userName} deleted {targetName} in {spaceName}",id:"pushNotification.userDeletedBlockInSpace.message"},collectionRowCreated:{defaultMessage:"{userName} created {targetName} in {collectionName}",id:"pushNotification.userCreatedRowInCollection.message"},collectionRowDeleted:{defaultMessage:"{userName} deleted {targetName} in {collectionName}",id:"pushNotification.userDeletedRowInCollection.message"},emptyBlockEditedProperty:{defaultMessage:"Empty",id:"pushNotification.emptyBlockPropertyValueEdited.placeholderLabel"},propertyNameAndValueEdited:{defaultMessage:"{propertyName} ({propertyValue})",id:"pushNotification.propertyNameWithEditedValue.notificationSubject",description:"The push notification message sent when a collection property value is edited."},propertyNameAndValueNotificationBody:{defaultMessage:"{propertyName} ({propertyValue})",id:"pushNotification.propertyNameWithEditedValue.notificationBody",description:"The push notification message body sent when a collection property value is edited."},blockDeletedEditBody:{defaultMessage:"[Deleted] {renderedBlock}",id:"pushNotification.deletedBlock.notificationContents",description:"The push notification message contents sent to the user when a block is deleted."},blockEditedNotification:{defaultMessage:"{userName} edited {blockName}",id:"pushNotification.blockEdited.notificationSubject"},userEditedPermissionsFor:{defaultMessage:"{userName} edited permissions for {targetName}",id:"pushNotifications.permissionsEditedForPageOrSpace.notificationSubject",description:"Title of the notification sent when a user edits permissions for a page or a workspace."},userMentionedIn:{defaultMessage:"{userName} mentioned you in {targetName}",id:"pushNotifications.userMentionedInPage.notificationSubject",description:"Title of the notification sent when a user is mentioned in a page."},userDeletedComment:{defaultMessage:"[Deleted]💬 {commentText}",id:"pushNotifications.userDeletedCommentText.notificationContents"},userCommentedSubject:{defaultMessage:"{userName} commented in {targetName}",id:"pushNotifications.userCommentedSubject.notificationSubject"},userAddedToSpace:{defaultMessage:"{userName} added you to {workspaceName}",id:"pushNotifications.userAddedToSpace.notificationSubject",description:"Notification sent to the user when they have been added to a new workspace."},userInvitedToSpace:{defaultMessage:"{userName} invited you to {workspaceName}",id:"pushNotifications.userInvitedToSpace.notificationSubject",description:"Notification sent to the user when they have been invited to a new workspace."},userInvitedToSpaceByBot:{defaultMessage:"You have been invited to {workspaceName}",id:"pushNotifications.userInvitedToSpaceByBot.notificationSubject",description:"Notification sent to the user when they have been invited to a new workspace through the API."},userEditedCollectionSubject:{defaultMessage:"{userName} edited {collectionName}",id:"pushNotifications.collectionEdited.notificationSubject"},userCreatedCollectionSubject:{defaultMessage:"{userName} created {collectionName}",id:"pushNotifications.collectionCreated.notificationSubject"},collectionDescriptionDeleted:{defaultMessage:"{userName} deleted the description for {collectionName}",id:"pushNotifications.collectionDescriptionDeleted.notificationSubject"},collectionDescriptionCreated:{defaultMessage:"{userName} added a description for {collectionName}",id:"pushNotifications.collectionDescriptionAdded.notificationSubject"},untitledCollectionView:{defaultMessage:"Untitled",id:"pushNotifications.untitledCollection.label"},collectionViewEditedSubject:{defaultMessage:"{userName} edited view {collectionViewName} in {collectionName}",id:"pushNotifications.collectionViewEdited.notificationSubject"},collectionPropertyEditedUnknown:{defaultMessage:"Unknown",id:"pushNotifications.unknownCollectionPropertyName.label"},collectionPropertyEditedSubject:{defaultMessage:"{userName} edited property {propertyType} in {collectionName}",id:"pushNotifications.collectionPropertyEdited.subject",description:"Subject of the notification sent when a property type in a collection's columns are changed."},reminderSubject:{defaultMessage:"Reminder in {pageName}",id:"pushNotifications.reminderChanged.subject"},pageLockedActivity:{defaultMessage:"{userName} locked {pageName}",id:"pushNotifications.pageLocked.subject"},pageUnlockedActivity:{defaultMessage:"{userName} unlocked {pageName}",id:"pushNotifications.pageUnlocked.subject"},emailEditedActivity:{defaultMessage:"{userName} edited their account settings",id:"pushNotifications.emailAccountSettingsEdited.subject"},emptyPropertyBody:{defaultMessage:"Empty",id:"pushNotifications.emptyPropertyValueInCollection.label"},unknownRelationValueChange:{defaultMessage:"Unknown",id:"pushNotifications.unknownRelationPropertyChanged.label"},unknownAuthorInPropertySchemaChange:{defaultMessage:"Unknown author",id:"pushNotifications.unknownAuthorUpdatedProperty.label"},accessRequestedSubject:{defaultMessage:"{userName} requested access to {pageName}",id:"pushNotifications.accessRequested.subject"},blockFormatEditPageIconName:{defaultMessage:"Page Icon",id:"pushNotifications.formatChange.pageIcon.label"},pageIconImagePlaceholder:{defaultMessage:"Image",id:"pushNotifications.formatChange.pageIcon.imagePlaceholder"}});function x(e){const{activity:t,getRecordValue:n}=e,o=t.edits||[];return r.a.compact(Object(u.s)(r.a.flatten(o.map(e=>e.authors||[]))).map(e=>{const t=n(e);if(t)return{table:e.table,value:t}}))}function I(e,t){const n=e.map(e=>e?Object(S.b)(t,e):t.formatMessage(T.unknownAuthor));return function(e,t){if(1===t.length)return t[0];if(2===t.length)return e.formatMessage(T.twoUserNames,{firstAuthor:t[0],secondAuthor:t[1]});if(t.length>2){const n=t.length-1;return e.formatMessage(T.threePlusUserNames,{othersCount:n,firstAuthor:t[0]})}return e.formatMessage(T.defaultPluralizedUserNames)}(t,n)}function P(e){const{blockValue:t,getRecordValue:n,userTimeZone:o,intl:r}=e;return h.i({table:c.a,value:t,getRecordValue:n,placeholder:r.formatMessage(T.untitledBlockTitle),userTimeZone:o,intl:r})}function O(e){return function(e){const{activity:t,getRecordValue:n,userTimeZone:o,intl:r}=e,a=t.navigable_block_id||t.top_level_block_id||t.collection_row_id;if(a){const t=n({table:c.a,id:a});if(t){const a=h.j({table:c.a,value:t,getRecordValue:e.getRecordValue,baseUrl:e.baseURL}),i=P({intl:r,blockValue:t,getRecordValue:n,userTimeZone:o});return{url:a,title:i}}return{url:e.baseURL||"/",title:r.formatMessage(T.untitledBlockTitle)}}if(t.collection_id)return D(e);if("permission-group-edited"===t.type){const o=n({table:b.a,id:t.space_id});return{title:W(r,Y({activity:t,getRecordValue:n})),url:o?h.j({table:b.a,value:o,getRecordValue:e.getRecordValue,baseUrl:e.baseURL}):"/"}}if("user-invited"===t.type){const o=function(e){const{activity:t,getRecordValue:n}=e;if(!t.permission_group_id)return;return q({spaceId:t.space_id,permissionGroupId:t.permission_group_id,getRecordValue:n})}({activity:t,getRecordValue:n}),a=n({table:b.a,id:t.space_id});if(a&&o)return{title:W(r,o),url:h.j({table:b.a,value:a,getRecordValue:e.getRecordValue,baseUrl:e.baseURL})}}return L(e)}(e).title}function B(e){return L(e).title}function L(e){const{activity:t,getRecordValue:n,userTimeZone:o,intl:r}=e,a=n({table:b.a,id:t.space_id});if(a){return{title:h.i({table:b.a,value:a,getRecordValue:n,placeholder:r.formatMessage({defaultMessage:"Untitled",id:"pushNotifications.workspaceName.untitled.placeholder"}),userTimeZone:o,intl:r}),url:h.j({table:b.a,value:a,getRecordValue:e.getRecordValue,baseUrl:e.baseURL})}}return{url:e.baseURL||"/",title:r.formatMessage(T.untitledSpaceName)}}function R(e){return D(e).title}function D(e){const{activity:t,getRecordValue:n,userTimeZone:o,intl:r}=e;if(t.collection_id){const a=n({table:E.a,id:t.collection_id});if(a){const t=h.i({table:E.a,value:a,getRecordValue:n,placeholder:r.formatMessage(T.untitledCollectionName),userTimeZone:o,intl:r});return{url:h.j({table:E.a,value:a,getRecordValue:e.getRecordValue,baseUrl:e.baseURL}),title:t}}return{url:e.baseURL||"/",title:r.formatMessage(T.untitledCollectionName)}}return{url:e.baseURL||"/",title:r.formatMessage(T.untitledCollectionName)}}function A(e){if(e.blockValue.properties)return s.k({intl:e.intl,textValue:e.blockValue.properties.title,getRecordValue:e.getRecordValue,userTimeZone:e.userTimeZone})}function j(e,t){if("string"!=typeof t)return"";switch(t){case"editor":return e.formatMessage(T.editorPermissionLabel);case"reader":return e.formatMessage(T.readerPermissionLabel);case"read_and_write":return e.formatMessage(T.editOnlyPermissionLabel);case"comment_only":return e.formatMessage(T.commentOnlyPermissionLabel);case"none":return e.formatMessage(T.noAccessPermissionLabel);default:Object(_.e)(t)}}function F({userTimeZone:e,activity:t,getRecordValue:n,intl:o}){if(t.edits){const i=[];t.edits.forEach(e=>{"permission-created"===e.type?i.push(e.permission_data):"permission-deleted"===e.type?i.push({...e.permission_data,role:"none"}):"permission-restriction-created"===e.type||"permission-restriction-deleted"===e.type?(e.permission_data.calculated_changes||[]).forEach(([e,t])=>{i.push(t)}):i.push(e.permission_data.after)});const s=r.a.compact(i.sort(M.a).map(r=>{if("user_permission"===r.type){const e=n({table:a.a,id:r.user_id}),t=Object(a.e)(e),i=j(o,r.role);return o.formatMessage(T.userNameWithRole,{userName:t,permissionLevel:i})}if("space_permission"===r.type){const a=B({intl:o,activity:t,getRecordValue:n,userTimeZone:e}),i=j(o,r.role);return o.formatMessage(T.spaceNameWithRole,{spaceName:a,permissionLevel:i})}if("public_permission"===r.type){const e=j(o,r.role);return o.formatMessage(T.publicPermissionRoleLabel,{permissionLevel:e})}}));return o.formatList(s,{type:"conjunction",style:"narrow"})}}function V(e){const{intl:t}=e;switch(e.blockValue.type){case d.a.text:case d.a.header:case d.a.subHeader:case d.a.subSubHeader:case d.a.factory:case d.a.equation:case d.a.code:return A(e);case d.a.toggle:return"▸ ".concat(A(e));case d.a.bulletedList:return"• ".concat(A(e));case d.a.numberedList:return"1. ".concat(A(e));case d.a.quote:return"“".concat(A(e),"”");case d.a.toDo:return(function({blockValue:e}){return l.n(e.properties&&e.properties.checked)}(e)?"✓ ":"▢ ")+A(e);case d.a.file:case d.a.bookmark:return"🔗 ".concat(A(e));case d.a.embed:case d.a.framer:case d.a.whimsical:case d.a.miro:case d.a.abstract:case d.a.tweet:case d.a.gist:case d.a.maps:case d.a.invision:case d.a.video:case d.a.audio:case d.a.image:return t.formatMessage(T.imageInPushNotification,{imageEmoji:"🖼"});case d.a.drive:return function(e){const{blockValue:t}=e,n=Object(y.g)(t);return n&&n.title?n.title:P(e)}(e);case d.a.page:case d.a.collectionView:case d.a.collectionViewPage:return P(e)}}function N(e){const{getRecordValue:t,baseURL:n,userTimeZone:o,intl:r}=e,a=t({table:c.a,id:e.blockId});if(a){if("page"===a.type&&a.parent_table===E.a){const i=t({table:E.a,id:a.parent_id});if(i){const n=p.e(i.schema),o=n[e.property],s=o?o.name:void 0,l=U({property:e.property,schema:n,block:a,getRecordValue:t,userTimeZone:e.userTimeZone,baseURL:e.baseURL,intl:r})||r.formatMessage(T.emptyPropertyBody);return r.formatMessage(T.propertyNameAndValueNotificationBody,{propertyName:s,propertyValue:l})}return V({intl:r,blockValue:a,getRecordValue:t,baseURL:n,userTimeZone:o})}return V({intl:r,blockValue:a,getRecordValue:t,baseURL:n,userTimeZone:o})}}function U(e){const{property:t,schema:n,block:o,getRecordValue:r,userTimeZone:d,baseURL:h,intl:g}=e,b=n[t];if(!o.properties||!b)return;const v=o.properties[t];if(v){if("title"===b.type||"text"===b.type)return s.k({intl:g,textValue:v,getRecordValue:r,userTimeZone:d});if("select"===b.type){const e=n[t].options||[];return l.u(v,e)}if("multi_select"===b.type){const e=n[t].options||[];return g.formatList(l.q(v,e),{type:"conjunction",style:"narrow"})}if("checkbox"===b.type)return l.n(v)?p.d:p.b;if("date"===b.type){const e=l.o(v);if(e)return Object(f.a)({allowRelativeDates:!0,intl:g,value:e,date_format:b.date_format,time_format:b.time_format,userTimeZone:d})}else{if("person"===b.type)return g.formatList(l.s(v).map(({table:e,id:t})=>e===a.a?Object(a.e)(r({table:e,id:t})):Object(k.a)(r({table:e,id:t}))),{type:"conjunction",style:"narrow"});if("relation"===b.type){const e=l.j({relationValue:l.t(v),getRecordValue:r,propertySchema:b});return g.formatList(e.map(e=>r({table:c.a,id:e})).map(e=>e?P({intl:g,blockValue:e,getRecordValue:r,baseURL:h,userTimeZone:d}):g.formatMessage(T.unknownRelationValueChange)),{type:"conjunction",style:"narrow"})}if("number"===b.type){const e=l.r(v);if(void 0!==e)return e.toString()}else{if("file"===b.type)return g.formatList(l.p(v).map(e=>e.name||e.url),{type:"conjunction",style:"narrow"});if("url"===b.type||"phone_number"===b.type||"email"===b.type)return l.v(v);if("formula"===b.type){const{formula:e}=n[t];if(e){const e=Object(w.a)({schema:n,property:t,block:o,getRecordValue:r,userTimeZone:d,depth:0,intl:g,resultCache:{},normalizedSchemaCache:{}});return m.Z(e)?Object(f.a)({allowRelativeDates:!0,intl:g,value:e,userTimeZone:d}):"boolean"==typeof e?e?p.d:p.b:Object(u.i)(e)?e.toString():e}}else{if("created_by"===b.type){if(!o.created_by_table||!o.created_by_id)return g.formatMessage(T.unknownAuthorInPropertySchemaChange);const e=r({table:o.created_by_table,id:o.created_by_id}),t=e&&{table:o.created_by_table,value:e};return t?Object(S.b)(g,t):g.formatMessage(T.unknownAuthorInPropertySchemaChange)}if("created_time"===b.type)return Object(i.default)(o.created_time).tz(d).locale(g.locale).format("L")}}}}}function z(e){switch(e.formatProperty){case"page_icon":return e.intl.formatMessage(T.blockFormatEditPageIconName);default:return}}function X(e){const{formatProperty:t,block:n,getRecordValue:o,intl:r}=e;switch(t){case"page_icon":const e=h.g({table:c.a,value:n,getRecordValue:o});return e?Object(v.a)(e.icon)?e.icon:r.formatMessage(T.pageIconImagePlaceholder):r.formatMessage(T.emptyBlockEditedProperty);default:return}}function Y(e){const{activity:t,getRecordValue:n}=e;let o=q({spaceId:t.space_id,permissionGroupId:t.permission_group_id,getRecordValue:n});if(!o){const e=g.a(t.edits||[])[0];o="permission-group-changed"===e.type?e.permission_group_data.after:e.permission_group_data}return o}function H(e){const{activity:t,intl:n,userName:o,targetName:r}=e,a=g.a(t.edits||[])[0];return a?"permission-group-created"===a.type?n.formatMessage(T.userCreatedPermissionGroup,{userName:o,permissionGroupName:r}):"permission-group-deleted"===a.type?n.formatMessage(T.userDeletedPermissionGroup,{userName:o,permissionGroupName:r}):n.formatMessage(T.userEditedPermissionGroup,{userName:o,permissionGroupName:r}):n.formatMessage(T.userEditedPermissionGroup,{userName:o,permissionGroupName:r})}function q(e){const{spaceId:t,permissionGroupId:n,getRecordValue:o}=e,r=o({table:b.a,id:t});return(r&&r.permission_groups||[]).find(e=>e.id===n)}function W(e,t){if(t){return[Object(v.a)(t.icon)?t.icon:void 0,t.name||e.formatMessage(T.untitledPermissionGroupName)].filter(Boolean).join(" ")}return e.formatMessage(T.defaultPermissionGroupName)}},NOLh:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("xEkU"),l=n.n(s),c=n("i8i4"),d=n.n(c),u=n("2Yor");class p{constructor(){this.stiffness=50,this.damping=10,this.precision=.001,this.currentValue=0,this.endValue=0,this.velocity=0}isAtRest(){return Math.abs(this.endValue-this.currentValue)<=this.precision}setEndValue(e){this.endValue=e;const t=this.isAtRest();return t&&this.setAtRest(),t}step(e){let t=e;do{let e;t>p.timestep?(t-=p.timestep,e=p.timestep):(e=t,t=0);const[n,o]=this.rk4(this.currentValue,this.velocity,e);this.velocity=o,this.currentValue=n}while(t>0);const n=this.isAtRest();return n&&this.setAtRest(),n}setAtRest(){this.currentValue=this.endValue,this.velocity=0}rk4(e,t,n){var o=e,r=t,a=this.computeAccel(o,r,0),i=e+.5*r*n,s=t+.5*a*n,l=this.computeAccel(i,s,n/2),c=e+.5*s*n,d=t+.5*l*n,u=this.computeAccel(c,d,n/2),p=e+d*n,h=t+u*n;return[e+n/6*(r+2*s+2*d+h),t+n/6*(a+2*l+2*u+this.computeAccel(p,h,n))]}computeAccel(e,t,n){return this.stiffness*p.stiffnessMultiplier*(this.endValue-e)-this.damping*p.dampingMultiplier*t}}p.stiffnessMultiplier=1e-5,p.dampingMultiplier=.005,p.timestep=1e3/60;var h=p,m=n("wldR"),f=n("w5u6"),g=n("NiuF");class b extends m.a{constructor(){super(...arguments),this.lastStepTime=0,this.paused=!1,this.isVisible=!1,this.didBecomeVisible=!1,this.lastAppliedAnimationStyle={},this.springs={},this.wasAtRest=!0,this.step=()=>{if(!this.node)return;const e=Date.now(),t=e-this.lastStepTime,n=this.getApplyStyle(),o={};let r=!0;Object.keys(n).forEach(e=>{const a=this.springs[e];a&&!a.step(t)?(o[e]=a.currentValue,r=!1):o[e]=n[e]}),this.renderAnimationStyle(o),this.lastStepTime=e,r?this.wasAtRest||this.handleAnimationEnd():(this.wasAtRest&&this.handleAnimationStart(),this.enqueueStep()),this.wasAtRest=r}}willMountOrUpdate(e){!this.isVisible&&e.isVisible&&(this.isVisible=!0,this.didBecomeVisible=!0)}didMountOrUpdate(){this.node=d.a.findDOMNode(this),this.didBecomeVisible&&this.updateSprings(this.props.enterAnimationStyle||{},!0,!1),this.updateSprings(this.getApplyStyle(),!1,!0),this.didBecomeVisible&&(this.didBecomeVisible=!1)}willUnmount(){this.paused&&(this.paused=!1,f.default.unpause())}renderComponent(){if(this.isVisible){let e,t=!1;return this.isVisible&&!this.props.isVisible?(t=!0,e=this.lastSavedChild):(e=this.props.render(),this.lastSavedChild=e),r.a.createElement(g.a.Provider,{value:t},e)}}updateSprings(e,t=!1,n=!0){Object.keys(e).forEach(n=>{const o=e[n];let r;if(!i.a.isUndefined(o)&&!i.a.isNull(o))if(i.a.isNumber(o))r=o;else if(i.a.isString(o)&&this.lastAppliedAnimationStyle[n]&&this.lastAppliedAnimationStyle[n]!==o){const e=this.node.style[n];this.node.style[n]=o,r=this.node.getBoundingClientRect()[n],this.node.style[n]=e}if(!i.a.isUndefined(r)){let e=this.springs[n];e||(e=new h,e.currentValue=r,this.springs[n]=e);const a=this.getSpringConfig(n);if(e.stiffness=a.stiffness,e.damping=a.damping,e.precision=a.precision,i.a.isString(this.lastAppliedAnimationStyle[n])&&this.lastAppliedAnimationStyle[n]!==o){const t=this.node.getBoundingClientRect()[n];e.currentValue=t}t&&(e.currentValue=r),e.setEndValue(r)}this.lastAppliedAnimationStyle[n]=o}),n&&(this.lastStepTime=Date.now(),this.step())}enqueueStep(){l()(this.step)}renderAnimationStyle(e){if(!this.node)return;let t=!1,n="";Object.keys(e).forEach(o=>{const r=e[o];"opacity"===o?this.node.style.opacity=Object(u.a)(r,0,1):i.a.isString(r)?this.node.style[o]=r:b.pxProperties[o]?this.node.style[o]="".concat(r,"px"):b.numericalProperties[o]?b.omittedNumericalProperties[o]!==r&&(this.node.style[o]=r):"translateX"===o?(t=!0,0!==r&&(n+="translateX(".concat(r,"px) "))):"translateXPercent"===o?(t=!0,0!==r&&(n+="translateX(".concat(r,"%) "))):"translateXViewWidth"===o?(t=!0,0!==r&&(n+="translateX(".concat(r,"vw) "))):"translateY"===o?(t=!0,0!==r&&(n+="translateY(".concat(r,"px) "))):"translateYPercent"===o?(t=!0,0!==r&&(n+="translateY(".concat(r,"%) "))):"translateYViewHeight"===o?(t=!0,0!==r&&(n+="translateY(".concat(r,"vh) "))):"scale"===o?(t=!0,1!==r&&(n+="scale(".concat(Math.max(r,0),") "))):"scaleX"===o?(t=!0,1!==r&&(n+="scaleX(".concat(Math.max(r,0),") "))):"scaleY"===o?(t=!0,1!==r&&(n+="scaleY(".concat(Math.max(r,0),") "))):"rotate"===o&&(t=!0,0!==r&&(n+="rotate(".concat(r,"deg) ")))});const o=e.opacity,r=i.a.isNumber(o)&&0!==o&&1!==o;this.props.useCompositeLayer&&(""!==n||r)&&(n+="translateZ(0)"),""!==n?this.node.style.mozTransform=this.node.style.msTransform=this.node.style.webkitTransform=this.node.style.transform=n:t&&(this.node.style.transform=null)}getSpringConfig(e){return{...b.defaultSpringConfig,...this.props.springConfig&&this.props.springConfig[e]?this.props.springConfig[e]:void 0}}getApplyStyle(){const{animationStyle:e,exitAnimationStyle:t}=this.props;return this.props.isVisible?e||{}:t||{}}handleAnimationStart(){this.didBecomeVisible&&this.props.blockRenderQueueOnEnter&&!1===this.paused&&(this.paused=!0,f.default.pause()),this.props.onAnimationStart&&this.props.onAnimationStart()}handleAnimationEnd(){this.paused&&(this.paused=!1,f.default.unpause()),this.isVisible&&!this.props.isVisible&&(this.isVisible=!1,this.enqueueForceUpdate()),this.props.onAnimationEnd&&this.props.onAnimationEnd()}}b.defaultSpringConfig={stiffness:50,damping:10,precision:.001},b.pxProperties={width:!0,height:!0,maxWidth:!0,maxHeight:!0},b.numericalProperties={opacity:!0},b.omittedNumericalProperties={opacity:1};t.a=b},NSFP:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("Sb6f"),s=n("mF3+"),l=n("i3uR"),c=n("MeYt"),d=n("gbGO"),u=n("VOS9"),p=n("g4rC"),h=n("2Y+N");class m extends a.a{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:p.a}}renderComponent(){const{device:e}=this.environment;let t;return t=e.isMobile?{menuType:d.b.MenuType.ActionSheet}:{menuType:d.b.MenuType.Popup},r.a.createElement("div",{style:this.getContainerStyle()},r.a.createElement("div",{style:this.getTextStyle()},this.props.emailAddress),r.a.createElement(l.a,{popupType:e.isMobile?l.a.PopupType.SlideUp:l.a.PopupType.Popup,buttonPopupStore:this.stores.buttonPopupStore,renderOrigin:e=>{if(!this.props.disabled)return r.a.createElement(c.a,Object.assign({},e,{style:this.getButtonStyle()}),s.a.dots(this.getButtonIconStyle()))},render:()=>r.a.createElement(d.b,Object.assign({},t),r.a.createElement(u.a,{sections:[{key:"option section",render:e=>r.a.createElement(h.a,Object.assign({},e)),actions:this.props.accountActions}],context:{environment:this.environment,blocks:[]}}))}))}getButtonStyle(){const{device:e}=this.environment;return{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:e.isMobile?24:20,height:e.isMobile?24:20,borderRadius:3}}getButtonIconStyle(){const{device:e}=this.environment;return{width:e.isMobile?18:12,height:e.isMobile?18:12}}getContainerStyle(){return{marginTop:this.environment.device.isMobile?20:8,marginLeft:12,marginRight:12,display:"flex",alignItems:"center",justifyContent:"space-between",color:this.theme.mediumTextColor}}getTextStyle(){return{fontSize:this.environment.device.isMobile?14:11,lineHeight:i.a.lineHeight.UISmall.desktop,fontWeight:i.a.fontWeight.medium}}}t.a=m},Na01:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR");class i extends a.a{renderComponent(){return r.a.createElement("div",{style:this.getStyle(),onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave,className:this.props.className},this.props.left&&r.a.createElement("div",{style:this.getLeftStyle()},this.props.left),this.props.icon&&r.a.createElement("div",{style:this.getIconStyle()},this.props.icon),this.renderChildren(),this.props.right&&r.a.createElement("div",{style:this.getRightStyle()},this.props.right))}renderChildren(){return r.a.createElement("div",{style:{...i.childrenStyle,overflow:"hidden",textOverflow:this.props.right&&!this.props.isMobile?"clip":"ellipsis",...this.props.childrenStyle}},this.props.children)}getStyle(){const{WindowSizeStore:e}=this.environment,t={...this.props.isMobile?i.wrapMobileStyle:i.wrapStyle};if(this.props.isMobile){this.props.disableMobileBorder||(t.boxShadow="0 1px 0 ".concat(this.theme.regularDividerColor)),t.marginBottom=this.props.shouldShowMobileMarginBotton?12:1;const n=this.props.style&&"number"==typeof this.props.style.paddingLeft?this.props.style.paddingLeft:"number"==typeof t.paddingLeft?t.paddingLeft:0;t.paddingLeft=e.getSafePaddingLeftCSS(n)}else this.props.style&&this.props.style.paddingLeft&&(t.paddingLeft=this.props.style&&this.props.style.paddingLeft);return{...t,paddingLeft:t.paddingLeft,...this.props.style}}getLeftStyle(){return{flexShrink:0,flexGrow:0,borderRadius:3,color:this.theme.mediumTextColor,width:this.props.isMobile?26:22,height:this.props.isMobile?24:22,display:"flex",alignItems:"center",justifyContent:"center",marginRight:this.props.icon?0:8}}getIconStyle(){return{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:this.props.isMobile?28:22,height:this.props.isMobile?24:18,marginRight:4}}getRightStyle(){return{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%"}}}i.wrapStyle={display:"flex",alignItems:"center",minHeight:27,fontSize:14,paddingTop:2,paddingBottom:2,paddingLeft:14,paddingRight:14,width:"100%"},i.wrapMobileStyle={display:"flex",alignItems:"center",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,width:"100%",userSelect:"none",WebkitUserSelect:"none"},i.childrenStyle={flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0},t.a=i},NbyO:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return b}));var o=n("q1tI"),r=n.n(o),a=n("j9U3"),i=n("bkwR"),s=n("hvW1"),l=n("VBxf"),c=n("y6Dp"),d=n("J9+s");const u=Object(d.defineMessages)({restoringPreviousVersion:{id:"historyModalActions.restoringPreviousVersion.loadingMessage",defaultMessage:"Restoring…"}});function p(e){const{environment:t,from:n,...o}=e;c.qd(t,n),a.a.setState({...o,open:!0,size:50})}const h=()=>{const e=a.a.state;e.open&&a.a.setState({...e,size:e.size+20})},m=function(){a.a.setState({open:!1})};function f(e,t){c.fe(e,t);const n=a.a.state;n.open&&a.a.setState({...n,snapshot:t,openSnapshotNearTimestamp:void 0})}function g(){const e=a.a.state;e.open&&a.a.setState({...e,snapshot:void 0})}async function b(e){if(!a.a.state.open)return;if(!a.a.state.snapshot)return;if(!(await l.confirmUserAction({message:r.a.createElement(d.FormattedMessage,{defaultMessage:"Are you sure you would like to restore to this version?",id:"historyModal.confirmDialog.description"}),acceptLabel:r.a.createElement(d.FormattedMessage,{defaultMessage:"Restore",id:"historyModal.confirmDialog.restoreButton.label"})})))return;c.Yd(e,a.a.state.snapshot);const t=a.a.state.blockStore.id,n=a.a.state.snapshot.timestamp;s.b({message:u.restoringPreviousVersion});const o=await i.restoreSnapshot(e,{blockId:t,timestamp:n}).next();o.value.error&&l.showErrorMessage(o.value.error.message),s.a(),m()}},Ng05:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("MeYt"),s=n("zmp8"),l=n("Sb6f");class c extends a.a{renderComponent(){return r.a.createElement(i.a,{hovered:this.props.hovered,onClick:this.props.onClick,disabled:this.props.disabled,disabledFeedback:!0,style:{...this.getButtonStyle(),...this.props.isLarge&&{height:32},...this.props.style},hoveredStyle:{background:this.theme.blueButtonHoveredBackground},pressedStyle:{background:this.theme.blueButtonPressedBackground},onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,className:this.props.className},this.props.children)}getButtonStyle(){return{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,whiteSpace:"nowrap",height:28,borderRadius:3,boxShadow:this.theme.buttonBoxShadow,background:s.g.blue,color:s.g.white,fill:s.g.white,lineHeight:1.2,paddingLeft:12,paddingRight:12,fontSize:14,fontWeight:l.a.fontWeight.medium}}}t.a=c},NiuF:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("q1tI");const r=n.n(o).a.createContext(!1);r.displayName="AnimatingOutContext"},NoAG:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fIr1");const r="collection_view",a={table:r,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,type:o.a.String,name:o.a.String,icon:o.a.String,page_sort:o.a.UUIDArray,parent_id:o.a.UUID,parent_table:o.a.String,alive:o.a.Boolean,format:o.a.JSON,query2:o.a.JSON,space_id:o.a.UUID},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0,type:!0},defaultColumnValues:{alive:!1}};t.b=a},Nvzn:function(e,t,n){"use strict";function o(e){return e||(e=""),e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}n.d(t,"a",(function(){return o}))},Nxch:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h}));var o=n("uUOz"),r=n("pl8j"),a=n("hi+p"),i=n("ZmWw"),s=n("5w/s"),l=n("MBf9");function c(e){const{originRect:t}=e;o.a.reset(),r.a.reset(),a.a(),i.a.setState({isOpen:!0,rect:t})}function d(){i.a.setState({isOpen:!1})}function u(e){const{format:t,store:n,property:o,visibility:r,environment:a}=e,i=t.property_visibility;i&&Object(l.createAndCommit)(a,e=>{s.h({stores:[n],update:{property_visibility:Object.values(i||{}).map(e=>({property:e.property,visibility:o===e.property?r:e.visibility}))},transaction:e})})}function p(e){const{store:t,pageSection:n,visibility:o,environment:r,format:a}=e,i=a.page_section_visibility;i&&Object(l.createAndCommit)(r,e=>{s.h({stores:[t],update:{page_section_visibility:{...i,[n]:o}},transaction:e})})}function h(e){const{store:t,properties:n,environment:o}=e;Object(l.createAndCommit)(o,e=>{s.h({stores:[t],update:{collection_page_properties:n},transaction:e})})}},"O+wX":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));n("UxlC");var o=n("hfHo"),r=n("nFzZ"),a=n("D2XV"),i=n("J9+s"),s=n("Agvv");function l(e){const{start_date:t,userTimeZone:n,intl:r}=e,i=Object(s.c)(r),l=o.default.tz(t,a.ib,n);if("relative"===e.date_format){const{intl:t}=e,r=a.ob(n),s=l.diff(r,"days");if(0===s)return t.formatMessage({defaultMessage:"Today",id:"dateFormatHelpers.text.today"});if(1===s)return t.formatMessage({defaultMessage:"Tomorrow",id:"dateFormatHelpers.text.tomorrow"});if(-1===s)return t.formatMessage({defaultMessage:"Yesterday",id:"dateFormatHelpers.text.yesterday"});const c=Object(o.withIntl)(t,e=>e.weekdays())[l.day()];return s>1&&s<=7?l.week()===r.week()?c:t.formatMessage({defaultMessage:"Next {dayOfTheWeek}",id:"dateFormatHelpers.text.nextDayOfTheWeek"},{dayOfTheWeek:c}):s<-1&&s>=-7?l.week()===r.week()?c:t.formatMessage({defaultMessage:"Last {dayOfTheWeek}",id:"dateFormatHelpers.text.lastDayOfTheWeek"},{dayOfTheWeek:c}):l.locale(i).format(a.v)}return l.locale(i).format(e.date_format)}function c(e){let t=Object(o.default)(e.start_time,a.kb).locale(e.intl.locale).format(e.time_format);return e.humanReadable&&"h:mm A"===e.time_format&&(t.includes(":00")&&(t=t.replace(":00","")),t=t.replace(" ","").toLowerCase()),t}function d(e){const{time_format:t,intl:n,start_time:r,humanReadable:i}=e;let s=Object(o.default)(r,a.kb).locale(n.locale).format(t),l=Object(o.default)(e.end_time,a.kb).locale(n.locale).format(t);return i&&"h:mm A"===t&&((s.includes("AM")&&l.includes("AM")||s.includes("PM")&&l.includes("PM"))&&(s=s.replace("AM","").replace("PM","")),s.includes(":00")&&l.includes(":00")&&(s=s.replace(":00",""),l=l.replace(":00","")),s=s.replace(" ","").toLowerCase(),l=l.replace(" ","").toLowerCase()),[s,l].join("-")}function u(e){const{start_date:t,start_time:n,time_zone:r,time_format:i,userTimeZone:s,intl:d}=e,u=o.default.tz("".concat(t," ").concat(n),"".concat(a.ib," ").concat(a.kb),!0,r),p=[l({...e}),c({start_time:n,time_format:i,humanReadable:"relative"===e.date_format,intl:d})].join(" "),h=o.default.tz(u,s);if(u.utcOffset()!==h.utcOffset()){const e=u.zoneAbbr();return"".concat(p," (").concat(e,")")}return p}function p(e){const t=e.time_format||a.cb,n=e.allowRelativeDates?{date_format:e.date_format||a.v,allowRelativeDates:e.allowRelativeDates}:{date_format:(o=e.date_format||a.v,"relative"===o?a.v:o),allowRelativeDates:e.allowRelativeDates};var o;return"datetimerange"===e.value.type?function(e){if(e.start_date===e.end_date){return[l({...e}),d({start_time:e.start_time,end_time:e.end_time,time_format:e.time_format,humanReadable:"relative"===e.date_format,intl:e.intl})].join(" ")}const t=u({...e}),n=u({...e,start_date:e.end_date,start_time:e.end_time});return"".concat(t," → ").concat(n)}({intl:e.intl,time_format:t,...r.n(e.value,["type","reminder"]),userTimeZone:e.userTimeZone||a.m,...n}):"datetime"===e.value.type?u({intl:e.intl,time_format:t,...r.n(e.value,["type","reminder"]),userTimeZone:e.userTimeZone||a.m,...n}):"daterange"===e.value.type?function(e){const t=l({...e}),n=l({...e,start_date:e.end_date});return"".concat(t," → ").concat(n)}({intl:e.intl,...r.n(e.value,["type","reminder"]),userTimeZone:e.userTimeZone||a.m,...n}):l({intl:e.intl,...r.n(e.value,["type","reminder"]),userTimeZone:e.userTimeZone||a.m,...n})}const h=Object(i.defineMessages)({none:{defaultMessage:"None",id:"dateFormatHelpers.reminderMenuItems.none"},onTheDay:{defaultMessage:"On day of event {formattedTimeText}",id:"dateFormatHelpers.reminderMenuItems.onTheDayOfEvent"},hoursBefore:{defaultMessage:"{numberOfHours, plural, one {{numberOfHours} hour before} other {{numberOfHours} hours before}}",id:"dateFormatHelpers.reminderMenuItems.hoursBefore"},minutesBefore:{defaultMessage:"{numberOfMinutes, plural, one {{numberOfMinutes} minute before} other {{numberOfMinutes} minutes before}}",id:"dateFormatHelpers.reminderMenuItems.minutesBefore"},yearsBefore:{defaultMessage:"{numberOfYears, plural, one {{numberOfYears} year before {formattedTimeText}} other {{numberOfYears} years before {formattedTimeText}}}",id:"dateFormatHelpers.reminderMenuItems.yearsBefore"},daysBefore:{defaultMessage:"{numberOfDays, plural, one {{numberOfDays} day before {formattedTimeText}} other {{numberOfDays} days before {formattedTimeText}}}",id:"dateFormatHelpers.reminderMenuItems.daysBefore"},monthsBefore:{defaultMessage:"{numberOfMonths, plural, one {{numberOfMonths} month before {formattedTimeText}} other {{numberOfMonths} months before {formattedTimeText}}}",id:"dateFormatHelpers.reminderMenuItems.monthsBefore"},weeksBefore:{defaultMessage:"{numberOfWeeks, plural, one {{numberOfWeeks} week before {formattedTimeText}} other {{numberOfWeeks} weeks before {formattedTimeText}}}",id:"dateFormatHelpers.reminderMenuItems.weeksBefore"},atTimeOf:{defaultMessage:"At time of event",id:"dateFormatHelpers.reminderMenuItems.atTimeOfEvent"}});function m(e){const{reminder:t,shouldShowTime:n,intl:o}=e;if(!t)return o.formatMessage(h.none);if(a.X(t)){const{unit:e,value:r,time:a}=t,i=c({start_time:a,time_format:"LT",humanReadable:!0,intl:o}),s=n?"(".concat(i,")"):"";return 0===r?o.formatMessage(h.onTheDay,{formattedTimeText:s}):"day"===e?o.formatMessage(h.daysBefore,{formattedTimeText:s,numberOfDays:r}):"year"===e?o.formatMessage(h.yearsBefore,{formattedTimeText:s,numberOfYears:r}):"month"===e?o.formatMessage(h.monthsBefore,{formattedTimeText:s,numberOfMonths:r}):o.formatMessage(h.weeksBefore,{formattedTimeText:s,numberOfWeeks:r})}{const{unit:e,value:n}=t;return 0===n?o.formatMessage(h.atTimeOf):"hour"===e?o.formatMessage(h.hoursBefore,{numberOfHours:n}):o.formatMessage(h.minutesBefore,{numberOfMinutes:n})}}},O5tY:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{}}waitUntilLoaded(){return this.waitUntil(()=>Boolean(this.state.publicPageData))}}t.a=new r},O93e:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("bTAb"),l=n("wldR"),c=n("yNyh"),d=n("Z1H8"),u=n("wXH4"),p=n("nld8");class h extends l.a{constructor(){super(...arguments),this.registries=[p.a],this.storeTypes={store:s.a},this.handleInputChange=e=>{const t=e.target.value;this.stores.store.setState({...this.stores.store.state,query:t}),this.handleQueryUpdateDebounced(t)},this.handleQueryUpdate=e=>{this.props.onQueryUpdate&&this.props.onQueryUpdate({query:e,autocompleteStore:this.stores.store})}}willMount(e){super.willMount(e),this.handleQueryUpdateDebounced=i.a.debounce(this.handleQueryUpdate,this.props.queryUpdateDebounce)}renderComponent(){const{device:e}=this.environment;return r.a.createElement(u.c,{popupType:e.isPhone?u.c.PopupType.SlideUp:u.c.PopupType.Popup,open:this.props.isOpen,origin:this.renderInput(),placementToOrigin:u.c.Placement.Bottom,alignmentToOrigin:u.c.Alignment.Start,originGap:4,disableDarkOverlayBackground:e.isPhone,onDismiss:this.props.onBgClick,render:this.props.renderPopup})}renderInput(){const e=this.props.isOpen;return r.a.createElement(d.a,{capture:e,allowMenuList:!0,render:e=>r.a.createElement("div",Object.assign({},e),r.a.createElement(c.b,{style:this.props.inputStyle,format:c.b.Format.Transparent,value:this.stores.store.state.query,onClick:this.props.onInputClick,onFocus:this.props.onInputFocus,onBlur:this.props.onInputBlur,onChange:this.handleInputChange,placeholder:this.props.inputPlaceholder,focus:this.props.focus}))})}}t.a=h},OIKt:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("mF3+"),i=n("wldR"),s=n("Na01"),l=n("LeVO"),c=n("bFnu"),d=n("ClNu"),u=n("uSCg"),p=n("7M94"),h=n("Ugx7"),m=n("MeYt"),f=n("Catn"),g=n("Sb6f"),b=n("J9+s"),v=n("VhAz");class y extends i.a{constructor(){super(...arguments),this.storeTypes={mouseStore:c.a,labelMouseStore:c.a,outlinerToggleButtonStore:d.a},this.headerRef=r.a.createRef(),this.handleHideClick=()=>{const{isHidden:e}=this.stores.outlinerToggleButtonStore.state,t=!e;h.g({spaceViewStore:this.props.spaceViewStore,type:this.props.type,outlinerToggleButtonStore:this.stores.outlinerToggleButtonStore,newValue:t})},this.handleCreatePageClick=()=>{const{type:e,spaceStore:t,spaceViewStore:n}=this.props,{outlinerToggleButtonStore:o}=this.stores;h.c({environment:this.environment,spaceStore:t,spaceViewStore:n,type:e,outlinerToggleButtonStore:o,prepend:!0})}}willMount(e){super.willMount(e);const t=f.a.get({userId:this.environment.currentUser.id,key:h.d(e.spaceViewStore,e.type)});t&&this.stores.outlinerToggleButtonStore.setState({...this.stores.outlinerToggleButtonStore.state,isHidden:t})}renderComponent(){const{renderSidebar:e}=this.props,{isHidden:t}=this.stores.outlinerToggleButtonStore.state;return r.a.createElement("div",{ref:this.headerRef,onMouseMove:()=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0}),onMouseLeave:()=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1}),style:{marginBottom:t?0:y.marginBottom}},this.renderLabel(),!t&&e(this.headerRef))}renderLabel(){const{showAddPageButton:e}=this.props,{isHidden:t}=this.stores.outlinerToggleButtonStore.state,{labelMouseStore:n}=this.stores,{mouseEntered:o}=n.state,a={bookmarks:p.bb,workspace:p.jb,shared:p.hb,private:p.fb,offline:p.db}[this.props.type],i=t?r.a.createElement(b.FormattedMessage,{defaultMessage:"Click to show section",id:"sidebar.sectionHeaderShow.tooltip"}):r.a.createElement(b.FormattedMessage,{defaultMessage:"Click to hide section",id:"sidebar.sectionHeaderHide.tooltip"});return r.a.createElement(s.a,{className:a,isMobile:this.props.isMobile,disableMobileBorder:t,shouldShowMobileMarginBotton:t,style:this.getSectionSidebarItemStyle(),childrenStyle:{overflow:"visible"},right:e&&this.renderAddPageButton()},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(l.a,{style:y.tooltipStyle,textWrap:!0,renderTooltip:()=>r.a.createElement("div",null,r.a.createElement("div",null,i),r.a.createElement("span",{style:{color:this.theme.mediumInvertedTextColor,whiteSpace:"nowrap"}},this.props.labelTooltip)),placement:l.a.Placement.Top,render:e=>{const t={...this.props.isMobile?this.getMobileSectionLabelStyle():this.getSectionLabelStyle(),transition:"color 100ms ease-out"};return o&&Object.assign(t,this.getSectionLabelHoverStyles()),r.a.createElement(m.a,Object.assign({mobileFeedback:this.props.isMobile,style:this.getLabelButtonStyle(),onClick:this.handleHideClick},Object(u.a)(e,{onMouseMove:()=>n.setState({...n.state,mouseEntered:!0}),onMouseLeave:()=>n.setState({...n.state,mouseEntered:!1})})),r.a.createElement("span",{style:t},this.renderLabelContent()))}})))}renderAddPageButton(){return r.a.createElement(l.a,{style:y.tooltipStyle,textWrap:!0,renderTooltip:()=>r.a.createElement(o.Fragment,null,r.a.createElement(b.FormattedMessage,{defaultMessage:"Add a page",id:"sidebar.addAPageButton.tooltip"}),r.a.createElement("br",null),r.a.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},this.props.labelTooltip)),placement:l.a.Placement.Right,render:e=>r.a.createElement(m.a,Object.assign({style:this.getPlusButtonStyle(),mobileFeedback:this.props.isMobile,onClick:this.handleCreatePageClick,className:p.y},e),a.a.plus({fill:this.theme.mediumIconColor,width:12,height:12}))})}renderLabelContent(){const{type:e}=this.props;switch(e){case"bookmarks":return r.a.createElement(b.FormattedMessage,{defaultMessage:"Favorites",id:"sidebar.favoritesSection.header"});case"workspace":return r.a.createElement(b.FormattedMessage,{defaultMessage:"Workspace",id:"sidebar.workspaceSection.header"});case"private":return r.a.createElement(b.FormattedMessage,{defaultMessage:"Private",id:"sidebar.privateSection.header"});case"shared":return r.a.createElement(b.FormattedMessage,{defaultMessage:"Shared",id:"sidebar.sharedSection.header"});case"offline":return r.a.createElement(b.FormattedMessage,{defaultMessage:"Offline",id:"sidebar.offlineSection.header"});default:Object(v.e)(e)}}getSectionSidebarItemStyle(){return{paddingTop:0,paddingBottom:0,paddingRight:14,paddingLeft:15,minHeight:24}}getSectionLabelStyle(){return{letterSpacing:"0.03em",textTransform:"uppercase",fontSize:11.5,lineHeight:1,marginBottom:1,color:this.theme.lightTextColor,fontWeight:g.a.fontWeight.semibold}}getMobileSectionLabelStyle(){return{textTransform:"uppercase",fontSize:13,lineHeight:1,color:this.theme.lightTextColor,fontWeight:g.a.fontWeight.semibold}}getSectionLabelHoverStyles(){return{color:this.theme.mediumTextColor}}getLabelButtonStyle(){return{display:"flex",alignItems:"center",borderRadius:3,padding:"2px 4px",marginLeft:-4,...this.props.isMobile&&{marginBottom:8}}}getPlusButtonStyle(){return{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:3,height:20,width:20,border:"1px solid ".concat(this.theme.outlineButtonBorder)}}}y.tooltipStyle={minWidth:200},y.marginBottom=20,t.a=y},OUVA:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var o=n("LvDl"),r=n.n(o),a=n("S26v");const i="n";function s(e,t){return a.a(e,{[i]:r.a.uniq(t)})}},OWVv:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return m}));var o,r=n("q1tI"),a=n.n(r),i=n("KcXv"),s=n("nFzZ");!function(e){e[e.Start=0]="Start",e[e.Center=1]="Center",e[e.End=2]="End"}(o||(o={}));const{Start:l,Center:c,End:d}=o,u=function(e){return a.a.createElement("div",{style:v(e)},e.left)},p=function(e){return a.a.createElement("div",{style:y(e)},e.right)},h=24,m={...i.b,textAlign:"left"},f={[l]:"flex-start",[c]:"center",[d]:"flex-end"},g=function(e){return{display:"flex",alignItems:s.h(e.alignment)?f[o.Start]:f[e.alignment],width:"100%",...e.style}},b=function(e){const t={display:"flex",alignItems:"center",justifyContent:"center",flexGrow:0,flexShrink:0};return(e.leftRightMinHeight||s.h(e.leftRightMinHeight))&&(t.minHeight="calc(".concat(1.5,"em + ",i.b.paddingTop,"px + ").concat(i.b.paddingTop,"px)")),t},v=e=>({marginRight:2,width:h,...b(e),...e.leftStyle}),y=e=>({marginLeft:4,...b(e),...e.rightStyle}),S=e=>({flexGrow:1,flexShrink:1,flexBasis:0,minWidth:1,...e.childrenStyle});t.b=function(e){return a.a.createElement("div",{onClick:e.onClick,onMouseMove:e.onMouseMove,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,style:g(e)},e.left&&u(e),e.children&&a.a.createElement("div",{style:S(e)},e.children),e.right&&p(e))}},OYeE:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{active:!1,stringValue:""}}}t.a=new r},OjB8:function(e,t,n){"use strict";t.a=function(e,t,n,o){return Math.sqrt((e-n)*(e-n)+(t-o)*(t-o))}},Owea:function(e,t,n){"use strict";n("3bBZ");var o=n("LEzx");class r extends o.a{getInitialState(){return{}}getEditedBlocksForCollection(e){const t=this.state[e];if(t)return t;{const t=new Set;return this.state[e]=t,t}}setEditedBlock(e,t){this.getEditedBlocksForCollection(e).add(t),this.emit()}}t.a=new r},OxuQ:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("G4cA"),s=n("VpIZ"),l=n("D2XV"),c=n("Sb6f"),d=n("LFt7"),u=n("J9+s"),p=n("vl8/"),h=n("W8iW"),m=n("qX+M");class f extends a.a{renderComponent(){const{shouldWrap:e}=this.props;return e?r.a.createElement("span",{className:"notranslate",style:this.getStyle()},this.getTitle()):r.a.createElement("div",{className:"notranslate",style:this.getStyle()},this.getTitle())}getTitle(){const{store:e,highlighter:t,maxLength:n}=this.props;if(e instanceof i.a)return Object(m.getSpaceName)(this.environment,e);const o=e.getValue();if(o){const a=s.h({table:e.table,value:o,getRecordValue:e.getRecordValue,userTimeZone:l.m,intl:p.default.getIntl()});if(a){const e=n&&a.length>n?"".concat(a.slice(0,n),"…"):a;return t?r.a.createElement(d.a,{text:e,highlighter:t}):r.a.createElement(h.a,null,e)}return this.getEmptyTitle()}return this.getEmptyTitle()}getEmptyTitle(){return Boolean(this.props.placeholder)?this.props.placeholder:r.a.createElement(u.FormattedMessage,{id:"emptyPageTitle",defaultMessage:"Untitled"})}getStyle(){return{...!this.props.shouldWrap&&{...c.a.textOverflowStyle},...this.props.underline&&{backgroundImage:"\n\t\t\t\t\tlinear-gradient(\n\t\t\t\t\t\tto right,\n\t\t\t\t\t\t".concat(this.theme.darkDividerColor," 0%,\n\t\t\t\t\t\t").concat(this.theme.darkDividerColor," 100%\n\t\t\t\t\t)\n\t\t\t\t"),backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"},...this.props.style}}}t.a=f},Oy36:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("wldR"),l=n("vX3W"),c=n("YQvo"),d=n("p+Y9"),u=n("CTEM"),p=n("VBxf"),h=n("MeYt"),m=n("xcfP"),f=n("Ma8p"),g=n("0Xty"),b=n("xPNA"),v=n("7M94"),y=n("J9+s"),S=n("vl8/"),w=n("APM9");const k=Object(y.defineMessages)({imageLinkPlaceholder:{defaultMessage:"Paste an image link…",id:"recordIcon.linkTab.placeholder"}});class C extends s.a{constructor(){super(...arguments),this.storeTypes={fileUploadStore:c.a},this.showIconPicker=e=>{const{node:t}=e,{disableRemoveIcon:n,isCallout:o,intl:a}=this.props,i=t.getBoundingClientRect();l.b(this.environment,{originGap:4,originRect:i,popupWidth:w.a.desktopPopupWidth,popupHeight:356,isSmallWidth:!1,isCallout:o,title:a.formatMessage({defaultMessage:"Page icon",id:"recordIcon.emojiModalMenu.title"}),onDelete:n?void 0:this.handleDelete,currentTab:"emoji",tabs:[{type:"emoji",title:r.a.createElement(y.FormattedMessage,{defaultMessage:"Emoji",id:"recordIcon.emojiTab.title"}),onChange:this.handleEmojiChange},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,title:r.a.createElement(y.FormattedMessage,{defaultMessage:"Upload an image",id:"recordIcon.uploadFileTab.title"}),caption:C.mediaMenuCaption,onUpload:t=>{d.e({environment:this.environment,..."secure"===e.bucket?{bucket:e.bucket,record:e.store.pointer}:{bucket:e.bucket},file:t,onStart:this.handleUploadStart,onProgress:this.handleUploadProgress,onComplete:this.handleUploadComplete,onError:()=>{p.showErrorMessage(r.a.createElement(y.FormattedMessage,{id:"recordIcon.uploadFileTab.uploadError.message",defaultMessage:"Something went wrong."}))}})}},{type:"embed",title:r.a.createElement(y.FormattedMessage,{defaultMessage:"Link",id:"recordIcon.linkTab.title"}),inputPlaceholder:S.default.formatMessage(k.imageLinkPlaceholder),caption:r.a.createElement(y.FormattedMessage,{defaultMessage:"Works with any image from the web.",id:"recordIcon.linkTab.caption",description:"Prompt for the type of link accepted"}),buttonText:r.a.createElement(y.FormattedMessage,{defaultMessage:"Submit",id:"recordIcon.linkTab.buttonText"}),onChange:this.handleEmbedLinkChange}]})},this.handleClick=e=>{if(this.props.disabled)return;this.props.onClick&&this.props.onClick(e);const t=i.a.findDOMNode(this);t&&t instanceof Element&&this.showIconPicker({node:t,..."secure"===this.props.bucket?{bucket:this.props.bucket,store:this.props.store}:{bucket:this.props.bucket}})},this.handleDelete=()=>{if(this.props.disabled)return;l.a();const{onChange:e}=this.props;e&&e(void 0)},this.handleEmojiChange=(e,t={})=>{if(this.props.disabled)return;t.keepVisible||l.a(),this.stores.fileUploadStore.reset();const{onChange:n}=this.props;n&&n(e)},this.handleUploadComplete=async e=>{if(this.props.disabled)return;l.a();const{onChange:t}=this.props;t&&await t(e),this.stores.fileUploadStore.reset()},this.handleEmbedLinkChange=e=>{if(this.props.disabled)return;l.a();const{onChange:t}=this.props;t&&t(e)},this.handleUploadStart=e=>{const{file:t,name:n,size:o}=e;if(l.a(),this.stores.fileUploadStore.setState({...this.stores.fileUploadStore.state,isLoading:!0,file:t,name:n,size:o}),t.type.indexOf("image")>=0){const e=new FileReader;e.onload=e=>{this.stores.fileUploadStore.setState({...this.stores.fileUploadStore.state,dataURL:e.target.result})},e.readAsDataURL(t)}},this.handleUploadProgress=e=>{const{progressPercent:t}=e;this.stores.fileUploadStore.setState({...this.stores.fileUploadStore.state,progressPercent:t})}}renderComponent(){const{disabled:e}=this.props;return r.a.createElement(h.a,{style:this.getStyle(),onClick:this.handleClick,disabled:e,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,onMouseDown:this.props.onMouseDown,className:"".concat(v.rb," notranslate")},this.renderIcon())}renderIcon(){const{icon:e,isEmptyPage:t,title:n,isLarge:o,pageIconStyle:a,disableShrinking:i}=this.props,{dataURL:s,isLoading:l,progressPercent:c}=this.stores.fileUploadStore.state,d=this.getSize();if(s&&l)return r.a.createElement(m.a,{type:"data_url",size:d,dataURL:s,isLoading:l,progressPercent:c,isLarge:o});if(e){if(Object(u.a)(e.icon))return r.a.createElement(f.a,{size:d,emoji:e.icon,disableShrinking:i});{const{icon:t,...n}=e;return r.a.createElement(m.a,{type:"authenticated_image_url",size:d,permissionRecord:n.pointer,imageURL:t,isLoading:l,progressPercent:c,isLarge:o})}}return n?r.a.createElement(g.a,{size:d,title:n,isLarge:o}):r.a.createElement(b.a,{size:d,isEmptyPage:t,isLarge:o,pageIconStyle:a})}getSize(){return this.isSingleEmoji()&&this.props.emojiSize||this.props.size}isSingleEmoji(){return this.props.icon&&Object(u.a)(this.props.icon.icon)}getStyle(){return{display:"flex",alignItems:"center",justifyContent:"center",height:this.getSize(),width:this.getSize(),borderRadius:3,flexShrink:0,...this.props.style,...this.isSingleEmoji()&&this.props.emojiStyle}}}C.mediaMenuCaption=r.a.createElement(y.FormattedMessage,{defaultMessage:"Recommended size is {recommendedWidth} × {recommendedHeight} pixels",id:"recordIcon.mediaMenu.caption",values:{recommendedWidth:280,recommendedHeight:280}}),t.a=Object(y.injectIntl)(C)},PEWV:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("LeVO"),s=n("FIf6"),l=n("uSCg"),c=n("DbeH");class d extends a.a{renderComponent(){const{render:e,requireUpgradeToTier:t,analyticsName:n,renderUpgradeTooltip:o,onUpgradeClick:a,alwaysAllowClick:d,tooltipPlacement:u,upgradeButtonDesktopStyle:p,upgradeButtonMobileStyle:h}=this.props;let m,{onClick:f,renderTooltip:g}=this.props;return t&&(m=r.a.createElement(s.a,{subscriptionTier:t,analyticsName:n,desktopStyle:{display:"inline-block",pointerEvents:"none",...p},mobileStyle:{display:"inline-block",pointerEvents:"none",...h}}),d||(f=e=>{c.a(this.environment,{from:n,for:t}),a&&a(e)},g=o)),r.a.createElement(i.a,{renderTooltip:g||(()=>null),render:t=>e(Object(l.a)(t,{onClick:f}),m),disableTooltip:!g,placement:u})}}t.a=d},PHZn:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));n("3bBZ");var o=n("zmp8"),r=n("Zo/l"),a=n("FkPB"),i=n("q1tI");function s(){const{ThemeModeStore:e}=Object(r.b)(),t=Object(a.c)(e);return Object(i.useDebugValue)(t),Object(o.o)(t)}function l(e,t){const n=s(),o=Object(i.useMemo)(()=>e(n),[n,...t]);return Object(i.useDebugValue)(o),o}},PQqx:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var o=n("LvDl"),r=n.n(o);function a(e,t){return e.KeyboardShortcutStackStore.state.stack.some(e=>t===e.listener)}function i(e,t,n){const o=e.KeyboardShortcutStackStore;r.a.findLast(o.state.stack,e=>{const o=e.shortcuts[n];return!(!e.enable||!o)&&(o(t),!0)})}function s(e,t){const n=e.KeyboardShortcutStackStore;if(a(e,t.listener)){const e=n.state.stack.map(e=>e.listener===t.listener?t:e);n.setState({...n.state,stack:e})}else n.state.stack.push(t),n.emit()}function l(e,t){const n=e.KeyboardShortcutStackStore;if(a(e,t.listener))return s(e,t);n.state.stack.unshift(t),n.emit()}function c(e,t){if(a(e,t)){const n=e.KeyboardShortcutStackStore,o=n.state.stack,a=r.a.reject(o,e=>t===e.listener);n.setState({...n.state,stack:a})}}function d(e,t){i(e,t,t.type)}function u(e){return{command:e.device.isMac?"⌘":"ctrl",enter:"↵",delete:"del",backspace:"del",esc:"escape",left:"←",right:"→",up:"↑",down:"↓",tab:"⇥",alt:e.device.isMac?"⌥":"alt"}}function p(e){return{command:e.device.isMac?"command":"control",esc:"escape"}}},PXtY:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return C}));n("3bBZ");var o=n("D2XV"),r=n("GJWe"),a=n("CARr"),i=n("vshI"),s=n("k1PL");const l={text:"text",url:"text",email:"text",phone_number:"text",checkbox:"checkbox",select:"select",multi_select:"multi_select",person:"person",relation:"relation",created_by:"person",last_edited_by:"person",number:"number",date:"date",created_time:"date",last_edited_time:"date",title:"text",file:"file"};function c(e){return e in l}function d(e){return l[e]}const u={created_by:!0,last_edited_by:!0,created_time:!0,last_edited_time:!0};function p(e){return e in u}function h(e){return c(e.type)&&!p(e.type)}function m(e){const{block:t,property:n,getRecordValue:o,userTimeZone:a,intl:i}=e,s=(t.properties||{})[n];return{type:"text",value:r.k({textValue:s,getRecordValue:o,userTimeZone:a,intl:i})}}function f(e){const{block:t,property:n}=e,o=(t.properties||{})[n];return{type:"text",value:a.v(o)}}function g(e){if(!e.timestamp)return{type:"date",value:void 0};return{type:"date",value:o.r(e.timestamp,e.userTimeZone)}}const b={text:m,title:m,url:f,email:f,phone_number:f,checkbox:function(e){const{block:t,property:n}=e,o=(t.properties||{})[n];return{type:"checkbox",value:a.n(o)}},select:function(e){const{block:t,property:n,schema:o}=e,r=o[n],i=(t.properties||{})[n],s=r&&"select"===r.type&&r.options||[];return{type:"select",value:a.u(i,s)}},multi_select:function(e){const{block:t,property:n,schema:o}=e,r=o[n];if(!r||"multi_select"!==r.type)return{type:"multi_select",value:void 0};const i=(t.properties||{})[n],s=r.options||[];return{type:"multi_select",value:a.q(i,s)}},relation:function(e){const{block:t,property:n,schema:o,getRecordValue:r}=e,i=(t.properties||{})[n],s=o[n];return s&&"relation"===s.type?{type:"relation",value:a.j({relationValue:a.t(i),propertySchema:s,getRecordValue:r,includeUnknownRelations:!0})}:{type:"relation",value:void 0}},person:function(e){const{block:t,property:n}=e,o=(t.properties||{})[n];return{type:"person",value:a.s(o)}},created_by:({block:e})=>({type:"person",value:e.created_by_table&&e.created_by_id?[{table:e.created_by_table,id:e.created_by_id}]:void 0}),last_edited_by:({block:e})=>({type:"person",value:e.last_edited_by_table&&e.last_edited_by_id?[{table:e.last_edited_by_table,id:e.last_edited_by_id}]:void 0}),number:function(e){const{block:t,property:n}=e,o=(t.properties||{})[n];return{type:"number",value:a.r(o)}},date:function(e){const{block:t,property:n}=e,o=(t.properties||{})[n];return{type:"date",value:a.o(o)}},created_time:({block:e,userTimeZone:t})=>g({timestamp:e.created_time,userTimeZone:t}),last_edited_time:({block:e,userTimeZone:t})=>g({timestamp:e.last_edited_time,userTimeZone:t}),file:function(e){const{block:t,property:n}=e,o=(t.properties||{})[n];return{type:"file",value:a.p(o).map(e=>e.url)}}};function v(e){const{filterValueType:t,property:n,schema:o}=e,r=o[n];if(!r)return{type:t,value:void 0};if(!c(r.type))return{type:t,value:void 0};const a=b[r.type];return a?a(e):{type:t,value:void 0}}function y(e){return void 0===e.value?[]:""===e.value?[]:[[e.value]]}function S(e){return a.i(e.value)}const w={text:y,title:y,url:S,email:S,phone_number:S,checkbox:function(e){return a.a(e.value)},select:function(e){return a.h(e.value)},multi_select:function(e){return a.d(e.value)},relation:function(e){return a.g(e.value||[])},person:function(e){return a.f(e.value||[])},number:function(e){return a.e(e.value)},date:function(e){return a.b(e.value)},file:function(e){return a.c((e.value||[]).map(e=>({name:e,url:e})))}};function k(e){const{propertyType:t,filterValue:n}=e;return(0,w[t])(n)}function*C(e){const{block:t,schema:n,property:o,getRecordValue:r,userTimeZone:a,intl:l}=e,c=n[o];if(!c)return;if("formula"===c.type){const t=function(e){const{block:t,schema:n,property:o,getRecordValue:r,userTimeZone:a,depth:s,intl:l,normalizedSchemaCache:c}=e,d=n[o];if(!d)return;if("formula"!==d.type)return;if(!d.formula)return;if(!d.formula.result_type)return;const u=Object(i.a)({schema:n,property:o,block:t,getRecordValue:r,userTimeZone:a,depth:s,intl:l,resultCache:{},normalizedSchemaCache:c});return{type:d.formula.result_type,value:u}}(e);return void(t&&(yield t))}if("rollup"===c.type)return void(yield*function*(e){const{block:t,schema:n,property:o,getRecordValue:r,userTimeZone:a,depth:i,intl:l,normalizedSchemaCache:c}=e,d=n[o];if(!d)return;if("rollup"!==d.type)return;const u=Object(s.c)({property:o,schema:n,getRecordValue:r,normalizedSchemaCache:c});if(!u)return;if(d.aggregation){const t=Object(s.a)(e);return void(t&&(yield t))}const p=Object(s.d)({property:o,schema:n,block:t,getRecordValue:r,normalizedSchemaCache:c});for(const s of p)yield*C({block:s,property:u.targetProperty,schema:u.targetCollectionSchema,getRecordValue:r,userTimeZone:a,depth:i+1,intl:l,normalizedSchemaCache:c})}(e));const u=v({filterValueType:d(c.type),block:t,property:o,schema:n,getRecordValue:r,userTimeZone:a,intl:l});yield u}},Pl3d:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("CSYU"),i=n("wldR"),s=n("Uy0f");class l extends i.a{constructor(){super(...arguments),this.requestCounter=0,this.storeTypes={requestStore:a.a},this.handlePageVisibilityChange=()=>{s.a.state.isVisible?this.interval||this.setRequestInterval():this.clearRequestInterval()},this.performRequest=async()=>new Promise((e,t)=>{const{requestStore:n}=this.stores,{performRequest:o}=this.props,{request:r}=n.state;this.requestCounter++;const a=this.requestCounter;this.stores.requestStore.setState({...this.stores.requestStore.state,ready:!1,loading:!0}),o(r).then(t=>{this.requestCounter===a&&n.setState({...n.state,error:void 0,result:t,ready:!0,loading:!1}),e()}).catch(e=>{console.error(e),this.requestCounter===a&&n.setState({...n.state,error:e,result:void 0,ready:!0,loading:!1}),t(e)})}),this.performRequestDebouncedWrapped=()=>{this.stores.requestStore.setState({...this.stores.requestStore.state,ready:!1,loading:!0}),this.performRequestDebounced()},this.performRequestDebounced=this.performRequest}async fetch(){return this.performRequest()}willMount(e){super.willMount(e),s.a.addListener(this.handlePageVisibilityChange)}willMountOrUpdate(e){super.willMountOrUpdate(e);const{requestStore:t}=this.stores,{request:n,debounce:o,throttle:a,interval:i}=e;o!==this.debounce&&(this.debounce=o,this.performRequestDebounced=o?r.a.debounce(this.performRequest,o):this.performRequest),a!==this.throttle&&(this.throttle=a,this.performRequestDebounced=a?r.a.throttle(this.performRequest,a):this.performRequest),i!==this.interval&&(this.interval=i,this.clearRequestInterval(),this.setRequestInterval()),r.a.isEqual(n,t.state.request)||(t.setState({...t.state,request:n}),0===this.requestCounter?this.performRequest():this.performRequestDebouncedWrapped()),t.refresh=this.performRequest}willUnmount(){super.willUnmount(),s.a.removeListener(this.handlePageVisibilityChange),this.clearRequestInterval()}shouldComponentUpdate(e){return!0}renderComponent(){const{requestStore:e}=this.stores,{render:t}=this.props,{error:n,result:o,ready:r}=e.state;return this.handlePageVisibilityChange(),t(n,o,r)}clearRequestInterval(){this.browserInterval&&(clearInterval(this.browserInterval),this.browserInterval=null)}setRequestInterval(){this.props.interval&&(this.browserInterval=setInterval(this.performRequest,this.props.interval))}}t.a=l},Pqcg:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("Sb6f");class s extends a.a{renderComponent(){const{imageURL:e,imageWidth:t,imageHeight:n}=this.props;return e?r.a.createElement("div",{style:{width:t||200,marginTop:4,marginBottom:4}},r.a.createElement("div",{style:{width:"100%",height:n||100,borderRadius:3,backgroundImage:"url(".concat(e,")"),backgroundSize:"cover",marginBottom:6}}),this.renderText()):this.renderText({width:t})}renderText(e){const{caption:t,title:n}=this.props;return r.a.createElement("div",{style:{whiteSpace:"normal",lineHeight:1.4,...e}},n&&r.a.createElement("header",{style:{fontWeight:i.a.fontWeight.bold,marginBottom:4}},n),t)}}t.a=s},PuL6:function(e,t,n){"use strict";var o=n("pSmD");t.a=new o.a},QDsP:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("mF3+"),i=n("/YYm"),s=n("Sb6f"),l=n("OxuQ"),c=n("wldR"),d=n("OWVv"),u=n("Oy36"),p=n("IdSf"),h=(n("Junv"),n("hbKx")),m=n("aEEb"),f=n("RgmA");class g extends c.a{constructor(){super(...arguments),this.storeTypes={},this.renderPathItem=e=>r.a.createElement(l.a,{key:e.id,store:e,shouldWrap:!0,maxLength:20})}renderComponent(){const{store:e}=this.props,t=h.d(e);e.isNavigableBlock()&&t.shift(),t.reverse();const n=t.length;if(0===n)return;n>2&&t.splice(1,t.length-2);const o=t.map(this.renderPathItem);n>2&&o.splice(1,0,r.a.createElement(y,null));const a=Object(f.a)(o,e=>r.a.createElement(v,{key:e}));return r.a.createElement(m.a,{isSecondaryColor:!0,isSmall:!0,style:{paddingLeft:8}},a)}}var b=g;function v(){return r.a.createElement("span",{style:{paddingLeft:4,paddingRight:4}},"/")}function y(){return r.a.createElement("span",null,"...")}var S=n("AXh+"),w=n("t2WN"),k=n("QcDD"),C=n("J9+s");class M extends c.a{constructor(){super(...arguments),this.isPrivate=this.createComputedStore(()=>!Object(S.e)(this.environment,this.props.currentBlockStore)&&Object(S.e)(this.environment,this.props.backlinkStore))}renderComponent(){const{backlinkStore:e,scrollToBlockId:t,discussionId:n}=this.props,o=Object(i.a)({store:e,scrollToBlockId:t,discussionId:n,fullyQualified:!0}),{currentBlockStore:a}=k.default.state,s=a&&a.id===e.id;return r.a.createElement(p.a,{href:o,external:!1,innerStyle:{borderRadius:3,paddingLeft:8,paddingRight:8}},r.a.createElement(d.b,{childrenStyle:this.getChildrenStyle(),alignment:d.a.Center,style:{marginBottom:2,marginRight:4},right:s&&!this.props.disableCurrentPageToken&&r.a.createElement("div",{style:this.getCurrentPageTokenStyle()},r.a.createElement(C.FormattedMessage,{defaultMessage:"Current page",id:"backlink.currentPageTokenLabel"}))},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},!this.props.disableArrow&&this.renderArrowIcon(),this.renderIcon(),r.a.createElement(l.a,{store:e,style:this.getTitleStyle()}),r.a.createElement("div",{style:{marginTop:-2,minWidth:0,display:"flex",alignItems:"baseline",flex:"2 0 40%",paddingTop:"0.1em"}},r.a.createElement(b,{store:e}),this.renderPrivate()))))}renderArrowIcon(){return r.a.createElement("div",{style:{marginLeft:4,transform:"rotate(180deg)",fill:this.theme.regularIconColor}},a.a.alias({width:15,height:15}))}renderIcon(){const{backlinkStore:e}=this.props;return r.a.createElement(u.a,{disabled:!0,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:20,style:{marginLeft:4,marginRight:4}})}renderPrivate(){if(this.isPrivate.state)return r.a.createElement(w.a,{style:{paddingRight:4,marginLeft:12}})}getTitleStyle(){return{fontWeight:s.a.fontWeight.medium,fontSize:s.a.fontSize.UIRegular.desktop,lineHeight:1.3,borderBottom:"1px solid ".concat(this.theme.darkDividerColor),flexShrink:1}}getChildrenStyle(){return{padding:"4px 2px"}}getCurrentPageTokenStyle(){const{device:e}=this.environment;return{padding:"2px 6px",borderRadius:3,color:this.theme.mediumTextColor,background:this.theme.selectColors.default,fontSize:e.isMobile?11:9,lineHeight:e.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}}}t.a=Object(C.injectIntl)(M)},QKT5:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i}));var o=n("fIr1");const r="access_request",a={table:r,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,parent_table:o.a.String,parent_id:o.a.UUID,for_actor_table:o.a.String,for_actor_id:o.a.UUID,granted_time:o.a.Number,granted_by_table:o.a.String,granted_by_id:o.a.UUID,created_time:o.a.Number,created_by_table:o.a.String,created_by_id:o.a.UUID,message:o.a.String}};function i(e){return Boolean(e.granted_by_table)}t.b=a},QTGx:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("KcXv"),i=n("n8tN"),s=n("Dime"),l=n("fJHT");class c extends i.a{renderPersisted(){const{store:e,hideContent:t,disabled:n}=this.props;return r.a.createElement("div",{style:this.getStyle()},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(l.a,{style:a.b,disabled:n,store:e.getBlockTitleStore()}),this.renderDiscussion()),!t&&this.renderContent())}renderContent(){const{store:e,disabled:t}=this.props,n=e.getContentStore();return(n.getValue()||[]).length>0?r.a.createElement("div",{style:c.listStyle},r.a.createElement(s.a,{disabled:t,store:n})):r.a.createElement(s.a,{disabled:!0,store:n})}getStyle(){return{...this.getBlockColorStyle(),...this.props.style}}}c.listStyle={paddingLeft:"1.5em",display:"flex",flexDirection:"column"};var d=c,u=(n("3bBZ"),n("mF3+")),p=n("jmjn"),h=n("mego"),m=n("vl8/"),f=n("J9+s");const g=Object(f.defineMessages)({urlPlaceholder:{defaultMessage:"Paste the image link…",id:"imageBlock.linkInput.placeholder"},embedButtonText:{defaultMessage:"Embed image",id:"imageBlock.embedImage.button.label"}});class b extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){const{disabled:e}=this.props;return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,urlInputPlaceholder:m.default.formatMessage(g.urlPlaceholder),iconSvg:u.a.picture,disabled:e,preserveScale:!0,mediaMenuCurrentTab:"file",mediaMenuTabs:[{type:"file",imageUpload:!0},{type:"embed"},{type:"unsplash"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with any image from the web",id:"imageBlock.linkInput.caption"}),embedButtonText:m.default.formatMessage(g.embedButtonText),popupWidth:540,maxHeight:420}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Add an image",id:"imageBlock.placeholder"}))}}var v=b;const y=Object(f.defineMessages)({urlPlaceholder:{defaultMessage:"Paste the video link…",id:"videoBlock.linkInput.placeholder"},embedButtonText:{defaultMessage:"Embed video",id:"videoBlock.embedVideo.button.label"}});class S extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.video,preserveScale:!0,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"},{type:"file",videoUpload:!0}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with YouTube, Vimeo, and more",id:"videoBlock.linkInput.caption"}),embedButtonText:m.default.formatMessage(y.embedButtonText),urlInputPlaceholder:m.default.formatMessage(y.urlPlaceholder)}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed or upload a video",id:"videoBlock.placeholder"}))}}var w=S,k=(n("4Brf"),n("i8i4")),C=n.n(k),M=n("VBxf"),E=n("GVKY"),_=n("yFBc"),T=n("f6Xh"),x=n("g4rC"),I=n("bFnu"),P=n("SGmk"),O=n("2m/B"),B=n("IdSf"),L=n("6fCZ"),R=n("cBa6"),D=n("H4VD"),A=n("vX3W"),j=n("6rsX"),F=n("unoy"),V=n("1y3T"),N=n("zmp8"),U=n("aEEb"),z=n("WxaJ"),X=n("nFzZ"),Y=n("S26v"),H=n("wlCD");const q=2*X.d,W=Object(f.defineMessages)({linkPlaceholder:{defaultMessage:"Paste in https://…",id:"bookmarkBlock.editBookmark.linkPlaceholder"},bookmarkTitle:{defaultMessage:"Bookmark",id:"bookmarkBlock.bookmark.title"},errorMessage:{defaultMessage:"Please enter a valid link",id:"bookmarkBlock.invalidLinkError.message"}});class G extends i.a{constructor(){super(...arguments),this.caption=()=>{const e=this.props.store.getPropertyStore("caption");j.f({environment:this.environment,store:this.props.store}),F.n({store:e})},this.storeTypes={stringInputButtonPopupStore:x.a,mouseStore:I.a},this.handleEmbedConfirm=e=>this.embed(e),this.handleOpenMenu=()=>{if(this.canEdit()){const e=C.a.findDOMNode(this);if(!e)return;if(!(e instanceof Element))return;const t=e.getBoundingClientRect();A.b(this.environment,{originRect:t,originGap:0,isSmallWidth:!0,showArrow:!0,title:m.default.formatMessage(W.bookmarkTitle),currentTab:"embed",tabs:[{type:"embed",caption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Create a visual bookmark from a link.",id:"bookmarkBlock.visualBookmark.prompt"}),buttonText:r.a.createElement(f.FormattedMessage,{defaultMessage:"Create bookmark",id:"bookmarkBlock.visualBookmark.create"}),inputPlaceholder:m.default.formatMessage(W.linkPlaceholder),onChange:e=>{const t=Object(_.a)(e);E.b(t,"url")?(A.a(),this.handleEmbedConfirm(t)):M.showErrorMessage(m.default.formatMessage(W.errorMessage))}}]})}},this.handleMouseMove=()=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0}),this.handleMouseLeave=()=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})}handleCreated(){this.edit()}edit(){this.handleOpenMenu()}embed(e){return T.a({environment:this.environment,store:this.props.store,url:e})}activate(){const e=this.props.store.getProperties(),t=R.Y(e&&e.link||[]);t&&D.navigateToExternalURL({environment:this.environment,url:t})}didMount(){const e=this.props.store.getFormat().bookmark_loading_ttl;if(e){const t=e-Date.now()-q;t>0&&setTimeout(this.enqueueForceUpdate,t+1e3)}}renderPersisted(){const e=this.props.store.getProperties();return e&&e.link?this.renderContent():this.renderPlaceholder()}renderContent(){const{store:e}=this.props,t=e.getProperties(),n=R.cb(t&&t.link);let o=R.cb(t&&t.title);if(n===o||!o){const e=Y.e(n);e.hostname&&(o=e.hostname)}const a=R.cb(t&&t.description),i=e.getFormat(),s=i.bookmark_cover,l=i.bookmark_icon,c=i.bookmark_loading_ttl,d=c&&c>Date.now()-q;return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(z.a,{permissionRecord:e.pointer,url:n,render:(e,t)=>r.a.createElement(B.a,{href:t,external:!0,style:{flexGrow:1,minWidth:0},innerStyle:this.getContentStyle(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},r.a.createElement("div",{style:G.textWrapStyle},d?r.a.createElement(U.a,{style:{minHeight:24,marginBottom:2,display:"inline-flex",alignItems:"center",color:this.theme.mediumTextColor}},r.a.createElement(H.a,{style:{marginRight:8}})," ",r.a.createElement(f.FormattedMessage,{defaultMessage:"Fetching preview",id:"bookmarkBlock.loadWhileFetching.message"})):r.a.createElement(U.a,{style:{minHeight:24,marginBottom:2}},o),a&&r.a.createElement(U.a,{isSmall:!0,isMultiline:!0,style:{height:32,overflow:"hidden"}},a),r.a.createElement("div",{style:{display:"flex",marginTop:6}},l&&l.length>0&&r.a.createElement(V.a,{url:l,isAuthenticated:!0,permissionRecord:this.props.store.pointer,render:(e,t)=>t&&r.a.createElement("img",{src:t,style:G.linkFaviconStyle})}),r.a.createElement(U.a,{style:{color:this.theme.regularTextColor},isSmall:!0},n))),s&&this.renderImage(s),this.shouldShowActionButton()&&this.canEdit()&&r.a.createElement(L.a,{store:this.props.store,style:{position:"absolute",top:4,right:4,background:h.a.actionButtonBackground(this.environment)},iconStyle:{fill:N.g.white},fadeIn:!0}))}),this.renderDiscussion()),this.renderCaption())}renderImage(e){return r.a.createElement("div",{style:G.imageLinkWrapStyle},r.a.createElement("div",{style:G.imageLinkInnerStyle},r.a.createElement(V.a,{url:e,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:250,render:(e,t)=>t&&r.a.createElement(O.a,{style:G.imageStyle,src:t})})))}renderPlaceholder(){const{disabled:e}=this.props;return r.a.createElement("div",{onMouseEnter:e=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0}),onMouseLeave:e=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1}),style:{display:"flex"}},r.a.createElement(P.a,{iconSvg:u.a.book,disabled:e,right:this.shouldShowActionButton()&&this.canEdit()&&r.a.createElement(L.a,{store:this.props.store,fadeIn:!0}),onClick:this.handleOpenMenu,isLoading:!1,progressPercent:0},r.a.createElement(f.FormattedMessage,{defaultMessage:"Add a web bookmark",id:"bookmarkBlock.addWebBookmark.placeholder"})),this.renderDiscussion())}shouldShowActionButton(){const{device:e}=this.environment;return e.isMobile||this.stores.mouseStore.state.mouseEntered}getContentStyle(){return{display:"flex",flexWrap:"wrap-reverse",alignItems:"stretch",textAlign:"left",overflow:"hidden",border:"1px solid ".concat(this.theme.darkDividerColor),borderRadius:3,position:"relative",...this.getBlockColorStyle()}}}G.imageLinkWrapStyle={flexGrow:1,flexShrink:1,flexBasis:180,display:"block",position:"relative"},G.imageLinkInnerStyle={position:"absolute",top:0,left:0,right:0,bottom:0},G.imageStyle={display:"block",width:"100%",height:"100%",objectFit:"cover"},G.textWrapStyle={flexGrow:4,flexShrink:1,flexBasis:180,padding:14,paddingTop:12,overflow:"hidden",textAlign:"left"},G.linkFaviconStyle={width:16,height:16,minWidth:16,marginRight:6};var Z=G,K=n("mKX5"),J=n("cgvQ"),Q=n("MBf9"),$=n("N34Z"),ee=n("sPNb"),te=n("Z0iJ"),ne=n("y6Dp"),oe=n("tP7q"),re=n("bK/N"),ae=n("A9TN");async function ie(e,t,n){if(e.device.isElectron){const o=await re.openGoogleDrivePickerPopup({url:Object(oe.e)(ae.default.baseURL,{token:t})});if(!o)return;ne.Fd(e),n(o.id)}else await Object(te.b)("https://apis.google.com/js/api.js"),window.gapi.load("picker",()=>function(e,t,n){const o="".concat(window.location.protocol,"//").concat(window.location.host);(new window.google.picker.PickerBuilder).enableFeature(window.google.picker.Feature.SUPPORT_DRIVES).setOAuthToken(t).hideTitleBar().setOrigin(o).addView(new window.google.picker.DocsView).setCallback(t=>{if(t.action===window.google.picker.Action.PICKED&&t.docs&&t.docs.length>0){const o=t.docs[0];n(o.id),ne.Fd(e)}}).build().setVisible(!0)}(e,t,n))}var se=n("79T+"),le=n("0zNc"),ce=n("nZ1u"),de=n("LEzx");class ue extends de.a{getInitialState(){return{error:!1,loading:!1}}}var pe=ue;const he=Object(f.defineMessages)({menuTitle:{defaultMessage:"Embed",id:"googleDriveBlock.mediaMenuActions.embedTab.title"}});class me extends i.a{constructor(){super(...arguments),this.storeTypes={mouseStore:I.a,store:pe},this.openGoogleDriveFilePicker=e=>{ie(this.environment,e.accessToken,t=>{this.loadAndInitializeGoogleDrive(t,e)})},this.handleMouseEnter=e=>{le.a.state.isDragging||ce.a.state.isActive||this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=e=>{le.a.state.isDragging||ce.a.state.isActive||this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.openMenu=()=>{const{device:e}=this.environment;if(this.canEdit()){const t=C.a.findDOMNode(this);if(t&&t instanceof Element){const n=t.getBoundingClientRect();A.b(this.environment,{originRect:n,originGap:0,isSmallWidth:!1,showArrow:!0,currentTab:e.isMobile?"embed":"drive",tabs:this.mediaPickerTabs(),title:m.default.formatMessage(he.menuTitle),popupWidth:320,maxHeight:420})}}}}handleCreated(){this.openMenu()}didMount(){super.didMount();const e=this.props.store.getFormat();e&&e.drive_properties&&e.drive_properties.file_id&&e.drive_status&&e.drive_status.last_fetched+5*X.d<Date.now()&&J.e(this.environment,this.props.store.id)}renderPersisted(){const e=this.props.store.getProperties(),t=this.props.store.getFormat();return t&&t.drive_properties&&t.drive_status?this.renderBlock(t.drive_properties,t.drive_status):e&&e.source?this.renderLegacy():this.renderPlaceholder()}renderBlock(e,t){const n=e.url;return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(B.a,{href:n,external:!0,style:this.getContentStyle(),onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},this.renderThumbnail(e),this.renderFile(e),this.shouldShowActionButton()&&this.canEdit()&&this.renderActionMenuButton()),this.renderDiscussion()),this.renderCaption())}renderThumbnail(e){const t=e.thumbnail,n=this.stores.store.state.error;return t&&!n?r.a.createElement("div",{style:me.imageLinkWrapStyle},r.a.createElement("div",{style:me.imageLinkInnerStyle},r.a.createElement(V.a,{url:t,width:1e3,isAuthenticated:!0,permissionRecord:this.props.store.pointer,render:(t,n)=>{if(n){const t=Y.a(n,{v:e.version});return r.a.createElement("img",{src:t,style:me.imageStyle,onError:e=>{this.stores.store.setState({error:!0,loading:!1})}})}t&&this.stores.store.setState({error:!0,loading:!1})}}))):r.a.createElement("div",{style:this.placeholderStyle()})}renderFile(e){const t=e.title,n=e.url,o=Y.e(n).hostname;return r.a.createElement("div",{style:this.getTextWrapStyle()},t&&r.a.createElement(U.a,{style:{marginBottom:2}},t),this.renderDescription(e),r.a.createElement("div",{style:this.getLinkStyle()},e.icon&&r.a.createElement("div",{style:this.getIconStyle(e.icon)}),r.a.createElement(U.a,{style:{color:this.theme.regularTextColor},isSmall:!0},o)))}renderDescription(e){const t=[];e.user_name&&t.push("by ".concat(e.user_name)),e.modified_time&&t.push(Object(K.a)(e.modified_time).fromNow());const n=e.user_name||e.modified_time?r.a.createElement(f.FormattedMessage,{defaultMessage:"Last modified {hasUserName, select, true {by {userName}} other {}} {hasLastModifiedTime, select, true {{lastModifiedTime}} other {}}",id:"googleDriveBlock.pageDescription",description:"Displayed as a subtitle with the Google Drive file being embedded.",values:{hasUserName:Boolean(e.user_name),userName:e.user_name,hasLastModifiedTime:Boolean(e.modified_time),lastModifiedTime:Object(K.a)(e.modified_time).fromNow()}}):void 0;return r.a.createElement("div",{style:this.getDescriptionStyle()},e.trashed&&r.a.createElement(f.FormattedMessage,{defaultMessage:"This file is in trash.",id:"googleDriveBlock.pageDeleted.caption"}),n)}renderActionMenuButton(){return r.a.createElement(L.a,{store:this.props.store,style:{position:"absolute",top:4,right:4,background:h.a.actionButtonBackground(this.environment)},iconStyle:{fill:N.g.white},fadeIn:!0})}renderLegacy(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.googleDrive,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with Google Docs, Google Sheets…",id:"googleDriveBlock.legacyLinkInput.caption",description:"This is shown for users using an older Google Drive block version."})}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed a file from Google Drive",id:"googleDriveBlock.legacy.placeholder",description:"This is shown for users using an older Google Drive block version."}))}renderPlaceholder(){const{disabled:e}=this.props,t=this.props.store.getFormat().drive_status,n=!(!t||!t.authed);return r.a.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:{display:"flex"}},r.a.createElement(P.a,{iconSvg:u.a.googleDrive,disabled:e,right:this.shouldShowActionButton()&&this.canEdit()&&r.a.createElement(L.a,{store:this.props.store,fadeIn:!0}),onClick:this.openMenu,isLoading:this.stores.store.state.loading,progressPercent:0},n?r.a.createElement(f.FormattedMessage,{defaultMessage:"Choose a file to embed from Google Drive",id:"googleDriveBlock.placeholder.authenticated"}):r.a.createElement(f.FormattedMessage,{defaultMessage:"Connect Google Drive to Notion to embed a file",id:"googleDriveBlock.placeholder.notAuthenticated"})),this.renderDiscussion())}shouldShowActionButton(){const{device:e}=this.environment;return e.isMobile||this.stores.mouseStore.state.mouseEntered}async loadAndInitializeGoogleDrive(e,t){this.stores.store.setState({loading:!0,error:!1});const n=await J.c({environment:this.environment,store:this.props.store,fileId:e,token:t});this.stores.store.setState({loading:!1,error:!n||!!n.auth_error})}async initializeGoogleDriveBlockFromUrl(e){const t=se.b(e);if(!t)return void this.convertToTextBlock(e);const n=await J.c({environment:this.environment,store:this.props.store,fileId:t});n&&n.auth_error&&(J.d(this.environment,{onSuccess:e=>{this.loadAndInitializeGoogleDrive(t,e)},onFailure:()=>{this.convertToTextBlock(e)}}),this.trackAuthPrompt("url_embed"))}convertToTextBlock(e){const t=Q.create(this.environment);$.d({store:this.props.store.getPropertiesStore(),data:{title:[R.n(e,[R.g(e)])]},transaction:t}),ee.b({environment:this.environment,blocks:[this.props.store],blockType:"text",transaction:t}),Q.commit({environment:this.environment,transaction:t})}mediaPickerTabs(){const{device:e}=this.environment,t=[];return t.push({type:"embed",caption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with any file in your Google Drive",id:"googleDriveBlock.embedTab.caption"}),buttonText:r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed Google Drive file",id:"googleDriveBlock.embedTab.embedButton.label"}),onChange:e=>{A.a(),this.initializeGoogleDriveBlockFromUrl(e)}}),e.isMobile||t.push({type:"drive",title:r.a.createElement(f.FormattedMessage,{defaultMessage:"Browse Google Drive",id:"googleDriveBlock.mediaPicker.googleDriveTab.title"}),onSelect:async e=>{if(A.a(),e&&e.token)this.openGoogleDriveFilePicker(e.token);else{const e=await J.f(this.environment);e&&e.token&&this.openGoogleDriveFilePicker(e.token),this.trackAuthPrompt("drive_file_picker")}}}),t}trackAuthPrompt(e){ne.Hd(this.environment,{name:"google",from:e})}getContentStyle(){return{display:"flex",flexDirection:"column",width:"100%",border:"1px solid ".concat(this.theme.darkDividerColor),borderRadius:3,position:"relative"}}placeholderStyle(){return{...me.imageLinkWrapStyle,paddingBottom:"20%",minHeight:80,background:this.theme.embedPlaceholderBackground}}getIconStyle(e){return{flexShrink:0,backgroundImage:"url(".concat(e,")"),backgroundSize:"cover",width:16,height:16,marginRight:6}}getTextWrapStyle(){return{width:"100%",minHeight:60,padding:14,paddingTop:12,overflow:"hidden",borderTop:"1px solid ".concat(this.theme.darkDividerColor)}}getDescriptionStyle(){return{fontSize:12,lineHeight:1.3,color:this.theme.mediumTextColor,maxHeight:32,overflow:"hidden"}}getLinkStyle(){return{display:"flex",alignItems:"center",marginTop:6}}}me.imageLinkWrapStyle={display:"block",position:"relative",width:"100%",paddingBottom:"55%"},me.imageLinkInnerStyle={position:"absolute",top:0,left:0,right:0,bottom:0},me.imageStyle={display:"block",width:"100%",height:"100%",objectFit:"cover",objectPosition:"top"};var fe=me;const ge=Object(f.defineMessages)({embedButtonText:{defaultMessage:"Embed audio",id:"audioBlock.embedAudio.button.label"}});class be extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.audio,mediaMenuCurrentTab:"file",mediaMenuTabs:[{type:"file",fileUpload:!0},{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with .MP3s, .WAVs, and .OGGs",id:"audioBlock.embed.caption"}),embedButtonText:m.default.formatMessage(ge.embedButtonText),urlInputPlaceholder:"https://…"}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Add an audio file",id:"audioBlock.placeholder"}))}}var ve=be;const ye=Object(f.defineMessages)({embedButtonText:{defaultMessage:"Embed Tweet",id:"tweetBlock.embedTweet.button.label"}});class Se extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){const{disabled:e}=this.props;return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.twitter,disabled:e,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with links to Tweets",id:"tweetBlock.linkInput.caption"}),embedButtonText:m.default.formatMessage(ye.embedButtonText),urlInputPlaceholder:"https://twitter.com/…"}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed a Tweet",id:"tweetBlock.placeholder"}))}}var we=Se;const ke=Object(f.defineMessages)({embedButtonText:{defaultMessage:"Embed Gist",id:"gistBlock.embedButton.label"}});class Ce extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.github,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with links to Gists on GitHub",id:"gistBlock.linkInput.caption"}),embedButtonText:m.default.formatMessage(ke.embedButtonText),urlInputPlaceholder:"https://gist.github.com/…"}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed a Gist",id:"gistBlock.placeholder"}))}}var Me=Ce;const Ee=Object(f.defineMessages)({embedButtonText:{defaultMessage:"Embed Map",id:"googleMapsBlock.embedButton.label"}});class _e extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.maps,urlInputPlaceholder:"https://www.google.com/maps…",embedButtonText:m.default.formatMessage(Ee.embedButtonText),mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with places on Google Maps",id:"googleMapsBlock.embed.caption"})}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed a Google Map",id:"googleMapsBlock.placeholder"}))}}var Te=_e;const xe=Object(f.defineMessages)({embedButtonText:{defaultMessage:"Embed Framer",id:"framerBlock.embedFramer.button.label"}});class Ie extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.framer,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with Framer prototypes",id:"framerBlock.linkInput.caption"}),embedButtonText:m.default.formatMessage(xe.embedButtonText),urlInputPlaceholder:"https://framer.cloud/…"}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed a Framer prototype",id:"framerBlock.placeholder"}))}}var Pe=Ie;const Oe=Object(f.defineMessages)({embedButtonText:{defaultMessage:"Embed Invision",id:"invisionBlock.embeds.button.label"}});class Be extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.invision,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with Invision projects",id:"invisionBlock.embeds.caption"}),embedButtonText:m.default.formatMessage(Oe.embedButtonText),urlInputPlaceholder:"https://invis.io/…"}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed an Invision project",id:"invisionBlock.placeholder"}))}}var Le=Be,Re=n("+jeX"),De=n("/YYm"),Ae=n("Sb6f"),je=n("OxuQ"),Fe=n("wldR"),Ve=n("OWVv"),Ne=n("Oy36"),Ue=n("LeVO");class ze extends Fe.a{constructor(){super(...arguments),this.storeTypes={mouseStore:I.a},this.handleRecordIconChange=e=>{const{store:t}=this.props,n=t.getIconStore();n&&Q.createAndCommit(this.environment,t=>{$.c({store:n,value:e,transaction:t})})},this.onMouseMove=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.onMouseLeave=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})}}renderComponent(){const{store:e,onClick:t}=this.props,n=Object(De.a)({store:e,fullyQualified:!1});return r.a.createElement(B.a,{href:n,external:!1,onClick:t,style:this.props.style},r.a.createElement(Ve.b,{childrenStyle:ze.childrenStyle,alignment:Ve.a.Center,right:this.renderActionButton(),onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},this.renderIcon(),this.renderArrowIcon(),r.a.createElement(je.a,{store:e,style:this.getTitleStyle()}))))}renderArrowIcon(){if(this.props.isAlias)return r.a.createElement(Ue.a,{renderTooltip:()=>r.a.createElement(f.FormattedMessage,{defaultMessage:"This is a link to the original page",id:"page.linkToOriginalPage.tooltip"}),render:e=>r.a.createElement("div",Object.assign({style:{marginRight:2,marginLeft:-2}},e),u.a.alias({width:"1em",height:"1em"}))})}renderIcon(){const{store:e,disabled:t}=this.props;return r.a.createElement(Ue.a,{renderTooltip:()=>r.a.createElement(f.FormattedMessage,{defaultMessage:"Change icon",id:"page.changeIcon.tooltip"}),placement:Ue.a.Placement.Top,disableTooltip:t||!this.canEdit(),render:n=>t||!this.canEdit()?r.a.createElement(Ne.a,Object.assign({disabled:!0,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:22,style:{width:24,height:24,marginRight:4}},n)):r.a.createElement(Ne.a,Object.assign({disabled:!1,bucket:"secure",store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:22,style:{width:24,height:24,marginRight:4},onChange:this.handleRecordIconChange},n))})}renderActionButton(){const{device:e}=this.environment;return this.canEdit()&&(this.stores.mouseStore.state.mouseEntered||e.isMobile)?r.a.createElement(L.a,{store:this.props.store,tooltipContent:r.a.createElement(f.FormattedMessage,{defaultMessage:"Rename, delete, and more…",id:"page.blockActionMenu.tooltip"}),style:{marginRight:4},fadeIn:!0}):r.a.createElement("div",{style:{width:28}})}canEdit(){const{store:e}=this.props,t=this.pageContext&&this.pageContext.publicEditModeStore.state;return(!t||"edit"===t)&&(e.canEdit()&&!this.props.disabled)}getTitleStyle(){return{fontWeight:Ae.a.fontWeight.medium,lineHeight:1.3,borderBottom:"1px solid ".concat(this.theme.darkDividerColor)}}}ze.childrenStyle={paddingTop:a.b.paddingTop,paddingBottom:a.b.paddingBottom,paddingLeft:a.b.paddingLeft};var Xe=ze,Ye=n("+zu0"),He=n("iICV"),qe=n("zgcg"),We=n("40tV");class Ge extends i.a{constructor(){super(...arguments),this.handleClick=()=>{const{store:e}=this.props;ne.G(this.environment),Ye.a.recordVisit({id:e.id,type:We.c.Link,currentUserId:this.environment.currentUser.id})}}handleCreated(){this.activate(),He.a.setKeyboardMode(!1)}activate(){const{store:e}=this.props;this.navigate(e)}navigate(e){if(this.context.overrideLinkClick){const t=Object(De.a)({store:e});this.context.overrideLinkClick(t)}else D.navigateToBlock({environment:this.environment,store:e,visitType:We.c.Link})}renderPersisted(){const{disabled:e}=this.props;return r.a.createElement(Xe,{store:this.props.store,style:{...this.getBlockColorStyle(),...this.props.style},isAlias:this.props.store.recordStoreParentDiffersFromPersistedParent(),disabled:e,onClick:this.handleClick})}}Ge.contextTypes=qe.a;var Ze=Ge,Ke=n("LvDl"),Je=n.n(Ke),Qe=n("CARr");const $e=Object(f.defineMessages)({listPlaceholder:{defaultMessage:"List",id:"bulletedListBlock.placeholder.label"}});class et extends i.a{renderPersisted(){const{store:e,disabled:t}=this.props,n=this.rootStorePageFont.state;return r.a.createElement(Ve.b,{style:this.getStyle(),left:r.a.createElement("div",{style:{fontSize:"1.5em",lineHeight:1,marginBottom:"serif"===n?0:"0.1em"}},"•"),childrenStyle:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(l.a,{style:Ve.c,disabled:t,store:e.getBlockTitleStore(),placeholder:m.default.formatMessage($e.listPlaceholder)}),this.renderDiscussion(et.discussionIndicatorStyle)),!this.props.hideContent&&r.a.createElement(s.a,{disabled:t,store:e.getContentStore()}))}getStyle(){return{...{paddingLeft:a.b.paddingLeft},...this.getBlockColorStyle(),...this.props.style}}}et.discussionIndicatorStyle={paddingLeft:0,marginLeft:-6,paddingBottom:2};var tt=et,nt=n("3DNc"),ot=n("sjR4");const rt=Object(f.defineMessages)({placeholder:{defaultMessage:"To-do",id:"todoBlock.placeholder"}});class at extends i.a{constructor(){super(...arguments),this.handleCheckboxClick=e=>{this.toggleChecked()}}activate(){this.toggleChecked()}renderPersisted(){return r.a.createElement(Ve.b,{style:this.getStyle(),left:this.renderCheckbox(),childrenStyle:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex"}},this.renderTitle(),this.renderDiscussion(tt.discussionIndicatorStyle)),!this.props.hideContent&&this.renderContent())}renderCheckbox(){return Object(nt.a)({checked:this.isChecked(),onClick:this.handleCheckboxClick,disabled:!this.canEdit(),size:16,fill:this.getBlockColorStyle().color})}renderTitle(){return r.a.createElement(l.a,{style:this.getTitleStyle(),disabled:this.props.disabled,store:this.props.store.getBlockTitleStore(),placeholder:m.default.formatMessage(rt.placeholder)})}renderContent(){const{disabled:e}=this.props;return r.a.createElement(s.a,{disabled:e,store:this.props.store.getContentStore()})}isChecked(){const e=this.props.store.getProperties();return!!e&&Qe.n(e.checked)}toggleChecked(){if(this.canEdit()){let e;e=Je.a.includes(ot.default.state.stores,this.props.store)?ot.default.state.stores:[this.props.store],this.isChecked()?Q.createAndCommit(this.environment,t=>{!function(e){const{environment:t,blocks:n,transaction:o}=e;for(const r of n)$.d({store:r.getPropertiesStore(),data:{checked:Qe.a(!1)},transaction:o});ne.Oe(t,{is_checked:!1})}({environment:this.environment,blocks:e,transaction:t})}):Q.createAndCommit(this.environment,t=>{!function(e){const{blocks:t,transaction:n,environment:o}=e;for(const r of t)$.d({store:r.getPropertiesStore(),data:{checked:Qe.a(!0)},transaction:n});ne.Oe(o,{is_checked:!0})}({environment:this.environment,blocks:e,transaction:t})})}}getStyle(){return{paddingLeft:a.b.paddingLeft,...this.getBlockColorStyle(),...this.props.style}}getTitleStyle(){return{...Ve.c,width:void 0,flexGrow:1,...this.isChecked()&&{textDecoration:"line-through",opacity:.375}}}}var it=at,st=n("EarS"),lt=n("1P/O"),ct=n("BL9y"),dt=n("VVh3"),ut=n("i05A"),pt=n("MeYt");const ht=Object(f.defineMessages)({placeholder:{defaultMessage:"Toggle",id:"toggleBlock.placeholder"}});class mt extends i.a{constructor(){super(...arguments),this.isOpen=this.createComputedStore(()=>lt.a.isOpen(this.props.store.id)&&!this.props.hideContent),this.isEmpty=this.createComputedStore(()=>0===this.props.store.getContentIds().length),this.handlePlaceholderClick=()=>{Q.createAndCommit(this.environment,e=>{st.b({environment:this.environment,store:this.props.store,transaction:e})})},this.handleToggleButtonClick=e=>{this.toggle()}}activate(){this.toggle()}willMount(e){st.a({blockId:e.store.id,currentUserId:this.environment.currentUser.id}),st.c(this.environment,{blockId:e.store.id})}renderPersisted(){const{store:e,disabled:t}=this.props,n=this.isOpen.state,o=e.getBlockTitleStore();return r.a.createElement(Ve.b,{style:this.getStyle(),left:this.renderToggleButton(),leftStyle:{paddingRight:2}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(l.a,{style:Ve.c,disabled:t,store:o,placeholder:m.default.formatMessage(ht.placeholder)}),this.renderDiscussion(mt.discussionIndicatorStyle)),n&&this.renderContent(),!n&&r.a.createElement(s.a,{store:this.props.store.getContentStore(),disabled:t,disableContent:!0}))}renderToggleButton(){return r.a.createElement(ut.a,{isSidebar:!1,open:this.isOpen.state,fill:!this.isEmpty.state,onClick:this.handleToggleButtonClick})}renderContent(){const{disabled:e}=this.props,t=ct.b(this.props.store);return r.a.createElement(dt.a,{loaded:t,spinnerSize:"1em",showSpinnerTimeout:500,innerStyle:mt.contentStyle},r.a.createElement(s.a,{store:this.props.store.getContentStore(),emptyPlaceholder:this.renderPlaceHolder(),disabled:e}))}renderPlaceHolder(){const{disabled:e}=this.props;return r.a.createElement(pt.a,{style:this.getPlaceholderButtonStyle(),onClick:this.handlePlaceholderClick,disabled:e},r.a.createElement("span",{style:{color:this.theme.lightTextColor}},r.a.createElement(f.FormattedMessage,{defaultMessage:"Empty toggle. Click or drop blocks inside.",id:"toggleBlock.emptyBlock.placeholderText"})))}toggle(){let e;e=Je.a.includes(ot.default.state.stores,this.props.store)?ot.default.state.stores:[this.props.store];const t=!this.isOpen.state;for(const n of e)st.d({blockId:n.id,state:t,currentUserId:this.environment.currentUser.id});ne.Re(this.environment,{is_toggled:t})}getStyle(){return{paddingLeft:a.b.paddingLeft,...this.getBlockColorStyle(),...this.props.style}}getPlaceholderButtonStyle(){return{fontSize:"inherit",width:"100%",borderRadius:3,caretColor:this.theme.lightTextColor,...a.b,marginTop:2}}}mt.contentStyle={display:"flex",flexDirection:"column"},mt.discussionIndicatorStyle={paddingLeft:0,marginLeft:-6,paddingBottom:2};var ft=mt;class gt extends Fe.a{constructor(){super(...arguments),this.indexStore=this.createComputedStore(()=>{const{numberedListCounterStore:e}=this.props;if(e){const t=e.state,n=t.indexOf(this.props.store.id);if(n>=0){let e=0;for(let o=n-1;o>=0&&void 0!==t[o];o--)e++;return e}}return 0})}renderComponent(){return r.a.createElement("span",null,this.indexStore.state+1,".")}}var bt=gt;const vt=Object(f.defineMessages)({listPlaceholder:{defaultMessage:"List",id:"numberedListBlock.placeholder.label"}});class yt extends i.a{renderPersisted(){const{store:e,disabled:t,numberedListCounterStore:n}=this.props,o=e.getBlockTitleStore();return r.a.createElement(Ve.b,{style:this.getStyle(),left:r.a.createElement(bt,{store:e,numberedListCounterStore:n}),childrenStyle:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(l.a,{style:Ve.c,disabled:t,store:o,placeholder:m.default.formatMessage(vt.listPlaceholder)}),this.renderDiscussion(tt.discussionIndicatorStyle)),!this.props.hideContent&&r.a.createElement(s.a,{disabled:t,store:this.props.store.getContentStore()}))}getStyle(){return{paddingLeft:a.b.paddingLeft,...this.getBlockColorStyle(),...this.props.style}}}var St=yt,wt=n("iPhm"),kt=(n("Junv"),n("qpkC")),Ct=n("q2qQ"),Mt=n("AmMh"),Et=n("w5u6");var _t=n("7M94");class Tt extends de.a{getInitialState(){return{open:!1}}}var xt=Tt,It=n("pqiZ"),Pt=n("rQb/"),Ot=n("MYfK"),Bt=n("Ng05");class Lt extends Fe.a{constructor(){super(...arguments),this.storeTypes={store:xt},this.renderProperty=({title:e,subtitle:t,value:n},o)=>r.a.createElement("div",{key:o},r.a.createElement(It.a,{size:36}),r.a.createElement(Ot.a,null,e),r.a.createElement(U.a,{isSmall:!0},t),r.a.createElement("div",{style:{marginTop:8,padding:6,background:this.theme.sidebarBackground,borderRadius:3}},n)),this.handleCloseClick=()=>{this.stores.store.setState({...this.stores.store.state,open:!1})}}renderComponent(){return this.stores.store.state.open?r.a.createElement("div",{style:{flexGrow:1,minWidth:0}},this.props.origin,r.a.createElement("div",{style:{position:"relative",boxShadow:"inset 0 0 0 1px ".concat(this.theme.regularDividerColor),padding:12,borderRadius:3,overflow:"hidden"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(Pt.a,{style:{flex:1,marginRight:16,marginBottom:0}},this.props.title),r.a.createElement(Bt.a,{onClick:this.handleCloseClick},r.a.createElement(f.FormattedMessage,{defaultMessage:"Close",id:"factoryBlock.configureMenu.closeButton.label"}))),this.props.properties.map(this.renderProperty))):this.props.origin}}Lt.headStyle={display:"flex",alignItems:"center"},Lt.titleStyle={flex:1,fontSize:14,userSelect:"none",WebKitUserSelect:"none",cursor:"default"};var Rt=Lt,Dt=n("nM47"),At=n("lCCU"),jt=n("d9nj");const Ft=Object(f.defineMessages)({addNewItem:{defaultMessage:"Add a new item",id:"factoryBlock.newItem.button.label"},buttonPlaceholder:{defaultMessage:"Add a new item",id:"factoryBlock.newItem.button.placeholder"}});class Vt extends i.a{constructor(){super(...arguments),this.storeTypes={configurableStore:xt,mouseStore:I.a},this.handleMouseMove=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.handleButtonClick=()=>{this.canEdit()&&Dt.j(this.environment)&&Q.createAndCommit(this.environment,e=>{!function(e){const{store:t,transaction:n,environment:o}=e,r=t.recordStoreParent();let a=!1;r&&Je.a.head(r.getValue())!==t.id&&Je.a.last(r.getValue())===t.id&&(a=!0);const i=t.getContentStores().filter(e=>e.hasValue());a||i.reverse();const s=Mt.a.findSelectableFromStore(t),l=[],c=Promise.all(i.map(e=>new Promise(t=>{const[r,i]=kt.a({environment:o,store:e,transaction:n,addCopyName:!1,deepCopyTransclusionContainers:!1});i.then(e=>{e&&M.showErrorMessage(e),t()}),s&&(a?s.props.onInsertBefore&&s.props.canInsertBefore&&l.push(s.props.onInsertBefore({insertStores:[r],transaction:n})[0]):s.props.onInsertAfter&&s.props.canInsertAfter&&l.push(s.props.onInsertAfter({insertStores:[r],transaction:n})[0]))})));a||l.reverse(),j.q({environment:o,stores:l}),c.then(()=>{Et.default.afterNextFlush(()=>{Ct.f({environment:o,insertedStores:l,isCreated:!0})})})}({environment:this.environment,store:this.props.store,transaction:e})})},this.handleToggleConfigure=()=>{this.stores.configurableStore.state.open?this.stores.configurableStore.setState({...this.stores.configurableStore.state,open:!1}):(ne.V(this.environment,{from:"gear_button"}),this.stores.configurableStore.setState({...this.stores.configurableStore.state,open:!0}))}}willMountOrUpdate(e){super.willMountOrUpdate(e),ct.b(e.store)}handleCreated(){this.configure()}activate(){this.handleButtonClick()}configure(){this.stores.configurableStore.setState({...this.stores.configurableStore.state,open:!0})}renderPersisted(){const e=this.getDisabled();return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Rt,{title:r.a.createElement(f.FormattedMessage,{defaultMessage:"Configure template button",id:"factoryBlock.configureButton.label"}),origin:this.renderFactory(),store:this.stores.configurableStore,properties:[{title:r.a.createElement(f.FormattedMessage,{defaultMessage:"Button name",id:"factoryBlock.buttonName.title"}),subtitle:r.a.createElement(f.FormattedMessage,{defaultMessage:"What should this button be called?",id:"factoryBlock.buttonName.subtitle"}),value:r.a.createElement(l.a,{disabled:e,store:this.props.store.getBlockTitleStore(),placeholder:m.default.formatMessage(Ft.addNewItem),onEnter:Je.a.identity})},{title:r.a.createElement(f.FormattedMessage,{defaultMessage:"Template",id:"factoryBlock.templateArea.title",description:"Title of the area where user should drop blocks in that will be duplicated every time they add a new item."}),subtitle:r.a.createElement(f.FormattedMessage,{defaultMessage:"Drop blocks here that you want to duplicate whenever the button is clicked.",id:"factoryBlock.templateArea.subtitle.",description:"Subtitle of the area where user should drop blocks in that will be duplicated every time they add a new item."}),value:r.a.createElement(s.a,{disabled:e,store:this.props.store.getContentStore(),emptyPlaceholder:r.a.createElement("div",{style:{caretColor:this.theme.regularTextColor,color:this.theme.regularTextColor}},r.a.createElement(f.FormattedMessage,{defaultMessage:"Empty. Drop blocks here…",id:"factoryBlock.emptyTemplate.placeholder"}))})}]}),this.renderDiscussion())}renderFactory(){const{device:e}=this.environment,t=this.getDisabled();return r.a.createElement(jt.a,{icon:u.a.plus,isGray:!0,isLarge:!0,style:{fontSize:"inherit",width:"100%"},shouldShrink:!0,onClick:this.handleButtonClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,disabled:t},r.a.createElement(l.a,{disabled:!0,store:this.props.store.getBlockTitleStore(),placeholder:m.default.formatMessage(Ft.buttonPlaceholder),style:Vt.buttonTextStyle,placeholderStyle:this.getPlaceholderStyle()}),!t&&(e.isMobile||this.stores.mouseStore.state.mouseEntered)&&r.a.createElement("div",{style:{display:"flex",alignItems:"center"},className:_t.y},!e.isMobile&&this.renderConfigureButton(),r.a.createElement(L.a,{tooltipContent:r.a.createElement(f.FormattedMessage,{defaultMessage:"More actions…",id:"factoryBlock.moreActions.button.label"}),store:this.props.store,fadeIn:!0})))}renderConfigureButton(){return r.a.createElement(Ue.a,{renderTooltip:()=>r.a.createElement(f.FormattedMessage,{defaultMessage:"Configure template",id:"factoryBlock.configureTemplate.button.label"}),delayThreshold:300,render:e=>r.a.createElement(At.a,Object.assign({icon:u.a.factoryBlockSettings,onClick:this.handleToggleConfigure},e))})}getDisabled(){return this.props.disabled||!this.canEdit()}getPlaceholderStyle(){return{width:"100%",display:"block",caretColor:this.theme.regularTextColor,color:this.theme.regularTextColor,...Ae.a.textOverflowStyle}}}Vt.buttonTextStyle={pointerEvents:"none",...Ae.a.textOverflowStyle};var Nt=Vt,Ut=n("hi+p"),zt=n("BJyN");class Xt extends i.a{constructor(){super(...arguments),this.handleClick=e=>{const{device:t}=this.environment;t.isMobile&&(j.k({environment:this.environment,store:this.props.store}),Ut.c({environment:this.environment,stores:ot.default.state.stores,left:e.clientX,top:e.clientY,actions:zt.c,showInput:!0,analyticsFrom:"content_block_menu"}))}}renderPersisted(){return r.a.createElement(It.a,{className:_t.s,size:13,style:{color:N.g.contentBorder,pointerEvents:"auto"},onClick:this.handleClick})}}var Yt=Xt,Ht=n("17x9"),qt=n.n(Ht);class Wt extends de.a{getInitialState(){return{dragging:!1}}}var Gt=Wt,Zt=n("UWAZ"),Kt=n("FmD2"),Jt=n("EZe4"),Qt=n("DkKf"),$t=n("NOLh"),en=n("2Yor"),tn=n("5w/s"),nn=n("3k5a");const on=function(e){const{columnListStore:t}=e;t.setState({dragging:!1})},rn=function(e){const{columnListBlockStore:t,diffX:n,columnListStore:o,leftColumn:r,rightColumn:a}=e;if(o.state.dragging){const{leftColumnStartWidth:e}=o.state,i=Object(en.a)(o.state.leftColumnStartRatio,0,1),{rightColumnStartWidth:s}=o.state,l=Object(en.a)(o.state.rightColumnStartRatio,0,1),c=e+s,d=i+l,u=Object(en.a)(e+n,0,c),p=Object(en.a)(s-n,0,c),h=d*(u/c),m=d*(p/c);if(0===u&&0===p)return o.setState({...o.state,temporaryRatios:{}}),{leftColumnNewRatio:i,rightColumnNewRatio:l};{const e=1/(8*t.getContentIds().length);let n=Math.round(h/e)*e,s=m+(h-n);return n<e&&(n=e,s=i+l-e),s<e&&(s=e,n=l+i-e),o.setState({...o.state,temporaryRatios:{[r.id]:n,[a.id]:s}}),{leftColumnNewRatio:n,rightColumnNewRatio:s}}}};var an=n("iVjn"),sn=n("uSCg"),ln=n("DaKt");class cn extends Fe.a{constructor(){super(...arguments),this.storeTypes={mouseStore:I.a},this.handleDragStart=e=>{this.props.canDrag&&(e.preventDefault(),function(e){const{environment:t,columnListStore:n,leftColumn:o,rightColumn:r}=e,a=nn.a.getRect(o),i=nn.a.getRect(r);a&&i&&(n.setState({dragging:!0,temporaryRatios:{},leftColumnStartWidth:a.width,leftColumnStartRatio:o.getColumnRatio(),rightColumnStartWidth:i.width,rightColumnStartRatio:r.getColumnRatio()}),j.e(t),F.f(t))}({environment:this.environment,columnListStore:this.props.columnListStore,leftColumn:this.props.leftColumn,rightColumn:this.props.rightColumn}),j.e(this.environment))},this.handleDragMove=e=>{rn({columnListBlockStore:this.props.columnList,columnListStore:this.props.columnListStore,leftColumn:this.props.leftColumn,rightColumn:this.props.rightColumn,diffX:e.diffX})},this.handleDragEnd=e=>{Q.createAndCommit(this.environment,t=>{!function(e){const{environment:t,columnListStore:n,transaction:o,leftColumn:r,rightColumn:a}=e,i=rn(e);if(i){const{leftColumnNewRatio:e,rightColumnNewRatio:s}=i;tn.h({stores:[r],update:{column_ratio:e},transaction:o}),tn.h({stores:[a],update:{column_ratio:s},transaction:o}),n.state.dragging&&n.setState({...n.state,temporaryRatios:{}}),ne.Vd(t)}}({environment:this.environment,columnListBlockStore:this.props.columnList,columnListStore:this.props.columnListStore,leftColumn:this.props.leftColumn,rightColumn:this.props.rightColumn,diffX:e.diffX,transaction:t})}),on({columnListStore:this.props.columnListStore})},this.handleDragCancel=e=>{on({columnListStore:this.props.columnListStore})},this.handleMouseEnter=e=>{ln.a.state||this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=e=>{ln.a.state||this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})}}renderComponent(){return this.props.canDrag?r.a.createElement(an.a,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,disableHorizontalEdgeScroll:!0,disableVerticalEdgeScroll:!0,render:e=>r.a.createElement("div",Object.assign({},Object(sn.a)(e,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),{style:this.stores.mouseStore.state.mouseEntered?this.getHoveredStyle():this.getStyle()}),r.a.createElement("div",{style:this.getHandleStyle()}))}):r.a.createElement("div",{style:this.getStyle()})}getStyle(){return{position:"relative",width:cn.width,flexGrow:0,flexShrink:0,transition:"opacity 200ms ease-out",opacity:0}}getHoveredStyle(){return{...this.getStyle(),opacity:1,cursor:"col-resize"}}getHandleStyle(){return{position:"absolute",top:0,bottom:0,left:cn.width/2-cn.handleWidth/2,width:cn.handleWidth,height:"100%",background:this.theme.darkDividerColor}}}cn.width=46,cn.handleWidth=4;var dn=cn,un=n("AOw3");class pn extends i.a{constructor(){super(...arguments),this.handleDrop=e=>{const{droppedDirection:t,droppedStores:n,duplicate:o}=e;Q.createAndCommit(this.environment,e=>{Zt.a({environment:this.environment,droppedDirection:t,droppedStores:n,targetParentStore:this.props.columnListStore.getContentStore(),targetStore:this.props.store,duplicate:o,transaction:e})})},this.handleMouseDown=e=>{const{device:t}=this.environment;t.isMobile||Object(Jt.d)({event:e,context:Jt.a.EditorMouseDown,callback:()=>{this.capturedMouseDown=!0,e.preventDefault(),Kt.c({environment:this.environment,target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[],allowVerticalEdgeScroll:!0,allowHorizontalEdgeScroll:!1})}})},this.handleMouseUp=e=>{if(this.capturedMouseDown&&!Qt.c(e)){const{clientX:t,clientY:n}=e;Et.default.afterNextFlush(()=>{F.i(this.environment,{x:t,y:n}),this.capturedMouseDown=!1})}}}render(){const{device:e}=this.environment,{ratio:t,store:n,isLastItem:o,disabled:a}=this.props,i=1===n.getContentIds().length,l=this.canEdit();return r.a.createElement($t.a,{isVisible:!0,animationStyle:this.getAnimationStyle({ratio:t}),render:()=>r.a.createElement("div",{style:this.getStyle(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},r.a.createElement(un.a,{store:n,canDropLeft:l&&!e.isMobile,canDropRight:o&&l&&!e.isMobile,onSelectableDrop:this.handleDrop,analyticsName:"column",style:{display:"flex",flexDirection:"column"},shouldShowDropZone:!0},r.a.createElement(s.a,{store:n.getContentStore(),disabled:a,disableLayout:i})))})}getStyle(){const{device:e}=this.environment,t={paddingTop:gn.topBottomPadding,paddingBottom:gn.topBottomPadding};return e.isMobile||Je.a.assign(t,{flexGrow:0,flexShrink:0}),t}getAnimationStyle({ratio:e}){const{device:t}=this.environment,n={width:"100%"};return this.props.numColumns>1&&(n.width="calc((100% - ".concat(dn.width*(this.props.numColumns-1),"px) * ").concat(e,")")),t.isPhone&&(n.width="100%"),n}}var hn=pn,mn=n("Qfcx");class fn extends i.a{constructor(){super(...arguments),this.storeTypes={columnListStore:Gt},this.getChildrenLimit=this.createComputedStore(()=>{const{limitParents:e}=mn.a.state;let t;return this.props.store.findRecordStoreAncestor(n=>{const o=e.get(n);return!!o&&(t=o[this.props.store.id],!0)}),t})}getChildContext(){return{...this.context,isInColumnList:!0}}renderPersisted(){const{disabled:e}=this.props,t=this.stores.columnListStore.state,n=this.getChildrenLimit.state;let o=this.props.store.getContentStores();Je.a.isNumber(n)&&(o=Je.a.slice(o,0,n));let a=o.map((e,n)=>{let o;return o=t.dragging&&t.temporaryRatios.hasOwnProperty(e.id)?t.temporaryRatios[e.id]:e.getColumnRatio(),o});const i=Je.a.sum(a);a=Je.a.map(a,e=>e/i);const s=[];return o.forEach((t,n)=>{const i=0===n,l=n===o.length-1;s.push(r.a.createElement(hn,{key:t.id,store:t,isFirstItem:i,isLastItem:l,numColumns:o.length,ratio:a[n],disabled:e,columnListStore:this.props.store})),l||s.push(r.a.createElement(dn,{key:"divider".concat(t.id),canDrag:this.canEdit(),columnList:this.props.store,leftColumn:t,rightColumn:o[n+1],columnListStore:this.stores.columnListStore}))}),r.a.createElement("div",{style:this.getStyle()},s)}getStyle(){const{device:e}=this.environment,t={display:"flex"};return e.isPhone&&(t.display="block"),t}}fn.contextTypes=Fe.b,fn.childContextTypes={isInColumnList:qt.a.any,...Fe.b},fn.topBottomPadding=12;var gn=fn;class bn extends i.a{renderPersisted(){return r.a.createElement("div",{style:bn.wrapStyle},r.a.createElement("div",{style:bn.style},r.a.createElement(H.a,null)))}}bn.style={minHeight:"".concat(1.5,"em"),display:"flex",alignItems:"center"},bn.wrapStyle={...a.b};var vn=bn,yn=n("6WtK");class Sn extends i.a{renderPersisted(){const{device:e}=this.environment,t=this.props.store.getNavigableBlockStore(),n=this.canEdit();if(t)return r.a.createElement("div",{style:{display:"flex",paddingTop:a.b.paddingTop,paddingBottom:a.b.paddingBottom}},r.a.createElement(yn.a,{showCurrentPageControls:!1,ancestorMaxWidth:200,currentPageMaxWidth:300,store:t,maxAncestorCount:3,isMobile:e.isMobile,style:{flexGrow:1,minWidth:0,fontSize:"inherit"}}),e.isMobile&&n&&r.a.createElement(L.a,{store:this.props.store,fadeIn:!0,style:{marginTop:2,marginRight:4}}),this.renderDiscussion())}}var wn=Sn,kn=n("JwIb"),Cn=n("8lbb"),Mn=n("rXSH"),En=n("hgQN"),_n=n("gHFd");class Tn extends i.a{constructor(){super(...arguments),this.storeTypes={mouseStore:I.a,buttonPopupStore:x.a},this.renderOrigin=()=>{const{device:e}=this.environment,{store:t}=this.props,n=this.getValue();let o,a={};return n?o=r.a.createElement(Cn.a,{display:"block",equation:n,style:this.getContainerStyle(!1),errorStyle:this.getContainerStyle(!0),theme:this.theme}):(o=r.a.createElement(kn.a,{key:"button",iconSvg:u.a.tex,iconStyle:{width:28,height:28,marginRight:8},style:{background:void 0}},r.a.createElement(f.FormattedMessage,{defaultMessage:"Add a TeX equation",id:"equationBlock.empty.placeholder"})),a={background:this.theme.sidebarBackground}),r.a.createElement(pt.a,{onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleOpen,style:{position:"relative",width:"100%",borderRadius:3,...a}},o,this.canEdit()&&(this.stores.mouseStore.state.mouseEntered||e.isMobile)&&r.a.createElement(L.a,{store:t,tooltipContent:r.a.createElement(f.FormattedMessage,{defaultMessage:"Rename, delete, and more…",id:"equationBlock.actions.tooltip"}),style:{position:"absolute",top:4,right:4,color:this.theme.mediumTextColor},fadeIn:!0}))},this.handleChange=e=>{Q.createAndCommit(this.environment,t=>{$.d({store:this.props.store.getPropertiesStore(),data:{title:R.m(e)},transaction:t})})},this.handleOpen=()=>{this.stores.buttonPopupStore.setState({...this.stores.buttonPopupStore.state,open:!0})},this.handleClose=()=>{this.stores.buttonPopupStore.setState({...this.stores.buttonPopupStore.state,open:!1}),j.k({environment:this.environment,store:this.props.store})},this.handleMouseMove=e=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=e=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.handleSubmit=()=>{ne.Mb(this.environment,{equation:this.getValue()})}}handleCreated(){this.handleOpen()}edit(){this.handleOpen()}activate(){this.stores.buttonPopupStore.state.open?this.handleClose():this.handleOpen()}renderPersisted(){const e=this.getValue(),t=this.stores.buttonPopupStore.state.open?{isOpen:!0,equationValue:e,error:En.d({environment:this.environment,equation:e,displayMode:"block"})}:{isOpen:!1,equationValue:void 0,error:void 0},n=!this.canEdit(),o=this.renderOrigin();return r.a.createElement("div",{style:{display:"flex",position:"relative"}},r.a.createElement(_n.DependencyConsumer,{dependency:_n.deps.prismjs},e=>r.a.createElement(Mn.a,Object.assign({},t,{Prism:e,displayMode:"block",disabled:n,origin:o,onDismiss:this.handleClose,onChange:this.handleChange,onSubmit:this.handleSubmit}))),this.renderDiscussion())}getValue(){const e=this.props.store.getProperties();return R.cb(e&&e.title)}getContainerStyle(e){const t={display:"flex",padding:"4px 8px",width:"100%"};return this.getValue()?(t.flexDirection="column",t.overflow="auto"):t.color=N.g.contentPlaceholder,e&&(t.background=N.g.redWithAlpha(.2)),{...t,...this.getBlockColorStyle()}}}var xn=Tn;const In=Object(f.defineMessages)({placeholder:{defaultMessage:"Heading 1",id:"header1Block.placeholder"}});class Pn extends i.a{renderPersisted(){const{disabled:e}=this.props;return r.a.createElement("div",{style:this.getStyle()},r.a.createElement(l.a,{disabled:e,store:this.props.store.getBlockTitleStore(),placeholder:m.default.formatMessage(In.placeholder),placeholderStyle:{WebkitTextFillColor:this.theme.headerBlockPlaceholderTextColor},style:a.b}),this.renderDiscussion())}getStyle(){const{device:e}=this.environment,t=this.rootStorePageFont.state;return{display:"flex",width:"100%",fontFamily:Ae.a.getHeaderFontFamily({pageFont:t}),fontWeight:Ae.a.fontWeight.semibold,fontSize:e.isMobile?"1.5em":"1.875em",lineHeight:1.3,...this.getBlockColorStyle(),...this.props.style}}}var On=Pn;const Bn=Object(f.defineMessages)({placeholder:{defaultMessage:"Heading 2",id:"subheaderBlock.placeholder"}});class Ln extends i.a{renderPersisted(){const{disabled:e}=this.props;return r.a.createElement("div",{style:this.getStyle()},r.a.createElement(l.a,{disabled:e,store:this.props.store.getBlockTitleStore(),placeholder:m.default.formatMessage(Bn.placeholder),placeholderStyle:{WebkitTextFillColor:this.theme.headerBlockPlaceholderTextColor},style:a.b}),this.renderDiscussion())}getStyle(){const{device:e}=this.environment,t=this.rootStorePageFont.state;return{display:"flex",width:"100%",fontFamily:Ae.a.getHeaderFontFamily({pageFont:t}),fontWeight:Ae.a.fontWeight.semibold,fontSize:e.isMobile?"1.25em":"1.5em",lineHeight:1.3,...this.getBlockColorStyle(),...this.props.style}}}var Rn=Ln;const Dn=Object(f.defineMessages)({placeholder:{defaultMessage:"Heading 3",id:"subsubheaderBlock.placeholder"}});class An extends i.a{renderPersisted(){const{disabled:e}=this.props;return r.a.createElement("div",{style:this.getStyle()},r.a.createElement(l.a,{disabled:e,store:this.props.store.getBlockTitleStore(),placeholder:m.default.formatMessage(Dn.placeholder),placeholderStyle:{WebkitTextFillColor:this.theme.headerBlockPlaceholderTextColor},style:a.b}),this.renderDiscussion())}getStyle(){const{device:e}=this.environment,t=this.rootStorePageFont.state;return{display:"flex",width:"100%",fontFamily:Ae.a.getHeaderFontFamily({pageFont:t}),fontWeight:Ae.a.fontWeight.semibold,fontSize:e.isMobile?"1.17em":"1.25em",lineHeight:1.3,...this.getBlockColorStyle(),...this.props.style}}}var jn=An;const Fn=Object(f.defineMessages)({emptyPlaceholder:{defaultMessage:"Empty quote",id:"quoteBlock.emptyQuote.placeholder"}});class Vn extends i.a{renderPersisted(){const{disabled:e}=this.props;return r.a.createElement("div",{style:this.getStyle()},r.a.createElement(l.a,{style:Vn.innerStyle,placeholderStyle:{left:Vn.innerStyle.paddingLeft,width:"auto",right:Vn.innerStyle.paddingLeft},disabled:e,store:this.props.store.getBlockTitleStore(),placeholder:m.default.formatMessage(Fn.emptyPlaceholder)}),this.renderDiscussion())}getStyle(){return{fontSize:"1.2em",...a.b,...this.getBlockColorStyle(),display:"flex",...this.props.style}}}Vn.innerStyle={borderLeft:"3px solid currentColor",paddingLeft:"0.9em",paddingRight:"0.9em"};var Nn=Vn,Un=n("vo/r");class zn extends i.a{constructor(){super(...arguments),this.handleClick=()=>{const{store:e}=this.props;Ye.a.recordVisit({id:e.id,type:We.c.Link,currentUserId:this.environment.currentUser.id})}}handleCreated(){this.activate(),He.a.setKeyboardMode(!1)}activate(){if(this.context.overrideLinkClick){const{store:e}=this.props,t=Object(De.a)({store:e});this.context.overrideLinkClick(t)}else D.navigateToBlock({environment:this.environment,store:this.props.store,visitType:We.c.Link})}renderPersisted(){const{disabled:e}=this.props;return r.a.createElement(Xe,{store:this.props.store,style:{...this.getBlockColorStyle(),...this.props.style},isAlias:this.props.store.isCollectionViewAlias()||this.props.store.recordStoreParentDiffersFromPersistedParent(),disabled:e,onClick:this.handleClick})}}zn.contextTypes=qe.a;var Xn=zn,Yn=n("oFLp"),Hn=n("4HCU"),qn=n("QcDD"),Wn=n("bTAb"),Gn=n("wpmu"),Zn=n("O93e"),Kn=n("Pl3d"),Jn=n("VyA+"),Qn=n("HRSx"),$n=n("sbdd"),eo=n("2Y+N"),to=n("zTdN"),no=n("WgIs"),oo=n("gbGO"),ro=n("X6Ne"),ao=n("HTHG"),io=n("DNgp"),so=n("X3py"),lo=n("AXh+"),co=n("z22Z");const uo=Object(f.defineMessages)({inputPlaceholder:{defaultMessage:"Search for a page…",id:"linkToPageBlock.searchPlaceholder"}});class po extends i.a{constructor(){super(...arguments),this.didPerformAction=!1,this.storeTypes={autocompleteStore:Wn.a,mouseStore:I.a},this.handleBlur=()=>{F.f(this.environment),this.didPerformAction||(this.didPerformAction=!0,Q.createAndCommit(this.environment,e=>{Ct.n({store:this.props.store,transaction:e})}))},this.isEditing=this.createComputedStore(()=>{const{store:e}=this.props,t=io.default.state;return Boolean("editing"===t.mode&&t.store.id===e.id)}),this.performQuery=async e=>{const{currentSpaceStore:t,currentBlockStore:n}=qn.default.state,{store:o}=this.props,r=Object(lo.b)(o).find(({permissionItem:e})=>Object(co.n)(e));if(this.props.store.isDefaultRecordCache()&&(t||r)){if(!e)return r&&!t&&n?[n.id]:ao.h(this.environment).map(e=>e.id);if(t){return(await Hn.f({environment:this.environment,query:e,limit:20,spaceId:t.id,requireEditPermissions:!1,excludeTemplates:!1,source:"link_to_page_block"})).results}if(r){return(await Hn.g({environment:this.environment,query:e,limit:20,ancestorId:r.blockId,excludeTemplates:!1,source:"link_to_page_block"})).results}}return[]}}handleCreated(){const{device:e}=this.environment;j.o({environment:this.environment,phase:ot.SelectionPhase.Editing}),F.m({store:this.props.store,selection:void 0}),e.isMobile&&so.b.onShow(()=>ro.a(this.environment))}renderComponent(){if(this.isEditing.state)return this.renderSearchInput()}renderSearchInput(){const{device:e}=this.environment,{query:t}=this.stores.autocompleteStore.state,n={request:t,performRequest:this.performQuery,debounce:Hn.b,render:(t,n,o)=>{const a=(n||[]).map(e=>{const t=Gn.a.createChildStore(this.props.store,{table:Qn.a,id:e});return{key:e,render:e=>r.a.createElement($n.a,Object.assign({},e,{store:t})),action:()=>{if(!this.didPerformAction){this.didPerformAction=!0;const e=Q.create(this.environment),n=Yn.c({environment:this.environment,store:this.props.store,targetStore:t,transaction:e});n&&j.q({environment:this.environment,stores:[n]}),Q.commit({environment:this.environment,transaction:e})}}}});return r.a.createElement(Jn.a,{capture:this.isEditing.state},r.a.createElement(Zn.a,{loading:!o,isOpen:!0,store:this.stores.autocompleteStore,queryUpdateDebounce:Hn.b,inputPlaceholder:m.default.formatMessage(uo.inputPlaceholder),focus:!0,inputStyle:this.getInputStyle(),onBgClick:this.handleBlur,renderPopup:()=>{let t,i;return t=n&&0===a.length?r.a.createElement(eo.a,{title:r.a.createElement(f.FormattedMessage,{defaultMessage:"Select a page",id:"linkToPageBlock.selectPrompt"}),loading:!o},r.a.createElement(to.a,{title:r.a.createElement(f.FormattedMessage,{defaultMessage:"No results",id:"linkToPageBlock.noSearchResults"})})):r.a.createElement(no.a,{type:no.a.Type.Vertical,initialFocus:0,sections:[{key:0,render:e=>r.a.createElement(eo.a,Object.assign({},e,{title:r.a.createElement(f.FormattedMessage,{defaultMessage:"Select a page",id:"linkToPageBlock.selectPrompt.withContents"}),loading:!o})),items:a}]}),i=e.isPhone?{menuType:oo.b.MenuType.ActionSheet}:{menuType:oo.b.MenuType.Popup,width:460,maxHeight:e.isMobile?"30vh":"40vh"},r.a.createElement(oo.b,Object.assign({},i),t)}}))}};return r.a.createElement(Kn.a,Object.assign({},n))}getTitleStyle(){return{lineHeight:1.3}}getInputStyle(){return{...this.getTitleStyle(),borderBottom:void 0}}}var ho=po,mo=n("bjn0"),fo=n("6SEd");const go=Object(f.defineMessages)({inputPlaceholder:{defaultMessage:"Search for a database…",id:"linkToCollectionBlock.input.placeholder"}});class bo extends i.a{constructor(){super(...arguments),this.didPerformAction=!1,this.storeTypes={autocompleteStore:Wn.a,mouseStore:I.a},this.handleBlur=()=>{F.f(this.environment),this.didPerformAction||(this.didPerformAction=!0,Q.createAndCommit(this.environment,e=>{Ct.n({store:this.props.store,transaction:e})}))},this.isEditing=this.createComputedStore(()=>{const{store:e}=this.props,t=io.default.state;return Boolean("editing"===t.mode&&t.store.id===e.id)}),this.performQuery=async e=>this.props.store.isDefaultRecordCache()?Hn.c(this.environment,{query:e,limit:20,source:"link_to_collection_block"}):[]}handleCreated(){j.o({environment:this.environment,phase:ot.SelectionPhase.Editing}),F.m({store:this.props.store,selection:void 0})}renderComponent(){if(this.isEditing.state)return this.renderSearchInput()}renderSearchInput(){const{device:e}=this.environment,{query:t}=this.stores.autocompleteStore.state;return r.a.createElement(Kn.a,{request:t,performRequest:this.performQuery,debounce:Hn.b,render:(t,n,o)=>{const a=(n||[]).map(e=>{const t=mo.a.createChildStore(this.props.store,{table:fo.a,id:e});return{key:e,render:e=>r.a.createElement($n.a,Object.assign({},e,{store:t})),action:()=>{if(!this.didPerformAction){this.didPerformAction=!0;const{store:e}=this.props,n=Q.create(this.environment),o=Yn.b({environment:this.environment,store:e,collectionStore:t,transaction:n});o&&j.q({environment:this.environment,stores:[o]}),Q.commit({environment:this.environment,transaction:n})}}}});return r.a.createElement(Jn.a,{capture:this.isEditing.state},r.a.createElement(Zn.a,{loading:!o,isOpen:!0,store:this.stores.autocompleteStore,queryUpdateDebounce:Hn.b,inputPlaceholder:m.default.formatMessage(go.inputPlaceholder),focus:!0,inputStyle:this.getInputStyle(),onBgClick:this.handleBlur,renderPopup:()=>{let t,i;return t=n&&0===a.length?r.a.createElement(eo.a,{title:r.a.createElement(f.FormattedMessage,{defaultMessage:"Select a database",id:"linkToCollectionBlock.menuItem.noResults.title"}),loading:!o},r.a.createElement(to.a,{title:r.a.createElement(f.FormattedMessage,{defaultMessage:"No results",id:"linkToCollectionBlock.menuItem.noResults.label"})})):r.a.createElement(no.a,{type:no.a.Type.Vertical,initialFocus:0,sections:[{key:0,render:e=>r.a.createElement(eo.a,Object.assign({},e,{title:r.a.createElement(f.FormattedMessage,{defaultMessage:"Select a database",id:"linkToCollectionBlock.menuItem.showResults.title"}),loading:!o})),items:a}]}),i=e.isPhone?{menuType:oo.b.MenuType.ActionSheet}:{menuType:oo.b.MenuType.Popup,width:460,maxHeight:e.isPhone?"30vh":"40vh"},r.a.createElement(oo.b,Object.assign({},i),t)}}))}})}getTitleStyle(){return{lineHeight:1.3}}getInputStyle(){return{...this.getTitleStyle(),borderBottom:void 0}}}var vo=bo;class yo extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.figma,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with any public Figma shareable link",id:"figmaBlock.caption"})}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed Figma",id:"figmaBlock.placeholder"}))}}var So=yo;class wo extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.loom,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with any Loom shareable link",id:"loomBlock.embed.caption"})}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed Loom",id:"loomBlock.placeholder"}))}}var ko=wo;class Co extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.typeform,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with any public Typeform link",id:"typeformBlock.embed.caption"})}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed Typeform",id:"typeformBlock.placeholder"}))}}var Mo=Co;class Eo extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.codepen,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with any public CodePen link…",id:"codepenBlock.embed.caption"})}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed CodePen",id:"codepenBlock.placeholder"}))}}var _o=Eo,To=n("Ho6V"),xo=n("CTEM"),Io=n("Catn"),Po=n("HSWF");const Oo=Object(f.defineMessages)({inputPlaceholder:{defaultMessage:"Type something…",id:"calloutBlock.inputPlaceholder"}});class Bo extends i.a{constructor(){super(...arguments),this.handleChange=async e=>{const{store:t}=this.props,n=t.getIconStore();if(n){const t=Object(Q.create)(this.environment);Object($.c)({store:n,value:e,transaction:t}),Object(xo.a)(e)&&Io.a.set({userId:this.environment.currentUser.id,key:Po.f,value:e}),await Object(Q.commit)({environment:this.environment,transaction:t})}}}renderPersisted(){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:this.getStyle()},r.a.createElement("div",null,this.renderIcon()),r.a.createElement(l.a,{style:{width:"100%",marginLeft:8},disabled:!this.canEdit(),store:this.props.store.getBlockTitleStore(),placeholder:m.default.formatMessage(Oo.inputPlaceholder)})),this.renderDiscussion())}renderIcon(){const{store:e}=this.props,t=e.getIcon();return this.canEdit()?r.a.createElement(Ne.a,{bucket:"secure",store:e,isEmptyPage:!1,onChange:this.handleChange,disableRemoveIcon:!0,isCallout:!0,icon:e.getIcon(),size:24,disabled:!1}):r.a.createElement(Ne.a,{icon:t,isEmptyPage:!1,size:24,disabled:!0})}getStyle(){const e=this.props.store.getFormat().block_color||"default",t=Object(N.k)(e,this.theme);return{...a.b,...this.props.style,display:"flex",width:"100%",borderRadius:3,borderWidth:1,borderStyle:"solid",borderColor:this.theme.regularDividerColor,backgroundColor:"transparent",paddingLeft:12,paddingTop:16,paddingBottom:16,paddingRight:16,...t}}}var Lo=Bo,Ro=n("hbKx"),Do=n("IYZQ"),Ao=n("VpIZ"),jo=n("udrG");var Fo=n("0CAA");class Vo extends i.a{constructor(){super(...arguments),this.storeTypes={mouseStore:I.a},this.renderHeader=(e,t,n)=>{const o=this.getNavigableAncestor();if(!o)return;const a=Object(De.a)({store:o,scrollToBlockId:e.id,fullyQualified:!1}),i=function(e){const{headerBlockId:t,headerBlockIds:n,index:o,getRecordValue:r}=e,a=r({table:Qn.a,id:t});if(!a)return 0;const i=a.type,s=Je.a.compact(n.map(e=>r({table:Qn.a,id:e})));if(i===jo.a.header)return 0;const l=Je.a.findLastIndex(s,(e,t)=>t<o&&e.type===jo.a.header);if(i===jo.a.subHeader)return l>=0?1:0;const c=Je.a.findLastIndex(s,(e,t)=>t<o&&e.type===jo.a.subHeader);return l>=0&&c>l?2:l>=0||c>=0?1:0}({headerBlockId:e.id,headerBlockIds:n.map(e=>e.id),index:t,getRecordValue:this.props.store.getRecordValue});return r.a.createElement("div",{key:e.id,style:this.getContainerStyle()},r.a.createElement(B.a,{key:e.id,href:a,external:!1},r.a.createElement("div",{style:this.getInnerHeaderStyle(i)},r.a.createElement(je.a,{store:e,shouldWrap:!1,underline:!0}))))},this.handleMouseMove=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.pageHeaderIdsStore=this.createComputedStore(()=>{const e=this.getNavigableAncestor();return e?function(e,t){const n=[],o=t({table:Qn.a,id:e});if(!o||!o.content)return n;for(const r of o.content){const e=t({table:Qn.a,id:r});if(e)if(Object(Ao.v)(e))n.push(e.id);else if(e.type===jo.a.columnList&&e.content)for(const o of e.content){const e=t({table:Qn.a,id:o});if(e&&(e.type===jo.a.column&&e.content))for(const o of e.content){const e=t({table:Qn.a,id:o});e&&(Object(Ao.v)(e)&&n.push(e.id))}}}return Je.a.uniq(n)}(e.id,this.props.store.getRecordValue):[]})}renderPersisted(){const{device:e}=this.environment,t=this.getDisabled(),{store:n}=this.props,o=this.pageHeaderIdsStore.state.map(e=>Gn.a.createChildStore(n,{table:Qn.a,id:e}));return r.a.createElement("div",{style:Vo.style,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},o.map(this.renderHeader),0===o.length&&r.a.createElement("div",{style:{...this.getPlaceholderStyle(),...!t&&e.isMobile&&{marginRight:36}}},r.a.createElement(f.FormattedMessage,{defaultMessage:"Add headings to create a table of contents. <linktohelpbutton>Learn more</linktohelpbutton>.",id:"tableOfContentsBlock.placeholder",values:{linktohelpbutton:(...e)=>r.a.createElement(Do.a,{href:Object(Fo.a)("guides.tableOfContents"),external:!0,onClick:()=>ne.C(this.environment,{from:"table_of_contents_placeholder"})},e)}})),!t&&e.isMobile&&r.a.createElement(L.a,{style:Vo.actionMenuButtonStyle,tooltipContent:r.a.createElement(f.FormattedMessage,{defaultMessage:"More actions…",id:"tableOfContentsBlock.mobileActionMenu.button.label"}),store:this.props.store,fadeIn:!1}))}getDisabled(){return this.props.disabled||!this.canEdit()}getNavigableAncestor(){return Object(Ro.c)(this.props.store)}getContainerStyle(){return{...this.getBlockColorStyle(),...this.props.style}}getInnerHeaderStyle(e){return{...Vo.headerTextStyle,display:"flex",alignItems:"center",marginLeft:Ve.d*e,paddingTop:2*a.b.paddingTop,paddingBottom:2*a.b.paddingBottom}}getPlaceholderStyle(){return{...Vo.headerTextStyle,paddingTop:a.b.paddingTop,paddingBottom:a.b.paddingBottom,color:this.theme.lightTextColor}}}Vo.style={position:"relative"},Vo.actionMenuButtonStyle={position:"absolute",top:3,right:6},Vo.headerTextStyle={paddingRight:a.b.paddingRight,paddingLeft:a.b.paddingLeft,fontSize:14,lineHeight:1.3};var No=Vo;const Uo=Object(f.defineMessages)({embedButtonText:{defaultMessage:"Embed Whimsical",id:"whimsicalBlock.embeds.button.label"}});class zo extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.whimsical,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with Whimsical links with Public Link Access enabled",id:"whimsicalBlock.embeds.caption"}),embedButtonText:m.default.formatMessage(Uo.embedButtonText),urlInputPlaceholder:"https://whimsical.com/…"}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed Whimsical",id:"whimsicalBlock.placeholder"}))}}var Xo=zo;const Yo=Object(f.defineMessages)({embedButtonText:{defaultMessage:"Embed Miro",id:"miroBlock.embeds.button.label"}});class Ho extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.miro,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with Miro links with public access enabled",id:"miroBlock.embeds.caption"}),embedButtonText:m.default.formatMessage(Yo.embedButtonText),urlInputPlaceholder:"https://miro.com/app/board/…"}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed Miro",id:"miroBlock.placeholder"}))}}var qo=Ho;const Wo=Object(f.defineMessages)({embedButtonText:{defaultMessage:"Embed Abstract",id:"abstractBlock.embeds.button.label"}});class Go extends i.a{constructor(){super(...arguments),this.storeTypes={blockResizerStore:p.a}}renderPersisted(){return r.a.createElement(h.a,Object.assign({},this.props,this.stores,{store:this.props.store,iconSvg:u.a.abstract,mediaMenuCurrentTab:"embed",mediaMenuTabs:[{type:"embed"}],mediaMenuEmbedCaption:r.a.createElement(f.FormattedMessage,{defaultMessage:"Works with Abstract links with public access enabled",id:"abstractBlock.embeds.caption"}),embedButtonText:m.default.formatMessage(Wo.embedButtonText),urlInputPlaceholder:"https://abstract.com/…"}),r.a.createElement(f.FormattedMessage,{defaultMessage:"Embed Abstract",id:"abstractBlock.placeholder"}))}}var Zo=Go,Ko=n("BrOh");class Jo extends i.a{constructor(){super(...arguments),this.handleClick=()=>{const{store:e}=this.props;ne.G(this.environment),Ye.a.recordVisit({id:e.id,type:We.c.Link,currentUserId:this.environment.currentUser.id})}}handleCreated(){this.activate(),He.a.setKeyboardMode(!1)}activate(){const{store:e}=this.props;this.navigate(e)}navigate(e){if(this.context.overrideLinkClick){const t=Object(De.a)({store:e});this.context.overrideLinkClick(t)}else D.navigateToBlock({environment:this.environment,store:e,visitType:We.c.Link})}renderPersisted(){const{disabled:e,store:t}=this.props;if(!Object(Ko.a)())return;const n=t.getAliasTargetStore();return n?r.a.createElement(Xe,{store:n,style:{...this.getBlockColorStyle(),...this.props.style},isAlias:!0,disabled:e,onClick:this.handleClick}):void 0}}Jo.contextTypes=qe.a;var Qo=Jo,$o=n("hU3F"),er=n("wQYB"),tr=n("sr17"),nr=n("vJXr"),or=n("i3uR"),rr=n("bug4"),ar=n("QDsP"),ir=n("KTXS"),sr=n("sSHh"),lr=n("aZ00");class cr extends i.a{constructor(){super(...arguments),this.storeTypes={hovered:$o.a.of(!1),editing:$o.a.of(!1),copied:$o.a.of(!1)},this.renderBacklinksMenu=()=>{const{store:e}=this.props,t=e.getNavigableBlockStore(),n=this.numberOfBacklinks.state;if(!t)return;const o={menuType:oo.b.MenuType.Popup,width:500};return r.a.createElement(oo.b,Object.assign({},o),r.a.createElement(eo.a,{topBorder:!1,extraTopPadding:!0},r.a.createElement(U.a,{isSmall:!0,style:{marginBottom:6,marginLeft:8,flex:1,paddingLeft:8}},r.a.createElement(f.FormattedMessage,{defaultMessage:"Original",id:"page.transclusionContainerBlock.originalLabel",description:"The original location of a transclusion"})),r.a.createElement(ar.a,{currentBlockStore:this.props.store,backlinkStore:t,scrollToBlockId:this.props.store.id,disableArrow:!0})),n>0&&r.a.createElement(eo.a,{topBorder:!0},r.a.createElement(rr.a,{type:"transclusion_container",store:this.props.store,disableArrow:!0})),this.renderLearnMoreMenuSection())},this.handleEditClick=()=>{this.stores.editing.set(!0),this.stores.hovered.set(!1),this.stores.copied.set(!1),Object(j.e)({device:this.environment.device}),Object(ne.Xe)(this.environment)},this.handleCopyClick=()=>{Object(j.q)({environment:this.environment,stores:[this.props.store]}),Object(lr.f)(),Object(j.e)({device:this.environment.device}),this.stores.copied.set(!0),setTimeout(()=>{this.componentIsMounted&&this.stores.copied.set(!1)},5e3),Object(ne.Ve)(this.environment)},this.handleDoneClick=()=>{this.stores.editing.set(!1),this.stores.hovered.set(!1),this.stores.copied.set(!1),Object(j.e)({device:this.environment.device}),Object(ne.We)(this.environment)},this.handleMouseEnter=()=>{le.a.state.isDragging||ce.a.state.isActive||this.props.disabled||this.stores.hovered.set(!0)},this.handleMouseLeave=()=>{le.a.state.isDragging||ce.a.state.isActive||this.props.disabled||this.stores.hovered.set(!1)},this.handleMobileListClick=e=>{const t=this.stores.editing.get(),n=this.canEdit(),{isMobile:o}=this.environment.device;!t&&n&&o&&(Object(Qt.c)(e)||this.handleEditClick())},this.handleEmptyClick=e=>{Object(Jt.d)({event:e,context:Jt.a.EditorClick,callback:()=>{Object(Qt.c)(e)||Object(Q.createAndCommit)(this.environment,e=>{Object(st.b)({environment:this.environment,store:this.props.store,transaction:e})})}})},this.numberOfBacklinks=this.createComputedStore(()=>Object(tr.a)(this.props.store,this.environment).length)}handleCreated(){this.handleEditClick()}activate(){this.handleEditClick()}renderPersisted(){const{disabled:e,store:t}=this.props,n=this.stores.editing.get(),o=0===t.getContentIds().length,a=this.canEdit(),{isMobile:i}=this.environment.device,l=!n&&a&&!e;if(Object(Ko.a)())return r.a.createElement("div",{style:this.getStyle(n),onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},n?r.a.createElement("div",{style:this.getEditingListWrapStyle(),onClick:o?this.handleEmptyClick:void 0},r.a.createElement(s.a,{disabled:e||!n,disableSelection:!n,store:this.props.store.getContentStore(),emptyPlaceholder:this.renderEmptyEditingPlaceholder()})):o?this.renderEmptyNonEditingPlaceholder():r.a.createElement("div",{onClick:this.handleMobileListClick},r.a.createElement(s.a,{disabled:!0,disableSelection:!0,store:this.props.store.getContentStore()})),l&&i&&this.renderActionButton(),l&&!i&&this.renderDesktopActions(),n&&this.renderEditingBar(),!e&&r.a.createElement(er.a,{key:t.id,store:t}))}renderDesktopActions(){const{disabled:e}=this.props,t=this.numberOfBacklinks.state,n=nr.a.state.online,o=this.stores.copied.get();return r.a.createElement("div",{style:this.getDesktopActionsStyle()},t>0&&n&&r.a.createElement(or.a,{popupType:or.a.PopupType.Popup,renderOrigin:e=>r.a.createElement(pt.a,Object.assign({style:cr.actionButtonStyle},e),u.a.alias({width:12,transform:"rotate(180deg)"}),r.a.createElement("span",null,t)),render:this.renderBacklinksMenu}),!e&&r.a.createElement(pt.a,{style:cr.actionButtonStyle,onClick:this.handleEditClick},r.a.createElement(f.FormattedMessage,{id:"transclusionContainerBlock.edit",description:"Edit transclusion block",defaultMessage:"Edit"})),r.a.createElement(pt.a,{style:cr.actionButtonStyle,onClick:this.handleCopyClick},o?this.renderCopiedText():this.renderCopyText()),r.a.createElement(L.a,{store:this.props.store,fadeIn:!1,iconStyle:{fill:N.g.white}}))}renderActionButton(){return r.a.createElement(L.a,{style:this.getActionButtonStyle(),store:this.props.store,fadeIn:!1})}renderEditingBar(){const e=this.numberOfBacklinks.state,t=nr.a.state.online,n=this.stores.copied.get(),{device:o}=this.environment;return r.a.createElement("div",{style:this.getEditingBarStyle()},0===e?r.a.createElement(sr.a,{title:o.isMobile?void 0:this.renderLearnMoreMessage(),href:Object(Fo.a)("guides.alias"),analyticsFrom:"transclusion_container_block"}):t&&r.a.createElement(or.a,{popupType:or.a.PopupType.Popup,renderOrigin:t=>r.a.createElement(jt.a,Object.assign({},t),e>0?r.a.createElement(f.FormattedMessage,{id:"transclusionContainerBlock.references.nonEmptyLabel",defaultMessage:"Edits will affect {referenceCount} {referenceCount, plural, one {page} other {pages}}",values:{referenceCount:e}}):r.a.createElement(f.FormattedMessage,{id:"transclusionContainerBlock.references.emptyLabel",defaultMessage:"No references"}),u.a.chevronDown({width:12})),render:this.renderBacklinksMenu}),r.a.createElement("div",{style:{flexGrow:1}}),!o.isMobile&&r.a.createElement(jt.a,{onClick:this.handleCopyClick,icon:n?u.a.check:u.a.duplicate},n?this.renderCopiedText():this.renderCopyText()),r.a.createElement(jt.a,{isBlue:!0,onClick:this.handleDoneClick},r.a.createElement(f.FormattedMessage,{id:"transclusionContainerBlock.done",description:"Done editing",defaultMessage:"Done"})))}renderLearnMoreMenuSection(){return r.a.createElement(eo.a,{topBorder:!0},r.a.createElement(ir.a,{title:this.renderLearnMoreMessage(),href:Object(Fo.a)("guides.alias"),analyticsFrom:"transclusion_container_block"}))}renderLearnMoreMessage(){return r.a.createElement(f.FormattedMessage,{defaultMessage:"Learn more about Block References",id:"transclusionContainerBlock.learnMoreLabel"})}renderEmptyNonEditingPlaceholder(){if(this.canEdit())return r.a.createElement("div",{style:{caretColor:this.theme.lightTextColor,color:this.theme.lightTextColor,padding:"3px 2px"}},r.a.createElement(f.FormattedMessage,{defaultMessage:"Empty Block Reference.",id:"transclusionContainerBlock.emptyNonEditingPlaceholder"}))}renderEmptyEditingPlaceholder(){return r.a.createElement("div",{style:{caretColor:this.theme.lightTextColor,color:this.theme.lightTextColor}},r.a.createElement(f.FormattedMessage,{defaultMessage:"Click or drag content here to reuse it in Block References.",id:"transclusionContainerBlock.emptyEditingPlaceholder"}))}renderCopyText(){return r.a.createElement(f.FormattedMessage,{id:"transclusionContainerBlock.copy",defaultMessage:"Copy"})}renderCopiedText(){return r.a.createElement(f.FormattedMessage,{id:"transclusionContainerBlock.copied",defaultMessage:"Copied"})}getStyle(e){return{position:"relative",...e&&{boxShadow:this.theme.borderBoxShadow,borderRadius:3,marginTop:8,marginBottom:8,background:this.theme.contentBackground}}}actionButtonBackground(e){const{device:t}=e;return t.isMobile?N.g.blackWithAlpha(.3):N.g.blackWithAlpha(.6)}getDesktopActionsStyle(){const{device:e}=this.environment,t=this.stores.hovered.get();return{position:"absolute",top:2,right:4,borderRadius:3,color:N.g.white,fill:N.g.white,fontSize:11.5,background:this.actionButtonBackground(this.environment),display:"flex",whiteSpace:"nowrap",maxWidth:"calc(100% - 16px)",overflow:"hidden",pointerEvents:t?"auto":"none",opacity:t?1:0,transition:e.isSafari?void 0:"opacity 300ms ease-in",fontFamily:Ae.a.fontFamily.sans,zIndex:2}}getActionButtonStyle(){return{position:"absolute",top:2,right:4,borderRadius:3,fontSize:11.5,display:"flex",whiteSpace:"nowrap",maxWidth:"calc(100% - 16px)",overflow:"hidden",zIndex:2}}getEditingBarStyle(){return{display:"flex",background:this.theme.sidebarBackground,borderTop:"1px solid ".concat(this.theme.lightDividerColor),padding:"4px 8px",alignItems:"center"}}getEditingListWrapStyle(){return{padding:"20px 16px"}}}cr.actionButtonStyle={display:"flex",alignItems:"center",padding:"4px 6px",borderRight:"1px solid ".concat(N.g.whiteWithAlpha(.2))};var dr=cr;class ur extends i.a{renderPersisted(){const{disabled:e,store:t}=this.props,n=t.getTransclusionReferenceTargetStore();if(n)return r.a.createElement(dr,{store:n,disabled:e,intl:this.props.intl})}}var pr=ur;let hr;n.d(t,"a",(function(){return mr}));const mr=function(e){const t=e.getType();if(t)return"collection_view"===t&&e.recordStoreParentDiffersFromPersistedParent()?Xn:(hr||(hr={text:d,image:v,video:w,bookmark:Z,drive:fe,audio:ve,tweet:we,gist:Me,maps:Te,framer:Pe,invision:Le,file:Re.a,page:Ze,to_do:it,toggle:ft,bulleted_list:tt,numbered_list:St,code:wt.a,factory:Nt,divider:Yt,column_list:gn,copy_indicator:vn,embed:h.a,breadcrumb:wn,equation:xn,header:On,sub_header:Rn,sub_sub_header:jn,quote:Nn,collection_view:Un.a,collection_view_page:Xn,link_to_page:ho,link_to_collection:vo,figma:So,loom:ko,codepen:_o,typeform:Mo,column:hn,pdf:To.a,callout:Lo,table_of_contents:No,whimsical:Xo,miro:qo,abstract:Zo,alias:Qo,transclusion_container:dr,transclusion_reference:pr}),hr[t])}},Qc1K:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("LvDl"),r=n.n(o),a=n("q2qQ"),i=n("Cm2F"),s=n("QcDD"),l=n("sjR4"),c=n("p0Uu"),d=n("ZbKq"),u=n("Sd8d");function p(e){const{RouterStore:t}=e,{PageScroller:n}=c.a;if("page"===t.state.route.name&&s.default.state.currentLoadingContainerStore&&s.default.state.currentLoadingContainerStore.state.ready)if(d.a.reset(),u.a.reset(),t.state.route.scrollToBlockId){const n=[t.state.route.scrollToBlockId];a.q(e,n);const o=l.default.state.stores[0];o&&t.state.route.discussionId&&i.c({environment:e,blockStore:o,discussionId:t.state.route.discussionId,analyticsFrom:"page_load",shouldFocusDiscussion:!0})}else t.state.route.discussionId&&s.default.state.currentBlockStore?i.c({environment:e,blockStore:s.default.state.currentBlockStore,discussionId:t.state.route.discussionId,analyticsFrom:"page_load",shouldFocusDiscussion:!0}):"pop"===t.state.action&&t.state.historyState&&(n&&r.a.isNumber(t.state.historyState.scrollTop)&&n.scrollTo(t.state.historyState.scrollTop,void 0),t.state.historyState.blockIds&&a.r(e,t.state.historyState.blockIds))}},Qc3L:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("J9+s"),s=n("aEEb"),l=n("XfKI"),c=n("Sb6f"),d=n("hU3F"),u=n("i8hZ"),p=n("hbKx"),h=n("xL2i"),m=n("MeYt"),f=n("Mr7a");class g extends a.a{constructor(){super(...arguments),this.storeTypes={restrictConfirmationModalStore:d.a.of({open:!1,onClose:void 0})},this.handleRestorePermissionAction=()=>{const{store:e}=this.props,t=e.getPermissionItems(),n=p.f(e),o=n?h.c(p.h(n)):[],r=h.g(t,o);this.stores.restrictConfirmationModalStore.setState({open:!0,onClose:this.handleCloseRestrictConfirmationModal,type:"restore",permissionChanges:r,onAccept:()=>{f.a({environment:this.environment,store:e})}})},this.handleCloseRestrictConfirmationModal=()=>{this.stores.restrictConfirmationModalStore.setState({open:!1,onClose:void 0})}}renderComponent(){const{store:e}=this.props,t={environment:this.environment,blocks:[e]};if(l.b([l.Ab,l.Gb(l.q)])(t)){const{device:e}=this.environment,n=l.b([l.Cb,l.Gb(l.m)])(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,Object.assign({},this.stores.restrictConfirmationModalStore.state)),r.a.createElement("div",{style:{backgroundColor:this.theme.sidebarSecondaryBackground,boxShadow:"0 -1px 0 ".concat(this.theme.regularDividerColor),marginTop:e.isMobile?28:1}},r.a.createElement(m.a,{disabled:!n,style:{padding:12},onClick:this.handleRestorePermissionAction},r.a.createElement(s.a,{isMultiline:!0,isSmall:!0},r.a.createElement(i.FormattedMessage,{id:"blockMenuRestrictedMessage.label",defaultMessage:"You don’t have permission to edit this block because it is restricted."})),n&&r.a.createElement(s.a,{style:{marginTop:6,fontWeight:c.a.fontWeight.semibold}},r.a.createElement(i.FormattedMessage,{id:"blockMenuRestrictedMessage.adminRestoreAction.label",defaultMessage:"Restore permissions"})))))}}}t.a=g},QcDD:function(e,t,n){"use strict";n.r(t);n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("922z"),i=n("LEzx"),s=n("Dnhi"),l=n("1yOa");class c extends i.a{getInitialState(){return{initialized:!1,renderPhase:"booting",pageVisitStore:new l.a,presenceStore:new s.a}}getCurrentBlockValueFn(){const{currentBlockStore:e}=this.state;return a.c.tryEach(...r.a.compact([e&&e.getRecordValue]))}}c.sidebarIsExpandedPreferenceKey="sidebarIsExpanded",t.default=new c},Qfcx:function(e,t,n){"use strict";n("3bBZ");var o=n("LEzx");class r extends o.a{getInitialState(){return{limitParents:new WeakMap}}setLimitParents(e,t){this.state.limitParents.set(e,t),this.emit()}removeLimitParents(e){this.state.limitParents.delete(e),this.emit()}}t.a=new r},QhBr:function(e,t,n){"use strict";var o=n("zttk");t.a=new o.a},QkuB:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o,r=n("q1tI"),a=n.n(r),i=n("qzno"),s=n("zEGb"),l=n("ZQ9l"),c=n("SR/M"),d=n("wldR"),u=n("gbGO");!function(e){e[e.Name=0]="Name",e[e.Type=1]="Type"}(o||(o={}));class p extends d.a{renderComponent(){const{name:e,type:t}=this.props.propertySchema,n=this.props.format===o.Name?e:i.n[t];return this.props.locked?a.a.createElement(l.a,Object.assign({title:n,icon:a.a.createElement(s.a,{type:t,size:this.environment.device.isMobile?16:14,theme:this.theme,style:{fill:this.theme.regularIconColor}})},this.props)):a.a.createElement(c.a,Object.assign({title:n,icon:a.a.createElement(s.a,{type:t,size:this.environment.device.isMobile?16:14,theme:this.theme,style:{fill:this.theme.regularIconColor}})},this.props))}}p.DisplayFormat=o,p.contextTypes={...u.c},t.b=p},QtqF:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("udrG"),i=n("mF3+"),s=n("BL9y"),l=n("wpmu"),c=n("wldR"),d=n("VVh3"),u=n("hi+p"),p=n("Ugx7"),h=n("/YYm"),m=n("hbKx"),f=n("LEzx");class g extends f.a{getInitialState(){return{open:!1,focused:!1}}}var b=g,v=n("n8tN"),y=n("IdSf"),S=n("Oy36"),w=n("AOw3"),k=n("Na01"),C=n("LeVO"),M=n("OxuQ"),E=n("QcDD"),_=n("Sb6f"),T=n("J9+s"),x=n("/buO");class I extends c.a{constructor(){super(...arguments),this.handleClick=()=>{const{onNavigate:e,store:t}=this.props;e&&e(t)}}renderComponent(){const{store:e,collectionViewStore:t}=this.props,n=Object(h.a)({store:e,fullyQualified:!1,collectionViewId:t.id}),o=t.getValue();if(o)return r.a.createElement(y.a,{href:n,style:{width:"100%"},onClick:this.handleClick},r.a.createElement(k.a,{icon:this.renderIcon(),style:this.getSidebarItemStyle(),isMobile:this.props.isMobile},r.a.createElement(x.a,{collectionViewName:o.name,collectionViewType:o.type})))}renderIcon(){return r.a.createElement("div",{style:{...this.getInitialIconStyle()}},"•")}getInitialIconStyle(){return{fontSize:12,fontWeight:500,color:this.theme.mediumTextColor}}getSidebarItemStyle(){const{device:e}=this.environment;return{...this.isCurrentPage()&&{background:this.theme.buttonHoveredBackground,color:this.theme.regularTextColor,fontWeight:_.a.fontWeight.semibold,...e.isMobile&&{boxShadow:"\n\t\t\t\t\t\t0 1px 0 ".concat(this.theme.buttonHoveredBackground,"\n\t\t\t\t\t")}},...this.props.style}}isCurrentPage(){const{store:e,collectionViewStore:t}=this.props,{currentBlockStore:n,currentCollectionViewStore:o}=E.default.state;return n&&e.id===n.id&&o&&o.id===t.id}}var P=Object(T.injectIntl)(I),O=n("EZe4");class B extends c.a{constructor(){super(...arguments),this.renderCollectionView=e=>{const{store:t}=this.props;return r.a.createElement(P,{key:e.id,store:t,collectionViewStore:e,style:this.props.itemStyle,isMobile:this.props.isMobile,onNavigate:this.props.onNavigate})},this.handleContextMenu=e=>{e.preventDefault(),Object(O.d)({event:e,context:O.a.EditorContextMenu,callback:()=>{}})}}renderComponent(){const{store:e}=this.props,t=e.getCollectionViewStores();return r.a.createElement("div",{onContextMenu:this.handleContextMenu},t.map(this.renderCollectionView))}}var L=B,R=n("N34Z"),D=n("MBf9"),A=n("y6Dp"),j=n("wlCD"),F=n("6rsX"),V=n("nM47"),N=n("BJyN"),U=n("i05A"),z=n("MeYt"),X=n("57cz"),Y=n("0zNc"),H=n("Catn"),q=n("dlZW"),W=n("H4VD"),G=n("40tV"),Z=n("ov3o"),K=n("jZoB");class J extends v.a{constructor(){super(...arguments),this.showAsLoadingSpinner=!1,this.registries=[X.a],this.storeTypes={outlinerItemStore:b},this.toggleOpen=e=>{this.stores.outlinerItemStore.setState({...this.stores.outlinerItemStore.state,open:e}),this.shouldPersistToggleState()&&H.a.set({userId:this.environment.currentUser.id,key:this.getLocalStoreKey(),value:e})},this.isCurrentPage=this.createComputedStore(()=>{const{store:e}=this.props,{currentBlockStore:t}=E.default.state;return t&&e.id===t.id}),this.handleLinkClick=()=>{const{store:e}=this.props;A.H(this.environment,{type:this.props.isTopLevelItem?"top_level":"nested"}),this.props.onNavigate&&this.props.onNavigate(e)},this.handleMouseMove=e=>{Y.a.state.isDragging||this.stores.outlinerItemStore.setState({...this.stores.outlinerItemStore.state,focused:!0})},this.handleMouseLeave=e=>{this.stores.outlinerItemStore.setState({...this.stores.outlinerItemStore.state,focused:!1})},this.handleDrop=async e=>{const{droppedDirection:t,droppedStores:n,duplicate:o}=e,{store:r,type:a,isTopLevelItem:i,parentStore:s}=this.props;await p.b({type:a,droppedStores:n,droppedDirection:t})&&s&&D.createAndCommit(this.environment,e=>{p.e({environment:this.environment,type:a,targetParentStore:s,targetStore:r,isTopLevelItem:i,droppedDirection:t,droppedStores:n,duplicate:o,transaction:e})})},this.handleShowMenuButtonClick=e=>{const{store:t}=this.props;F.k({environment:this.environment,store:t}),u.c({environment:this.environment,stores:[this.props.store],left:e.clientX,top:e.clientY,showInput:!1,actions:N.l,analyticsFrom:"sidebar_more_menu"})},this.handleToggleClick=()=>{const{outlinerItemStore:e}=this.stores,t=!e.state.open;A.rd(this.environment,{type:this.props.isTopLevelItem?"top_level":"nested",is_toggled:t}),this.toggleOpen(t)},this.handleInsertBefore=e=>{const{store:t,type:n}=this.props;return p.f({environment:this.environment,store:t,insertStores:e.insertStores,parentStore:e.parentStore,before:!0,transaction:e.transaction,type:n})},this.handleInsertAfter=e=>{const{store:t,type:n}=this.props;return p.f({environment:this.environment,store:t,insertStores:e.insertStores,parentStore:e.parentStore,before:!1,transaction:e.transaction,type:n})},this.handleRemove=e=>{const{store:t}=this.props,n=t.recordStoreParent();n&&K.e({remove:t,parent:n,transaction:e.transaction})},this.handleRecordIconChange=e=>{const{store:t}=this.props,n=t.getIconStore();n&&D.createAndCommit(this.environment,t=>{R.c({store:n,value:e,transaction:t})})},this.handleAddPageButtonClick=e=>{const{device:t}=this.environment;if(Object(V.j)(this.environment)){this.props.onCreatePage&&this.props.onCreatePage();const e=D.createAndCommit(this.environment,e=>p.a({environment:this.environment,store:this.props.store,transaction:e}));Z.a.setState({...Z.a.state,lastPageId:E.default.state.currentBlockStore?E.default.state.currentBlockStore.id:void 0}),t.isMobile?W.navigateToBlock({environment:this.environment,store:e,showMoveTo:!1,saveParent:!1,visitType:G.c.Link}):W.peekBlock({environment:this.environment,store:e,showMoveTo:!0,saveParent:!1}),this.props.store.isCollectionView()||this.toggleOpen(!0)}}}toggleStore(){return this.stores.outlinerItemStore}didMount(){if(super.didMount(),this.shouldPersistToggleState()){const e=H.a.get({userId:this.environment.currentUser.id,key:this.getLocalStoreKey()});this.stores.outlinerItemStore.setState({...this.stores.outlinerItemStore.state,open:e})}const{store:e}=this.props;this.showAsLoadingSpinner="copy_indicator"===e.getType()&&q.transactionQueue.isPendingTransactionForRecord(e.pointer)}renderPersisted(){const{store:e,isFirstItem:t,type:n,parentStore:o}=this.props,a=e.canRead()&&"copy_indicator"!==e.getType()&&"offline"!==n,i=this.canEdit(),s=a&&o?{onInsertAfter:e=>this.handleInsertAfter({...e,parentStore:o}),onInsertBefore:e=>this.handleInsertBefore({...e,parentStore:o})}:{};return r.a.createElement(w.a,Object.assign({analyticsName:"outliner_item",blockMenuActions:N.l,canDrag:a,canDropAbove:t,canDropBelow:a,canDropOnto:i,canInsertAfter:a,canInsertBefore:a,canSelect:a,canTriggerContextMenu:!0,onRemove:this.handleRemove,onSelectableDrop:this.handleDrop,shouldShowDropZone:!0,showBlockMenuInput:!1,store:e},s),this.renderItem(),this.shouldShowChildren()&&this.renderOutliner())}renderOutliner(){const{store:e,disabled:t}=this.props;return e.isCollectionView()?r.a.createElement(L,{store:e,itemStyle:this.getSubOutlinerStyle(),isMobile:this.props.isMobile,onNavigate:this.props.onNavigate}):r.a.createElement(oe,{isMobile:this.props.isMobile,type:this.props.type,isTopLevel:!1,spaceStore:this.props.spaceStore,spaceViewStore:this.props.spaceViewStore,parentStore:e.getContentStore(),itemStyle:this.getSubOutlinerStyle(),itemToggleStyle:this.props.toggleStyle,onCreatePage:this.props.onCreatePage,onNavigate:this.props.onNavigate,disabled:t})}renderItem(){const{store:e}=this.props;if("copy_indicator"===e.getType())return this.showAsLoadingSpinner?r.a.createElement(k.a,{style:this.getSidebarItemStyle(),childrenStyle:J.sidebarChildrenStyle,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,isMobile:this.props.isMobile},r.a.createElement(j.a,null)):void 0;{let e=r.a.createElement(k.a,{style:this.getSidebarItemStyle(),childrenStyle:J.sidebarChildrenStyle,left:this.renderLeftToggleButton(),icon:this.renderIcon(),right:this.renderRightIcons(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,isMobile:this.props.isMobile},this.isAlias()&&this.renderAliasIcon(),this.renderTitle());const t=this.getURL();return t&&(e=r.a.createElement(y.a,{style:{width:"100%"},href:t,onClick:this.handleLinkClick},e)),e}}renderRightIcons(){const{isMobile:e,store:t}=this.props;if(e||this.stores.outlinerItemStore.state.focused){const e=t.getType()&&this.canEdit();return r.a.createElement("div",{style:{display:"flex",paddingLeft:3}},this.renderMenuButton(),e&&this.renderAddPageButton())}}renderAliasIcon(){const{store:e}=this.props;return r.a.createElement(C.a,{renderTooltip:()=>e.isCollectionView()?"This is a linked database":"This is a link to the original page",render:e=>r.a.createElement("div",Object.assign({style:{marginRight:"0.125em"}},e),J.aliasIcon)})}renderLeftToggleButton(){return r.a.createElement(U.a,{isSidebar:!0,fill:!0,open:Boolean(this.stores.outlinerItemStore.state.open),color:this.theme.mediumIconColor,onClick:this.handleToggleClick})}renderAddPageButton(){const{isMobile:e}=this.props;return r.a.createElement(C.a,{renderTooltip:()=>r.a.createElement(T.FormattedMessage,{defaultMessage:"Quickly add a page inside",id:"sidebarItem.addAPageInside.tooltip"}),placement:C.a.Placement.Bottom,render:t=>r.a.createElement(z.a,Object.assign({mobileFeedback:e,style:{...this.getButtonStyle(),marginLeft:e?0:4,...!e&&{border:"1px solid ".concat(this.theme.outlineButtonBorder)}},onClick:this.handleAddPageButtonClick},t),i.a.plus(this.getButtonIconStyle()))})}renderMenuButton(){const{isMobile:e}=this.props;return r.a.createElement(C.a,{renderTooltip:()=>"bookmarks"===this.props.type?r.a.createElement(T.FormattedMessage,{defaultMessage:"Remove, rename, and more…",id:"sidebarItem.favoritedPageMenuButton.tooltip"}):r.a.createElement(T.FormattedMessage,{defaultMessage:"Delete, duplicate, and more…",id:"sidebarItem.pageMenuButton.tooltip"}),placement:C.a.Placement.Bottom,render:t=>r.a.createElement(z.a,Object.assign({mobileFeedback:e,style:this.getButtonStyle(),onClick:this.handleShowMenuButtonClick},t),i.a.dots({...this.getButtonIconStyle(),width:e?18:14}))})}renderIcon(){const{store:e}=this.props,t=e.getIcon(),n=!this.props.isMobile&&this.canEdit()&&!e.isLocked();return r.a.createElement(C.a,{renderTooltip:()=>r.a.createElement(T.FormattedMessage,{defaultMessage:"Change icon",id:"sidebarItem.changeIconButton.tooltip"}),placement:C.a.Placement.Bottom,render:o=>n?r.a.createElement(S.a,Object.assign({bucket:"secure",disabled:!1,icon:t,store:e,title:void 0,isEmptyPage:e.isEmptyPage(),size:this.props.isMobile?24:20,onChange:this.handleRecordIconChange,pageIconStyle:{fill:this.theme.mediumIconColor}},o)):r.a.createElement(S.a,{disabled:!0,icon:t,title:void 0,isEmptyPage:e.isEmptyPage(),size:this.props.isMobile?24:20,pageIconStyle:{fill:this.theme.mediumIconColor}})})}renderTitle(){const{store:e}=this.props;return r.a.createElement(M.a,{store:e})}shouldPersistToggleState(){return this.props.isTopLevelItem}shouldShowChildren(){return this.stores.outlinerItemStore.state.open}getURL(){const{store:e}=this.props;if(e.isNavigableBlock())return Object(h.a)({store:e,fullyQualified:!1});{const t=m.c(e);if(t)return Object(h.a)({store:t,scrollToBlockId:e.id,fullyQualified:!1})}}getLocalStoreKey(){const{store:e}=this.props;return"Outliner-".concat(e.id)}isAlias(){const{store:e,parentStore:t,isTopLevelItem:n}=this.props;if(e.isCollectionView()){const t=e.getCollectionViewCollectionStore();if(t){const n=t.getValue();if(n&&n.parent_id!==e.id)return!0}}if(n)return!1;if(!t)return!1;const o=e.getValue();return!!o&&o.parent_id!==t.id}getPaddingLeftUnit(){return this.props.isMobile?22:14}getSidebarItemStyle(){const{device:e}=this.environment;return{...this.isCurrentPage.state&&{background:this.theme.buttonHoveredBackground,color:this.theme.regularTextColor,fontWeight:_.a.fontWeight.semibold,...e.isMobile&&{boxShadow:"\n\t\t\t\t\t\t0 1px 0 ".concat(this.theme.buttonHoveredBackground,"\n\t\t\t\t\t")}},...this.props.style}}getSubOutlinerStyle(){const e={...this.props.style},t=this.getSidebarItemStyle(),n="number"==typeof t.paddingLeft?t.paddingLeft:this.getInitialPaddingLeft();return e.paddingLeft=n+this.getPaddingLeftUnit(),e}getInitialPaddingLeft(){return this.props.isMobile?6:14}getButtonStyle(){const{isMobile:e}=this.props;return{display:"flex",alignItems:"center",justifyContent:"center",width:e?32:20,height:e?32:20,borderRadius:3}}getButtonIconStyle(){const{isMobile:e}=this.props;return{fill:e?this.theme.lightIconColor:this.theme.sidebarTextColor,width:e?18:12}}}J.aliasIcon=i.a.alias({width:"1em",height:"1em",marginRight:2}),J.sidebarChildrenStyle={display:"flex",alignItems:"center"};var Q=J,$=n("7M94"),ee=n("cBa6"),te=n("HRSx");class ne extends c.a{constructor(){super(...arguments),this.outlinerItemTree=this.createComputedStore(()=>{const{parentStore:e}=this.props,t=[];if(e){const n=l.a.createChildStore(e,{table:te.a,id:e.id});this.getOutlinerItemsInSubtree(n,n,t,new Set)}return t}),this.handleCreatePageClick=async()=>{const{spaceStore:e,spaceViewStore:t,type:n,onCreatePage:o}=this.props;await p.c({environment:this.environment,spaceStore:e,spaceViewStore:t,type:n,prepend:!1})&&o&&o()},this.handleEmptyDrop=async e=>{const{droppedDirection:t,droppedStores:n,duplicate:o}=e,{type:r,isTopLevel:a,parentStore:i}=this.props;if(i){await p.b({type:r,droppedStores:n,droppedDirection:t})&&D.createAndCommit(this.environment,e=>{p.e({environment:this.environment,type:r,targetParentStore:i,isTopLevelItem:a,droppedDirection:t,droppedStores:n,duplicate:o,transaction:e})})}}}renderComponent(){const{device:e}=this.environment,{parentStore:t,isTopLevel:n,childStores:o,disabled:a}=this.props;let i=[],c=!1;if(o)i=o.map((e,n)=>this.renderPageItem(e,!0,n,t)),c=!0;else if(t){const e=l.a.createChildStore(t,{table:te.a,id:t.id});i=this.outlinerItemTree.state,c=s.b(e)}const u=0===i.length,p=(u||this.props.isHeaderless||e.isMobile)&&this.props.showAddPageButton&&!a,h=u&&!p&&!n,m={offline:$.cb,bookmarks:$.ab,workspace:$.ib,shared:$.gb,private:$.eb}[this.props.type];return r.a.createElement(d.a,{style:this.props.style,className:m,loaded:c,showSpinnerTimeout:3e3,spinnerSize:"1em"},i,u&&n&&this.renderEmptyDroppable(),p&&this.renderAddPageButton(),h&&this.renderEmptyChildrenPlaceholder())}renderEmptyChildrenPlaceholder(){const{device:e}=this.environment;return r.a.createElement(k.a,{style:this.props.itemStyle,isMobile:this.props.isMobile},r.a.createElement("div",{style:{color:this.theme.lightTextColor,paddingLeft:12,...e.isMobile&&{display:"flex",alignItems:"center",height:32}}},r.a.createElement(T.FormattedMessage,{defaultMessage:"No pages inside",id:"outliner.NoPagesInside.placeholder"})))}renderAddPageButton(){return r.a.createElement(z.a,{mobileFeedback:this.props.isMobile,onClick:this.handleCreatePageClick},r.a.createElement(k.a,{style:{color:this.theme.mediumTextColor},left:this.getPlusIcon(),isMobile:this.props.isMobile,disableMobileBorder:!0},this.props.addPageTitle))}renderPageItem(e,t,n,o){return r.a.createElement(Q,{isMobile:this.props.isMobile,type:this.props.type,spaceStore:this.props.spaceStore,spaceViewStore:this.props.spaceViewStore,key:e.id,store:e,style:this.props.itemStyle,toggleStyle:this.props.itemToggleStyle,isFirstItem:0===n,isTopLevelItem:t,parentStore:o,onNavigate:this.props.onNavigate,onCreatePage:this.props.onCreatePage,disabled:this.props.disabled})}renderEmptyDroppable(){const{currentBlockStore:e}=E.default.state;if(e){const t=l.a.createChildStore(this.props.spaceStore,e.pointer);return r.a.createElement(w.a,{store:t,canDropBelow:!0,onSelectableDrop:this.handleEmptyDrop,analyticsName:"outliner_item",shouldShowDropZone:!0})}}getPlusIcon(){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},i.a.plus({fill:this.theme.mediumIconColor,width:16,height:16}))}getOutlinerItemsInSubtree(e,t,n,o){let r=!0;const a=e.getType();if(!o.has(e.id)&&(o.add(e.id),a&&ne.shouldSkipItemTypes[a]?r=!1:a&&e!==t&&ne.shouldShowItemTypes[a]&&(r=!1,n.push(this.renderPageItem(e,!1,n.length,e.recordStoreParent()))),r)){const r=e.getContentStores();for(const e of r){const r=e.getValue();if(r&&r.properties){const t=r.properties.title,o=ee.W(t);if(o)for(const a of o){const t=l.a.createChildStore(e,{table:te.a,id:a});t.getParentId()===r.id&&n.push(this.renderPageItem(t,!1,n.length,t.recordStoreParent()))}}this.getOutlinerItemsInSubtree(e,t,n,o)}}}}ne.shouldShowItemTypes={[a.a.page]:!0,[a.a.collectionView]:!0,[a.a.collectionViewPage]:!0},ne.shouldSkipItemTypes={[a.a.factory]:!0};var oe=t.a=ne},QuSn:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m}));n("3bBZ");var o=n("Mht8"),r=n("h2IJ"),a=n("VhAz"),i=n("zb5D");let s,l=!1,c=[];function d(e,t,n){if(!e.isNative&&!e.doNotTrackEnabled)try{!function(e){if(l)return;l=!0;const t=document.createElement("iframe");t.setAttribute("sandbox","allow-scripts allow-same-origin"),t.setAttribute("style","position: absolute; opacity: 0; width: 1px; height: 1px; top: 0; left: 0; border: none; display: block; z-index: -1;"),t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex","-1"),t.setAttribute("referrerpolicy","no-referrer"),t.setAttribute("src",e.aif.url),document.body.appendChild(t),t.addEventListener("load",()=>{s=t;for(const e of c)u(t,e);c=[]})}(t),s?u(s,n):c.push(n)}catch(r){o.log({level:"error",from:"adAnalyticsHelpers",type:"analyticsTrack",error:Object(i.a)(r)})}}function u(e,t){e.contentWindow&&e.contentWindow.postMessage(t,"https://aif.notion.so")}function p(e){if("facebook"===e.type){const t="fb.1.".concat(Date.now(),".").concat(e.id);r.a.set("adClick",{type:"facebook",id:t})}else"google"===e.type?r.a.set("adClick",{type:"google",id:e.id}):Object(a.e)(e)}function h(){return r.a.get("adClick")}function m(){r.a.remove("adClick")}},"R+Q+":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("gbGO"),s=n("d9nj");class l extends a.a{renderComponent(){const{device:e}=this.environment;return r.a.createElement("div",{style:{...this.environment.device.isMobile?this.getMobileStyle():this.getDesktopStyle(),...this.props.style}},this.props.tabs.map((t,n,o)=>{const a=n===this.props.selectedIndex;return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement("div",{key:n,style:{...a?this.getSelectedTabStyle():this.getTabStyle()}},r.a.createElement(s.a,{style:this.props.tabStyle,onClick:()=>this.props.onChange(n),disabled:this.props.readOnly,mobileFeedback:e.isMobile},t),a&&r.a.createElement("div",{style:this.getBorderStyle()})),this.props.separatorIndexes&&this.props.separatorIndexes.includes(n)&&r.a.createElement("div",{key:"".concat(n,"-separator"),style:this.getSeparatorStyle(),className:"notranslate"},"|"))}),r.a.createElement("div",{style:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end",color:this.theme.mediumTextColor}},this.props.right))}getDesktopStyle(){return{display:"flex",fontSize:14,width:"100%",paddingLeft:8,paddingRight:8,boxShadow:"0 1px 0 ".concat(this.theme.regularDividerColor),position:"relative",zIndex:1}}getSeparatorStyle(){return{display:"inline-flex",alignItems:"center",margin:"0 4px",paddingBottom:4,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:this.theme.regularDividerColor}}getMobileStyle(){const{WindowSizeStore:e}=this.environment;return{display:"flex",fontSize:16,width:"100%",paddingTop:2,paddingLeft:this.context.menuType!==i.a.Popup?e.getSafePaddingLeftCSS(16):16,paddingRight:this.context.menuType!==i.a.Popup?e.getSafePaddingRightCSS(16):16,boxShadow:"0 1px 0 ".concat(this.theme.regularDividerColor),position:"relative",zIndex:2,height:44,background:this.theme.popoverBackground}}getTabStyle(){return{paddingTop:6,paddingBottom:6,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:this.theme.mediumTextColor}}getSelectedTabStyle(){return{...this.getTabStyle(),position:"relative",color:this.theme.regularTextColor}}getBorderStyle(){return{borderBottom:"2px solid ".concat(this.theme.regularTextColor),position:"absolute",bottom:-1,left:8,right:8}}}l.contextTypes={...i.c},t.a=l},R14H:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("lEhh"),s=n("LeVO"),l=n("N34Z"),c=n("RJuv"),d=n("p0Ff");function u(e){const t=Object(c.c)({user_id:e.userId,navigable_block_id:e.navigableBlockId});l.b({environment:e.environment,table:c.a,value:{id:t,user_id:e.userId,navigable_block_id:e.navigableBlockId,following:e.value,created_time:Date.now()},inMemoryRecordCache:d.default,transaction:e.transaction})}var p=n("MBf9"),h=n("y6Dp"),m=n("QcDD"),f=n("MeYt"),g=n("5Nka"),b=n("aEEb"),v=n("Pqcg"),y=n("J9+s");class S extends a.a{constructor(){super(...arguments),this.handleToggleFollowing=()=>{const e=this.props.store.isFollowing(),{currentUserRootStore:t}=m.default.state;if(t){const n=t.id,o=this.props.store.id,r=p.create(this.environment);e?(u({environment:this.environment,value:!1,navigableBlockId:o,userId:n,transaction:r}),h.af(this.environment,{from:"page_updates"})):(u({environment:this.environment,value:!0,navigableBlockId:o,userId:n,transaction:r}),h.Qb(this.environment,{from:"page_updates"})),p.commit({environment:this.environment,transaction:r,canUndo:!1})}}}renderComponent(){const{device:e}=this.environment;return r.a.createElement(s.a,{placement:s.a.Placement.Left,render:t=>r.a.createElement(f.a,Object.assign({onClick:this.handleToggleFollowing,style:this.getStyle(),mobileFeedback:e.isMobile},t),r.a.createElement(b.a,{isMobile:!1,style:{marginRight:"auto"}},r.a.createElement(y.FormattedMessage,{defaultMessage:"Follow this page",id:"followPageButton.mobileFollowThisPage.button"})),r.a.createElement(i.a,{on:this.props.store.isFollowing(),onClick:this.handleToggleFollowing,isAndroid:e.isAndroid})),renderTooltip:()=>r.a.createElement(v.a,{imageURL:g.a.images.tooltips.pageUpdates.followPng,imageHeight:100,caption:r.a.createElement(o.Fragment,null,r.a.createElement(y.FormattedMessage,{defaultMessage:"You'll receive updates in your sidebar and digests via email.",id:"followPageButton.mobileImageThumbnailCaption"}))})})}getStyle(){const{device:e,WindowSizeStore:t}=this.environment;return{display:"flex",alignItems:"center",height:42,...e.isMobile&&{background:this.theme.popoverBackground},paddingLeft:e.isMobile?t.getSafePaddingLeftCSS(16):16,paddingRight:e.isMobile?t.getSafePaddingRightCSS(16):16,boxShadow:"0 1px 0 ".concat(this.theme.regularDividerColor),marginBottom:e.isMobile?0:1,flexShrink:0,position:"relative",zIndex:1}}}t.a=S},R3bO:function(e,t,n){"use strict";n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return w})),n.d(t,"a",(function(){return k})),n.d(t,"j",(function(){return C})),n.d(t,"e",(function(){return M})),n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return T}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("9YMM"),i=n("6rsX"),s=n("sjR4"),l=n("VhAz"),c=n("Catn"),d=n("w5u6"),u=n("D2XV"),p=n("N34Z"),h=n("mKX5"),m=n("RvCr"),f=n("5w/s"),g=n("MBf9"),b=n("vJXr");function v(e){const{collectionViewStore:t,timelineState:n,environment:o}=e,i=o.currentUser.id,s=Object(a.o)(t.id),l=Object(a.n)(t,o),d=r.a.debounce(()=>{if(n.destroyed)return;const e={zoomLevel:n.zoomLevel.get(),centerTimestamp:Object(a.l)(n)};c.a.set({userId:i,key:s,value:e})},1e3),u=r.a.debounce(()=>{if(n.destroyed||!b.a.state.online||!o.currentUser.isLoggedIn()||!t.canEdit())return;const e={zoomLevel:n.zoomLevel.get(),centerTimestamp:Object(a.l)(n)},i=t.getFormat().timeline_preference;r.a.isEqual(i,e)||Object(g.createAndCommit)(o,n=>{Object(f.h)({stores:[t],update:{timeline_preference:e},transaction:n})})},5e3);n.savePreference=()=>{d(),u()},y({timelineState:n,environment:o,...l})}function y(e){const{timelineState:t,zoomLevel:n,centerTimestamp:o,environment:r}=e,{savePreference:i}=t,s=r.WindowSizeStore.state.width+2*a.A,l=Object(a.B)(n,s),c=o-l/2,u=o+l/2;t.zoomLevel.set(n),t.currentRange.set({startTimestamp:c,endTimestamp:u}),d.default.afterNextFlush(()=>{S({timelineState:t,centerTimestamp:o}),i&&i()})}function S(e){const{timelineState:t,centerTimestamp:n}=e,{horizontalScroller:o,outerSizeObserver:r}=t;if(!o)return;const i=t.zoomLevel.get(),{startTimestamp:s,endTimestamp:l}=t.currentRange.get(),c=r.width.get();if(c===Object(a.G)(i,l-s))return;const d=Object(a.G)(i,n-s)-c/2;o.scrollLeft=d,t.scrollLeft.set(d)}function w(e){const{store:t,query:n,date:o,schema:r,transaction:i}=e,{timeline_by:s}=n;if(s)return Object(p.d)({store:t.getPropertiesStore(),data:Object(a.w)({store:t,dateValue:o,query:n,schema:r}),transaction:i}),t}function k(e){const{environment:t,timelineState:n,collectionStore:o,collectionViewLocalStore:r,store:i,query:s,resultStores:l,transaction:c}=e,d=n.zoomLevel.get(),f=Object(a.l)(n),{snapUnit:g,getDateRangePlaceholderDuration:b}=a.L[d],{timeline_by:v}=s;if(!v)return;const y=Object(h.a)(f),S=Object(a.F)(Object(h.a)(f),g),w=Object(a.F)(b(y),g),k=Object(a.m)({startValue:Object(u.nb)(u.m),snapUnit:g,desiredStart:S,desiredEnd:w});return Object(p.d)({store:i.getPropertiesStore(),data:Object(a.w)({store:i,dateValue:k,query:s,schema:o.getSchema()}),transaction:c}),Object(m.i)({environment:t,parentStore:o,insertStores:[i],collectionViewLocalStore:r,group:void 0,results:l,transaction:c}),i}function C(e){const{type:t,timelineState:n,store:o,startX:l,query:c,schema:d,intl:u,environment:p}=e,{horizontalScroller:h}=n,{startTimestamp:m}=n.currentRange.get();if(!h)return;Object(i.k)({environment:p,store:o});const f=h.scrollLeft,{stores:g}=s.default.state,b=r.a.compact(g.map(e=>{const t=Object(a.u)({store:e,query:c,schema:d,intl:u});if(t)return{startValue:t,store:e}}));n.dragState.set({type:t,startStore:o,stores:b.map(({store:e})=>e),startValues:b.map(({startValue:e})=>e),temporaryValues:b.map(({startValue:e})=>e),startX:l,startStartTimestamp:m,startScrollLeft:f})}function M(e){const{timelineState:t,currentX:n}=e,{horizontalScroller:o}=t,i=t.zoomLevel.get(),s=t.dragState.get(),{startTimestamp:c}=t.currentRange.get();if(!s||!o)return;const{type:d,startStartTimestamp:p,startValues:h,startScrollLeft:m,startX:f,startStore:g,stores:b}=s,v=a.L[i],{snapUnit:y}=v,S=o.scrollLeft-m+(n-f)+Object(a.G)(i,c-p),w=Object(a.B)(i,S),k=h[b.indexOf(g)];let C;if(d===a.a.LeftResizer){const{start:e}=Object(a.e)(k,y),t=e.clone().add(w);C=h.map(e=>{const n=Object(a.m)({startValue:e,snapUnit:y,desiredStart:t});return Object(u.h)(n)})}else if(d===a.a.RightResizer){const{end:e}=Object(a.e)(k,y),t=e.clone().add(w);C=h.map(e=>{const n=Object(a.m)({startValue:e,snapUnit:y,desiredEnd:t});return Object(u.g)(n)})}else d===a.a.ItemDrag?C=h.map(e=>{const{start:t,end:n}=Object(a.e)(e,y),o=t.clone().add(w),r=o.clone().add(n.valueOf()-t.valueOf());return Object(a.m)({startValue:e,snapUnit:y,desiredStart:o,desiredEnd:r})}):Object(l.e)(d);r.a.isEqual(s.temporaryValues,C)||t.dragState.set({...s,temporaryValues:C})}function E(e){const{timelineState:t,query:n,schema:o,transaction:r}=e,i=t.dragState.get(),{timeline_by:s}=n;if(!i||!s)return;const{temporaryValues:l,stores:c}=i;l.forEach((e,t)=>{const i=c[t];Object(p.d)({store:i.getPropertiesStore(),data:Object(a.w)({store:i,dateValue:e,query:n,schema:o}),transaction:r})}),t.dragState.set(void 0)}function _(e){const{timelineState:t,environment:n}=e;t.dragState.get()&&(t.dragState.set(void 0),Object(i.e)(n))}function T(e){const{stores:t,collectionViewStore:n,transaction:o}=e,r=n.getType(),a=n.getQuery(),i=[];a&&("calendar"===r?a.calendar_by&&i.push(a.calendar_by):"timeline"===r&&(a.timeline_by&&i.push(a.timeline_by),a.timeline_by_end&&i.push(a.timeline_by_end)));for(const s of t)for(const e of i)Object(p.c)({store:s.getPropertyStore(e),value:void 0,transaction:o})}},RBMm:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return p}));var o=n("DNfA"),r=n("LEzx");const{Top:a,Bottom:i,Left:s,Right:l,Center:c}=o.b,d=o.b,u=o.a,p=e=>{switch(e){case a:return i;case i:return a;case s:return l;case l:return s;case c:return c}};class h extends r.a{getInitialState(){return{open:!1,placementFlipped:!1,offsetX:0,offsetY:0,originRect:{top:0,left:0,right:0,bottom:0,width:0,height:0}}}}t.c=h},RI9y:function(e,t,n){"use strict";n.r(t),n.d(t,"get",(function(){return l})),n.d(t,"set",(function(){return c})),n.d(t,"clear",(function(){return u})),n.d(t,"getRect",(function(){return p})),n.d(t,"getSelectionRect",(function(){return h})),n.d(t,"rangeFromPoint",(function(){return m})),n.d(t,"selectionIsBackwards",(function(){return b})),n.d(t,"startListeners",(function(){return S}));var o=n("LvDl"),r=n.n(o),a=n("hl64"),i=n("nFzZ"),s=n("w5u6");const l=function(){const e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0)},c=function(e,t){const n=document.createRange();n.setStart(e.startContainer,e.startOffset),n.setEnd(e.endContainer,e.endOffset);const o=window.getSelection();o&&(t.isAndroid?(o.collapse(e.startContainer,e.startOffset),o.extend(e.endContainer,e.endOffset)):(o.removeAllRanges(),o.addRange(n)))};let d;function u(e){if(e.device.isMobile){const t=window.getSelection();t&&(e.device.isAndroid?t.collapse(null,void 0):t.removeAllRanges())}else d&&(window.focus(),d.value="-",d.select())}"undefined"!=typeof document&&(d=document.createElement("textarea"),d.style.opacity=0,d.style.pointerEvents="none",d.style.position="fixed",d.style.left="0px",d.style.top="0px",document.body.appendChild(d));const p=function(e){if(e){if(e.collapsed&&e.getClientRects){const t=r.a.toPlainObject(e.getClientRects()[0]);if(!r.a.isEmpty(t))return t}else if(e.getBoundingClientRect){const t=r.a.toPlainObject(e.getBoundingClientRect());if(!r.a.isEmpty(t))return t}if(e.startContainer.nodeType===Node.ELEMENT_NODE){if(0===e.startOffset){const t=e.startContainer.getBoundingClientRect();return{top:t.top,bottom:t.bottom,left:t.left,right:t.left,width:0,height:t.height}}const t=e.startContainer.childNodes[e.startOffset-1];if(t&&t.nodeType===Node.ELEMENT_NODE){const e=t.getBoundingClientRect();return{top:e.top,bottom:e.bottom,left:e.right,right:e.right,width:0,height:e.height}}const n=e.startContainer.childNodes[e.startOffset];if(n&&n.nodeType===Node.ELEMENT_NODE){const e=n.getBoundingClientRect();return{top:e.top,bottom:e.bottom,left:e.left,right:e.left,width:0,height:e.height}}}}};function h(){const e=l();if(e)return p(e)}const m=function(e,t){if(document.caretRangeFromPoint)return document.caretRangeFromPoint(e,t);if(document.caretPositionFromPoint){const n=document.caretPositionFromPoint(e,t),o=document.createRange();return o.setStart(n.offsetNode,n.offset),o.setEnd(n.offsetNode,n.offset),o}throw new Error("Browser does not support method caretRangeFromPoint or caretPositionFromPoint")};let f,g=!1;const b=function(){return Boolean(g&&f)},v=function(e,t){if(e&&t&&!t.collapsed){if(g=!0,i.h(f))if(e.startContainer===t.startContainer)f=t.startOffset<e.startOffset;else{const n=Object(a.a)(t.startContainer,e.startContainer);f=-1===n}}else g=!1,f=void 0};let y;function S(){window.addEventListener("mousedown",()=>{s.default.afterNextFlush(()=>{y=l()})}),window.addEventListener("mouseup",()=>{s.default.afterNextFlush(()=>{const e=l();v(y,e)})}),window.addEventListener("keydown",()=>{const e=l();s.default.afterNextFlush(()=>{const t=l();v(e,t)})})}},RJuv:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var o=n("fIr1"),r=n("g90h");function a(e){const{user_id:t,navigable_block_id:n}=e;return Object(r.c)([t,n].join(""))}const i="follow",s={table:i,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,user_id:o.a.UUID,navigable_block_id:o.a.UUID,following:o.a.Boolean,created_time:o.a.Number,space_id:o.a.UUID}};t.b=s},RPv2:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o="text/_notion-table",r=function(e){return{minX:Math.min(e.start.x,e.end.x),maxX:Math.max(e.start.x,e.end.x),minY:Math.min(e.start.y,e.end.y),maxY:Math.max(e.start.y,e.end.y)}}},RQ1t:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{focus:{section:void 0,indexLocal:void 0,indexGlobal:void 0,focusedKey:void 0}}}unsetFocus(){this.setState({...this.state,focus:{section:void 0,indexLocal:void 0,indexGlobal:void 0,focusedKey:void 0}})}}t.a=r},RbhI:function(e,t,n){"use strict";n.r(t),n.d(t,"applyReactDOMPolyfill",(function(){return r})),n.d(t,"monkeyPatchConsole",(function(){return a})),n.d(t,"setupErrorHandlers",(function(){return i})),n.d(t,"setupContentSecurityPolicyHandler",(function(){return s})),n.d(t,"setupOnBeforeUnload",(function(){return l}));n("3bBZ");var o=n("zb5D");async function r(){const{default:e}=await Promise.resolve().then(n.t.bind(null,"i8i4",7)),t=e.findDOMNode;e.findDOMNode=function(e){try{return t(e)}catch(n){return null}}}function a(e){const{config:t,dialogActions:n}=e,o=["TypeError: Cannot read property 'appId' of null","listener to be a function, instead got a value of `boolean` type","Warning: validateDOMNesting","No local database found","XHR Error: 0","getExtractedData timed out.","getIframeHTML timed out.","componentWillUpdate has been renamed","componentWillMount has been renamed","componentWillReceiveProps has been renamed"];const r=["Encountered two children with the same key"];function a(e){const a=console[e];console[e]=(e,...i)=>{(function(e){return o.some(t=>Boolean(e&&e.indexOf&&e.indexOf(t)>=0))})(e)||a.call(console,e,...i),"production"!==t.env&&function(e){return r.some(t=>Boolean(e&&e.indexOf&&e.indexOf(t)>=0))}(e)&&n.showErrorMessage("Dev error: ".concat(e.slice(0,300)))}}"local"===t.env&&(a("warn"),a("error"))}async function i(e){const{loggly:t,dialogActions:r}=e,[{defineMessages:a},{default:i}]=await Promise.all([Promise.resolve().then(n.bind(null,"J9+s")),Promise.resolve().then(n.bind(null,"vl8/"))]),s=a({reinstallIos:{defaultMessage:"Hello, we've noticed an issue with your iOS app. Please delete this app and re-install it from the App Store.",id:"bootupHelpers.iosErrorRequiresReinstall.errorMessage"}}),l=e=>{const n=e.reason?e.reason.message:e.message,a=e.reason?e.reason.status:e.status;"SyntaxError: Unexpected EOF"===n&&r.showFatalError({message:i.getIntl().formatMessage(s.reinstallIos)}),"HttpRequestError"===e.name?t.log({level:"info",from:"main",type:e.name,error:Object(o.a)(e)}):"QueueApiError"===e.name?t.log({level:"info",from:"main",type:e.name,error:Object(o.a)(e)}):"XHR Error: 0"===n||"Token was invalid or expired."===n||"No local database found."===n||"Script error."===n||(400===a?t.log({level:"warning",from:"main",type:"badRequest",error:Object(o.a)(e)}):"Request Timeout after 30000ms"===n?t.log({level:"warning",from:"main",type:n,error:Object(o.a)(e)}):t.log({level:"error",from:"main",type:"ClientError",error:Object(o.a)(e)}))};window.addEventListener("error",l),window.addEventListener("unhandledrejection",l)}function s(e){const{loggly:t}=e;document.addEventListener("securitypolicyviolation",e=>{const{blockedURI:n,violatedDirective:o,sourceFile:r}=e,a=e.disposition;t.log({level:"report"===a?"warning":"error",from:"main",type:"securitypolicyviolation",data:{miscDataToConvertToString:{blockedURI:n,violatedDirective:o,sourceFile:r}}})})}function l(e){const{TransactionQueue:t,device:n,AppUpdateStore:o,GlobalFileUploadStore:r}=e;window.onbeforeunload=function(){return!t.hasTasks()||n.isReactNative||n.isElectron||o.isMajorUpdate()?r.isUploading()?"The files you are currently uploading may not be saved. Are you sure you want to quit?":void 0:"Changes you made may not be saved. Are you sure you want to quit?"}}},"Rd/G":function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return q})),n.d(t,"c",(function(){return W})),n.d(t,"d",(function(){return G})),n.d(t,"f",(function(){return Z})),n.d(t,"h",(function(){return $})),n.d(t,"i",(function(){return ee})),n.d(t,"g",(function(){return te})),n.d(t,"b",(function(){return ne})),n.d(t,"j",(function(){return oe})),n.d(t,"k",(function(){return re}));var o=n("LvDl"),r=n.n(o),a=n("J9+s"),i=n("Agvv"),s=n("FUUC");const l=Object(a.defineMessages)({gettingStarted:{defaultMessage:"Getting started",id:"templateHelpers.personas.gettingStarted"},personal:{defaultMessage:"Personal",id:"templateHelpers.personas.personal"},designer:{defaultMessage:"Design",id:"templateHelpers.personas.design"},engineering:{defaultMessage:"Engineering",id:"templateHelpers.personas.engineering"},marketing:{defaultMessage:"Marketing",id:"templateHelpers.personas.marketing"},media:{defaultMessage:"Media",id:"templateHelpers.personas.media"},it:{defaultMessage:"IT",id:"templateHelpers.personas.it"},entrepreneur:{defaultMessage:"Entrepreneur",id:"templateHelpers.personas.entrepreneur"},freelancer:{defaultMessage:"Freelancer",id:"templateHelpers.personas.freelancer"},educator:{defaultMessage:"Educator",id:"templateHelpers.personas.educator"},student:{defaultMessage:"Student",id:"templateHelpers.personas.student"},other:{defaultMessage:"Other",id:"templateHelpers.personas.other"},hr:{defaultMessage:"Human resources",id:"templateHelpers.personas.humanResources"},truncated_hr:{defaultMessage:"HR",id:"templateHelpers.personas.truncated.humanResources",description:"A shorter version of 'Human resources', for displaying in places that require fewer characters. Can be the same as the 'Human resources' message if under 5 characters."},productManagement:{defaultMessage:"Product management",id:"templateHelpers.personas.productManagement"},productManagementV2:{defaultMessage:"Product",id:"templateHelpers.personas.productManagementV2"},support:{defaultMessage:"Support",id:"templateHelpers.personas.support"},education:{defaultMessage:"Education",id:"templateHelpers.personas.education"},sales:{defaultMessage:"Sales",id:"templateHelpers.personas.sales"},getStartedPage:{defaultMessage:"Getting started",id:"templateHelpers.templates.getStarted"},getStartedPageEvernote:{defaultMessage:"Getting started from Evernote",id:"templateHelpers.templates.getStartedOnEvernote"},getStartedPageMobile:{defaultMessage:"Getting started on mobile",id:"templateHelpers.templates.getStartedOnMobile"},readingList:{defaultMessage:"Reading List",id:"templateHelpers.templates.readingList"},taskList:{defaultMessage:"Task List",id:"templateHelpers.templates.taskList"},goals:{defaultMessage:"Goals",id:"templateHelpers.templates.goals"},journal:{defaultMessage:"Journal",id:"templateHelpers.templates.journal"},travelPlanner:{defaultMessage:"Travel Planner",id:"templateHelpers.templates.travelPlanner"},quickNote:{defaultMessage:"Quick Note",id:"templateHelpers.templates.quickNote"},blogPost:{defaultMessage:"Blog Post",id:"templateHelpers.templates.blogPost"},personalHome:{defaultMessage:"Personal Home",id:"templateHelpers.templates.personalHome"},weeklyAgenda:{defaultMessage:"Weekly Agenda",id:"templateHelpers.templates.weeklyAgenda"},roadmap:{defaultMessage:"Roadmap",id:"templateHelpers.templates.roadmap"},userResearch:{defaultMessage:"User Research Database",id:"templateHelpers.templates.userResearchDatabase"},designTasks:{defaultMessage:"Design Tasks",id:"templateHelpers.templates.designTasks"},designMeetingNotes:{defaultMessage:"Meeting Notes",id:"templateHelpers.templates.meetingNotes"},designSystem:{defaultMessage:"Design System",id:"templateHelpers.templates.designSystem"},engineeringToDo:{defaultMessage:"To-Do",id:"templateHelpers.templates.toDo"},engineeringWiki:{defaultMessage:"Engineering Wiki",id:"templateHelpers.templates.engineeringWiki"},engineeringDocs:{defaultMessage:"Docs",id:"templateHelpers.templates.docs"},engineeringMeetingNotes:{defaultMessage:"Meeting Notes",id:"templateHelpers.templates.meetingNotes"},brandAssets:{defaultMessage:"Brand Assets",id:"templateHelpers.templates.brandAssets"},marketingMeetingNotes:{defaultMessage:"Meeting Notes",id:"templateHelpers.templates.meetingNotes"},mediaList:{defaultMessage:"Media List",id:"templateHelpers.templates.mediaList"},contentCalendar:{defaultMessage:"Content Calendar",id:"templateHelpers.templates.contentCalendar"},moodBoard:{defaultMessage:"Mood Board",id:"templateHelpers.templates.moodBoard"},jobBoard:{defaultMessage:"Job Board",id:"templateHelpers.templates.jobBoard"},hrMeetingNotes:{defaultMessage:"Meeting Notes",id:"templateHelpers.templates.meetingNotes"},newHireOnboarding:{defaultMessage:"New Hire Onboarding",id:"templateHelpers.templates.newHireOnboarding"},applicantTracker:{defaultMessage:"Applicant Tracker",id:"templateHelpers.templates.applicantTracker"},companyHome:{defaultMessage:"Company Home",id:"templateHelpers.templates.companyHome"},pmDocs:{defaultMessage:"Docs",id:"templateHelpers.templates.docs"},pmMeetingNotes:{defaultMessage:"Meeting Notes",id:"templateHelpers.templates.meetingNotes"},productWiki:{defaultMessage:"Product Wiki",id:"templateHelpers.templates.productWiki"},salesMeetingNotes:{defaultMessage:"Meeting Notes",id:"templateHelpers.templates.meetingNotes"},salesCRM:{defaultMessage:"Sales CRM",id:"templateHelpers.templates.salesCRM",description:"CRM stands for customer relationship management software."},salesWiki:{defaultMessage:"Sales Wiki",id:"templateHelpers.templates.salesWiki"},competitiveAnalysis:{defaultMessage:"Competitive Analysis",id:"templateHelpers.templates.competitiveAnalysis"},salesAssets:{defaultMessage:"Sales Assets",id:"templateHelpers.templates.salesAssets"},teamDirectory:{defaultMessage:"Team Directory",id:"templateHelpers.templates.teamDirectory"},productFAQs:{defaultMessage:"Product FAQs",id:"templateHelpers.templates.productFAQs",description:"FAQ stands for frequently asked questions."},supportMeetingNotes:{defaultMessage:"Meeting Notes",id:"templateHelpers.templates.meetingNotes"},supportTaskList:{defaultMessage:"Task List",id:"templateHelpers.templates.taskList"},helpCenter:{defaultMessage:"Help Center",id:"templateHelpers.templates.helpCenter"},supportProcessDocs:{defaultMessage:"Process Docs",id:"templateHelpers.templates.processDocs"},classNotes:{defaultMessage:"Class Notes",id:"templateHelpers.templates.classNotes"},jobApplications:{defaultMessage:"Job Applications",id:"templateHelpers.templates.jobApplications"},gradeCalculator:{defaultMessage:"Grade Calculator",id:"templateHelpers.templates.gradeCalculator"},clubHomepage:{defaultMessage:"Club Homepage",id:"templateHelpers.templates.clubHomepage"},thesisPlanning:{defaultMessage:"Thesis Planning",id:"templateHelpers.templates.thesisPlanning"},cornellNotesSystem:{defaultMessage:"Cornell Notes System",id:"templateHelpers.templates.cornellNotesSystem"},personalCRM:{defaultMessage:"Personal CRM",id:"templateHelpers.templates.personalCRM",description:"CRM stands for customer relationship management software."},roommateSpace:{defaultMessage:"Roommate Space",id:"templateHelpers.templates.roommateSpace"},simpleBudget:{defaultMessage:"Simple Budget",id:"templateHelpers.templates.simpleBudget"},syllabus:{defaultMessage:"Syllabus",id:"templateHelpers.templates.syllabus"},classroomHome:{defaultMessage:"Classroom Home",id:"templateHelpers.templates.classroomHome"},lessonPlans:{defaultMessage:"Lesson Plans",id:"templateHelpers.templates.lessonPlans"},courseSchedule:{defaultMessage:"Course Schedule",id:"templateHelpers.templates.courseSchedule"},classDirectory:{defaultMessage:"Class Directory",id:"templateHelpers.templates.classDirectory"},simpleNotebook:{defaultMessage:"Simple Notebook",id:"templateHelpers.templates.simpleNotebook"},lifeWiki:{defaultMessage:"Life Wiki",id:"templateHelpers.templates.lifeWiki"},habitTracker:{defaultMessage:"Habit Tracker",id:"templateHelpers.templates.habitTracker"},resume:{defaultMessage:"Resume",id:"templateHelpers.templates.resume"},wiki:{defaultMessage:"Team wiki",id:"templateHelpers.templates.wiki"},notes:{defaultMessage:"Notes & docs",id:"templateHelpers.templates.notes"},projectManagement:{defaultMessage:"Project & tasks",id:"templateHelpers.templates.projectManagement"},suggested:{defaultMessage:"Suggested templates",id:"templateHelpers.personas.suggestedTemplates"},teamHome:{defaultMessage:"Team Home",id:"templateHelpers.useCase.teamHome"},teamTasks:{defaultMessage:"Team Tasks",id:"templateHelpers.useCase.teamTasks"},teamMeetingNotes:{defaultMessage:"Meeting Notes",id:"templateHelpers.useCase.teamMeetingNotes"},teamDocs:{defaultMessage:"Docs",id:"templateHelpers.useCase.teamDocs"},personalNotebook:{defaultMessage:"Notebook",id:"templateHelpers.useCase.personalNotebook"},personalBookmarks:{defaultMessage:"Bookmarks",id:"templateHelpers.useCase.bookmarks"},personalTodos:{defaultMessage:"Todos",id:"templateHelpers.useCase.todos"}}),c={sources:{"en-US":{previewRootId:"e950a58c-0d6f-42c3-8225-9e7adc5d4182",rootId:"e950a58c-0d6f-42c3-8225-9e7adc5d4182"}},nameMessage:l.getStartedPage},d={desktopPersonal:{sources:{"en-US":{previewRootId:"89ba9061-3275-4d76-966f-11691fdfd72f",rootId:"89ba9061-3275-4d76-966f-11691fdfd72f"},"ko-KR":{previewRootId:"0eb824c6-f768-47bc-9204-d94dbb912c6e",rootId:"0eb824c6-f768-47bc-9204-d94dbb912c6e"}},nameMessage:l.getStartedPage},desktopTeamCreate:{sources:{"en-US":{previewRootId:"30fa18a6-609e-4f5b-af3d-31906c46fe23",rootId:"30fa18a6-609e-4f5b-af3d-31906c46fe23"},"ko-KR":{previewRootId:"3afd60d5-3ce7-431a-b812-2c836b7596a3",rootId:"3afd60d5-3ce7-431a-b812-2c836b7596a3"}},nameMessage:l.getStartedPage},desktopTeamCreateNew:{sources:{"en-US":{previewRootId:"91376dcc-32f8-486a-9e56-a8919e9204ae",rootId:"91376dcc-32f8-486a-9e56-a8919e9204ae"},"ko-KR":{previewRootId:"4e00b710-e2fb-4762-bf70-add181ce0f50",rootId:"4e00b710-e2fb-4762-bf70-add181ce0f50"}},nameMessage:l.getStartedPage},desktopTeamJoin:{sources:{"en-US":{previewRootId:"bd0b93b9-a0e9-4582-a164-98acdc7a5b45",rootId:"bd0b93b9-a0e9-4582-a164-98acdc7a5b45"},"ko-KR":{previewRootId:"ecdfe65a-28ee-46d2-a82b-99573e3dd63d",rootId:"ecdfe65a-28ee-46d2-a82b-99573e3dd63d"}},nameMessage:l.getStartedPage},mobile:{sources:{"en-US":{previewRootId:"27fa9add-6ec7-433a-88c9-58279f5055c3",rootId:"27fa9add-6ec7-433a-88c9-58279f5055c3"},"ko-KR":{previewRootId:"24c31e38-d546-423f-b3cb-a0533e711d02",rootId:"24c31e38-d546-423f-b3cb-a0533e711d02"}},nameMessage:l.getStartedPageMobile},evernote:{sources:{"en-US":{previewRootId:"2e568628-70b1-4f35-934e-81ea4263d0e8",rootId:"2e568628-70b1-4f35-934e-81ea4263d0e8"},"ko-KR":{previewRootId:"3d8c8d33-f904-41f7-a3ff-b6272c633079",rootId:"3d8c8d33-f904-41f7-a3ff-b6272c633079"}},nameMessage:l.getStartedPageEvernote},web:c};function u(e,t){const{nameMessage:n,...o}=e,{rootId:r,previewRootId:a}=function(e,t){const n=Object(i.c)(t);return e.sources[n]||e.sources[i.a]}(e,t);return{...o,rootId:r,previewRootId:a,name:t.formatMessage(n)}}function p(e,t){return u(d[e],t)}const h=Object.values(d),m={nameMessage:l.gettingStarted,sectionName:"none",icon:"😀",items:h},f={readingList:{emoji:"📚",nameMessage:l.readingList,sources:{"en-US":{previewRootId:"ce14875c-82f2-4c31-b54c-87ef1c2f547a",rootId:"b7572331-51ab-4ed5-a931-5a7d34b08bf0"}}},taskList:{emoji:"✔️",nameMessage:l.taskList,sources:{"en-US":{previewRootId:"7754cf02-251f-4bc9-ab2f-9cc897765336",rootId:"ba43b46e-4ad3-47f7-95f0-58a3ba01476f"},"ko-KR":{previewRootId:"86fd2f05-b95a-48d9-a2fd-9fd8aab2f74f",rootId:"aa94ac95-f6b0-47f1-8211-37087c9dcba6"}}},goals:{emoji:"🏔️",nameMessage:l.goals,sources:{"en-US":{previewRootId:"3acc4000-a635-4e83-b4a4-d1fb492d2104",rootId:"be259732-30cb-4924-b294-8d4456be75c8"}}},journal:{emoji:"🖊️",nameMessage:l.journal,sources:{"en-US":{previewRootId:"e36bcdfe-6a50-4b59-b890-e74822283837",rootId:"2dddc8c5-a711-4aa2-b5b3-ff952a49bcfa"}}},travelPlanner:{emoji:"✈️",nameMessage:l.travelPlanner,sources:{"en-US":{previewRootId:"d2420c08-df59-46ef-9b02-9631ea8f073d",rootId:"1beddf02-2e99-4bcd-9d26-d2c54ef57d6a"}}},quickNote:{emoji:"📌",nameMessage:l.quickNote,sources:{"en-US":{previewRootId:"7e89f436-7aac-4f66-b0a6-6e65ec868d2a",rootId:"7e89f436-7aac-4f66-b0a6-6e65ec868d2a"},"ko-KR":{previewRootId:"1f0ca61a-b42e-4c73-b6cb-227dbd5e1dbd",rootId:"1f0ca61a-b42e-4c73-b6cb-227dbd5e1dbd"}}},blogPost:{emoji:"✏️",nameMessage:l.blogPost,sources:{"en-US":{previewRootId:"20f83114-dc15-488e-b568-4c8c29821a4b",rootId:"20f83114-dc15-488e-b568-4c8c29821a4b"}}},personalHome:{emoji:"🏠",nameMessage:l.personalHome,sources:{"en-US":{previewRootId:"360acc93-778f-4aa4-b9d2-c633f53eda1b",rootId:"88c9c2b0-d732-4342-8963-0580a4725571"}}},weeklyAgenda:{emoji:"📕",nameMessage:l.weeklyAgenda,sources:{"en-US":{previewRootId:"1b2074af-f551-4497-9b64-a4e4a2cd364b",rootId:"870e9815-7ae0-48f9-94fa-b7b81cddcaf0"}}},roadmap:{emoji:"🚘",nameMessage:l.roadmap,sources:{"en-US":{previewRootId:"fa9b0936-33c0-479f-886f-db857f57f9b0",rootId:"60fef2a5-653c-4b49-aa46-442a649fc745"},"ko-KR":{previewRootId:"24de864a-4f7f-4b31-aeab-20c554dfff96",rootId:"b2084ebd-815d-4ac9-8672-6e35f17e4d6a"}}},userResearch:{emoji:"🔬",nameMessage:l.userResearch,sources:{"en-US":{previewRootId:"f4706013-9a62-4ce7-8fe2-5d601efbf23c",rootId:"ab02c5e7-f589-4948-b820-6a2fed357258"},"ko-KR":{previewRootId:"0a4b6f24-f531-47ae-9adf-bc613ddd400a",rootId:"32173baf-ec86-4489-8467-d6fa216850e9"}}},designTasks:{emoji:"🎒",nameMessage:l.designTasks,sources:{"en-US":{previewRootId:"efe5f941-ce5e-415d-a072-615ee12b4a77",rootId:"d345d660-6bcd-4f8b-925e-633be61b70ca"}}},designMeetingNotes:{emoji:"✏️",nameMessage:l.designMeetingNotes,sources:{"en-US":{previewRootId:"8411e17f-6bb5-42b6-98bd-f6398e41bc20",rootId:"45d8eefa-f132-498c-9577-ae3cbb8c4100"}}},designSystem:{emoji:"🖋️",nameMessage:l.designSystem,sources:{"en-US":{previewRootId:"1b4108aa-b922-44cb-ad83-878dcced8d48",rootId:"4e6134a4-f094-4260-b7e5-0a2c2c1122d7"},"ko-KR":{previewRootId:"1977c264-e08e-4ed8-a409-8f30b9a45638",rootId:"eb1a7fd6-90b5-4253-900f-051a6645ea1d"}}},engineeringToDo:{emoji:"🎒",nameMessage:l.engineeringToDo,sources:{"en-US":{previewRootId:"049c3ee8-11c3-4486-8b78-d043e152241b",rootId:"4fa28a2c-36f3-4c3d-bd6c-091933f5ef68"}}},engineeringWiki:{emoji:"📓",nameMessage:l.engineeringWiki,sources:{"en-US":{previewRootId:"095df0a7-5d26-4d8e-b68e-7b3fd746443e",rootId:"deaf16ee-fa75-454b-a0fc-87893bb3cff6"},"ko-KR":{previewRootId:"337e8537-4ff7-4145-a3e4-1b754491d31b",rootId:"337e8537-4ff7-4145-a3e4-1b754491d31b"}}},engineeringDocs:{emoji:"📎",nameMessage:l.engineeringDocs,sources:{"en-US":{previewRootId:"b610e778-a47d-40fa-91ec-f7939042e66c",rootId:"41f0a2b5-63d2-48c4-9dba-561d4ade418c"}}},engineeringMeetingNotes:{emoji:"✏️",nameMessage:l.engineeringMeetingNotes,sources:{"en-US":{previewRootId:"392fd338-8a95-44c3-a5a1-4931c5f514b2",rootId:"98d6f6ab-9fcd-4021-a731-66101eacf132"}}},brandAssets:{emoji:"🎨",nameMessage:l.brandAssets,sources:{"en-US":{previewRootId:"2980d09f-a525-4b02-b9d5-73c68b00ccf1",rootId:"ceec90ff-1baf-4b10-99a3-36a156efa8d5"},"ko-KR":{previewRootId:"502c39b2-91b4-4c11-870c-b54b1d511430",rootId:"7e5276dc-2f82-4854-83c3-38c78d24e5f0"}}},marketingMeetingNotes:{emoji:"✏️",nameMessage:l.marketingMeetingNotes,sources:{"en-US":{previewRootId:"ae9d5ea0-5467-4534-8d49-8c867f1ddba0",rootId:"c53ade3a-63fe-4aaf-a3b1-df3065825f10"},"ko-KR":{previewRootId:"08224dc6-6373-4158-9f76-241a317e4622",rootId:"6022b186-e102-43ef-a7e8-26e8c09388ff"}}},mediaList:{emoji:"🎤",nameMessage:l.mediaList,sources:{"en-US":{previewRootId:"a796d5a4-b9a0-4cd6-8629-90b368e2738c",rootId:"19480bed-a454-4776-88c8-30aa889d5dc8"}}},contentCalendar:{emoji:"📆",nameMessage:l.contentCalendar,sources:{"en-US":{previewRootId:"0b03dcba-7562-4f7f-842e-5bd57984fdfe",rootId:"8cd75f36-c8e2-475b-9b85-e3d8b5da3949"},"ko-KR":{previewRootId:"98e2a0b7-7d3f-4ebb-8c33-9d1d9925d6ba",rootId:"1eadf8bf-4ef9-421d-abb1-6fb6553fa779"}}},moodBoard:{emoji:"🎟️",nameMessage:l.moodBoard,sources:{"en-US":{previewRootId:"6f7d2d36-d4c2-41ed-b956-73380d93bb3d",rootId:"9f728f06-8cfe-43b0-b722-0adf4ca9490a"}}},jobBoard:{emoji:"💼",nameMessage:l.jobBoard,sources:{"en-US":{previewRootId:"2cfd1c23-1b7c-4428-9bbf-dd39d1c7226b",rootId:"e35efd61-b892-45ee-871d-985f7dcc9391"}}},hrMeetingNotes:{emoji:"✏️",nameMessage:l.hrMeetingNotes,sources:{"en-US":{previewRootId:"7ce4b093-0482-47e6-96f3-43cfaa029102",rootId:"b4f3c70e-0db7-43bc-9f66-5d928a7fd319"}}},newHireOnboarding:{emoji:"🚂",nameMessage:l.newHireOnboarding,sources:{"en-US":{previewRootId:"e78372ea-41b7-4fa5-aeae-3fb1116c3afd",rootId:"3696231c-a6f8-4dc0-86ad-1eeee135db35"},"ko-KR":{previewRootId:"2e5cf38f-9078-4076-bb2b-03ce92eae59f",rootId:"2a7c9dfe-1a41-4d4e-aa1c-cf2498641cd9"}}},applicantTracker:{emoji:"📮",nameMessage:l.applicantTracker,sources:{"en-US":{previewRootId:"0c95ea76-a7d7-409d-81fa-176e05a6888b",rootId:"75a73393-74ae-4724-a88d-66adefc0378d"}}},companyHome:{emoji:"🏠",nameMessage:l.companyHome,sources:{"en-US":{previewRootId:"e4fefb64-23f6-4a02-bb73-ee4c6c0332e1",rootId:"e4fefb64-23f6-4a02-bb73-ee4c6c0332e1"},"ko-KR":{previewRootId:"5a609052-11cc-4e74-853c-02cc790dbf46",rootId:"5a609052-11cc-4e74-853c-02cc790dbf46"}}},pmDocs:{emoji:"📎",nameMessage:l.pmDocs,sources:{"en-US":{previewRootId:"9760d062-f73c-4392-befe-165d5f933dfa",rootId:"fff2a4de-0e72-43a9-bbcc-4c810b94276e"},"ko-KR":{previewRootId:"d711873c-099b-4bf0-939c-a2201ea7e1f3",rootId:"6e30454d-dd20-4bdf-bc22-1f20df8e40ca"}}},pmMeetingNotes:{emoji:"✏️",nameMessage:l.pmMeetingNotes,sources:{"en-US":{previewRootId:"25112f20-c0cc-4b61-8a5a-8db29a02f634",rootId:"fc41a836-0600-4a95-bd3f-2548805ddfc5"},"ko-KR":{previewRootId:"c4353999-82e1-4d32-8770-41b14fb55629",rootId:"72ed8a1b-2871-42f9-9b43-3cabf12ca389"}}},productWiki:{emoji:"🏗",nameMessage:l.productWiki,sources:{"en-US":{previewRootId:"02fbc831-abef-4c98-8c67-6fa28d1189cc",rootId:"c1990649-a341-491d-bd45-8612d94551d7"}}},salesMeetingNotes:{emoji:"✏️",nameMessage:l.salesMeetingNotes,sources:{"en-US":{previewRootId:"6d0de514-bcbb-4362-9f2d-cfbd4017d417",rootId:"15490c10-f02f-4181-899b-b5cb0dd49b9d"}}},salesCRM:{emoji:"👟",nameMessage:l.salesCRM,sources:{"en-US":{previewRootId:"b855ad1f-14cb-4704-a8db-fd7156012ff3",rootId:"15bc1bd8-36ec-4da3-8c0c-e4eb4b3987fb"},"ko-KR":{previewRootId:"b980d956-3857-4277-b8dd-10c8579f72b9",rootId:"42fb6651-6d87-45dd-b095-49c1c7126021"}}},salesWiki:{emoji:"📕",nameMessage:l.salesWiki,sources:{"en-US":{previewRootId:"d48443ab-ff6e-4dcb-b8f5-d9e141401dfc",rootId:"b47c6392-fb65-4876-bf74-31d32b3ce029"}}},competitiveAnalysis:{emoji:"🎯",nameMessage:l.competitiveAnalysis,sources:{"en-US":{previewRootId:"bbca410c-0844-4ee8-af81-648275d420ef",rootId:"1668091a-3470-4bab-8ecc-c29aa59dedaa"},"ko-KR":{previewRootId:"cd19749e-355c-493a-a1a9-64be68ba9399",rootId:"aa94fec7-7dba-4aa3-a444-d321c2e6e11c"}}},salesAssets:{emoji:"✌️",nameMessage:l.salesAssets,sources:{"en-US":{previewRootId:"f665a468-ffdc-4cdf-a135-964012c2474f",rootId:"fc201dd4-7b29-4c08-8bcd-12552ee8be46"}}},teamDirectory:{emoji:"✌️",nameMessage:l.teamDirectory,sources:{"en-US":{previewRootId:"dae76d1c-b172-47f6-9bff-1bbf2c942882",rootId:"406a00cf-3405-41c6-90a1-220a6136a709"}}},teamHome:{emoji:"🏠",nameMessage:l.teamHome,sources:{"en-US":{previewRootId:"06334913-07b1-4622-9b2a-370cf56f0007",rootId:"74dfb5af-738b-4a0e-916b-ce1970ec85cf"},"ko-KR":{previewRootId:"ba72173e-c456-46e9-92dc-73185c654d77",rootId:"1887f846-11e7-4ab2-b816-c2e8c724718e"}}},teamTasks:{emoji:"☑️",nameMessage:l.teamTasks,sources:{"en-US":{previewRootId:"eb402bfa-b46f-4f51-878c-37aef629d3fa",rootId:"89c371f3-766b-4dab-bde6-d23a97952cd5"},"ko-KR":{previewRootId:"ff21bacf-9b2b-4dc2-a715-02cf94e08015",rootId:"87c07fd3-dcb2-4ba2-8855-927206bfba62"}}},teamMeetingNotes:{emoji:"️📝",nameMessage:l.teamMeetingNotes,sources:{"en-US":{previewRootId:"ea69e9ee-ee67-4f2d-83f6-7f862a8495ff",rootId:"958b2624-6de2-44c8-bf07-ce363d450a28"},"ko-KR":{previewRootId:"67a391bb-2b1e-4fb6-b032-dc006e236e6e",rootId:"e1218662-df9e-477c-bf3d-805e9b420911"}}},teamDocs:{emoji:"📄",nameMessage:l.teamDocs,sources:{"en-US":{previewRootId:"697d17c4-4597-4949-9c24-c220aefc31f7",rootId:"3d6561ad-7ea5-4c0e-9b9d-3280be3ffcc7"},"ko-KR":{previewRootId:"0f12132a-db77-4cdb-8b24-449d623a9010",rootId:"05017ffd-160e-48c5-a6cf-67d04a45f53f"}}},personalNotebook:{emoji:"📓",nameMessage:l.personalNotebook,sources:{"en-US":{previewRootId:"3bd47c9f-5c19-4109-bde2-d7d995c726ba",rootId:"2492c77f-9793-479e-af50-1d7c528eeb4e"},"ko-KR":{previewRootId:"60e227c8-a54e-4826-9c5c-f66ab7b27097",rootId:"eb560345-5569-4af4-9998-00cf52840e74"}}},personalBookmarks:{emoji:"🔖",nameMessage:l.personalBookmarks,sources:{"en-US":{previewRootId:"37369c66-f8f4-457f-8bf1-4eb6b66a746e",rootId:"2492c77f-9793-479e-af50-1d7c528eeb4e"},"ko-KR":{previewRootId:"63329b7f-da4b-48c4-80d0-5b8b1437434a",rootId:"0b450d18-6123-46ce-bf69-a61ef8ff4de5"}}},personalTodos:{emoji:"☑️",nameMessage:l.personalTodos,sources:{"en-US":{previewRootId:"c6b314fa-b3c5-42d7-82b8-7bf425c2a7cc",rootId:"c6b314fa-b3c5-42d7-82b8-7bf425c2a7cc"},"ko-KR":{previewRootId:"4865fcf7-ea38-44e7-9daa-fe3c24269694",rootId:"e6693c05-9d85-4df2-b959-6aa22e8a1b54"}}},personalHomeV2:{emoji:"🏠",nameMessage:l.personalHome,sources:{"en-US":{previewRootId:"92cc7ea8-55a1-486c-a2ba-71c5093628aa",rootId:"0821d4cd-353f-431c-bc63-5b51a7971bf0"},"ko-KR":{previewRootId:"4c801bb7-cb1b-45e3-a5eb-5aa31bbe1098",rootId:"5c94c383-f6b2-4cf3-aff8-d629519c5fcd"}}},productFAQs:{emoji:"❓",nameMessage:l.productFAQs,sources:{"en-US":{previewRootId:"c0503890-4ad5-462a-ad02-f615990b3158",rootId:"28cdb7ca-6aea-4692-b6c2-765af9b730f0"},"ko-KR":{previewRootId:"09779b62-2905-45de-9c96-55c0c59c6431",rootId:"e6446bb5-d682-4607-b83e-fa59f7e21a85"}}},supportMeetingNotes:{emoji:"✏️",nameMessage:l.supportMeetingNotes,sources:{"en-US":{previewRootId:"e0f2cc10-b831-4489-93f9-a525b88c931e",rootId:"9a415d57-f401-4854-a8f3-3971c54e983f"}}},supportTaskList:{emoji:"🎒",nameMessage:l.supportTaskList,sources:{"en-US":{previewRootId:"51798b9c-89d2-46de-9356-242649e44359",rootId:"79fe10e2-9b52-4c39-87df-83e745eef5d0"}}},helpCenter:{emoji:"🚨",nameMessage:l.helpCenter,sources:{"en-US":{previewRootId:"42e9c365-194e-49b2-a7ac-d651f12c8cf7",rootId:"fd81a9e6-b912-4f81-904c-a52526f6dbda"},"ko-KR":{previewRootId:"9034865b-aec0-4b20-9a77-d124ce6aaa62",rootId:"2cf62fe7-90cb-4cf4-8937-e1bd944247b9"}}},supportProcessDocs:{emoji:"📎",nameMessage:l.supportProcessDocs,sources:{"en-US":{previewRootId:"85734064-4690-4008-89e3-c0e2adef1d24",rootId:"d8f7b783-df5b-4cff-8541-def33c5ecbe8"}}},classNotes:{emoji:"✏️",nameMessage:l.classNotes,sources:{"en-US":{previewRootId:"63a170c2-5150-463f-94b0-a4e894567d5c",rootId:"1afd9231-27c8-400d-8d2c-3214b04131f2"},"ko-KR":{previewRootId:"10b5fac1-95b7-42e3-ad2b-ff3971917ae1",rootId:"f213d913-7fbd-4d6b-91a8-e907f49dd848"}}},studentJobApplications:{emoji:"🏗",nameMessage:l.jobApplications,sources:{"en-US":{previewRootId:"7a5323cf-f1fb-4b67-8836-0ee4e6aed5c0",rootId:"8cc5e57b-88ee-42da-8446-33114e57ed18"}}},gradeCalculator:{emoji:"⚖️",nameMessage:l.gradeCalculator,sources:{"en-US":{previewRootId:"552367a4-3df7-4d33-ac7d-47ec697da89c",rootId:"9e8b54b2-62d1-417b-9bf7-ce5c253f9e3a"}}},clubHomepage:{emoji:"🏡",nameMessage:l.clubHomepage,sources:{"en-US":{previewRootId:"4e155ceb-d1d9-40ef-ada1-502a7cc3e5ce",rootId:"d3646628-7160-4f0a-a37d-e2817a0d0072"},"ko-KR":{previewRootId:"66af037b-e59b-4fcb-b988-07c8e0fdad29",rootId:"9a0a4e8d-2c25-4800-897e-ab5312684eb2"}}},thesisPlanning:{emoji:"📜",nameMessage:l.thesisPlanning,sources:{"en-US":{previewRootId:"76eaf20a-bb85-4a7f-bf00-3a5f5862c41a",rootId:"c680a5e3-b026-41d1-8c34-525aefa5f548"}}},cornellNotesSystem:{emoji:"📍",nameMessage:l.cornellNotesSystem,sources:{"en-US":{previewRootId:"d0081fd8-5db4-465b-af4c-315f6e2cc486",rootId:"caa75ce9-bf98-427b-89f6-73e23bca515d"}}},personalCRM:{emoji:"📇",nameMessage:l.personalCRM,sources:{"en-US":{previewRootId:"05b38a83-8076-4ea7-a673-81373eb7b6d6",rootId:"8fd5d405-3006-4243-8f8d-d5d3ea7b6849"}}},roommateSpace:{emoji:"✌️",nameMessage:l.roommateSpace,sources:{"en-US":{previewRootId:"9fb0a338-0448-437d-9513-329770131583",rootId:"0b96ad6a-e892-4959-ad89-a1653e597052"}}},simpleBudget:{emoji:"💸",nameMessage:l.simpleBudget,sources:{"en-US":{previewRootId:"22d590a8-0b50-40ee-a221-042c2c4767c3",rootId:"e95c342a-414a-4b4f-9945-fac166f226f0"}}},syllabus:{emoji:"📄",nameMessage:l.syllabus,sources:{"en-US":{previewRootId:"7ff6c980-3579-48db-8861-54c1e7d89ece",rootId:"0460be88-6f47-4026-ab17-3184f9c2bcfe"}}},classroomHome:{emoji:"🏠",nameMessage:l.classroomHome,sources:{"en-US":{previewRootId:"efad9c94-3527-4741-8239-a67484266fdc",rootId:"af1c96a2-e021-45b5-b0f6-d75586b189f8"}}},lessonPlans:{emoji:"📋",nameMessage:l.lessonPlans,sources:{"en-US":{previewRootId:"98ccd642-7d03-40be-b038-f96ac1331a5b",rootId:"fd90f555-7318-46a4-8c66-db990f7b0c88"}}},courseSchedule:{emoji:"🗓",nameMessage:l.courseSchedule,sources:{"en-US":{previewRootId:"5aa0afbf-eb72-427c-8691-7d5b8ad66d16",rootId:"99f31e87-63c6-43e8-a2f5-a396a18549af"}}},classDirectory:{emoji:"👋",nameMessage:l.classDirectory,sources:{"en-US":{previewRootId:"20a81618-bb88-4424-8bed-17f72fd0c539",rootId:"6e388c17-fd6d-482a-adab-bbd51629ba07"}}},simpleNotebook:{emoji:"📔",nameMessage:l.simpleNotebook,sources:{"en-US":{previewRootId:"4d5ac3b4-2715-492d-8ffe-73efae4277e0",rootId:"ecd6a49a-a4f3-4ccb-a9e2-beb52349ad2c"}}},personalJobApplications:{emoji:"📥",nameMessage:l.jobApplications,sources:{"en-US":{previewRootId:"ccc9be30-1f39-4ec4-9197-0488dfd03416",rootId:"b85dfb9c-e3b8-4cce-9e91-0efd81cb8f71"}}},lifeWiki:{emoji:"🧭",nameMessage:l.lifeWiki,sources:{"en-US":{previewRootId:"6aafaa13-250b-42c6-99c9-5b6f1d75a464",rootId:"a444e313-8f68-41a3-8aaa-6c0a79a11877"}}},habitTracker:{emoji:"👟",nameMessage:l.habitTracker,sources:{"en-US":{previewRootId:"bee7fb91-0bc0-433f-8154-c072f82fa83d",rootId:"c84d688d-40ea-451a-a668-20903d55a07d"}}},resume:{emoji:"👔",nameMessage:l.resume,sources:{"en-US":{previewRootId:"ef92d837-eca1-4ed2-bf42-85f6dacffcb2",rootId:"18389e46-a160-434c-9788-5fe20897d8fd"}}}};function g(e){return e.map(e=>r.a.clone(e))}const b={nameMessage:l.wiki,sectionName:s.g,icon:"📖",items:g([f.teamHome])},v={nameMessage:l.projectManagement,sectionName:s.e,icon:"🎯",items:g([f.teamTasks])},y={nameMessage:l.notes,sectionName:s.c,icon:"🎯",items:g([f.teamMeetingNotes,f.teamDocs])},S={nameMessage:l.wiki,sectionName:s.g,icon:"📖",items:g([f.personalHomeV2])},w={nameMessage:l.projectManagement,sectionName:s.e,icon:"🎯",items:g([f.personalTodos])},k={nameMessage:l.notes,sectionName:s.c,icon:"🎯",items:g([f.personalNotebook,f.personalBookmarks])},C={nameMessage:l.personal,sectionName:"personal",icon:"😀",items:g([f.quickNote,f.personalHome,f.taskList,f.journal,f.readingList,f.goals,f.travelPlanner,f.blogPost,f.simpleNotebook,f.habitTracker,f.lifeWiki,f.resume,f.personalJobApplications,f.weeklyAgenda])},M={nameMessage:l.designer,sectionName:"designer",icon:"🎨",items:g([f.roadmap,f.userResearch,f.designTasks,f.designMeetingNotes,f.designSystem])},E={nameMessage:l.engineering,sectionName:"programmer",icon:"🔨",items:g([f.engineeringToDo,f.roadmap,f.engineeringWiki,f.engineeringDocs,f.engineeringMeetingNotes])},_={nameMessage:l.marketing,sectionName:"marketing",icon:"🎤",items:g([f.brandAssets,f.marketingMeetingNotes,f.mediaList,f.contentCalendar,f.moodBoard])},T={nameMessage:l.hr,sectionName:"hr_recruiting",truncatedNameMessage:l.truncated_hr,icon:"👫",items:g([f.jobBoard,f.hrMeetingNotes,f.newHireOnboarding,f.applicantTracker,f.companyHome])},x={nameMessage:l.productManagement,sectionName:"product_manager",icon:"🏗",items:g([f.roadmap,f.userResearch,f.pmDocs,f.pmMeetingNotes,f.productWiki])},I={nameMessage:l.productManagementV2,sectionName:"product_manager",icon:"🏗",items:g([f.roadmap,f.userResearch,f.pmDocs,f.pmMeetingNotes,f.productWiki])},P={nameMessage:l.support,sectionName:"customer_support",icon:"🚑",items:g([f.teamDirectory,f.productFAQs,f.supportMeetingNotes,f.supportTaskList,f.helpCenter,f.supportProcessDocs])},O={nameMessage:l.education,sectionName:"student",icon:"🎒",items:g([f.classNotes,f.studentJobApplications,f.gradeCalculator,f.clubHomepage,f.readingList,f.thesisPlanning,f.cornellNotesSystem,f.personalCRM,f.roommateSpace,f.simpleBudget,f.syllabus,f.classroomHome,f.lessonPlans,f.courseSchedule,f.classDirectory])},B={nameMessage:l.sales,sectionName:"sales",icon:"🤝",items:g([f.salesMeetingNotes,f.salesCRM,f.salesWiki,f.competitiveAnalysis,f.salesAssets])},L={nameMessage:l.suggested,sectionName:"suggested",icon:"✨",items:g([f.engineeringWiki,f.companyHome,f.taskList])},R={nameMessage:l.media,sectionName:"media",icon:"🎞",items:g([])},D={nameMessage:l.it,sectionName:"it",icon:"🖥",items:g([])},A={nameMessage:l.entrepreneur,sectionName:"entrepreneur",icon:"🌱",items:g([])},j={nameMessage:l.freelancer,sectionName:"freelancer",icon:"🎨",items:g([])},F={nameMessage:l.educator,sectionName:"educator",icon:"✏️",items:g([])},V={nameMessage:l.student,sectionName:"student",icon:"📚",items:g([])},N={nameMessage:l.other,sectionName:"other",icon:"🎁",items:g([])},U={designer:M,student:O,programmer:E,hr_recruiting:T,marketing:_,personal:C,unfilled:C,product_manager:x,sales:B,customer_support:P},z={designer:M,programmer:E,hr_recruiting:T,marketing:_,product_manager:I,sales:B,customer_support:P,it:D,media:R,entrepreneur:A,freelancer:j,educator:F,student:V,unfilled:C,other:N},X={team:{doc_notes:y,wiki:b,project_management:v},personal:{doc_notes:k,wiki:S,project_management:w}};function Y(e,t){return e.map(e=>u(e,t))}function H(e,t){const{nameMessage:n,truncatedNameMessage:o,items:r,...a}=e,i=r.filter(e=>t.locale in e.sources);return{...a,...o?{truncatedName:t.formatMessage(o)}:{},items:Y(i,t),name:t.formatMessage(n)}}function q(e){return H(L,e)}function W(e){return r.a.uniq(Object.values(U)).map(t=>H(t,e))}function G(e){return r.a.flatten(r.a.uniq(Object.values(X)).map(t=>r.a.uniq(Object.values(t)).map(t=>H(t,e))))}function Z(e,t){return H(U[e]||z[e],t)}const K=[M,E,T,_,x,B,P],J=[M,E,x,_,R,D,B,P,T,A,j,F,V,N];function Q(e,t){const{nameMessage:n,truncatedNameMessage:o,items:r,...a}=e,i=r.filter(e=>t.locale in e.sources);return{...a,...o?{truncatedName:t.formatMessage(o)}:{},items:Y(i.slice(0,5),t),name:t.formatMessage(n)}}function $(e,t){return Q(U[e]||z[e],t)}function ee(e,t,n,o){const r=Q(X[t][e],o);if("team"===t&&"wiki"===e){const e={programmer:f.engineeringWiki,hr_recruiting:f.companyHome,product_manager:f.productWiki,sales:f.salesWiki};r.items=Y([e[n]||f.teamHome].filter(e=>o.locale in e.sources),o)}return r}function te(e,t="v1"){switch(t){case"v1":return K.map(t=>Q(t,e));case"v2":return J.map(t=>Q(t,e))}}function ne(e){return Object.values(f).filter(t=>e.locale in t.sources).map(t=>u(t,e))}function oe(e){const t=r.a.flatten(h.map(e=>r.a.compact(Object.values(e.sources))));return Boolean(t.find(({rootId:t})=>t===e))}function re(e){return-1!==function(){const e=Object.values(U),t=r.a.flatten(Object.values(X).map(e=>Object.values(e)));return r.a.flatten(e.concat(t).concat(m).map(e=>{const t=r.a.flatten(e.items.map(e=>{const t=r.a.flatten(r.a.compact(Object.values(e.sources)));return r.a.flatten(t.map(e=>[e.previewRootId,e.rootId]))}));return r.a.uniq(t)}))}().indexOf(e)}},RgmA:function(e,t,n){"use strict";function o(e,t){const n=[];return e.forEach((o,r)=>{n.push(o),e[r+1]&&n.push(t(r))}),n}n.d(t,"a",(function(){return o}))},Ripq:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return C})),n.d(t,"b",(function(){return M}));n("3bBZ");var o=n("RuPz"),r=n("MBf9"),a=n("qpkC"),i=n("hvW1"),s=n("y6Dp"),l=n("H4VD"),c=n("sdlW"),d=n("VBxf"),u=n("HTHG"),p=n("qqdV"),h=n("HSWF"),m=n("VpIZ"),f=n("D2XV"),g=n("QcDD"),b=n("40tV"),v=n("vl8/"),y=n("J9+s");function S(){o.a.setState({open:!1})}function w(e){const{environment:t,store:n,originRect:r}=e;s.A(t,n.id);const{currentUserRootStore:a}=g.default.state;if(a){const e=u.j(a);if(1===e.length){const o=e[0],r=o.getSpaceStore();if(!r)return;C({environment:t,store:n,spaceStore:r,spaceViewStore:o,isPrivate:!0})}else o.a.setState({open:!0,store:n,originRect:r})}else h.w({currentUserId:t.currentUser.id,blockId:n.id}),l.navigate({environment:t,url:p.d.login})}const k=Object(y.defineMessages)({untitledBlockRecordTitle:{defaultMessage:"Untitled",id:"forkPageActions.untitledBlockRecordTitle"},untitledSpaceRecordTitle:{defaultMessage:"Untitled",id:"forkPageActions.untitledSpaceRecordTitle"},loadingStateDisplayText:{defaultMessage:"Duplicating {blockTitle} to {spaceTitle}…",id:"forkPageActions.loadingStateDisplayText",description:"Message to show to the user while they wait for a page to finish duplicating."}});async function C(e){const{environment:t,store:n,spaceStore:o}=e,r=n.getValue();if(!r)return;const a=v.default.getIntl(),s=m.i({table:n.table,value:r,getRecordValue:n.getRecordValue,userTimeZone:f.m,placeholder:a.formatMessage(k.untitledBlockRecordTitle),intl:v.default.getIntl()}),c=o.getValue();if(!c)return;const u=m.i({table:o.table,value:c,getRecordValue:n.getRecordValue,userTimeZone:f.m,placeholder:a.formatMessage(k.untitledSpaceRecordTitle),intl:v.default.getIntl()});i.b({message:k.loadingStateDisplayText,interpolatedValues:{blockTitle:s,spaceTitle:u}});const p=await M(e);i.a(),void 0!==p.error?d.showErrorMessage(p.error):l.navigateToBlock({environment:t,store:p.value,visitType:b.c.Link})}async function M(e){const{environment:t,store:n,spaceStore:o,spaceViewStore:i,isPrivate:s}=e;return new Promise(e=>{r.createAndCommit(t,r=>{const[l,d]=a.a({environment:t,store:n,transaction:r,addCopyName:!1,deepCopyTransclusionContainers:!0});d.then(t=>{e(t?{error:t}:{value:l})}),c.a({environment:t,spaceStore:o,spaceViewStore:i,pageStore:l,isPrivate:s,prepend:!0,transaction:r})})})}},Rnyl:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return g}));var o=n("xstG"),r=n("hgQN"),a=n("w5u6"),i=n("Ajfl"),s=n("cBa6"),l=n("RI9y"),c=n("unoy"),d=n("wiBh"),u=n("DNgp"),p=n("VhAz");function h(e){const{environment:t,selectedToken:n,selectionRect:a,analyticsFrom:i}=e,p=l.get();if(!p)return;if("editing"!==u.default.state.mode)return;const h=n||r.e(u.default.state);h&&c.m({store:u.default.state.store,selection:h.position});const m=d.i(u.default.state),f=h?s.O(h.token):r.c(m),g=r.d({environment:t,equation:f,displayMode:"inline"}),b=h?{editingToken:h.token}:{annotations:r.f(u.default.state)};o.b.setState({open:!0,value:f,error:g,savedTextSelectionState:u.default.state,savedTextSelectionRect:a||r.g({environment:t,selection:p}),...b,analyticsFrom:r.b({source:i,currentEquationToken:Boolean(h),selectedText:m})}),u.default.setState({mode:"empty"})}function m(e=o.a.Forward){o.b.isOpen()&&(f({equationStore:o.b,getNextSelection:t=>e===o.a.Forward?{startIndex:t.endIndex,endIndex:t.endIndex}:e===o.a.Backward?{startIndex:t.startIndex,endIndex:t.startIndex}:Object(p.e)(e)}),o.b.reset(),a.default.afterNextFlush(()=>{u.default.emit()}))}function f(e){const{equationStore:t,getNextSelection:n}=e;if(!t.isOpen())return;const{savedTextSelectionState:o}=t.state,r=n(o.selection);if(c.m({store:o.store,selection:r}),"editing"!==u.default.state.mode)throw new Error("TextSelectionStore should have a selection after calling `setSelection`.");t.setState({...t.state,savedTextSelectionState:u.default.state})}function g(e){const{environment:t,equationStore:n,transaction:a}=e;n.isOpen()&&(n.state.error||n.state.editingToken&&s.O(n.state.editingToken)===n.state.value||(!function(e){const{environment:t,equationStore:n,transaction:o}=e;if(!n.isOpen())return;if(n.state.error)return;const{savedTextSelectionState:a}=n.state;i.f({environment:t,store:a.store,selection:a.selection,transaction:o});let l=void 0;n.state.value&&(l=r.a({equationState:n.state,isTemporary:!1}),i.o({environment:t,store:a.store,tokens:[l],index:a.selection.startIndex,transaction:o})),f({equationStore:n,getNextSelection:e=>{const t=l?s.I([l]).length:0;return{startIndex:e.startIndex,endIndex:e.startIndex+t}}}),u.default.setState({mode:"empty"})}({environment:t,equationStore:o.b,transaction:a}),f({equationStore:n,getNextSelection:e=>({startIndex:e.endIndex,endIndex:e.endIndex})}),r.j({environment:t,equation:n.state.value,from:n.state.analyticsFrom})))}},RqMp:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},Rtjx:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return h}));var o=n("UcZb"),r=n("J9+s"),a=n("A9TN");function i(e){return!!e.device.isDesktop||!!e.device.isTablet&&e.WindowSizeStore.isLandscape()}function s(e){return e.currentUser.isLoggedIn()&&o.a.get()}function l(e){const{isDesktop:t,isMobile:n,isTablet:r}=e.device,{WindowSizeStore:a}=e,i=a.isLandscape(),s=n&&!r&&i;return t?o.e.get():r||s?Math.min(320,.87*e.WindowSizeStore.state.width):.87*e.WindowSizeStore.state.width}function c(e){return s(e)&&i(e)?l(e):0}function d(e){return e.device.isAndroid&&!e.device.isTablet||e.device.isTablet&&e.WindowSizeStore.isPortrait()}const u=Object(r.defineMessages)({createOrJoinWorkspace:{defaultMessage:"Create or join workspace",id:"sidebarSwitcher.createOrJoinWorkspaceButton.prompt"},personalPlan:{defaultMessage:"Personal Plan",id:"sidebarSwitcher.personalPlan.label"},proPlan:{defaultMessage:"Personal Pro Plan",id:"sidebarSwitcher.proPlan.label"},educationPlan:{defaultMessage:"Personal Pro Plan (Education)",id:"sidebarSwitcher.educationPlan.label"},teamTrialPlan:{defaultMessage:"Team Plan (Trial)",id:"sidebarSwitcher.teamTrialPlan.label"},teamPlan:{defaultMessage:"Team Plan",id:"sidebarSwitcher.teamPlan.label"},enterprisePlan:{defaultMessage:"Enterprise Plan",id:"sidebarSwitcher.enterprisePlan.label"},legacyPlan:{defaultMessage:"Legacy Plan",id:"sidebarSwitcher.legacyPlan.label"},workspaceSubtitleWithMembers:{id:"sidebarSwitcher.workspaceSubtitleWithMembers.label",description:"Label for the workspace indicating number of workspace members and workspace plan type.",defaultMessage:"{planType} - {numberOfWorkspaceMembers, plural, one {{numberOfWorkspaceMembers} member} other {{numberOfWorkspaceMembers} members}}"},workspaceSubtitleWithoutMembers:{id:"sidebarSwitcher.workspaceSubtitleWithoutMembers.label",description:"Label for the workspace indicating workspace plan type.",defaultMessage:"{planType}"},addAccountLoginActionTitle:{id:"sidebarSwitcherMultiAccount.addAccount.title",defaultMessage:"Add an account",description:"Title to add an account"},createWorkLoginActionTitle:{id:"sidebarSwitcherMultiAccount.createWork.title",defaultMessage:"Create a work account",description:"Title to create a work account"}});function p(e){switch(e){case a.default.pricing.personal.productId:case a.default.revenueCat.productIDs.personal.monthly:case a.default.revenueCat.productIDs.personal.yearly:return u.proPlan;case a.default.pricing.student.productId:return u.educationPlan;case a.default.pricing.team.productId:return u.teamPlan;case a.default.pricing.enterprise.productId:return u.enterprisePlan;default:return u.legacyPlan}}function h(e,t){switch(t){case"add-account":return u.addAccountLoginActionTitle;case"create-work":return u.createWorkLoginActionTitle;default:throw new Error(e.formatMessage({defaultMessage:"Unexpected createType in SidebarSwitcherMultiAccount",id:"sidebarSwitcherMultiAccount.errorMessage"}))}}},RuPz:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},RvCr:function(e,t,n){"use strict";n("3bBZ"),n("Junv");var o=n("LvDl"),r=n.n(o),a=n("udrG"),i=n("wpmu"),s=n("qHvo"),l=n("tzV5"),c=n("/mqF"),d=n("lufz"),u=n("N34Z"),p=n("6rsX"),h=n("bkwR"),m=n("HRSx"),f=n("bPtJ"),g=n("jZoB"),b=n("qzno"),v=n("njgS"),y=n("D2XV"),S=n("VBxf"),w=n("MBf9"),k=n("dsG5"),C=n("cBa6"),M=n("HTHG"),E=n("622O"),_=(n("SYor"),n("hfHo")),T=n("CARr"),x=n("g90h"),I=n("FWat"),P=n("PXtY"),O=n("VhAz"),B=n("qqv4"),L=n("5/h/"),R=n("922z"),D=n("SRc3");function A(e,t){const n={command:"update",args:t,pointer:{table:m.a,id:e.id},path:["properties"]};return Object(D.b)(n,e)}function j(e){const{block:t,schema:n,query:o,userId:r,userTimeZone:a,group:i,getRecordValue:s,intl:l,normalizedSchemaCache:c}=e;let d=t;const u={};if(i){const e=R.c.tryEach(R.c.fromPlainFunctionUnsafe(({table:e,id:t})=>{if(e===m.a&&t===d.id)return d}),s);Object.assign(u,V({block:d,getRecordValue:e,schema:n,group:i,intl:l,userTimeZone:a,userId:r,normalizedSchemaCache:c})),d=A(t,u)}if(o&&(Object.assign(u,function(e){const{block:t,schema:n,query:o,userTimeZone:r,userId:a,getRecordValue:i,intl:s,normalizedSchemaCache:l}=e,c=o.filter;if(!c)return{};const d=function e(t){const{filter:n,block:o,schema:r,userId:a,userTimeZone:i,getRecordValue:s,intl:l,normalizedSchemaCache:c}=t,d=n.filters||[];if(0===d.length)return{type:"passesFilter"};if(Object(I.c)({block:o,filter:n,schema:r,getRecordValue:s,userId:a,userTimeZone:i,intl:l,normalizedSchemaCache:c}))return{type:"passesFilter"};if("or"===n.operator){const t=d.map(t=>Object(I.x)(t)?z({intl:l,block:o,schema:r,property:t.property,filter:t.filter,userId:a,userTimeZone:i,getRecordValue:s,normalizedSchemaCache:c}):e({filter:t,intl:l,block:o,schema:r,userId:a,userTimeZone:i,getRecordValue:s,normalizedSchemaCache:c}));if(t.some(e=>"passesFilter"===e.type))return{type:"passesFilter"};const n=t.find(e=>"coercedByFilter"===e.type);return n||(t.find(e=>"failsFilter"===e.type)||{type:"failsFilter"})}const u=[...d];u.reverse();let p="passesFilter";const h={};let f=o;const g=R.c.tryEach(R.c.fromPlainFunctionUnsafe(({table:e,id:t})=>{if(e===m.a&&t===f.id)return f}),s);for(const m of u){const t=Object(I.x)(m)?z({intl:l,block:f,schema:r,property:m.property,filter:m.filter,userId:a,userTimeZone:i,getRecordValue:g,normalizedSchemaCache:c}):e({filter:m,intl:l,block:f,schema:r,userId:a,userTimeZone:i,getRecordValue:g,normalizedSchemaCache:c});"coercedByFilter"===t.type&&"passesFilter"===p&&(p="coercedByFilter"),"failsFilter"===t.type&&(p="failsFilter"),("coercedByFilter"===t.type||"failsFilter"===t.type&&t.update)&&(Object.assign(h,t.update),f=A(o,h))}return"passesFilter"===p?{type:p}:{type:p,update:h}}({block:t,schema:n,filter:c,userId:a,userTimeZone:r,getRecordValue:i,intl:s,normalizedSchemaCache:l});if("failsFilter"===d.type||"coercedByFilter"===d.type)return d.update||{};return{}}({intl:l,block:d,schema:n,query:o,userId:r,userTimeZone:a,getRecordValue:s,normalizedSchemaCache:c})),d=A(t,u)),i){const e=R.c.tryEach(R.c.fromPlainFunctionUnsafe(({table:e,id:t})=>{if(e===m.a&&t===d.id)return d}),s);Object.assign(u,V({block:d,getRecordValue:e,schema:n,group:i,intl:l,userTimeZone:a,userId:r,normalizedSchemaCache:c})),d=A(t,u)}const p=A(d,u);return{coercionSucceeded:!o.filter||Object(I.c)({block:p,filter:o.filter,schema:n,getRecordValue:s,userId:r,userTimeZone:a,intl:l,normalizedSchemaCache:c}),update:u}}function F(e){const{schema:t,group:n,block:o,normalizedSchemaCache:r}=e,a=function(e){const{schema:t,group:n}=e,o=n.property,r=t[o];if(!r)return;const a=n.value;return Object(B.h)(r)&&a.type===r.type&&void 0!==a.value?"select"===r.type?"string"==typeof a.value?{property:o,filter:{operator:"enum_is_not",value:{type:"exact",value:a.value}}}:void 0:"person"===r.type?"object"==typeof a.value?{property:o,filter:{operator:"person_does_not_contain",value:{type:"exact",value:a.value}}}:void 0:"multi_select"===r.type?"string"==typeof a.value?{property:o,filter:{operator:"enum_does_not_contain",value:{type:"exact",value:a.value}}}:void 0:void Object(O.e)(r):void 0}({schema:t,group:n});if(!a)return{};const i=z({...e,property:a.property,filter:a.filter,schema:t,block:o,normalizedSchemaCache:r});return("failsFilter"===i.type||"coercedByFilter"===i.type)&&i.update||{}}function V(e){const{schema:t,group:n,block:o,normalizedSchemaCache:r}=e,a=function(e){const{schema:t,group:n}=e,o=n.property,r=t[o];if(!r)return;const a=n.value;return Object(B.h)(r)&&a.type===r.type?void 0===a.value?{property:o,filter:{operator:"is_empty"}}:"select"===r.type?"string"==typeof a.value?{property:o,filter:{operator:"enum_is",value:{type:"exact",value:a.value}}}:void 0:"person"===r.type?"object"==typeof a.value?{property:o,filter:{operator:"person_contains",value:{type:"exact",value:a.value}}}:void 0:"multi_select"===r.type?"string"==typeof a.value?{property:o,filter:{operator:"enum_contains",value:{type:"exact",value:a.value}}}:void 0:void Object(O.e)(r):void 0}({schema:t,group:n});if(!a)return{};const i=z({...e,property:a.property,filter:a.filter,schema:t,block:o,normalizedSchemaCache:r});return("failsFilter"===i.type||"coercedByFilter"===i.type)&&i.update||{}}function N(e){const{dateValue:t,timestamp:n,userTimeZone:o}=e;if("date"===t.type)return{...y.n(n,o),reminder:t.reminder};if("datetime"===t.type)return{...y.r(n,o),reminder:t.reminder};if("daterange"===t.type){const e=y.D(y.S(t),o).valueOf(),r=y.D(y.I(t),o).valueOf()-e;return{...y.o(n,n+r,o),reminder:t.reminder}}if("datetimerange"===t.type){const e=y.F(y.T(t)).valueOf(),r=y.F(y.T(t)).valueOf()-e;return{...y.s(n,n+r,o),reminder:t.reminder}}Object(O.e)(t)}const U={text:function(e){const{filter:t,value:n}=e;if("is_empty"===t.operator)return{type:"text",value:void 0};if("is_not_empty"===t.operator)return;const o=(t.value.value||"").trim();return"string_is_not"===t.operator||"string_does_not_contain"===t.operator?{type:"text",value:void 0}:"string_is"===t.operator?{type:"text",value:o}:"string_contains"===t.operator||"string_ends_with"===t.operator?{type:"text",value:(n.value||"")+o}:"string_starts_with"===t.operator?{type:"text",value:o+(n.value||"")}:void Object(O.e)(t.operator)},checkbox:function(e){const{filter:t}=e,n=t.value;return"checkbox_is"===t.operator?{type:"checkbox",value:Boolean(n.value)}:"checkbox_is_not"===t.operator?{type:"checkbox",value:!Boolean(n.value)}:void Object(O.e)(t.operator)},select:function(e){const{filter:t,propertySchema:n}=e;if("is_empty"===t.operator)return{type:"select",value:void 0};if("is_not_empty"===t.operator)return{type:"select",value:n.options&&n.options.length>0?n.options[0].value:void 0};const o=t.value.value;return void 0!==o?"enum_is"===t.operator?{type:"select",value:o}:"enum_is_not"===t.operator?{type:"select",value:void 0}:void Object(O.e)(t.operator):void 0},multi_select:function(e){const{filter:t,propertySchema:n,value:o}=e;if("is_empty"===t.operator)return{type:"multi_select",value:void 0};if("is_not_empty"===t.operator)return{type:"multi_select",value:n.options&&n.options.length>0?[n.options[0].value]:void 0};const r=t.value.value;if(void 0===r)return;const a=o.value||[];return"enum_contains"===t.operator?{type:"multi_select",value:[...a,r]}:"enum_does_not_contain"===t.operator?{type:"multi_select",value:a.filter(e=>e!==r)}:void Object(O.e)(t.operator)},relation:function(e){const{filter:t,value:n}=e;if("is_empty"===t.operator)return{type:"relation",value:void 0};if("is_not_empty"===t.operator)return;const o=t.value.value;if(void 0===o)return;const r=n.value||[];return"relation_contains"===t.operator?{type:"relation",value:[...r,o]}:"relation_does_not_contain"===t.operator?{type:"relation",value:r.filter(e=>e!==o)}:void Object(O.e)(t.operator)},person:function(e){const{filter:t,userId:n,value:o}=e;if("is_empty"===t.operator)return{type:"person",value:void 0};if("is_not_empty"===t.operator)return n?{type:"person",value:[{table:L.a,id:n}]}:void 0;const a=t.value,i=Object(I.l)({operatorValue:a,userId:n});if(void 0===i)return;const s=o.value||[];return"person_contains"===t.operator?{type:"person",value:[...s,i]}:"person_does_not_contain"===t.operator?{type:"person",value:s.filter(e=>!r.a.isEqual(e,i))}:void Object(O.e)(t.operator)},number:function(e){const{filter:t}=e;if("is_empty"===t.operator)return{type:"number",value:void 0};if("is_not_empty"===t.operator)return{type:"number",value:0};const n=t.value.value;return void 0===n||r.a.isNaN(n)?void 0:"number_equals"===t.operator||"number_greater_than_or_equal_to"===t.operator||"number_less_than_or_equal_to"===t.operator?{type:"number",value:n}:"number_less_than"===t.operator?{type:"number",value:n-1}:"number_greater_than"===t.operator?{type:"number",value:n+1}:"number_does_not_equal"===t.operator?{type:"number",value:void 0}:void Object(O.e)(t.operator)},date:function(e){const{filter:t,userTimeZone:n,value:o}=e;if("is_empty"===t.operator)return{type:"date",value:void 0};if("is_not_empty"===t.operator)return{type:"date",value:y.nb(n)};const r=o.value;if("date_is_within"===t.operator){const e=Object(I.k)({operatorValue:t.value,userTimeZone:n});if(void 0===r){const t=y.nb(n),o=y.K(t,n).start.valueOf();return o>=e.start&&o<=e.end?{type:"date",value:t}:{type:"date",value:y.n(e.start+(e.end-e.start)/2,n)}}const o=y.K(r,n).start.valueOf();return o>e.end?{type:"date",value:N({dateValue:r,timestamp:e.end,userTimeZone:n})}:o<e.start?{type:"date",value:N({dateValue:r,timestamp:e.start,userTimeZone:n})}:void 0}const a=t.value,i=Object(I.j)({operatorValue:a,userTimeZone:n});if(void 0!==i){if("date_is"===t.operator||"date_is_on_or_before"===t.operator||"date_is_on_or_after"===t.operator)return r?{type:"date",value:N({dateValue:r,timestamp:i,userTimeZone:n})}:{type:"date",value:y.n(i,n)};if("date_is_before"===t.operator){const e=_.default.tz(i,n).subtract(1,"day").valueOf();return r?{type:"date",value:N({dateValue:r,timestamp:e,userTimeZone:n})}:{type:"date",value:y.n(e,n)}}if("date_is_after"===t.operator){const e=_.default.tz(i,n).add(1,"day").valueOf();return r?{type:"date",value:N({dateValue:r,timestamp:e,userTimeZone:n})}:{type:"date",value:y.n(e,n)}}Object(O.e)(t.operator)}},file:function(e){const{filter:t}=e;if("is_empty"===t.operator)return{type:"file",value:void 0};"is_not_empty"!==t.operator&&Object(O.e)(t)}};function z(e){const{filter:t,block:n,property:o,schema:r,userTimeZone:a,userId:i,getRecordValue:s,intl:l,normalizedSchemaCache:c}=e;if(Object(I.d)({block:n,schema:r,property:o,filter:t,getRecordValue:s,userId:i,userTimeZone:a,depth:0,intl:l,normalizedSchemaCache:c}))return{type:"passesFilter"};if(Object(I.z)(t))return{type:"failsFilter"};const d=r[o];if(!d)return{type:"failsFilter"};if(!Object(P.d)(d))return{type:"failsFilter"};const u=Object(P.c)(d.type),p=Object(P.f)({filterValueType:u,block:n,property:o,schema:r,getRecordValue:s,userTimeZone:a,intl:l}),h=(0,U[u])({filter:t,value:p,propertySchema:d,userId:i,userTimeZone:a});return void 0===h?{type:"failsFilter"}:{type:"coercedByFilter",update:{[o]:Object(P.b)({propertyType:d.type,filterValue:h})}}}var X=n("VpIZ"),Y=n("6SEd"),H=n("sUh3"),q=n("vl8/"),W=n("J9+s"),G=n("XDBA");n.d(t,"k",(function(){return K})),n.d(t,"j",(function(){return J})),n.d(t,"i",(function(){return Q})),n.d(t,"g",(function(){return $})),n.d(t,"a",(function(){return ee})),n.d(t,"e",(function(){return ne})),n.d(t,"f",(function(){return oe})),n.d(t,"d",(function(){return ae})),n.d(t,"b",(function(){return ie})),n.d(t,"n",(function(){return se})),n.d(t,"l",(function(){return le})),n.d(t,"c",(function(){return ce})),n.d(t,"h",(function(){return de})),n.d(t,"m",(function(){return ue})),n.d(t,"o",(function(){return pe}));const Z=Object(W.defineMessages)({removeSortingConfirmation:{id:"databaseActions.removeSortingConfirmationDialog.prompt",defaultMessage:"Would you like to remove sorting?"},removeSortingButton:{id:"databaseActions.removeSortingConfirmationDialog.removeSortingButton.label",defaultMessage:"Remove"}});function K(e){const{store:t,collectionStore:n,group:o,environment:r,collectionViewLocalStore:a,transaction:i}=e,s=n.getSchema();if(a.collectionViewStore.get()){const e=a.normalizedQueryStore.state,l=t.getValue();if(l&&e){const e=F({block:l,schema:s,userId:r.currentUser.id,userTimeZone:y.m,group:o,getRecordValue:n.getRecordValue,intl:q.default.getIntl(),normalizedSchemaCache:{}});Object.keys(e).length>0&&u.d({store:t.getPropertiesStore(),data:e,transaction:i})}}}function J(e){const{store:t,collectionStore:n,transaction:o}=e;d.b({childStore:t,parentStore:n,alive:!1,transaction:o})}function Q(e){const{environment:t,collectionViewLocalStore:n,insertStores:o,results:a,group:s,transaction:c,parentStore:d}=e,u=n.collectionViewStore.get(),p=n.collectionStore.get();if(p){const e=[];for(const r of o)ee({environment:t,store:r,collectionStore:p,collectionViewLocalStore:n,group:s,coerce:!0,transaction:c}),e.push(i.a.createChildStore(d,{table:m.a,id:r.id}));const h=r.a.uniqBy([...e,...a],e=>e.id);return u&&te({results:h,collectionViewStore:u,transaction:c}),l.o({collectionViewLocalStore:n,newLimit:h.length}),e}return o}function $(e){const{environment:t,collectionViewLocalStore:n,before:o,insertStores:r,store:a,results:s,group:c,transaction:d,parentStore:u}=e,p=n.collectionViewStore.get(),h=n.collectionStore.get();if(h){const e=[];for(const o of r)ee({environment:t,store:o,collectionStore:h,collectionViewLocalStore:n,group:c,coerce:!0,transaction:d}),e.push(i.a.createChildStore(u,{table:m.a,id:o.id}));const f=s.indexOf(a),g=o?f:f+1,b=[...s.slice(0,g),...e,...s.slice(g)];return p&&te({results:b,collectionViewStore:p,transaction:d}),l.o({collectionViewLocalStore:n,newLimit:b.length}),e}return r}function ee(e){const{environment:t,store:n,collectionStore:o,collectionViewLocalStore:i,group:s,transaction:c,coerce:p}=e,h=o.getSchema(),g=n.getValue(),b=o.getParentBlockStore(),v=b&&b.isLocked();let S=!p;if(g){const e=function(e){const{block:t,oldSchema:n,newSchema:o}=e,r={propertyUpdate:{},newSchema:o},a=t.properties||{},i=Object.keys(n),s=Object.keys(o);for(const l of i){const e=n[l],t=a[l];if(e&&"relation"!==e.type&&t){let t=s.find(e=>l===e);if(t||(t=s.find(t=>{const n=o[t];return Boolean(e&&n&&e.name.trim().toLowerCase()===n.name.trim().toLowerCase()&&e.type===n.type)})),t&&r.propertyUpdate)t!==l&&(r.propertyUpdate[t]=a[l]||null,r.propertyUpdate[l]=null);else{const e=Object(x.b)(),t=n[l];r.newSchema={...r.newSchema,[e]:t},r.propertyUpdate&&(r.propertyUpdate[e]=a[l]||null,r.propertyUpdate[l]=null)}}}return r}({block:g,oldSchema:n.getSchema()||{},newSchema:h});e.propertyUpdate&&Object.keys(e.propertyUpdate).length>0&&u.d({store:n.getPropertiesStore(),data:e.propertyUpdate,transaction:c}),r.a.isEqual(h,e.newSchema)||v||l.p({environment:t,collectionStore:o,update:{schema:e.newSchema},transaction:c})}if(n.getType()!==a.a.page&&n.getType()!==a.a.copyIndicator&&u.d({store:n,data:{type:a.a.page},transaction:c}),i){if(i.collectionViewStore.get()){const e=i.normalizedQueryStore.state,r=n.getValue();if(r&&e&&p){const a=new R.a;for(const e of Object(X.k)(r)){const t=Object(f.c)(o,{table:L.a,id:e}).getValue();a.set({table:L.a,id:e},t)}for(const e of Object(X.e)(r)){const t=Object(f.c)(o,{table:m.a,id:e}),n=t.getValue();if(a.set(t.pointer,n),n&&n.collection_id){const e=Object(f.c)(o,{table:Y.a,id:n.collection_id}).getValue();a.set({table:Y.a,id:n.collection_id},e)}}const i=j({block:r,schema:h,query:e,userId:t.currentUser.id,userTimeZone:y.m,group:s,getRecordValue:R.c.fromRecordMap(a),intl:q.default.getIntl(),normalizedSchemaCache:{}}),l=i.update;S=i.coercionSucceeded,Object.keys(l).length>0&&u.d({store:n.getPropertiesStore(),data:l,transaction:c})}}}if(d.b({childStore:n,parentStore:o,alive:!0,transaction:c}),i&&l.a({collectionViewLocalStore:i,blockId:n.id}),i){const e=i.currentLimit.get(),r=Object(G.l)({environment:t,group:s,collectionViewLocalStore:i,parentStore:o}),a=r.find(e=>e.id===n.id);r.length>=e&&!a&&i.currentLimit.set(r.length+1)}return S}function te(e){const{results:t,collectionViewStore:n,transaction:o}=e,a=n.getPageSortStore(),i=t.map(e=>e.id),s=a.getValue()||[],{removeOps:l,beforeOps:c}=Object(H.a)(s,i.slice(0,v.p));for(const r of Array.from(l))r in c&&g.e({parent:a,remove:Object(f.c)(n,{table:m.a,id:r}),transaction:o});for(const[r,u]of Object.entries(c))if(u){const e=Object(f.c)(n,{table:m.a,id:u});g.c({parent:a,insert:Object(f.c)(n,{table:m.a,id:r}),before:e,transaction:o})}else{const e=t.findIndex(e=>e.id===r),i=t[e-1];g.b({parent:a,insert:Object(f.c)(n,{table:m.a,id:r}),after:i,transaction:o})}const d=a.getValue();if(d&&d.length>v.p){const e=r.a.difference(d,i),t=r.a.uniq([...r.a.clone(e).reverse(),...r.a.clone(d).reverse()]).slice(0,d.length-v.p);for(const n of t)g.e({parent:a,remove:Object(f.c)(a,{table:m.a,id:n}),transaction:o})}}function ne(e){const{environment:t,parentStore:n,targetStore:o,results:a,droppedDirection:l,droppedStores:d,transaction:u,duplicate:h,collectionViewLocalStore:f,group:b}=e,v=f.collectionStore.get(),y=f.collectionViewStore.get();if(v&&y){if(l===s.a.Onto){p.e(t);const e=o.getContentStore(),n=c.f({environment:t,droppedStores:d,duplicate:h,transaction:u});for(const t of n)g.a({parent:e,append:t,transaction:u});return[]}{const e=c.f({environment:t,droppedStores:d,duplicate:h,transaction:u}),g=pe({environment:t,stores:e,transaction:u}),S=a.filter(t=>!e.includes(t)),w=S.indexOf(o),k=l===s.a.Above||l===s.a.Left?w:w+1,C=[...S.slice(0,k),...g,...S.slice(k)];for(const n of g)ee({environment:t,store:n,collectionStore:v,collectionViewLocalStore:f,group:b,coerce:!0,transaction:u});te({results:C,collectionViewStore:y,transaction:u});const M=r.a.map(g,e=>i.a.createChildStore(n,{table:m.a,id:e.id}));return p.q({environment:t,stores:M}),re({environment:t,collectionViewLocalStore:f}),M}}}function oe(e){const{environment:t,parentStore:n,targetStore:o,results:r,droppedDirection:a,files:i,transaction:s,collectionViewLocalStore:l,group:c}=e,d=l.collectionStore.get(),p=l.collectionViewStore.get(),h=M.b(t);if(!d||!p)return;const m=d.inMemoryRecordCache,f=k.a({environment:t,files:i,inMemoryRecordCache:m,pageWidth:h,transaction:s}).map((e,n)=>{const o=i[n],r=u.a({environment:t,type:"page",inMemoryRecordCache:m,properties:{title:Object(C.m)(E.c(o.name))},transaction:s});return g.a({parent:r.getContentStore(),append:e,transaction:s}),r});ne({environment:t,parentStore:n,targetStore:o,droppedDirection:a,collectionViewLocalStore:l,group:c,droppedStores:f,results:r,duplicate:!1,transaction:s})}function re(e){const{environment:t,collectionViewLocalStore:n}=e,o=n.collectionViewBlockStore.get(),r=n.collectionStore.get(),a=n.collectionViewStore.get();if(!r||!a||!o)return;const i=n.currentViewHasSort(),s=a.getType(),c=o.isLocked();i&&s&&b.d[s]&&!c&&S.showDialog({message:q.default.formatMessage(Z.removeSortingConfirmation),items:[{label:q.default.formatMessage(Z.removeSortingButton),color:"red",onAccept:()=>{const e=w.create(t),o=n.normalizedQueryStore.state;o&&(o.sort=[],l.q({collectionViewStore:a,update:{query2:o},transaction:e})),w.commit({environment:t,transaction:e})}},{label:"Cancel",onAccept:()=>{}}],showCancel:!1,keepFocus:!0})}function ae(e){const{environment:t,droppedStores:n,duplicate:o,collectionViewLocalStore:r,group:a,transaction:i}=e,s=r.collectionStore.get(),l=r.collectionViewStore.get(),d=c.f({environment:t,droppedStores:n,duplicate:o,transaction:i});if(s)for(const c of d)ee({environment:t,store:c,collectionStore:s,collectionViewLocalStore:r,group:a,coerce:!0,transaction:i});return l&&te({results:d,collectionViewStore:l,transaction:i}),[]}function ie(e){const{environment:t,parentStore:n,collectionViewLocalStore:o,results:r,group:s,insertAtStart:l,coerce:c,transaction:d}=e,p=o.collectionStore.get(),h=o.collectionViewStore.get(),f=o.getViewType(),g=u.a({environment:t,type:a.a.page,inMemoryRecordCache:n.inMemoryRecordCache,transaction:d});if(p&&h&&f){const e=i.a.createChildStore(n,{table:m.a,id:g.id});return te({results:l?[e,...r]:[...r,e],collectionViewStore:h,transaction:d}),{coercionSucceeded:ee({environment:t,store:g,collectionStore:p,collectionViewLocalStore:o,group:s,coerce:c,transaction:d}),newStore:e}}return{coercionSucceeded:!0,newStore:g}}function se(e){const{collectionViewLocalStore:t,newGroups:n,transaction:o}=e,r=t.collectionViewStore.get(),a=t.normalizedFormatStore.state;if(r){const e={...a,board_groups2:n};l.q({collectionViewStore:r,update:{format:e},transaction:o})}}function le(e){const{environment:t,collectionStore:n,property:o,oldValue:a,newValue:i,transaction:s}=e,l=n.getSchema(),c=t.currentUser.id;n.inMemoryRecordCache.forEachRecord(c,(e,t)=>{if(e.table!==m.a)return;const c=t.value;if(c&&c.parent_id===n.id){const t=function(e){const{block:t,schema:n,property:o,oldValue:a,newValue:i}=e;if(void 0===a.value)return{};if(void 0===i.value)return{};if(!t.properties)return{};const s=t.properties[o];if(!s)return{};const l=n[o];if(!l)return{};if(!Object(B.h)(l))return{};if("select"===l.type){if("select"!==a.type||"select"!==i.type)return{};if(void 0===i.value)return{};const e=T.m(s);if(0===e.length&&void 0===a.value||e.some(e=>(e||"").trim().toLowerCase()===(a.value||"").trim().toLowerCase())){return{[o]:T.h(i.value)}}return{}}if("multi_select"===l.type){if("multi_select"!==a.type||"multi_select"!==i.type)return{};if(void 0===i.value)return{};const e=T.m(s);if(!e.some(e=>e.trim().toLowerCase()===(a.value||"").trim().toLowerCase()))return{};const t=i.value,n=e.map(e=>e.trim().toLowerCase()===(a.value||"").trim().toLowerCase()?t:e);return{[o]:T.d(n)}}if("person"===l.type){if("person"!==a.type||"person"!==i.type)return{};if(void 0===a.value)return{};if(void 0===i.value)return{};const e=i.value,t=a.value,n=T.s(s);if(!n.some(e=>r.a.isEqual(e,t)))return{};const l=n.map(n=>r.a.isEqual(n,t)?e:n);return{[o]:T.f(l)}}Object(O.e)(l)}({block:c,schema:l,property:o,oldValue:a,newValue:i});if(Object.keys(t).length>0){const o=Object(f.b)(n,e,["properties"]);u.d({store:o,data:t,transaction:s})}}}),n.isDefaultRecordCache()&&s.postSubmitCallbacks.push(async e=>{const{value:r}=await h.renameGroup(t,{collectionId:n.id,property:o,oldValue:a,newValue:i}).next();if(r.error)throw r.error})}function ce(e){const{environment:t,collectionStore:n,property:o,value:a,transaction:s}=e,l=n.getSchema(),c=t.currentUser.id;n.inMemoryRecordCache.forEachRecord(c,(e,t)=>{if(e.table!==m.a)return;const c=t.value;if(c&&c.parent_id===n.id){if(function(e){const{block:t,schema:n,property:o,value:a}=e,i=n[o];if(!i)return!1;if(!Object(B.h)(i))return!1;if(!t.properties)return!1;const s=t.properties[o];if(!s)return!1;if("select"===i.type){if("select"!==a.type)return!1;return T.m(s).some(e=>(e||"").trim().toLowerCase()===(a.value||"").trim().toLowerCase())}if("multi_select"===i.type){if("multi_select"!==a.type)return!1;return T.m(s).some(e=>e.trim().toLowerCase()===(a.value||"").trim().toLowerCase())}if("person"===i.type){if("person"!==a.type)return!1;const e=T.s(s),t=a.value;return e.some(e=>r.a.isEqual(e,t))}Object(O.e)(i)}({block:c,schema:l,property:o,value:a})){const t=i.a.createChildStore(n,e);d.a({childStore:t,alive:!1,transaction:s})}}}),n.isDefaultRecordCache()&&s.postSubmitCallbacks.push(async e=>{const r=await h.deleteGroup(t,{collectionId:n.id,property:o,value:a}).next();if(r.value.error)throw r.value.error})}function de(e){const{environment:t,collectionViewLocalStore:n,before:o,store:r,results:s,group:l,transaction:c}=e,d=n.collectionStore.get(),h=n.collectionViewStore.get();if(d&&h){const e=u.a({environment:t,type:a.a.page,inMemoryRecordCache:r.inMemoryRecordCache,transaction:c});ee({environment:t,store:e,collectionStore:d,collectionViewLocalStore:n,group:l,coerce:!0,transaction:c});const f=i.a.createChildStore(d,{table:m.a,id:e.id}),g=s.indexOf(r),b=o?g:g+1;te({results:[...s.slice(0,b),f,...s.slice(b)],collectionViewStore:h,transaction:c}),p.k({environment:t,store:f}),re({environment:t,collectionViewLocalStore:n})}}function ue(e){const{environment:t,collectionViewLocalStore:n,groupFormat:o,newGroupFormat:r,newSchema:a,transaction:i}=e,s=n.collectionStore.get();if(r){!Object(B.g)(o.value,r.value)&&s&&le({environment:t,collectionStore:s,property:o.property,oldValue:o.value,newValue:r.value,transaction:i}),se({collectionViewLocalStore:n,newGroups:(n.normalizedFormatStore.state.board_groups2||[]).map(e=>Object(B.g)(o.value,e.value)?r:e),transaction:i})}a&&s&&l.p({environment:t,collectionStore:s,update:{schema:a},transaction:i})}function pe(e){const{environment:t,stores:n,transaction:o}=e;return n.map(e=>{const n=e.getType();if(n&&(m.p[n]||n===a.a.file)){const n=u.a({environment:t,type:"page",inMemoryRecordCache:e.inMemoryRecordCache,transaction:o});return g.a({parent:n.getContentStore(),append:e,transaction:o}),n}return e})}},Rwql:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("wldR"),l=n("bVDK"),c=n("bFnu"),d=n("OxuQ"),u=n("Hz2r"),p=n("Oy36"),h=n("HRSx"),m=n("VpIZ"),f=n("LeVO"),g=n("wXH4"),b=n("i3uR"),v=n("gbGO"),y=n("2Y+N"),S=n("WgIs"),w=n("ox2z"),k=n("mF3+"),C=n("H4VD"),M=n("uSCg"),E=n("VBxf"),_=n("MBf9"),T=n("7M94"),x=n("lfst"),I=n("g4rC"),P=n("y6Dp"),O=n("QcDD"),B=n("/YYm"),L=n("6sah"),R=n("DaKt"),D=n("zgcg"),A=n("J9+s"),j=n("XfKI");class F extends s.a{constructor(){super(...arguments),this.registries=[x.a],this.storeTypes={mouseStore:c.a,buttonPopupStore:I.a},this.renderActionMenuPopup=()=>{const{device:e}=this.environment,t=Object(j.q)({environment:this.environment,blocks:[this.props.templateStore],publicEditMode:this.pageContext&&this.pageContext.publicEditModeStore.state}),n={key:"section",render:e=>i.a.createElement(y.a,Object.assign({},e)),items:[{key:"Edit",render:e=>i.a.createElement(w.a,Object.assign({},e,{title:t?i.a.createElement(A.FormattedMessage,{defaultMessage:"Edit",id:"database.templatePickerItem.actionMenu.edit"}):i.a.createElement(A.FormattedMessage,{defaultMessage:"View",id:"database.templatePickerItem.actionMenu.view"}),svg:t?k.a.rename:k.a.eye})),action:this.handleEdit},{key:"Duplicate",render:e=>i.a.createElement(w.a,Object.assign({},e,{title:i.a.createElement(A.FormattedMessage,{defaultMessage:"Duplicate",id:"database.templatePickerItem.actionMenu.duplicate"}),svg:k.a.duplicate})),action:this.handleDuplicate},{key:"Delete",render:e=>i.a.createElement(w.a,Object.assign({},e,{disabled:!t,style:{opacity:t?1:.5},title:i.a.createElement(A.FormattedMessage,{defaultMessage:"Delete",id:"database.templatePickerItem.actionMenu.delete"}),svg:k.a.trash})),action:t?this.handleDelete:()=>{}}]};let o;return o=e.isMobile?{menuType:v.b.MenuType.ActionSheet}:{menuType:v.b.MenuType.Popup,width:200},i.a.createElement(v.b,Object.assign({},o),i.a.createElement(S.a,{type:S.a.Type.Vertical,initialFocus:void 0,sections:[n]}))},this.handleEdit=()=>{const{buttonPopupStore:e}=this.stores;this.navigateToBlock(this.props.templateStore),e.reset(),P.P(this.environment,{name:"edit"})},this.handleDuplicate=()=>{const{buttonPopupStore:e}=this.stores,{templateStore:t,collectionStore:n}=this.props,o=_.createAndCommit(this.environment,e=>u.c({environment:this.environment,collectionStore:n,templateStore:t,transaction:e}));this.navigateToBlock(o),e.reset(),P.P(this.environment,{name:"duplicate"})},this.handleDelete=async()=>{const{templateStore:e,collectionStore:t}=this.props;await E.confirmUserAction({message:i.a.createElement(A.FormattedMessage,{defaultMessage:"Are you sure you would like to delete this template?",id:"database.confirmDialog.templatePickerItem.deleteMessage"}),acceptLabel:i.a.createElement(A.FormattedMessage,{defaultMessage:"Delete",id:"database.confirmDialog.templatePickerItem.deleteButton.label"})})&&(_.createAndCommit(this.environment,n=>u.b({collectionStore:t,templateStore:e,transaction:n})),P.P(this.environment,{name:"delete"}))},this.handleMouseMove=()=>{R.a.state||this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.getRecordValue=this.props.collectionStore.getRecordValue}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):C.navigate({environment:this.environment,url:e})}renderComponent(){const{device:e}=this.environment,{templateStore:t,isMobile:n,isOverlay:o,focused:r,locked:a}=this.props,{mouseStore:s,buttonPopupStore:c}=this.stores,u=!a&&(s.state.mouseEntered||c.state.open||n||o),f=t.getValue();if(!f)return;const g=m.g({table:h.a,value:f,getRecordValue:this.getRecordValue});return i.a.createElement(l.a,{type:"custom_template",format:o?"collection-overlay":"page-menu-item",locked:this.props.locked,icon:i.a.createElement(p.a,{disabled:!0,icon:g,isEmptyPage:t.isEmptyPage(),size:e.isMobile&&o?24:20,isLarge:!o,style:{...!o&&{pointerEvents:"none",marginRight:10}},pageIconStyle:{...!o&&{fill:this.theme.lightIconColor}}}),title:i.a.createElement(d.a,{store:t}),onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,right:u&&this.renderActionMenuButton(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,focused:r})}renderActionMenuButton(){const{isMobile:e,isOverlay:t}=this.props,{buttonPopupStore:n}=this.stores;return i.a.createElement(f.a,{renderTooltip:()=>i.a.createElement(A.FormattedMessage,{defaultMessage:"Edit this template",id:"database.templatePickerItem.editTemplate.tooltip"}),delayThreshold:300,render:o=>i.a.createElement(b.a,{popupType:e?g.c.PopupType.SlideUp:g.c.PopupType.Popup,placementToOrigin:b.a.Placement.Right,originGap:12,buttonPopupStore:n,renderOrigin:n=>i.a.createElement(L.a,Object.assign({className:e||t?void 0:T.y,isMobile:e&&t,style:{...!t&&{marginRight:0}}},Object(M.a)(o,n))),render:this.renderActionMenuPopup})})}navigateToBlock(e){const{currentBlockStore:t}=O.default.state,n=t?Object(B.a)({store:t,peekViewBlockId:e.id,fullyQualified:!1}):Object(B.a)({store:e,fullyQualified:!1});this.navigate(n)}}F.contextTypes=D.a;var V=F,N=n("nM47"),U=n("g8hj"),z=n("ZQ9l"),X=n("nObc"),Y=n("RQ1t"),H=n("nPEg"),q=n("GZ8e"),W=n("IzPW"),G=n("Fco/"),Z=n("0CAA");class K extends s.a{constructor(){super(...arguments),this.storeTypes={menuListStore:Y.a},this.renderCollectionTemplatePageMenuItem=e=>{const{device:t}=this.environment,{collectionStore:n,locked:o}=this.props;return{key:e.id,render:r=>i.a.createElement(V,Object.assign({},r,{key:e.id,isOverlay:this.props.isOverlay,collectionStore:n,templateStore:e,isMobile:t.isMobile,locked:o})),action:t=>{Object(N.j)(this.environment)&&this.props.onTemplateClick({templateStore:e,isKeyboard:"keydown"===t.event.type})}}},this.handleEmptyPageContinueClick=e=>{Object(N.j)(this.environment)&&(this.props.onEmptyPageClick(),P.ge(this.environment,{name:"empty",is_keyboard:"keydown"===e.event.type}))},this.handleEmptyEnter=()=>{Object(N.j)(this.environment)&&(this.props.onEmptyPageClick(),P.ge(this.environment,{name:"empty",is_keyboard:!0}))},this.handleNewCollectionTemplateClick=()=>{const{collectionStore:e}=this.props;if(Object(N.j)(this.environment)){const t=_.createAndCommit(this.environment,t=>u.a({environment:this.environment,collectionStore:e,transaction:t}));t&&this.navigateToBlock(t),P.hb(this.environment)}},this.handleCollectionTemplatesReorder=e=>{const{collectionStore:t}=this.props,{menuListStore:n}=this.stores;n.unsetFocus(),_.createAndCommit(this.environment,n=>u.d({collectionStore:t,newTemplateIds:e,transaction:n}))}}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):C.navigate({environment:this.environment,url:e})}renderComponent(){const{device:e}=this.environment,{collectionStore:t,locked:n,isOverlay:o}=this.props,s=t.getTemplatePagesStores();if(!s.every(e=>e.isReady()))return;const c=s.map(e=>e.id),d={key:"empty",render:(t,n)=>{if(0!==c.length)return i.a.createElement(l.a,Object.assign({title:i.a.createElement(A.FormattedMessage,{defaultMessage:"Empty page",id:"database.templatePicker.emptyPageTitle"}),type:"empty_page",format:o?"collection-overlay":"page-menu-item",locked:this.props.locked,icon:i.a.createElement(p.a,{disabled:!0,icon:void 0,isEmptyPage:!0,size:e.isMobile&&o?24:20,isLarge:!o,style:{...!o&&{pointerEvents:"none",marginRight:10}},pageIconStyle:{...!o&&{fill:this.theme.lightIconColor}}})},t))},action:this.handleEmptyPageContinueClick},u={key:"create-template",render:(e,t)=>this.renderNewButtonMenuItem(e),action:this.handleNewCollectionTemplateClick},h=i.a.createElement(S.a,{type:S.a.Type.Vertical,store:this.stores.menuListStore,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,onEmptyEnter:this.handleEmptyEnter,sections:r.a.compact([0!==c.length&&{key:"templates",render:t=>{const n=t.children.slice(0,t.children.length-1),r=t.children[t.children.length-1];return i.a.createElement(y.a,Object.assign({},t,{disableDesktopPadding:!o,disableMobileBorders:!0,children:i.a.createElement(a.Fragment,null,e.isMobile||this.props.locked?n.map((e,t)=>n[t]):i.a.createElement(U.b,{direction:U.a.Vertical,keys:c,renderKey:(e,t)=>n[c.indexOf(e)],onDrop:this.handleCollectionTemplatesReorder}),r)}))},items:[...s.map(e=>this.renderCollectionTemplatePageMenuItem(e)),d]},n?void 0:{key:"create-template",render:e=>i.a.createElement(y.a,Object.assign({topBorder:o,disableDesktopPadding:!o,disableMobileBorders:!0},e)),items:[u]}])});if(o){let t;return t=e.isMobile?{menuType:v.b.MenuType.Modal,title:i.a.createElement(A.FormattedMessage,{defaultMessage:"Database templates",id:"database.mobileTemplatesMenu.title"}),left:i.a.createElement(H.CancelMenuText,null),onClickLeft:this.props.onCancelClick}:{menuType:v.b.MenuType.Popup,width:360},i.a.createElement(v.b,Object.assign({},t,{header:this.renderTitle()}),0===c.length&&i.a.createElement(y.a,null,i.a.createElement("div",{style:{fontSize:14,padding:e.isMobile?"12px 16px":"0 14px 3px 14px",color:this.theme.lightTextColor,wordBreak:"keep-all",...e.isMobile&&{background:this.theme.contentBackground,boxShadow:"0 1px 0 ".concat(this.theme.regularDividerColor),marginBottom:1}}},i.a.createElement(A.FormattedMessage,{defaultMessage:"Replicate page formats inside this database with templates.",id:"database.emptyTemplatesList.info"}))),h)}return h}renderTitle(){if(this.environment.device.isMobile)return;const e=this.props.collectionStore.getNameStore().getValue(),t=e?Object(W.m)(e,this.props.collectionStore):i.a.createElement(A.FormattedMessage,{defaultMessage:"Untitled",id:"database.templateList.UntitledDatabaseTitle"});return i.a.createElement(z.a,{style:{marginTop:6},title:i.a.createElement(q.a,{prefix:i.a.createElement(A.FormattedMessage,{id:"database.templatesList.templatesFor",defaultMessage:"Templates for",description:"Followed by the name of the database"}),viewName:t}),right:i.a.createElement(G.a,{helpButtonContext:"collection_templates_menu",href:Object(Z.a)("guides.databaseTemplates")})})}renderNewButtonMenuItem(e){const{isOverlay:t}=this.props,n=i.a.createElement(A.FormattedMessage,{defaultMessage:"New template",id:"database.templateView.newTemplateButton"});return t?i.a.createElement(X.a,Object.assign({isBlue:this.environment.device.isDesktop,title:n},e)):i.a.createElement(l.a,Object.assign({title:n,type:"new_template",format:t?"collection-overlay":"page-menu-item",locked:this.props.locked},e))}navigateToBlock(e){const{currentBlockStore:t}=O.default.state,n=t?Object(B.a)({store:t,peekViewBlockId:e.id,fullyQualified:!1}):Object(B.a)({store:e,fullyQualified:!1});this.navigate(n)}}K.contextTypes=D.a;t.a=K},RyVQ:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1,hasPassword:!1}}isSetNewPasswordModal(){return!0===this.state.setNewPassword}isRemovePasswordModal(){return!0===this.state.removePassword}isPasswordModalClosed(){return!this.state.open}}t.a=new r},S26v:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"i",(function(){return f}));n("UxlC");var o=n("CxY0"),r=n.n(o);function a(e,t={}){try{return r.a.parse(e,!0,t.slashesDenoteHost)}catch(n){try{return{...r.a.parse(e),query:{}}}catch(n){return r.a.parse("",!0)}}}function i(e){return r.a.format(e)}function s(e){const t=a(e.url);return t.search=null,t.query=e.query||{},t.hash=e.hash||null,i(t)}function l(e){const t=a(e);return t.protocol=null,t.host=null,t.hostname=null,t.slashes=!1,i(t)}function c(e){const t=a(e);return Boolean(!t.host&&!t.hostname)}function d(e){const t=a(e.relativeUrl),n=a(e.baseUrl);return t.protocol=n.protocol,t.host=n.host,t.hostname=n.hostname,i(t)}function u(e){const t=a(e.url);return t.path=null,t.pathname=e.pathname,i(t)}function p(e,t){const n=a(e);return n.search=null,delete n.query[t],i(n)}function h(e,t){const n=a(e);return n.search=null,n.query={...n.query,...t},i(n)}const m={"thumpmagical.top":!0,"geoloc8.com":!0,"kutabminaj.top":!0,"cutisbuhano.xyz":!0,"bhapurimillat.xyz":!0,"kingoffightermens.top":!0,"boxgeneral.xyz":!0,"ahnd.ga":!0,"steptossmessage.top":!0,"earthdiscover.xyz":!0,"sopecasniteroi.com.br":!0,"clangchapshop.xyz":!0};function f(e){const{str:t,allowNoProtocol:n}=e;if(t&&"string"==typeof t)try{const e=a(t);if(e.host&&m[e.host])return;if("http:"===e.protocol||"https:"===e.protocol||"mailto:"===e.protocol||"itms-apps:"===e.protocol||"tel:"===e.protocol||n&&!e.protocol)return t}catch(o){return}}},SGmk:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("mF3+"),i=n("wldR"),s=n("wlCD"),l=n("JwIb"),c=n("fVGD"),d=n("MeYt");class u extends i.a{renderComponent(){return this.props.isLoading?this.renderLoading():r.a.createElement("div",{style:this.getBackgroundStyle()},r.a.createElement(d.a,{onClick:this.props.onClick,disabled:this.props.disabled},r.a.createElement(l.a,{style:{background:void 0,...this.props.style},iconSvg:this.props.iconSvg||a.a.compass,right:this.props.right},this.props.children)))}renderLoading(){const{file:e,name:t,size:n,progressPercent:o}=this.props;let a;return a=e?r.a.createElement("div",{key:"FileLoadingSpinner"},t,r.a.createElement("div",{style:l.a.smallButtonStyle},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",null,n," ","–"," "),r.a.createElement(s.a,{style:{marginLeft:3,marginRight:3}}),r.a.createElement(c.a,{percentage:o})))):r.a.createElement("div",{key:"LoadingSpinner"},r.a.createElement(s.a,{style:{marginLeft:3,marginRight:3}})),r.a.createElement(l.a,{style:this.props.style,iconSvg:this.props.iconSvg},a)}getBackgroundStyle(){return{background:this.theme.embedPlaceholderBackground,width:"100%",borderRadius:3}}}u.captionStyle=l.a.captionStyle,t.a=u},"SR/M":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("ZQ9l"),s=n("MeYt"),l=n("gbGO");class c extends a.a{renderComponent(){const{focused:e,disabled:t,onClick:n,allowTextSelection:o,disableTransition:a,className:l,ignoreLocalHoverState:c,...d}=this.props;return r.a.createElement(s.a,{className:l,onClick:n,focused:!t&&e,disabled:t,disabledFeedback:this.props.disabledFeedback,disableTransition:a,mobileFeedback:this.environment.device.isMobile,allowTextSelection:o,ignoreLocalHoverState:c,style:{width:"100%"}},r.a.createElement(i.a,Object.assign({allowTextSelection:o},d)))}}c.contextTypes={...l.c},t.a=c},SRc3:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("VAix");function i(e,t){let n=r.a.isArray(t)?t:[];return n=n.filter(t=>t!==e.id),n}function s(e,t){let n=r.a.isArray(t)?t:[];return n=n.filter(t=>t&&t.id&&t.id!==e.remove.id),n}var l=n("AvkE"),c=n("HRSx"),d=n("6SEd"),u=n("NoAG"),p=n("nWgh"),h=n("fIr1");var m={table:"apple_token",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,access_token:h.a.String,refresh_token:h.a.String,apple_user_id:h.a.String}};var f={table:"google_token",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,token:h.a.String,google_user_id:h.a.String}},g=n("nFzZ");var b={table:"drive_token",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,notion_user_id:h.a.UUID,google_user_id:h.a.String,email:h.a.String,access_token:h.a.String,refresh_token:h.a.String,expires_at:h.a.Number}},v=n("FUUC"),y=n("8L2b"),S=n("408K");var w={table:"temporary_password",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,password:h.a.String,timestamp:h.a.Number}};var k={table:"password",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,password_hash:h.a.String}};var C={table:"token",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,user_id:h.a.UUID,timestamp:h.a.Number,revoked:h.a.Boolean,user_ids:h.a.UUIDArray,auth_types:h.a.JSON}},M=n("9axl"),E=n("5/h/"),_=n("RJuv"),T=n("6CqZ"),x=n("mcFc"),I=n("sgGF");var P={table:"trello_token",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,account:h.a.String,request_token:h.a.String,request_secret:h.a.String,access_token:h.a.String,access_secret:h.a.String}};var O={table:"asana_token",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,access_token:h.a.String,refresh_token:h.a.String,account:h.a.String}},B=n("y/Vh");var L={table:"slack_notification",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,sent:h.a.Boolean}},R=n("bmSz");var D={table:"snapshot",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,parent_table:h.a.String,parent_id:h.a.UUID,collection_ids:h.a.UUIDArray,inline_collection_block_ids:h.a.UUIDArray,timestamp:h.a.String,authors:h.a.JSON,space_id:h.a.UUID}},A=n("kaWB"),j=n("LB1/");var F={table:"used_credit",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,amount:h.a.Number}},V=n("NCLm");var N={table:"evernote_token",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,account:h.a.String,request_token:h.a.String,request_secret:h.a.String,access_token:h.a.String,access_secret:h.a.String,created_time:h.a.Number}};n("g90h");var U={table:"space_recover_pages",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,user_id:h.a.UUID,space_id:h.a.UUID,pages:h.a.StringArray}};var z={table:"block_token",columnTypes:{id:h.a.UUID,token_id:h.a.UUID,version:h.a.Number,last_version:h.a.Number}},X=n("G+Ai");var Y={table:"bot_token",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,bot_id:h.a.UUID,created_at:h.a.Number,revoked_at:h.a.Number,secret:h.a.String}},H=n("ndMU"),q=n("p2sz");var W={table:"space_invite_link",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,space_id:h.a.String,invite_link_code:h.a.String}};var G={table:"education_domain",columnTypes:{id:h.a.String,version:h.a.Number,last_version:h.a.Number,domain:h.a.String,activated_count:h.a.Number},requiredColumns:{domain:!0,activated_count:!0},defaultColumnValues:{activated_count:0}};var Z={table:"education_email",columnTypes:{id:h.a.String,version:h.a.Number,last_version:h.a.Number,email:h.a.String,activated:h.a.Boolean},requiredColumns:{email:!0,activated:!0},defaultColumnValues:{activated:!1}};var K={table:"public_email_domain",columnTypes:{id:h.a.String,version:h.a.Number,last_version:h.a.Number,domain:h.a.String},requiredColumns:{domain:!0}},J=n("mINO");var Q={table:"user_data_consent_permissions",columnTypes:{id:h.a.String,version:h.a.Number,last_version:h.a.Number,expiry_time:h.a.Number}},$=n("QKT5"),ee=n("gp1y"),te=n("ZTW6"),ne=n("KGQE");var oe={table:"subscription",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,space_id:h.a.UUID,provider:h.a.String,api_version:h.a.String,product:h.a.String,expires_at:h.a.Number,data:h.a.JSON,updated_at:h.a.Number,write_id:h.a.UUID},requiredColumns:{space_id:!0,provider:!0,data:!0,updated_at:!0}};var re={table:"space_domain",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,domain:h.a.String}};var ae={table:"admin_api_op_log",columnTypes:{id:h.a.UUID,request_id:h.a.UUID,timestamp:h.a.Number,event_name:h.a.String,operation_index:h.a.Number,operation:h.a.JSON,version:h.a.Number,last_version:h.a.Number},requiredColumns:{id:!0,version:!0,request_id:!0,timestamp:!0,event_name:!0,operation:!0,operation_index:!0}};var ie={table:"admin_api_log",columnTypes:{id:h.a.UUID,timestamp:h.a.Number,admin_user_id:h.a.UUID,event_name:h.a.String,params:h.a.JSON,version:h.a.Number,last_version:h.a.Number,did_write:h.a.Boolean},requiredColumns:{id:!0,event_name:!0,admin_user_id:!0,params:!0,timestamp:!0,version:!0}},se=n("CQbt");var le={table:"integration_token",columnTypes:{id:h.a.UUID,version:h.a.Number,last_version:h.a.Number,integration_id:h.a.UUID,created_at:h.a.Number,revoked_at:h.a.Number,token_hash:h.a.String}};var ce={table:"oauth_authorization_code",columnTypes:{id:h.a.UUID,created_time:h.a.Number,version:h.a.Number,last_version:h.a.Number,redirect_uri:h.a.String,created_by_id:h.a.UUID,created_by_table:h.a.String,bot_id:h.a.UUID,created_bot_token_id:h.a.UUID,revoked_at:h.a.Number}};const de={block:c.j,customer:p.b,notion_user:E.c,space:v.h,space_view:y.b,token:C,user_root:M.b,temporary_password:w,password:k,collection:d.b,collection_view:u.b,apple_token:m,google_token:f,follow:_.b,activity:T.c,notification:x.c,firebase_token:I.b,trello_token:P,asana_token:O,slack_integration:S.b,slack_notification:L,discussion:R.b,comment:A.b,snapshot:D,credit:j.b,used_credit:F,user_settings:V.b,evernote_token:N,space_recover_pages:U,drive_token:b,block_token:z,user_metadata:B.b,bot:X.b,bot_token:Y,saml_config:H.b,experiment:q.a,education_domain:G,education_email:Z,space_invite_link:W,public_email_domain:K,user_data_consent_permissions:Q,access_request:$.b,csat_feedback:ee.g,template_checklist:te.b,page_visit:ne.b,subscription:oe,space_domain:re,admin_api_log:ie,admin_api_op_log:ae,integration:se.b,integration_token:le,oauth_authorization_code:ce},ue=(J.g(...Object(g.j)(de)),{});r.a.forOwn(de,e=>{e.columnTypes&&r.a.forOwn(e.columnTypes,(e,t)=>{t&&(ue[t]=!0)})});var pe=de,he=n("xL2i"),me=(n("cBa6"),n("CARr"));var fe=n("5xGH");n.d(t,"b",(function(){return ve})),n.d(t,"a",(function(){return ye})),n.d(t,"c",(function(){return ke}));const ge={set:(e,t,n)=>e,update:(e,t,n)=>(t||(t={}),{...t,...e}),listBefore:function(e,t){let n=r.a.isArray(t)?t:[];n=i({id:e.id},n);const o=r.a.findIndex(n,t=>t===e.before);return o>=0?n.splice(o,0,e.id):n.unshift(e.id),n},listAfter:function(e,t){let n=r.a.isArray(t)?t:[];n=i({id:e.id},n);const o=r.a.findIndex(n,t=>t===e.after);return o>=0?n.splice(o+1,0,e.id):n.push(e.id),n},listRemove:i,keyedObjectListBefore:function(e,t){let n=r.a.isArray(t)?t:[];n=s({remove:{id:e.value.id}},n);const o=e.before?e.before.id:void 0,a=r.a.findIndex(n,e=>e&&e.id&&e.id===o);return a>=0?n.splice(a,0,e.value):n.unshift(e.value),n},keyedObjectListAfter:function(e,t){let n=r.a.isArray(t)?t:[];n=s({remove:{id:e.value.id}},n);const o=e.after?e.after.id:void 0,a=r.a.findIndex(n,e=>e&&e.id&&e.id===o);return a>=0?n.splice(a+1,0,e.value):n.push(e.value),n},keyedObjectListRemove:s,keyedObjectListUpdate:function(e,t){const n=r.a.isArray(t)?[...t]:[],o=r.a.findIndex(n,t=>t&&t.id&&t.id===e.value.id);return o>=0?n[o]=e.value:n.push(e.value),n},appendActivity:l.m,setPermissionItem:he.k,setSingletonPermissionItem:he.l,addRelation:function(e,t){const n=me.t(t),o=r.a.uniq([...n,e.id]);return me.g(o)},removeRelation:function(e,t){const n=me.t(t),o=r.a.without(n,e.id);return me.g(o)},copyFile:(e,t,n)=>{const o=t.file_ids||[];return o.includes(e.fileId)?{...t}:{...t,file_ids:[...o,e.fileId]}}};function be(e){return void 0===e.size?1:e.size}const ve=function(e,t){let n,o,i=t||{};if(n=e.path.length>0?r.a.get(i,e.path):i,o=i.version?i.version+be(e):be(e),!ge[e.command])throw new Error("Unknown operation command ".concat(e.command,"."));n=(0,ge[e.command])(e.args,n,o);i=e.path.length>0?function(e,t,n){if(0===t.length)throw new fe.a("Empty path to set");const o=r.a.clone(e);let a=o;for(let i=0;i<t.length;i++){const e=t[i];if(i===t.length-1)a[e]=n;else{let n=r.a.clone(a[e]);null==n&&(n="number"==typeof t[i+1]?[]:{}),a[e]=n,a=n}}return o}(i,e.path,n):n;const s=pe[e.pointer.table],l=s.requiredColumns||{},c=s.defaultColumnValues||{};for(const r of Object.keys(l))!t||g.h(t[r])||i&&!g.h(i[r])||(c.hasOwnProperty(r)?i[r]=c[r]:i[r]=t[r]);if(i&&t){const e=t.file_ids||[];(i.file_ids||[]).length<e.length&&(i.file_ids=e)}return i=Object(a.a)(i)||{},i.id=e.pointer.id,i.version=o,i},ye=function(e,t){let n;switch(t=t||{},n=e.path.length>0?r.a.get(t,e.path):t,e.command){case"set":return((e,t)=>({pointer:e.pointer,path:e.path,command:"set",args:g.h(t)?null:t}))(e,n);case"update":return((e,t)=>{t||(t={});const n={};return Object.keys(e.args).forEach(e=>{n[e]=t[e],void 0===n[e]&&(n[e]=null)}),{pointer:e.pointer,path:e.path,command:"update",args:n}})(e,n);case"listBefore":return function(e,t){const n=r.a.isArray(t)?t:[],o=n.findIndex(t=>t===e.args.id);if(o>=0){const t=n[o+1];return{pointer:e.pointer,path:e.path,command:"listBefore",args:{id:e.args.id,before:t}}}return{pointer:e.pointer,path:e.path,command:"listRemove",args:{id:e.args.id}}}(e,n);case"listAfter":return function(e,t){const n=r.a.isArray(t)?t:[],o=n.findIndex(t=>t===e.args.id);if(o>=0){const t=n[o-1];return{pointer:e.pointer,path:e.path,command:"listAfter",args:{id:e.args.id,after:t}}}return{pointer:e.pointer,path:e.path,command:"listRemove",args:{id:e.args.id}}}(e,n);case"listRemove":return function(e,t){const n=r.a.isArray(t)?t:[],o=n.findIndex(t=>t===e.args.id),a=n[o-1];return a?{pointer:e.pointer,path:e.path,command:"listAfter",args:{id:e.args.id,after:a}}:{pointer:e.pointer,path:e.path,command:"listBefore",args:{id:e.args.id}}}(e,n);default:return}};function Se({operation:e,previousOperation:t}){return{...e,args:e.args,size:be(e)+be(t)}}function we({operation:e,previousOperation:t}){return{...e,args:{...t.args,...e.args},size:be(e)+be(t)}}function ke(e){const[t,...n]=e,o=[t];for(const a of n){const e=o[o.length-1],t=r.a.isEqual(a.pointer,e.pointer)&&r.a.isEqual(a.path,e.path);"set"===a.command&&"set"===e.command&&t?o[o.length-1]=Se({operation:a,previousOperation:e}):"update"===a.command&&"update"===e.command&&t?o[o.length-1]=we({operation:a,previousOperation:e}):o.push(a)}return o}},SYQx:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1,rect:{top:0,right:0,left:0,bottom:0,width:0,height:0}}}}t.a=new r},Sb6f:function(e,t,n){"use strict";const o={sans:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"',serif:'Lyon-Text, Georgia, YuMincho, "Yu Mincho", "Hiragino Mincho ProN", "Hiragino Mincho Pro", "Songti TC", "Songti SC", "SimSun", "Nanum Myeongjo", NanumMyeongjo, Batang, serif',mono:"iawriter-mono, Nitti, Menlo, Courier, monospace",githubMono:'"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',emailMono:"monospace",temporarySans:'inter, Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"'},r={fontWeight:{regular:400,medium:500,semibold:600,bold:700},fontFamily:o,fontSize:{UISmall:{desktop:12,mobile:14},UIRegular:{desktop:14,mobile:16}},lineHeight:{UISmall:{desktop:"16px",mobile:"20px"},UIRegular:{desktop:"20px",mobile:"22px"}},textOverflowStyle:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},getHeaderFontFamily:e=>{switch(e?e.pageFont:void 0){case"mono":return o.mono;case"serif":return o.serif;default:return o.sans}}};t.a=r},Sd8d:function(e,t,n){"use strict";var o=n("g4rC");t.a=new o.a},SeL1:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("wldR"),l=n("fJHT"),c=n("F9et"),d=n("ALSZ"),u=n("rGsA"),p=n("unoy"),h=n("DNgp"),m=n("w5u6"),f=n("VyA+"),g=n("Ng05"),b=n("lCCU"),v=n("mF3+"),y=n("Catn"),S=n("MBf9"),w=n("Ajfl"),k=n("HSWF"),C=n("58VE"),M=n("HTHG"),E=n("vl8/"),_=n("J9+s");const T=Object(_.defineMessages)({defaultPlaceholder:{defaultMessage:"Add a comment…",id:"discussionInput.defaultPlaceholder.addComment"}});class x extends s.a{constructor(){super(...arguments),this.storeTypes={},this.handleUp=()=>{if(!this.isEditing.state)return;(this.props.discussionInputStore.state.textStore.getValue()||[]).length>0||this.props.onEditPreviousComment&&this.props.onEditPreviousComment()},this.handleInsertMention=async()=>{const e=h.default.state;"editing"===e.mode&&e.store===this.props.discussionInputStore.state.textStore||(p.n({store:this.props.discussionInputStore.state.textStore}),await m.default.afterNextFlush()),d.e(this.environment,{page:!0,createPage:!1,user:!0,bot:!0,date:!0,reminder:!1})},this.handleTextChange=()=>{if(this.props.shouldSaveUnsentComments){const e=this.props.discussionInputStore;y.a.set({userId:this.environment.currentUser.id,key:Object(k.m)(this.props.parentStore.id),value:e.state.textStore.getValue()})}},this.handleSubmit=()=>{this.props.onSubmit(),this.props.shouldSaveUnsentComments&&y.a.set({userId:this.environment.currentUser.id,key:Object(k.m)(this.props.parentStore.id),value:null})},this.isEditing=this.createComputedStore(()=>{const e=h.default.state;return"editing"===e.mode&&e.store===this.props.discussionInputStore.state.textStore}),this.isEmpty=this.createComputedStore(()=>{const e=this.props.discussionInputStore.state.textStore.getValue();return!e||0===e.length})}willMount(){if(this.props.shouldSaveUnsentComments){const e=y.a.get({userId:this.environment.currentUser.id,key:Object(k.m)(this.props.parentStore.id)});e&&S.createAndCommit(this.environment,t=>{w.s({environment:this.environment,store:this.props.discussionInputStore.state.textStore,value:e,transaction:t})})}}renderComponent(){const{device:e}=this.environment;return i.a.createElement(f.a,{capture:this.isEditing.state,onCommandEnter:r.a.identity},i.a.createElement("div",{style:x.emptyInputWrapStyle},!this.props.isEditingExistingComment&&this.renderCurrentUserAvatar(),this.renderTextField(),!e.isMobileBrowser&&this.renderMentionButton(),this.renderSendButton(),!this.props.isMobileSlideUpMenu&&i.a.createElement(u.a,{show:this.isEditing.state})))}renderCurrentUserAvatar(){return i.a.createElement(C.a,{userValue:Object(M.g)(this.environment),size:20,avatarShouldShowShadow:!0,style:this.getInputCurrentUserAvatarStyle()})}renderTextField(){const{device:e}=this.environment;return i.a.createElement(l.a,{style:this.getTextFieldStyle(),store:this.props.discussionInputStore.state.textStore,parentStore:this.props.parentStore,disabled:!1,onEnter:this.handleSubmit,onChange:this.handleTextChange,onEsc:this.props.onCancel,onUp:this.handleUp,placeholder:this.props.placeholder||E.default.formatMessage(T.defaultPlaceholder),isDiscussionInput:!0,disableSlashCommands:!0,disableInsertText:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableEmbedMenu:!0,disableDateReminderMentions:!0,disableMobileActionBar:!0,disableStyleAnnotations:e.isMobileBrowser})}renderMentionButton(){return i.a.createElement(c.a,{capture:!0,render:e=>i.a.createElement(b.a,Object.assign({icon:v.a.mention,style:{marginTop:3,marginLeft:8,...this.getShouldShowButtonStyle()},onClick:this.handleInsertMention},e))})}renderSendButton(){return i.a.createElement(g.a,{onClick:this.handleSubmit,style:{marginLeft:8,...this.getShouldShowButtonStyle()}},this.props.isEditingExistingComment?i.a.createElement(_.FormattedMessage,{defaultMessage:"Save",id:"discussionInput.saveComment.button"}):i.a.createElement(_.FormattedMessage,{defaultMessage:"Send",id:"discussionInput.sendComment.button"}))}getShouldShowButtonStyle(){return{...!(this.isEditing.state||!this.isEmpty.state)&&{pointerEvents:"none",opacity:0}}}getInputCurrentUserAvatarStyle(){return{marginRight:8,flexShrink:0,flexGrow:0,marginTop:4,marginBottom:2}}getTextFieldStyle(){const{device:e}=this.environment;return{fontSize:14,marginTop:3,marginBottom:2,maxHeight:e.isReactNative?"50vh":"70vh",overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch"}}}x.emptyInputWrapStyle={display:"flex",alignItems:"flex-start",flexGrow:1},t.a=x},SiBm:function(e,t,n){"use strict";n("E9XD"),n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("LEzx"),i=n("klxS"),s=n("tvfY"),l=n("5/h/"),c=n("9axl");class d extends a.a{getInitialState(){return{open:!1,createType:void 0}}getUserIds(e){return e.currentUser.loggedInUserIds}getAllSpaceViewStores(e){return this.getUserIds(e).reduce((t,n)=>[...t,...this.getSpaceViewStores(e,n)],[])}hasAtLeastOneTeamPlan(e){return this.getAllSpaceViewStores(e).map(e=>{const t=e.getSpaceStore();if(t)return t.getPlanType()}).some(e=>"team"===e)}getSpaceViewIds(e,t){return new i.a(e,{table:c.a,id:t},{userId:t}).getSpaceViewIds()}getSpaceViewStores(e,t){const n=new i.a(e,{table:c.a,id:t},{userId:t}).getSpaceViewStores();return r.a.uniqBy(n,e=>{const t=e.getValue();return t&&t.space_id}).filter(e=>Boolean(e.getValue()))}getUserEmailAddress(e,t){return new s.a(e,{table:l.a,id:t},{userId:t}).getEmail()}}t.a=new d},SjXP:function(e,t,n){"use strict";var o=n("LEzx"),r=n("LvDl"),a=n.n(r);class i extends o.a{getInitialState(){return{initiator:"none",dragging:!1,waiting:!1}}hasDragged(){return this.state.dragging&&!a.a.isEqual(this.state.startingPoint,this.state.currentPoint)}}t.a=i},"T+jX":function(e,t,n){"use strict";function o(e){return e||null}n.d(t,"a",(function(){return o}))},T1kp:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var o=n("Iece"),r=n("EtGu");function a(e){const{renderFullScreenNode:t,fullScreenNodeRect:n}=e;r.a.setState({...r.a.state,isOpen:!0,fullscreenNodeAnimationComplete:!1,backgroundAnimationComplete:!1,renderFullScreenNode:t,startScrollTop:o.a.state.scrollTop,fullScreenNodeRect:n})}function i(){r.a.setState({...r.a.state,isOpen:!1})}},T1td:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("P8+q"),l=n.n(s),c=n("wldR"),d=n("QkuB"),u=n("2Y+N"),p=n("WgIs"),h=n("gbGO"),m=n("dXb3"),f=n("zTdN"),g=n("G4GV"),b=n("J9+s"),v=n("nPEg");class y extends c.a{constructor(){super(...arguments),this.storeTypes={inputStore:g.a}}renderComponent(){const{onAccept:e,schema:t,onClose:n,allowProperty:o,intl:a,isRelationProperty:s}=this.props,{inputStore:c}=this.stores;let g=Object.keys(t);g=i.a.sortBy(g,e=>{const n=t[e];return n?n.name:""}),g=i.a.without(g,"title"),g.unshift("title");const y=c.state.inputValue;if(o&&(g=g.filter(e=>{const n=t[e];return n&&o(n)})),y){let e=g.map(e=>{const n=t[e];return n&&n.name});e=l.a.filter(y,e).map(({original:e})=>e),g=g.filter(n=>{const o=t[n];return o&&o.name&&e.includes(o.name)})}const S=i.a.compact(g.map(n=>{const o=t[n];if(o)return{key:n,render:e=>r.a.createElement(d.b,Object.assign({},e,{propertySchema:o,format:d.b.DisplayFormat.Name})),action:()=>e(n)}})),w=[{key:0,render:e=>r.a.createElement(u.a,Object.assign({},e)),items:S}],{device:k}=this.environment,C=r.a.createElement(u.a,{isInput:!0},r.a.createElement(m.a,{focus:!k.isMobile||void 0,focusAfterAnimation:!0,value:y,onChange:e=>this.stores.inputStore.setState({focus:!0,inputValue:e.target.value}),placeholder:s?a.formatMessage({defaultMessage:"Search for a relation property…",id:"propertySelectMenu.searchForProperty.relation.placeholder"}):a.formatMessage({defaultMessage:"Search for a property…",id:"propertySelectMenu.searchForProperty.default.placeholder"})}));let M;return M=k.isMobile?{menuType:h.b.MenuType.Modal,title:s?a.formatMessage({defaultMessage:"Relation property",id:"propertySelectMenu.mobileMenu.relationProperty.header"}):a.formatMessage({defaultMessage:"Property",id:"propertySelectMenu.mobileMenu.property.header"}),right:r.a.createElement(v.CancelMenuText,null),onClickRight:n,header:C}:{menuType:h.b.MenuType.Popup,width:200,header:C},r.a.createElement(h.b,Object.assign({},M),0===S.length?r.a.createElement(u.a,null,r.a.createElement(f.a,{title:r.a.createElement(b.FormattedMessage,{defaultMessage:"No results",id:"propertySelectMenu.search.noResults.title"})})):r.a.createElement(p.a,{type:p.a.Type.Vertical,sections:w,onAccept:n,initialFocus:y.length>0?0:void 0}))}}t.a=Object(b.injectIntl)(y)},T4gQ:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("ZQ9l"),s=n("gbGO"),l=n("zmp8"),c=n("MeYt"),d=n("Ng05");class u extends a.a{renderComponent(){return r.a.createElement(i.a,{title:this.renderButton()})}renderButton(){const{isMobile:e}=this.environment.device;return e?r.a.createElement(c.a,{onClick:this.props.onClick,mobileFeedback:!0,disabled:this.props.disabled,style:u.buttonMobileStyle},this.props.title):r.a.createElement(d.a,{onClick:this.props.onClick,disabled:this.props.disabled,style:{width:"100%",maxWidth:300,display:"flex",margin:"auto"}},this.props.title)}}u.contextTypes={...s.c},u.buttonMobileStyle={width:"100%",color:l.g.blue},t.a=u},T8dS:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return p}));n("3bBZ");var o=n("Agvv"),r=n("h2IJ");const a="locale",i={locale:o.a,messages:{},routes:{}};function s(){const e=window.document.querySelector("#messages"),t=window.document.querySelector("#routes");return e?{value:{locale:e.dataset.locale||o.a,messages:JSON.parse(e.innerHTML),routes:t&&JSON.parse(t.innerHTML)||{}}}:{error:!0}}const l=Boolean(window.__isElectron),c=/ReactNative/.test(navigator.userAgent);let d=i;if(l||c){const e=s().error?{value:i}:function(e){const t=s();if(t.error)return{value:i};if(e===t.value.locale)return t;if("en-US"===e)return{value:i};for(const n of window.navigator.languages){const e=n.split("-")[0];if("en"===e)return{value:i};if(t.value.locale.split("-")[0]===e)return t}return{error:!0}}(r.a.get("preferredLocale"));e.error||(d=e.value)}else{const e=s();e.error||(d=e.value)}const{messages:u,routes:p}=d,h=d.locale},TAMl:function(e,t,n){"use strict";var o=n("g4rC");t.a=new o.a},TDb4:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("Nvzn"),l=n("wldR"),c=n("LeVO"),d=n("PQqx");class u extends l.a{renderComponent(){return r.a.createElement(c.a,{renderTooltip:()=>this.renderTooltipText(),delayThreshold:0,render:e=>r.a.createElement("span",Object.assign({style:this.props.style},e),this.renderText())})}renderText(){const e=d.a(this.environment);return this.getShortcutArrays().map(t=>t.map(t=>Object(s.a)(e[t]||t)).join("+")).slice(0,this.props.onlyShowFirst?1:void 0).join(" or ")}renderTooltipText(){const e=d.b(this.environment);return this.getShortcutArrays().map(t=>t.map(t=>Object(s.a)(e[t]||t)).join("+")).join(" or ")}getShortcutArrays(){const{KeyboardShortcutStackStore:e}=this.environment;let t=e.shortcutMap[this.props.name];return i.a.isArray(t)||(t=[t]),i.a.map(t,e=>e.split("+"))}}t.a=u},TM4X:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return C}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("udrG"),i=n("l4I2"),s=n("jZoB"),l=n("q2qQ"),c=n("6rsX"),d=n("Ajfl"),u=n("unoy"),p=n("sPNb"),h=n("VpIZ"),m=n("DNgp"),f=n("AmMh"),g=n("43ch"),b=n("w5u6"),v=n("5w/s"),y=n("wiBh"),S=n("wllP");const w={[a.a.toggle]:!0};function k(e){const{environment:t,store:n,transaction:o}=e,r=Object(S.c)(n);if(r){"callout"===r.getType()&&v.h({stores:[r],update:{block_color:void 0},transaction:o});const e=p.a({environment:t,block:r,blockType:a.a.text,transaction:o});b.default.afterNextFlush(()=>{const n=f.a.findEditableStoreWithin(e);n&&(u.o({store:n}),c.f({environment:t,store:e}))})}return n}function C(e){const{environment:t,store:n,selection:o,transaction:a,deleteForwards:p,event:v}=e;if(u.g(),o)if(0!==o.startIndex||0!==o.endIndex||p)Object(y.k)(n,o)&&p?(v.preventDefault(),function(e){const{environment:t,store:n,transaction:o}=e,a=g.a.getSortedComponents(),i=r.a.findIndex(a,e=>e.props.store===n),c=a.find((e,t)=>Boolean(t>i&&e.props.canInsertText));let p;c&&(p=c.props.store);const h=Object(S.c)(n);if(h&&p){const e=r.a.clone(m.default.state),a=d.e({environment:t,store:p,selection:{startIndex:0,endIndex:0},transaction:o}),i=Object(y.d)(n);i&&d.k({environment:t,store:n,selection:i,deleteAfterSelectionResult:a,transaction:o});const c=Object(S.c)(p);if(c){const t=h.getType(),n=Object(S.c)(c);if(n&&t&&!w[t]){const e=c.getContentStore(),t=c.getContentStores();for(const r of t)s.e({parent:e,remove:r,transaction:o}),s.c({parent:n.getContentStore(),before:c,insert:r,transaction:o})}l.n({store:c,transaction:o}),e&&u.m({store:e.store,selection:e.selection})}}}({environment:t,store:n,transaction:a})):t.device.isIOS||(v.preventDefault(),function(e){const{environment:t,text:n,selection:o,transaction:r,deleteForwards:a}=e;let i;i=o.startIndex===o.endIndex?a?{startIndex:o.startIndex,endIndex:o.startIndex+1}:{startIndex:o.startIndex-1,endIndex:o.startIndex}:o,d.f({environment:t,store:n,selection:i,transaction:r})}({environment:t,text:n,selection:o,deleteForwards:p,transaction:a}));else{v.preventDefault();const e=Object(S.c)(n);if(e){const p=e.getValue();p&&(h.o(p)?k({environment:t,store:n,transaction:a}):h.D(p)?function(e){const{store:t,selection:n,transaction:o,environment:a}=e,p=g.a.getSortedComponents(),h=r.a.findIndex(p,e=>e.props.store===t),m=r.a.findLast(p,(e,t)=>t<h&&e.props.canInsertText);let v;m&&(v=m.props.store);const k=Object(S.c)(t);if(!k)return;let C;const M=Object(S.c)(k);if(M){const e=M.getContentIds()||[];r.a.last(e)===k.id&&(C=i.f({blocks:[k],transaction:o}))}if(C)b.default.afterNextFlush(()=>{if(C){const e=f.a.findEditableStoreWithin(C[0]);e&&(c.f({environment:a,store:C[0]}),u.o({store:e}))}});else if(v&&k){const e=d.e({environment:a,store:t,selection:n,transaction:o}),r=Object(y.d)(v);r&&d.k({environment:a,store:v,selection:r,deleteAfterSelectionResult:e,transaction:o}),u.m({store:v,selection:r});const i=Object(S.c)(v);c.f({environment:a,store:i});const p=k.getType();if(p&&!w[p]&&M){const e=k.getContentStores();for(const r of e)s.c({parent:M.getContentStore(),before:k,insert:r,transaction:o});const t=k.getContentStore(),n=k.getContentStores();for(const r of n)s.e({parent:t,remove:r,transaction:o})}l.n({store:k,transaction:o})}}({environment:t,store:n,selection:o,transaction:a}):h.p(p)&&function(e){const{environment:t,store:n,selection:o,transaction:a}=e,i=g.a.getSortedComponents(),s=r.a.findIndex(i,e=>e.props.store===n),l=r.a.findLast(i,(e,t)=>t<s&&e.props.canInsertText);let p;l&&(p=l.props.store);const h=Object(S.c)(n);if(p&&h){const e=d.e({environment:t,store:n,selection:o,transaction:a}),r=Object(y.d)(p);r&&d.k({environment:t,store:p,selection:r,deleteAfterSelectionResult:e,transaction:a}),u.m({store:p,selection:r});const i=Object(S.c)(p);c.f({environment:t,store:i})}}({environment:t,store:n,selection:o,transaction:a}))}}const C=m.default.state;"editing"===C.mode&&Object(y.j)(n.getValue(),C.selection.startIndex-1,"c")&&u.l({annotation:["c"],extend:!0})}},TSBY:function(e,t,n){"use strict";var o=n("Uv1v");class r extends o.a{shouldPreventMobileAutoScroll(){const e=this.findComponent(e=>e.props.capture&&!e.props.allowMobileAutoScroll);return Boolean(e)}}t.a=new r},TmDR:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("LeVO"),s=n("mF3+"),l=n("MBf9"),c=n("5w/s"),d=n("5/h/"),u=n("bPtJ"),p=n("Cf1b"),h=n("y6Dp"),m=n("MeYt"),f=n("h5Kq"),g=n("J9+s");class b extends a.a{constructor(){super(...arguments),this.storeTypes={lockStore:p.a},this.renderTooltip=()=>{const e=this.props.store.getFormat().block_locked_by;if(e){const t=Object(d.e)(Object(u.c)(this.props.store,{table:d.a,id:e}).getValue());return r.a.createElement("div",null,r.a.createElement(g.FormattedMessage,{defaultMessage:"Locked by {lockedByPerson}{br}to prevent accidental editing.{br}<prompttext>Click to unlock</prompttext>",id:"pageLockIndicator.lockedTooltip",values:{lockedByPerson:r.a.createElement("b",null,t),br:r.a.createElement("br",null),prompttext:(...e)=>r.a.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},e)}}))}},this.handleLockClick=()=>{l.createAndCommit(this.environment,e=>{c.e({environment:this.environment,store:this.props.store,isLocked:!1,transaction:e})}),this.stores.lockStore.setState({...this.stores.lockStore.state,justUnlocked:!0});const e=this.props.store.getType();e&&h.Db(this.environment,{from:"topbar",block_type:e,locked:!1})},this.handleUnlockClick=()=>{l.createAndCommit(this.environment,e=>{c.e({environment:this.environment,store:this.props.store,isLocked:!0,transaction:e})}),this.stores.lockStore.setState({...this.stores.lockStore.state,justUnlocked:!1});const e=this.props.store.getType();e&&h.Db(this.environment,{from:"topbar",block_type:e,locked:!0})}}renderComponent(){return this.props.isMobile?this.renderMobile():this.renderDesktop()}renderDesktop(){return this.props.store.isLocked()?r.a.createElement(i.a,{renderTooltip:this.renderTooltip,disableTooltip:this.props.disableTooltip,render:e=>r.a.createElement(m.a,Object.assign({style:this.getUnlockButtonStyle(),onClick:this.handleLockClick},e),s.a.locked(b.iconStyle),r.a.createElement("div",{style:{lineHeight:1}},r.a.createElement(g.FormattedMessage,{defaultMessage:"Locked",id:"pageLockIndicator.lockedButton.label"})))}):this.stores.lockStore.state.justUnlocked?r.a.createElement(m.a,{style:this.getLockButtonStyle(),onClick:this.handleUnlockClick,hoveredStyle:{background:this.theme.outlineBlueButtonHoveredBackground},pressedStyle:{background:this.theme.outlineBlueButtonPressedBackground}},s.a.unlocked(b.iconStyle),r.a.createElement("div",{style:{lineHeight:1}},r.a.createElement(g.FormattedMessage,{defaultMessage:"Re-lock",id:"pageLockIndicator.relockButton.label"}))):void 0}renderMobile(){const{WindowSizeStore:e}=this.environment;return this.props.store.isLocked()?r.a.createElement(f.b,{type:f.a.White,isMobile:!0},r.a.createElement(m.a,{onClick:this.handleLockClick,mobileFeedback:!0,style:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingLeft:e.getSafePaddingLeftCSS(10),paddingRight:e.getSafePaddingRightCSS(14)}},s.a.mobileLocked({width:26,marginRight:12}),r.a.createElement("div",null,r.a.createElement(g.FormattedMessage,{defaultMessage:"Locked",id:"pageLockIndicator.mobileLockedButton.label"})))):this.stores.lockStore.state.justUnlocked?r.a.createElement(f.b,{type:f.a.White,isMobile:!0},r.a.createElement(m.a,{onClick:this.handleUnlockClick,mobileFeedback:!0,style:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingLeft:e.getSafePaddingLeftCSS(10),paddingRight:e.getSafePaddingRightCSS(14),color:this.theme.blueColor,fill:this.theme.blueColor}},s.a.mobileUnlocked({height:26,width:32,marginRight:6}),r.a.createElement("div",null,r.a.createElement(g.FormattedMessage,{defaultMessage:"Re-lock",id:"pageLockIndicator.mobileRelockButton.label"})))):void 0}getButtonStyle(){const{isMobile:e,isInlineCollection:t,buttonStyle:n}=this.props;return{display:"flex",alignItems:"center",whiteSpace:"nowrap",fontSize:e?12:14,borderRadius:3,padding:"0 6px",marginRight:e?8:12,height:24,marginTop:e?1:0,marginLeft:e?0:-5,...t&&{marginLeft:e?8:12,marginRight:0},...n}}getUnlockButtonStyle(){return{...this.getButtonStyle(),color:this.theme.lightTextColor,fill:this.theme.lightIconColor}}getLockButtonStyle(){return{...this.getButtonStyle(),paddingLeft:5,border:"1px solid ".concat(this.theme.blueColor),color:this.theme.blueColor,fill:this.theme.blueColor}}}b.iconStyle={width:16,marginRight:4},t.a=b},UJva:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("y6Dp"),l=n("H4VD"),c=n("sZEU"),d=n("A9TN"),u=n("i3uR"),p=n("wldR"),h=n("mF3+"),m=n("Na01"),f=n("LeVO"),g=n("AjLL"),b=n("ikHm"),v=n("uSCg"),y=n("WgIs"),S=n("2Y+N"),w=n("SR/M"),k=n("gbGO"),C=n("bK/N"),M=n("MeYt"),E=n("qqdV"),_=n("HTHG"),T=n("cbKx"),x=n("qDOf"),I=n("LEzx");class P extends I.a{getInitialState(){return{showUpdateInfo:!1}}}var O=P,B=n("dQss"),L=n("VMJe"),R=n("ZQ9l"),D=n("mKX5"),A=n("J9+s");class j extends p.a{constructor(){super(...arguments),this.storeTypes={store:O},this.renderUpdateInfo=()=>{const{AppUpdateStore:e}=this.environment,t=e.state.appUpdate?this.renderUpdateState("App.js - ",e.state.appUpdate):i.a.createElement(A.FormattedMessage,{defaultMessage:"App.js - Waiting…",id:"appVersionMenuItem.waitingForAppJsUpdate.message"}),n=e.state.electronUpdate&&this.renderUpdateState("Electron - ",e.state.electronUpdate);return i.a.createElement("div",null,t,n)},this.handleResetCache=()=>{const{AppUpdateStore:e,reactNative:t}=this.environment;e.setState({appUpdate:void 0,electronUpdate:e.state.electronUpdate}),t&&t.resetAssetCache()},this.handleShowUpdateInfo=()=>{this.stores.store.setState({showUpdateInfo:!0})}}renderComponent(){const{device:e}=this.environment,t="Notion 2.10.".concat(d.default.version),n=i.a.createElement(A.FormattedMessage,{id:"appVersionMenuItem.lastUpdatedTime.menuItem",defaultMessage:"Updated {lastUpdatedTime}",description:"Message to tell the user when their current version of the Notion app was last updated.",values:{lastUpdatedTime:Object(D.a)(d.default.lastUpdatedTime).fromNow()}});let o=i.a.createElement(i.a.Fragment,null,t,i.a.createElement("br",null),n);if(e.isReactNative){const e=B.getMobileVersion(),r=i.a.createElement(A.FormattedMessage,{defaultMessage:"Mobile {reactNativeVersionFormatted}",values:{reactNativeVersionFormatted:Object(L.formatVersion)(e)},id:"appVersionMenuItem.lastUpdatedReactNativeVersion.menuItem"});o=i.a.createElement(i.a.Fragment,null,t,i.a.createElement("br",null),r,i.a.createElement("br",null),n)}if(e.isElectron){const e=C.getDesktopVersion(),r=i.a.createElement(A.FormattedMessage,{defaultMessage:"Desktop {desktopVersionFormatted}",values:{desktopVersionFormatted:Object(L.formatVersion)(e)},id:"appVersionMenuItem.desktopVersion.menuItem"});o=i.a.createElement(i.a.Fragment,null,t,i.a.createElement("br",null),r,i.a.createElement("br",null),n)}const r=d.default.isLocalhost||"local"===d.default.env||"development"===d.default.env;if(e.isMobile){const e=r&&this.stores.store.state.showUpdateInfo&&i.a.createElement("div",null,this.renderUpdateInfo(),i.a.createElement(M.a,{style:{paddingTop:4},onClick:this.handleResetCache},i.a.createElement(A.FormattedMessage,{defaultMessage:"Clear cache",id:"appVersionMenuItem.mobile.clearCache.message"})));return i.a.createElement(R.a,{caption:i.a.createElement("div",{style:{color:this.theme.lightTextColor}},i.a.createElement("div",{style:{userSelect:"none",WebkitUserSelect:"none"}},o),e),onClick:r?this.handleShowUpdateInfo:void 0})}return r?i.a.createElement(f.a,{renderTooltip:this.renderUpdateInfo,placement:f.a.Placement.Left,render:e=>i.a.createElement(R.a,Object.assign({caption:i.a.createElement("div",{style:{color:this.theme.lightTextColor}},o)},e))}):i.a.createElement(R.a,{caption:i.a.createElement("div",{style:{color:this.theme.lightTextColor}},o)})}renderUpdateState(e,t){return"checking"===t.state?i.a.createElement("div",null,e," ",i.a.createElement(A.FormattedMessage,{defaultMessage:"Checking for updates…",id:"appVersionMenuItem.updateStateForApp.checking.message"})):"no-update"===t.state?i.a.createElement("div",null,e," ",i.a.createElement(A.FormattedMessage,{defaultMessage:"No update {timeFromNow}",id:"appVersionMenuItem.noUpdatesForApp.message",description:"timeFromNow is a translated message like '2 hours ago' that refers to the time of the last update.",values:{timeFromNow:Object(D.a)(t.timestamp).fromNow()}})):"downloading"===t.state?i.a.createElement("div",null,e," ",i.a.createElement(A.FormattedMessage,{defaultMessage:"Downloading {version} {percentComplete}",id:"appVersionMenuItem.downloadingUpdate.message",values:{percentComplete:this.props.intl.formatNumber(t.progress,{style:"percent",maximumFractionDigits:0}),version:Object(L.formatVersion)(t.version)}})):"ready"===t.state?i.a.createElement("div",null,e," ",i.a.createElement(A.FormattedMessage,{defaultMessage:"Update ready {version}",id:"appVersionMenuItem.updateReady.message",values:{version:Object(L.formatVersion)(t.version)}})):"error"===t.state?i.a.createElement("div",null,e," ",i.a.createElement(A.FormattedMessage,{defaultMessage:"Update error {errorMessage}",id:"appVersionMenuitem.updateError.message",values:{errorMessage:t.error&&t.error.message}})):void 0}}var F=Object(A.injectIntl)(j),V=n("2ZkR"),N=n("Cycz"),U=n("0CAA"),z=n("T8dS");var X=function(e){const{locale:t,children:n}=e;return t===z.a?i.a.createElement(i.a.Fragment,null,n):null},Y=n("2pqd"),H=n("gp1y"),q=n("w4oV"),W=n("QcDD"),G=n("V1wX");class Z extends p.a{constructor(){super(...arguments),this.renderOrigin=e=>this.props.isMobile?i.a.createElement(M.a,Object.assign({hovered:T.a.state.open,mobileFeedback:this.props.isMobile},e),i.a.createElement(m.a,{isMobile:this.props.isMobile,left:h.a.help({fill:this.theme.mediumIconColor,width:16,height:16}),disableMobileBorder:!0},i.a.createElement(A.FormattedMessage,{defaultMessage:"Help & feedback",id:"helpButton.mobileHelpFeedbackButton.label"}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{renderTooltip:()=>i.a.createElement("span",null,i.a.createElement(A.FormattedMessage,{defaultMessage:"Help, feedback, and {br}keyboard shortcuts",id:"helpButton.desktopHelpButton.tooltip",values:{br:i.a.createElement("br",null)}})),render:t=>i.a.createElement(M.a,Object.assign({className:"notion-help-button",style:this.getRoundButtonStyle(),hoveredStyle:{background:this.theme.whiteButtonHoveredBackground},pressedStyle:{background:this.theme.whiteButtonPressedBackground}},Object(v.a)(e,t)),"?")})),this.renderMessageItem=e=>{const{device:t}=this.environment;return t.isElectron?this.renderMessageButton(e):i.a.createElement(f.a,{key:e.key,renderTooltip:()=>this.renderIntercomTooltip(),delayThreshold:0,placement:f.a.Placement.Right,render:t=>this.renderMessageButton(Object(v.a)(e,t))})},this.renderSalesItem=e=>{const{device:t}=this.environment;return t.isElectron?this.renderSalesButton(e):i.a.createElement(f.a,{key:e.key,renderTooltip:()=>this.renderIntercomTooltip(),delayThreshold:0,placement:f.a.Placement.Right,render:t=>this.renderSalesButton(Object(v.a)(e,t))})},this.renderGuideItem=e=>i.a.createElement(w.a,Object.assign({},e,{isTokenTitle:!0,icon:h.a.helpButtonGuide(this.getIconStyle()),title:i.a.createElement(A.FormattedMessage,{defaultMessage:"Help & support guide",id:"helpButton.helpSupportGuide.menuItem"})})),this.renderMessageButton=e=>i.a.createElement(w.a,Object.assign({},e,{isTokenTitle:!0,icon:h.a.helpButtonMessage(this.getIconStyle()),title:i.a.createElement(A.FormattedMessage,{defaultMessage:"Send us a message",id:"helpButton.sendMessage.menuItem"})})),this.renderCsatButton=e=>i.a.createElement(w.a,Object.assign({},e,{isTokenTitle:!0,icon:h.a.feedback(this.getIconStyle()),title:i.a.createElement(A.FormattedMessage,{defaultMessage:"Give feedback",id:"helpButton.giveFeedback.menuItem"})})),this.renderSalesButton=e=>i.a.createElement(w.a,Object.assign({},e,{isTokenTitle:!0,icon:h.a.helpButtonSales(this.getIconStyle()),title:i.a.createElement(A.FormattedMessage,{defaultMessage:"Chat with sales",id:"helpButton.salesChat.menuItem"})})),this.renderJoinUsItem=e=>i.a.createElement(X,{locale:"en-US"},i.a.createElement(w.a,Object.assign({},e,{title:i.a.createElement(A.FormattedMessage,{defaultMessage:"Join us",id:"helpButton.joinUs.menuItem"})}))),this.renderKeyboardShortcutsItem=e=>i.a.createElement(w.a,Object.assign({},e,{title:i.a.createElement(A.FormattedMessage,{defaultMessage:"Keyboard shortcuts",id:"helpButton.keyboardShortcuts.menuItem"})})),this.renderNewsItem=e=>i.a.createElement(w.a,Object.assign({},e,{title:"What's new?"})),this.renderTermsItem=e=>{const{device:t}=this.environment;return t.isMobile?i.a.createElement(w.a,Object.assign({},e,{title:"Terms & privacy"})):i.a.createElement(w.a,Object.assign({},e,{caption:"Terms & privacy"}))},this.renderTwitterItem=e=>{const{device:t}=this.environment;return t.isMobile?i.a.createElement(w.a,Object.assign({},e,{title:i.a.createElement(A.FormattedMessage,{defaultMessage:"Twitter – @{notionHandle}",id:"helpButton.mobileTwitter.menuItem",values:{notionHandle:"NotionHQ"}})})):i.a.createElement(w.a,Object.assign({},e,{caption:i.a.createElement(A.FormattedMessage,{defaultMessage:"Twitter – @{notionHandle}",id:"helpButton.twitter.menuItem",values:{notionHandle:"NotionHQ"}})}))},this.renderStatusItem=e=>{const{device:t}=this.environment;return t.isMobile?i.a.createElement(w.a,Object.assign({},e,{title:"Status"})):i.a.createElement(w.a,Object.assign({},e,{caption:"Status"}))},this.acceptMessageItem=()=>{this.analyticsTrackClickItem("help_feedback"),c.a({environment:this.environment,from:"help_button"}),this.closePopup()},this.acceptSalesItem=()=>{this.analyticsTrackClickItem("sales_chat");const{currentUserStore:e}=W.default.state,t=e&&e.getValue();q.a.setState({open:!0,email:t&&t.email,name:t&&Object(G.d)(this.props.intl,t)}),this.closePopup()},this.acceptCsatItem=()=>{this.analyticsTrackClickItem("csat"),Y.a.setState({open:!0,type:H.f}),this.closePopup()},this.acceptGuideItem=()=>{this.analyticsTrackClickItem("guides"),l.navigateToExternalURL({environment:this.environment,url:Object(U.a)("guides.guides")}),this.closePopup()},this.acceptKeyboardShortcutsItem=()=>{this.analyticsTrackClickItem("keyboard_shortcuts"),l.navigateToExternalURL({environment:this.environment,url:Object(U.a)("guides.keyboardShortcuts")}),this.closePopup()},this.acceptTwitterItem=()=>{this.analyticsTrackClickItem("twitter"),l.navigateToExternalURL({environment:this.environment,url:E.d.notionTwitter}),this.closePopup()},this.acceptStatusItem=()=>{this.analyticsTrackClickItem("status"),l.navigateToExternalURL({environment:this.environment,url:E.d.statusPage}),this.closePopup()},this.acceptJoinUsItem=()=>{this.analyticsTrackClickItem("join_us"),l.navigateToExternalURL({environment:this.environment,url:E.c.careers}),this.closePopup()},this.acceptNewsItem=()=>{l.navigateToExternalURL({environment:this.environment,url:E.d.whatsNew}),this.analyticsTrackClickItem("whats_new"),this.closePopup()},this.acceptTermsItem=()=>{l.navigateToExternalURL({environment:this.environment,url:E.d.termsAndPrivacy}),this.analyticsTrackClickItem("terms"),this.closePopup()},this.trackClickHelp=()=>{s.B(this.environment)}}renderComponent(){const{device:e}=this.environment,t=this.props.isMobile;return i.a.createElement(u.a,{popupType:e.isMobile?u.a.PopupType.SlideUp:u.a.PopupType.Popup,renderOrigin:this.renderOrigin,originGap:t?0:12,placementToOrigin:t?u.a.Placement.Right:u.a.Placement.Top,alignmentToOrigin:t?u.a.Alignment.Center:u.a.Alignment.End,buttonPopupStore:T.a,onClick:this.trackClickHelp,render:()=>{const t=this.getSections();let n;return n=e.isMobile?{menuType:k.b.MenuType.ActionSheet}:{menuType:k.b.MenuType.Popup,minWidth:208},i.a.createElement(k.b,Object.assign({},n),i.a.createElement(y.a,{type:y.a.Type.Vertical,initialFocus:void 0,sections:t}))}})}getSections(){const{device:e}=this.environment,t=N.h(this.environment),n="team"===t||"enterprise"===t,o=!x.default.state.isIntercomEnabled||Object(N.N)(this.environment)&&"on"===V.default.getGroup(this.environment,"hazelnut"),a="on"===V.default.getGroup(this.environment,"csat")&&!this.environment.device.isMobile;return r.a.compact([{key:"guide",render:e=>i.a.createElement(S.a,Object.assign({},e)),items:r.a.compact([{key:"guide",action:this.acceptGuideItem,render:this.renderGuideItem},o?void 0:{key:"message",action:this.acceptMessageItem,render:this.renderMessageItem},n?{key:"sales",action:this.acceptSalesItem,render:this.renderSalesItem}:void 0,a?{key:"csat",action:this.acceptCsatItem,render:this.renderCsatButton}:void 0])},{key:"middle section",render:e=>i.a.createElement(S.a,Object.assign({},e,{topBorder:!0})),items:r.a.compact([{key:"keyboardshortcut",action:this.acceptKeyboardShortcutsItem,render:this.renderKeyboardShortcutsItem},{key:"news",action:this.acceptNewsItem,render:this.renderNewsItem},{key:"join-us",action:this.acceptJoinUsItem,render:this.renderJoinUsItem}])},{key:"botttom section",render:e=>i.a.createElement(S.a,Object.assign({},e,{topBorder:!0})),items:r.a.compact([{key:"twitter",action:this.acceptTwitterItem,render:this.renderTwitterItem},{key:"terms",action:this.acceptTermsItem,render:this.renderTermsItem},{key:"status",action:this.acceptStatusItem,render:this.renderStatusItem},e.isElectron&&"production"!==d.default.env?{key:"devtools",action:C.openDevTools,render:e=>i.a.createElement(w.a,Object.assign({},e,{caption:"Open Dev Tools"}))}:void 0])},{key:"version",render:e=>i.a.createElement(S.a,Object.assign({},e,{topBorder:!0})),items:r.a.compact([{key:"version",action:()=>{},render:e=>i.a.createElement(F,Object.assign({},e))}])}])}renderIntercomTooltip(){return i.a.createElement("span",null,i.a.createElement(A.FormattedMessage,{defaultMessage:"We use Intercom for messaging.{br}Make sure it's not blocked by your browser.",values:{br:i.a.createElement("br",null)},id:"helpButton.sendUsAMessage.tooltip"}))}analyticsTrackClickItem(e){s.D(this.environment,{item:e})}closePopup(){T.a.setState({...T.a.state,open:!1})}getRoundButtonStyle(){const{device:e}=this.environment;return{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",background:this.theme.buttonBackground,bottom:16+e.scrollbarWidth,right:16+e.scrollbarWidth,width:36,height:36,borderRadius:"100%",fontSize:20,boxShadow:this.theme.lightBoxShadow,zIndex:b.g,opacity:_.p.state?0:1,transition:"\n\t\t\t\topacity ".concat(g.a.transitionDuration,"ms,\n\t\t\t\tcolor ").concat(g.a.transitionDuration,"ms\n\t\t\t")}}getIconStyle(){return{width:16,height:16,color:this.theme.regularTextColor,fill:this.theme.regularTextColor}}}t.a=Object(A.injectIntl)(Z)},UQxX:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b}));var o=n("frzs"),r=n("h2IJ"),a=n("koI6"),i=n("lKd+"),s=n("QcDD"),l=n("5ma9"),c=n("85j+"),d=n("wpmu"),u=n("uN94"),p=n("H4VD"),h=n("hODJ"),m=n("7QKz"),f=n("mXKa");async function g(e){const{newCurrentUserId:t,loggedOutUserId:n,environment:s}=e;await Object(o.setLocalStorageUserId)(s,t),Object(f.setSessionUserId)(t),a.c(s,{name:m.c,value:t,domain:window.location.hostname});const d=s.currentUser.loggedInUserIds.filter(e=>e!==n),p={...s,currentUser:new c.a(t,d)};if(s.updateCurrentUserId){const e={environment:s,currentUserId:t,userIds:d};s.updateCurrentUserId(e)}return r.a.set(o.currentUserIdKey,t),i.default.reset(),u.default.reset(),h.e(p),await Object(l.c)(p,t),p}async function b(e){const{newCurrentUserId:t,environment:n,store:o}=e,{currentBlockStore:r}=s.default.state,a=await g({environment:n,newCurrentUserId:t});if(r){const e=new d.a(a,o.pointer);s.default.setState({...s.default.state,currentBlockStore:void 0}),p.navigateToBlock({environment:a,store:e})}}},UWAZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return _}));n("3bBZ"),n("Junv");var o=n("LvDl"),r=n.n(o),a=n("udrG"),i=n("wpmu"),s=n("qHvo"),l=n("/mqF"),c=n("wy14"),d=n("jZoB"),u=n("N34Z"),p=n("6rsX"),h=n("unoy"),m=n("RvCr"),f=n("7TLZ"),g=n("nM47"),b=n("dsG5"),v=n("HTHG"),y=n("sjR4"),S=n("w5u6"),w=n("q2qQ"),k=n("wllP"),C=n("HRSx");function M(e){const{environment:t,droppedDirection:n,droppedStores:o,targetStore:i,targetParentStore:u,transaction:h,duplicate:f}=e;if(i&&n===s.a.Onto){p.e(t);const e=l.f({environment:t,droppedStores:o,duplicate:f,transaction:h});let n=i;if(i.isType(a.a.alias)){const e=i.getAliasTargetStore();if(!e)throw new Error("Alias has no target.");n=e}const r=n.getCollectionViewCollectionStore();if(n.isCollectionView()){const n=m.o({environment:t,stores:e,transaction:h});if(r)for(const e of n)m.a({environment:t,store:e,collectionStore:r,coerce:!0,transaction:h});return n}{const t=n.getContentStore();for(const n of e)d.a({parent:t,append:n,transaction:h});return e}}{let e=l.f({environment:t,droppedStores:o,duplicate:f,transaction:h});return n===s.a.Above?(e=r.a.clone(e),i?e=r.a.map(e,e=>d.c({parent:u,insert:e,before:i,transaction:h}).child):(e.reverse(),e=r.a.map(e,e=>d.d({parent:u,prepend:e,transaction:h}).child))):n===s.a.Below?(e=r.a.clone(e),i?(e.reverse(),e=r.a.map(e,e=>d.b({parent:u,insert:e,after:i,transaction:h}).child)):e=r.a.map(e,e=>d.a({parent:u,append:e,transaction:h}).child)):i&&n===s.a.Left?e=c.b({environment:t,parent:u,insertStores:e,left:i,transaction:h}):i&&n===s.a.Right&&(e=c.c({environment:t,parent:u,insertStores:e,right:i,transaction:h})),w.f({environment:t,insertedStores:e}),p.q({environment:t,stores:e}),e}}function E(e){const{environment:t,files:n,droppedDirection:o,targetStore:r,targetParentStore:a,transaction:i}=e,s=a.inMemoryRecordCache,l=v.b(t);M({environment:t,targetParentStore:a,targetStore:r,droppedDirection:o,droppedStores:b.a({environment:t,files:n,inMemoryRecordCache:s,pageWidth:l,transaction:i}),duplicate:!1,transaction:i})}function _(e){const{environment:t,targetStore:n,targetParentStore:o,isAtStart:r,transaction:s}=e;let l=!1;const c=o.getValue();if(c){const e=c.indexOf(n.id);if(0===y.default.state.stores.length&&e===c.length-1&&!r&&!f.o(n)&&g.j(t)){l=!0;const e=u.a({environment:t,type:a.a.text,inMemoryRecordCache:n.inMemoryRecordCache,transaction:s});let i;i=r?d.c({parent:o,before:n,insert:e,transaction:s}):d.b({parent:o,after:n,insert:e,transaction:s}),S.default.afterNextFlush(()=>{T({environment:t,store:i.child,isAtStart:!1})})}}if(l||(l=T({environment:t,store:n,isAtStart:r})),!l){const e=o.getValue()||[],a=e.indexOf(n.id),s=r?e[a-1]:e[a+1];if(s){const e=i.a.createChildStore(o,{table:C.a,id:s});l=T({environment:t,store:e,isAtStart:!r})}}return l}function T(e){const{environment:t,store:n,isAtStart:o}=e,r=Object(k.a)(n);return!!r&&(p.f({environment:t,store:n}),o?h.o({store:r}):h.n({store:r}),!0)}},UWX6:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l}));var o=n("Catn");function r({currentUserId:e,promoCode:t}){t?o.a.set({userId:e,key:"promoCode",value:t}):o.a.remove({userId:e,key:"promoCode"})}function a(e){o.a.remove({userId:e,key:"promoCode"})}function i(e){return o.a.get({userId:e,key:"promoCode"})}function s({currentUserId:e,referralUserId:t}){t?o.a.set({userId:e,key:"referralUserId",value:t}):o.a.remove({userId:e,key:"referralUserId"})}function l(e){return o.a.get({userId:e,key:"referralUserId"})}},UWl0:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return g}));var o=n("cBa6"),r=n("RI9y"),a=n("Ajfl"),i=n("y6Dp"),s=n("WaiN"),l=n("onX9"),c=n("7IvN"),d=n("GKeo"),u=n("DNgp"),p=n("MBf9");function h(e){const{environment:t,textStore:n,oldSelection:a,oldTextValue:u}=e,p=o.I(n.getValue()||[]),h=a.startIndex,m=p[h],f=p[h-1];if(":"!==m)return;if(f&&/[0-9]/.test(f))return;if(d.a.state.open||l.a.state.open||s.a.state.open||c.a.state.open)return;if(t.device.isPhone)return;const g=r.get();if(!g)return;const b=r.getRect(g);b&&(l.a.setState({open:!0,textStore:n,oldTextValue:u,oldSelection:a,selectionRect:b}),i.Tc(t))}function m(e){const t=l.a.state,{environment:n,emoji:o,transaction:r}=e;t.open&&(a.s({environment:n,store:t.textStore,value:t.oldTextValue,transaction:r}),a.l({environment:n,store:t.textStore,selection:t.oldSelection,emoji:o,transaction:r}),f())}function f(){l.a.setState({open:!1})}function g(e){a.d({direction:"end"});const t=u.default.state;if("editing"!==t.mode)return;let n=!1;if(t.selection.startIndex>0){const e=t.store.getValue()||[],r=o.I(e)[t.selection.startIndex-1];/[\s]/g.test(r)||(n=!0)}p.createAndCommit(e,o=>{n?(a.n({environment:e,store:t.store,string:" ",selection:t.selection,disableMentions:!0,disableDateMentions:!0,disableDateReminderMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:o}),a.n({environment:e,store:t.store,string:":",selection:{startIndex:t.selection.startIndex+1,endIndex:t.selection.endIndex+1},disableMentions:!0,disableDateMentions:!0,disableDateReminderMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!1,transaction:o})):a.n({environment:e,store:t.store,string:":",selection:t.selection,disableMentions:!0,disableDateMentions:!0,disableDateReminderMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!1,transaction:o})});const r=l.a.state;r.open&&l.a.setState({...r,showPopupWithEmptyFilter:!0})}},UZfs:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("ZQ9l");class s extends a.a{renderComponent(){return r.a.createElement(i.a,Object.assign({},this.props,{style:{background:"none",borderBottom:"none",boxShadow:"",marginTop:2,marginBottom:6,paddingTop:4,paddingBottom:4,minHeight:"none",...this.props.style}}))}}t.a=s},"Uc+B":function(e,t,n){"use strict";var o=n("lk/1"),r=n("bPtJ"),a=n("LEzx"),i=n("kaWB"),s=n("g90h");class l extends a.a{constructor(e){super(),this.environment=e,this.reset()}getInitialState(){const e=new o.a;return{textStore:new r.d({environment:this.environment,pointer:{table:i.a,id:Object(s.b)()},path:["text"],inMemoryRecordCache:e}),localRecordCache:e}}isEmpty(){const e=this.state.textStore.getValue();return!e||0===e.length}}t.a=l},UcZb:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l}));var o=n("hU3F");const r=new o.a(240),a=new o.a(!1),i=new o.a(0),s=new o.a(!0),l=(new o.a(!1),new o.a({isResizing:!1,isResizerHovered:!1}))},"Ucj+":function(e,t,n){"use strict";n("3bBZ");var o=n("LEzx");class r extends o.a{getInitialState(){return{selectableRectMap:new Map,selectableContainerRectMap:new Map}}}t.a=new r},Ugx7:function(e,t,n){"use strict";n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return B})),n.d(t,"c",(function(){return L})),n.d(t,"e",(function(){return R})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return A})),n.d(t,"b",(function(){return j}));n("3bBZ"),n("Junv");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("udrG"),l=n("qHvo"),c=n("jZoB"),d=n("UWAZ"),u=n("N34Z"),p=n("sdlW"),h=n("lufz"),m=n("VBxf"),f=n("nM47"),g=n("H4VD"),b=n("FcJC"),v=n("y6Dp"),y=n("QcDD"),S=n("Catn"),w=n("VpIZ"),k=n("MBf9"),C=n("57cz"),M=n("r8MX"),E=n("Sb6f"),_=n("Cycz"),T=n("qX+M"),x=n("40tV"),I=n("J9+s"),P=n("z22Z");function O(e,t){return"".concat(e.id,":").concat(t)}function B(e){const{environment:t,store:n,transaction:o}=e,r=u.a({environment:t,type:s.a.page,inMemoryRecordCache:n.inMemoryRecordCache,transaction:o});if(n.isCollectionView()){const e=n.getCollectionViewCollectionStore();e&&h.b({parentStore:e,childStore:r,alive:!0,transaction:o})}else{const e=n.getContentStore();c.a({parent:e,append:r,transaction:o})}return v.fb(t,{from:"sidebar_outliner_item",type:"page"}),r}async function L(e){const{environment:t,spaceStore:n,spaceViewStore:o,type:a,outlinerToggleButtonStore:i,prepend:s}=e;if(f.j(t)){if("workspace"===a){const{data:e}=M.default.state,t=e?Object(_.u)(e):1;if(t>=10){if(!(await m.confirmUserAction({message:r.a.createElement("span",null,r.a.createElement(I.FormattedMessage,{defaultMessage:"Are you sure you want to create a new top-level page? <strongtext>This page will be visible in the sidebar to all {memberCount} members of your workspace.</strongtext>",id:"sidebarActions.confirmDialog.newWorkspacePage.message",description:"Shown in a dialog when the user attempts to create a new top level page when there are more than 10 members in the workspace. memberCount is always 10 or greater.",values:{strongtext:(...e)=>r.a.createElement("strong",null,e),memberCount:t}})),acceptLabel:r.a.createElement(I.FormattedMessage,{defaultMessage:"Create top-level page",id:"sidebarActions.confirmDialog.newWorkspacePage.confirmButton.label"})})))return!1}}const e=k.create(t),l=p.b({environment:t,spaceStore:n,spaceViewStore:o,isPrivate:"private"===a,prepend:s,transaction:e});i&&A({spaceViewStore:o,type:a,outlinerToggleButtonStore:i,newValue:!1}),t.device.isMobile&&b.close(),"private"===a?v.fb(t,{from:"sidebar_private_section",type:"page"}):"workspace"===a&&v.fb(t,{from:"sidebar_workspace_section",type:"page"});const c=n.getValue();return"workspace"===a&&c&&c.disable_space_page_edits?await k.commit({environment:t,transaction:e}):k.commit({environment:t,transaction:e}),g.navigateToBlock({environment:t,store:l,visitType:x.c.Link}),!0}}function R(e){const{environment:t,type:n,droppedDirection:o,targetParentStore:a,targetStore:i,droppedStores:s,isTopLevelItem:c,duplicate:h,transaction:f}=e,g=F(s),{currentSpaceViewStore:b,currentSpaceStore:v,currentUserStore:S,currentUserSettingsStore:k}=y.default.state,C=v&&v.getValue(),E=S&&S.getValue(),{data:x}=M.default.state,O="bookmarks"===g&&"bookmarks"===n,B=C&&s.some(e=>e.isTopLevelWorkspacePage(C.id)),L=i&&C&&i.isTopLevelWorkspacePage(C.id);if(C&&C.disable_space_page_edits&&(B||L)&&!O&&E&&x){const e=Object(_.t)(x).filter(e=>e.userId===E.id)[0];if(e&&!P.a(e.role))return void m.showErrorMessage(r.a.createElement(I.FormattedMessage,{defaultMessage:"This workspace has locked top-level workspace page operations.",id:"sidebarActions.confirmDialog.lockedWorkspaceTopLevel.message",description:"Shown in a dialog when the member attempts to modify top-level pages when workspace section has been locked."}))}let R;const D=i&&i.getValue();if(o===l.a.Onto&&i&&D&&a&&Object(w.v)(D))R=d.a({environment:t,targetParentStore:a,targetStore:i,droppedDirection:l.a.Below,droppedStores:s,duplicate:h,transaction:f});else if("shared"===n&&o!==l.a.Onto&&i&&c){if(!b||!k)return;const{visibleSharedPagesStores:e}=Object(T.getSharedPageContext)({environment:t,spaceViewStore:b,userSettingsStore:k}),n=e.map(e=>e.id),r=s.map(e=>e.id),a=n.filter(e=>r.indexOf(e)<0),c=a.findIndex(e=>e===i.id);let d=[];d=o===l.a.Above?[...a.slice(0,c),...r,...a.slice(c)]:[...a.slice(0,c+1),...r,...a.slice(c+1)],u.d({store:b,data:{shared_pages:d},transaction:f}),R=s}else R=d.a({environment:t,targetParentStore:a,targetStore:i,droppedDirection:o,droppedStores:s,duplicate:h,transaction:f});const A=R.filter(e=>e.isTopLevel());g&&"private"!==g&&"private"===n&&p.q({blocks:R,transaction:f}),"workspace"===n?p.s({environment:t,blocks:A,transaction:f}):"private"===n&&p.r({environment:t,blocks:A,transaction:f})}function D(e){const{environment:t,store:n,parentStore:o,insertStores:r,transaction:a,before:s,type:l}=e,d=i.a.clone(r).reverse(),u=s?d.map(e=>c.c({parent:o,insert:e,before:n,transaction:a}).child):d.map(e=>c.b({parent:o,insert:e,after:n,transaction:a}).child),h=u.filter(e=>e.isTopLevel());return"workspace"===l?p.s({environment:t,blocks:h,transaction:a}):"private"===l&&p.r({environment:t,blocks:h,transaction:a}),u}function A(e){const{spaceViewStore:t,type:n,outlinerToggleButtonStore:o,newValue:r}=e;o.setState({...o.state,isHidden:r}),S.a.set({userId:t.environment.currentUser.id,key:O(t,n),value:r})}async function j(e){const{type:t,droppedStores:n,droppedDirection:o}=e,a=F(n),{data:i}=M.default.state,s=i?Object(_.u)(i):1;return!a||("workspace"===t&&a===t&&s>=10?o!==l.a.Onto?m.confirmUserAction({message:r.a.createElement("span",null,r.a.createElement(I.FormattedMessage,{defaultMessage:"Are you sure you want re-order the workspace sidebar? <boldtext>This will be visible to all {memberCount} members.</boldtext>",id:"sidebarActions.confirmDialog.reorderWorkspaceSidebar.message",description:"Shown in a dialog when the user attempts to reorder a top level page when there are more than 10 members in the workspace. memberCount is always 10 or greater.",values:{memberCount:s,boldtext:(...e)=>r.a.createElement("span",{style:{fontWeight:E.a.fontWeight.semibold}},e)}})),acceptLabel:r.a.createElement(I.FormattedMessage,{defaultMessage:"Re-order sidebar",id:"sidebarActions.confirmDialog.reorderWorkspaceSidebar.confirmButton.label"})}):m.confirmUserAction({message:r.a.createElement("span",null,r.a.createElement(I.FormattedMessage,{defaultMessage:"Are you sure you want to move this workspace page? <boldtext>This will be visible to all {memberCount} members.</boldtext>",description:"Shown in a dialog when the user attempts to move top level page when there are more than 10 members in the workspace. memberCount is always 10 or greater.",id:"sidebarActions.confirmDialog.moveWorkspacePage.message",values:{memberCount:s,boldtext:(...e)=>r.a.createElement("span",{style:{fontWeight:E.a.fontWeight.semibold}},e)}})),acceptLabel:r.a.createElement(I.FormattedMessage,{defaultMessage:"Move page",id:"sidebarActions.confirmDialog.moveWorkspacePage.confirmButton.label"})}):"workspace"===t&&a!==t&&s>1?m.confirmUserAction({message:r.a.createElement("span",null,r.a.createElement(I.FormattedMessage,{defaultMessage:"Are you sure you want to share this page with the workspace? <boldtext>It will be accessible by all {memberCount} members.</boldtext>",description:"Shown in a dialog when the user attempts to move a page to the workspace level when there are more than 10 members in the workspace. memberCount is always 10 or greater.",id:"sidebarActions.confirmDialog.sharePageWithWorkspace.message",values:{memberCount:s,boldtext:(...e)=>r.a.createElement("span",{style:{fontWeight:E.a.fontWeight.semibold}},e)}})),acceptLabel:r.a.createElement(I.FormattedMessage,{defaultMessage:"Move to workspace",id:"sidebarActions.confirmDialog.sharePageWithWorkspace.confirmButton.label"})}):!("private"===t&&a!==t&&s>1)||m.confirmUserAction({message:r.a.createElement("span",null,r.a.createElement(I.FormattedMessage,{defaultMessage:"Are you sure you want to make this page private? <boldtext>Only you will be able to access it.</boldtext>",id:"sidebarActions.confirmDialog.movePageToPrivate.message",values:{boldtext:(...e)=>r.a.createElement("span",{style:{fontWeight:E.a.fontWeight.semibold}},e)}})),acceptLabel:r.a.createElement(I.FormattedMessage,{defaultMessage:"Move to private",id:"sidebarActions.confirmDialog.movePageToPrivate.confirmButton.label"})}))}function F(e){for(const t of e){const e=C.a.findOutlinerItemFromStore(t);if(e)return e.props.type}}},UiOz:function(e,t,n){"use strict";var o=n("zttk");t.a=new o.a},Uv1v:function(e,t,n){"use strict";n("3bBZ");var o=n("i8i4"),r=n.n(o),a=n("hl64"),i=n("LEzx");class s extends i.a{constructor(){super(...arguments),this.shouldEmit=!1}getInitialState(){return{componentSet:new Set}}getSortedComponents(){const e=Array.from(this.state.componentSet);return e.sort((e,t)=>Object(a.a)(r.a.findDOMNode(e),r.a.findDOMNode(t))),e}getComponents(){return Array.from(this.state.componentSet)}findComponent(e){return Array.from(this.state.componentSet).find(e)}forEach(e){this.state.componentSet.forEach(e)}}t.a=s},Uy0f:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isVisible:!0}}}t.a=new r},V1wX:function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v}));n("3bBZ"),n("SYor");var o=n("5/h/"),r=n("G+Ai"),a=n("3JF5"),i=n("mINO"),s=n("J9+s");i.j({required:{table:i.g("bot","notion_user"),id:i.l()},optional:{spaceId:i.l()}});function l(e){return e.table===o.a}function c(e){return e.table===r.a}function d(e){return{table:o.a,value:e}}function u(e){return Object(a.b)(e)?{table:r.a,value:e}:(Object(a.c)(e),{table:r.a,value:e})}function p(e){return e?d(e):{table:o.a,value:void 0}}function h(e){return e?u(e):{table:r.a,value:void 0}}function m(e){if(l(e))return e.value.id;if(c(e)){const t=e.value;if(Object(a.d)(t))return t.parent_id}}const f=Object(s.defineMessages)({anonymousPlaceholder:{id:"actorHelpers.anonymousPlaceholder",defaultMessage:"Anonymous"},userFullName:{id:"actorHelpers.userFullName",defaultMessage:"{firstName} {lastName}"}});function g(e,t){return t&&t.given_name&&t.family_name?e.formatMessage(f.userFullName,{firstName:t.given_name.trim(),lastName:t.family_name.trim()}):t&&t.email?t.email:e.formatMessage(f.anonymousPlaceholder)}function b(e,t){return t.table===o.a?g(e,t.value):Object(a.a)(t.value)}function v(e){const{pointer:t,getRecordValue:n}=e,o=n(t);return{table:t.table,value:o}}},"V6+p":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));var o=n("bkwR"),r=n("2ZkR"),a=n("HSWF"),i=n("Catn"),s=n("Mht8"),l=n("zb5D");async function c(e){const t=await a.n(e),n=e.currentUser.id;let o=i.a.get({userId:n,key:r.localExperimentsV2Key});if(o){const e=o.deviceId!==t,a=o.userId!==n,i=Boolean(o.test);!e&&!a||i||(o=void 0,r.default.reset())}o?r.default.setState(o):await d(e)}async function d(e){const t=await a.n(e),n=e.currentUser.id,i=await o.getClientExperimentsV2(e,{deviceId:t});"failed"===i.type?s.log({level:"error",from:"experimentActions",type:"ExperimentFetchError",error:Object(l.a)(i),data:{deviceId:t,userId:n}}):r.default.setState(i.data)}function u(){r.default.reset()}},V9q8:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return h}));n("3bBZ");var o=n("LvDl"),r=n.n(o);function a(e){return d(e)&&e.nodeType===Node.TEXT_NODE}function i(e){return d(e)&&e.nodeType===Node.ELEMENT_NODE}const s=function(e,t){for(;d(e)&&!t(e);)e=e.parentNode;return e},l=function(e,t=[]){if(d(e)){for(const n of r.a.toArray(e.childNodes))a(n)?t.push(n):n.childNodes&&l(n,t);return t}return[]},c=function(e,t){return d(e)&&d(t)?r.a.findIndex(e.childNodes,e=>e===t):-1};function d(e){try{return e&&void 0!==e.nodeType}catch(t){return!1}}const u=(()=>{const e=window.document.createElement("div");return e.contentEditable="true","onbeforeinput"in e})(),p=e=>{!u&&e.preventDefault&&e.preventDefault()};function h(e){return"inputType"in e}},VAix:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o);const a=function(e){return r.a.isNull(e)||r.a.isUndefined(e)||r.a.isArray(e)&&0===e.length||r.a.isObject(e)&&0===Object.keys(e).length},i=function(e){if(r.a.isArray(e)){const t=e;let n=0;for(let e=0;e<t.length;e++){const o=i(t[e]);a(o)||(t[n]=o,n+=1)}t.length=n}else if(r.a.isObject(e)){const t=Object.keys(e);for(const n of t){const t=i(e[n]);a(t)?delete e[n]:e[n]=t}}if(!a(e))return e};t.a=i},VBxf:function(e,t,n){"use strict";n.r(t),n.d(t,"showDialog",(function(){return d})),n.d(t,"showErrorMessage",(function(){return u})),n.d(t,"showError",(function(){return p})),n.d(t,"showMessage",(function(){return h})),n.d(t,"showFatalError",(function(){return m})),n.d(t,"confirmUserAction",(function(){return f})),n.d(t,"dismissDialog",(function(){return g}));var o=n("LvDl"),r=n.n(o),a=n("J9+s"),i=n("80on"),s=n("vl8/"),l=n("zzAG");const c=Object(a.defineMessages)({dismissButtonLabel:{defaultMessage:"Okay",id:"dialog.dismissButton.label"},closeButtonLabel:{defaultMessage:"Close",id:"dialog.closeButton.label"},genericErrorMessage:{id:"dialog.genericErrorMessage",defaultMessage:"An unexpected error occurred"}}),d=function(e){i.a.reset(),i.a.setState({...e,open:!0})};function u(e){e||(e=s.default.formatMessage(c.genericErrorMessage)),d({message:e,showCancel:!1,keepFocus:!1,items:[{label:s.default.formatMessage(c.dismissButtonLabel),onAccept:r.a.identity}]})}function p(e){u(Object(l.b)(s.default.getIntl(),e))}const h=function(e){const{message:t,onAccept:n,innerStyle:o}=e;d({message:t,showCancel:!1,keepFocus:!1,items:[{label:s.default.formatMessage(c.dismissButtonLabel),onAccept:n||r.a.identity}],innerStyle:o})},m=function(e){const{message:t}=e;d({message:t,showCancel:!1,keepFocus:!0,items:[],fatal:!0})},f=function(e){return new Promise(t=>{d({showCancel:!1,keepFocus:!1,message:e.message,items:[{label:e.acceptLabel,color:"red",onAccept:()=>{t(!0)}},{label:e.cancelLabel||s.default.formatMessage(c.closeButtonLabel),onAccept:()=>{t(!1)}}]})})},g=()=>{i.a.setState({...i.a.state,open:i.a.state.fatal||!1})}},VMJe:function(e,t,n){"use strict";n.r(t),n.d(t,"UpdateType",(function(){return o})),n.d(t,"parseVersion",(function(){return a})),n.d(t,"formatVersion",(function(){return i})),n.d(t,"getUpdateType",(function(){return s})),n.d(t,"isEqualVersion",(function(){return l})),n.d(t,"isGreaterThanVersion",(function(){return c})),n.d(t,"isLessThanVersion",(function(){return d})),n.d(t,"ClientVersionHeader",(function(){return p})),n.d(t,"MacVersionHeader",(function(){return h})),n.d(t,"WindowsVersionHeader",(function(){return m})),n.d(t,"IOSVersionHeader",(function(){return f})),n.d(t,"AndroidVersionHeader",(function(){return g}));var o,r=n("Mht8");function a(e){const t=e.match(/(\d+)\.(\d+)\.(\d+)\.(\d+)/);if(t&&e===t[0])return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseInt(t[4])];const n=e.match(/(\d+)\.(\d+)\.(\d+)/);return n&&e===n[0]?[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])]:void 0}function i(e){if(e)return e.join(".")}function s(e){const{currentVersion:t,nextVersion:n,app:a}=e;if(!t||!n)return o.Major;if("client"===a&&4===t.length&&function(e){return 3===e.length}(n))throw new Error("Failed attempting to update client from ".concat(t," to ").concat(n));return n[0]>t[0]?o.Major:n[1]>t[1]?o.Minor:n[2]>t[2]?o.Patch:"client"===a?o.Silent:(r.log({level:"error",from:"versionHelpers",type:"getUpdateType",error:{message:"Failed to get update type"},data:{miscDataToConvertToString:{currentVersion:t,nextVersion:n,currentVersionType:typeof t,nextVersionType:typeof n}}}),o.Patch)}function l(e,t){return!(!e||!t)&&0===u(e,t)}function c(e,t){return-1===u(e,t)}function d(e,t){return 1===u(e,t)}function u(e,t){for(let n=0,o=0;e.length,o<t.length;n++,o++){if(e[n]>t[o])return-1;if(e[n]<t[o])return 1}return e.length>t.length?-1:t.length>e.length?1:0}!function(e){e[e.Major=0]="Major",e[e.Minor=1]="Minor",e[e.Patch=2]="Patch",e[e.Silent=3]="Silent"}(o||(o={}));const p="notion-client-version",h="notion-mac-version",m="notion-windows-version",f="notion-ios-version",g="notion-android-version"},VOS9:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("zTdN"),i=n("wldR"),s=n("WgIs"),l=n("2Y+N"),c=n("qxI2"),d=n("RQ1t"),u=n("cYwG"),p=n("hU3F"),h=n("J9+s");class m extends i.a{constructor(){super(...arguments),this.lastActionCount=0,this.storeTypes={menuListStore:d.a,limitStore:p.a.of(m.limitCountOffset)},this.handleScrollOffsetListenerChange=e=>{e<m.limitScrollOffset&&this.stores.limitStore.state<this.lastActionCount&&this.stores.limitStore.setState(this.stores.limitStore.state+m.limitCountOffset)}}renderComponent(){let e=Object(c.a)(this.props.sections,this.props.context,this.props.filter||"");this.lastActionCount=0;for(const o of e)this.lastActionCount+=o.actions.length;this.props.useLimit&&(e=Object(c.b)(e,this.stores.limitStore.state));const t=new Map,n=e.map(e=>({key:e.key,render:t=>e.render({...t,topBorder:0!==t.index||Boolean(this.props.topBorder),title:e.title}),items:e.actions.map(e=>{const n={key:e.key,render:(t,n)=>e.render(t,this.props.context,{onAccept:this.props.onAccept,onFocus:n.onFocus}),action:({event:t})=>{e.action(this.props.context,t)}};return t.set(n,e),n})}));return r.a.createElement(o.Fragment,null,0===e.length&&r.a.createElement(l.a,null,r.a.createElement(a.a,{title:this.props.empty||r.a.createElement(h.FormattedMessage,{id:"action.search.noResults",defaultMessage:"No results",description:"Default message to display when no results are found via fuzzy text search."})})),r.a.createElement(s.a,{type:s.a.Type.Vertical,store:this.stores.menuListStore,disableKeyboard:this.props.disableKeyboard,sections:n,initialFocus:this.props.initialFocus,disableMouseLeaveBlur:this.props.disableMouseLeaveBlur,onEmptyEnter:this.props.onEmptyEnter,onAccept:(e,n)=>{if(this.props.onAccept){const o=t.get(e);o&&this.props.onAccept(o,this.props.context,n.event)}}}),this.props.useLimit&&r.a.createElement(u.a,{onChange:this.handleScrollOffsetListenerChange}))}}m.limitScrollOffset=200,m.limitCountOffset=12,t.a=m},VPSe:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("WgIs"),s=n("i3uR"),l=n("LEzx");class c extends l.a{getInitialState(){return{}}}var d=c,u=n("gbGO"),p=n("g4rC"),h=n("d9nj"),m=n("mF3+"),f=n("MHAS");class g extends a.a{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:p.a,SelectButtonStore:d},this.renderMenuItemOrigin=e=>{const{style:t}=this.props;if(this.props.isMenuItem){const n=this.props.label?{title:this.props.label,right:this.props.selectedTitle}:{title:this.props.selectedTitle};return r.a.createElement(f.a,Object.assign({},e,{focused:!!this.props.focused,disabled:this.props.disabled,style:t},n))}},this.renderButtonOrigin=e=>{const{innerButtonStyle:t}=this.props;return r.a.createElement(h.a,Object.assign({disabled:this.props.disabled,disabledFeedback:!0,style:{marginRight:-6,...t}},e),this.props.selectedTitle,this.chevronDownIcon())},this.handleSelection=e=>{this.stores.SelectButtonStore.setState({selectedKey:e})},this.closeMenu=()=>{const{buttonPopupStore:e}=this.stores;e.setState({...e.state,open:!1})},this.chevronDownIcon=()=>{const{device:e}=this.environment;return m.a.chevronDown({width:e.isMobile?14:10,marginLeft:4,fill:this.theme.lightIconColor})}}renderComponent(){const{isMenuItem:e,style:t,labelStyle:n}=this.props;return e?this.renderButtonPopup(this.renderMenuItemOrigin):r.a.createElement("div",{style:{display:"flex",alignItems:"center",height:32,...t}},this.props.label&&r.a.createElement("div",{style:{marginRight:"auto",color:this.theme.lightTextColor,fontSize:14,...n}},this.props.label),this.renderButtonPopup(this.renderButtonOrigin))}renderButtonPopup(e){const{device:t}=this.environment,{alignmentToOrigin:n}=this.props;return r.a.createElement(s.a,{popupType:t.isMobile?s.a.PopupType.SlideUp:s.a.PopupType.Popup,buttonPopupStore:this.stores.buttonPopupStore,alignmentToOrigin:void 0!==n?n:s.a.Alignment.End,renderOrigin:e,placementToOrigin:this.props.isMenuItem?s.a.Placement.Right:s.a.Placement.Bottom,render:e=>{let n;n=t.isMobile?{menuType:u.b.MenuType.ActionSheet}:{menuType:u.b.MenuType.Popup};const{focusedIndex:o,menuSections:a}=this.getMenuSections(e);return r.a.createElement(u.b,Object.assign({},n),r.a.createElement(i.a,{type:i.a.Type.Vertical,initialFocus:o,sections:a}))}})}getMenuSections(e){let t=void 0,n=0;return{menuSections:this.props.renderMenuSections(e).map(e=>({...e,items:e.items.map(e=>(e.key===this.stores.SelectButtonStore.state.selectedKey&&(t=n),n++,{...e,action:t=>{e.action(t),this.handleSelection(e.key)}}))})),focusedIndex:t}}}t.a=g},VTj5:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return w}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("bkwR"),i=n("yUnD"),s=n("p0Ff"),l=n("HRSx"),c=n("922z"),d=n("FUUC"),u=n("Fe7V"),p=n("8L2b"),h=n("5/h/"),m=n("9axl"),f=n("7Gak"),g=n("vJXr"),b=n("JuT7"),v=n("Ko8Q"),y=n("ocLp");function S(e,t){!function(){k&&b.a.removeListener(k);C&&g.a.removeListener(C);f.a.reset()}(),async function(e,t){try{const n=await y.a.measure("loadUserContent","(current user)",()=>async function(e){const{PersistedRecordCache:t,currentUser:n}=e;if(!t)throw new Error("No local database found.");const o=n.id;if(!o)throw new Error("User is not logged in.");return{recordMap:(await i.a({environment:e,recordPointers:[{table:m.a,id:o}],recurFn:(e,t,n)=>{const o=[];if((e===p.a||e===m.a)&&!n.value)throw new Error("Not defined: ".concat(e,", ").concat(t));if(e===m.a){o.push({table:h.a,id:t});const e=n.value;if(e&&e.space_views)for(const t of e.space_views)o.push({table:p.a,id:t})}else if(e===p.a){const e=n.value;if(e&&e.bookmarked_pages)for(const t of e.bookmarked_pages)o.push({table:l.a,id:t});if(e&&e.shared_pages)for(const t of e.shared_pages)o.push({table:l.a,id:t});e&&e.space_id&&o.push({table:d.a,id:e.space_id})}else if(e===d.a){const e=n.value;if(e&&e.pages)for(const t of e.pages)o.push({table:l.a,id:t})}return o},recordIsRequired:e=>e.table===m.a||e.table===p.a})).toJson()}}(e)),o=new c.a(n.recordMap);u.g({environment:e,inMemoryRecordCache:s.default,recordMap:o}),f.a.setState({...f.a.state,localSpaceInaccessiblePages:E(o,t)}),f.a.state.readyPromise.resolve()}catch(n){}}(e,t),M(e);let n,o=g.a.state.online;C=()=>{const t=g.a.state.online;!t||o||f.a.state.remoteSpaceInaccessiblePages||M(e),o=t},g.a.addListener(C);const S=r.a.throttle((o,r)=>{void 0!==n&&n!==r&&async function(e,t){const n=await a.loadUserContent(e,{});"success"===n.type&&(f.a.setState({...f.a.state,remoteSpaceInaccessiblePages:E(new c.a(n.data.recordMap),t)}),f.a.state.readyPromise.resolve())}(e,t),n=r},5e3);k=b.a.addListener(Object(v.k)(t),S,void 0)}async function w(){await f.a.state.readyPromise.promise}let k,C;async function M(e){const t=await a.getSpaces(e,{}),n=e.currentUser.id;if("success"===t.type)for(const[o,r]of Object.entries(t.data)){const t=new c.a(r);u.g({environment:e,userId:o,inMemoryRecordCache:s.default,recordMap:t}),o===n&&(f.a.setState({...f.a.state,remoteSpaceInaccessiblePages:E(t,o)}),f.a.state.readyPromise.resolve())}}function E(e,t){const n={};for(const{pointer:o}of e.getByTable(d.a)){const r=o.id,a=e.get({table:d.a,id:r});if(a&&a.value){const o=new Set;if(a.value.pages){for(const t of a.value.pages){const n=e.get({table:l.a,id:t});n&&n.value||o.add(t)}n[t]||(n[t]={}),n[t][r]=o}}}return n}},VVDu:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("ZQ9l"),s=n("wlCD");class l extends a.a{renderComponent(){return r.a.createElement(i.a,{title:r.a.createElement(s.a,null)})}}t.a=l},VVh3:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("LEzx");class l extends s.a{getInitialState(){return{spinnerVisible:!1,showSpinnerTime:0,containerVisible:!1}}}var c=l,d=n("wldR"),u=n("wlCD");class p extends d.a{constructor(){super(...arguments),this.storeTypes={store:c},this.showSpinner=()=>{this.props.loaded||this.stores.store.setState({...this.stores.store.state,containerVisible:!1,spinnerVisible:!0,showSpinnerTime:Date.now()})},this.showContent=()=>{this.props.loaded&&this.stores.store.setState({...this.stores.store.state,spinnerVisible:!1,containerVisible:!0})}}didMount(){super.didMount(),setTimeout(this.showSpinner,this.props.showSpinnerTimeout)}didMountOrUpdate(){super.didMountOrUpdate();const{containerVisible:e,spinnerVisible:t,showSpinnerTime:n}=this.stores.store.state;if(this.props.loaded&&!e){const e=Date.now()-n;t&&e<p.minShowSpinnerTime?setTimeout(this.showContent,p.minShowSpinnerTime-e):this.showContent()}}renderComponent(){return i.a.createElement("div",{style:this.getStyle(),className:this.props.className},i.a.createElement("div",{style:this.getInnerStyle()},this.props.children),this.stores.store.state.spinnerVisible&&i.a.createElement(u.a,{style:this.getSpinnerStyle()}))}getStyle(){const e={};return this.stores.store.state.spinnerVisible&&r.a.assign(e,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}),r.a.assign(e,this.props.style)}getInnerStyle(){return this.stores.store.state.containerVisible?this.props.innerStyle||{}:{opacity:0,pointerEvents:"none",position:"absolute",...this.props.innerStyle}}getSpinnerStyle(){return{zIndex:1,opacity:.5,width:this.props.spinnerSize,height:this.props.spinnerSize,margin:8}}}p.minShowSpinnerTime=1e3;t.a=p},VaV0:function(e,t,n){(function(o){var r;!function(o,a,i,s){a[o]=i.call(a);for(var l=0;l<s.length;l++)s[l](a[o]);e.exports?e.exports=a[o]:void 0===(r=function(){return a[o]}.call(t,n,t,e))||(e.exports=r)}("Primus",this||{},(function(){return function e(t,n,o){function r(i,s){if(!n[i]){if(!t[i]){if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};t[i][0].call(c.exports,(function(e){return r(t[i][1][e]||e)}),c,c.exports,e,t,n,o)}return n[i].exports}for(var a=!1,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,t,n){"use strict";t.exports=function(e,t){var n=/[, ]+/;function o(e,o){if(t[e]){if("string"==typeof t[e]&&(t[e]=t[e].split(n)),"function"==typeof t[e])return t[e].call(o);for(var r,a,i=0;i<t[e].length;i++)"function"===(r=typeof(a=t[e][i]))?a.call(o):"string"===r&&"function"==typeof o[a]&&o[a]()}}return t=t||{},"string"==typeof(e=e||[])&&(e=e.split(n)),function(){var t,n=0;if(null===this[e[0]])return!1;for(o("before",this);n<e.length;n++)this[t=e[n]]&&("function"==typeof this[t].destroy&&this[t].destroy(),this[t]=null);return this.emit&&this.emit("destroy"),o("after",this),!0}}},{}],2:[function(e,t,n){"use strict";t.exports=function(){for(var e,t=this,n=0,o=arguments.length,r=new Array(o);n<o;n++)r[n]=arguments[n];return"function"!=typeof r[r.length-1]?function(){for(var e=0,n=arguments.length,o=new Array(n);e<n;e++)o[e]=arguments[e];return t.emit.apply(t,r.concat(o))}:(e=r.pop(),function(){for(var n=0,o=arguments.length,a=new Array(o+1);n<o;n++)a[n+1]=arguments[n];return a[0]=function(e,n){if(e)return t.emit("error",e);a=void 0===n?a.slice(1):null===n?[]:n,t.emit.apply(t,r.concat(a))},e.apply(t,a),!0})}},{}],3:[function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,r="~";function a(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(r=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)o.call(e,t)&&n.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,a=n.length,i=new Array(a);o<a;o++)i[o]=n[o].fn;return i},c.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,o,a,i){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,o),!0;case 5:return d.fn.call(d.context,t,n,o,a),!0;case 6:return d.fn.call(d.context,t,n,o,a,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var p,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,o);break;default:if(!l)for(p=1,l=new Array(u-1);p<u;p++)l[p-1]=arguments[p];d[c].fn.apply(d[c].context,l)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,o){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var i=this._events[a];if(i.fn)i.fn!==t||o&&!i.once||n&&i.context!==n||l(this,a);else{for(var s=0,c=[],d=i.length;s<d;s++)(i[s].fn!==t||o&&!i[s].once||n&&i[s].context!==n)&&c.push(i[s]);c.length?this._events[a]=1===c.length?c[0]:c:l(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,void 0!==t&&(t.exports=c)},{}],4:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],5:[function(e,t,n){"use strict";var o=new RegExp("^((?:\\d+)?\\.?\\d+) *("+["milliseconds?","msecs?","ms","seconds?","secs?","s","minutes?","mins?","m","hours?","hrs?","h","days?","d","weeks?","wks?","w","years?","yrs?","y"].join("|")+")?$","i");t.exports=function(e){var t,n,r=typeof e;if("number"===r)return e;if("string"!==r||"0"===e||!e)return 0;if(+e)return+e;if(e.length>1e4||!(n=o.exec(e)))return 0;switch(t=parseFloat(n[1]),n[2].toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 31536e6*t;case"weeks":case"week":case"wks":case"wk":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;default:return t}}},{}],6:[function(e,t,n){"use strict";t.exports=function(e){var t,n=0;function o(){return n?t:(n=1,t=e.apply(this,arguments),e=null,t)}return o.displayName=e.displayName||e.name||o.displayName||o.name,o}},{}],7:[function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty;function r(e){return decodeURIComponent(e.replace(/\+/g," "))}n.stringify=function(e,t){t=t||"";var n=[];for(var r in"string"!=typeof t&&(t="?"),e)o.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""},n.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,o={};t=n.exec(e);){var a=r(t[1]),i=r(t[2]);a in o||(o[a]=i)}return o}},{}],8:[function(e,t,n){"use strict";var o=e("eventemitter3"),r=e("millisecond"),a=e("demolish"),i=e("tick-tock"),s=e("one-time");function l(e,t,n){return r(e in n?n[e]:e in t?t[e]:c[e])}function c(e){if(!(this instanceof c))return new c(e);e=e||{},this.attempt=null,this._fn=null,this["reconnect timeout"]=l("reconnect timeout",this,e),this.retries=l("retries",this,e),this.factor=l("factor",this,e),this.max=l("max",this,e),this.min=l("min",this,e),this.timers=new i(this)}c.prototype=new o,c.prototype.constructor=c,c["reconnect timeout"]="30 seconds",c.max=1/0,c.min="500 ms",c.retries=10,c.factor=2,c.prototype.reconnect=function(){var e=this;return e.backoff((function(t,n){if(n.duration=+new Date-n.start,t)return e.emit("reconnect failed",t,n);e.emit("reconnected",n)}),e.attempt)},c.prototype.backoff=function(e,t){var n=this;return(t=t||n.attempt||{}).backoff?n:(t["reconnect timeout"]=l("reconnect timeout",n,t),t.retries=l("retries",n,t),t.factor=l("factor",n,t),t.max=l("max",n,t),t.min=l("min",n,t),t.start=+t.start||+new Date,t.duration=+t.duration||0,t.attempt=+t.attempt||0,t.attempt===t.retries?(e.call(n,new Error("Unable to recover"),t),n):(t.backoff=!0,t.attempt++,n.attempt=t,t.scheduled=1!==t.attempt?Math.min(Math.round((Math.random()+1)*t.min*Math.pow(t.factor,t.attempt-1)),t.max):t.min,n.timers.setTimeout("reconnect",(function(){t.duration=+new Date-t.start,t.backoff=!1,n.timers.clear("reconnect, timeout");var o=n._fn=s((function(o){if(n.reset(),o)return n.backoff(e,t);e.call(n,void 0,t)}));n.emit("reconnect",t,o),n.timers.setTimeout("timeout",(function(){var e=new Error("Failed to reconnect in a timely manner");t.duration=+new Date-t.start,n.emit("reconnect timeout",e,t),o(e)}),t["reconnect timeout"])}),t.scheduled),n.emit("reconnect scheduled",t),n))},c.prototype.reconnecting=function(){return!!this.attempt},c.prototype.reconnected=function(e){return this._fn&&this._fn(e),this},c.prototype.reset=function(){return this._fn=this.attempt=null,this.timers.clear("reconnect, timeout"),this},c.prototype.destroy=a("timers attempt _fn"),t.exports=c},{demolish:1,eventemitter3:9,millisecond:5,"one-time":6,"tick-tock":11}],9:[function(e,t,n){"use strict";var o="function"!=typeof Object.create&&"~";function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){}a.prototype._events=void 0,a.prototype.listeners=function(e,t){var n=o?o+e:e,r=this._events&&this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,s=new Array(i);a<i;a++)s[a]=r[a].fn;return s},a.prototype.emit=function(e,t,n,r,a,i){var s=o?o+e:e;if(!this._events||!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if("function"==typeof d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,r),!0;case 5:return d.fn.call(d.context,t,n,r,a),!0;case 6:return d.fn.call(d.context,t,n,r,a,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var p,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;default:if(!l)for(p=1,l=new Array(u-1);p<u;p++)l[p-1]=arguments[p];d[c].fn.apply(d[c].context,l)}}return!0},a.prototype.on=function(e,t,n){var a=new r(t,n||this),i=o?o+e:e;return this._events||(this._events=o?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],a]:this._events[i].push(a):this._events[i]=a,this},a.prototype.once=function(e,t,n){var a=new r(t,n||this,!0),i=o?o+e:e;return this._events||(this._events=o?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],a]:this._events[i].push(a):this._events[i]=a,this},a.prototype.removeListener=function(e,t,n,r){var a=o?o+e:e;if(!this._events||!this._events[a])return this;var i=this._events[a],s=[];if(t)if(i.fn)(i.fn!==t||r&&!i.once||n&&i.context!==n)&&s.push(i);else for(var l=0,c=i.length;l<c;l++)(i[l].fn!==t||r&&!i[l].once||n&&i[l].context!==n)&&s.push(i[l]);return s.length?this._events[a]=1===s.length?s[0]:s:delete this._events[a],this},a.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[o?o+e:e]:this._events=o?{}:Object.create(null),this):this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=o,void 0!==t&&(t.exports=a)},{}],10:[function(e,t,n){"use strict";t.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}],11:[function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,r=e("millisecond");function a(e,t,n,o){this.start=+new Date,this.duration=n,this.clear=t,this.timer=e,this.fns=[o]}function i(e){clearTimeout(e)}function s(e){clearInterval(e)}function l(e){clearImmediate(e)}function c(e){if(!(this instanceof c))return new c(e);this.timers={},this.context=e||this}a.prototype.remaining=function(){return this.duration-this.taken()},a.prototype.taken=function(){return+new Date-this.start},c.prototype.tock=function(e,t){var n=this;return function(){if(e in n.timers){var o=n.timers[e].fns.slice(),r=o.length,a=0;for(t?n.clear(e):n.start=+new Date;a<r;a++)o[a].call(n.context)}}},c.prototype.setTimeout=function(e,t,n){var o;return this.timers[e]?(this.timers[e].fns.push(t),this):(o=r(n),this.timers[e]=new a(setTimeout(this.tock(e,!0),r(n)),i,o,t),this)},c.prototype.setInterval=function(e,t,n){var o;return this.timers[e]?(this.timers[e].fns.push(t),this):(o=r(n),this.timers[e]=new a(setInterval(this.tock(e),r(n)),s,o,t),this)},c.prototype.setImmediate=function(e,t){return"function"!=typeof setImmediate?this.setTimeout(e,t,0):this.timers[e]?(this.timers[e].fns.push(t),this):(this.timers[e]=new a(setImmediate(this.tock(e,!0)),l,0,t),this)},c.prototype.active=function(e){return e in this.timers},c.prototype.clear=function(){var e,t,n,r=arguments.length?arguments:[],a=this;if(1===r.length&&"string"==typeof r[0]&&(r=r[0].split(/[, ]+/)),!r.length)for(e in a.timers)o.call(a.timers,e)&&r.push(e);for(t=0,n=r.length;t<n;t++)(e=a.timers[r[t]])&&(e.clear(e.timer),e.fns=e.timer=e.clear=null,delete a.timers[r[t]]);return a},c.prototype.adjust=function(e,t){var n,o=r(t),a=this.timers[e];return a?(n=a.clear===s,a.clear(a.timer),a.start=+new Date,a.duration=o,a.timer=(n?setInterval:setTimeout)(this.tock(e,!n),o),this):this},c.prototype.end=c.prototype.destroy=function(){return!!this.context&&(this.clear(),this.context=this.timers=null,!0)},c.Timer=a,t.exports=c},{millisecond:5}],12:[function(e,t,n){(function(n){"use strict";var o=e("requires-port"),r=e("querystringify"),a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function c(e){var t,o={},r=typeof(e=e||n.location||{});if("blob:"===e.protocol)o=new u(unescape(e.pathname),{});else if("string"===r)for(t in o=new u(e,{}),l)delete o[t];else if("object"===r){for(t in e)t in l||(o[t]=e[t]);void 0===o.slashes&&(o.slashes=i.test(e.href))}return o}function d(e){var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function u(e,t,n){if(!(this instanceof u))return new u(e,t,n);var a,i,l,p,h,m,f=s.slice(),g=typeof t,b=this,v=0;for("object"!==g&&"string"!==g&&(n=t,t=null),n&&"function"!=typeof n&&(n=r.parse),t=c(t),a=!(i=d(e||"")).protocol&&!i.slashes,b.slashes=i.slashes||a&&t.slashes,b.protocol=i.protocol||t.protocol||"",e=i.rest,i.slashes||(f[2]=[/(.*)/,"pathname"]);v<f.length;v++)l=(p=f[v])[0],m=p[1],l!=l?b[m]=e:"string"==typeof l?~(h=e.indexOf(l))&&("number"==typeof p[2]?(b[m]=e.slice(0,h),e=e.slice(h+p[2])):(b[m]=e.slice(h),e=e.slice(0,h))):(h=l.exec(e))&&(b[m]=h[1],e=e.slice(0,h.index)),b[m]=b[m]||a&&p[3]&&t[m]||"",p[4]&&(b[m]=b[m].toLowerCase());n&&(b.query=n(b.query)),a&&t.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==t.pathname)&&(b.pathname=function(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),o=n.length,r=n[o-1],a=!1,i=0;o--;)"."===n[o]?n.splice(o,1):".."===n[o]?(n.splice(o,1),i++):i&&(0===o&&(a=!0),n.splice(o,1),i--);return a&&n.unshift(""),"."!==r&&".."!==r||n.push(""),n.join("/")}(b.pathname,t.pathname)),o(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(p=b.auth.split(":"),b.username=p[0]||"",b.password=p[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}u.prototype={set:function(e,t,n){var a=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||r.parse)(t)),a[e]=t;break;case"port":a[e]=t,o(t,a.protocol)?t&&(a.host=a.hostname+":"+t):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=t,a.port&&(t+=":"+a.port),a.host=t;break;case"host":a[e]=t,/:\d+$/.test(t)?(t=t.split(":"),a.port=t.pop(),a.hostname=t.join(":")):(a.hostname=t,a.port="");break;case"protocol":a.protocol=t.toLowerCase(),a.slashes=!n;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";a[e]=t.charAt(0)!==i?i+t:t}else a[e]=t;break;default:a[e]=t}for(var l=0;l<s.length;l++){var c=s[l];c[4]&&(a[c[1]]=a[c[1]].toLowerCase())}return a.origin=a.protocol&&a.host&&"file:"!==a.protocol?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(e){e&&"function"==typeof e||(e=r.stringify);var t,n=this,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var a=o+(n.slashes?"//":"");return n.username&&(a+=n.username,n.password&&(a+=":"+n.password),a+="@"),a+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},u.extractProtocol=d,u.location=c,u.qs=r,t.exports=u}).call(this,void 0!==o?o:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:7,"requires-port":10}],13:[function(e,t,n){"use strict";var o,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a={},i=0,s=0;function l(e){var t="";do{t=r[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function c(){var e=l(+new Date);return e!==o?(i=0,o=e):e+"."+l(i++)}for(;s<64;s++)a[r[s]]=s;c.encode=l,c.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+a[e.charAt(s)];return t},t.exports=c},{}],14:[function(e,t,n){"use strict";var o,r=e("eventemitter3"),a=e("tick-tock"),i=e("recovery"),s=e("querystringify"),l=e("inherits"),c=e("demolish"),d=e("yeast"),u=/\u2028/g,p=/\u2029/g;function h(e,t){if(!(e instanceof m)){var n=new Error("Primus#"+t+"'s context should called with a Primus instance");if("function"!=typeof e.listeners||!e.listeners("error").length)throw n;e.emit("error",n)}}try{o=location.origin?location.origin:location.protocol+"//"+location.host}catch(v){o="http://127.0.0.1"}function m(e,t){if(!(this instanceof m))return new m(e,t);if(m.Stream.call(this),"function"!=typeof this.client)return this.critical(new Error("The client library has not been compiled correctly, see https://github.com/primus/primus#client-library for more details"));if("object"==typeof e?e=(t=e).url||t.uri||o:t=t||{},"ping"in t||"pong"in t)return this.critical(new Error("The `ping` and `pong` options have been removed"));var n=this;t.queueSize="queueSize"in t?t.queueSize:1/0,t.timeout="timeout"in t?t.timeout:1e4,t.reconnect="reconnect"in t?t.reconnect:{},t.pingTimeout="pingTimeout"in t?t.pingTimeout:45e3,t.strategy="strategy"in t?t.strategy:[],t.transport="transport"in t?t.transport:{},n.buffer=[],n.writable=!0,n.readable=!0,n.url=n.parse(e||o),n.readyState=m.CLOSED,n.options=t,n.timers=new a(this),n.socket=null,n.disconnect=!1,n.transport=t.transport,n.transformers={outgoing:[],incoming:[]},n.recovery=new i(t.reconnect),"string"==typeof t.strategy&&(t.strategy=t.strategy.split(/\s?,\s?/g)),!1===t.strategy?t.strategy=[]:t.strategy.length||(t.strategy.push("disconnect","online"),this.authorization||t.strategy.push("timeout")),t.strategy=t.strategy.join(",").toLowerCase(),"websockets"in t&&(n.AVOID_WEBSOCKETS=!t.websockets),"network"in t&&(n.NETWORK_EVENTS=t.network),t.manual||n.timers.setTimeout("open",(function(){n.timers.clear("open"),n.open()}),0),n.initialise(t)}m.requires=m.require=function(t){if("function"==typeof e)return e(t)};try{m.Stream=m.requires("stream")}catch(v){}m.Stream||(m.Stream=r),l(m,m.Stream),m.OPENING=1,m.CLOSED=2,m.OPEN=3,m.prototype.AVOID_WEBSOCKETS=!1,m.prototype.NETWORK_EVENTS=!1,m.prototype.online=!0;try{(m.prototype.NETWORK_EVENTS="onLine"in navigator&&(window.addEventListener||document.body.attachEvent))&&(navigator.onLine||(m.prototype.online=!1))}catch(v){}if(m.prototype.ark={},m.prototype.emits=e("emits"),m.prototype.plugin=function(e){if(h(this,"plugin"),e)return this.ark[e];var t={};for(e in this.ark)t[e]=this.ark[e];return t},m.prototype.reserved=function(e){return/^(incoming|outgoing)::/.test(e)||e in this.reserved.events},m.prototype.reserved.events={"reconnect scheduled":1,"reconnect timeout":1,readyStateChange:1,"reconnect failed":1,reconnected:1,reconnect:1,offline:1,timeout:1,destroy:1,online:1,error:1,close:1,open:1,data:1,end:1},m.prototype.initialise=function(e){var t=this;for(var n in t.recovery.on("reconnected",t.emits("reconnected")).on("reconnect failed",t.emits("reconnect failed",(function(e){t.emit("end"),e()}))).on("reconnect timeout",t.emits("reconnect timeout")).on("reconnect scheduled",t.emits("reconnect scheduled")).on("reconnect",t.emits("reconnect",(function(e){t.emit("outgoing::reconnect"),e()}))),t.on("outgoing::open",(function(){var e=t.readyState;t.readyState=m.OPENING,e!==t.readyState&&t.emit("readyStateChange","opening")})),t.on("incoming::open",(function(){var e=t.readyState;if(t.recovery.reconnecting()&&t.recovery.reconnected(),t.writable=!0,t.readable=!0,t.online||(t.online=!0,t.emit("online")),t.readyState=m.OPEN,e!==t.readyState&&t.emit("readyStateChange","open"),t.heartbeat(),t.buffer.length){var n=t.buffer.slice(),o=n.length,r=0;for(t.buffer.length=0;r<o;r++)t._write(n[r])}t.emit("open")})),t.on("incoming::ping",(function(e){t.online=!0,t.heartbeat(),t.emit("outgoing::pong",e),t._write("primus::pong::"+e)})),t.on("incoming::error",(function(e){var n=t.timers.active("connect"),o=e;if("string"==typeof e)o=new Error(e);else if(!(e instanceof Error)&&"object"==typeof e)for(var r in o=new Error(e.message||e.reason),e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);if(t.recovery.reconnecting())return t.recovery.reconnected(o);t.listeners("error").length&&t.emit("error",o),n&&(~t.options.strategy.indexOf("timeout")?t.recovery.reconnect():t.end())})),t.on("incoming::data",(function(e){t.decoder(e,(function(n,o){if(n)return t.listeners("error").length&&t.emit("error",n);t.protocol(o)||t.transforms(t,t,"incoming",o,e)}))})),t.on("incoming::end",(function(){var e=t.readyState;return t.disconnect?(t.disconnect=!1,t.end()):(t.readyState=m.CLOSED,e!==t.readyState&&t.emit("readyStateChange","end"),t.timers.active("connect")&&t.end(),e!==m.OPEN?!!t.recovery.reconnecting()&&t.recovery.reconnect():(this.writable=!1,this.readable=!1,this.timers.clear(),t.emit("close"),~t.options.strategy.indexOf("disconnect")?t.recovery.reconnect():(t.emit("outgoing::end"),void t.emit("end"))))})),t.client(),t.ark)t.ark[n].call(t,t,e);return t.NETWORK_EVENTS?(t.offlineHandler=function(){t.online&&(t.online=!1,t.emit("offline"),t.end(),t.recovery.reset())},t.onlineHandler=function(){t.online||(t.online=!0,t.emit("online"),~t.options.strategy.indexOf("online")&&t.recovery.reconnect())},window.addEventListener?(window.addEventListener("offline",t.offlineHandler,!1),window.addEventListener("online",t.onlineHandler,!1)):document.body.attachEvent&&(document.body.attachEvent("onoffline",t.offlineHandler),document.body.attachEvent("ononline",t.onlineHandler)),t):t},m.prototype.protocol=function(e){if("string"!=typeof e||0!==e.indexOf("primus::"))return!1;var t=e.indexOf(":",8),n=e.slice(t+2);switch(e.slice(8,t)){case"ping":this.emit("incoming::ping",+n);break;case"server":"close"===n&&(this.disconnect=!0);break;case"id":this.emit("incoming::id",n);break;default:return!1}return!0},m.prototype.transforms=function(e,t,n,o,r){var a={data:o},i=e.transformers[n];return function e(n,o){var r=i[n++];if(!r)return o();if(1===r.length){if(!1===r.call(t,a))return;return e(n,o)}r.call(t,a,(function(r,a){if(r)return t.emit("error",r);!1!==a&&e(n,o)}))}(0,(function(){if("incoming"===n)return t.emit("data",a.data,r);t._write(a.data)})),this},m.prototype.id=function(e){return this.socket&&this.socket.id?e(this.socket.id):(this._write("primus::id::"),this.once("incoming::id",e))},m.prototype.open=function(){return h(this,"open"),!this.recovery.reconnecting()&&this.options.timeout&&this.timeout(),this.emit("outgoing::open"),this},m.prototype.write=function(e){return h(this,"write"),this.transforms(this,this,"outgoing",e),!0},m.prototype._write=function(e){var t=this;return m.OPEN!==t.readyState?(this.buffer.length===this.options.queueSize&&this.buffer.splice(0,1),this.buffer.push(e),!1):(t.encoder(e,(function(e,n){if(e)return t.listeners("error").length&&t.emit("error",e);"string"==typeof n&&(~n.indexOf("\u2028")&&(n=n.replace(u,"\\u2028")),~n.indexOf("\u2029")&&(n=n.replace(p,"\\u2029"))),t.emit("outgoing::data",n)})),!0)},m.prototype.heartbeat=function(){return this.options.pingTimeout?(this.timers.clear("heartbeat"),this.timers.setTimeout("heartbeat",(function(){this.online&&(this.online=!1,this.emit("offline"),this.emit("incoming::end"))}),this.options.pingTimeout),this):this},m.prototype.timeout=function(){var e=this;function t(){e.removeListener("error",t).removeListener("open",t).removeListener("end",t).timers.clear("connect")}return e.timers.setTimeout("connect",(function(){t(),e.readyState===m.OPEN||e.recovery.reconnecting()||(e.emit("timeout"),~e.options.strategy.indexOf("timeout")?e.recovery.reconnect():e.end())}),e.options.timeout),e.on("error",t).on("open",t).on("end",t)},m.prototype.end=function(e){if(h(this,"end"),this.readyState===m.CLOSED&&!this.timers.active("connect")&&!this.timers.active("open"))return this.recovery.reconnecting()&&(this.recovery.reset(),this.emit("end")),this;void 0!==e&&this.write(e),this.writable=!1,this.readable=!1;var t=this.readyState;return this.readyState=m.CLOSED,t!==this.readyState&&this.emit("readyStateChange","end"),this.timers.clear(),this.emit("outgoing::end"),this.emit("close"),this.emit("end"),this},m.prototype.destroy=c("url timers options recovery socket transport transformers",{before:"end",after:["removeAllListeners",function(){this.NETWORK_EVENTS&&(window.addEventListener?(window.removeEventListener("offline",this.offlineHandler),window.removeEventListener("online",this.onlineHandler)):document.body.attachEvent&&(document.body.detachEvent("onoffline",this.offlineHandler),document.body.detachEvent("ononline",this.onlineHandler)))}]}),m.prototype.clone=function(e){return this.merge({},e)},m.prototype.merge=function(e){for(var t,n,o=1;o<arguments.length;o++)for(t in n=arguments[o])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},m.prototype.parse=e("url-parse"),m.prototype.querystring=s.parse,m.prototype.querystringify=s.stringify,m.prototype.uri=function(e){var t=this.url,n=[],o=!1;e.query&&(o=!0),(e=e||{}).protocol="protocol"in e?e.protocol:"http:",e.query=!(!t.query||!o)&&t.query.slice(1),e.secure="secure"in e?e.secure:"https:"===t.protocol||"wss:"===t.protocol,e.auth="auth"in e?e.auth:t.auth,e.pathname="pathname"in e?e.pathname:this.pathname,e.port="port"in e?+e.port:+t.port||(e.secure?443:80);var r=this.querystring(e.query||"");return r._primuscb=d(),e.query=this.querystringify(r),this.emit("outgoing::url",e),n.push(e.secure?e.protocol.replace(":","s:"):e.protocol,""),n.push(e.auth?e.auth+"@"+t.host:t.host),e.pathname&&n.push(e.pathname.slice(1)),o?n[n.length-1]+="?"+e.query:delete e.query,e.object?e:n.join("/")},m.prototype.transform=function(e,t){return h(this,"transform"),e in this.transformers?(this.transformers[e].push(t),this):this.critical(new Error("Invalid transformer type"))},m.prototype.critical=function(e){if(this.emit("error",e))return this;throw e},m.connect=function(e,t){return new m(e,t)},m.EventEmitter=r,m.prototype.client=function(){var e,t=this.emits("incoming::data"),n=this.emits("incoming::error"),o=this.emits("incoming::open"),r=this.emits("incoming::end"),a=this,i=function(){if("undefined"!=typeof eio)return eio;try{return m.requires("engine.io-client")}catch(v){}}();if(!i)return a.critical(new Error("Missing required `engine.io-client` module. Please run `npm install --save engine.io-client`"));a.on("outgoing::open",(function(){a.emit("outgoing::end"),a.socket=e=i(a.merge(a.transport,a.url,a.uri({protocol:"http:",query:!0,object:!0}),{rememberUpgrade:!1,forceBase64:!0,enablesXDR:!1,timestampRequests:!0,path:this.pathname,transports:a.AVOID_WEBSOCKETS?["polling"]:["polling","websocket"]})),i.sockets&&i.sockets.length&&(i.sockets.length=0),e.on("message",t),e.on("error",n),e.on("close",r),e.on("open",o)})),a.on("outgoing::data",(function(t){e&&e.send(t)})),a.on("outgoing::reconnect",(function(){a.emit("outgoing::open")})),a.on("outgoing::end",(function(){e&&(e.removeListener("message",t),e.removeListener("error",n),e.removeListener("close",r),e.removeListener("open",o),e.close(),e=null)}))},m.prototype.authorization=!1,m.prototype.pathname="/primus",m.prototype.encoder=function(e,t){var n;try{e=JSON.stringify(e)}catch(v){n=v}t(n,e)},m.prototype.decoder=function(e,t){var n;if("string"!=typeof e)return t(n,e);try{e=JSON.parse(e)}catch(v){n=v}t(n,e)},m.prototype.version="7.2.2","undefined"!=typeof document&&"undefined"!=typeof navigator){document.addEventListener&&document.addEventListener("keydown",(function(e){27===e.keyCode&&e.preventDefault&&e.preventDefault()}),!1);var f=(navigator.userAgent||"").toLowerCase(),g=f.match(/.+(?:rv|it|ra|ie)[/: ](\d+)\.(\d+)(?:\.(\d+))?/)||[],b=+[g[1],g[2]].join(".");!~f.indexOf("chrome")&&~f.indexOf("safari")&&b<534.54&&(m.prototype.AVOID_WEBSOCKETS=!0)}t.exports=m},{demolish:1,emits:2,eventemitter3:3,inherits:4,querystringify:7,recovery:8,"tick-tock":11,"url-parse":12,yeast:13}]},{},[14])(14)}),[function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self),t.eio=function e(t,n,o){function r(i,s){if(!n[i]){if(!t[i]){if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};t[i][0].call(c.exports,(function(e){var n=t[i][1][e];return r(n||e)}),c,c.exports,e,t,n,o)}return n[i].exports}for(var a=!1,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":2,"engine.io-parser":16}],2:[function(e,t,n){(function(n){var o=e("./transports/index"),r=e("component-emitter"),a=e("indexof"),i=e("engine.io-parser"),s=e("parseuri"),l=e("parsejson"),c=e("parseqs");function d(e,t){if(!(this instanceof d))return new d(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=s(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=s(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode;var o="object"==typeof n&&n;o.global===o&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=d,d.priorWebsocketSuccess=!1,r(d.prototype),d.protocol=i.protocol,d.Socket=d,d.Transport=e("./transport"),d.transports=e("./transports/index"),d.parser=e("engine.io-parser"),d.prototype.createTransport=function(e){var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=i.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new o[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},d.prototype.open=function(){var e;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},d.prototype.setTransport=function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},d.prototype.probe=function(e){var t=this.createTransport(e,{probe:1}),n=!1,o=this;function r(){if(o.onlyBinaryUpgrades){var e=!this.supportsBinary&&o.transport.supportsBinary;n=n||e}n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(e){if(!n)if("pong"===e.type&&"probe"===e.data){if(o.upgrading=!0,o.emit("upgrading",t),!t)return;d.priorWebsocketSuccess="websocket"===t.name,o.transport.pause((function(){n||"closed"!==o.readyState&&(u(),o.setTransport(t),t.send([{type:"upgrade"}]),o.emit("upgrade",t),t=null,o.upgrading=!1,o.flush())}))}else{var r=new Error("probe error");r.transport=t.name,o.emit("upgradeError",r)}})))}function a(){n||(n=!0,u(),t.close(),t=null)}function i(e){var n=new Error("probe error: "+e);n.transport=t.name,a(),o.emit("upgradeError",n)}function s(){i("transport closed")}function l(){i("socket closed")}function c(e){t&&e.name!==t.name&&a()}function u(){t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",s),o.removeListener("close",l),o.removeListener("upgrading",c)}d.priorWebsocketSuccess=!1,t.once("open",r),t.once("error",i),t.once("close",s),this.once("close",l),this.once("upgrading",c),t.open()},d.prototype.onOpen=function(){if(this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])},d.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(l(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}},d.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},d.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},d.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},d.prototype.sendPacket=function(e,t,n,o){if("function"==typeof t&&(o=t,t=void 0),"function"==typeof n&&(o=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}},d.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?o():t()})):this.upgrading?o():t()}function t(){e.onClose("forced close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function o(){e.once("upgrade",n),e.once("upgradeError",n)}return this},d.prototype.onError=function(e){d.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},d.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},d.prototype.filterUpgrades=function(e){for(var t=[],n=0,o=e.length;n<o;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":3,"./transports/index":4,"component-emitter":14,"engine.io-parser":16,indexof:21,parsejson:23,parseqs:24,parseuri:25}],3:[function(e,t,n){var o=e("engine.io-parser"),r=e("component-emitter");function a(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}t.exports=a,r(a.prototype),a.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},a.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},a.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},a.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},a.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},a.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},a.prototype.onPacket=function(e){this.emit("packet",e)},a.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":14,"engine.io-parser":16}],4:[function(e,t,n){(function(t){var o=e("xmlhttprequest-ssl"),r=e("./polling-xhr"),a=e("./polling-jsonp"),i=e("./websocket");n.polling=function(e){var n=!1,i=!1,s=!1!==e.jsonp;if(t.location){var l="https:"===location.protocol,c=location.port;c||(c=l?443:80),n=e.hostname!==location.hostname||c!==e.port,i=e.secure!==l}if(e.xdomain=n,e.xscheme=i,"open"in new o(e)&&!e.forceJSONP)return new r(e);if(!s)throw new Error("JSONP disabled");return new a(e)},n.websocket=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":5,"./polling-xhr":6,"./websocket":8,"xmlhttprequest-ssl":9}],5:[function(e,t,n){(function(n){var o=e("./polling"),r=e("component-inherit");t.exports=c;var a,i=/\n/g,s=/\\n/g;function l(){}function c(e){o.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push((function(e){t.onData(e)})),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=l)}),!1)}r(c,o),c.prototype.supportsBinary=!1,c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},c.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},c.prototype.doWrite=function(e,t){var n=this;if(!this.form){var o,r=document.createElement("form"),a=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=l,r.method="POST",r.setAttribute("accept-charset","utf-8"),a.name="d",r.appendChild(a),document.body.appendChild(r),this.form=r,this.area=a}function c(){d(),t()}function d(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';o=document.createElement(e)}catch(t){(o=document.createElement("iframe")).name=n.iframeId,o.src="javascript:0"}o.id=n.iframeId,n.form.appendChild(o),n.iframe=o}this.form.action=this.uri(),d(),e=e.replace(s,"\\\n"),this.area.value=e.replace(i,"\\n");try{this.form.submit()}catch(u){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":7,"component-inherit":15}],6:[function(e,t,n){(function(n){var o=e("xmlhttprequest-ssl"),r=e("./polling"),a=e("component-emitter"),i=e("component-inherit");function s(){}function l(e){if(r.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,n.location){var t="https:"===location.protocol,o=location.port;o||(o=t?443:80),this.xd=e.hostname!==n.location.hostname||o!==e.port,this.xs=e.secure!==t}}function c(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function d(){for(var e in c.requests)c.requests.hasOwnProperty(e)&&c.requests[e].abort()}t.exports=l,t.exports.Request=c,i(l,r),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new c(e)},l.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,o=this.request({method:"POST",data:e,isBinary:n}),r=this;o.on("success",t),o.on("error",(function(e){r.onError("xhr post error",e)})),this.sendXhr=o},l.prototype.doPoll=function(){var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},a(c.prototype),c.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new o(e),r=this;try{t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var a in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&t.setRequestHeader(a,this.extraHeaders[a])}catch(i){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{t.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout((function(){r.onError(t.status)}),0))},t.send(this.data)}catch(i){return void setTimeout((function(){r.onError(i)}),0)}n.document&&(this.index=c.requestsCount++,c.requests[this.index]=this)},c.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},c.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},c.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},c.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=s:this.xhr.onreadystatechange=s,e)try{this.xhr.abort()}catch(t){}n.document&&delete c.requests[this.index],this.xhr=null}},c.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(i){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(i){for(var n=new Uint8Array(this.xhr.response),o=[],r=0,a=n.length;r<a;r++)o.push(n[r]);e=String.fromCharCode.apply(null,o)}else e=this.xhr.responseText}catch(i){this.onError(i)}null!=e&&this.onData(e)},c.prototype.hasXDR=function(){return void 0!==n.XDomainRequest&&!this.xs&&this.enablesXDR},c.prototype.abort=function(){this.cleanup()},c.requestsCount=0,c.requests={},n.document&&(n.attachEvent?n.attachEvent("onunload",d):n.addEventListener&&n.addEventListener("beforeunload",d,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":7,"component-emitter":14,"component-inherit":15,"xmlhttprequest-ssl":9}],7:[function(e,t,n){var o=e("../transport"),r=e("parseqs"),a=e("engine.io-parser"),i=e("component-inherit"),s=e("yeast");t.exports=c;var l=null!=new(e("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function c(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),o.call(this,e)}i(c,o),c.prototype.name="polling",c.prototype.doOpen=function(){this.poll()},c.prototype.pause=function(e){var t=this;function n(){t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(o++,this.once("pollComplete",(function(){--o||n()}))),this.writable||(o++,this.once("drain",(function(){--o||n()})))}else n()},c.prototype.poll=function(){this.polling=!0,this.doPoll(),this.emit("poll")},c.prototype.onData=function(e){var t=this;a.decodePayload(e,this.socket.binaryType,this.supportsBinary,(function(e,n,o){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())},c.prototype.doClose=function(){var e=this;function t(){e.write([{type:"close"}])}"open"===this.readyState?t():this.once("open",t)},c.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},c.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=r.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":3,"component-inherit":15,"engine.io-parser":16,parseqs:24,"xmlhttprequest-ssl":9,yeast:26}],8:[function(e,t,n){(function(n){var o,r=e("../transport"),a=e("engine.io-parser"),i=e("parseqs"),s=e("component-inherit"),l=e("yeast"),c=n.WebSocket||n.MozWebSocket;if("undefined"==typeof window)try{o=e("ws")}catch(p){}var d=c;function u(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=c&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=o),r.call(this,e)}d||"undefined"!=typeof window||(d=o),t.exports=u,s(u,r),u.prototype.name="websocket",u.prototype.supportsBinary=!0,u.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new d(e,t):new d(e):new d(e,t,n)}catch(o){return this.emit("error",o)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},u.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},u.prototype.write=function(e){var t=this;this.writable=!1;for(var o=e.length,r=0,i=o;r<i;r++)!function(e){a.encodePacket(e,t.supportsBinary,(function(r){if(!t.usingBrowserWebSocket){var a={};e.options&&(a.compress=e.options.compress),t.perMessageDeflate&&("string"==typeof r?n.Buffer.byteLength(r):r.length)<t.perMessageDeflate.threshold&&(a.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(r):t.ws.send(r,a)}catch(p){}--o||(t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0))}))}(e[r])},u.prototype.onClose=function(){r.prototype.onClose.call(this)},u.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=i.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},u.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===u.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":3,"component-inherit":15,"engine.io-parser":16,parseqs:24,ws:void 0,yeast:26}],9:[function(e,t,n){(function(n){var o=e("has-cors");t.exports=function(e){var t=e.xdomain,r=e.xscheme,a=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||o))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!r&&a)return new XDomainRequest}catch(i){}if(!t)try{return new(n[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(i){}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"has-cors":20}],10:[function(e,t,n){function o(){}t.exports=function(e,t,n){var r=!1;return n=n||o,a.count=e,0===e?t():a;function a(e,o){if(a.count<=0)throw new Error("after called too many times");--a.count,e?(r=!0,t(e),t=n):0!==a.count||r||t(null,o)}}},{}],11:[function(e,t,n){t.exports=function(e,t,n){var o=e.byteLength;if(t=t||0,n=n||o,e.slice)return e.slice(t,n);if(t<0&&(t+=o),n<0&&(n+=o),n>o&&(n=o),t>=o||t>=n||0===o)return new ArrayBuffer(0);for(var r=new Uint8Array(e),a=new Uint8Array(n-t),i=t,s=0;i<n;i++,s++)a[s]=r[i];return a.buffer}},{}],12:[function(e,t,n){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),o=0;o<e.length;o++)t[e.charCodeAt(o)]=o;n.encode=function(t){var n,o=new Uint8Array(t),r=o.length,a="";for(n=0;n<r;n+=3)a+=e[o[n]>>2],a+=e[(3&o[n])<<4|o[n+1]>>4],a+=e[(15&o[n+1])<<2|o[n+2]>>6],a+=e[63&o[n+2]];return r%3==2?a=a.substring(0,a.length-1)+"=":r%3==1&&(a=a.substring(0,a.length-2)+"=="),a},n.decode=function(e){var n,o,r,a,i,s=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var d=new ArrayBuffer(s),u=new Uint8Array(d);for(n=0;n<l;n+=4)o=t[e.charCodeAt(n)],r=t[e.charCodeAt(n+1)],a=t[e.charCodeAt(n+2)],i=t[e.charCodeAt(n+3)],u[c++]=o<<2|r>>4,u[c++]=(15&r)<<4|a>>2,u[c++]=(3&a)<<6|63&i;return d}}()},{}],13:[function(e,t,n){(function(e){var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,o=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),r=o&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),a=n&&n.prototype.append&&n.prototype.getBlob;function i(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var o=n.buffer;if(n.byteLength!==o.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(o,n.byteOffset,n.byteLength)),o=r.buffer}e[t]=o}}}function s(e,t){t=t||{};var o=new n;i(e);for(var r=0;r<e.length;r++)o.append(e[r]);return t.type?o.getBlob(t.type):o.getBlob()}function l(e,t){return i(e),new Blob(e,t||{})}t.exports=o?r?e.Blob:l:a?s:void 0}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,n){function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}void 0!==t&&(t.exports=o),o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},o.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+e];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<o.length;r++)if((n=o[r])===t||n.fn===t){o.splice(r,1);break}return this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var o=0,r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,t);return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],15:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],16:[function(e,t,n){(function(t){var o,r=e("./keys"),a=e("has-binary2"),i=e("arraybuffer.slice"),s=e("after"),l=e("./utf8");t&&t.ArrayBuffer&&(o=e("base64-arraybuffer"));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),d="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),u=c||d;n.protocol=3;var p=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=r(p),m={type:"error",data:"parser error"},f=e("blob");function g(e){try{e=l.decode(e,{strict:!1})}catch(t){return!1}return e}function b(e,t,n){for(var o=new Array(e.length),r=s(e.length,n),a=function(e,n,r){t(n,(function(t,n){o[e]=n,r(t,o)}))},i=0;i<e.length;i++)a(i,e[i],r)}n.encodePacket=function(e,o,r,a){"function"==typeof o&&(a=o,o=!1),"function"==typeof r&&(a=r,r=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&i instanceof ArrayBuffer)return function(e,t,o){if(!t)return n.encodeBase64Packet(e,o);var r=e.data,a=new Uint8Array(r),i=new Uint8Array(1+r.byteLength);i[0]=p[e.type];for(var s=0;s<a.length;s++)i[s+1]=a[s];return o(i.buffer)}(e,o,a);if(f&&i instanceof t.Blob)return function(e,t,o){if(!t)return n.encodeBase64Packet(e,o);if(u)return function(e,t,o){if(!t)return n.encodeBase64Packet(e,o);var r=new FileReader;return r.onload=function(){e.data=r.result,n.encodePacket(e,t,!0,o)},r.readAsArrayBuffer(e.data)}(e,t,o);var r=new Uint8Array(1);r[0]=p[e.type];var a=new f([r.buffer,e.data]);return o(a)}(e,o,a);if(i&&i.base64)return function(e,t){var o="b"+n.packets[e.type]+e.data.data;return t(o)}(e,a);var s=p[e.type];return void 0!==e.data&&(s+=r?l.encode(String(e.data),{strict:!1}):String(e.data)),a(""+s)},n.encodeBase64Packet=function(e,o){var r,a="b"+n.packets[e.type];if(f&&e.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];o(a+e)},i.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(d){for(var s=new Uint8Array(e.data),l=new Array(s.length),c=0;c<s.length;c++)l[c]=s[c];r=String.fromCharCode.apply(null,l)}return a+=t.btoa(r),o(a)},n.decodePacket=function(e,t,o){if(void 0===e)return m;if("string"==typeof e){if("b"===e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(o&&!1===(e=g(e)))return m;var r=e.charAt(0);return Number(r)==r&&h[r]?e.length>1?{type:h[r],data:e.substring(1)}:{type:h[r]}:m}r=new Uint8Array(e)[0];var a=i(e,1);return f&&"blob"===t&&(a=new f([a])),{type:h[r],data:a}},n.decodeBase64Packet=function(e,t){var n=h[e.charAt(0)];if(!o)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=o.decode(e.substr(1));return"blob"===t&&f&&(r=new f([r])),{type:n,data:r}},n.encodePayload=function(e,t,o){"function"==typeof t&&(o=t,t=null);var r=a(e);return t&&r?f&&!u?n.encodePayloadAsBlob(e,o):n.encodePayloadAsArrayBuffer(e,o):e.length?void b(e,(function(e,o){n.encodePacket(e,!!r&&t,!1,(function(e){o(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return o(t.join(""))})):o("0:")},n.decodePayload=function(e,t,o,r){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,r);var a;if("function"==typeof t&&(r=t,t=null),"function"==typeof o&&(r=o,o=null),""===e)return r(m,0,1);if(o&&!1===(e=g(e)))return r(m,0,1);for(var i,s,l="",c=0,d=e.length;c<d;c++){var u=e.charAt(c);if(":"===u){if(""===l||l!=(i=Number(l)))return r(m,0,1);if(l!=(s=e.substr(c+1,i)).length)return r(m,0,1);if(s.length){if(a=n.decodePacket(s,t,!1),m.type===a.type&&m.data===a.data)return r(m,0,1);if(!1===r(a,c+i,d))return}c+=i,l=""}else l+=u}return""!==l?r(m,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){if(!e.length)return t(new ArrayBuffer(0));b(e,(function(e,t){n.encodePacket(e,!0,!0,(function(e){return t(null,e)}))}),(function(e,n){var o=n.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),r=new Uint8Array(o),a=0;return n.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var o=new Uint8Array(e.length),i=0;i<e.length;i++)o[i]=e.charCodeAt(i);n=o.buffer}r[a++]=t?0:1;var s=n.byteLength.toString();for(i=0;i<s.length;i++)r[a++]=parseInt(s[i]);for(r[a++]=255,o=new Uint8Array(n),i=0;i<o.length;i++)r[a++]=o[i]})),t(r.buffer)}))},n.encodePayloadAsBlob=function(e,t){b(e,(function(e,t){n.encodePacket(e,!0,!0,(function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var o=new Uint8Array(e.length),r=0;r<e.length;r++)o[r]=e.charCodeAt(r);e=o.buffer,n[0]=0}var a=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),i=new Uint8Array(a.length+1);for(r=0;r<a.length;r++)i[r]=parseInt(a[r]);if(i[a.length]=255,f){var s=new f([n.buffer,i.buffer,e]);t(null,s)}}))}),(function(e,n){return t(new f(n))}))},n.decodePayloadAsBinary=function(e,t,o){"function"==typeof t&&(o=t,t=null);for(var r=e,a=[];r.byteLength>0;){for(var s=new Uint8Array(r),l=0===s[0],c="",d=1;255!==s[d];d++){if(c.length>310)return o(m,0,1);c+=s[d]}r=i(r,2+c.length),c=parseInt(c);var u=i(r,0,c);if(l)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(f){var p=new Uint8Array(u);for(u="",d=0;d<p.length;d++)u+=String.fromCharCode(p[d])}a.push(u),r=i(r,c)}var h=a.length;a.forEach((function(e,r){o(n.decodePacket(e,t,!0),r,h)}))}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":17,"./utf8":18,after:10,"arraybuffer.slice":11,"base64-arraybuffer":12,blob:13,"has-binary2":19}],17:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var o in e)n.call(e,o)&&t.push(o);return t}},{}],18:[function(e,t,n){(function(e){!function(o){var r="object"==typeof n&&n,a="object"==typeof t&&t&&t.exports==r&&t,i="object"==typeof e&&e;i.global!==i&&i.window!==i||(o=i);var s,l,c,d=String.fromCharCode;function u(e){for(var t,n,o=[],r=0,a=e.length;r<a;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<a?56320==(64512&(n=e.charCodeAt(r++)))?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),r--):o.push(t);return o}function p(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function h(e,t){return d(e>>t&63|128)}function m(e,t){if(0==(4294967168&e))return d(e);var n="";return 0==(4294965248&e)?n=d(e>>6&31|192):0==(4294901760&e)?(p(e,t)||(e=65533),n=d(e>>12&15|224),n+=h(e,6)):0==(4292870144&e)&&(n=d(e>>18&7|240),n+=h(e,12),n+=h(e,6)),n+=d(63&e|128)}function f(){if(c>=l)throw Error("Invalid byte index");var e=255&s[c];if(c++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function g(e){var t,n;if(c>l)throw Error("Invalid byte index");if(c==l)return!1;if(t=255&s[c],c++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|f())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|f()<<6|f())>=2048)return p(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|f()<<12|f()<<6|f())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var b={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,o=u(e),r=o.length,a=-1,i="";++a<r;)i+=m(o[a],n);return i},decode:function(e,t){var n=!1!==(t=t||{}).strict;s=u(e),l=s.length,c=0;for(var o,r=[];!1!==(o=g(n));)r.push(o);return function(e){for(var t,n=e.length,o=-1,r="";++o<n;)(t=e[o])>65535&&(r+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=d(t);return r}(r)}};if(r&&!r.nodeType)if(a)a.exports=b;else{var v={}.hasOwnProperty;for(var y in b)v.call(b,y)&&(r[y]=b[y])}else o.utf8=b}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,n){(function(n){var o=e("isarray");t.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(o(t)){for(var r=0,a=t.length;r<a;r++)if(e(t[r]))return!0;return!1}if("function"==typeof n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(t)||"function"==typeof n.ArrayBuffer&&t instanceof ArrayBuffer||"function"==typeof n.Blob&&t instanceof Blob||"function"==typeof n.File&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0;return!1}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:22}],20:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(o){t.exports=!1}},{}],21:[function(e,t,n){var o=[].indexOf;t.exports=function(e,t){if(o)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],22:[function(e,t,n){var o={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==o.call(e)}},{}],23:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,a=/(?:^|:|,)(?:\s*\[)+/g,i=/^\s+/,s=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(i,"").replace(s,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(o,"@").replace(r,"]").replace(a,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),o=0,r=n.length;o<r;o++){var a=n[o].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},{}],25:[function(e,t,n){var o=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),a=e.indexOf("]");-1!=n&&-1!=a&&(e=e.substring(0,n)+e.substring(n,a).replace(/:/g,";")+e.substring(a,e.length));for(var i=o.exec(e||""),s={},l=14;l--;)s[r[l]]=i[l]||"";return-1!=n&&-1!=a&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},{}],26:[function(e,t,n){"use strict";var o,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a={},i=0,s=0;function l(e){var t="";do{t=r[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function c(){var e=l(+new Date);return e!==o?(i=0,o=e):e+"."+l(i++)}for(;s<64;s++)a[r[s]]=s;c.encode=l,c.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+a[e.charAt(s)];return t},t.exports=c},{}],27:[function(e,t,n){t.exports=e("./lib/index")},{"./lib/index":1}]},{},[27])(27)}])}).call(this,n("yLpj"))},VcFn:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isActive:!1,isAnimatingClosed:!1,top:0,left:0}}}t.a=new r},VhAz:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l}));n("4Brf");const o=Object.keys,r=Object.entries;function a(e){return void 0!==e}function i(e){if("error"in e)throw e.error;return e.value}function s(e){throw new Error("Expected value to never occur: ".concat(JSON.stringify(e)))}function l(e){return e.toString()}Symbol("deprecated api name"),Symbol("abstracted api name"),Symbol("info message"),Symbol("warning message")},VkkH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("yjqD"),r=n("bK/N"),a=n("vl8/");async function i(e,t){const{width:n,height:i,url:s,titleMessage:l}=t,c=a.default.formatMessage(l);if(e.device.isElectron)return r.openOauthPopup({width:n,height:i,url:s,title:c});const d=e.device.isMobile,u=void 0!==window.screenX?window.screenX:window.screenLeft,p=void 0!==window.screenY?window.screenY:window.screenTop,h=void 0!==window.outerWidth?window.outerWidth:document.documentElement.clientWidth,m=void 0!==window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,f=d?0:n,g=d?0:i,b=(u<0?window.screen.width+u:u)+(h-f)/2,v=p+(m-g)/2.5;let y="toolbar=0,menubar=0,location=0";0!==f&&(y+=",width=".concat(f)),0!==g&&(y+=",height=".concat(g)),y+=",left=".concat(b),y+=",top=".concat(v),y+=",scrollbars=1";const S=window.open(s,c,y);S&&S.focus();const w=o.c(),k=e=>{if(e&&e.data&&"popup-callback"===e.data.type){const t=e.data.url;w.resolve(t)}},C=setInterval(()=>{S&&S.closed&&w.resolve(void 0)},300);window.addEventListener("message",k,!1);const M=await w.promise;return window.removeEventListener("message",k,!1),clearInterval(C),S&&S.close(),window.focus(),M}},VpIZ:function(e,t,n){"use strict";n.d(t,"u",(function(){return y})),n.d(t,"w",(function(){return S})),n.d(t,"o",(function(){return w})),n.d(t,"t",(function(){return k})),n.d(t,"D",(function(){return C})),n.d(t,"E",(function(){return M})),n.d(t,"y",(function(){return E})),n.d(t,"p",(function(){return _})),n.d(t,"s",(function(){return T})),n.d(t,"H",(function(){return x})),n.d(t,"a",(function(){return I})),n.d(t,"F",(function(){return P})),n.d(t,"r",(function(){return O})),n.d(t,"z",(function(){return B})),n.d(t,"A",(function(){return L})),n.d(t,"B",(function(){return R})),n.d(t,"n",(function(){return D})),n.d(t,"m",(function(){return A})),n.d(t,"x",(function(){return j})),n.d(t,"q",(function(){return F})),n.d(t,"G",(function(){return V})),n.d(t,"v",(function(){return N})),n.d(t,"b",(function(){return U})),n.d(t,"h",(function(){return z})),n.d(t,"g",(function(){return X})),n.d(t,"f",(function(){return Y})),n.d(t,"i",(function(){return H})),n.d(t,"j",(function(){return W})),n.d(t,"d",(function(){return G})),n.d(t,"k",(function(){return Z})),n.d(t,"e",(function(){return K})),n.d(t,"c",(function(){return J})),n.d(t,"l",(function(){return $})),n.d(t,"C",(function(){return ee}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("z22Z"),i=n("FUUC"),s=n("udrG"),l=n("HRSx"),c=n("GJWe"),d=n("6SEd"),u=n("Wvka"),p=n("ezkE"),h=n("CTEM"),m=n("g90h"),f=n("S26v"),g=n("cBa6"),b=n("tP7q"),v=n("J9+s");function y(e){return l.i[e.type]}function S(e){return l.o[e.type]}function w(e){return l.b[e.type]}function k(e){return l.h[e.type]}function C(e){return l.u[e.type]}function M(e){return l.v[e.type]}function E(e){return l.p[e.type]}function _(e){return l.d[e.type]}function T(e){return l.f[e.type]}function x(e){return l.z[e.type]}function I(e){return l.c[e.type]}function P(e){return l.w[e.type]}function O(e){return l.e[e.type]}function B(e){return l.r[e.type]}function L(e){return l.s[e.type]}function R(e){return l.t[e.type]}function D(e){return!!e.permissions&&e.permissions.some(a.p)}function A(e){return!!e.permissions&&e.permissions.some(a.i)}function j(e){return e.type===s.a.collectionView}function F(e){return e.type===s.a.collectionView||e.type===s.a.collectionViewPage}function V(e){return l.x[e.type]}function N(e){return l.l[e.type]}function U(e){const t=[];if(y(e)&&e.content)for(const n of e.content)t.push(n);return t}function z(e){const{table:t,value:n,getRecordValue:o,userTimeZone:r,intl:a}=e;let s;if(t===l.a){const e=n;if(F(e)){const t=o({table:d.a,id:e.collection_id});if(t){const e=t.name||[];s=c.k({textValue:e,getRecordValue:o,userTimeZone:r,intl:a})}}else{const t=e.properties&&e.properties.title||[];s=c.k({textValue:t,getRecordValue:o,userTimeZone:r,intl:a})}}else if(t===d.a){const e=n.name||[];s=c.k({textValue:e,getRecordValue:o,userTimeZone:r,intl:a})}else if(t===i.a){const e=n;e.name&&(s=e.name)}if(s)return s.slice(0,1e3)}function X(e){const{table:t,value:n,getRecordValue:o}=e;if(n)if(t===l.a){const e=n;if(F(e)){const t=o({table:d.a,id:e.collection_id});if(t&&t.icon)return{pointer:{table:d.a,id:t.id},icon:t.icon}}else if(e.format&&e.format.page_icon)return{pointer:{table:l.a,id:e.id},icon:e.format.page_icon}}else if(t===d.a){const e=n;if(e.icon)return{pointer:{table:d.a,id:e.id},icon:e.icon}}else if(t===i.a){const e=n;if(e.icon)return{pointer:{table:"space",id:e.id},icon:e.icon}}}function Y(e){const{table:t,value:n,getRecordValue:o}=e;if(t===l.a){const e=n;if(F(e)){const t=o({table:d.a,id:e.collection_id});if(t&&t.cover)return{pointer:{table:d.a,id:t.id},cover:t.cover}}else if(e.format&&e.format.page_cover)return{pointer:{table:l.a,id:e.id},cover:e.format&&e.format.page_cover}}else if(t===d.a){const e=n;if(e.cover)return{pointer:{table:d.a,id:e.id},cover:e.cover}}}function H(e){const{placeholder:t}=e,n=z(e)||t,o=X(e);return o&&Object(h.a)(o.icon)?"".concat(o.icon," ").concat(n):n}function q(e){const{blockValue:t,getRecordValue:n,baseUrl:o,discussionId:a}=e,i=r.a.tail(p.c({table:l.a,id:t.id},n)),s=p.a(i),c=s.length>0?s[0]:void 0;return B(t)?Object(u.a)({pageId:t.id,pageValue:t,baseUrl:o,discussionId:a}):c?Object(u.a)({pageId:c.id,pageValue:c,scrollToBlockId:t.id,baseUrl:o,discussionId:a}):void 0}function W(e){const{table:t,value:n,getRecordValue:o,baseUrl:r,discussionId:a}=e;if(t===l.a){const e=q({blockValue:n,baseUrl:r,getRecordValue:o,discussionId:a});if(e)return e}else if(t===d.a){const e=n,t=o({table:l.a,id:e.parent_id});if(t){const e=q({blockValue:t,baseUrl:r,getRecordValue:o});if(e)return e}}else if("space"===t){const e=n,t=b.i({route:{name:"space",spaceId:e.id,spaceDomain:void 0}});return r?f.j({relativeUrl:t,baseUrl:r}):t}return r||"/"}function G(e){const t=e.getRecordValue({table:e.collectionView.parent_table,id:e.collectionView.parent_id});if(t){const n=W({table:e.collectionView.parent_table,value:t,getRecordValue:e.getRecordValue,baseUrl:e.baseUrl});return n===e.baseUrl||"/"===n?n:f.a(n,{v:m.k(e.collectionView.id)})}return e.baseUrl||"/"}function Z(e){const t=e.properties||{};return r.a.uniq(r.a.flatten(Object.keys(t).map(e=>t[e]).map(g.kb)))}function K(e){const t=e.properties||{};return r.a.uniq(r.a.flatten(Object.keys(t).map(e=>t[e]).map(g.W)))}const J=function(e){return e&&e.properties?e.properties:{}},Q=Object(v.defineMessages)({embed:{defaultMessage:"Embed",id:"blockHelpers.embedBlockType",description:"Generic link embeds in our pages."},framer:{defaultMessage:"Framer",id:"blockHelpers.framerBlockType",description:"Framer is a design product we embed."},tweet:{defaultMessage:"Tweet",id:"blockHelpers.tweetBlockType",description:"We embed Tweets in our pages."},gist:{defaultMessage:"Gist",id:"blockHelpers.gistBlockType",description:"Gist is a coding product we embed."},drive:{defaultMessage:"Drive",id:"blockHelpers.driveBlockType",description:"Google Drive is a product we embed."},figma:{defaultMessage:"Figma",id:"blockHelpers.figmaBlockType",description:"Figma is a design product we embed."},loom:{defaultMessage:"Loom",id:"blockHelpers.loomBlockType",description:"Loom is a video product we embed."},typeform:{defaultMessage:"Typeform",id:"blockHelpers.typeformBlockType",description:"Typeform is a product we embed."},codepen:{defaultMessage:"Codepen",id:"blockHelpers.codepenBlockType",description:"Codepen is a product we embed."},audio:{defaultMessage:"Audio",id:"blockHelpers.audioBlockType"},maps:{defaultMessage:"Maps",id:"blockHelpers.mapsBlockType"},invision:{defaultMessage:"Invision",id:"blockHelpers.invisionBlockType",description:"Invision is a design product we embed."},image:{defaultMessage:"Image",id:"blockHelpers.imageBlockType"},pdf:{defaultMessage:"PDF",id:"blockHelpers.pdfBlockType"},video:{defaultMessage:"Video",id:"blockHelpers.videoBlockType"},file:{defaultMessage:"File",id:"blockHelpers.fileBlockType"},whimsical:{defaultMessage:"Whimsical",id:"blockHelpers.whimsicalBlockType",description:"Whimsical is a diagramming product we embed."},miro:{defaultMessage:"Miro",id:"blockHelpers.miroBlockType",description:"Miro is a diagramming product we embed."},abstract:{defaultMessage:"Abstract",id:"blockHelpers.abstractBlockType",description:"Whimsical is a design tool we embed."}});function $(e,t){return e.formatMessage(Q[t])}function ee(e){return e&&e.content_classification&&"verified"!==e.content_classification}},VpJM:function(e,t,n){"use strict";var o=n("Cgnk");t.a=new o.a},Vq6f:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},"VyA+":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("9j7d"),s=n("NiuF");class l extends a.a{constructor(){super(...arguments),this.renderKeyboardStackEntry=e=>r.a.createElement(i.a,{enable:this.props.capture&&!e,shortcuts:this.getShortcutHandlers(this.props)},this.props.children)}renderComponent(){return r.a.createElement(s.a.Consumer,null,this.renderKeyboardStackEntry)}getShortcutHandlers(e){return{enter:e.onEnter,shiftEnter:e.onShiftEnter,commandEnter:e.onCommandEnter,commandShiftEnter:e.onCommandShiftEnter,commandSlash:e.onCommandSlash,space:e.onSpace,delete:e.onDelete,backspace:e.onBackspace,esc:e.onEsc,left:e.onLeft,right:e.onRight,up:e.onUp,down:e.onDown,untab:e.onUntab,tab:e.onTab,home:e.onHome,end:e.onEnd,selectAll:e.onSelectAll,redo:e.onRedo,undo:e.onUndo,toggleUnderline:e.onToggleUnderline,toggleHighlight:e.onToggleHighlight,toggleBold:e.onToggleBold,toggleItalics:e.onToggleItalics,toggleStrike:e.onToggleStrike,toggleCode:e.onToggleCode,duplicate:e.onDuplicate,cut:e.onCut,copy:e.onCopy,paste:e.onPaste,openLinkMenu:e.onOpenLinkMenu,openEquationMenu:e.onOpenEquationMenu,goBack:e.onGoBack,goForward:e.onGoForward,goUp:e.onGoUp,search:e.onSearch,goToBeginningOfLine:e.onGoToBeginningOfLine,goToEndOfLine:e.onGoToEndOfLine,switchSpaces:e.onSwitchSpaces,keypress:e.onKeypress,quickFind:e.onQuickFind,goForwardOneChar:e.onGoForwardOneChar,goBackwardOneChar:e.onGoBackwardOneChar,moveUp:e.onMoveUp,moveDown:e.onMoveDown,comment:e.onComment,caption:e.onCaption,rename:e.onRename,copyLinkToCurrentPage:e.onCopyLinkToCurrentPage,toggleSidebar:e.onToggleSidebar,turnIntoType:e.onTurnIntoType,zoomIn:e.onZoomIn,zoomOut:e.onZoomOut,zoomReset:e.onZoomReset,newPage:e.onNewPage,settings:e.onSettings,backbutton:e.onBackButton,toggleDarkMode:e.onToggleDarkMode,openFile:e.onOpenFile,moveTo:e.onMoveTo,toggleAllToggles:e.onToggleAllToggles,togglePropertyVisibility:e.onTogglePropertyVisibility}}}t.a=l},W3at:function(e,t,n){"use strict";n("3bBZ");var o,r=n("q1tI"),a=n.n(r),i=n("LvDl"),s=n.n(i),l=n("wldR"),c=n("yNyh"),d=n("VyA+"),u=n("gbGO"),p=n("uSCg"),h=n("ggCg"),m=n("rGsA");!function(e){e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.Share=3]="Share",e[e.Group=4]="Group"}(o||(o={}));class f extends l.a{constructor(){super(...arguments),this.storeTypes={store:h.a},this.handleFocused=()=>{this.stores.store.setState({focused:!0})},this.handleBlurred=()=>{this.stores.store.setState({focused:!1})},this.handleKeyDown=e=>{"Backspace"===e.key&&0===this.props.value.length&&this.props.onRemoveLastToken()},this.handleEnter=e=>{0===this.props.value.length&&this.props.onEmptyEnter&&this.props.onEmptyEnter(),this.props.onEnter&&this.props.onEnter(e)},this.handleFocus=()=>{this.props.disabled||this.input.focusInput()}}willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const{disabled:e}=this.props;return a.a.createElement(d.a,{capture:!e,onLeft:s.a.identity,onRight:s.a.identity,onSelectAll:s.a.identity,onRedo:s.a.identity,onUndo:s.a.identity,onToggleBold:s.a.identity,onToggleItalics:s.a.identity,onToggleCode:s.a.identity,onCut:s.a.identity,onCopy:s.a.identity,onPaste:s.a.identity,onKeypress:s.a.identity},a.a.createElement(d.a,{capture:!e&&this.props.value.length>0,onDelete:s.a.identity,onBackspace:s.a.identity},this.renderTokenInput()))}renderTokenInput(){const{disabled:e}=this.props;return this.props.right?a.a.createElement("div",{style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleFocus},a.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",paddingTop:this.environment.device.isMobile?0:6}},this.props.tokens,!e&&this.renderInput()),a.a.createElement("div",{style:{flexShrink:0}},this.props.right)):this.environment.device.isMobile?a.a.createElement("div",{style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleFocus},a.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:this.isGroup()?6:0}},this.props.tokens,!e&&this.renderInput()),a.a.createElement(m.a,{show:this.stores.store.state.focused})):a.a.createElement("div",{style:{...this.getWrapStyle(),...this.props.style},onClick:this.handleFocus},this.props.tokens,!e&&this.renderInput())}renderInput(){const e=0===this.props.tokens.length;return a.a.createElement(c.b,Object.assign({format:c.b.Format.Transparent},Object(p.a)({onKeyDown:this.handleKeyDown},{onChange:this.props.onChange}),{value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:{...f.inputStyle,margin:this.environment.device.isMobile?"0 8px 8px 0":"0 6px 6px 0"},inputStyle:{height:this.environment.device.isMobile?24:this.isGroup()?20:18},size:1,ref:e=>e&&(this.input=e),type:this.props.type,placeholder:e?this.props.placeholder:"",onSubmit:this.handleEnter,onFocus:this.handleFocused,onBlur:this.handleBlurred}))}isGroup(){return this.props.format===o.Group}getDesktopWrapStyle(){const{disabled:e}=this.props;return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",width:"100%",minHeight:34,background:e?"none":this.theme.tokenInputMenuItemBackground,borderTopLeftRadius:3,borderTopRightRadius:3,fontSize:14,cursor:"text",overflow:"hidden"}}getMobileWrapStyle(){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:"1px solid ".concat(this.theme.regularDividerColor),fontSize:16,background:this.theme.popoverBackground}}getWrapStyle(){const e=this.props.format,{WindowSizeStore:t}=this.environment;return{...this.environment.device.isMobile?{...this.getMobileWrapStyle(),paddingTop:14,paddingBottom:8,paddingLeft:this.context.menuType!==u.a.Popup?t.getSafePaddingLeftCSS(16):16,paddingRight:this.context.menuType!==u.a.Popup?t.getSafePaddingRightCSS(16):16,...this.props.dontShowBorderBottom&&{borderBottom:"none"}}:{...this.getDesktopWrapStyle(),...f.styles[e].wrapStyle}}}}f.contextTypes={...u.c},f.Format=o,f.styles={[o.Select]:{wrapStyle:{padding:"8px 9px 1px"}},[o.Person]:{wrapStyle:{padding:"8px 9px 1px"}},[o.Relation]:{wrapStyle:{padding:"8px 9px 1px"}},[o.Share]:{wrapStyle:{padding:"8px 14px"}},[o.Group]:{wrapStyle:{padding:"8px 14px"}}},f.inputStyle={flexGrow:1,flexShrink:1,flexBasis:60,minWidth:60,width:"auto",lineHeight:"20px"},t.a=f},W75l:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("yjqD");class r{constructor(){this.SCALE=1.5,this.MAX=15,this.waitable=new o.a,this.failures=0}getDelay(e){return Math.min(this.MAX,Math.pow(this.SCALE,e))}reset(){this.waitable.trigger(),this.waitable=new o.a,this.failures=0}async backOffOnFailure(e){const t=this.failures;this.failures++;const n=e*this.getDelay(t);await this.waitable.wait(e,n-e),this.waitable=new o.a}}},W7EN:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return m}));n("3bBZ");var o=n("Wvka"),r=n("tP7q"),a=n("cBa6"),i=n("HRSx"),s=n("LvDl"),l=n.n(s);function c(e){const{pageId:t,scrollToBlockId:n,peekViewBlockId:r,collectionViewId:a,discussionId:i}=e;return Object(o.a)({pageId:t,scrollToBlockId:n,peekViewBlockId:r,collectionViewId:a,discussionId:i})}function d(e){const t=Object(r.l)({url:e,isMobile:!1,baseUrl:"",protocol:void 0,currentUrl:void 0});if("page"===t.name)return t.peekViewBlockId||t.blockId}function u(e){return(t,n,o)=>{const r=e({table:i.a,id:t});return!!r&&(r.parent_table===n&&r.parent_id===o)}}function p(e){if(!e)return[];const t=a.W(e),n=a.U(e);for(const o of n){const e=d(o.url);e&&t.push(e)}return t}function h(e){const{parentBlock:t,mentionedPageIds:n,blockHasParent:o}=e,r=t.content||[];return l.a.without(n,...r).filter(e=>o(e,i.a,t.id))}function m(e){const{parentBlock:t,oldTextValue:n,newTextValue:o,getRecordValue:r}=e,a=p(n),i=p(o);return h({parentBlock:t,mentionedPageIds:l.a.without(a,...i),blockHasParent:u(r)})}},W8iW:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("47e+"),s=n("tzmq");class l extends a.a{renderComponent(){return r.a.createElement(i.a,{type:Object(s.a)(this.environment),size:"1em"},this.props.children)}}t.a=l},WDpx:function(e,t,n){"use strict";var o=n("wldR");class r extends o.a{willMount(e){document.title=e.title}willUpdate(e){document.title=e.title}renderComponent(){return this.props.children}}t.a=r},WHWW:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LEzx");class i extends a.a{getInitialState(){return{disabled:!1,loaded:!1}}}var s=i,l=n("wldR"),c=n("VVh3"),d=n("S26v"),u=n("qHvo"),p=n("nZ1u"),h=n("0zNc"),m=n("zmp8");class f extends l.a{constructor(){super(...arguments),this.iframe=null,this.storeTypes={iframeStore:s},this.handleMouseMove=e=>{const t=u.b.state.isDragging,n=h.a.state.isDragging,o=p.a.state.isActive,r=t||n||o;this.stores.iframeStore.setState({...this.stores.iframeStore.state,disabled:r})},this.handleIframeLoad=()=>{this.stores.iframeStore.setState({...this.stores.iframeStore.state,loaded:!0})},this.releaseFocus=()=>{document.activeElement&&document.activeElement===this.iframe&&document.activeElement.blur()}}didMountOrUpdate(){super.didMountOrUpdate(),this.releaseFocus()}renderComponent(){return r.a.createElement("div",{style:this.props.style,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseMove,onMouseLeave:this.releaseFocus},r.a.createElement("div",{style:this.getAspectRatioContainerStyle()},r.a.createElement(c.a,{innerStyle:{height:"100%",width:"100%"},loaded:this.stores.iframeStore.state.loaded,style:f.aspectRatioInnerStyle,spinnerSize:"1em",showSpinnerTimeout:500},this.renderIframe())))}renderIframe(){const e=this.getSanitizedSource();return r.a.createElement("iframe",Object.assign({ref:e=>{this.iframe=e},style:this.getIframeStyle(),src:e,frameBorder:"0",onLoad:this.handleIframeLoad,sandbox:"allow-scripts allow-popups allow-top-navigation-by-user-activation allow-forms allow-same-origin",allowFullScreen:!0,allow:this.props.allow},{loading:"lazy"}))}getSanitizedSource(){return d.i({str:this.props.source,allowNoProtocol:!0})}getAspectRatioContainerStyle(){const{height:e,isFullWidth:t,isFullHeight:n,aspectRatio:o,preserveScale:r}=this.props,a={position:"relative",display:"flex",justifyContent:"center",width:"100%",minHeight:100};return n?(a.height="100%",a.position=void 0):t||!r?a.height=e:(a.height=0,a.paddingBottom="".concat(100*(o||.75),"%")),a}getIframeStyle(){return{...f.aspectRatioInnerStyle,pointerEvents:this.stores.iframeStore.state.disabled?"none":"auto",backgroundColor:this.props.background?m.g.contentGrayBackground:"none"}}}f.aspectRatioInnerStyle={position:"absolute",left:0,top:0,width:"100%",height:"100%",borderRadius:1};t.a=f},WI3x:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("FWat"),s=n("i3uR"),l=n("s65R"),c=n("T1td"),d=n("Kl92"),u=n("y6Dp"),p=n("5zFd"),h=n("SR/M"),m=n("oWZM"),f=n("k1PL"),g=n("J9+s"),b=n("aEEb");class v extends a.a{renderComponent(){const{filterValueType:e,filter:t,intl:n}=this.props,o=Object(i.h)(e),a={width:190,menuTitle:n.formatMessage({defaultMessage:"Comparator",id:"database.filterMenu.mobileComparatorValueMenu.title",description:"A comparator is something that compares two values, like 'Less than', 'Greater than', or 'Equals'."}),items:o,selectedItem:t.operator,getKey:e=>e,onSelect:n=>{const o=Object(d.j)(e,t,n);this.props.onChange(o),u.W(this.environment,{view_type:this.props.collectionViewType,action:"set_filter_comparator"})},renderItem:e=>r.a.createElement(h.a,Object.assign({title:Object(d.g)(e.value)},e)),renderOrigin:e=>r.a.createElement(m.a,Object.assign({},e,{placeholder:n.formatMessage({defaultMessage:"Comparator",id:"database.filterMenu.comparatorMenuDropdownButton.label"}),title:r.a.createElement(b.a,{isMobile:this.environment.device.isMobile},Object(d.g)(t.operator)),disableMargins:!0}))};return r.a.createElement(p.a,Object.assign({key:"comparator"},a,{mobileActionSheet:!0}))}}var y=Object(g.injectIntl)(v),S=n("hU3F"),w=n("dXb3"),k=n("Z1H8"),C=n("yNyh"),M=n("3mOY");const E=Object(g.defineMessages)({value:{defaultMessage:"Value",id:"database.filterAndSort.propertyValueInput.placeholder"}});class _ extends a.a{constructor(){super(...arguments),this.storeTypes={isEditing:S.a.of(!1)},this.input=null,this.handleClick=()=>{this.stores.isEditing.set(!0)},this.handleInputBlur=()=>{this.stores.isEditing.set(!1)},this.handleInputCancel=()=>{this.input&&(this.input.handleBlur(),this.handleInputBlur())},this.handleInputChange=e=>{const t=e.target.value;this.props.onChange(t)}}renderComponent(){return r.a.createElement("div",{style:{display:"flex",...this.getDivStyle()},onClick:this.handleClick},this.renderInput())}renderInput(){const{device:e}=this.environment,t=this.stores.isEditing.get(),n=this.props.value||"",{intl:o}=this.props;return e.isMobile?r.a.createElement(w.a,{value:n,onChange:this.handleInputChange,placeholder:o.formatMessage(E.value),onBlur:this.handleInputBlur,mobileEditLabel:r.a.createElement(g.FormattedMessage,{defaultMessage:"Edit",id:"database.filterAndSort.mobileEditButton.label"})}):r.a.createElement(M.b,{action:()=>this.stores.isEditing.set(!0),render:e=>r.a.createElement("div",{ref:e.ref,onMouseEnter:e.onMouseEnter,style:{background:e.focused&&!t?this.theme.buttonHoveredBackground:"transparent",...this.getDivStyle()}},r.a.createElement(k.a,{capture:t,render:e=>r.a.createElement("div",Object.assign({},e,{style:this.getDivStyle()}),r.a.createElement(C.b,{focus:t,ref:e=>this.input=e,value:n,onChange:this.handleInputChange,placeholder:o.formatMessage(E.value),onBlur:this.handleInputBlur,onCancel:this.handleInputCancel,style:this.getInputStyle()}))}))})}getDivStyle(){return _.disableMarginStyles}getInputStyle(){return{..._.inputStyle,..._.disableMarginStyles,minWidth:Ge}}}_.inputStyle={marginRight:8,paddingLeft:6,paddingRight:0,width:80,height:30},_.disableMarginStyles={margin:0,width:"100%",height:"100%",transition:"background 120ms ease-in"};var T=Object(g.injectIntl)(_),x=n("3DNc"),I=n("IULH");class P extends a.a{constructor(){super(...arguments),this.handleCheckboxClick=()=>{this.props.onChange(!this.props.value)}}renderComponent(){return r.a.createElement("div",{style:{display:"flex"}},this.renderCheckbox())}renderCheckbox(){const{device:e}=this.environment,t=Boolean(this.props.value);return e.isMobile?r.a.createElement(h.a,{focused:!1,onClick:this.handleCheckboxClick,title:r.a.createElement(x.a,{checked:t,onClick:this.handleCheckboxClick,size:16})}):r.a.createElement(I.a,{isLarge:!0,style:{marginRight:8},onClick:this.handleCheckboxClick},r.a.createElement(x.a,{checked:t,size:16,onClick:this.handleCheckboxClick}))}}var O=P,B=n("DrHl"),L=n("mjq6"),R=n("WgIs"),D=n("2Y+N"),A=n("gbGO"),j=n("zTdN"),F=n("vl8/"),V=n("nPEg");const N=Object(g.defineMessages)({selectPlaceholder:{defaultMessage:"Select an option",id:"collections.operatorValueSelect.placeholder"}});class U extends a.a{constructor(){super(...arguments),this.storeTypes={query:S.a.of("")}}renderComponent(){return this.renderSelect()}renderSelect(){const{device:e}=this.environment,{value:t,options:n,intl:o}=this.props,a={minWidth:Ge},i=r.a.createElement(g.FormattedMessage,{defaultMessage:"Pick an option",id:"database.filterAndSort.selectPropertyValue.prompt"});return r.a.createElement(s.a,{popupType:e.isMobile?s.a.PopupType.SlideUp:s.a.PopupType.Popup,alignmentToOrigin:s.a.Alignment.Start,onClick:()=>this.stores.query.set(""),renderOrigin:o=>r.a.createElement(m.a,Object.assign({},o,{disableMargins:!0,desktopStyle:a,placeholder:F.default.formatMessage(N.selectPlaceholder),title:t&&r.a.createElement(B.a,{format:e.isMobile?B.a.Format.Large:B.a.Format.Medium,isSingle:!0,value:t,options:n,showRemoveButton:!1})})),render:t=>{const a=this.stores.query.get(),s=a?Object(L.b)(a,n,e=>e.value):n,l=s.map(t=>({key:t.value,render:o=>r.a.createElement(h.a,Object.assign({title:r.a.createElement(B.a,{format:e.isMobile?B.a.Format.Large:B.a.Format.Medium,isSingle:!0,value:t.value,options:n,showRemoveButton:!1}),isTokenTitle:!0},o)),action:()=>{this.props.onChange(t.value)}})),c=r.a.createElement(D.a,{isInput:!0},r.a.createElement(w.a,{focus:!e.isMobile||void 0,focusAfterAnimation:!0,value:this.stores.query.get(),onChange:e=>this.stores.query.set(e.target.value),placeholder:o.formatMessage({defaultMessage:"Search for an option…",id:"database.filterAndSort.selectPropertyValue.searchPlaceholder"})}));let d;return d=e.isMobile?{menuType:A.b.MenuType.Modal,title:r.a.createElement(g.FormattedMessage,{defaultMessage:"Select",id:"database.mobileFilterAndSort.selectMobileModal.title"}),right:r.a.createElement(V.CancelMenuText,null),onClickRight:t.close,header:c}:{menuType:A.b.MenuType.Popup,width:220,header:c},r.a.createElement(A.b,Object.assign({},d),0===s.length?r.a.createElement(D.a,{title:i},r.a.createElement(j.a,{title:r.a.createElement(g.FormattedMessage,{defaultMessage:"No results",id:"database.filterAndSort.selectPropertyValue.noResults.message"})})):r.a.createElement(R.a,{type:R.a.Type.Vertical,initialFocus:0,sections:[{key:"select",render:e=>r.a.createElement(D.a,Object.assign({},e,{title:i})),items:l}],onAccept:t.close}))}})}}var z=Object(g.injectIntl)(U),X=n("D2XV"),Y=n("mKX5"),H=n("fB7H"),q=(n("UNSI"),n("DUpR"),n("BFWj")),W=n.n(q),G=n("ikHm"),Z=n("mF3+"),K=n("lCCU"),J=n("T8dS"),Q=n("VzhR"),$=n.n(Q);n("Ivi+");class ee extends a.a{constructor(){super(...arguments),this.handleDayPickerDayClick=e=>{this.props.onChange(e.getTime())},this.renderNavbarElement=({onPreviousClick:e,onNextClick:t})=>{const{device:n}=this.environment;return r.a.createElement("div",{style:n.isMobile?ee.mobileNavStyle:ee.desktopNavStyle},r.a.createElement(K.a,{mobileFeedback:n.isMobile,icon:Z.a.chevronLeft,onClick:()=>e()}),r.a.createElement(K.a,{mobileFeedback:n.isMobile,icon:Z.a.chevronRight,onClick:()=>t()}))}}renderComponent(){const e=new Date(this.props.value),{firstDayOfWeek:t}=this.props;return r.a.createElement(W.a,{localeUtils:$.a,locale:J.a,className:"notion-calendar-picker",numberOfMonths:1,firstDayOfWeek:t,modifiers:{value:e},showOutsideDays:!0,fixedWeeks:!0,onDayClick:this.handleDayPickerDayClick,navbarElement:this.renderNavbarElement})}}ee.desktopNavStyle={display:"flex",position:"absolute",top:0,right:4,zIndex:G.m},ee.mobileNavStyle={display:"flex",position:"absolute",top:-2,right:4,zIndex:G.m};var te=ee,ne=n("HTHG");class oe extends a.a{constructor(){super(...arguments),this.handleDatePickerChange=e=>{this.props.onChange(X.n(e,X.m))}}renderComponent(){return this.renderDate()}renderDate(){const{device:e}=this.environment,t=this.props.dateFormat||X.v,n=this.props.value,{intl:o}=this.props;return r.a.createElement(s.a,{popupType:e.isMobile?s.a.PopupType.SlideUp:s.a.PopupType.Popup,renderOrigin:e=>r.a.createElement(m.a,Object.assign({},e,{placeholder:o.formatMessage({defaultMessage:"Date",id:"database.filterAndSort.datePropertyValue.placeholder"}),desktopStyle:{minWidth:130},title:n&&r.a.createElement(H.a,{value:n,dateFormat:t}),disableMargins:!0})),render:()=>r.a.createElement("div",{style:{padding:"18px 14px 14px"}},r.a.createElement(te,{firstDayOfWeek:ne.q.state,value:n?X.D(n,X.m).valueOf():Object(Y.a)().valueOf(),onChange:this.handleDatePickerChange}))})}}var re=Object(g.injectIntl)(oe),ae=n("bPtJ"),ie=n("Pl3d"),se=n("4HCU"),le=n("8t63"),ce=n("HRSx"),de=n("sbdd"),ue=n("wpmu"),pe=n("hbKx"),he=n("zok3"),me=n("NoAG");const fe=Object(g.defineMessages)({searchPlaceholder:{defaultMessage:"Search for a page…",id:"databaseRelationOperators.searchPlaceholder",description:"Placeholder when searching for operations on database relations."},selectPlaceholder:{defaultMessage:"Select a page",id:"databaseRelationOperators.selectPlaceholder",description:"Placeholder when selecting a page as a value in a database relation."}});class ge extends a.a{constructor(){super(...arguments),this.storeTypes={query:S.a.of("")},this.getRelationAutocompleteResults=async e=>{const{spaceId:t,collectionId:n}=this.props;if(!t||!n)return[];const{results:o}=await se.h({environment:this.environment,query:e,parentId:n,limit:20,spaceId:t,excludeTemplates:!0,source:"relation_menu"});return 0===o.length?[]:(await Promise.all(o.map(async e=>{const t=Object(ae.c)(this.props.parentStore,{table:ce.a,id:e});await t.load()})),o)}}renderComponent(){return this.renderRelation()}renderRelation(){const{device:e}=this.environment,t={minWidth:Ge};return r.a.createElement(s.a,{popupType:e.isMobile?s.a.PopupType.SlideUp:s.a.PopupType.Popup,alignmentToOrigin:s.a.Alignment.Start,onClick:()=>this.stores.query.set(""),renderOrigin:n=>{const o=this.props.value;return void 0===o.value?r.a.createElement(m.a,Object.assign({},n,{desktopStyle:t,disableMargins:!0,placeholder:F.default.formatMessage(fe.selectPlaceholder)})):r.a.createElement(m.a,Object.assign({},n,{disableMargins:!0,desktopStyle:t,placeholder:F.default.formatMessage(fe.selectPlaceholder),title:r.a.createElement(le.a,{blockId:o.value,parentStore:this.props.parentStore,isSingle:!0,shouldShrink:!0,format:e.isMobile?le.a.Format.Large:le.a.Format.Medium})}))},render:t=>{const n=this.stores.query.get(),o={request:n,performRequest:this.getRelationAutocompleteResults,debounce:se.b,render:(e,o,r)=>this.renderRequestResults({query:n,parent:t,error:e,results:o,ready:r})},a=r.a.createElement(D.a,{isInput:!0},r.a.createElement(w.a,{focus:!e.isMobile||void 0,focusAfterAnimation:!0,value:this.stores.query.get(),onChange:e=>this.stores.query.set(e.target.value),placeholder:F.default.formatMessage(fe.searchPlaceholder)}));let i;return i=e.isMobile?{menuType:A.b.MenuType.Modal,title:r.a.createElement(g.FormattedMessage,{defaultMessage:"Relation",id:"databaseRelationOperators.mobileMenuTitle"}),right:r.a.createElement(V.CancelMenuText,null),onClickRight:t.close,header:a}:{menuType:A.b.MenuType.Popup,width:220,header:a},r.a.createElement(A.b,Object.assign({},i),r.a.createElement(ie.a,Object.assign({},o)))}})}renderRequestResults(e){const{parent:t,query:n,error:o,results:a,ready:i}=e,s=r.a.createElement(g.FormattedMessage,{defaultMessage:"Select a page",id:"databaseRelationOperators.pageSelection.title"});if(o)return r.a.createElement(D.a,{title:s,loading:!i},r.a.createElement(j.a,{title:r.a.createElement(g.FormattedMessage,{defaultMessage:"Something went wrong.",id:"databaseRelationOperators.errorMessage"})}));const l=(a||[]).map(e=>{const t=ue.a.createChildStore(this.props.parentStore,{table:ce.a,id:e});return{key:e,action:()=>this.props.onChange({type:"exact",value:e}),render:e=>r.a.createElement(de.a,Object.assign({store:t},e))}}),c=this.getTemplatePageStore();return i&&!n&&c&&this.props.collectionId&&c.getParentCollectionId()===this.props.collectionId&&l.unshift({key:"parent_page",action:()=>this.props.onChange({type:"exact",value:c.id}),render:e=>r.a.createElement(de.a,Object.assign({store:c},e))}),0===l.length?r.a.createElement(D.a,{title:s,loading:!i},r.a.createElement(j.a,{title:r.a.createElement(g.FormattedMessage,{id:"databaseRelationOperators.noSearchResults",defaultMessage:"No results"})})):r.a.createElement(R.a,{type:R.a.Type.Vertical,initialFocus:0,sections:[{key:"relation",render:e=>r.a.createElement(D.a,Object.assign({},e,{title:s,loading:!i})),items:l}],onAccept:t.close})}getTemplatePageStore(){const{collectionViewId:e}=this.props;if(!e)return;const t=he.a.createChildStore(this.props.parentStore,{table:me.a,id:e}).getParentBlockStore();if(!t)return;const n=pe.c(t,1);if(!n)return;const o=n.getValue();return o&&o.is_template?n:void 0}}var be=ge,ve=n("QcDD"),ye=n("7ab4"),Se=n("6BTz"),we=n("VhAz"),ke=n("j3Jm");const Ce=Object(g.defineMessages)({dateTitle:{defaultMessage:"Date",id:"database.filterMenu.mobileDateSelectMenu.title"},emptyPlaceholder:{defaultMessage:"Empty",id:"database.filterMenu.dateSelectMenu.emptyPlaceholder"}});class Me extends a.a{renderComponent(){const{filter:e}=this.props,t=this.props.filterValueType,n=r.a.createElement("span",null);if("date"===t){if(!Object(i.o)(e))return n;const t=e;return Object(i.q)(t)?n:"date_is_within"===t.operator?this.renderDateRangeFilterOperatorValue(t):this.renderDateFilterOperatorValue(t)}if("text"===t){if(!Object(i.B)(e))return n;const t=e;if(Object(i.q)(t))return n;const o=t.value;return r.a.createElement(T,{value:o.value,onChange:e=>{const n={type:"exact",value:e},o={...t,value:n};this.props.onChange(o)}})}if("number"===t){if(!Object(i.v)(e))return n;const t=e;if(Object(i.q)(t))return n;const o=t.value;return r.a.createElement(T,{value:void 0===o.value?"":o.value.toString(),onChange:e=>{const n={type:"exact",value:Object(Se.e)(e)},o={...t,value:n};this.props.onChange(o)}})}if("checkbox"===t){if(!Object(i.m)(e))return n;const t=e,o=t.value;return r.a.createElement(O,{value:o.value,onChange:e=>{const n={type:"exact",value:e},o={...t,value:n};this.props.onChange(o)}})}if("select"===t){if(!Object(i.A)(e))return n;const t=e;if(Object(i.q)(t))return n;const o=this.props.schema[this.props.property],a=o&&"select"===o.type&&o.options||[],s=t.value;return r.a.createElement(z,{value:s.value,options:a,onChange:e=>{const n={type:"exact",value:e},o={...t,value:n};this.props.onChange(o)}})}if("multi_select"===t){if(!Object(i.u)(e))return n;const t=e;if(Object(i.q)(t))return n;const o=this.props.schema[this.props.property],a=t.value,s=o&&"multi_select"===o.type&&o.options||[];return r.a.createElement(z,{value:a.value,options:s,onChange:e=>{const n={type:"exact",value:e},o={...t,value:n};this.props.onChange(o)}})}if("relation"===t){if(!Object(i.y)(e))return n;const t=e;if(Object(i.q)(t))return n;const o=this.props.schema[this.props.property],a=t.value,s=ve.default.state.currentSpaceStore&&ve.default.state.currentSpaceStore.id,l=o&&"relation"===o.type?o.collection_id:void 0;return r.a.createElement(be,{value:a,spaceId:s,collectionId:l,collectionViewId:this.props.collectionViewId,parentStore:this.props.parentStore,onChange:e=>{const n={...t,value:e};this.props.onChange(n)}})}if("person"===t){if(!Object(i.w)(e))return n;const t=e;if(Object(i.q)(t))return n;const o=t.value;return r.a.createElement(ye.a,{value:o,parentStore:this.props.parentStore,onChange:e=>{const n={...t,value:e};this.props.onChange(n)}})}if("file"===t){if(!Object(i.s)(e))return n;const t=e;if(Object(i.q)(t))return n;Object(we.e)(t)}Object(we.e)(t)}renderDateFilterOperatorValue(e){const{intl:t}=this.props,n={menuTitle:t.formatMessage(Ce.dateTitle),items:i.e,getKey:e=>"relative"===e.type?e.value:e.type,selectedItem:e.value,onSelect:t=>{const n={...e,value:t};this.props.onChange(n),u.W(this.environment,{view_type:this.props.collectionViewType,action:"set_filter_value_type"})},renderItem:e=>r.a.createElement(h.a,Object.assign({title:Object(d.e)(e.value)},e)),renderOrigin:n=>r.a.createElement(m.a,Object.assign({},n,{disableMargins:!0,placeholder:t.formatMessage(Ce.emptyPlaceholder),title:Object(d.e)(e.value)}))},a=e.value;if("exact"===a.type){const t=this.props.schema[this.props.property],i=t&&"date"===t.type?t.date_format:void 0,s=r.a.createElement(o.Fragment,null,r.a.createElement(p.a,Object.assign({key:"date-filter-value-type"},n,{mobileActionSheet:!0})),r.a.createElement(re,{value:a.value,dateFormat:i,onChange:t=>{const n={type:"exact",value:t},o={...e,value:n};this.props.onChange(o)}})),l=this.environment.device.isDesktop?{display:"grid",justifyContent:"stretch",gridTemplateColumns:"1fr 1fr",gridColumnGap:ke.a,width:"100%"}:void 0;return r.a.createElement("div",{style:l},s)}return r.a.createElement(p.a,Object.assign({key:"date-filter-value-type"},n,{mobileActionSheet:!0}))}renderDateRangeFilterOperatorValue(e){const{intl:t}=this.props,n={menuTitle:t.formatMessage(Ce.dateTitle),items:i.f,getKey:e=>e.value,selectedItem:e.value,onSelect:t=>{const n={...e,value:t};this.props.onChange(n),u.W(this.environment,{view_type:this.props.collectionViewType,action:"set_filter_value_type"})},renderItem:e=>r.a.createElement(h.a,Object.assign({title:Object(d.f)(e.value)},e)),renderOrigin:n=>r.a.createElement(m.a,Object.assign({},n,{desktopStyle:{minWidth:Ge},disableMargins:!0,placeholder:t.formatMessage(Ce.emptyPlaceholder),title:Object(d.f)(e.value)}))};return r.a.createElement(p.a,Object.assign({key:"date-range-filter-value-type"},n,{mobileActionSheet:!0}))}}var Ee=Object(g.injectIntl)(Me);const _e=Object(g.defineMessages)({setFilter:{defaultMessage:"Set filter",id:"database.filterMenu.rollupPropertyValue.mobileMenu.title"}});class Te extends a.a{renderComponent(){const{filter:e}=this.props;if(Object(i.z)(e))return this.renderRollupFilter(e);const t=Object(i.i)({schema:this.props.schema,property:this.props.property,getRecordValue:this.props.parentStore.getRecordValue,normalizedSchemaCache:{}});if(!Object(i.t)(t,e)){const e=Object(d.b)(t);return r.a.createElement(o.Fragment,null,r.a.createElement(y,{filterValueType:t,filter:e,collectionViewType:this.props.collectionViewType,onChange:this.props.onChange}),r.a.createElement(Ee,{filterValueType:t,filter:e,schema:this.props.schema,property:this.props.property,parentStore:this.props.parentStore,collectionViewType:this.props.collectionViewType,collectionViewId:this.props.collectionViewId,onChange:this.props.onChange}))}return r.a.createElement(o.Fragment,null,r.a.createElement(y,{filterValueType:t,filter:e,collectionViewType:this.props.collectionViewType,onChange:this.props.onChange}),r.a.createElement(Ee,{filterValueType:t,filter:e,schema:this.props.schema,property:this.props.property,parentStore:this.props.parentStore,collectionViewType:this.props.collectionViewType,collectionViewId:this.props.collectionViewId,onChange:this.props.onChange}))}renderRollupFilter(e){const{intl:t}=this.props,n={menuTitle:t.formatMessage(_e.setFilter),items:i.D,getKey:e=>e,selectedItem:e.operator,onSelect:t=>{const n={...e,operator:t};this.props.onChange(n),u.W(this.environment,{view_type:this.props.collectionViewType,action:"set_rollup_set_filter"})},renderItem:e=>r.a.createElement(h.a,Object.assign({title:Object(d.i)(e.value,t)},e)),renderOrigin:n=>r.a.createElement(m.a,Object.assign({},n,{placeholder:t.formatMessage(_e.setFilter),title:Object(d.i)(e.operator,t),disableMargins:!0,desktopStyle:{minWidth:70}}))},a=Object(f.c)({property:this.props.property,schema:this.props.schema,getRecordValue:this.props.parentStore.getRecordValue,normalizedSchemaCache:{}});if(!a)return r.a.createElement("div",{style:{gridColumnEnd:"span 2"}});const s=r.a.createElement(o.Fragment,null,r.a.createElement(p.a,Object.assign({key:"set_filter"},n,{mobileActionSheet:!0})),r.a.createElement(xe,{collectionViewId:this.props.collectionViewId,filter:e.subfilter,schema:a.targetCollectionSchema,property:a.targetProperty,parentStore:this.props.parentStore,collectionViewType:this.props.collectionViewType,onChange:t=>{const n={...e,subfilter:t};this.props.onChange(n)}}));return this.environment.device.isMobile?s:r.a.createElement("div",{style:{display:"grid",gridAutoFlow:"column",gridAutoColumns:"1fr",gridColumnEnd:"span 2",gridColumnGap:"".concat(ke.a,"px"),gridTemplateRows:"".concat(ke.c,"px")}},s)}}const xe=Object(g.injectIntl)(Te);var Ie=xe,Pe=n("WzNb");class Oe extends a.a{constructor(){super(...arguments),this.handleChangeProperty=e=>{const{schema:t}=this.props,{property:n,filter:o}=this.props.propertyFilter,r=t[e],a={property:e,filter:o},s=r&&Object(i.C)(r,o),l=r&&"relation"===r.type&&n!==e;s&&!l&&Object(Pe.f)(a,t)||(a.filter=Object(d.a)({schema:t,property:e,getRecordValue:this.props.parentStore.getRecordValue})),this.props.onChange(this.props.index,a),u.W(this.environment,{view_type:this.props.collectionViewType,action:"set_filter_property"})}}renderComponent(){const{device:e}=this.environment,{schema:t,propertyFilter:n}=this.props,a=t[n.property];if(a&&Object(i.C)(a,n.filter))return r.a.createElement(o.Fragment,null,this.props.filterOperator,r.a.createElement(s.a,{popupType:e.isMobile?s.a.PopupType.SlideUp:s.a.PopupType.Popup,renderOrigin:e=>r.a.createElement(l.a,Object.assign({},e,{propertySchema:a,disableMargins:!0})),render:e=>r.a.createElement(c.a,{isRelationProperty:!1,schema:this.props.schema,onAccept:this.handleChangeProperty,onClose:e.close})}),r.a.createElement(Ie,{filter:n.filter,schema:t,property:n.property,parentStore:this.props.parentStore,collectionViewId:this.props.collectionViewId,collectionViewType:this.props.collectionViewType,onChange:e=>{const t={...n,filter:e};this.props.onChange(this.props.index,t)}}))}}var Be=Oe,Le=n("Nvzn"),Re=n("g4rC"),De=n("wXH4"),Ae=n("LvDl"),je=n.n(Ae);const Fe=Object(g.defineMessages)({operatorPlaceholder:{defaultMessage:"Operator",id:"database.filterMenu.operatorPlaceholder",description:"An operator refers to an option that joins multiple clauses for this filter to this database. For example, 'and' or 'or' are operators."}});class Ve extends a.a{renderComponent(){const{intl:e,filterOperator:t,onChange:n,disableMargins:o}=this.props,a={width:210,menuTitle:e.formatMessage({defaultMessage:"Operator",id:"database.filterMenu.filterOperatorMenu.title",description:"An operator refers to an option that joins multiple clauses for this filter to this database. For example, 'and' or 'or' are operators."}),items:i.a,getKey:e=>e,selectedItem:t,onSelect:n,renderItem:t=>r.a.createElement(h.a,Object.assign({title:Object(d.d)(t.value,e),caption:Object(d.c)(t.value,e)},t)),renderOrigin:n=>r.a.createElement(m.a,Object.assign({},n,{title:t&&Object(d.d)(t,e),placeholder:e.formatMessage(Fe.operatorPlaceholder),disableMargins:o}))};return r.a.createElement(p.a,Object.assign({key:"operator"},a,{mobileActionSheet:!0}))}}var Ne=Object(g.injectIntl)(Ve),Ue=n("MaHM"),ze=n("AwHX"),Xe=n("nObc"),Ye=n("KJyx");n.d(t,"b",(function(){return He})),n.d(t,"d",(function(){return qe})),n.d(t,"c",(function(){return We})),n.d(t,"e",(function(){return Ge})),n.d(t,"a",(function(){return Ze}));const He=60,qe=120,We=110,Ge=170;class Ze extends a.a{constructor(){super(...arguments),this.buttonPopupStores=[],this.renderChildFilter=(e,t)=>{const n=this.environment.device.isMobile;return Object(i.n)(e)?n?this.renderMobileCombinatorFilter(e,t):this.renderDesktopCombinatorFilter(e,t):Object(i.x)(e)?n?this.renderMobilePropertyFilter(e,t):this.renderDesktopPropertyFilter(e,t):void 0},this.renderAddFilterMenuItem=e=>{const t=this.renderMenuIcon(Z.a.plus);return r.a.createElement(h.a,Object.assign({focused:!1},e,{icon:t,title:r.a.createElement(Ue.a,null)}))},this.renderAddFilterGroupMenuItem=e=>{const t=this.renderMenuIcon(Z.a.addFilterGroup);return r.a.createElement(h.a,Object.assign({focused:!1},e,{icon:t,title:r.a.createElement(g.FormattedMessage,{defaultMessage:"Add a filter group",id:"database.filterMenu.addFilterGroupButtonTitle"}),caption:r.a.createElement(g.FormattedMessage,{defaultMessage:"A group to nest more filters",id:"database.filterMenu.addFilterGroupButtonCaption"})}))},this.renderCombinatorActions=()=>{const{device:e}=this.environment;if(e.isMobile)return r.a.createElement(D.a,{topBorder:this.shouldRenderEmptyState()},this.renderAddFilterMenuItem({onClick:this.handleAddFilterClick}),this.allowNewCombinatorFilters()&&this.renderAddFilterGroupMenuItem({onClick:this.handleAddFilterGroupClick}));const t={height:32},n={padding:"".concat(ke.b,"px 0")};return this.allowNewCombinatorFilters()?r.a.createElement(D.a,{topBorder:this.shouldRenderEmptyState(),desktopStyle:n},r.a.createElement(s.a,{alignmentToOrigin:De.c.Alignment.Start,popupType:De.c.PopupType.Popup,renderOrigin:e=>r.a.createElement(M.b,{action:()=>e.onClick(),render:n=>{const{focused:o,...a}=n;return r.a.createElement(Xe.a,Object.assign({},e,a,{focused:o,isBlue:!0,style:t,title:r.a.createElement("div",null,r.a.createElement(Ue.a,null),Z.a.chevronDown({width:10,marginLeft:6,display:"inline"}))}))}}),render:e=>r.a.createElement(R.a,{type:R.a.Type.Vertical,initialFocus:0,sections:[{key:"actions",render:e=>r.a.createElement(D.a,Object.assign({},e)),items:[{key:"add_filter",render:this.renderAddFilterMenuItem,action:t=>{e.close(),this.handleAddFilterClick()}},{key:"add_filter_group",render:this.renderAddFilterGroupMenuItem,action:t=>{e.close(),this.handleAddFilterGroupClick()}}]}]})})):r.a.createElement(D.a,{topBorder:this.shouldRenderEmptyState(),desktopStyle:n},r.a.createElement(M.b,{action:this.handleAddFilterClick,render:e=>{const{focused:n,...o}=e;return r.a.createElement(Xe.a,Object.assign({},o,{focused:e.focused,isBlue:!0,style:t,onClick:this.handleAddFilterClick,title:r.a.createElement(Ue.a,null)}))}}))},this.handleChildFilterChange=(e,t)=>{this.mutateFilters(n=>n.splice(e,1,t))},this.handleAddFilterClick=()=>{const e=this.getDefaultNewPropertyFilter();this.mutateFilters(t=>t.push(e)),u.W(this.environment,{view_type:this.props.collectionViewType,action:"add_filter"})},this.handleAddFilterGroupClick=()=>{const e=this.getDefaultNewPropertyFilter(),t={operator:this.getOppositeOperator(),filters:[e]},n=this.mutateFilters(e=>e.push(t));this.openIndex(n-1),u.W(this.environment,{view_type:this.props.collectionViewType,action:"add_filter_group"})},this.handleChangeFilterOperator=e=>{const t={...this.props.combinatorFilter,operator:e};this.props.onChange(this.props.index,t),u.W(this.environment,{view_type:this.props.collectionViewType,action:"set_filter_operator"})}}componentWillUnmount(){this.buttonPopupStores=[]}renderComponent(){const{combinatorFilter:e}=this.props,{device:t}=this.environment,n=e.filters||[];return r.a.createElement(r.a.Fragment,null,this.shouldRenderEmptyState()?this.renderEmptyState():r.a.createElement("div",{style:t.isMobile?void 0:this.getGridStyles()},n.map(this.renderChildFilter)),this.renderCombinatorActions())}renderEmptyState(){return r.a.createElement(D.a,null,r.a.createElement(Ye.a,null,r.a.createElement("div",{style:this.getEmptyTextWrapStyle()},r.a.createElement(g.FormattedMessage,{defaultMessage:"Use a filter to:",id:"database.filterMenu.emptyState1.v2",description:"Part 1 of Filter menu empty state message."}),r.a.createElement("br",null),r.a.createElement(g.FormattedMessage,{defaultMessage:"Show tasks assigned to me.",id:"database.filterMenu.emptyState2.v2",description:"Part 2 of Filter menu empty state message."}),r.a.createElement("br",null),r.a.createElement(g.FormattedMessage,{defaultMessage:"Show only notes with a certain tag.",id:"database.filterMenu.emptyState3.v2",description:"Part 3 of Filter menu empty state message."}),r.a.createElement("br",null),r.a.createElement(g.FormattedMessage,{defaultMessage:"Hide completed tasks.",id:"database.filterMenu.emptyState4.v2",description:"Part 4 of Filter menu empty state message."}))))}renderDesktopPropertyFilter(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(Be,{key:t,index:t,propertyFilter:e,schema:this.props.schema,filterOperator:this.renderCombinatorOperator(t),parentStore:this.props.parentStore,onChange:this.handleChildFilterChange,collectionViewType:this.props.collectionViewType,collectionViewId:this.props.collectionViewId}),this.renderRowActions(e,t))}renderMobilePropertyFilter(e,t){return r.a.createElement(r.a.Fragment,{key:t},this.renderCombinatorOperator(t),r.a.createElement(D.a,{title:r.a.createElement(g.FormattedMessage,{defaultMessage:"Filter {index}",id:"database.filterMenu.filterIndex",description:"Printed above each property filter with the number of the filter",values:{index:t+1}})},r.a.createElement(Be,{key:t,index:t,propertyFilter:e,schema:this.props.schema,filterOperator:null,parentStore:this.props.parentStore,onChange:this.handleChildFilterChange,collectionViewType:this.props.collectionViewType,collectionViewId:this.props.collectionViewId}),this.renderRowActions(e,t)))}renderDesktopCombinatorFilter(e,t){const n={gridColumn:"property-start / value-end",...this.getSubgridWrapperStyles()};return r.a.createElement(r.a.Fragment,{key:t},this.renderCombinatorOperator(t),r.a.createElement("div",{style:n},r.a.createElement(Ze,{index:t,level:this.props.level+1,combinatorFilter:e,onChange:this.handleChildFilterChange,parentStore:this.props.parentStore,schema:this.props.schema,collectionViewType:this.props.collectionViewType,collectionViewId:this.props.collectionViewId})),this.renderRowActions(e,t))}renderMobileCombinatorFilter(e,t){const n=(e.filters||[]).length,o=r.a.createElement(g.FormattedMessage,{defaultMessage:"Filter Group {index}",id:"database.filterMenu.filterGroupIndex",description:"Printed above each filter group with the number of the filter",values:{index:t+1}});return r.a.createElement(r.a.Fragment,{key:t},this.renderCombinatorOperator(t),r.a.createElement(D.a,{title:o},r.a.createElement(s.a,{buttonPopupStore:this.getButtonPopupStore(t),popupType:s.a.PopupType.SlideUp,renderOrigin:t=>r.a.createElement(h.a,Object.assign({focused:!1},t,{showExtensionArrow:!0,right:n.toString(),title:Object(d.h)({filter:e,schema:this.props.schema})})),render:n=>r.a.createElement(A.b,{menuType:A.b.MenuType.Modal,title:o,left:r.a.createElement(V.BackMenuText,null),onClickLeft:n.close},r.a.createElement(Ze,{index:t,level:this.props.level+1,combinatorFilter:e,onChange:this.handleChildFilterChange,parentStore:this.props.parentStore,schema:this.props.schema,collectionViewType:this.props.collectionViewType,collectionViewId:this.props.collectionViewId}))}),this.renderRowActions(e,t)))}renderCombinatorOperator(e){const t=this.props.combinatorFilter.operator,{device:n}=this.environment,o={justifySelf:"end"},a={...o,lineHeight:"32px",paddingRight:4};if(0===e){if(n.isMobile)return;return r.a.createElement(b.a,{style:a},r.a.createElement(g.FormattedMessage,{defaultMessage:"Where",id:"database.filterMenu.where",description:"Displayed before every filter group on the desktop"}))}if(1===e){const e=r.a.createElement(Ne,{disableMargins:!0,filterOperator:t,onChange:this.handleChangeFilterOperator});return this.environment.device.isMobile?r.a.createElement(D.a,null,e):r.a.createElement("div",{style:o},e)}if(!n.isMobile)return r.a.createElement(b.a,{style:a},Object(Le.a)(t))}renderRowActions(e,t){return this.environment.device.isMobile?this.renderRowActionMenuItems(e,t,void 0):r.a.createElement(s.a,{popupType:De.c.PopupType.Popup,renderOrigin:e=>r.a.createElement(M.b,{action:()=>e.onClick(),render:e=>r.a.createElement(K.a,Object.assign({},e,{hovered:e.focused,style:{width:"100%",height:32},icon:Z.a.dots}))}),render:n=>this.renderRowActionMenuItems(e,t,n)})}renderMenuIcon(e,t){return r.a.createElement(ze.a,{icon:e,styles:t})}renderRowActionMenuItems(e,t,n){const o=Object(i.n)(e),a=o?r.a.createElement(g.FormattedMessage,{defaultMessage:"Remove",id:"database.filterMenu.removeFilterGroupMenuTitle"}):r.a.createElement(g.FormattedMessage,{defaultMessage:"Remove",id:"database.filterMenu.removeFilterMenuTitle"}),s=o?r.a.createElement(g.FormattedMessage,{defaultMessage:"Duplicate",id:"database.filterMenu.duplicateFilterGroupMenuTitle"}):r.a.createElement(g.FormattedMessage,{defaultMessage:"Duplicate",id:"database.filterMenu.duplicateFilterMenuTitle"}),l=[{key:"delete",action:()=>{n&&n.close(),this.handleDeleteFilter(t)},render:e=>r.a.createElement(h.a,Object.assign({},e,{icon:this.renderMenuIcon(Z.a.trash),title:a}))},{key:"duplicate",action:()=>{n&&n.close(),this.handleDuplicateFilter(t)},render:e=>r.a.createElement(h.a,Object.assign({},e,{icon:this.renderMenuIcon(Z.a.duplicate),title:s}))}];if(Object(i.x)(e)&&this.allowNewCombinatorFilters()&&l.push({key:"turn_into_group",action:()=>{n&&n.close(),this.handleTurnIntoGroup(t,e)},render:e=>r.a.createElement(h.a,Object.assign({},e,{icon:this.renderMenuIcon(Z.a.loop),title:r.a.createElement(g.FormattedMessage,{defaultMessage:"Turn into group",id:"database.filterMenu.turnIntoGroupMenuTitle"})}))}),Object(i.n)(e)&&e.filters&&1===e.filters.length){const o=Object(i.n)(e.filters[0])?r.a.createElement(g.FormattedMessage,{defaultMessage:"Unwrap group",id:"database.filterMenu.unwrapGroupMenuTitle"}):r.a.createElement(g.FormattedMessage,{defaultMessage:"Turn into filter",id:"database.filterMenu.turnIntoFilterMenuTitle"});l.push({key:"turn_into_filter",action:()=>{n&&n.close(),this.handleTurnIntoFilter(t,e)},render:e=>r.a.createElement(h.a,Object.assign({},e,{icon:this.renderMenuIcon(Z.a.loop),title:o}))})}const c=Ke(e);return Object(i.n)(e)&&this.props.level+c+1<3&&l.push({key:"wrap_in_group",action:()=>{n&&n.close(),this.handleTurnIntoGroup(t,e)},render:e=>r.a.createElement(h.a,Object.assign({},e,{icon:this.renderMenuIcon(Z.a.loop),title:r.a.createElement(g.FormattedMessage,{defaultMessage:"Wrap in group",id:"database.filterMenu.wrapInGroupMenuTitle"}),caption:r.a.createElement(g.FormattedMessage,{defaultMessage:"Create a filter group around this",id:"database.filterMenu.wrapInGroupMenuCaption"})}))}),r.a.createElement(R.a,{initialFocus:this.environment.device.isMobile?void 0:0,type:R.a.Type.Vertical,sections:[{key:"actions",render:this.environment.device.isMobile?e=>r.a.createElement("div",Object.assign({},e)):e=>r.a.createElement(D.a,Object.assign({},e)),items:l}]})}handleDuplicateFilter(e){this.mutateFilters(t=>{const n=t[e];if(n){const o={...n};t.splice(e,0,o)}}),u.W(this.environment,{view_type:this.props.collectionViewType,action:"duplicate_filter"})}handleTurnIntoGroup(e,t){const n={operator:this.getOppositeOperator(),filters:[t]};this.handleChildFilterChange(e,n),this.openIndex(e),u.W(this.environment,{view_type:this.props.collectionViewType,action:"turn_into_filter_group"})}handleTurnIntoFilter(e,t){const n=je.a.first(t.filters||[]);n&&this.handleChildFilterChange(e,n),u.W(this.environment,{view_type:this.props.collectionViewType,action:"turn_into_filter"})}handleDeleteFilter(e){this.mutateFilters(t=>t.splice(e,1)),this.getButtonPopupStore(e).reset(),this.buttonPopupStores.splice(e,1)}openIndex(e){this.getButtonPopupStore(e).setState({open:!0})}getButtonPopupStore(e){for(;this.buttonPopupStores.length<e+1;){const e=new Re.a;this.buttonPopupStores.push(e)}return this.buttonPopupStores[e]}getOppositeOperator(){return"or"===this.props.combinatorFilter.operator?"and":"or"}allowNewCombinatorFilters(){return this.props.level<2}getDefaultNewPropertyFilter(){const e=(this.props.combinatorFilter.filters||[]).filter(i.x),t=e[e.length-1];return t?je.a.cloneDeep(t):{property:"title",filter:{operator:"string_contains",value:{type:"exact",value:void 0}}}}mutateFilters(e){const t=[...this.props.combinatorFilter.filters||[]],n=e(t),o={...this.props.combinatorFilter,filters:t};return this.props.onChange(this.props.index,o),n}shouldRenderEmptyState(){return Object(i.p)(this.props.combinatorFilter)&&0===this.props.level}getEmptyTextWrapStyle(){return{color:this.theme.lightTextColor,lineHeight:1.5,whiteSpace:"nowrap"}}getSubgridWrapperStyles(){return{background:this.theme.filterGroupBackground,borderRadius:3,boxShadow:"0 0 0 1px ".concat(this.theme.filterGroupBorder),margin:1,alignSelf:"stretch"}}getGridStyles(){return Ze.style}}function Ke(e){if(Object(i.n)(e)){const t=(e.filters||[]).filter(i.n);return 1+(je.a.max(t.map(Ke))||0)}return 0}Ze.style={display:"grid",gridTemplateColumns:"\n\t\t\t[boolean-start] ".concat(He,"px\n\t\t\t[boolean-end property-start] ").concat(qe,"px\n\t\t\t[property-end opererator-start] ").concat(We,"px\n\t\t\t[operator-end value-start] auto\n\t\t\t[value-end menu-start] ").concat(ke.c,"px\n\t\t\t[menu-end]\n\t\t"),gridAutoRows:"minmax(".concat(ke.c,"px, auto)"),gridColumnGap:ke.a,gridRowGap:ke.b,padding:"".concat(ke.b,"px ").concat(ke.a,"px 0 ").concat(ke.a,"px"),justifyItems:"stretch",alignItems:"start"}},WLsh:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));n("3bBZ"),n("SYor");var o=n("H/qo"),r=n.n(o),a=n("LvDl"),i=n.n(a);function s(e){if(e){const[t,n]=e.split("@",2);if(t&&n)return"".concat(t.trim().toLowerCase(),"@").concat(n.trim().toLowerCase())}}function l(e){return Boolean(e&&r.a.validate(e))}const c=/[a-z0-9.!#$%&'*+/=?^_`{|}~\-]+@[a-z0-9._+\-]+\.[a-z0-9._+\-]+/gi;function d(e){const t=function(e){const t=e.match(c)||[];return i.a.uniq(i.a.compact(t.map(e=>s(e))))}(e);return t.length>1||1===t.length&&s(t[0])!==s(e)?{extractedEmails:t,newInputValue:""}:{extractedEmails:[],newInputValue:e}}},WM0W:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("XBB3"),s=n("zK7c"),l=n("8fuX"),c=n("ikHm"),d=n("VyA+"),u=n("wPEN"),p=n("TDb4"),h=n("CIk0"),m=n("TmDR"),f=n("i8i4"),g=n.n(f),b=n("wpmu"),v=n("d9nj"),y=n("Oy36"),S=n("OxuQ"),w=n("mF3+"),k=n("G414"),C=n("G4cA"),M=n("HSWF"),E=n("LeVO"),_=n("QcDD"),T=n("Sb6f"),x=n("J9+s"),I=n("58VE"),P=n("HTHG"),O=n("qX+M");class B extends a.a{constructor(){super(...arguments),this.buttonEl=null,this.handleButtonMount=e=>{this.buttonEl=e},this.handleOpenPopup=e=>{if(e.preventDefault(),this.buttonEl){const e=g.a.findDOMNode(this.buttonEl);e&&k.d({blocks:[this.props.store],originRect:e.getBoundingClientRect(),analyticsFrom:"quick_add",onAccept:this.handleMoveToAccept,isAddTo:!0})}},this.handleMoveToAccept=e=>{const{currentSpaceStore:t}=_.default.state;t&&this.props.saveParent&&M.A({currentUserId:this.environment.currentUser.id,spaceId:t.id,value:e})}}renderComponent(){const{store:e}=this.props,t=e.getParentStore(),{currentSpaceStore:n}=_.default.state,o=t instanceof C.a&&n&&t.id===n.id;if(t){const e=t instanceof C.a?Object(O.getSpaceIcon)(this.environment,t):t.getIcon();return r.a.createElement(d.a,{capture:!0,onMoveTo:this.handleOpenPopup},r.a.createElement("div",{style:B.wrapStyle},this.renderSeparator(),r.a.createElement(E.a,{renderTooltip:()=>r.a.createElement("div",null,r.a.createElement(x.FormattedMessage,{defaultMessage:"Set the default page or database",id:"peekMoveToMenu.tooptip"}),r.a.createElement("br",null),r.a.createElement(p.a,{style:{color:this.theme.mediumInvertedTextColor},name:"moveTo"})),render:n=>r.a.createElement(v.a,Object.assign({onClick:this.handleOpenPopup,ref:this.handleButtonMount,shouldShrink:!0},n),o?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{color:this.theme.mediumTextColor,marginRight:8}},r.a.createElement(x.FormattedMessage,{defaultMessage:"Add to",id:"peekMoveToMenu.addTo.addTo"})),r.a.createElement(I.a,{size:22,avatarShouldShowShadow:!0,userValue:Object(P.g)(this.environment)}),r.a.createElement("span",{style:{fontWeight:T.a.fontWeight.medium,marginLeft:4,...T.a.textOverflowStyle,overflow:"hidden"}},r.a.createElement(x.FormattedMessage,{defaultMessage:"Private pages",id:"peekMoveToMenu.addTo.privatePages"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{color:this.theme.mediumTextColor,marginRight:6}},r.a.createElement(x.FormattedMessage,{defaultMessage:"Add to",id:"peekMoveToMenu.addTo.defaultButton"})),r.a.createElement(y.a,{disabled:!0,icon:e,isEmptyPage:t instanceof b.a&&t.isEmptyPage(),title:t instanceof C.a?Object(O.getSpaceName)(this.environment,t):void 0,size:18,style:{marginRight:4,marginTop:1}}),r.a.createElement(S.a,{style:{fontWeight:T.a.fontWeight.semibold},store:t})),w.a.chevronDown({width:10,marginLeft:4,fill:this.theme.lightTextColor}))})))}}renderSeparator(){return r.a.createElement("div",{style:{flex:"none",height:18,width:1,marginLeft:6,marginRight:6,background:this.theme.darkDividerColor}})}}B.wrapStyle={display:"flex",alignItems:"center",fontSize:14,minWidth:0,marginRight:14};var L=B,R=n("JBsN"),D=n("wZk+"),A=n("2WqK"),j=n("KYd6"),F=n("QhBr"),V=n("szb2"),N=n("LUuO"),U=n("prF1"),z=n("/YYm"),X=n("pl8j"),Y=n("TAMl"),H=n("ZbKq"),q=n("AXh+"),W=n("y6Dp"),G=n("2ZkR"),Z=n("bLTx");class K extends a.a{renderComponent(){const{store:e}=this.props;return r.a.createElement(s.a,{store:e,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:t=>r.a.createElement("div",Object.assign({},t),r.a.createElement("div",{style:this.getStyle()},"on"===G.default.getGroup(this.environment,"marowak")&&this.renderPeekClose(),this.renderOpenAsPageButton(),"on"===G.default.getGroup(this.environment,"marowak")&&this.renderPeekModeChange(),this.renderMoveToMenu(),r.a.createElement(m.a,{store:e,isMobile:!1}),r.a.createElement("div",{style:{flexGrow:1,flexShrink:1}}),this.renderActionButtons()),r.a.createElement(N.a,{banners:F.a.state.banners,isMobile:!1}))})}renderPeekClose(){if(V.c.state.mode===V.a)return r.a.createElement(v.a,{isGray:!0,icon:w.a.closeThick,onClick:()=>V.c.setState({...V.c.state,open:!1})},r.a.createElement(x.FormattedMessage,{defaultMessage:"Close",id:"peekTopbar.close.button"}))}renderPeekModeChange(){return V.c.state.mode===V.b?r.a.createElement(v.a,{isGray:!0,icon:w.a.arrowRight,onClick:()=>V.c.setState({...V.c.state,mode:V.a})},r.a.createElement(x.FormattedMessage,{defaultMessage:"Push to side",id:"peekTopbar.pushToSide.button"})):r.a.createElement(v.a,{isGray:!0,icon:w.a.arrowLeft,onClick:()=>{V.c.setState({...V.c.state,mode:V.b})}},r.a.createElement(x.FormattedMessage,{defaultMessage:"Center",id:"peekTopbar.center.button"}))}renderOpenAsPageButton(){const{store:e,shouldShowMoveToMenu:t}=this.props,n=Object(z.a)({store:e,fullyQualified:!1});return r.a.createElement(E.a,{renderTooltip:()=>r.a.createElement("div",null,r.a.createElement(x.FormattedMessage,{defaultMessage:"Navigate to this page",id:"peekTopbar.navigateToPage.tooltip"}),r.a.createElement("br",null),r.a.createElement(p.a,{style:{color:this.theme.mediumInvertedTextColor},name:"commandEnter"})),render:e=>r.a.createElement(U.a,Object.assign({href:n,style:{marginRight:t?0:8},onClick:()=>{W.fd(this.environment,{isNewPage:t})}},e),r.a.createElement(v.a,{isGray:!0,icon:w.a.openAsPageThick},r.a.createElement(x.FormattedMessage,{defaultMessage:"Open as page",id:"peekTopbar.openAsPage.button"})))})}renderMoveToMenu(){const e=V.c.state;if(e.open&&this.props.shouldShowMoveToMenu)return r.a.createElement(L,{store:this.props.store,saveParent:e.saveParent})}renderActionButtons(){const{device:e}=this.environment,{store:t,spaceStore:n,spaceViewStore:o}=this.props,a=Object(q.g)(this.environment,t);return r.a.createElement("div",{style:this.getActionButtonsWrapStyle()},t.isRestricted()&&r.a.createElement(Z.a,{style:{marginRight:14},onClick:()=>{Y.a.setState({open:!0})}}),t.canEdit()&&r.a.createElement(R.a,{rootStore:t,pageVisitStore:this.props.pageVisitStore,presenceStore:this.props.presenceStore}),n&&o&&!a&&r.a.createElement(A.a,{store:t,buttonPopupStore:Y.a}),!e.isMobile&&n&&o&&!a&&r.a.createElement(j.a,{blockStore:t,spaceStore:n,buttonPopupStore:H.a}),n&&o&&!a&&r.a.createElement(h.a,{store:t,spaceViewStore:o}),!e.isMobile&&n&&o&&!a&&r.a.createElement(D.a,{store:t,buttonPopupStore:X.a}))}getStyle(){const{device:e}=this.environment,t=e.isMobile?4:12;return{height:K.height,display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:t,paddingRight:t}}getActionButtonsWrapStyle(){return{display:"flex",alignItems:"stretch",flexGrow:0,flexShrink:0,background:this.theme.contentBackground,zIndex:1}}}K.height=45;var J=K,Q=n("H4VD"),$=n("sV9r"),ee=n("wlCD"),te=n("ttM1"),ne=n("fHgN"),oe=n("X6Ne"),re=n("jZoB"),ae=n("MBf9"),ie=n("/0g+"),se=n("sjR4"),le=n("DNgp"),ce=n("0Osm"),de=n("ov3o"),ue=n("7M94"),pe=n("mxzd"),he=n("6f7s"),me=n("1k9p"),fe=n("yioD");class ge extends a.a{constructor(){super(...arguments),this.appRenderState=this.createComputedStore(()=>Object(P.a)(this.environment)),this.pageContextStore=this.createComputedStore(()=>{const e=V.c.state;if(!e.open)return;const{currentSpaceStore:t,currentSpaceViewStore:n}=_.default.state;return{pageStore:e.target,spaceStore:t,spaceViewStore:n,presenceStore:e.presenceStore,pageVisitStore:e.pageVisitStore,publicEditModeStore:this.publicEditModeStore}}),this.publicEditModeStore=this.createComputedStore(()=>{const e=V.c.state;if(e.open)return fe.a.getMode(this.environment,e.target)}),this.renderPeekContentContainer=()=>{const{currentSpaceStore:e,currentSpaceViewStore:t}=_.default.state,n=V.c.state;if(!n.open)return;const{target:a,pageVisitStore:i,presenceStore:c}=n;return r.a.createElement(me.a,{value:this.pageContextStore.state},r.a.createElement("div",{style:this.getContainerStyle(),className:ue.pb},this.getMode()===V.b&&r.a.createElement("div",{style:{width:"100%",height:"100%"},onClick:this.handleCaptureClick}),r.a.createElement("div",{style:this.getStyle()},r.a.createElement(J,{store:a,spaceStore:e,spaceViewStore:t,pageVisitStore:i,presenceStore:c,shouldShowMoveToMenu:n.showMoveTo}),r.a.createElement(s.a,{store:a,key:a.id,isDefaultContainer:!0,render:e=>r.a.createElement(u.a,{pageStore:a,pageVisitStore:i,initialChunkSize:25,incrementChunkSize:25,store:n.loadingContainerStore,render:({error:t,ready:s,initialRequestCompleted:d,endOfResultsReached:u})=>r.a.createElement(o.Fragment,null,r.a.createElement(l.b,Object.assign({disableScroll:!s||oe.e(this.environment),type:l.a.Y,style:{display:"flex",flexDirection:"column",flexGrow:1,position:"relative",transform:"translateZ(0)",...s?{}:ge.hiddenStyle},store:ce.a},e),d&&this.renderContent(t,a,i,c,n.loadingContainerStore),s&&!u&&r.a.createElement(ee.a,{style:this.getSpinnerStyle()})),r.a.createElement(te.a,{show:!s,showDelay:100,showHold:0,render:this.renderPageSpinner}))})}))))},this.renderPeekContainer=()=>{const e=V.c.state;if(e.open&&this.appRenderState.state.shouldShowFrame){const{target:t}=e;switch(this.getMode()){case V.a:case V.b:return r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{isRoot:!1,capture:e.open}),r.a.createElement(d.a,{key:t.id,capture:this.shouldCaptureEsc.state,onEsc:this.handleEsc},this.renderPeekContentContainer()))}}},this.renderPageSpinner=e=>{if(!e)return;return r.a.createElement("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},key:"spinner"},r.a.createElement(ee.a,{style:{opacity:.5,width:ge.spinnerSize,height:ge.spinnerSize}}))},this.handleCaptureClick=()=>{this.close()},this.handleEsc=()=>{this.close()},this.shouldCaptureEsc=this.createComputedStore(()=>0===se.default.state.stores.length&&"editing"!==le.default.state.mode&&!de.a.state.isOpen)}renderComponent(){const e=V.c.state;switch(this.getMode()){case V.a:return this.renderPeekContainer();case V.b:return r.a.createElement(ne.a,{open:e.open,render:this.renderPeekContainer})}}renderContent(e,t,n,a,s){const l=this.getMode()===V.b?ge.paddingHorizontalModal:ge.paddingHorizontalDetail;return r.a.createElement(o.Fragment,null,r.a.createElement(i.b,{context:i.a.PeekView,loadingContainerStore:s,store:t,onTitleEsc:this.handleEsc,forceSelectTitleOnMount:!0,paddingLeft:l,paddingRight:l,paddingBottom:80,pageCoverHeight:"20vh",disabled:!1}),r.a.createElement($.a,{pageVisitStore:n,presenceStore:a}))}getMode(){return ge.getMode(this.environment)}static getMode(e){return"control"===G.default.getGroup(e,"marowak")?V.b:V.c.state.mode}close(){const e=V.c.state;if(!e.open)return;const{target:t,savedSelectionStoreState:n,savedTableSelectionStoreState:o}=e;ae.createAndCommit(this.environment,n=>{const o=t.getContentStores(),r=o[0];1===o.length&&r&&r.isEmptyEditableBlock()&&re.e({parent:t.getContentStore(),remove:r,transaction:n}),e.showMoveTo&&e.target.isEmptyTitle()&&e.target.isEmptyPage()&&ie.b({environment:this.environment,blocks:[e.target],transaction:n})}),Q.resetPeekState(this.environment),Q.resetSidebarState(this.environment),Q.resetEditorState(this.environment),se.default.setState({...se.default.state,...n}),o.isActive&&pe.a.setState(o);const{currentBlockStore:r}=_.default.state,{RouterStore:a}=this.environment,i=a.state.route;if(r&&"page"===i.name){const e=Object(z.a)({store:r,fullyQualified:!1,scrollToBlockId:i.scrollToBlockId,collectionViewId:i.collectionViewId,discussionId:i.discussionId,showMoveTo:i.showMoveTo,saveParent:i.saveParent});Q.navigate({environment:this.environment,url:e})}}getContainerStyle(){return{position:"fixed",top:0,right:0,bottom:0,...this.getMode()===V.b?{left:0}:{},...this.getMode()===V.b?{background:this.theme.overlaySmokescreen}:{},zIndex:c.n}}getStyle(){const e=this.getMode(),t=e===V.b?{top:ge.outerPadding,left:ge.outerPadding,right:ge.outerPadding,marginRight:"auto",height:"calc(100% - ".concat(ge.outerPadding,"px*2)")}:{top:0,right:0,width:700,height:"100%"};return{display:"flex",flexDirection:"column",position:"absolute",marginLeft:"auto",maxWidth:e===V.b?ge.width+this.environment.device.scrollbarWidth:700,borderRadius:3,background:this.theme.contentBackground,boxShadow:this.theme.largeBoxShadow,...t}}getSpinnerStyle(){return{zIndex:1,opacity:.5,width:ge.spinnerSize,height:ge.spinnerSize,marginTop:0,marginBottom:24,marginLeft:"auto",marginRight:"auto"}}}ge.paddingHorizontalModal=126,ge.paddingHorizontalDetail=50,ge.width=708+2*ge.paddingHorizontalModal,ge.spinnerSize="1.375em",ge.outerPadding=72,ge.hiddenStyle={opacity:0,pointerEvents:"none",height:0};t.a=ge},WPWl:function(e,t,n){"use strict";const o={unit:8,borderRadius:3,card:{desktop:{small:{width:180,height:100},medium:{width:260,height:148},large:{width:320,height:180}},mobile:{width:"100%"}},vertical:{micro:2,tiny:4,small:8,medium:12,large:24},horizontal:{micro:2,tiny:4,small:8,medium:12,large:24}};t.a=o},"WZ/V":function(e,t,n){},Wae9:function(e,t,n){"use strict";n("3bBZ");var o=n("LEzx"),r=n("QcDD");class a extends o.a{getInitialState(){return{results:[]}}getUnreadCountForCurrentSpace(){const{currentSpaceStore:e}=r.default.state,{results:t}=this.state;if(e){const n=t.find(t=>t.spaceId===e.id);if(n)return n.unread}return{mentions:0,following:0}}getUnreadMentionsCountForOtherSpaces(){const{currentSpaceStore:e}=r.default.state,t=e&&e.id,{results:n}=this.state;let o=0;for(const r of n)r.spaceId!==t&&(o+=r.unread.mentions);return o}getTotalUnreadMentionsCount(){const{results:e}=this.state;let t=0;for(const n of e)t+=n.unread.mentions;return t}}t.a=new a},WaiN:function(e,t,n){"use strict";var o=n("LEzx"),r=n("CSYU");class a extends o.a{getInitialState(){return{open:!1,userRequestStore:new r.a,botRequestStore:new r.a,pageRequestStore:new r.a,mentionTypes:{page:!1,createPage:!1,user:!1,bot:!1,date:!1,reminder:!1}}}}t.a=new a},Wbh4:function(e,t,n){},Wfos:function(e,t,n){"use strict";n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return B}));var o=n("LvDl"),r=n.n(o),a=n("udrG"),i=n("79T+"),s=n("wpmu"),l=n("N34Z"),c=n("MBf9"),d=n("sPNb"),u=n("5w/s"),p=n("cBa6"),h=n("RI9y"),m=n("HRSx"),f=n("q2qQ"),g=n("Ajfl"),b=n("y6Dp"),v=n("oFLp"),y=n("A9TN"),S=n("f6Xh"),w=n("sjR4"),k=n("3k5a"),C=n("w5u6"),M=n("7IvN"),E=n("WaiN"),_=n("GKeo"),T=n("tP7q"),x=n("onX9"),I=n("BrOh");function P(e){const{environment:t,textStore:n,url:o,oldTextValue:r,urlSelection:a}=e;if(_.a.state.open||x.a.state.open||E.a.state.open||M.a.state.open)return;const i=h.get();if(!i)return;const s=h.getRect(i);s&&(M.a.setState({open:!0,textStore:n,url:o,oldTextValue:r,urlSelection:a,selectionRect:s}),b.Sc(t,{url:o}))}async function O(e){const{environment:t}=e,n=M.a.state;if(n.open){const{url:o,textStore:h,oldTextValue:b}=n,M=w.default.state.stores,E=M[0];if(!E)return;const _=Object(T.l)({url:o,baseUrl:y.default.baseURL,isMobile:t.device.isMobile,protocol:y.default.protocol,currentUrl:window.location.href});if("page"===_.name){const o=c.create(t);let r;if(g.s({environment:t,store:h,value:b,transaction:o}),_.peekViewBlockId){const e=s.a.createChildStore(h,{table:m.a,id:_.peekViewBlockId});await e.load(),e.isPageBlock()&&(r=e)}if(r||(r=s.a.createChildStore(h,{table:m.a,id:_.blockId})),r){if("mention-page"===e.blockType)g.m({environment:t,store:h,selection:{startIndex:n.urlSelection.startIndex,endIndex:n.urlSelection.startIndex},annotation:p.i(r.id),transaction:o,analyticsFrom:"block"});else if(r.isCollectionView()){await r.load();const e=r.getCollectionViewCollectionStore();e&&(await e.load(),v.b({environment:t,store:E,collectionStore:e,transaction:o}))}else if(Object(I.a)()){const e=E.recordStoreParent();if(e){const n=Object(I.b)({environment:t,parentStore:e,targetStore:r,transaction:o});f.k({environment:t,blocks:[n],selection:M,transaction:o})}}else{const e=s.a.createChildStore(E,{table:m.a,id:r.id});f.k({environment:t,blocks:[e],selection:M,transaction:o})}C.default.afterNextFlush(()=>{c.createAndCommit(t,e=>{f.p({blocks:M,transaction:e})})})}c.commit({environment:t,transaction:o})}else if(e.blockType===a.a.bookmark){const e=c.create(t);g.s({environment:t,store:h,value:b,transaction:e});const n=l.a({environment:t,type:a.a.bookmark,inMemoryRecordCache:E.inMemoryRecordCache,transaction:e}),r=f.k({environment:t,blocks:[n],selection:M,transaction:e});u.h({stores:[n],transaction:e,update:{bookmark_loading_ttl:Date.now()}}),c.commit({environment:t,transaction:e}),C.default.afterNextFlush(()=>{c.createAndCommit(t,e=>{f.p({blocks:M,transaction:e})})});const i=r[0];await S.a({environment:t,store:i,url:o})}else if(e.blockType===a.a.drive){const e=c.create(t);g.s({environment:t,store:h,value:b,transaction:e});const n=l.a({environment:t,type:a.a.drive,inMemoryRecordCache:E.inMemoryRecordCache,transaction:e}),r=f.k({environment:t,blocks:[n],selection:M,transaction:e});c.commit({environment:t,transaction:e}),C.default.afterNextFlush(()=>{c.createAndCommit(t,e=>{f.p({blocks:M,transaction:e})})});const i=r[0];C.default.afterNextFlush(()=>{const e=k.a.getComponents().find(e=>e.props.store===i);e&&e.initializeGoogleDriveBlockFromUrl(o)})}else{const n=c.create(t);g.s({environment:t,store:h,value:b,transaction:n});const s=l.a({environment:t,type:a.a.copyIndicator,inMemoryRecordCache:E.inMemoryRecordCache,transaction:n}),u=f.k({environment:t,blocks:[s],selection:M,transaction:n});c.commit({environment:t,transaction:n}),C.default.afterNextFlush(()=>{c.createAndCommit(t,e=>{f.p({blocks:M,transaction:e})})});const p=u[0],m=n=>{const i=c.create(t);let s;e.blockType&&"mention-page"!==e.blockType?s=e.blockType:(s=a.a.embed,n&&n.media&&("photo"===n.media.type?s=a.a.image:"video"===n.media.type&&(s=a.a.video))),d.a({environment:e.environment,block:p,blockType:s,transaction:i}),C.default.afterNextFlush(()=>{const e=k.a.getComponents().find(e=>e.props.store===p&&r.a.isFunction(e.embed));e&&e.embed(o)}),c.commit({environment:t,transaction:i})};i.a(t,o).then(m)}}B()}const B=function(){M.a.setState({open:!1})}},WgIs:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("i8i4"),l=n.n(s),c=n("lBar"),d=n("wldR"),u=n("VyA+"),p=n("RQ1t");n("E9XD");function h(e,t){let n=0;for(let o=0;o<t.length;o+=1){const r=t[o];if(e>n+r.items.length-1){n+=r.items.length;continue}const a=e-n,i=r.items[a];if(!i)return;return{item:i,index:{section:o,indexLocal:a}}}}function m(e,t){const n=t[e.section];if(!n)return;const o=n.items[e.indexLocal];return o||void 0}function f(e,t){return i.a.sum(t.slice(0,e.section).map(e=>e.items.length))+e.indexLocal}function g(e){return e.reduce((e,t)=>e+t.items.length,0)}var b=n("qHvo"),v=n("0zNc"),y=n("iICV");function S(e){const{store:t,itemsPerRow:n,sections:o,disableKeyboardArrowWrap:r}=e,{focus:a}=t.state;if(void 0===a.indexLocal)return M({store:t,sections:o,indexGlobal:0});const i=a.indexLocal+n,s=o[a.section],l=s.items.length-1;if(i<=l)return M({store:t,sections:o,indexLocal:{section:a.section,indexLocal:i}});const c=function(e){const{indexLocal:t,section:n,itemsPerRow:o}=e,r=C({indexLocal:t,section:n,itemsPerRow:o});if(!r)return;const a=k({section:n,itemsPerRow:o});if(!a)return;return r.rowsBefore===a.rowsBefore}({indexLocal:a.indexLocal,section:s,itemsPerRow:n});if(void 0===c)return;if(!1===c)return M({store:t,sections:o,indexLocal:{section:a.section,indexLocal:l}});const d=function(e){const{currentSection:t,sections:n,disableWrap:o}=e;if(0===n.length)return;if(t&&t>=n.length&&o)return;const r=void 0===t?0:(t+1)%n.length,a=n[r];if(!a)return;return{index:r,section:a}}({currentSection:a.section,sections:o,disableWrap:r});if(!d)return;const u=a.indexLocal%n;return d.section.items.length<=u?M({store:t,sections:o,indexLocal:{section:d.index,indexLocal:0}}):M({store:t,sections:o,indexLocal:{section:d.index,indexLocal:u}})}function w(e){const{store:t,itemsPerRow:n,sections:o,disableKeyboardArrowWrap:r}=e,{focus:a}=t.state;if(void 0===a.indexLocal){return M({store:t,indexGlobal:g(o)-1,sections:o})}const i=a.indexLocal-n;if(i>=0)return M({store:t,sections:o,indexLocal:{section:a.section,indexLocal:i}});const s=function(e){const{currentSection:t,sections:n,disableWrap:o}=e;if(0===n.length)return;if(0===t||void 0===t){if(o)return;const e=n.length-1,t=n[e];if(!t)return;return{index:e,section:t}}const r=n[t-1];if(!r)return;return{index:t-1,section:r}}({currentSection:a.section,sections:o,disableWrap:r});if(!s)return;const l=k({section:s.section,itemsPerRow:n});if(!l)return;const c=a.indexLocal%n;if(l.column<c)return M({store:t,sections:o,indexLocal:{section:s.index,indexLocal:l.indexLocal}});{const e=l.rowsBefore*n+c;return M({store:t,sections:o,indexLocal:{section:s.index,indexLocal:e}})}}function k(e){const{section:t,itemsPerRow:n}=e;if(0===t.items.length)return;if(0===n)return;const o=t.items.length-1,r=C({indexLocal:o,section:t,itemsPerRow:n});return r?{indexLocal:o,...r}:void 0}function C(e){const{indexLocal:t,section:n,itemsPerRow:o}=e;if(!(o<=0||t>=n.items.length))return{rowsBefore:Math.trunc(t/o),column:t%o}}function M(e){const{store:t,sections:n}=e;if(e.indexLocal){const o=f(e.indexLocal,n),r=m(e.indexLocal,n);if(!r)return;t.setState({...t.state,focus:{...e.indexLocal,indexGlobal:o,focusedKey:r.key}})}else if(void 0===e.indexGlobal)t.unsetFocus();else{const o=h(e.indexGlobal,n);if(!o)return;t.setState({...t.state,focus:{...o.index,indexGlobal:e.indexGlobal,focusedKey:o.item.key}})}}var E,_=n("VhAz");!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e[e.Grid=2]="Grid"}(E||(E={}));class T extends d.a{constructor(){super(...arguments),this.storeTypes={store:p.a},this.hovering=!1,this.itemRefs={},this.renderSection=(e,t)=>{const{store:n}=this.stores,{focus:o}=n.state,r=e.items.length-1,a=o.section===t?o.indexLocal:void 0,s=e.items.map((e,n)=>{const o={section:t,indexLocal:n},i=n===a,s=n+1===a,l=n===r;return e.render({focused:i,isBeforeFocused:s,isLastInSection:l,key:e.key,ref:e=>this.handleItemRef(e,o),onClick:e=>this.handleClick(e,o),onMouseEnter:()=>this.handleMouseEnter(o)},{onAccept:this.props.onAccept,onFocus:()=>this.handleFocus(o)})});let l;if(this.props.type===E.Grid){const{itemsPerRow:e,renderRow:t}=this.props;l=i.a.chunk(s,e).map(t)}else l=s;return e.render({key:e.key,index:t,children:l,focusedIndex:a})},this.handleRef=e=>{this.scroller=Object(c.f)(e),this.scroller&&this.scroller.addEventListener("scroll",this.handleScroll)},this.forcedScroll=!1,this.handleScroll=()=>{this.forcedScroll?this.forcedScroll=!1:this.props.unfocusOnScroll&&this.stores.store.setState({focus:{section:void 0,indexLocal:void 0,indexGlobal:void 0}})},this.handleItemRef=(e,t)=>{if(e){const n=this.itemRefs[t.section]||{};n[t.indexLocal]=e,this.itemRefs[t.section]=n}},this.handleClick=(e,t)=>{const{sections:n}=this.props,o=f(t,n),r=m(t,this.props.sections);r&&this.handleAccept(r,{event:e,index:o},!1)},this.handleMouseEnter=e=>{const{store:t}=this.stores,{sections:n}=this.props;y.a.state.isKeyboardMode||v.a.state.isDragging||b.b.state.isDragging||(this.hovering=!0,M({store:t,sections:n,indexLocal:e}))},this.handleArrowPrevious=e=>{const{sections:t}=this.props,{store:n}=this.stores;if("altKey"in e&&e.altKey||"shiftKey"in e&&e.shiftKey)return;const o=g(t);if(0===o)return;e.preventDefault&&e.preventDefault(),this.hovering=!1;const r=n.state.focus.indexGlobal;0===r||void 0===r?this.props.disableKeyboardArrowWrap||this.setFocus(o-1):this.setFocus(r-1)},this.handleArrowNext=e=>{const{sections:t}=this.props,{store:n}=this.stores;if("altKey"in e&&e.altKey||"shiftKey"in e&&e.shiftKey)return;const o=g(t);if(0===o)return;e.preventDefault&&e.preventDefault(),this.hovering=!1;const r=n.state.focus.indexGlobal;void 0===r?this.setFocus(0):(r+1<o||!this.props.disableKeyboardArrowWrap)&&this.setFocus((r+1)%o)},this.handleArrowAbove=e=>{const{sections:t,disableKeyboardArrowWrap:n}=this.props,{store:o}=this.stores;this.props.type===E.Grid&&0!==g(this.props.sections)&&(e.preventDefault&&e.preventDefault(),this.hovering=!1,w({store:o,itemsPerRow:this.props.itemsPerRow,sections:t,disableKeyboardArrowWrap:Boolean(n)}))},this.handleArrowBelow=e=>{const{sections:t,disableKeyboardArrowWrap:n}=this.props,{store:o}=this.stores;this.props.type===E.Grid&&0!==g(this.props.sections)&&(e.preventDefault&&e.preventDefault(),this.hovering=!1,S({store:o,itemsPerRow:this.props.itemsPerRow,sections:t,disableKeyboardArrowWrap:Boolean(n)}))},this.handleEnter=e=>{const{device:t}=this.environment;if(t.isPhone)return;e.preventDefault();const n=this.stores.store.state.focus.indexGlobal;if(void 0===n)this.props.onEmptyEnter&&this.props.onEmptyEnter();else{const t=h(n,this.props.sections);t&&this.handleAccept(t.item,{index:n,event:e},!0)}},this.handleAccept=(e,t,n)=>{this.props.onAccept&&this.props.onAccept(e,t,n),e.action(t)},this.handleFocus=e=>{const{store:t}=this.stores,{sections:n}=this.props;window.clearTimeout(this.mouseLeaveTimer),M({store:t,sections:n,indexLocal:e})},this.handleMouseLeave=e=>{v.a.state.isDragging||this.props.disableMouseLeaveBlur||(window.clearTimeout(this.mouseLeaveTimer),this.mouseLeaveTimer=window.setTimeout(()=>{this.setFocus(void 0)},100))}}willMount(){this.setFocus(this.props.initialFocus,this.props.sections)}didMount(){this.hovering||this.props.disableInitialScroll||this.scrollFocusedElIntoView()}willUnmount(){this.scroller&&this.scroller.removeEventListener("scroll",this.handleScroll)}didUpdate(){this.hovering||this.scrollFocusedElIntoView()}willUpdate(e){if(this.props.initialFocus!==e.initialFocus)return void this.setFocus(e.initialFocus,e.sections);const{state:t}=this.stores.store,{indexGlobal:n,focusedKey:o}=t.focus;if(void 0!==n){const t=h(n,e.sections);t&&t.item.key!==o&&this.stores.store.setState({focus:{...t.index,indexGlobal:n,focusedKey:t.item.key}})}}renderComponent(){const{disableKeyboard:e,disableCommandEnter:t,sections:n}=this.props;return r.a.createElement(u.a,Object.assign({capture:!e},this.getKeyHandlers(),{onEnter:this.handleEnter,onCommandEnter:t?void 0:this.handleEnter,onCommandShiftEnter:i.a.identity,onCommandSlash:i.a.identity}),r.a.createElement("div",{ref:this.handleRef,onMouseLeave:this.handleMouseLeave},n.map(this.renderSection)))}setFocus(e,t){const{store:n}=this.stores;M({store:n,sections:t||this.props.sections,indexGlobal:e})}getKeyHandlers(){return this.props.type===E.Vertical?{onUp:this.handleArrowPrevious,onDown:this.handleArrowNext}:this.props.type===E.Horizontal?{onLeft:this.handleArrowPrevious,onRight:this.handleArrowNext}:this.props.type===E.Grid?{onLeft:this.handleArrowPrevious,onRight:this.handleArrowNext,onUp:this.handleArrowAbove,onDown:this.handleArrowBelow}:void Object(_.e)(this.props)}scrollFocusedElIntoView(){const{store:e}=this.stores,{focus:t}=e.state;if(void 0===t.indexLocal)return;const n=this.itemRefs[t.section];if(!n)return;const o=n[t.indexLocal];if(!o)return;const r=l.a.findDOMNode(o);this.forcedScroll=!0,Object(c.g)(r)}}T.Type=E;t.a=T},Wnyi:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var o=n("A9TN"),r=n("Fv2F");function a(e){const{device:t}=e;if(t.isReactNative){return{redirectToAuth:!1,callbackType:"native"}}if(t.isElectron){return{redirectToAuth:!1,callbackType:"nativeredirect"}}return{redirectToAuth:!0,callbackType:"redirect"}}function i(e){const{device:t}=e;if(t.isReactNative){return{redirectToAuth:!1,callbackType:"native"}}if(t.isElectron){return{redirectToAuth:!1,callbackType:"nativeredirect"}}if(t.isMobileBrowser){return{redirectToAuth:!0,callbackType:"redirect"}}return{redirectToAuth:!0,callbackType:"popup"}}async function s(e,t){if(e.device.isHttpApp){const e=await fetch(t);return(await e.json()).url}{const e=await fetch(r.c({httpUrl:t,protocol:o.default.protocol}));return(await e.json()).url}}},Wvka:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("SYor"),n("UxlC");var o=n("cBa6"),r=n("g90h"),a=n("VpIZ"),i=n("S26v");function s(e){const{pageId:t,pageValue:n,spaceDomain:s,scrollToBlockId:l,peekViewBlockId:c,collectionViewId:d,baseUrl:u,discussionId:p,showMoveTo:h,saveParent:m}=e;let f="";n&&a.G(n)&&n.properties&&(f=o.cb(n.properties.title||[]).replace(/[^\w]/g," ").trim().slice(0,100).split(/\s+/g).join("-"));let g="/";s&&(g+="".concat(s,"/")),t&&(g+=f?"".concat(f,"-").concat(r.k(t)):"".concat(r.k(t))),u&&(g="".concat(u).concat(g));const b={};return d&&(b.v=r.k(d)),c&&(b.p=r.k(c)),p&&(b.d=p),h&&(b.showMoveTo="true"),m&&(b.saveParent="true"),i.d({url:g,query:b,hash:l&&r.k(l)})}},WxaJ:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("Pl3d"),s=n("bkwR"),l=n("622O"),c=n("A9TN"),d=n("dlZW");class u extends a.a{constructor(){super(...arguments),this.peformRequest=async e=>l.j(e.url,c.default.secureFileS3.url)?(e.permissionRecord&&await d.transactionQueue.awaitRecordTransaction(e.permissionRecord),s.getSignedFileUrl(this.environment,e)):e.url}renderComponent(){return r.a.createElement(i.a,{request:{url:this.props.url,permissionRecord:this.props.permissionRecord},performRequest:this.peformRequest,render:this.props.render})}}t.a=u},WzNb:function(e,t,n){"use strict";n("Junv"),n("3bBZ"),n("SYor");var o=n("njgS"),r=n("FWat"),a=n("tUBP"),i=n("LvDl"),s=n.n(i),l=n("HRSx"),c=n("CARr"),d=n("922z"),u=n("D2XV"),p=n("hfHo"),h=n("j76I"),m=n("pxbK"),f=n("cDc9"),g=n("GJWe"),b=n("4bJO"),v=n("+btH"),y=n("VhAz"),S=n("qqv4"),w=n("PXtY"),k=n("6SEd");function C(e){const{block:t,schema:n,reducer:o,state:a,getRecordValue:i,userTimeZone:s,userId:l,depth:c,intl:d,normalizedSchemaCache:u}=e;if("results"===o.type){if("results"!==a.type)return;if(!(!o.filter||Object(r.c)({block:t,filter:o.filter,schema:n,getRecordValue:i,userId:l,userTimeZone:s,intl:d,normalizedSchemaCache:u})))return;a.blockIds.push(t.id);const e=a.sorts.map(e=>e.getValue(t));a.resultSortMap[t.id]=e}else if("groups"===o.type){if("groups"!==a.type)return;if(!(!o.filter||Object(r.c)({block:t,filter:o.filter,schema:n,getRecordValue:i,userId:l,userTimeZone:s,intl:d,normalizedSchemaCache:u})))return;const e=Object(S.d)({block:t,schema:n,property:o.property});if(e)for(const t of e){const e=Object(S.c)(t);a.groupsMap[e]=t}}else if("aggregation"===o.type){if("aggregation"!==a.type)return;Object(b.g)({block:t,schema:n,aggregation:o.aggregation,state:a.aggregationState,getRecordValue:i,userTimeZone:s,depth:c,intl:d,normalizedSchemaCache:u})}else Object(y.e)(o)}function M(e){const{reducer:t,state:n}=e;if("results"===t.type){if("results"!==n.type)throw new Error("Reducer state mismatch.");return{type:"results",blockIds:n.blockIds.slice(t.offset,t.offset+t.limit)}}if("groups"===t.type){if("groups"!==n.type)throw new Error("Reducer state mismatch.");let e=Object.values(n.groupsMap);if(t.groupSortPreference){const n={};for(let e=0;e<t.groupSortPreference.length;e++){const o=t.groupSortPreference[e];n[Object(S.c)(o)]=e}e=s.a.sortBy(e,e=>{const t=n[Object(S.c)(e)];return void 0!==t?t:1/0})}return e=e.slice(t.offset,t.offset+t.limit),{type:"groups",groups:e}}if("aggregation"===t.type){if("aggregation"!==n.type)throw new Error("Reducer state mismatch.");return{type:"aggregation",aggregationResult:Object(b.b)(n.aggregationState)}}Object(y.e)(t)}var E=n("mINO");n.d(t,"a",(function(){return _})),n.d(t,"i",(function(){return L})),n.d(t,"h",(function(){return R})),n.d(t,"b",(function(){return D})),n.d(t,"e",(function(){return N})),n.d(t,"d",(function(){return z})),n.d(t,"c",(function(){return X})),n.d(t,"j",(function(){return Y})),n.d(t,"f",(function(){return H})),n.d(t,"g",(function(){return q}));const _=100,T=E.j({required:{type:E.f("table"),limit:E.i(),userTimeZone:E.l(),loadContentCover:E.c(),searchQuery:E.n(E.l())},optional:{}}),x=E.j({required:{property:E.l(),value:S.f,hidden:E.c()},optional:{}}),I=E.j({required:{type:E.f("board"),limit:E.i(),userTimeZone:E.l(),loadContentCover:E.c(),searchQuery:E.n(E.l()),groups:E.b(x)},optional:{}}),P=E.j({required:{type:E.f("calendar"),dateRangeStart:E.i(),dateRangeEnd:E.i(),userTimeZone:E.l(),startDayOfWeek:E.o([E.f(0),E.f(1)]),scale:E.o([E.f("day"),E.f("month")]),searchQuery:E.n(E.l())},optional:{}}),O=E.j({required:{type:E.f("timeline"),includeEmptyDates:E.c(),limit:E.i(),userTimeZone:E.l(),searchQuery:E.n(E.l())},optional:{}}),B=E.j({required:{type:E.f("reducer"),userTimeZone:E.l(),searchQuery:E.n(E.l())},optional:{sort:E.a(),filter:E.a(),reducers:E.a()}});E.o([T,I,P,O,B]);function L(e){const{collectionValue:t,query:n,loader:r,getRecordValue:a,pageSort:i,apiSorts:l,intl:c,normalizedSchemaCache:d}=e,u=o.f(d,t.id,t.schema),p={},h=Object(v.e)({schema:u,getRecordValue:a,userTimeZone:r.userTimeZone,intl:c,querySorts:n.sort||[],apiSorts:l,normalizedSchemaCache:d});if(h.reverse(),"table"===r.type){const e=(n.aggregations||[]).map(e=>Object(b.h)(e.aggregator));return{type:"table",resultSortMap:p,blockIds:[],sorts:[Object(v.c)(),Object(v.b)(i),...h],aggregationStates:e,total:0}}if("board"===r.type){const e=(n.group_by?function(e){const{groupBy:t,schema:n,queryGroups:r}=e,a=n[t];if(!a)return[];if(!Object(S.h)(a))return[];if(!r)return[];const i=[...r],s={type:a.type,value:void 0};Object(S.a)(r,s)||i.push({property:t,hidden:!1,value:s});if(o.l(a)){const e=a.options||[];for(const n of e){const e={type:a.type,value:n.value};Object(S.a)(i,e)||i.push({property:t,hidden:!1,value:e})}}return i}({groupBy:n.group_by,queryGroups:r.groups,schema:u}):r.groups).map(e=>{const t=n.aggregations&&n.aggregations[0];return{group:e,blockIds:[],total:0,aggregationState:t&&Object(b.h)(t.aggregator)}});return{type:"board",resultSortMap:p,sorts:[Object(v.c)(),Object(v.b)(i),...h],groupQueryStates:e,total:0}}if("calendar"===r.type){return{type:"calendar",items:[],sorts:s.a.compact([Object(v.c)(),Object(v.d)({schema:u,property:"title",direction:"ascending",getRecordValue:a,userTimeZone:r.userTimeZone,intl:c,normalizedSchemaCache:d}),n.calendar_by?Object(v.d)({schema:u,property:n.calendar_by,direction:"ascending",getRecordValue:a,userTimeZone:r.userTimeZone,intl:c,normalizedSchemaCache:d}):void 0,...h]),resultSortMap:p,noDateTotal:0,total:0}}if("timeline"===r.type){const e=(n.aggregations||[]).map(e=>Object(b.h)(e.aggregator));return{type:"timeline",resultSortMap:p,blockIds:[],sorts:[Object(v.c)(),Object(v.b)(i),...h],aggregationStates:e,noDateTotal:0,total:0}}if("reducer"===r.type){return{type:"reducer",reducerStates:(r.reducers||[]).map(e=>function(e){return"results"===e.type?{type:"results",resultSortMap:{},sorts:[],blockIds:[]}:"groups"===e.type?{type:"groups",groupsMap:{}}:"aggregation"===e.type?{type:"aggregation",aggregationState:Object(b.h)(e.aggregation.aggregator)}:void Object(y.e)(e)}(e))}}Object(y.e)(r)}function R(e,t,n,a){const{collectionValue:i,query:s,loader:l,userId:d,getRecordValue:p,intl:h}=t;if(!e.alive||e.parent_id!==i.id||e.is_template)return;const m=o.f(a,i.id,i.schema);if("table"===l.type){if("table"!==n.type)throw new Error("Invalid arguments");if(l.searchQuery&&!U({block:e,query:l.searchQuery,getRecordValue:p,userTimeZone:l.userTimeZone,schema:m,intl:t.intl}))return;if(!(!s.filter||Object(r.c)({block:e,filter:s.filter,schema:m,getRecordValue:p,userId:d,userTimeZone:l.userTimeZone,intl:h,normalizedSchemaCache:a})))return;const{blockIds:o,aggregationStates:i}=n;if(s.aggregations)for(let n=0;n<s.aggregations.length;n++){const o=s.aggregations[n],r=i[n];Object(b.g)({intl:t.intl,aggregation:o,state:r,schema:m,block:e,getRecordValue:p,userTimeZone:l.userTimeZone,depth:0,normalizedSchemaCache:a})}o.push(e.id),n.total++}else if("board"===l.type){if("board"!==n.type)throw new Error("Invalid arguments");if(l.searchQuery&&!U({block:e,query:l.searchQuery,getRecordValue:p,userTimeZone:l.userTimeZone,schema:m,intl:t.intl}))return;if(!(!s.filter||Object(r.c)({block:e,filter:s.filter,schema:m,getRecordValue:p,userId:d,userTimeZone:l.userTimeZone,intl:h,normalizedSchemaCache:a})))return;if(!s.group_by)return;const{groupQueryStates:o}=n,i=m[s.group_by];if(i&&"person"===i.type){const t=e.properties||{},n=c.s(t[s.group_by]),r=o.map(({group:e})=>e);for(const e of n){if(!Object(S.a)(r,{type:"person",value:e})){const t={group:{property:s.group_by,value:{type:"person",value:e},hidden:!1},blockIds:[],total:0,aggregationState:s.aggregations&&s.aggregations[0]&&Object(b.h)(s.aggregations[0].aggregator)};o.push(t)}}}for(const t of o)if(A(t.group,m,e)){if(s.aggregations&&s.aggregations[0]&&t.aggregationState){const n=s.aggregations[0];Object(b.g)({aggregation:n,state:t.aggregationState,schema:m,block:e,getRecordValue:p,userTimeZone:l.userTimeZone,depth:0,intl:h,normalizedSchemaCache:a})}t.group.hidden||t.blockIds.push(e.id),t.total++}l.groups=l.groups.slice(0,_),n.groupQueryStates=n.groupQueryStates.slice(0,_),n.total++}else if("calendar"===l.type){if("calendar"!==n.type)throw new Error("Invalid arguments");if(!s.calendar_by)return;if(!m[s.calendar_by])return;const o=Object(w.a)({property:s.calendar_by,schema:m,block:e,getRecordValue:p,userTimeZone:l.userTimeZone,depth:0,intl:h,normalizedSchemaCache:a}).next().value;if("date"!==o.type)return;const i=o.value;if(i||n.noDateTotal++,l.searchQuery&&!U({block:e,query:l.searchQuery,getRecordValue:p,userTimeZone:l.userTimeZone,schema:m,intl:t.intl}))return;if(!(!s.filter||Object(r.c)({block:e,filter:s.filter,schema:m,getRecordValue:p,userId:d,userTimeZone:l.userTimeZone,intl:h,normalizedSchemaCache:a})))return;const c=i&&u.K(i,l.userTimeZone);if(!(i&&c&&u.lb(l.dateRangeStart,l.dateRangeEnd,c.start.valueOf(),c.end?c.end.valueOf():void 0)))return;const{items:f}=n,g={id:e.id,start:c.start,end:c.end,includeTime:"datetime"===i.type||"datetimerange"===i.type,timeZone:"datetime"===i.type||"datetimerange"===i.type?i.time_zone:void 0};f.push(g),n.total++}else if("timeline"===l.type){if("timeline"!==n.type)throw new Error("Invalid arguments");if(!s.timeline_by)return;if(!m[s.timeline_by])return;const o=Object(w.a)({property:s.timeline_by,schema:m,block:e,getRecordValue:p,userTimeZone:l.userTimeZone,depth:0,intl:h,normalizedSchemaCache:a}).next().value;if("date"!==o.type)return;if(!o.value&&(n.noDateTotal++,!l.includeEmptyDates))return;if(l.searchQuery&&!U({block:e,query:l.searchQuery,getRecordValue:p,userTimeZone:l.userTimeZone,schema:m,intl:t.intl}))return;if(!(!s.filter||Object(r.c)({block:e,filter:s.filter,schema:m,getRecordValue:p,userId:d,userTimeZone:l.userTimeZone,intl:h,normalizedSchemaCache:a})))return;const{blockIds:i,aggregationStates:c}=n;if(s.aggregations)for(let n=0;n<s.aggregations.length;n++){const o=s.aggregations[n],r=c[n];Object(b.g)({intl:t.intl,aggregation:o,state:r,schema:m,block:e,getRecordValue:p,userTimeZone:l.userTimeZone,depth:0,normalizedSchemaCache:a})}i.push(e.id),n.total++}else if("reducer"===l.type){if("reducer"!==n.type)throw new Error("Invalid arguments");if(l.searchQuery&&!U({block:e,query:l.searchQuery,getRecordValue:p,userTimeZone:l.userTimeZone,schema:m,intl:t.intl}))return;if(!(!l.filter||Object(r.c)({block:e,filter:l.filter,schema:m,getRecordValue:p,userId:d,userTimeZone:l.userTimeZone,intl:h,normalizedSchemaCache:a})))return;if(l.reducers)for(let o=0;o<l.reducers.length;o++){const r=l.reducers[o],i=n.reducerStates[o];C({intl:t.intl,reducer:r,state:i,schema:m,block:e,getRecordValue:p,userTimeZone:l.userTimeZone,userId:d,depth:0,normalizedSchemaCache:a})}}else Object(y.e)(l);if("reducer"!==n.type){const t=n.sorts.map(t=>t.getValue(e));n.resultSortMap[e.id]=t}}function D(e,t){const{query:n,loader:o,intl:r}=e;if("table"===o.type){if("table"!==t.type)throw new Error("Invalid arguments");const{limit:e}=o,{blockIds:r,aggregationStates:a,total:i,resultSortMap:s,sorts:l}=t,c=Object(v.f)(r,l,s).slice(0,e),d=[];if(n.aggregations)for(let t=0;t<n.aggregations.length;t++){const e=a[t],n=Object(b.b)(e);d.push(n)}return{type:"table",blockIds:c,aggregationResults:d,total:i}}if("board"===o.type){if("board"!==t.type)throw new Error("Invalid arguments");const{limit:e}=o,{groupQueryStates:r,total:a,resultSortMap:i,sorts:s}=t;return{type:"board",groupResults:r.map(t=>{const{blockIds:o,group:r,total:a,aggregationState:l}=t,c=Object(v.f)(o,s,i).slice(0,e),d={value:r.value,blockIds:c,total:a};if(n.aggregations&&n.aggregations[0]&&l){const e=Object(b.b)(l);d.aggregationResult=e}return d}),total:a}}if("calendar"===o.type){if("calendar"!==t.type)throw new Error("Invalid arguments");const{dateRangeStart:e,dateRangeEnd:n,userTimeZone:i,startDayOfWeek:l,scale:c}=o,{items:d,total:h,resultSortMap:m,sorts:f}=t,g=Object(p.default)(e).locale(r.locale).tz(i),b=Object(p.default)(n).locale(r.locale).tz(i),y=[];if("day"===c){const e=d.map(e=>e.id),t=Object(v.f)(e,f,m),n=s.a.compact(t.map(e=>d.find(t=>t.id===e)));y.push({start:g.valueOf(),end:b.valueOf(),items:n.map((e,t)=>({id:e.id,start:e.start.valueOf(),end:e.end?e.end.valueOf():void 0,row:t,includeTime:e.includeTime,timeZone:e.timeZone}))})}else{const e=u.M(g,l),t=u.J(b,l);let n=e.clone();do{const e=u.J(n.clone(),l),t={},o=d.filter(t=>u.lb(n.valueOf(),e.valueOf(),t.start.valueOf(),t.end?t.end.valueOf():void 0)),r=o.map(e=>e.id),i=Object(v.f)(r,f,m),c=s.a.compact(i.map(e=>o.find(t=>t.id===e))).map(o=>{const{id:r,start:i,end:s,includeTime:l,timeZone:c}=o,{startColumn:d,columnCount:u}=Object(a.a)({startUnixTimestampMS:i.valueOf(),endUnixTimestampMS:s?s.valueOf():void 0,startOfWeekUnixTimestampMS:n.valueOf(),endOfWeekUnixTimestampMS:e.valueOf()}),p=j(d,u,t);return{id:r,start:i.valueOf(),end:s?s.valueOf():void 0,row:p,includeTime:l,timeZone:c}});y.push({start:n.valueOf(),end:e.valueOf(),items:c}),n=u.M(n.clone().add(1,"week").add(25,"hour"),l)}while(n.isBefore(t))}return{type:"calendar",groups:y,noDateTotal:t.noDateTotal,total:h}}if("timeline"===o.type){if("timeline"!==t.type)throw new Error("Invalid arguments");const{limit:e}=o,{blockIds:r,aggregationStates:a,total:i,noDateTotal:s,resultSortMap:l,sorts:c}=t,d=Object(v.f)(r,c,l).slice(0,e),u=[];if(n.aggregations)for(let t=0;t<n.aggregations.length;t++){const e=a[t],n=Object(b.b)(e);u.push(n)}return{type:"timeline",blockIds:d,aggregationResults:u,noDateTotal:s,total:i}}if("reducer"===o.type){if("reducer"!==t.type)throw new Error("Invalid arguments");const{reducerStates:e}=t,n=[];if(o.reducers)for(let t=0;t<o.reducers.length;t++){const r=M({reducer:o.reducers[t],state:e[t]});n.push(r)}return{type:"reducer",reducerResults:n}}Object(y.e)(o)}function A(e,t,n){const o=n&&n.properties?n.properties:{},r=t[e.property];if(!r)return!1;if(!Object(S.h)(r))return!1;const a=o[e.property],i=e.value;if("select"===r.type){if("select"!==i.type)return!1;const e=r.options||[],t=c.u(a,e);return i.value?i.value===t:!e.some(e=>e.value===t)}if("multi_select"===r.type){if("multi_select"!==i.type)return!1;const e=r.options||[],t=c.q(a,e);return i.value?t.some(e=>i.value===e):!t.some(t=>e.some(e=>e.value===t))}if("person"===r.type){if("person"!==i.type)return!1;const e=c.s(a);return i.value?e.some(e=>s.a.isEqual(i.value,e)):0===e.length}Object(y.e)(r)}function j(e,t,n){let o=0;for(;;){let r=!1;for(let a=0;a<t;a++)F(n,e+a,o)&&(r=!0);if(!r)break;o++}for(let r=0;r<t;r++)V(n,e+r,o);return o}function F(e,t,n){return Boolean(e[n]&&e[n][t])}function V(e,t,n){e[n]||(e[n]={}),e[n][t]=!0}function N(e){if("table"===e.type||"timeline"===e.type)return e.blockIds;if("board"===e.type)return s.a.union.apply(null,e.groupResults.map(e=>e.blockIds));if("reducer"===e.type){const t=new Set;for(const n of e.reducerResults)if("results"===n.type)for(const e of n.blockIds)t.add(e);return Array.from(t.values())}return s.a.union.apply(null,e.groups.map(e=>e.items.map(e=>e.id)))}function U(e){const{block:t,query:n,getRecordValue:o,userTimeZone:r,schema:a,intl:i}=e;if(t.properties){const e=Object.keys(a);return Boolean(e.find(e=>{if(t.properties&&t.properties[e]){return Object(g.k)({textValue:t.properties[e],getRecordValue:o,userTimeZone:r,intl:i}).toLowerCase().indexOf(n.trim().toLowerCase())>=0}return!1}))}return!1}const z=6,X=15;async function Y(e){const{collectionId:t,blocks:n,schema:a,loadContentCover:i,query:u,recordMap:p,loadRecordValue:g,loadRecordValues:v,loadAllProperties:y}=e;for(const o of n)p.set({table:"block",id:o.id},o);const S=new Set;if(u){if(u.filter){!function e(t){if(Object(r.x)(t))S.add(t.property);else if(Object(r.n)(t)){const n=t.filters||[];for(const t of n)e(t)}}(u.filter)}if(u.sort)for(const e of u.sort)S.add(e.property);if(u.aggregations)for(const e of u.aggregations)Object(b.o)(e)&&S.add(e.property);u.group_by&&S.add(u.group_by),u.calendar_by&&S.add(u.calendar_by),u.timeline_by&&S.add(u.timeline_by)}if(y)for(const o of Object.keys(a))S.add(o);const w=d.f.fromPlainFunctionUnsafe(async e=>{const t=p.get(e)||await g(e);return p.set(e,t),t}),C=new f.a;await Promise.all(Array.from(S.values()).map(async e=>{const n=a[e];if(n){const r={collectionId:t,property:e,type:n.type},i=await async function e(t,n=new f.a){const{collectionId:r,schema:a,property:i,loadRecordValue:l}=t,c=a[i];if(!c)return[];const d={collectionId:r,property:i,type:c.type};if(n.has(d))return[d];if(n.add(d),c){if("formula"===c.type){const t=s.a.compact(Object(m.a)(c.formula).map(e=>{const t=a[e];if(t){return{collectionId:r,property:e,type:t.type}}})),o=await Promise.all(t.map(({property:t})=>e({collectionId:r,schema:a,property:t,loadRecordValue:l},n)));return s.a.uniqBy([...t,...s.a.flatten(o)],({collectionId:e,property:t})=>"".concat(e).concat(t))}if("rollup"===c.type&&c.relation_property&&c.target_property){const t=a[c.relation_property];if(t&&"relation"===t.type&&t.collection_id){const a=t.collection_id,i=await l({table:k.a,id:a}),d=i?o.e(i.schema):{},u=[],p={collectionId:r,property:c.relation_property,type:t.type};if(u.push(p),c.target_property_type){const e={collectionId:a,property:c.target_property,type:c.target_property_type};u.push(e)}const h=await e({collectionId:a,schema:d,property:c.target_property,loadRecordValue:l},n);return u.push(...h),s.a.uniqBy(u,({collectionId:e,property:t})=>"".concat(e).concat(t))}}}return[]}({collectionId:t,schema:a,property:e,loadRecordValue:w});C.add(r);for(const e of i)C.add(e)}}));const M=[];for(const{pointer:o}of p)M.push(o);const E=C.entries();await h.a({recordPointers:M,recurFn:e=>function(e,t,n){const o=[],r=e.value;if(r.parent_table&&r.parent_id&&o.push({table:r.parent_table,id:r.parent_id}),e.table===l.a){const r=e.value;if(r&&r.parent_table===k.a){const e=r.parent_id;if(n&&r.content){const e=r.content.slice(0,X);for(const t of e)o.push({table:"block",id:t})}if(t.find(t=>t.collectionId===e&&"created_by"===t.type)&&r&&r.created_by_table&&r.created_by_id&&o.push({table:r.created_by_table,id:r.created_by_id}),t.find(t=>t.collectionId===e&&"last_edited_by"===t.type)&&r&&r.last_edited_by_table&&r.last_edited_by_id&&o.push({table:r.last_edited_by_table,id:r.last_edited_by_id}),r&&r.properties)for(const n of t)if(n.collectionId===e){const e=c.t(r.properties[n.property]);for(const n of e)o.push({table:l.a,id:n});const t=c.s(r.properties[n.property]);for(const n of t)o.push(n)}}}return o}(e,E,i),loadRecordValue:g,loadRecordValues:v,recordMap:p})}function H(e,t){if(Object(r.n)(e)){const n=e,o=n.filters||[],r={...n,filters:s.a.compact(o.map(e=>H(e,t)))};if(!r.filters||0===r.filters.length)return;return r}if(Object(r.x)(e)){const n=e,o=t[n.property];if(!o)return;if(!Object(r.C)(o,n.filter))return;if("select"===o.type){if(!Object(r.A)(n.filter))return;if(Object(r.q)(n.filter))return n;const e=n.filter.value.value;return void 0===e?n:(o.options||[]).some(t=>t.value===e)?n:void 0}if("multi_select"===o.type){if(!Object(r.u)(n.filter))return;if(Object(r.q)(n.filter))return n;const e=n.filter.value.value;return void 0===e?n:(o.options||[]).some(t=>t.value===e)?n:void 0}}return e}function q(e,t){let n=e&&e.query2?e.query2:{};if(n.group_by&&e&&"board"===e.type){const e=t[n.group_by];e&&Object(S.h)(e)||(n={...n,group_by:void 0})}if(n.calendar_by&&e&&"calendar"===e.type){const e=t[n.calendar_by];e&&Object(o.i)(e)||(n={...n,calendar_by:void 0})}if(n.timeline_by&&e&&"timeline"===e.type){const e=t[n.timeline_by];if(e&&Object(o.i)(e)||(n={...n,timeline_by:void 0}),n.timeline_by_end){const e=t[n.timeline_by_end];e&&Object(o.i)(e)||(n={...n,timeline_by_end:void 0})}}if(n.filter&&(n={...n,filter:H(n.filter,t)}),n.sort){const e=n.sort.filter(e=>{const n=t[e.property];return Boolean(n)});n={...n,sort:e}}if(n.aggregations){const o=n.aggregations.filter(n=>{if(Object(b.j)(n))return Object(b.k)(n.aggregator);const o=t[n.property];if(o){if(Object(w.e)(o.type)){const e=Object(w.c)(o.type);if(!Object(b.p)(e,n.aggregator))return!1}return!!e}});n={...n,aggregations:o}}return!e||"board"!==e.type||n.aggregations&&0!==n.aggregations.length||(n.aggregations=[{aggregator:"count"}]),n}},X3py:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("3bBZ");var o,r=n("LEzx");!function(e){e[e.willHide=0]="willHide",e[e.hidden=1]="hidden",e[e.willShow=2]="willShow",e[e.shown=3]="shown"}(o||(o={}));class a extends r.a{constructor(){super(...arguments),this.updateKeyboardPhase=e=>{this.setState({...this.state,phase:e})}}getInitialState(){return{phase:o.hidden}}async onShow(e){await this.waitUntil(()=>this.state.phase===o.shown),e()}}t.b=new a},X4ZB:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var o=n("wpmu"),r=n("6rsX"),a=n("QcDD"),i=n("AmMh"),s=n("6BvA");const l=function(e){const{currentBlockStore:t}=a.default.state;if(t){const n=o.a.createChildStore(t,e.blockStore.pointer);s.a.setState({...s.a.state,originRect:e.originRect||i.a.getRectFromStore(e.blockStore),blockStore:n})}};function c(e){s.a.reset(),r.e(e)}},X6Ne:function(e,t,n){"use strict";n.d(t,"f",(function(){return O})),n.d(t,"b",(function(){return B})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return R})),n.d(t,"a",(function(){return F})),n.d(t,"e",(function(){return N}));var o=n("LvDl"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("8fuX"),l=n("y6Dp"),c=n("RI9y"),d=n("lBar"),u=n("LqYT"),p=n("sjR4"),h=n("DNgp"),m=n("AmMh"),f=n("TSBY"),g=n("nld8"),b=n("0zNc"),v=n("PuL6"),y=n("EmAo"),S=n("3uHk"),w=n("szb2"),k=n("WaiN"),C=n("GKeo"),M=n("7IvN"),E=n("84+D");function _(e,t,n,o){const r=(n-t)/n,a=o/10/60,i=a+(3*o/60-a)*Math.min(r*r,1);return e.device.isIOS?Math.ceil(i):i}const T=r.a.throttle(e=>{l.Gb(e,{direction:"top"})},1e3),x=r.a.throttle(e=>{l.Gb(e,{direction:"bottom"})},1e3),I=r.a.throttle(e=>{l.Gb(e,{direction:"left"})},1e3),P=r.a.throttle(e=>{l.Gb(e,{direction:"right"})},1e3);function O(e){const{environment:t,scroller:n,currentMouseX:o,currentMouseY:r,verticalEdgeThreshold:a,horizontalEdgeThreshold:i,disableVerticalEdgeScroll:l,disableHorizontalEdgeScroll:c}=e,{clientRect:d,scrollTop:u,scrollHeight:p,scrollLeft:h,scrollWidth:m}=n.stores.store.state;if(d){if(n.props.type!==s.a.X&&!l){const e=r-d.top,o=d.bottom-r,i=0===u,s=u+d.height===p;if(e<a&&!i){const o=_(t,e,a,d.height);n.scrollTo(u-o,void 0),o>0&&T(t)}if(o<a&&!s){const e=_(t,o,a,d.height);n.scrollTo(u+e,void 0),e>0&&x(t)}}if(n.props.type!==s.a.Y&&!c){const e=o-d.left,r=d.right-o,a=0===h,s=h+d.width===m;if(e<i&&!a){const o=_(t,e,i,d.width);n.scrollTo(void 0,h-o),o>0&&I(t)}if(r<i&&!s){const e=_(t,r,i,d.width);n.scrollTo(void 0,h+e),e>0&&P(t)}}}}function B(e){const{component:t,horizontal:n,vertical:o,animate:r}=e;if(!t)return;const a=i.a.findDOMNode(t);if(!a)return;if(!(a instanceof Element))return;const s=a.getBoundingClientRect();if(o&&t.getContextVerticalScroller){const{reveal:e}=o,n=o.paddingToTopEdge||64,a=o.paddingToBottomEdge||64,i=t.getContextVerticalScroller(),l=i&&i.getClientRect();if(i&&l){const t=l.top+n,o=l.bottom-a,c=s.top>t&&s.top<o,d=s.bottom>t&&s.bottom<o,u=s.top<t&&s.bottom>o,p=s.bottom-o,h=s.top-t;"top"===e?c||i.scrollByOffset(h,0,{animate:r}):"bottom"===e?d||i.scrollByOffset(p,0,{animate:r}):c||d||u||(Math.abs(p)<Math.abs(h)?i.scrollByOffset(p,0,{animate:r}):i.scrollByOffset(h,0,{animate:r}))}}if(n&&t.getContextHorizontalScroller){const{reveal:e}=n,o=n.paddingToLeftEdge||64,a=n.paddingToRightEdge||64,i=t.getContextHorizontalScroller(),l=i&&i.getClientRect();if(i&&l){const t=l.left+o,n=l.right-a,c=s.left>t&&s.left<n,d=s.right>t&&s.right<n,u=s.left<t&&s.right>n,p=s.right-n,h=s.left-t;"left"===e?c||i.scrollByOffset(0,h,{animate:r}):"right"===e?d||i.scrollByOffset(0,p,{animate:r}):c||d||u||(Math.abs(p)<Math.abs(h)?i.scrollByOffset(0,p,{animate:r}):i.scrollByOffset(0,h,{animate:r}))}}}function L(){if(p.default.state.pivot)R([p.default.state.pivot.id]);else{R(p.default.state.stores.map(e=>e.id))}}function R(e,t){const n=m.a.findScrollToSelectablesFromIds(e)[0];if(n){const{disableScrollToRevealHorizontal:e}=n.props;B({component:n,vertical:{reveal:"closest"},horizontal:e?void 0:{reveal:"closest"},animate:t})}}var D;function A(e){let{position:t}=e;const{paddingTop:n,paddingBottom:o}=e;if("editing"!==h.default.state.mode)return;const r=c.get();if(r){const e=d.c(r.commonAncestorContainer);if(!e)return;const a=d.e(e).find(e=>e.scrollHeight>e.clientHeight);if(!a)return;const i=c.getRect(r);if(!i||!a)return;const s=a.getBoundingClientRect();if(!(r.startContainer instanceof Text)){const e=i;e.top+=4,e.bottom-=5,e.height-=9}const l=i.top<s.top+n,u=i.bottom>s.bottom-o;if(r.startContainer instanceof Text&&r.startOffset!==r.endOffset)return;if(t===D.natural)if(u)t=D.bottom;else{if(!l)return;t=D.top}if(t===D.top){const e=a.scrollTop+i.top,t=s.top+n;a.scrollTop=e-t}else if(t===D.bottom){const e=a.scrollTop+i.bottom,t=s.bottom-o;a.scrollTop=e-t}else if(t===D.middle){const e=a.scrollTop+i.top,t=s.top+s.height/2-10;a.scrollTop=e-t}}}!function(e){e[e.top=0]="top",e[e.middle=1]="middle",e[e.bottom=2]="bottom",e[e.natural=3]="natural"}(D||(D={}));function j(){A({position:D.top,paddingTop:20,paddingBottom:59})}function F(e){const t=g.a.isInlineAutocompleteOpen(),n=f.a.shouldPreventMobileAutoScroll();if(t)return void j();if(n)return;const o=e.device.isMobile&&(!e.device.isNative||e.device.isTablet);!o&&k.a.state.open||!o&&C.a.state.open||!o&&function(){const e="editing"===h.default.state.mode&&h.default.state.store;if(e){const t=e.getRecordStoreAtRootPath();if("block"===t.table){const e=t.getValue(),n=e&&e.type;return"link_to_page"===n||"link_to_collection"===n}}return!1}()||M.a.state.open?j():y.a.state.isOpen&&!w.c.state.open||v.a.state.isOpen||A({position:D.natural,paddingTop:20,paddingBottom:59})}const V=r.a.once(e=>{const{device:t}=e;return new u.a(()=>!S.a.canScroll()||t.isMobile&&b.a.state.isDragging||t.isMobile&&E.a.state.swiping)});function N(e){return V(e).state}},XBB3:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("IdIf"),l=n("cBa6"),c=n("5w/s"),d=n("unoy"),u=n("KcXv"),p=n("Sb6f"),h=n("wpmu"),m=n("kXah"),f=n("bFnu"),g=n("NOLh"),b=n("n8tN"),v=n("Dime"),y=n("vX3W"),S=n("YQvo"),w=n("wlCD"),k=n("fVGD"),C=n("wldR"),M=n("mego"),E=n("2m/B"),_=n("MBf9"),T=n("p+Y9"),x=n("VBxf"),I=n("1y3T"),P=n("MeYt"),O=n("oDyz"),B=n("v9FK"),L=n("J9+s"),R=n("vl8/");const D=Object(L.defineMessages)({embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"}});class A extends C.a{constructor(){super(...arguments),this.storeTypes={fileUploadStore:S.a,mouseStore:f.a},this.renderControl=({isVisible:e,isRepositioning:t,handleCancelClick:n,handleRepositionClick:o,handleSavePositionClick:a})=>{if(this.props.disabled||this.stores.fileUploadStore.state.isLoading)return;const{device:i}=this.environment,{isMobile:s}=i;return r.a.createElement(g.a,{isVisible:!0,animationStyle:{width:this.getAdjustedPageWidth(),opacity:e?1:0},render:()=>r.a.createElement("div",{style:{position:"relative",pointerEvents:e?"auto":"none",maxWidth:"100%"}},r.a.createElement(B.a,{isVisible:e,position:"bottom",style:{marginRight:this.props.paddingRight,marginLeft:this.props.paddingLeft}},!t&&r.a.createElement(P.a,{style:{...M.a.actionButtonStyle,...s&&{borderRight:"none"}},onClick:this.handleChangeCoverClick},r.a.createElement(L.FormattedMessage,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})),!t&&!s&&r.a.createElement(P.a,{style:{...M.a.actionButtonStyle,borderRight:"none"},onClick:e=>o(e,this.lastProxiedUrl)},r.a.createElement(L.FormattedMessage,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})),t&&!s&&r.a.createElement(P.a,{style:M.a.actionButtonStyle,onClick:a},r.a.createElement(L.FormattedMessage,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})),t&&!s&&r.a.createElement(P.a,{style:{...M.a.actionButtonStyle,borderRight:"none"},onClick:n},r.a.createElement(L.FormattedMessage,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"}))))})},this.handleFlushTemporaryPosition=({imagePosition:e,reset:t})=>{_.createAndCommit(this.environment,n=>{c.g({store:this.props.store,coverPosition:e,transaction:n}),t()})},this.handleChangeCoverClick=e=>{const{intl:t,store:n}=this.props;this.stores.mouseStore.reset();const o=e.target.getBoundingClientRect();y.b(this.environment,{originGap:3,originRect:o,isSmallWidth:!1,popupWidth:540,maxHeight:420,title:t.formatMessage({defaultMessage:"Page cover",id:"pageCover.mobileMenu.title"}),onDelete:this.handleDelete,currentTab:"gallery",tabs:[{type:"gallery",onChange:this.handleGalleryChange},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:r.a.createElement(L.FormattedMessage,{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption",values:{idealImageWidth:1500}}),onUpload:e=>{this.props.store.getCoverStore()&&T.e({environment:this.environment,file:e,bucket:"secure",record:n.pointer,onStart:this.handleUploadStart,onProgress:this.handleUploadProgress,onComplete:this.handleUploadComplete,onError:()=>{x.showErrorMessage(t.formatMessage({defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"}))}})}},{type:"embed",title:r.a.createElement(L.FormattedMessage,{defaultMessage:"Link",id:"pageCover.embedType.title"}),inputPlaceholder:R.default.formatMessage(D.embedPlaceholder),caption:r.a.createElement(L.FormattedMessage,{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"}),buttonText:r.a.createElement(L.FormattedMessage,{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}),onChange:this.handleEmbedLinkChange},{type:"unsplash",onChange:this.handleGalleryChange}]})},this.handleUploadComplete=e=>{this.updatePageCover({url:e,position:.5})},this.handleGalleryChange=e=>{const{url:t,position:n}=e;this.updatePageCover({url:t,position:i.a.isNumber(n)?n:.5});const{device:o}=this.environment;o.isMobile&&y.a()},this.handleEmbedLinkChange=e=>{this.updatePageCover({url:e,position:.5}),y.a()},this.updatePageCover=async e=>{const{url:t,position:n}=e,o=_.create(this.environment);c.f({store:this.props.store,url:t,position:n,transaction:o}),await _.commit({environment:this.environment,transaction:o}),this.stores.fileUploadStore.reset()},this.handleUploadStart=e=>{const{file:t,name:n,size:o}=e;if(y.a(),this.stores.fileUploadStore.setState({...this.stores.fileUploadStore.state,isLoading:!0,file:t,name:n,size:o}),t.type.indexOf("image")>=0){const e=new FileReader;e.onload=e=>{this.stores.fileUploadStore.setState({...this.stores.fileUploadStore.state,dataURL:e.target.result})},e.readAsDataURL(t)}},this.handleUploadProgress=e=>{const{progressPercent:t}=e;this.stores.fileUploadStore.setState({...this.stores.fileUploadStore.state,progressPercent:t})},this.handleDelete=()=>{y.a(),_.createAndCommit(this.environment,e=>{c.d({store:this.props.store,transaction:e})})}}renderComponent(){const e=this.props.store.getCover();if(!e)return;const{isLoading:t,dataURL:n,progressPercent:o}=this.stores.fileUploadStore.state,{WindowSizeStore:a}=this.environment;return r.a.createElement(O.a,{mouseStore:this.stores.mouseStore,onFlushTemporaryPosition:this.handleFlushTemporaryPosition,renderControl:this.renderControl,source:"page",store:this.props.store,style:{display:"flex",flexDirection:"column",alignItems:"center",height:this.props.height,cursor:"default"}},i=>r.a.createElement(r.a.Fragment,null,n?this.renderImage(n,i):r.a.createElement(I.a,{url:e.cover,isAuthenticated:!0,permissionRecord:e.pointer,width:a.state.width,render:(e,t)=>{if(this.lastProxiedUrl=t,t)return this.renderImage(t,i)}}),t&&r.a.createElement("div",{style:E.a.loadingContainerStyle},r.a.createElement(w.a,{style:{width:16,height:16,marginRight:4}}),r.a.createElement("div",{style:{width:26,textAlign:"right"}},r.a.createElement(k.a,{percentage:o})))))}renderImage(e,t){const{isLoading:n}=this.stores.fileUploadStore.state;return r.a.createElement(E.a,{src:e,key:e,style:{width:"100%",height:this.props.height,objectFit:"cover",opacity:n?.5:1,objectPosition:"center ".concat(100*(1-(t.imagePosition||0)),"%"),borderRadius:0}})}getAdjustedPageWidth(){let e;return e=!!this.props.store.isFullWidth()?"100%":900,e}}var j=Object(L.injectIntl)(A),F=n("Oy36"),V=n("AOw3"),N=n("M64d"),U=n("stZG"),z=n("bVDK"),X=n("rro+"),Y=n("Hz2r"),H=n("bB9B"),q=n("EZe4"),W=n("y6Dp"),G=n("nM47"),Z=n("Rwql"),K=n("WgIs"),J=n("vJXr"),Q=n("QcDD"),$=n("/YYm"),ee=n("30UQ"),te=n("zgcg"),ne=n("H4VD"),oe=n("ui+/");class re extends C.a{constructor(){super(...arguments),this.renderMobileTemplatePreviewItem=e=>({key:e.name,render:t=>r.a.createElement(z.a,Object.assign({},t,{key:e.name,title:e.name,type:"page_template",format:"page-menu-item",emoji:e.emoji,locked:!1})),action:()=>{ee.i({environment:this.environment,item:e,createNewPage:!1,isPrivate:!1})}}),this.renderPageTemplatePickerItem=e=>({key:e.name,render:t=>r.a.createElement(z.a,Object.assign({},t,{key:e.name,format:"page-menu-item",title:e.name,type:e.type,locked:!1})),action:t=>{Object(G.j)(this.environment)&&(W.ge(this.environment,{name:e.name,is_keyboard:"keydown"===t.event.type}),e.onClick(this.environment,this.props.store))}}),this.handleEmptyPageContinueClick=e=>{Object(q.d)({event:e,context:q.a.EditorClick,callback:()=>{Object(G.j)(this.environment)&&(_.createAndCommit(this.environment,e=>{H.a({environment:this.environment,store:this.props.store,transaction:e})}),W.ge(this.environment,{name:"empty",is_keyboard:!1}))}})},this.handlePageTemplatePickerEmptyEnter=()=>{Object(G.j)(this.environment)&&(_.createAndCommit(this.environment,e=>{H.a({environment:this.environment,store:this.props.store,transaction:e})}),W.ge(this.environment,{name:"empty",is_keyboard:!0}))},this.handleCollectionTemplateClick=e=>{Y.e({title:null,environment:this.environment,store:this.props.store,templateStore:e.templateStore,isKeyboard:e.isKeyboard,isCreateIn:!1})},this.handleTemplateEmptyPageClick=()=>{_.createAndCommit(this.environment,e=>{H.a({environment:this.environment,store:this.props.store,transaction:e})})},this.handleCreateDatabaseTemplateClick=()=>{const{store:e}=this.props,t=e.getParentCollectionStore();if(t&&Object(G.j)(this.environment)){const e=_.createAndCommit(this.environment,e=>Y.a({environment:this.environment,collectionStore:t,transaction:e}));e&&this.navigateToBlock(e),W.hb(this.environment)}}}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):ne.navigate({environment:this.environment,url:e})}willMount(e){super.willMount(e),e.menuListStore.reset()}renderComponent(){const e=J.a.state.online;return r.a.createElement(U.a,{capture:!0,render:t=>Object(N.a)(n=>r.a.createElement("div",Object.assign({},t,n,{style:re.wrapStyle}),this.renderPlaceholder(),e&&this.renderTemplates()))})}renderTemplates(){const{device:e}=this.environment,{store:t}=this.props,n=this.isCollectionPage(),o=this.isTemplatePage(),a=t.getParentCollectionStore(),i=a?a.getParentBlockStore():void 0,s=a?a.getTemplatePagesStores():void 0;return r.a.createElement("div",null,!n&&!e.isMobile&&this.renderDesktopPageTemplatePicker(),!n&&e.isTablet&&this.renderMobilePageTemplatePicker(),n&&!o&&a&&i&&s&&s.length>0&&r.a.createElement(Z.a,{isOverlay:!1,collectionStore:a,onTemplateClick:this.handleCollectionTemplateClick,onEmptyPageClick:this.handleTemplateEmptyPageClick,locked:i.isLocked()}))}renderDesktopPageTemplatePicker(){return r.a.createElement(K.a,{type:K.a.Type.Vertical,store:this.props.menuListStore,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,onEmptyEnter:this.handlePageTemplatePickerEmptyEnter,sections:[{key:"Basic",render:e=>r.a.createElement("div",{key:e.key},e.children),items:X.b(this.environment,this.props.store).map(this.renderPageTemplatePickerItem)},{key:"Database",render:e=>r.a.createElement("div",{key:e.key},r.a.createElement("div",{style:this.getGroupTitleStyle()},r.a.createElement(L.FormattedMessage,{defaultMessage:"Database",id:"templatePicker.databaseTemplates.label"})),e.children),items:X.a.filter(e=>e.shouldShow(this.environment)).map(this.renderPageTemplatePickerItem)}]})}renderMobilePageTemplatePicker(){const{intl:e}=this.props,t=Object(oe.b)(this.environment,e);return r.a.createElement(K.a,{type:K.a.Type.Vertical,store:this.props.menuListStore,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,onEmptyEnter:this.handlePageTemplatePickerEmptyEnter,sections:[{key:"Basic",render:e=>r.a.createElement("div",{key:e.key},e.children),items:X.e.map(this.renderPageTemplatePickerItem)},{key:"Database",render:e=>r.a.createElement("div",{key:e.key},r.a.createElement("div",{style:this.getGroupTitleStyle()},r.a.createElement(L.FormattedMessage,{defaultMessage:"Database",id:"templatePicker.mobileTemplatePicker.databaseTemplateSection.label"})),e.children),items:X.a.filter(e=>e.shouldShow(this.environment)).map(this.renderPageTemplatePickerItem)},...t.map(e=>({key:e.sectionName,render:t=>r.a.createElement("div",{key:t.key},r.a.createElement("div",{style:this.getGroupTitleStyle()},e.name),t.children),items:e.items.map(this.renderMobileTemplatePreviewItem)}))]})}renderPlaceholder(){return r.a.createElement("div",{style:re.placeholderWrapStyle},r.a.createElement("div",{style:this.getPlaceholderStyle(),onClick:this.handleEmptyPageContinueClick},this.renderPlaceholderMessage()))}renderPlaceholderMessage(){const{device:e}=this.environment,t=this.props.store.isTemplate(),n=J.a.state.online,o=this.isCollectionPage(),a=this.collectionHasTemplates(),i=o&&!a;return n?t?r.a.createElement(L.FormattedMessage,{defaultMessage:"{isMobileDevice, select, true {Tap here to continue with an empty page.} other {Press Enter to continue with an empty page.}}",id:"templatePicker.isTemplate.emptyPagePrompt",values:{isMobileDevice:e.isMobile}}):e.isMobile?i?r.a.createElement(L.FormattedMessage,{defaultMessage:"{isParentLocked, select, true {Tap here to continue with an empty page} other {Tap here to continue with an empty page, or <templatebutton>create a template</templatebutton>}}",id:"templatePicker.mobileCollectionEmptyPage.prompt",values:{isParentLocked:this.isParentLocked(),templatebutton:(...e)=>r.a.createElement(P.a,{style:{display:"inline-block",textDecoration:"underline"},onClick:this.handleCreateDatabaseTemplateClick},e)}}):e.isTablet?r.a.createElement(L.FormattedMessage,{defaultMessage:"Tap here to continue with an empty page, or pick a template",id:"templatePicker.mobileTabletEmptyPage.withTemplates.prompt"}):r.a.createElement(L.FormattedMessage,{defaultMessage:"Tap here to continue...",id:"templatePicker.mobilePhoneEmptyPage.withTemplates.prompt"}):i?r.a.createElement(L.FormattedMessage,{defaultMessage:"{isParentLocked, select, true {Press Enter to continue with an empty page} other {Press Enter to continue with an empty page, or <templatebutton>create a template</templatebutton>}}",id:"templatePicker.webCollectionEmptyPage.prompt",values:{isParentLocked:this.isParentLocked(),templatebutton:(...e)=>r.a.createElement(P.a,{style:{display:"inline-block",textDecoration:"underline"},onClick:this.handleCreateDatabaseTemplateClick},e)}}):r.a.createElement(L.FormattedMessage,{defaultMessage:"{isTemplate, select, true {Press Enter to continue with an empty page, or pick a template} other {Press Enter to continue with an empty page, or pick a template (↑↓ to select)}}",id:"templatePicker.webEmptyPage.withTemplates.prompt",values:{isTemplate:t}}):r.a.createElement(L.FormattedMessage,{defaultMessage:"{isMobileDevice, select, true {Tap here to continue with an empty page. Please go online to use templates.} other {Press Enter to continue with an empty page. Please go online to use templates.}}",id:"templatePicker.deviceOffline.goOnlinePrompt",values:{isMobileDevice:e.isMobile}})}isCollectionPage(){const{store:e}=this.props;return Boolean(e.getParentCollectionStore())}isParentLocked(){const{store:e}=this.props,t=e.getParentCollectionStore(),n=t&&t.getParentBlockStore();return Boolean(n&&n.isLocked())}collectionHasTemplates(){const{store:e}=this.props,t=e.getParentCollectionStore(),n=t?t.getTemplatePagesStores():void 0;return n&&n.length>0}isTemplatePage(){return this.props.store.isTemplate()}navigateToBlock(e){const{currentBlockStore:t}=Q.default.state,n=t?Object($.a)({store:t,peekViewBlockId:e.id,fullyQualified:!1}):Object($.a)({store:e,fullyQualified:!1});this.navigate(n)}getPlaceholderStyle(){return{...u.b,color:this.theme.lightTextColor,paddingTop:5,paddingBottom:24}}getGroupTitleStyle(){const{device:e}=this.environment;return{...u.b,marginTop:24,marginBottom:4,textTransform:"uppercase",letterSpacing:1,fontSize:e.isMobile?12:11,fontWeight:p.a.fontWeight.medium,color:this.theme.lightTextColor}}}re.contextTypes=te.a,re.wrapStyle={width:"100%",display:"flex",flexDirection:"column",marginBottom:"14vh"},re.placeholderWrapStyle={width:"100%"};var ae=Object(L.injectIntl)(re),ie=n("fJHT"),se=n("g8hj"),le=(n("E9XD"),n("bjn0")),ce=n("JQ0b"),de=n("t96T"),ue=n("njgS"),pe=n("qzno"),he=n("tzV5"),me=n("mF3+"),fe=n("x4bP"),ge=n("DkKf"),be=n("wweX"),ve=n("0lqH"),ye=n("ox2z"),Se=n("zEGb"),we=n("XDBA"),ke=n("uSCg"),Ce=n("iICV"),Me=n("ouJW"),Ee=n("LeVO"),_e=n("OxuQ");class Te extends C.a{constructor(){super(...arguments),this.renderParentCollectionLockedTooltip=()=>{const{store:e}=this.props,t=e.getIcon();return r.a.createElement("div",{style:{display:"flex",alignItems:"start"}},r.a.createElement("div",{style:{paddingTop:4,paddingRight:6}},me.a.locked({width:12,fill:this.theme.regularInvertedTextColor})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(L.FormattedMessage,{defaultMessage:"Page properties are locked",id:"database.editProperty.databaseLocked.tooltipPart1"})),r.a.createElement("div",{style:{color:this.theme.mediumInvertedTextColor}},r.a.createElement(L.FormattedMessage,{defaultMessage:"Please go to {recordIconAndTitle} to unlock",id:"database.editProperty.databaseLocked.tooltipPart2",values:{recordIconAndTitle:r.a.createElement("span",{style:{whiteSpace:"nowrap",fontWeight:p.a.fontWeight.bold}},t&&r.a.createElement(F.a,{disabled:!0,icon:t,isEmptyPage:!1,size:12,style:{marginRight:4,display:"inline-block"}}),r.a.createElement(_e.a,{store:e,style:{display:"inline"}}))}}))))}}renderComponent(){return r.a.createElement(Ee.a,{renderTooltip:this.renderParentCollectionLockedTooltip,disableTooltip:Boolean(this.props.disableTooltip),delayThreshold:300,render:e=>this.props.render(e),placement:Ee.a.Placement.Left})}}var xe=Te,Ie=n("B22C"),Pe=n("8LJQ"),Oe=n("Nxch"),Be=n("6SEd");class Le extends C.a{constructor(){super(...arguments),this.renderPropertyButton=e=>{const{disabled:t,locked:n,parentCollectionLocked:o}=this.props;return r.a.createElement(P.a,Object.assign({style:Le.propertyButtonStyle,disabled:t||n||o},e),this.renderProperty())},this.handleDuplicate=()=>{const{property:e,collectionStore:t,format:n,schema:o}=this.props,r=n.collection_page_properties||[],a=we.j({schema:o,properties:r,property:e});a&&_.createAndCommit(this.environment,e=>{const o={...n,collection_page_properties:a.newProperties};he.p({environment:this.environment,collectionStore:t,update:{schema:a.newSchema,format:o},transaction:e})})},this.handleDelete=()=>{x.showDialog({message:r.a.createElement(L.FormattedMessage,{id:"database.deleteProperty.modal.prompt",defaultMessage:"Are you sure you want to delete this property?"}),showCancel:!0,keepFocus:!1,items:[{label:r.a.createElement(L.FormattedMessage,{id:"database.deleteProperty.modal.confirmButton",defaultMessage:"Delete"}),color:"red",onAccept:async()=>{const{property:e,collectionStore:t,schema:n}=this.props,o=t.getValue();if(!o)return;const r=_.create(this.environment),a=await we.i({environment:this.environment,collectionId:o.id,schema:n,property:e});if(!a)return;he.p({environment:this.environment,collectionStore:t,update:{schema:a.newSchema},transaction:r}),a.otherCollectionId&&a.otherCollectionSchema&&he.p({environment:this.environment,collectionStore:le.a.createChildStore(this.props.store,{table:Be.a,id:a.otherCollectionId}),update:{schema:a.otherCollectionSchema},transaction:r}),_.commit({environment:this.environment,transaction:r});const i=n[e];i&&W.tb(this.environment,{property_type:i.type,from:"page_properties"})}}]})},this.handleConfigure=()=>{const{property:e,schema:t}=this.props,n=t[e];if(n)if("number"===n.type){const t=Me.a.findBlockPropertyValue(this.props.store,e);t&&t.openNumberFormat()}else be.h({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,store:this.props.store,property:this.props.property,format:ve.a.Page})},this.handleEditPropertyOpen=()=>{de.a.setState({...de.a.state,openProperty:this.props.property})},this.handleEditPropertyClose=()=>{de.a.setState({...de.a.state,openProperty:void 0})},this.handleMouseMove=()=>{de.a.setState({...de.a.state,hoveredProperty:this.props.property})},this.handleMouseLeave=()=>{de.a.setState({...de.a.state,hoveredProperty:void 0})},this.handleEditPropertyButtonPopupChange=e=>{const{collectionStore:t}=this.props;_.createAndCommit(this.environment,n=>{he.p({environment:this.environment,collectionStore:t,update:{schema:e.newSchema},transaction:n}),e.otherCollectionId&&e.otherCollectionSchema&&he.p({environment:this.environment,collectionStore:le.a.createChildStore(this.props.store,{table:Be.a,id:e.otherCollectionId}),update:{schema:e.otherCollectionSchema},transaction:n})})},this.handleDragHandleClick=e=>{ge.d()||de.a.setState({...de.a.state,openProperty:this.props.property})}}renderComponent(){const{device:e}=this.environment,{collectionStore:t,property:n,disabled:o,locked:a,parentCollectionLocked:i,schema:s,intl:l}=this.props,c=de.a.state.hoveredProperty===n,d=s[n],u=c&&!Ce.a.state.isKeyboardMode,p=[];if(!d)return;let h;Object(ue.l)(d)?h=l.formatMessage({defaultMessage:"Configure options",id:"database.configurePropertyType.select"}):"rollup"===d.type?h=l.formatMessage({defaultMessage:"Configure rollup",id:"database.configurePropertyType.rollup"}):"date"===d.type?h=l.formatMessage({defaultMessage:"Format date",id:"database.configurePropertyType.date"}):"formula"===d.type?h=l.formatMessage({defaultMessage:"Edit formula",id:"database.configurePropertyType.formula"}):"number"===d.type&&(h=l.formatMessage({defaultMessage:"Format number",id:"database.configurePropertyType.number"})),h&&p.push({key:h,displayName:h,analyticsName:h,searchName:h,render:e=>r.a.createElement(ye.a,Object.assign({},e,{title:h,svg:me.a.settings})),closeParentMenu:!0,action:this.handleConfigure});const m=l.formatMessage({defaultMessage:"Hide Property",id:"database.configurePropertySearch.hideAction",description:"Used for finding the action in a user-initiated search. Not shown as a message to the user."});if(p.push({key:"Hide Property",displayName:m,analyticsName:m,searchName:m,render:(e,t,o)=>r.a.createElement(Ie.a,Object.assign({},e,{renderOrigin:e=>r.a.createElement(ye.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{defaultMessage:"Hide property",id:"database.configureProperty.hideAction"}),svg:me.a.collectionHide})),onFocus:o.onFocus,renderExtension:(e,t)=>{const o=s[n],a=this.getPageCustomization(this.props.format);if(!a)return;const{propertyVisibility:i}=a;if(!i)return;const l=i.reduce((e,t)=>(e[t.property]=t.visibility,e),{});return o?r.a.createElement(Pe.a,{type:"property",propertySchema:o,visibility:l[n],locked:!1,onSelect:e=>{Oe.e({environment:this.environment,property:n,visibility:e,store:this.props.collectionStore,format:this.props.format})},onClose:t.close}):void 0}})),closeParentMenu:!1,action:()=>{}}),pe.o.includes(d.type)&&"relation"!==d.type){const e=l.formatMessage({defaultMessage:"Duplicate Property",id:"database.configurePropertySearch.duplicateAction",description:"Used for finding the action in a user-initiated search. Not shown as a message to the user."});p.push({key:"Duplicate Property",displayName:e,analyticsName:e,searchName:e,render:e=>r.a.createElement(ye.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{defaultMessage:"Duplicate property",id:"database.configureProperty.duplicateAction"}),svg:me.a.duplicate})),closeParentMenu:!0,action:this.handleDuplicate})}if(pe.o.includes(d.type)){const e=l.formatMessage({defaultMessage:"Delete Property",id:"database.configurePropertySearch.deleteAction",description:"Used for finding the action in a user-initiated search. Not shown as a message to the user."});p.push({key:"delete",displayName:e,analyticsName:e,searchName:e,render:e=>r.a.createElement(ye.a,Object.assign({},e,{title:r.a.createElement(L.FormattedMessage,{defaultMessage:"Delete property",id:"database.configureProperty.deleteAction"}),svg:me.a.trash})),closeParentMenu:!0,action:this.handleDelete})}return r.a.createElement("div",{key:n,style:this.getStyle(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},!e.isMobile&&!o&&!(a||i)&&r.a.createElement(g.a,{isVisible:!0,animationStyle:{opacity:u?1:0},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:()=>r.a.createElement("div",{style:Le.dragHandleWrapStyle,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},r.a.createElement(fe.a,{onClick:this.handleDragHandleClick}))}),r.a.createElement(ce.a,{collectionId:t.id,canEditCollection:t.canEdit(),open:de.a.state.openProperty===n,property:n,schema:s,disabled:o||a||i||!t.canEdit(),actions:p,onChange:this.handleEditPropertyButtonPopupChange,from:"page_properties",renderOrigin:e=>a||i?r.a.createElement(xe,{disableTooltip:this.props.locked,render:t=>this.renderPropertyButton(Object(ke.a)(e,t)),store:this.props.collectionStore}):this.renderPropertyButton(e),onOpen:this.handleEditPropertyOpen,onClose:this.handleEditPropertyClose}))}renderProperty(){const{schema:e,property:t}=this.props,n=e[t];if(n)return r.a.createElement("div",{style:{display:"flex",alignItems:"center",lineHeight:"120%",fontSize:14,minWidth:0}},r.a.createElement("div",{style:{marginRight:8}},r.a.createElement(Se.a,{type:n.type,size:16,theme:this.theme})),r.a.createElement("div",{style:{...p.a.textOverflowStyle}},n.name))}getStyle(){const{device:e}=this.environment;return{display:"flex",alignItems:"center",height:34,width:e.isMobile?120:160,flex:"none",color:this.theme.mediumTextColor}}getPageCustomization(e){return{propertyVisibility:e.property_visibility,pageSectionVisibility:e.page_section_visibility}}}Le.dragHandleWrapStyle={width:fe.a.width+4,marginLeft:-(fe.a.width+4)},Le.propertyButtonStyle={display:"flex",alignItems:"center",height:"100%",width:"100%",borderRadius:3,padding:"0 6px"};var Re=Object(L.injectIntl)(Le);class De extends C.a{constructor(){super(...arguments),this.handleMouseMove=()=>{de.a.setState({...de.a.state,hoveredProperty:this.props.property})},this.handleMouseLeave=()=>{de.a.setState({...de.a.state,hoveredProperty:void 0})},this.handleOpenProperty=e=>{be.h({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,store:this.props.store,property:e,format:ve.a.Page})}}renderComponent(){const{property:e,store:t,disabled:n,parentCollectionLocked:o,onTab:a,onUntab:i,schema:s,blockPropertyValueOverlayStore:l}=this.props;return r.a.createElement("div",{key:e,style:De.style,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},r.a.createElement(ve.b,{store:t,property:e,locked:o,schema:s,disabled:n,format:ve.a.Page,onTab:a,onUntab:i,tableWrap:!1,blockPropertyValueOverlayStore:l,onOpenProperty:this.handleOpenProperty}))}}De.style={display:"flex",alignItems:"center",marginLeft:4,height:"100%",flex:"auto",minWidth:0};var Ae=De,je=n("09Jm"),Fe=n("wF3w"),Ve=n("D2XV"),Ne=n("w5u6"),Ue=n("CARr");class ze extends C.a{constructor(){super(...arguments),this.storeTypes={mouseStore:f.a},this.renderPropertyRow=e=>{const{store:t,format:n,collectionStore:o,disabled:a,locked:i,parentCollectionLocked:s,schema:l,blockPropertyValueOverlayStore:c}=this.props,d=this.mergedProperties.state.find(t=>t.property===e);if(d&&!de.a.state.forceShowProperties)switch(d.visibility){case"hide":return;case"hide_if_empty":if(!d.hasValue)return}return r.a.createElement("div",{key:e,style:{display:"flex",paddingBottom:4}},r.a.createElement(Re,{schema:l,format:n,property:e,store:t,collectionStore:o,disabled:a,locked:i,parentCollectionLocked:s,blockPropertyValueOverlayStore:c}),r.a.createElement(Ae,{schema:l,property:e,store:t,collectionStore:o,disabled:a||i,parentCollectionLocked:s,onTab:this.handleBlockPropertyTab,onUntab:this.handleBlockPropertyUntab,blockPropertyValueOverlayStore:c}))},this.handleReorder=e=>{const{collectionStore:t}=this.props,n=i.a.sortBy(this.mergedProperties.state.map(e=>({property:e.property,visible:e.visible})),t=>{const n=e.indexOf(t.property);return n>=0?n:1/0});_.createAndCommit(this.environment,e=>{c.h({stores:[t],update:{collection_page_properties:n},transaction:e})})},this.handleShowMoreButtonClick=()=>{de.a.setState({...de.a.state,forceShowProperties:!0})},this.handleHidePropertiesButtonClick=()=>{de.a.setState({...de.a.state,forceShowProperties:!1})},this.handleAddPropertyClick=()=>{const{collectionStore:e,schema:t,intl:n}=this.props,o=Object.keys(t),r=this.mergedProperties.state.map(e=>({property:e.property,visible:e.visible})),a=Object(je.a)(n.formatMessage({defaultMessage:"Property",id:"database.addNewProperty.pageProperty.defaultNamePrefix",description:"When a new property is added in a database from a page in the database, the property will be assigned a unique name like 'Property', 'Property 1', or 'Property 2'."}),e=>!o.find(n=>{const o=t[n];return Boolean(o&&o.name===e)})),i=Object(Fe.a)(),s={name:a,type:"text"},l={...t,[i]:s},c=[...r,{property:i,visible:!0}],d={...e.getFormat(),collection_page_properties:c};_.createAndCommit(this.environment,t=>{he.p({environment:this.environment,collectionStore:e,update:{schema:l,format:d},transaction:t})}),W.kb(this.environment,{from:"page_properties"}),de.a.setState({...de.a.state,openProperty:i})},this.handleBlockPropertyTab=()=>{const{store:e,blockPropertyValueOverlayStore:t}=this.props,n=t.state;if(!n.isOpen)return;const o=this.mergedProperties.state,r=o.findIndex(e=>e.property===n.property),a=o.find((e,t)=>t>r&&this.canOpenProperty(e.property))||o.find((e,t)=>this.canOpenProperty(e.property));a&&Ne.default.afterNextFlush(()=>{be.h({environment:this.environment,blockPropertyValueOverlayStore:t,store:e,property:a.property,format:ve.a.Page})}),be.a({environment:this.environment,blockPropertyValueOverlayStore:t})},this.handleBlockPropertyUntab=()=>{const{store:e,blockPropertyValueOverlayStore:t}=this.props,n=t.state;if(!n.isOpen)return;const o=this.mergedProperties.state,r=o.findIndex(e=>e.property===n.property),a=i.a.findLast(o,(e,t)=>t<r&&this.canOpenProperty(e.property))||i.a.findLast(o,(e,t)=>this.canOpenProperty(e.property));a&&Ne.default.afterNextFlush(()=>{be.h({environment:this.environment,blockPropertyValueOverlayStore:t,store:e,property:a.property,format:ve.a.Page})}),be.a({environment:this.environment,blockPropertyValueOverlayStore:t})},this.handleMouseEnter=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.mergedProperties=this.createComputedStore(()=>{const{format:e,store:t,intl:n,schema:o}=this.props,r=t.getValue(),a=this.props.collectionStore.getFormat(),i=a&&a.property_visibility;if(i){const a=e.collection_page_properties||[],s={};return a.map(e=>({visibility:"show",hasValue:!Boolean(r&&Object(Ue.l)({block:r,property:e.property,schema:o,getRecordValue:t.getRecordValue,userTimeZone:Ve.m,intl:n,normalizedSchemaCache:s})),...e,...i.find(t=>t.property===e.property)}))}{const n=e.collection_page_properties;return n?n.map(e=>({...e,visibility:"show",hasValue:Boolean(t.getPropertyValue(e.property))})):[]}})}renderComponent(){const{paddingLeft:e,paddingRight:t,width:n}=this.props;return r.a.createElement("div",{style:ze.style,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r.a.createElement("div",{style:{paddingLeft:e,paddingRight:t,width:n,maxWidth:"100%",paddingTop:8,paddingBottom:8,margin:"0 auto"}},this.renderProperties(),this.renderPropertyActions()))}renderProperties(){const{device:e}=this.environment,{disabled:t,locked:n,parentCollectionLocked:o}=this.props,a=this.mergedProperties.state.map(e=>e.property);return e.isMobile||t||n||o?r.a.createElement("div",{style:se.b.verticalStyle},a.map((e,t)=>r.a.createElement("div",{key:t},this.renderPropertyRow(e)))):r.a.createElement(se.b,{disabled:this.showMoreCount()>0&&!de.a.state.forceShowProperties,direction:se.a.Vertical,keys:a,renderKey:this.renderPropertyRow,onDrop:this.handleReorder})}renderPropertyActions(){const{collectionStore:e,locked:t,parentCollectionLocked:n}=this.props,o=this.showMoreCount(),r=e.canEdit()&&!t&&!this.props.disabled&&!n,a=[];return(de.a.state.forceShowProperties||0===o)&&r&&a.push(this.renderAddPropertyButton()),o>0&&(de.a.state.forceShowProperties?a.push(this.renderHidePropertiesButton(o)):a.push(this.renderShowMoreButton(o))),a}renderHidePropertiesButton(e){return r.a.createElement(P.a,{style:this.getToggleVisibilityPropertiesButtonStyle(),onClick:this.handleHidePropertiesButtonClick,key:"hide-properties"},me.a.chevronDownThin({...this.getActionPropertyButtonIconStyle(),transform:"rotate(180deg)"}),r.a.createElement("div",{style:ze.addPropertyButtonTitleStyle},r.a.createElement(L.FormattedMessage,{defaultMessage:"{num, plural, one {Hide 1 property} other {Hide {num} properties}}",id:"database.pageProperties.hidePropertyTitle",values:{num:e}})))}renderShowMoreButton(e){return r.a.createElement(P.a,{style:this.getToggleVisibilityPropertiesButtonStyle(),onClick:this.handleShowMoreButtonClick,key:"show-more"},me.a.chevronDownThin(this.getActionPropertyButtonIconStyle()),r.a.createElement("div",{style:ze.addPropertyButtonTitleStyle},r.a.createElement(L.FormattedMessage,{defaultMessage:"{num, plural, one {1 more property} other {{num} more properties}}",id:"database.pageProperties.showMorePropertyTitle",values:{num:e}})))}renderAddPropertyButton(){return r.a.createElement(P.a,{style:this.getAddPropertyButtonStyle(),onClick:this.handleAddPropertyClick,key:"add-properties"},me.a.plus(this.getActionPropertyButtonIconStyle()),r.a.createElement("div",{style:ze.addPropertyButtonTitleStyle},r.a.createElement(L.FormattedMessage,{defaultMessage:"Add a property",id:"database.pageProperties.addPropertyButtonTitle"})))}canOpenProperty(e){const{schema:t}=this.props,n=t[e];return Boolean(n&&!ue.q.includes(n.type))}showMoreCount(){return this.mergedProperties.state.filter(e=>"hide"===e.visibility||"hide_if_empty"===e.visibility&&!e.hasValue).length}getAddPropertyButtonStyle(){const{device:e}=this.environment;return{display:"flex",alignItems:"center",color:this.theme.lightTextColor,borderRadius:3,paddingLeft:6,paddingRight:6,height:34,width:e.isMobile?"100%":160}}getToggleVisibilityPropertiesButtonStyle(){const{device:e}=this.environment;return{...this.getAddPropertyButtonStyle(),width:e.isMobile?"100%":200}}getActionPropertyButtonIconStyle(){return{width:16,height:16,marginRight:9,marginTop:1,fill:this.theme.lightIconColor}}}ze.style={width:"100%",fontSize:14},ze.addPropertyButtonTitleStyle={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0};var Xe=Object(L.injectIntl)(ze),Ye=n("vo/r"),He=n("EarS");function qe(e){if(e){const t=Object(l.Y)(e.getValue());return Boolean(t)}return!1}function We(e){if(e){const t=e.getSettings();if(t&&t.hidden_collection_descriptions)return t.hidden_collection_descriptions}return[]}function Ge(e){const{environment:t,pageId:n,isExpanded:o,store:r,userSettingsStore:a,descriptionStore:i}=e,s=r.state.isExpanded;r.setState({isExpanded:o}),qe(i)&&a&&s!==o&&_.createAndCommit(t,e=>{if(o){const t={pointer:{table:"user_settings",id:a.id},path:["settings","hidden_collection_descriptions"],command:"listRemove",args:{id:n}};_.addOperation({store:a,transaction:e,operation:t})}else{const t={pointer:{table:"user_settings",id:a.id},path:["settings","hidden_collection_descriptions"],command:"listAfter",args:{id:n}};_.addOperation({store:a,transaction:e,operation:t});let o=We(a);for(;o.length>1e3;){const t=o[0],n={pointer:{table:"user_settings",id:a.id},path:["settings","hidden_collection_descriptions"],command:"listRemove",args:{id:t}};_.addOperation({store:a,transaction:e,operation:n}),o=We(a)}}})}var Ze=n("N34Z"),Ke=n("Gw5o"),Je=n("LEzx");class Qe extends Je.a{getInitialState(){return{forceDiscussionOpen:!1}}}var $e=Qe,et=n("htWf"),tt=n("hbKx"),nt=n("ju2U"),ot=n("/0g+"),rt=n("6rsX"),at=n("IdSf"),it=n("7TLZ"),st=n("SeL1"),lt=n("Uc+B"),ct=n("gRnv"),dt=n("i3uR"),ut=n("gbGO"),pt=n("g4rC"),ht=n("lBar"),mt=n("HRSx"),ft=n("nZ1u"),gt=n("3k5a"),bt=n("gYhp"),vt=n("dccM"),yt=n("0zNc"),St=n("UiOz"),wt=n("QhBr"),kt=n("PuL6"),Ct=n("EmAo"),Mt=n("3KLF"),Et=n("9PHN"),_t=n("d9nj"),Tt=n("H1ac"),xt=n("7M94"),It=n("Wvka"),Pt=n("prF1"),Ot=n("7KuZ"),Bt=n("RQ1t"),Lt=n("Ajfl"),Rt=n("m0IC"),Dt=n("DNgp"),At=n("7z/K");class jt extends C.a{constructor(){super(...arguments),this.editor=null,this.storeTypes={store:At.a,buttonPopupStore:pt.a},this.renderLockedTooltip=()=>{const{collectionStore:e}=this.props,t=e&&e.getIcon();return r.a.createElement("div",{style:{display:"flex",alignItems:"start"}},r.a.createElement("div",{style:{paddingTop:4,paddingRight:6}},me.a.locked({width:12})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(L.FormattedMessage,{defaultMessage:"Please unlock {pageTitleWithIcon} to edit the description.",id:"pageDescription.lockedTooltip.message",values:{pageTitleWithIcon:r.a.createElement("span",{style:{whiteSpace:"nowrap",fontWeight:p.a.fontWeight.bold}},t&&r.a.createElement(F.a,{disabled:!0,icon:t,isEmptyPage:!1,size:12,style:{marginRight:4,display:"inline-block"}}),e&&r.a.createElement(_e.a,{store:e,style:{display:"inline"}}))}}))))},this.handleEnter=e=>{if(!this.canEdit())return;if(e.preventDefault(),this.editor&&this.editor.isComposing())return;const t=Dt.default.state;"editing"===t.mode&&_.createAndCommit(this.environment,e=>{Lt.n({environment:this.environment,store:this.props.descriptionStore,string:"\n",selection:t.selection,disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:e})})},this.handleToggleExpanded=e=>{this.isExpanded()||e.preventDefault(),this.togglePageDescription()},this.handleMouseMove=e=>{const{disabled:t}=this.props;Rt.f({store:this.stores.store,event:e,disabled:t||!1})},this.handleMouseLeave=e=>{const{disabled:t}=this.props;Rt.e({store:this.stores.store,event:e,disabled:t||!1})}}renderComponent(){return r.a.createElement("div",{style:{maxWidth:"100%",borderRadius:3,overflow:"hidden",marginBottom:12},onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},this.renderExpanded())}renderExpanded(){return this.props.isMobile?r.a.createElement(o.Fragment,null,this.renderDescriptionText()):r.a.createElement(Ee.a,{renderTooltip:this.renderLockedTooltip,disableTooltip:!this.props.locked||!this.props.canEdit,render:e=>r.a.createElement("div",null,r.a.createElement("div",Object.assign({style:{display:"flex",cursor:"text"}},e),this.renderDescriptionText()))})}renderDescriptionText(){const{device:e}=this.environment,{intl:t}=this.props;if(this.props.descriptionStore)return r.a.createElement(ie.a,{ref:e=>{this.editor=e},store:this.props.descriptionStore,style:{fontSize:14,paddingLeft:6,paddingBottom:4,paddingTop:3,width:780},disabled:this.props.disabled,placeholder:t.formatMessage({defaultMessage:"Add a description…",id:"pageDescription.emptyPlaceholder"}),disableSlashCommands:!0,disableEmbedMenu:!0,disableDateMentions:!0,disableMentions:!0,onEnter:this.handleEnter,onClick:this.isExpanded()?()=>{}:this.handleToggleExpanded,disableStyleAnnotations:e.isMobileBrowser,disableHorizontalEdgeScroll:!0})}isExpanded(){return this.props.toggleStore.isExpanded()}canEdit(){const{descriptionStore:e}=this.props,t=this.pageContext&&this.pageContext.publicEditModeStore.state;return!this.props.disabled&&((!t||"edit"===t)&&e.canEdit())}togglePageDescription(){const e=this.isExpanded();Ge({environment:this.environment,pageId:this.props.pageId,isExpanded:!e,store:this.props.toggleStore,userSettingsStore:this.props.userSettingsStore,descriptionStore:this.props.descriptionStore})}}jt.stores={store:At.a,buttonPopupStore:pt.a};var Ft=Object(L.injectIntl)(jt);class Vt extends Je.a{getInitialState(){return{isExpanded:!0}}isExpanded(){return Boolean(this.state.isExpanded)}}var Nt,Ut=Vt,zt=n("+NSf"),Xt=n("h5Kq"),Yt=n("p0Uu"),Ht=n("yioD"),qt=n("nPEg"),Wt=n("bug4"),Gt=n("0CAA"),Zt=n("wS9/"),Kt=n("wQYB"),Jt=n("sr17"),Qt=n("40tV"),$t=n("FUUC"),en=n("zmp8"),tn=n("G4cA"),nn=n("Zo/l");function on(e){const{urlStore:t}=e,{device:n}=Object(nn.b)(),o=Object($.a)({store:t,fullyQualified:!1}),a=e.titleStore||t;return r.a.createElement(at.a,{href:o,style:{display:"inline-flex"},innerStyle:{display:"inline-flex",alignItems:"baseline"}},r.a.createElement(F.a,{disabled:!0,icon:a.getIcon(),isEmptyPage:!1,size:n.isMobile?18:16,emojiSize:n.isMobile?24:20,style:{marginRight:"0.2em",fill:""},pageIconStyle:{fill:en.g.white}}),r.a.createElement(_e.a,{store:a,style:{fontWeight:p.a.fontWeight.medium}}))}function rn({movedSourceBlock:e,moveTarget:t}){return r.a.useMemo(()=>r.a.createElement(on,{urlStore:h.a.createChildStore(e,t.moved_to),titleStore:tn.a.createChildStore(e,{table:$t.a,id:t.moved_to.spaceId})}),[e,t])}function an({movedSourceBlock:e,moveTarget:t}){const n=rn({movedSourceBlock:e,moveTarget:t});return r.a.createElement(L.FormattedMessage,{defaultMessage:"Moved to {targetSpaceLink}.",id:"pageViewBlock.movedPageBanner.pageMovedMessage",values:{targetSpaceLink:n}})}function sn({movedSourceBlock:e,moveTarget:t}){const n=rn({movedSourceBlock:e,moveTarget:t});return r.a.createElement(L.FormattedMessage,{defaultMessage:"{movedAncestorLink} was moved to {targetSpaceLink}.",id:"pageViewBlock.movedPageBanner.ancestorMovedMessage",values:{targetSpaceLink:n,movedAncestorLink:r.a.createElement(on,{urlStore:e})}})}n.d(t,"a",(function(){return Nt})),function(e){e[e.Frame=0]="Frame",e[e.PeekView=1]="PeekView",e[e.InAppTemplatePreview=2]="InAppTemplatePreview",e[e.FrontPageTemplatePreview=3]="FrontPageTemplatePreview"}(Nt||(Nt={}));const ln=Object(L.defineMessages)({untitledPage:{id:"pageViewBlock.untitledPage.placeholder",defaultMessage:"Untitled"}});class cn extends b.a{constructor(){super(...arguments),this.registries=[gt.a,vt.a],this.contentEl=null,this.openResolvedDiscussionPopup=()=>{this.stores.resolvedDiscussionButtonPopupStore.setState({open:!0}),this.stores.pageViewBlockStore.setState({...this.stores.pageViewBlockStore.state,forceDiscussionOpen:!0})},this.discussionInputStore=new lt.a(this.environment),this.storeTypes={headerMouseStore:f.a,detailsMouseStore:f.a,pageViewBlockStore:$e,resolvedDiscussionButtonPopupStore:pt.a,backlinksButtonPopupStore:pt.a,templatePickerMenuListStore:Bt.a,pageDescriptionStore:Ut},this.renderBacklinksIcon=e=>me.a.alias({...e,transform:"rotate(180deg)"}),this.canRestorePage=()=>{const{store:e}=this.props;if(!e.canEdit())return!1;const t=e.getParentStore();return!t||t.canEdit()},this.renderRestoreBannerButton=e=>{const t={default:r.a.createElement(L.FormattedMessage,{defaultMessage:"Restore page",id:"pageViewBlock.trashBanner.restoreButton.label"}),lastVersion:r.a.createElement(L.FormattedMessage,{defaultMessage:"Restore last version",id:"pageViewBlock.trashBanner.restoreLastVersionButton.label"}),currentPage:r.a.createElement(L.FormattedMessage,{defaultMessage:"Restore current page",id:"pageViewBlock.trashBanner.restoreCurrentPageButton.label"})};return r.a.createElement(Et.a,{style:{marginLeft:12},onClick:this.handleRestoreClick},t[e])},this.renderRestoreDeleteBannerButtons=()=>r.a.createElement(o.Fragment,null,this.renderRestoreBannerButton("default"),r.a.createElement(Et.a,{style:{marginLeft:12},onClick:this.handleDeletePermanentlyClick},r.a.createElement(L.FormattedMessage,{defaultMessage:"Delete permanently",id:"pageViewBlock.trashBanner.deletePermanentlyButton.label"}))),this.renderMovedBannerContents=e=>{const{store:t,moved:n}=e,{device:o}=this.environment,a=this.canRestorePage(),i={display:"flex",alignItems:"center",justifyContent:"center",...o.isMobile&&{flexWrap:"wrap",paddingTop:8,paddingBottom:8}},s={...o.isMobile&&{marginTop:8}},l=t.id===this.props.store.id,c=l?r.a.createElement(an,{movedSourceBlock:t,moveTarget:n}):r.a.createElement(sn,{movedSourceBlock:t,moveTarget:n}),d=l?"lastVersion":"currentPage";return r.a.createElement("div",{style:i},r.a.createElement("div",null,c),a&&r.a.createElement("div",{style:s},this.renderRestoreBannerButton(d)))},this.renderDeletedOrMovedBannerContents=()=>{const{store:e}=this.props,{device:t}=this.environment,n=this.canRestorePage(),a=r.a.createElement(L.FormattedMessage,{defaultMessage:"This page is in Trash.",id:"pageViewBlock.trashBanner.message"}),i=e.getClosestMovedBlock();return i?this.renderMovedBannerContents(i):t.isMobile&&n?this.renderRestoreDeleteBannerButtons():n?r.a.createElement(o.Fragment,null,r.a.createElement("div",null,a),this.renderRestoreDeleteBannerButtons()):r.a.createElement(o.Fragment,null,r.a.createElement("div",null,a))},this.renderCollectionTemplatePageBannerContents=()=>{const{device:e}=this.environment,{store:t}=this.props,n=t.getParentCollectionStore();if(!n)return;const a=n.getParentBlockStore();if(!a)return;const i=Object(It.a)({pageId:a.id}),s=r.a.createElement(L.FormattedMessage,{defaultMessage:"Back",id:"pageViewBlock.templatePageBanner.backButton.label"});return e.isMobile?r.a.createElement("div",{style:{display:"flex",alignItems:"center",minWidth:0,flexGrow:1}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(o.Fragment,null,r.a.createElement(_t.a,{onClick:this.handleCollectionTemplatePageBannerBackClick,mobileFeedback:!0,style:{marginLeft:-8}},s),r.a.createElement("div",{style:{height:18,width:1,marginLeft:4,marginRight:12,flexShrink:0,background:this.theme.darkDividerColor}}))),r.a.createElement("div",{style:{display:"flex",alignItems:"center",minWidth:0}},r.a.createElement(L.FormattedMessage,{defaultMessage:"<mediumtext>Template in</mediumtext> {pageTitleWithIcon}",id:"pageViewBlock.templatePageBanner.mobile.editTemplateLabel",values:{mediumtext:(...e)=>r.a.createElement("span",{style:{color:this.theme.mediumTextColor}},e),pageTitleWithIcon:r.a.createElement(at.a,{href:i,style:{marginLeft:8,marginRight:"auto",minWidth:0},innerStyle:{display:"flex",alignItems:"center"}},r.a.createElement(F.a,{disabled:!0,icon:n.getIcon(),isEmptyPage:!1,size:20}),r.a.createElement(_e.a,{style:{marginLeft:4,marginRight:8},store:n,underline:!0}))}})),r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(Ot.a,{href:Object(Gt.a)("guides.databaseTemplates"),isRight:!0,analyticsFrom:"collection_template_topbar"}))):r.a.createElement("div",{style:{display:"flex",alignItems:"center",minWidth:0,flexGrow:1}},r.a.createElement("div",{style:{display:"flex",flex:1}},r.a.createElement(_t.a,{icon:me.a.historyBack,isGray:!0,onClick:this.handleCollectionTemplatePageBannerBackClick,style:{marginRight:"auto",marginLeft:this.props.context===Nt.PeekView?-6:-4}},s)),r.a.createElement("div",{style:{display:"flex",alignItems:"center",minWidth:0}},r.a.createElement(L.FormattedMessage,{defaultMessage:"<mediumtext>You're editing a template in</mediumtext> {pageTitleWithIcon}",id:"pageViewBlock.templatePageBanner.editTemplateLabel",values:{mediumtext:(...e)=>r.a.createElement("span",{style:{color:this.theme.mediumTextColor}},e),pageTitleWithIcon:r.a.createElement(at.a,{href:i,style:{marginLeft:8,marginRight:8,minWidth:0},innerStyle:{display:"flex",alignItems:"center"}},r.a.createElement(F.a,{disabled:!0,icon:n.getIcon(),isEmptyPage:!1,size:20}),r.a.createElement(_e.a,{style:{marginLeft:4},store:n,underline:!0}))}})),r.a.createElement("div",{style:{display:"flex",flex:1}},r.a.createElement(Pt.a,{href:Object(Gt.a)("guides.databaseTemplates"),style:{marginLeft:"auto",marginRight:-6},onClick:()=>W.C(this.environment,{from:"collection_template_topbar"})},r.a.createElement(_t.a,{isLightGray:!0,icon:me.a.help},r.a.createElement(L.FormattedMessage,{defaultMessage:"Learn more",id:"pageViewBlock.templatePageBanner.learnMoreLink"})))))},this.renderImportEvernoteBannerContents=()=>{const e=Mt.a.state.pageMap[this.props.store.id];if(e)return r.a.createElement(o.Fragment,null,r.a.createElement(w.a,{isWhite:!0,style:{marginRight:8}}),r.a.createElement(L.FormattedMessage,{defaultMessage:"Imported {importedNumberOfNotes} of {totalNumberOfNotes}",values:{importedNumberOfNotes:e.importedNotes,totalNumberOfNotes:e.totalNotes},id:"pageViewBlock.evernoteBanner.contents"}))},this.renderEditingPageBannerContents=()=>r.a.createElement(o.Fragment,null,r.a.createElement(L.FormattedMessage,{id:"pageViewBlock.editingPageBanner.status",defaultMessage:"You can now edit this page."}),r.a.createElement(_t.a,{onClick:this.handleStopPublicEdit},r.a.createElement(L.FormattedMessage,{id:"pageViewBlock.editingPageBanner.stop",defaultMessage:"Done editing"}))),this.handleAddRandomIconClick=()=>{const{store:e}=this.props;_.createAndCommit(this.environment,t=>{c.b({store:e,transaction:t})})},this.handleAddRandomCoverClick=()=>{const{store:e}=this.props;_.createAndCommit(this.environment,t=>{c.a({store:e,transaction:t})})},this.handleSubmitNewDiscussion=async()=>{const{device:e}=this.environment,t=this.discussionInputStore.state.textStore.getValue();if(t&&t.length>0){const n=_.createAndCommit(this.environment,e=>ct.b({environment:this.environment,blockStore:this.props.store,commentTextValue:t,transaction:e}));if(this.discussionInputStore.reset(),this.stores.pageViewBlockStore.setState({...this.stores.pageViewBlockStore.state,forceDiscussionOpen:!1}),this.setDiscussionToggleState(!0),n&&!e.isMobile){await Ne.default.afterNextFlush();const e=bt.a.findComponent(e=>e.props.store.id===n.id);e&&d.n({store:e.discussionInputStore.state.textStore})}}},this.handleAddDiscussion=async()=>{this.stores.pageViewBlockStore.setState({...this.stores.pageViewBlockStore.state,forceDiscussionOpen:!0}),W.Nc(this.environment,{from:"page_comments"}),await Ne.default.afterNextFlush(),d.n({store:this.discussionInputStore.state.textStore})},this.handleHideBacklinks=()=>{this.setBacklinksToggleState(!1)},this.handleShowBacklinks=()=>{this.setBacklinksToggleState(!0)},this.handleShowDiscussion=()=>{this.setDiscussionToggleState(!0)},this.handleHideDiscussion=()=>{this.setDiscussionToggleState(!1),this.stores.pageViewBlockStore.setState({...this.stores.pageViewBlockStore.state,forceDiscussionOpen:!1})},this.handleAddDescriptionClick=()=>{const{device:e}=this.environment,{pageDescriptionStore:t}=this.stores,{currentUserSettingsStore:n}=Q.default.state,o=this.getDescriptionStore();Ge({environment:this.environment,pageId:this.props.store.id,store:t,userSettingsStore:n,isExpanded:!0,descriptionStore:o}),Ne.default.afterNextFlush(()=>{const t=this.getDescriptionStore();t&&(e.isMobileBrowser||d.n({store:t}))})},this.handleHeaderMouseEnter=()=>{yt.a.state.isDragging||ft.a.state.isActive||this.stores.headerMouseStore.setState({...this.stores.headerMouseStore.state,mouseEntered:!0})},this.handleHeaderMouseLeave=()=>{yt.a.state.isDragging||ft.a.state.isActive||this.stores.headerMouseStore.setState({...this.stores.headerMouseStore.state,mouseEntered:!1})},this.handleDetailsMouseEnter=()=>{yt.a.state.isDragging||ft.a.state.isActive||this.stores.detailsMouseStore.setState({...this.stores.detailsMouseStore.state,mouseEntered:!0})},this.handleDetailsMouseLeave=()=>{yt.a.state.isDragging||ft.a.state.isActive||this.stores.detailsMouseStore.setState({...this.stores.detailsMouseStore.state,mouseEntered:!1})},this.handleHideDescription=()=>{const{pageDescriptionStore:e}=this.stores,{currentUserSettingsStore:t}=Q.default.state,n=this.props.store.id,o=this.getDescriptionStore();Ge({environment:this.environment,pageId:n,isExpanded:!1,store:e,userSettingsStore:t,descriptionStore:o})},this.handleShowDescription=()=>{const{pageDescriptionStore:e}=this.stores,{currentUserSettingsStore:t}=Q.default.state,n=this.props.store.id,o=this.getDescriptionStore();Ge({environment:this.environment,pageId:n,isExpanded:!0,store:e,userSettingsStore:t,descriptionStore:o})},this.handleHeaderMouseEnterThrottled=i.a.throttle(this.handleHeaderMouseEnter,100),this.handleHeaderMouseLeaveDebounced=i.a.debounce(this.handleHeaderMouseLeave,100),this.handleDetailsMouseEnterThrottled=i.a.throttle(this.handleDetailsMouseEnter,100),this.handleDetailsMouseLeaveDebounced=i.a.debounce(this.handleDetailsMouseLeave,100),this.handleTitleEditText=e=>{const{store:t}=this.props,n=t.getTitleStore();return!!n&&(rt.f({environment:this.environment,store:this.props.store}),e.isAtStart?d.o({store:n}):d.n({store:n}),!0)},this.handleTitleEsc=e=>{const{onTitleEsc:t}=this.props;d.f(this.environment),t&&t(e)},this.handleTitleTab=e=>{const{store:t}=this.props;if(e.preventDefault(),this.shouldShowProperties()){const e=this.getFormat();if(e&&e.collection_page_properties){const n=e.collection_page_properties.find((e,t)=>this.canOpenProperty(e.property));n&&Ne.default.afterNextFlush(()=>{be.h({environment:this.environment,blockPropertyValueOverlayStore:this.getBlockPropertyOverlayStore(),store:t,property:n.property,format:ve.a.Page})})}}},this.handlePlaceholderClick=()=>{const{store:e}=this.props;!e.canEdit()||this.props.store.isLocked()||this.shouldShowSpinner()||Object(ge.d)()||_.createAndCommit(this.environment,t=>{He.b({environment:this.environment,store:e,transaction:t})})},this.handlePlaceholderWrapClick=e=>{Object(q.d)({event:e,context:q.a.EditorClick,callback:this.handlePlaceholderClick})},this.handleRecordIconChange=async e=>{const{store:t}=this.props,n=t.getIconStore();if(n){const t=_.create(this.environment);Ze.c({store:n,value:e,transaction:t}),await _.commit({environment:this.environment,transaction:t})}},this.handleDiscussionWrapMouseDown=e=>{Object(q.d)({event:e,context:q.a.EditorMouseDown,callback:()=>{}})},this.handleDiscussionWrapClick=e=>{Object(q.d)({event:e,context:q.a.EditorClick,callback:()=>{}})},this.handleRestoreClick=()=>{const{store:e}=this.props,{currentSpaceStore:t}=Q.default.state;t&&ot.d({environment:this.environment,block:e,spaceId:t.id})},this.handleDeletePermanentlyClick=()=>{const{store:e}=this.props;ot.a({environment:this.environment,blocks:[e]})},this.handleCollectionTemplatePageBannerBackClick=()=>{ne.back()},this.handleStopPublicEdit=()=>{Ht.a.setState({editing:!1})},this.handleTitleChange=()=>{this.stores.templatePickerMenuListStore.reset()},this.handleNavigateToMovedPage=e=>t=>{const{store:n}=this.props;ne.navigateToBlock({environment:this.environment,store:h.a.createChildStore(n,e),metaClick:t&&t.metaKey,visitType:Qt.c.Link})},this.numberOfBacklinks=this.createComputedStore(()=>Object(Jt.a)(this.props.store,this.environment).length)}getContentInnerWidth(){const e=this.getContentWrapEl();if(e){const t=e.getBoundingClientRect().width,n=getComputedStyle(e),o=parseFloat(n.getPropertyValue("padding-left")),r=parseFloat(n.getPropertyValue("padding-left"));return t-(i.a.isNaN(o)?0:o)-(i.a.isNaN(r)?0:r)}}getContentWrapEl(){return this.contentEl}willMount(e){super.willMount(e);const{currentUserSettingsStore:t}=Q.default.state,n=this.props.store.id;this.stores.pageDescriptionStore=new Ut,function(e){const{pageId:t,store:n,userSettingsStore:o,descriptionHasText:r}=e;let a=r;We(o).includes(t)&&(a=!1),n.setState({isExpanded:a})}({pageId:n,store:this.stores.pageDescriptionStore,userSettingsStore:t,descriptionHasText:this.descriptionHasText()})}willMountOrUpdate(e){super.willMountOrUpdate(e);const{store:t,context:n}=e;if(n===Nt.Frame){const e=t.getValue(),n=this.pageContext&&this.pageContext.publicEditModeStore.state;!n||"edit"!==n||e&&e.is_template?nt.c({bannerStore:this.getBannerStore(),id:"EditingPageBanner"}):nt.b({bannerStore:this.getBannerStore(),id:"EditingPageBanner",render:this.renderEditingPageBannerContents,type:Xt.a.White})}if(n===Nt.Frame||n===Nt.PeekView){tt.a(t)?nt.b({bannerStore:this.getBannerStore(),id:"DeletedPage",render:this.renderDeletedOrMovedBannerContents,type:Xt.a.Red}):nt.c({bannerStore:this.getBannerStore(),id:"DeletedPage"})}if(n===Nt.Frame||n===Nt.PeekView){const e=t.getValue();e&&e.is_template&&t.canEdit()?nt.b({bannerStore:this.getBannerStore(),id:"CollectionTemplatePage",render:this.renderCollectionTemplatePageBannerContents,type:Xt.a.Beige}):nt.c({bannerStore:this.getBannerStore(),id:"CollectionTemplatePage"})}if(n===Nt.Frame){Mt.a.state.pageMap[t.id]?nt.b({bannerStore:this.getBannerStore(),id:"ImportingEvernotePage",render:this.renderImportEvernoteBannerContents,type:Xt.a.Blue}):nt.c({bannerStore:this.getBannerStore(),id:"ImportingEvernotePage"})}}didMount(){const{device:e}=this.environment,{store:t,context:n}=this.props,o=t.getTitleStore(),{forceSelectTitleOnMount:r}=this.props;if(e.isPhone){const{PageScroller:e}=Yt.a;if(e){if(e.scrollerEl()&&this.canEdit()&&!t.hasCover()){const t=this.getTitlePaddingHeightWithPaddingTop();e.scrollTo(t)}}}o&&(r||!l.Y(o.getValue())||this.isEmptyContentBlock()&&!e.isMobile)&&(rt.f({environment:this.environment,store:t}),d.n({store:o})),n!==Nt.Frame||this.props.store.isCollectionView()||(zt.default.initialRenderCompleted?!zt.default.lastNavigationRenderCompleted&&zt.default.lastNavigationTime&&zt.default.lastNavigationTimePerformance&&(zt.default.setLastNavigationRenderCompleted(),zt.default.emit(this.environment,{type:"navigation_page_render",startDateTime:zt.default.lastNavigationTime,startPerformanceTime:zt.default.lastNavigationTimePerformance})):(zt.default.setInitialRenderCompleted(),zt.default.emit(this.environment,{type:"initial_page_render",startDateTime:zt.default.appStartTime,startPerformanceTime:zt.default.appStartTimePerformance})))}willUnmount(){super.willUnmount();const{context:e}=this.props;e!==Nt.Frame&&e!==Nt.PeekView||(nt.c({bannerStore:this.getBannerStore(),id:"DeletedPage"}),nt.c({bannerStore:this.getBannerStore(),id:"CollectionTemplatePage"}))}renderPersisted(){return r.a.createElement(o.Fragment,null,this.renderHeader(),this.renderBody())}renderHeader(){const{store:e}=this.props;return e.isCollectionView()?this.renderCollectionHeader():this.renderPageHeader()}renderBody(){const{store:e}=this.props;return e.isCollectionView()?this.renderCollectionView(e):this.renderDocumentView()}renderDetailsDivider(e){return r.a.createElement("div",{key:e,style:{width:"100%",height:1,background:this.theme.regularDividerColor,marginBottom:8}})}renderPageHeader(){const{device:e,WindowSizeStore:t}=this.environment,{store:n,paddingLeft:o,paddingRight:a}=this.props,i=this.renderIcon(),s=this.renderProperties(),l=this.renderPageDiscussion(),c=this.renderBacklinks(),d=[];s&&d.push(s),c&&(d.length>0&&d.push(this.renderDetailsDivider(3)),d.push(c)),l&&(d.length>0&&d.push(this.renderDetailsDivider(2)),d.push(l)),d.length>0&&d.push(this.renderDetailsDivider(1));const u=[],p=[],h=!c&&this.renderShowBacklinks();h&&u.push(h);const m=!l&&this.renderShowDiscussion();m&&u.push(m);const f=this.renderAddIcon();f&&p.push(f);const b=this.renderCoverToggle();b&&p.push(b);const v=this.renderResolveDiscussionButtonPopupMenu();v&&l&&u.unshift(v);const y=this.renderAddDiscussion(!1),S=this.renderAddDiscussion(!0);!l&&u.length>0?S&&u.push(S):e.isMobile&&0===p.length?S&&u.push(S):y&&p.push(y);const w=r.a.createElement("div",{style:this.getHeaderControlsStyle(),className:"notion-page-controls"},p),k=e.isMobile&&!n.hasCover();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:this.getHeaderStyle(),onMouseEnter:this.handleHeaderMouseEnterThrottled,onMouseMove:this.handleHeaderMouseEnterThrottled,onMouseLeave:this.handleHeaderMouseLeaveDebounced},this.renderPageCover(),r.a.createElement(g.a,{isVisible:!0,animationStyle:{width:this.getAdjustedPageWidth()},render:()=>r.a.createElement("div",{style:{paddingLeft:t.getSafePaddingLeftCSS(o),paddingRight:t.getSafePaddingRightCSS(a),maxWidth:"100%"}},k&&w,i,!k&&w,this.renderTitle())})),r.a.createElement("div",{style:this.getHeaderStyle(),onMouseEnter:this.handleDetailsMouseEnterThrottled,onMouseMove:this.handleDetailsMouseEnterThrottled,onMouseLeave:this.handleDetailsMouseLeaveDebounced},r.a.createElement(g.a,{isVisible:!0,animationStyle:{width:this.getAdjustedPageWidth()},render:()=>r.a.createElement("div",{style:{paddingLeft:t.getSafePaddingLeftCSS(o),paddingRight:t.getSafePaddingRightCSS(a),maxWidth:"100%"}},d,r.a.createElement("div",{style:this.getDetailControlsSectionStyle(),className:"notion-page-details-controls"},u),r.a.createElement(Kt.a,{key:n.id,store:n}))})))}renderCollectionHeader(){const{WindowSizeStore:e}=this.environment,t=r.a.createElement("div",{style:this.getHeaderControlsStyle(),className:"notion-page-controls"},this.renderAddIcon(),this.renderCoverToggle(),this.renderDescriptionToggle());return r.a.createElement("div",{style:this.getHeaderStyle(),onMouseEnter:this.handleHeaderMouseEnterThrottled,onMouseMove:this.handleHeaderMouseEnterThrottled,onMouseLeave:this.handleHeaderMouseLeaveDebounced},this.renderPageCover(),r.a.createElement(g.a,{isVisible:!0,animationStyle:{width:this.getAdjustedPageWidth()},render:()=>r.a.createElement("div",{style:{paddingLeft:e.getSafePaddingLeftCSS(cn.defaultPaddingLeftRight(this.environment)),paddingRight:e.getSafePaddingRightCSS(cn.defaultPaddingLeftRight(this.environment)),maxWidth:"100%",marginBottom:8}},t,r.a.createElement("div",{style:{display:"flex"}},this.renderLinkedCollectionArrow(),this.renderIcon(),this.renderTitle()),this.shouldShowDescription()&&this.renderDescription())}))}renderLinkedCollectionArrow(){const{store:e}=this.props;if(!e.isCollectionView())return;const t=this.getOriginalCollectionViewBlockStore();return t&&t.id!==e.id?r.a.createElement(Ee.a,{renderTooltip:()=>r.a.createElement(L.FormattedMessage,{defaultMessage:"Click to navigate to the original database.",id:"pageViewBlock.collectionHeader.navigate.tooltip"}),render:e=>r.a.createElement(at.a,Object.assign({style:{marginTop:10,marginRight:6},innerStyle:{borderRadius:3,width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center"},href:Object($.a)({store:t,fullyQualified:!1})},e),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},me.a.alias({width:20,height:20})))}):void 0}renderPageCover(){const{WindowSizeStore:e}=this.environment,{store:t,paddingLeft:n,paddingRight:o,pageCoverHeight:a}=this.props,i=t.isCollectionView()?220:a;return r.a.createElement(j,{height:i,store:t,disabled:!this.canEdit()||this.props.store.isLocked(),paddingLeft:e.getSafePaddingLeftCSS(n),paddingRight:e.getSafePaddingRightCSS(o)})}renderIcon(){const{store:e}=this.props,t=e.hasIcon(),{device:n}=this.environment;if(!t)return;const o={position:"relative",zIndex:1,marginLeft:3,marginBottom:n.isMobile?16:0,alignSelf:"flex-start"};let a;e.isCollectionView()?(o.marginTop=6,o.marginRight=12):o.marginTop=e.hasCover()?-80:n.isMobile?0:cn.fullScreenCollectionPaddingLeftRight(this.environment),a=e.isCollectionView()?{marginTop:n.isMobile?4:8,marginRight:8}:{marginTop:e.hasCover()?-42:n.isMobile?0:cn.fullScreenCollectionPaddingLeftRight(this.environment)};const i=e.isCollectionView()?38:140,s=e.isCollectionView()?36:78;return!this.canEdit()||this.props.store.isLocked()?r.a.createElement(F.a,{disabled:!0,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:i,emojiSize:s,style:o,emojiStyle:a}):r.a.createElement(F.a,{disabled:!1,bucket:"secure",icon:e.getIcon(),store:e,isEmptyPage:e.isEmptyPage(),onChange:this.handleRecordIconChange,size:i,emojiSize:s,style:o,emojiStyle:a})}renderAddIcon(){const{store:e}=this.props,{device:t}=this.environment;if(this.isEditable()&&!e.hasIcon())return r.a.createElement(_t.a,{key:"add-icon",style:this.getControlHoverStyle(),isLightGray:!0,onClick:this.handleAddRandomIconClick,icon:me.a.addPageIcon},t.isSmallPhone?r.a.createElement(L.FormattedMessage,{id:"pageViewBlock.add.pageIconMobile",defaultMessage:"Icon"}):r.a.createElement(L.FormattedMessage,{id:"pageViewBlock.add.pageIcon",defaultMessage:"Add icon"}))}renderCoverToggle(){const{store:e}=this.props,{device:t}=this.environment;if(this.isEditable()&&!e.hasCover())return r.a.createElement(_t.a,{key:"add-cover",style:this.getControlHoverStyle(),isLightGray:!0,onClick:this.handleAddRandomCoverClick,icon:me.a.addPageCover},t.isSmallPhone?r.a.createElement(L.FormattedMessage,{id:"pageViewBlock.add.pageCoverMobile",defaultMessage:"Cover"}):r.a.createElement(L.FormattedMessage,{id:"pageViewBlock.add.pageCover",defaultMessage:"Add cover"}))}renderDescriptionToggle(){const{store:e}=this.props,{device:t}=this.environment;if(e.isCollectionView())return this.shouldShowDescription()?r.a.createElement(_t.a,{isLightGray:!0,style:this.getControlHoverStyle(),onClick:this.handleHideDescription,icon:me.a.collectionDescriptionSmall},r.a.createElement(L.FormattedMessage,{defaultMessage:"Hide description",id:"pageViewBlock.hideDescription.button"})):this.isEditable()&&!this.descriptionHasText()?r.a.createElement(_t.a,{isLightGray:!0,style:this.getControlHoverStyle(),onClick:this.handleAddDescriptionClick,icon:me.a.collectionDescriptionSmall},t.isSmallPhone?r.a.createElement(L.FormattedMessage,{defaultMessage:"Description",id:"pageViewBlock.addDescription.mobileButton"}):r.a.createElement(L.FormattedMessage,{defaultMessage:"Add description",id:"pageViewBlock.addDescription.button"})):this.descriptionHasText()?r.a.createElement(_t.a,{isLightGray:!0,style:this.getControlHoverStyle(),onClick:this.handleShowDescription,icon:me.a.collectionDescriptionSmall},t.isSmallPhone?r.a.createElement(L.FormattedMessage,{defaultMessage:"Description",id:"pageViewBlock.showDescription.mobileButton"}):r.a.createElement(L.FormattedMessage,{defaultMessage:"Show description",id:"pageViewBlock.showDescription.button"})):void 0}renderAddDiscussion(e){const{device:t}=this.environment,{store:n}=this.props;if(!et.e("comments","section_hide")&&!n.isCollectionView()&&!n.isInsideCollection()&&!this.hasDiscussionToShow()&&n.canComment()&&this.environment.currentUser.isLoggedIn()&&!this.stores.pageViewBlockStore.state.forceDiscussionOpen)return r.a.createElement(_t.a,{key:"add-comment",style:this.getControlHoverStyle(e),isLightGray:!0,onClick:this.handleAddDiscussion,icon:me.a.addPageDiscussion},t.isSmallPhone?r.a.createElement(L.FormattedMessage,{id:"pageViewBlock.add.pageCommentMobile",defaultMessage:"Comment"}):r.a.createElement(L.FormattedMessage,{id:"pageViewBlock.add.pageComment",defaultMessage:"Add comment"}))}renderShowDiscussion(){if(!et.e("comments","section_hide")&&this.hasDiscussionToShow()){const e=this.getNumberOfComments();return r.a.createElement(_t.a,{key:"show-comments",isGray:!0,onClick:this.handleShowDiscussion,icon:me.a.addPageDiscussion,style:this.getDetailControlButtonStyle()},r.a.createElement(L.FormattedMessage,{id:"pageViewBlock.show.pageComments",defaultMessage:"{numberOfComments, plural, one {{numberOfComments} comment} other {{numberOfComments} comments}}",values:{numberOfComments:e}}))}}renderShowBacklinks(){const e=this.numberOfBacklinks.state;if(0===e)return;if(et.e("backlinks","section_hide"))return;const t=({onClick:t=i.a.noop,tooltipEvents:n={},buttonPopupEvents:o={}})=>r.a.createElement(_t.a,Object.assign({isGray:!0,icon:this.renderBacklinksIcon,style:this.getDetailControlButtonStyle(),onClick:t},o,n),r.a.createElement(L.FormattedMessage,{id:"pageViewBlock.show.backlinks",defaultMessage:"{numberOfBacklinks, plural, one {{numberOfBacklinks} backlink} other {{numberOfBacklinks} backlinks}}",values:{numberOfBacklinks:e}})),n=r.a.createElement(Ee.a,{key:"show-backlinks",renderTooltip:()=>r.a.createElement(L.FormattedMessage,{defaultMessage:"Show pages linked to this page",id:"pageViewBlock.show.backlinks.tooltip"}),placement:Ee.a.Placement.Bottom,delayThreshold:400,render:e=>r.a.createElement(t,{tooltipEvents:e,onClick:this.handleShowBacklinks})}),o=r.a.createElement(dt.a,{key:"backlinks-popup",buttonPopupStore:this.stores.backlinksButtonPopupStore,popupType:dt.a.PopupType.Popup,renderOrigin:e=>r.a.createElement(t,{buttonPopupEvents:e}),render:()=>{const e={menuType:ut.b.MenuType.Popup,width:500};return r.a.createElement(ut.b,Object.assign({},e),this.renderBacklinksContent({disableHeader:!0}))}});return et.e("backlinks","section_collapsed")?o:n}renderTitle(){const{device:e}=this.environment,{store:t}=this.props,n=this.canEdit()&&!t.isLocked(),o=t.getTitleStore();if(o){const a=h.a.createChildStore(o,t.pointer),i=t.isEmptyPage(),s=t.isTemplate(),l=this.shouldShowTemplatePicker(),c=t.getParentCollectionTemplateStores(),d=c&&0===c.length;return r.a.createElement(V.a,{canSelect:!1,canDrag:!1,canEditText:n,onEditText:this.handleTitleEditText,store:a,style:this.getTitleStyle(),analyticsName:"page_content",shouldShowDropZone:!0},r.a.createElement(ie.a,{store:o,style:u.b,placeholderStyle:{...u.b,WebkitTextFillColor:this.theme.pageTitlePlaceholderTextColor,cursor:"text"},disabled:!this.canEdit()||this.props.store.isLocked(),placeholder:R.default.formatMessage(ln.untitledPage),disableSlashCommands:!0,disableSelectAllBlocks:!0,disableStyleAnnotations:!0,disableShiftEnter:!0,disableEmbedMenu:!0,onEsc:this.handleTitleEsc,onTab:this.handleTitleTab,disableUpDownArrows:!(!l||s||d||e.isMobile)&&i,disableEnter:!(!l||s||d||e.isMobile)&&i,onChange:this.handleTitleChange,disableHorizontalEdgeScroll:!0}))}}renderDescription(){const{device:e}=this.environment,{pageDescriptionStore:t}=this.stores,{store:n}=this.props,{currentUserSettingsStore:o}=Q.default.state,a=n.getCollectionViewCollectionStore(),i=this.getDescriptionStore();if(i&&t.isExpanded())return r.a.createElement(Ft,{descriptionStore:i,disabled:!this.canEdit()||this.props.store.isLocked(),canEdit:this.canEdit(),locked:this.props.store.isLocked(),pageId:this.props.store.id,isMobile:e.isMobile,collectionStore:a,toggleStore:this.stores.pageDescriptionStore,userSettingsStore:o})}renderProperties(){const{store:e}=this.props,t=this.getParentCollectionStore();if(!t)return;const n=this.getSchema(),o=this.getFormat(),a=e.isLocked(),i=e.isNavigableAncestorLocked();return o?r.a.createElement(Xe,{key:"page-properties",store:e,collectionStore:t,schema:n,format:o,disabled:!this.canEdit(),locked:a,parentCollectionLocked:i,width:"100%",blockPropertyValueOverlayStore:this.getBlockPropertyOverlayStore()}):void 0}renderPageDiscussion(){if(et.e("comments","section_hide"))return;const e=this.shouldShowDiscussion(),{store:t}=this.props,n=it.m(t),o=t.canComment()&&0===n.length;return e&&(o||0!==n.length)?r.a.createElement("div",{key:"page-discussion",style:{width:"100%",margin:"0 auto"},onMouseDown:this.handleDiscussionWrapMouseDown,onClick:this.handleDiscussionWrapClick,className:xt.nb},n.map((e,n,o)=>r.a.createElement(Ke.a,{key:e.id,store:e,format:Ke.a.Format.Page,isFirst:0===n,isOnly:1===o.length,discussionLocation:"page_discussion",alwaysShowResolve:!1,blockStore:t,onHide:this.handleHideDiscussion})),o&&r.a.createElement("div",{style:{display:"flex",alignItems:"flex-start",padding:"6px 4px 12px"}},r.a.createElement(st.a,{parentStore:t,onSubmit:this.handleSubmitNewDiscussion,onCancel:()=>d.f(this.environment),discussionInputStore:this.discussionInputStore,isMobileSlideUpMenu:!1,shouldSaveUnsentComments:!0}))):void 0}renderResolveDiscussionButtonPopupMenu(){const{device:e}=this.environment,t=it.l(this.props.store);if(0!==t.length)return r.a.createElement(dt.a,{key:"resolve-discussions",buttonPopupStore:this.stores.resolvedDiscussionButtonPopupStore,popupType:e.isMobile?dt.a.PopupType.SlideUp:dt.a.PopupType.Popup,renderOrigin:e=>r.a.createElement(_t.a,Object.assign({icon:me.a.thinCheck,isGray:!0,style:this.getDetailControlButtonStyle()},e),r.a.createElement(L.FormattedMessage,{id:"pageViewBlock.showResolvedComments.button",defaultMessage:"{numberOfResolvedComments, plural, one {{numberOfResolvedComments} resolved comment} other {{numberOfResolvedComments} resolved comments}}",values:{numberOfResolvedComments:t.length}})),render:n=>{let o;return o=e.isMobile?{menuType:ut.b.MenuType.Modal,title:r.a.createElement(L.FormattedMessage,{defaultMessage:"Resolved comments",id:"pageViewBlock.resolvedComments.menuTabTitle"}),right:r.a.createElement(qt.DoneMenuText,null),onClickRight:n.close,whiteBackground:!0}:{menuType:ut.b.MenuType.Popup,width:500},r.a.createElement(ut.b,Object.assign({},o),t.map((e,t,o)=>r.a.createElement(Ke.a,{key:e.id,store:e,format:Ke.a.Format.Menu,isFirst:0===t,isOnly:1===o.length,discussionLocation:"page_discussion",alwaysShowResolve:!0,blockStore:this.props.store,onDismiss:n.close})))}})}renderCollectionView(e){let t;if(this.isCurrentBlock()){const{RouterStore:e}=this.environment;t=e.state.route.collectionViewId}if(e.isCollectionView())return r.a.createElement(Ye.a,{style:{paddingLeft:cn.fullScreenCollectionPaddingLeftRight(this.environment),paddingRight:cn.fullScreenCollectionPaddingLeftRight(this.environment)},store:e,isFullScreen:!0,viewId:t,disabled:this.props.disabled})}renderDocumentView(){const{store:e,context:t}=this.props,n=this.shouldShowSpinner(),o=this.shouldShowTemplatePicker();return r.a.createElement(g.a,{isVisible:!0,animationStyle:{width:this.getAdjustedPageWidth()},render:()=>r.a.createElement("div",{style:this.getContentStyle(),ref:e=>{e&&(this.contentEl=e)},className:xt.lb,onClick:this.isEmptyContentBlock()?this.handlePlaceholderWrapClick:void 0},r.a.createElement(v.a,{store:e.getContentStore(),emptyDroppableStyle:{width:"100%"},disabled:this.props.store.isLocked()||this.props.disabled}),n&&r.a.createElement(w.a,null),(t===Nt.Frame||t===Nt.PeekView)&&o&&r.a.createElement(ae,{store:e,menuListStore:this.stores.templatePickerMenuListStore}))})}renderBacklinks(){if(this.shouldShowBacklinks())return this.renderBacklinksContent({disableHeader:!1})}renderBacklinksContent(e){if(0!==this.numberOfBacklinks.state)return r.a.createElement("div",{key:"page-backlinks",style:{width:"100%",maxWidth:"100%",margin:"0 auto 6px auto"},onMouseDown:this.handleDiscussionWrapMouseDown,onClick:this.handleDiscussionWrapClick},r.a.createElement(Wt.a,Object.assign({},e,{type:"page",store:this.props.store,onHide:this.handleHideBacklinks,disableCurrentPageToken:!0})))}getDiscussionToggleState(){const e=this.props.store.getValue();return"PageDetailsStore"in this.environment&&this.environment.PageDetailsStore.getToggleState({environment:this.environment,type:"discussion",id:e&&e.id})}setDiscussionToggleState(e){const t=this.props.store.getValue();"PageDetailsStore"in this.environment&&this.environment.PageDetailsStore.setToggleState({environment:this.environment,type:"discussion",id:t&&t.id},e)}getBacklinksToggleState(){const e=this.props.store.getValue();return"PageDetailsStore"in this.environment&&this.environment.PageDetailsStore.getToggleState({environment:this.environment,type:"backlinks",id:e&&e.id})}setBacklinksToggleState(e){const t=this.props.store.getValue();"PageDetailsStore"in this.environment&&this.environment.PageDetailsStore.setToggleState({environment:this.environment,type:"backlinks",id:t&&t.id},e)}isCurrentBlock(){return this.props.store===Q.default.state.currentBlockStore}getBlockPropertyOverlayStore(){return this.props.context===Nt.PeekView?kt.a:Ct.a}isEmptyContentBlock(){const{store:e}=this.props;return 0===e.getContentIds().length&&!e.isCollectionView()}getAdjustedPageWidth(){const{store:e,context:t}=this.props,{device:n}=this.environment,{isPhone:o}=n,r=e.isFullWidth(),a=e.isCollectionView(),i=t===Nt.PeekView;return r&&!o||a||i||o?"100%":cn.defaultWidth}getOriginalCollectionViewBlockStore(){const{store:e}=this.props;if(e.isCollectionView()){const t=e.getCollectionViewCollectionStore();if(t){const n=t.getValue();if(n)return h.a.createChildStore(e,{table:mt.a,id:n.parent_id})}}}getNumberOfComments(){const{store:e}=this.props;return it.h(e)}hasDiscussionToShow(){return this.getNumberOfComments()>0}shouldShowDiscussion(){if(this.stores.pageViewBlockStore.state.forceDiscussionOpen)return!0;const e=et.c(this.environment,"comments"),t=et.e("comments","section_collapsed");if(this.props.store.isInsideCollection()&&!this.hasDiscussionToShow()&&(e||t))return!0;if(!this.hasDiscussionToShow())return!1;const n=this.getDiscussionToggleState();return void 0===n?e:n}shouldShowBacklinks(){const e=et.c(this.environment,"backlinks"),t=this.getBacklinksToggleState();return void 0===t?e:t}descriptionHasText(){return qe(this.getDescriptionStore())}shouldShowDescription(){const e=this.stores.pageDescriptionStore.isExpanded();return this.descriptionHasText()?e:this.isEditable()&&e}getDescriptionStore(){const{store:e}=this.props,t=e.getCollectionViewCollectionStore();if(t)return t.getDescriptionStore()}shouldShowProperties(){return Boolean(this.getParentCollectionStore())}getParentCollectionStore(){const{store:e}=this.props,t=e.getParentId();if("collection"===e.getParentTable()&&t)return le.a.createChildStore(e,{table:Be.a,id:t})}getBannerStore(){return this.props.context===Nt.PeekView?wt.a:St.a}getSchema(){const e=this.getParentCollectionStore();return e?e.getSchema():ue.g(R.default.getIntl())}getFormat(){const e=this.getParentCollectionStore();if(!e)return;const t=this.getSchema(),n=e.getFormat();return s.i(n,t,void 0,[],s.a.Collection)}canOpenProperty(e){if(!this.getParentCollectionStore())return!1;const t=this.getSchema()[e];return Boolean(t&&!ue.q.includes(t.type))}shouldShowTemplatePicker(){const{store:e,loadingContainerStore:t}=this.props,n=this.environment.currentUser.isLoggedIn(),o=this.pageContext&&this.pageContext.publicEditModeStore.state;return Boolean(e&&t&&e.hasValue()&&e.canEdit()&&0===e.getContentIds().length&&n&&(!o||"edit"===o)&&!this.shouldShowSpinner()&&t.state.ready)}shouldShowSpinner(){const{store:e}=this.props;return Boolean(Tt.a.state.pageMap[e.id])||m.a.state.pages.has(e.id)}isEditable(){return this.canEdit()&&!this.props.store.isLocked()}getHeaderStyle(){const{store:e}=this.props,t={width:"100%",display:"flex",flexDirection:"column",alignItems:"center",flexShrink:0,flexGrow:0};return e.isCollectionView()&&(e.isLocked()&&(t.cursor="default"),ht.b(this.environment)&&(t.position="sticky",t.left=0)),t}static defaultPaddingLeftRight(e){return e.device.isMobile&&!e.device.isTablet?24:96}static defaultPageCoverHeight(e){return e.device.isMobile?200:"30vh"}static fullScreenCollectionPaddingLeftRight(e){return e.device.isMobile&&!e.device.isTablet?0:96}static paddingBottom(e){const{device:t}=e;return t.isTablet?380:t.isIOS?350:t.isMobile?400:"30vh"}getTitlePaddingMarginTop(){return this.environment.device.isMobile?16:this.props.context===Nt.PeekView?32:80}getTitlePaddingMarginBottom(){return this.environment.device.isMobile?32:4}getTitlePaddingHeightWithPaddingTop(){return cn.titlePaddingHeight+this.getTitlePaddingMarginTop()}getHeaderControlsStyle(){const{store:e}=this.props,{device:t}=this.environment,{isMobile:n}=t,o=this.getTitlePaddingMarginTop();let r,a,i;return n?e.hasCover()?(e.hasIcon(),i="block",r=o,a=4):(i="flex",r=o,a=this.getTitlePaddingMarginBottom()):e.isCollectionView()?(i="flex",e.hasCover()?(r=16,a=4):(r=4,a=4)):(i="flex",e.hasIcon()?(r=8,a=4):e.hasCover()?(r=16,a=4):(r=o,a=this.getTitlePaddingMarginBottom())),{display:i,justifyContent:"flex-start",flexWrap:"wrap",marginTop:r,marginBottom:a,marginLeft:-1,color:this.theme.lightTextColor,fontFamily:p.a.fontFamily.sans,height:this.environment.device.isMobile?"auto":24}}getDetailControlsSectionStyle(){return{display:"flex",alignItems:"baseline",justifyContent:"flex-start",flexWrap:"wrap",color:this.theme.lightTextColor,fontFamily:p.a.fontFamily.sans,paddingBottom:20}}getControlHoverStyle(e){const{device:t}=this.environment,n=this.stores.headerMouseStore.state.mouseEntered,o=this.stores.detailsMouseStore.state.mouseEntered,r=t.isMobile||!Ce.a.state.isKeyboardMode&&(e?o:n);return{opacity:r?1:0,pointerEvents:r?"auto":"none",transition:"opacity 100ms ease",marginBottom:t.isMobile?0:-16}}getDetailControlButtonStyle(){return{fontWeight:p.a.fontWeight.medium,color:this.theme.mediumTextColor}}getTitleStyle(){const{device:e}=this.environment,{store:t}=this.props,n=t.getFormat(),o=!!n.page_small_text||e.isMobile;return{color:this.theme.regularTextColor,fontWeight:p.a.fontWeight.bold,lineHeight:1.2,fontSize:o?32:40,fontFamily:p.a.getHeaderFontFamily({pageFont:n.page_font}),cursor:"text",display:"flex",alignItems:"center",textRendering:e.isSafari?"optimizeSpeed":void 0}}getContentStyle(){const{device:e}=this.environment,{context:t,paddingLeft:n,paddingRight:o,paddingBottom:r}=this.props,{store:a}=this.props,i=a.getFormat(),s=i.page_font||cn.defaultFontFamily,l=cn.fontFamily[s],c=t===Nt.PeekView,d=this.isEmptyContentBlock()&&c&&!this.shouldShowTemplatePicker(),u=t===Nt.FrontPageTemplatePreview||t===Nt.InAppTemplatePreview;let p;if(e.isMobile)p=e.isAndroid?cn.defaultAndroidFontSize:cn.defaultMobileFontSize;else{p=i.page_small_text?cn.fontSmallSize[s]||cn.defaultFontSmallSize:cn.fontSize[s]||cn.defaultFontSize}let h={};if(!d){const{WindowSizeStore:e}=this.environment;h={paddingLeft:e.getSafePaddingLeftCSS(n),paddingRight:e.getSafePaddingRightCSS(o),paddingBottom:this.isEmptyContentBlock()?"15vh":r}}const m=cn.fontLetterSpacing[s],f=cn.fontLineHeight[s]||1.5;let g={};c&&(g={minHeight:cn.peekViewContentMinHeight,flexGrow:1,zIndex:1});let b={};u&&(b={margin:"0 auto"});let v={};if(e.isPhone&&!a.isCollectionView()&&this.canEdit()&&!a.hasCover()){const e=132,t=this.getTitlePaddingHeightWithPaddingTop(),n=Zt.b+e-t;v={minHeight:"calc(100vh - ".concat(n,"px)")}}return{flexShrink:0,flexGrow:1,width:"100%",maxWidth:"100%",display:"flex",alignItems:"center",flexDirection:"column",fontFamily:l,fontSize:p,letterSpacing:m?"".concat(m,"em"):void 0,lineHeight:f,color:this.theme.regularTextColor,...h,...g,...b,...v}}}cn.defaultWidth=900,cn.defaultFontFamily=p.a.fontFamily.sans,cn.defaultFontSize=16,cn.defaultMobileFontSize=16,cn.defaultAndroidFontSize=17,cn.defaultFontSmallSize=14,cn.titlePaddingHeight=28,cn.peekViewContentMinHeight=240,cn.fontFamily={serif:p.a.fontFamily.serif,mono:p.a.fontFamily.mono},cn.fontSize={serif:17,mono:15},cn.fontSmallSize={serif:15,mono:14},cn.fontLetterSpacing={serif:0,mono:.055},cn.fontLineHeight={serif:1.6,mono:1.6};t.b=cn},XDBA:function(e,t,n){"use strict";n.d(t,"l",(function(){return T})),n.d(t,"o",(function(){return x})),n.d(t,"g",(function(){return I})),n.d(t,"e",(function(){return P})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return B})),n.d(t,"b",(function(){return L})),n.d(t,"k",(function(){return R})),n.d(t,"i",(function(){return D})),n.d(t,"j",(function(){return A})),n.d(t,"h",(function(){return j})),n.d(t,"f",(function(){return F})),n.d(t,"n",(function(){return V})),n.d(t,"m",(function(){return N})),n.d(t,"q",(function(){return U})),n.d(t,"a",(function(){return z})),n.d(t,"p",(function(){return X}));n("3bBZ");var o=n("njgS"),r=n("qzno"),a=n("IdIf"),i=n("WzNb"),s=n("bjn0"),l=n("wpmu"),c=n("D2XV"),d=n("Etmo"),u=n("wF3w"),p=n("nkfK"),h=n("HRSx"),m=n("g90h"),f=n("VpIZ"),g=n("F1uM"),b=n("cBa6"),v=n("udrG"),y=n("qqv4"),S=n("vl8/"),w=n("Mht8"),k=n("VhAz"),C=n("9YMM"),M=n("J9+s"),E=n("6SEd");const _=Object(M.defineMessages)({status:{id:"database.viewHelpers.selectProperty.defaultName",defaultMessage:"Status"},date:{id:"database.viewHelpers.dateProperty.defaultName",defaultMessage:"Date"}});function T(e){const{group:t,collectionViewLocalStore:n,parentStore:o}=e,{localResultStore:r}=n;if(!r)return[];const a=r.state;if(a){if("table"===a.type)return a.blockIds.map(e=>l.a.createChildStore(o,{table:h.a,id:e}));if("timeline"===a.type)return a.blockIds.map(e=>l.a.createChildStore(o,{table:h.a,id:e}));if("board"===a.type){const e=t?a.groupResults.find(e=>Object(y.g)(e.value,t.value)):a.groupResults[0];if(e)return e.blockIds.map(e=>l.a.createChildStore(o,{table:h.a,id:e}))}else{if("calendar"===a.type)return[];if("reducer"===a.type)return[];Object(k.e)(a)}}return[]}function x(e){const{aggregations:t,result:n,property:o}=e;if(!t||0===t.length||!n||"table"!==n.type&&"timeline"!==n.type)return;const r=t.findIndex(e=>e.property===o);if(-1===r)return;const a=t[r],i=n.aggregationResults[r];return i?{index:r,aggregation:a,aggregationResult:i}:void 0}function I(e){const{aggregations:t,result:n,groupFormat:o}=e;if(!t||0===t.length||!n||"board"!==n.type)return;const r=t[0],a=n.groupResults.findIndex(e=>Object(y.g)(e.value,o.value)),i=n.groupResults[a];return i&&i.aggregationResult?{index:a,aggregation:r,aggregationResult:i.aggregationResult}:void 0}function P(e){const t=Object.keys(e);return t.find(t=>{const n=e[t];return Boolean(n&&"select"===n.type)})||t.find(t=>{const n=e[t];return Boolean(n&&"person"===n.type)})||t.find(t=>{const n=e[t];return Boolean(n&&"multi_select"===n.type)})}function O(e){const t=Object.keys(e);return t.find(t=>{const n=e[t];return Boolean(n&&"date"===n.type)})||t.find(t=>{const n=e[t];return Boolean(n&&"created_time"===n.type)})||t.find(t=>{const n=e[t];return Boolean(n&&"last_edited_time"===n.type)})}function B(e){return Object.keys(e).find(t=>{const n=e[t];return Boolean(n&&"date"===n.type)})}function L(e){const{environment:t,collectionViewValue:n,currentLimit:o,dateRangeStart:r,dateRangeEnd:a,format:s,searchQuery:l,startDayOfWeek:d,isFullScreen:u,isRootChild:p}=e,h=n.type;if("table"===h||"list"===h||"gallery"===h)return{type:"table",limit:o,searchQuery:l,userTimeZone:c.m,loadContentCover:!0};if("board"===h){return{type:"board",limit:o,groups:(s.board_groups2||[]).slice(0,i.a),searchQuery:l,userTimeZone:c.m,loadContentCover:!0}}return"calendar"===h?{type:"calendar",dateRangeStart:r,dateRangeEnd:a,searchQuery:l,userTimeZone:c.m,startDayOfWeek:d,scale:"month"}:"timeline"===h?{type:"timeline",limit:o,searchQuery:l,userTimeZone:c.m,includeEmptyDates:Object(C.J)({environment:t,format:s,isFullScreen:u,isRootChild:p})}:(w.log({level:"warning",from:"collectionViewHelpers",type:"undefinedViewType",data:{miscDataToConvertToString:{collectionViewValue:n,currentLimit:o,dateRangeStart:r,dateRangeEnd:a,format:s,searchQuery:l,startDayOfWeek:d,isFullScreen:u,isRootChild:p}}}),void Object(k.e)(h))}async function R(e){const{environment:t,collectionId:n,schema:o,property:r,propertyType:a}=e,i={newSchema:o},s=i.newSchema[r];if(!s)return;if("relation"===s.type){const e=await D({environment:t,collectionId:n,schema:o,property:r});e&&(i.newSchema=e.newSchema,i.otherCollectionId=e.otherCollectionId,i.otherCollectionSchema=e.otherCollectionSchema)}let l=s;if("relation"===a){const e=await d.c({relationCollectionId:n,relationProperty:r});if(!e)return;l={name:s.name,type:"relation",collection_id:e.targetCollectionValue.id,property:e.targetCollectionValue.id===n&&"same_property"===e.selfRelationType?r:Object(u.a)()}}else l={...l,type:a};return i.newSchema={...i.newSchema,[r]:l},i}async function D(e){const{environment:t,collectionId:n,schema:r,property:a}=e,i=r[a];if(!i)return;const l={newSchema:{...r,[a]:void 0}};if("relation"===i.type&&i.collection_id&&i.property)if(i.collection_id===n&&i.property!==a){const e={...l.newSchema,[i.property]:void 0};l.newSchema=e}else if(i.collection_id!==n){const e=new s.a(t,{table:E.a,id:i.collection_id});if(await e.load(),e.canEdit()){const t=e.getValue();if(t){const e={...o.e(t.schema),[i.property]:void 0};l.otherCollectionId=t.id,l.otherCollectionSchema=e}}}return l}function A(e){const{schema:t,properties:n,property:o}=e,r=t[o];if(!r)return;const a=Object(u.a)(),i={...r,name:Object(p.b)(r.name,S.default.getIntl(),w.log)},s={...t,[a]:i},l=n.findIndex(e=>e.property===o),c=n[l],d={property:a,visible:!0,width:c&&c.width},h=[...n];return h.splice(l+1,0,d),{newProperty:a,newSchema:s,newProperties:h}}function j(e){const{collectionViewBlockId:t,schema:n,currentViewValue:o,currentFormat:a,name:i,viewType:s}=e,l=Object(m.b)();if("table"===s){let e;if("table"===o.type)e=a.table_properties;else{const t=(a.board_properties||[]).map(e=>({...e,visible:!0}));t.unshift({property:"title",visible:!0}),e=t}return{newView:{id:l,version:0,name:i,type:"table",format:{table_properties:e},query2:{aggregations:[{property:"title",aggregator:"count"}]},parent_id:t,parent_table:h.a,alive:!0}}}if("board"===s){let e,r,s=P(n);if(!s){s=Object(u.a)();const t={name:S.default.formatMessage(_.status),type:"select",options:[]};e={...n,[s]:t}}return r="board"===o.type?(a.board_properties||[]).filter(e=>e.property!==s):(a.table_properties||[]).filter(e=>"title"!==e.property&&e.property!==s),{newView:{id:l,version:0,name:i,type:"board",format:{board_properties:r,board_cover:void 0},query2:{group_by:s},parent_id:t,parent_table:h.a,alive:!0},newSchema:e}}if("calendar"===s){let e,o=O(n);if(!o){o=Object(u.a)();const t={name:S.default.formatMessage(_.date),type:"date"};e={...n,[o]:t}}return{newView:{id:l,version:0,name:i,type:"calendar",query2:{calendar_by:o},parent_id:t,parent_table:h.a,alive:!0},newSchema:e}}if("list"===s){const e=Object.keys(n).find(e=>{const t=n[e];return Boolean(t&&Object(r.l)(t))});return{newView:{id:l,version:0,name:i,type:"list",format:{list_properties:e?[{property:e,visible:!0}]:[]},parent_id:t,parent_table:h.a,alive:!0}}}if("gallery"===s){return{newView:{id:l,version:0,name:i,type:"gallery",format:{gallery_properties:[],gallery_cover:{type:"page_content"}},parent_id:t,parent_table:h.a,alive:!0}}}if("timeline"===s){let e,o=B(n);if(!o){o=Object(u.a)();const t={name:S.default.formatMessage(_.date),type:"date"};e={...n,[o]:t}}return{newView:{id:l,version:0,name:i,type:"timeline",format:{timeline_show_table:!0,timeline_properties:[{property:"title",visible:!0}],timeline_table_properties:[{property:"title",visible:!0,width:280}]},query2:{timeline_by:o,aggregations:[{property:"title",aggregator:"count"}]},parent_id:t,parent_table:h.a,alive:!0},newSchema:e}}throw new Error("No view type found.")}function F(e){const t={image:void 0,blockIds:[]},n=function*e(t){const{rootStore:n}=t,o=n.getContentStores();for(const r of o)yield r,r.isNavigableBlock()||"toggle"===r.getType()||(yield*e({rootStore:r}))}({rootStore:e});let o=0;for(const r of n){if(o++,o>i.c)return t;const e=r.getValue();if(e){if(Object(f.y)(e)&&!t.image&&e.properties){const n=Object(b.Y)(e.properties.source);if(n&&(Object(g.h)({url:n})||e.type===v.a.image))return t.image={pointer:{table:"block",id:e.id},url:n},t}Object(f.t)(e)&&!r.isEmptyTitle()&&t.blockIds.length<i.d&&t.blockIds.push(r.id)}}return t}function V(e){const{collectionViewStore:t,isFullScreen:n}=e,o=t.getValue();if(Boolean(o&&"board"===o.type))return 20;if(n)return 50;const r=t.getFormat(),i=a.j(r.inline_collection_first_load_limit);return"load_limit"===i.type?i.limit:20}function N(e){const{collectionViewStore:t,isFullScreen:n,currentResultCount:o}=e,r=t.getValue();return Boolean(r&&"board"===r.type)?20:n?50:o<=50?50:100}function U(e,t){const n=e.getFormat(),o=a.j(n.inline_collection_first_load_limit);return!t&&"load_limit"===o.type}function z(e){const{query:t,schema:n}=e,{timeline_by:o,timeline_by_end:r}=t;if(o){const e=n[o];if(e&&"date"!==e.type)return!1}if(r){const e=n[r];if(e&&"date"!==e.type)return!1}return!0}function X(e){const t=e.getParentBlockStore();return Boolean(t&&t.isLocked())}},XfKI:function(e,t,n){"use strict";n.d(t,"Hb",(function(){return F})),n.d(t,"b",(function(){return V})),n.d(t,"Gb",(function(){return N})),n.d(t,"Bb",(function(){return U})),n.d(t,"s",(function(){return z})),n.d(t,"r",(function(){return X})),n.d(t,"q",(function(){return Y})),n.d(t,"m",(function(){return H})),n.d(t,"n",(function(){return q})),n.d(t,"l",(function(){return W})),n.d(t,"t",(function(){return G})),n.d(t,"Ab",(function(){return Z})),n.d(t,"Cb",(function(){return K})),n.d(t,"E",(function(){return J})),n.d(t,"D",(function(){return Q})),n.d(t,"jb",(function(){return $})),n.d(t,"ob",(function(){return ee})),n.d(t,"ib",(function(){return te})),n.d(t,"hb",(function(){return ne})),n.d(t,"z",(function(){return oe})),n.d(t,"O",(function(){return re})),n.d(t,"P",(function(){return ae})),n.d(t,"bb",(function(){return ie})),n.d(t,"L",(function(){return se})),n.d(t,"mb",(function(){return le})),n.d(t,"S",(function(){return ce})),n.d(t,"K",(function(){return de})),n.d(t,"W",(function(){return ue})),n.d(t,"f",(function(){return pe})),n.d(t,"Db",(function(){return he})),n.d(t,"g",(function(){return me})),n.d(t,"A",(function(){return fe})),n.d(t,"e",(function(){return ge})),n.d(t,"y",(function(){return be})),n.d(t,"ab",(function(){return ve})),n.d(t,"Eb",(function(){return ye})),n.d(t,"lb",(function(){return Se})),n.d(t,"eb",(function(){return we})),n.d(t,"Q",(function(){return ke})),n.d(t,"zb",(function(){return Ce})),n.d(t,"nb",(function(){return Me})),n.d(t,"yb",(function(){return Ee})),n.d(t,"pb",(function(){return _e})),n.d(t,"tb",(function(){return Te})),n.d(t,"N",(function(){return xe})),n.d(t,"kb",(function(){return Ie})),n.d(t,"vb",(function(){return Pe})),n.d(t,"fb",(function(){return Oe})),n.d(t,"T",(function(){return Be})),n.d(t,"U",(function(){return Le})),n.d(t,"gb",(function(){return Re})),n.d(t,"cb",(function(){return De})),n.d(t,"V",(function(){return Ae})),n.d(t,"u",(function(){return je})),n.d(t,"v",(function(){return Fe})),n.d(t,"H",(function(){return Ve})),n.d(t,"I",(function(){return Ne})),n.d(t,"Fb",(function(){return Ue})),n.d(t,"Mb",(function(){return ze})),n.d(t,"Y",(function(){return Xe})),n.d(t,"Nb",(function(){return Ye})),n.d(t,"o",(function(){return He})),n.d(t,"sb",(function(){return qe})),n.d(t,"db",(function(){return We})),n.d(t,"i",(function(){return Ge})),n.d(t,"h",(function(){return Ze})),n.d(t,"k",(function(){return Ke})),n.d(t,"Ob",(function(){return Je})),n.d(t,"j",(function(){return Qe})),n.d(t,"R",(function(){return $e})),n.d(t,"X",(function(){return et})),n.d(t,"M",(function(){return tt})),n.d(t,"a",(function(){return nt})),n.d(t,"ub",(function(){return ot})),n.d(t,"xb",(function(){return rt})),n.d(t,"Ib",(function(){return at})),n.d(t,"qb",(function(){return it})),n.d(t,"rb",(function(){return st})),n.d(t,"c",(function(){return lt})),n.d(t,"d",(function(){return ct})),n.d(t,"J",(function(){return dt})),n.d(t,"Z",(function(){return ut})),n.d(t,"Lb",(function(){return pt})),n.d(t,"F",(function(){return ht})),n.d(t,"G",(function(){return mt})),n.d(t,"x",(function(){return ft})),n.d(t,"Jb",(function(){return gt})),n.d(t,"p",(function(){return bt})),n.d(t,"wb",(function(){return vt})),n.d(t,"w",(function(){return yt})),n.d(t,"B",(function(){return St})),n.d(t,"C",(function(){return wt})),n.d(t,"Kb",(function(){return kt}));n("4Brf"),n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("wpmu"),i=n("loBV"),s=n("6SEd"),l=n("z22Z"),c=n("VpIZ"),d=n("udrG"),u=n("QcDD"),p=n("sjR4"),h=n("DNgp"),m=n("vJXr"),f=n("3k5a"),g=n("57cz"),b=(n("VcFn"),n("7IvN")),v=n("onX9"),y=n("WaiN"),S=n("GKeo"),w=n("szb2"),k=n("p0Ff"),C=n("A9TN"),M=n("+fkW"),E=n("HTHG"),_=n("622O"),T=n("CARr"),x=n("AXh+"),I=n("2bwL"),P=n("yioD"),O=n("hbKx"),B=n("9YMM"),L=n("xL2i"),R=n("wiBh"),D=n("cBa6"),A=n("c6/J"),j=n("3IKt");const F=function(e){return t=>e.some(e=>e(t))},V=function(e){return t=>e.every(e=>e(t))},N=function(e){return t=>!e(t)},U=e=>e.blocks&&1===e.blocks.length,z=e=>e.blocks.every(t=>{const n=t.recordStoreParentStore;if(!n)return!1;const o=e.publicEditMode?e.publicEditMode:Object(O.j)(n)&&P.a.getMode(e.environment,n);return(!o||"edit"===o)&&n.canEdit()}),X=e=>e.blocks.every(t=>{const n=t.getParentStore();if(!n)return!1;const o=Object(O.j)(n)&&P.a.getMode(e.environment,n);return(!o||"edit"===o)&&n.canEdit()}),Y=e=>!I.b.state&&e.blocks.every(t=>(!e.publicEditMode||"edit"===e.publicEditMode)&&t.canEdit()),H=e=>!I.b.state&&e.blocks.every(e=>e.canAdmin()),q=e=>!I.b.state&&e.blocks.every(e=>e.canComment()),W=e=>e.blocks.some(e=>Boolean(f.a.findBlockFromStoreWithMethod(e,"activate"))),G=e=>{if(!Y(e))return!1;const t=e.blocks[0];if(!t)return!1;if(t.getType()===d.a.transclusionContainer)return!0;if(t.getType()===d.a.transclusionReference){const e=t.getTransclusionReferenceTargetStore();return Boolean(e&&e.canEdit())}return!1},Z=e=>e.blocks.every(e=>e.isRestricted()),K=e=>{const{currentSpaceStore:t}=u.default.state,{currentUser:n}=e.environment;return(t?t.getPermissionItems():[]).some(e=>l.q(e)&&e.user_id===n.id&&l.a(e.role))},J=function(){const e=w.c.state,{currentBlockStore:t}=u.default.state;return e.open?!e.target.isLocked():!t||!t.isLocked()},Q=()=>{const{currentBlockStore:e}=u.default.state,t=w.c.state.open&&w.c.state.target||e;return!!t&&!!t.getParentCollectionStore()},$=e=>e.blocks.length>0&&e.blocks.some(e=>e.isLocked()),ee=e=>e.blocks.length>0,te=e=>e.blocks.some(e=>{const t=w.c.state,{currentBlockStore:n}=u.default.state;return!!(n&&n.isPageBlock()&&n.isLocked()&&n.contains(e)&&n!==e)||!!(t.open&&t.target.isLocked()&&t.target.contains(e)&&t.target!==e)}),ne=e=>e.blocks.some(e=>{const{currentBlockStore:t}=u.default.state;return Boolean(t&&t.isCollectionView()&&t.isLocked()&&t.contains(e)&&t!==e)}),oe=e=>e.blocks.every(e=>{const t=e&&e.getValue();return Boolean(t&&c.G(t)&&!c.z(t))}),re=e=>e.blocks.every(e=>{const t=e.recordStoreParent(),n=e.getValue();return Boolean(t&&n&&n.parent_id!==t.id)}),ae=e=>e.blocks.every(e=>{const t=e.recordStoreParent(),n=e.getValue();return Boolean(t&&t.canEdit()&&n&&n.parent_id!==t.id)}),ie=e=>{if(e.blocks){const t=e.blocks[0],n=t&&t.getValue();return Boolean(n&&"file"===n.type&&n.properties&&n.properties.source)}return!1},se=e=>{if(!e.blocks)return!1;const t=e.blocks[0],n=t&&t.getValue(),o=n&&n.properties&&n.properties.source;if(!o)return!1;const r=T.v(o);return!!r&&_.j(r,C.default.secureFileS3.url)},le=e=>{if(e.blocks){const t=e.blocks[0],n=t&&t.getValue();if(n&&c.y(n)){const e=n.properties;return Boolean(e&&e.source)}}return!1},ce=e=>{if(e.blocks){const t=e.blocks[0],n=t&&t.getValue();return Boolean(n&&c.p(n))}return!1},de=e=>t=>{if(t.blocks){const n=t.blocks[0],o=n&&n.getValue();if(o){const t=o.properties;return Boolean(t&&t[e])}}return!1},ue=(de("source"),e=>{if(e.blocks){const t=e.blocks[0],n=t&&t.getValue();return Boolean(n&&c.s(n))}return!1}),pe=e=>e.blocks.every(e=>{const t=e.getValue(),n=e.recordStoreParent();return Boolean(t&&c.H(t)&&e.getParentTable()!==s.a&&n&&n.id===t.parent_id)}),he=e=>t=>t.blocks&&t.blocks[0]&&r.a.isFunction(t.blocks[0].getType)&&t.blocks[0].getType()===e,me=e=>t=>r.a.every(t.blocks,t=>t&&r.a.isFunction(t.getType)&&t.getType()===e),fe=e=>e.blocks.every(e=>{const t=e&&e.getValue();return Boolean(t&&c.r(t)&&e.getParentTable()!==s.a)}),ge=e=>{const t=E.d();return!!t&&e.blocks.every(e=>t.contains(e)&&t.id!==e.id)},be=e=>e.blocks.every(e=>{const t=f.a.findBlockFromStoreWithMethod(e,"canRenderFullScreen");return Boolean(t&&t.canRenderFullScreen())}),ve=function({environment:{device:e}}){return e.isElectron},ye=function({environment:{device:e}}){return e.isWindows},Se=function({environment:{device:e}}){return e.isMac},we=function({environment:{device:e}}){return e.isIOS},ke=function({environment:{device:e}}){return e.isAndroid},Ce=function({environment:{device:e}}){return e.isReactNative},Me=function({environment:{device:e}}){return e.isMobile},Ee=function({environment:{device:e}}){return e.isPhone},_e=function({environment:{device:e}}){return e.isNative},Te=function({environment:{device:e}}){return!e.isMobile},xe=()=>C.default.isAdminMode,Ie=({environment:e})=>e.currentUser.isLoggedIn(),Pe=function(){return m.a.state.online},Oe=e=>!e.blocks.every(e=>e.inMemoryRecordCache===k.default),Be=e=>e.blocks.some(e=>e.isTemplate()),Le=e=>{if(e.blocks&&1===e.blocks.length){const[t]=e.blocks;return t.isCollectionView()}return!1},Re=e=>{if(e.blocks&&1===e.blocks.length){const[t]=e.blocks;return t.isType(d.a.collectionView)}return!1},De=e=>{if(e.blocks&&1===e.blocks.length){const[t]=e.blocks;return t.isType(d.a.collectionViewPage)}return!1},Ae=function(e){return t=>{if(t.blocks&&1===t.blocks.length){const[n]=t.blocks,o=f.a.findCollectionViewBlockFromStore(n);return!!o&&o.collectionViewLocalStore.getViewType()===e}return!1}},je=e=>{const{RouterStore:t}=e.environment;return t.canGoBack()},Fe=e=>{const{RouterStore:t}=e.environment;return t.canGoForward()},Ve=function(){return b.a.state.open},Ne=function(){return v.a.state.open},Ue=function(){return y.a.state.open},ze=function(){return S.a.state.open},Xe=function(){return"editing"===h.default.state.mode},Ye=function(){return"empty"!==h.default.state.mode&&!Object(R.m)(h.default.state.selection)},He=function(){return!(Object(R.o)(D.b.User)||Object(R.o)(D.b.Bot)||Object(R.o)(D.b.Date)||Object(R.o)(D.b.Page))},qe=function(){return p.default.state.stores.length>0},We=e=>{const t=u.default.state.currentSpaceStore;return!!t&&!t.canRead()},Ge=e=>e.blocks.every(e=>Boolean(g.a.findOutlinerItemFromStore(e))),Ze=e=>e.blocks.every(e=>{const t=g.a.findOutlinerItemFromStore(e);return Boolean(t&&t.props.isTopLevelItem&&"bookmarks"===t.props.type)}),Ke=e=>e.blocks.every(e=>{const t=g.a.findOutlinerItemFromStore(e);return Boolean(t&&t.props.isTopLevelItem&&"shared"===t.props.type)}),Je=e=>{const{id:t}=e.environment.currentUser;return!!t&&e.blocks.every(e=>{const n=e.getPermissionItems();return Object(L.n)(n,t)})},Qe=e=>e.blocks.every(e=>{const t=g.a.findOutlinerItemFromStore(e);return Boolean(t&&t.props.isTopLevelItem)}),$e=e=>{const{currentSpaceViewStore:t}=u.default.state,n=e.blocks[0];return Boolean(t&&n&&Object(i.a)({spaceViewStore:t,pageId:n.id}))},et=e=>e.blocks[0]&&e.blocks[0]===u.default.state.currentBlockStore,tt=e=>e.blocks.every(t=>Boolean(x.g(e.environment,t))),nt=e=>e.blocks.every(e=>x.a(e)),ot=function(){return Boolean(u.default.state.currentBlockStore)},rt=e=>{const t=w.c.state;return t.open&&e.blocks[0]&&e.blocks[0]===t.target},at=e=>w.c.state.open,it=e=>e.blocks.every(e=>{const t=e&&e.getValue();return Boolean(t&&c.z(t))}),st=e=>e.blocks.every(e=>{const t=e&&e.getValue();return Boolean(t&&c.A(t))}),lt=e=>e.blocks.every(e=>Boolean(e.findRecordStoreAncestor(e=>"collection"===e.table).ancestor));function ct(e){return t=>t.blocks.every(t=>{const n=dt(t);return Boolean(n&&n.collectionViewLocalStore&&n.collectionViewLocalStore.getViewType()===e)})}function dt(e){const t=e.findRecordStoreAncestor(e=>e instanceof a.a&&e.isCollectionView()).ancestor;if(t)return f.a.findCollectionViewBlockFromStore(t)}const ut=function(){const{currentSpaceStore:e}=u.default.state;return Boolean(e&&e.canEdit())},pt=e=>{if(e.blocks&&1===e.blocks.length){const t=e.blocks[0].findRecordStoreAncestor(e=>e instanceof a.a&&e.isCollectionView()).ancestor;if(t){const n=f.a.findAllBlocksFromStore(t).find(e=>e.stores.collectionViewLocalStore);if(n){const{collectionViewLocalStore:t}=n,o=t.remoteResult.get(),r=t.getViewType();if("calendar"===r&&o&&"calendar"===o.type&&o.noDateTotal>0)return!0;if("timeline"===r&&o&&"timeline"===o.type&&o.noDateTotal>0&&!Object(B.J)({environment:e.environment,format:n.collectionViewLocalStore.normalizedFormatStore.state,isFullScreen:Boolean(n.props.isFullScreen),isRootChild:n.isRootChild()}))return!0}}}return!1},ht=function({environment:e}){const{currentSpaceStore:t}=u.default.state;if(!t)return!1;const n=t.getValue(),o=M.a.getPublicSpaceData(e,t.id);return n?!n.disable_export:o?!o.disableExport:xe()},mt=()=>{const{currentSpaceStore:e}=u.default.state;return!!e&&!e.getDisableMoveToSpace()},ft=e=>!I.b.state&&(!!e.blocks.every(e=>e.canEdit())&&!!tt(e)),gt=e=>e.blocks.every(t=>"edit"===P.a.getMode(e.environment,t)),bt=e=>{if(!z(e))return!1;const t=e.blocks.filter(e=>{const t=e.recordStoreParentStore,n=e.getParentStore();return t&&n&&t.id===n.id});return 0===t.length||Y({...e,blocks:t})},vt=e=>{if(!e.blocks)return!1;return e.blocks[0].isMarkedOffline()},yt=e=>{if(!e.blocks)return!1;const t=e.blocks[0];return!O.d(t).some(e=>e.isMarkedOffline())},St=e=>A.a(e.environment),wt=e=>j.a(e.environment),kt=({environment:e})=>{const t=E.i(e);return Boolean(t&&t.showSharedOverflowButton)}},YIRN:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("mF3+");class s extends a.a{renderComponent(){const{iconSize:e,style:t}=this.props;return r.a.createElement("div",{style:{...this.getStyle(),...t}},i.a.dragHandle({fill:this.theme.mediumIconColor,width:e,height:e}))}getStyle(){const e={display:"flex",alignItems:"center",justifyContent:"center",width:s.width,height:s.height,flexShrink:0};return this.props.disabled?e.opacity=0:e.cursor="-webkit-grab",e}}s.width=18,s.height=24,t.a=s},YQvo:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isLoading:!1,progressPercent:0}}}t.a=r},Ytfc:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("DNfA"),i=n("SR/M"),s=n("zmp8"),l=n("mF3+"),c=n("kIZi"),d=n("VPSe"),u=n("Sb6f"),p=n("J9+s"),h=n("Zo/l"),m=n("PHZn");t.a=function(e){const t=r.a.useRef(),n=Object(h.a)(),{isMobile:o}=n,{activeOption:f,items:g}=r.a.useMemo(()=>function(e){const{currentSortBy:t,setSortBy:n,sortOptions:o,selectButton:a}=e;let c=o[0];const d=o.map(e=>{const o=e.key===t;return o&&(c=e),{key:e.key,action:()=>{n(e.key),a&&a.current&&a.current.closeMenu()},render:t=>r.a.createElement(i.a,Object.assign({},t,{title:e.formattedName,right:o&&l.a.check({fill:s.g.blue,width:12,height:12})}))}});return{activeOption:c,items:d}}({...e,selectButton:t}),[e,t]),b=Object(m.a)(e=>({selectedTitle:{color:e.mediumTextColor},label:{marginRight:2,fontSize:o?u.a.fontSize.UISmall.mobile:u.a.fontSize.UISmall.desktop,transform:"translateY(0.5px)"},innerButton:{color:e.mediumTextColor,fontWeight:u.a.fontWeight.medium,fontSize:o?u.a.fontSize.UISmall.mobile:u.a.fontSize.UISmall.desktop,height:20,padding:"2px 4px",marginRight:1,transform:"translateY(0.5px)"},menu:{minWidth:200}}),[o]),v=o?r.a.createElement(p.FormattedMessage,{id:"search.sort.sortMenuTitle",defaultMessage:"Sort By"}):void 0;return r.a.createElement(d.a,{ref:e=>{e&&(t.current=e)},alignmentToOrigin:a.a.Start,selectedTitle:r.a.createElement("div",{style:b.selectedTitle},f.formattedName),label:r.a.createElement(p.FormattedMessage,{id:"search.sort.sortButtonPrefixLabel",defaultMessage:"Sort:",description:"Will be displayed next to a sortOrder"}),renderMenuSections:()=>[{key:"searchSortOrder",render:e=>r.a.createElement(c.a,Object.assign({},e,{title:v,desktopStyle:b.menu,disableDesktopPadding:!1})),items:g}],labelStyle:b.label,innerButtonStyle:b.innerButton})}},Z0iJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o={};var r;!function(e){e[e.Javascript=0]="Javascript",e[e.Stylesheet=1]="Stylesheet"}(r||(r={}));t.b=function(e,t=r.Javascript){if(o[e])return o[e];{const n=new Promise(n=>{let o;t===r.Javascript?(o=document.createElement("script"),o.async=!0,o.src=e):t===r.Stylesheet&&(o=document.createElement("link"),o.href=e,o.type="text/css",o.rel="stylesheet"),o.addEventListener("load",e=>{n()}),document.getElementsByTagName("head")[0].appendChild(o)});return o[e]=n,n}}},Z1H8:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("D8Ld"),s=n("stZG"),l=n("TSBY");class c extends a.a{constructor(){super(...arguments),this.registries=[l.a]}renderComponent(){return r.a.createElement(i.a,{capture:this.props.capture,allowMenuList:this.props.allowMenuList,allowEsc:this.props.allowEsc,allowUndo:this.props.allowUndo,allowTabUntab:this.props.allowTabUntab},r.a.createElement(s.a,{capture:this.props.capture,render:this.props.render}))}}t.a=c},"Z6+j":function(e,t,n){"use strict";n("3bBZ");t.a=class{constructor(){this.listeners=new Set}addListener(e){this.listeners.add(e)}addOnceListener(e){const t=(...n)=>{e(...n),this.removeListener(t)};this.addListener(t)}removeListener(e){this.listeners.delete(e)}emit(...e){this.listeners.forEach(t=>{t(...e)})}listenerCount(){return this.listeners.size}}},ZAQT:function(e,t,n){"use strict";n.r(t),n.d(t,"initialize",(function(){return a}));var o=n("bkwR"),r=n("QcDD");async function a(e,t){if(await r.default.waitUntil(()=>"rendered"===r.default.state.renderPhase),e.currentUser.isLoggedIn()&&!Boolean(t.fromPageRefresh)){const{CsatMilestoneStore:t}=e,n=await o.getCsatMilestones(e,{});"success"===n.type&&t.setState({data:n.data})}}},ZAZ2:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var o=n("LEzx");class r extends o.a{getInitialState(){return{appearanceSetting:"system"}}}function a(e){return"dark"===e||"light"===e||"system"===e?e:"system"}t.a=r},ZCfS:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{visitedTimeline:!1}}}t.a=new r},ZQ9l:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("CVgL"),i=n("wldR"),s=n("YIRN"),l=n("gbGO"),c=n("mF3+"),d=n("Sb6f");class u extends i.a{renderComponent(){const{inline:e}=this.props,t={marginLeft:this.environment.device.isMobile?this.props.icon?10:16:this.props.icon?8:14,marginRight:this.environment.device.isMobile?16:14,minWidth:0,flex:"auto",...this.props.dontShrinkTitle&&{flex:"none"},...this.props.disabled&&{opacity:.3},...!this.environment.device.isMobile&&this.props.desktopTitleStyle,...e&&{display:"inline-flex",alignItems:"center"},...this.props.textWrapperStyle};return r.a.createElement("div",{style:this.getStyle(),onClick:this.props.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.onContextMenu,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.props.onTouchEnd,onTouchCancel:this.props.onTouchCancel},this.renderDragHandle(),this.renderIcon(),r.a.createElement("div",{style:t},this.renderTitle(),this.renderCaption(),this.renderBody()),void 0!==this.props.checkState?this.renderCheck():this.renderRight(),this.renderExtension())}renderDragHandle(){if(this.props.showDragHandle)return r.a.createElement(s.a,{iconSize:this.environment.device.isMobile?14:12,style:{marginLeft:this.environment.device.isMobile?12:10,marginRight:this.environment.device.isMobile?-10:-8},disabled:this.props.dragHandleDisabled})}renderIcon(){if(!this.props.icon)return;const e=this.props.caption||this.props.body||this.props.shouldWrapTitle,t=this.props.alignIconTop||e,n={...this.environment.device.isMobile?u.mobileIconStyle:u.desktopIconStyle,...t&&{marginTop:1,alignSelf:this.props.inline?"center":"flex-start"},...this.props.dontShrinkIcon&&{flex:"none"},...this.props.disabled&&{opacity:.3},...this.props.desktopIconStyle};return r.a.createElement("div",{style:n},this.props.icon)}renderTitle(){if(this.props.title){const e=this.props.shouldWrapTitle?void 0:d.a.textOverflowStyle,t=Object(a.a)(this.props.isTokenTitle?{display:"flex"}:e,this.props.inline&&{flexShrink:0,maxWidth:"100%"});return r.a.createElement("div",Object.assign({},t),this.props.title)}}renderCaption(){const{caption:e,inline:t,shouldWrapCaption:n}=this.props;if(!e)return;const o=this.environment.device.isMobile?this.getMobileCaptionStyle():this.getDesktopCaptionStyle(),a={...o,marginTop:0,marginLeft:"0.5em",marginRight:"0.5em"};return r.a.createElement("div",{style:{...o,whiteSpace:n?"normal":"nowrap",...t&&{display:"inline-flex",marginTop:0},...this.props.captionStyle}},t&&e&&r.a.createElement("span",{style:a},"—"),e)}renderCheck(){if(this.props.checkState)return r.a.createElement("div",{style:{...this.environment.device.isMobile?u.mobileRightStyle:u.desktopRightStyle,width:this.environment.device.isMobile?16:14,flexShrink:0,...this.props.caption&&{alignSelf:"flex-start",marginTop:3}}},c.a.check())}renderRight(){const{right:e}=this.props;if(e)return r.a.createElement("div",{style:{...this.environment.device.isMobile?u.mobileRightStyle:u.desktopRightStyle,...this.props.dontShrinkRight&&{flex:"none"},...this.props.rightStyle?this.props.rightStyle:{},...this.props.body&&{alignSelf:"flex-start",marginTop:3}}},e)}renderExtension(){if(this.props.showExtensionArrow)return r.a.createElement("div",{style:this.environment.device.isMobile?this.getMobileTriangleIconStyle():this.getDesktopTriangleIconStyle()},c.a.triangle({fill:this.theme.mediumIconColor}))}renderBody(){const{body:e}=this.props;if(e)return r.a.createElement("div",{style:this.getBodyStyle()},e)}getStyle(){const{caption:e,title:t,inline:n,allowTextSelection:o}=this.props,{WindowSizeStore:r}=this.environment,a=e&&!n,i=t&&a,s=this.environment.device.isMobile&&this.context.menuType!==l.a.Popup,c=this.context.menuType===l.a.ActionSheet;return{display:"flex",alignItems:"center",lineHeight:"120%",width:"100%",userSelect:o?"auto":"none",minHeight:s?i?65:45:i?45:28,fontSize:s?16:14,...a&&{paddingTop:s?12:4,paddingBottom:s?12:4},...s&&{background:this.theme.popoverBackground,boxShadow:"0 1px 0 ".concat(this.theme.regularDividerColor),marginBottom:1},...c&&{background:this.theme.contentBackground,boxShadow:"inset 0 -1px 0 ".concat(this.theme.regularDividerColor),marginBottom:0},paddingLeft:this.context.menuType===l.a.Popup||this.props.disableIPhoneXSafeArea?void 0:r.state.paddingLeftCSS,paddingRight:this.context.menuType===l.a.Popup||this.props.disableIPhoneXSafeArea?void 0:r.state.paddingRightCSS,...this.props.style}}getDesktopCaptionStyle(){return{...d.a.textOverflowStyle,color:this.theme.mediumTextColor,marginTop:2,fontSize:12}}getMobileCaptionStyle(){return{...d.a.textOverflowStyle,color:this.theme.mediumTextColor,marginTop:2,fontSize:14}}getMobileTriangleIconStyle(){return{width:14,transform:"rotate(90deg)",fill:this.theme.lightIconColor,marginRight:16,flexShrink:0}}getDesktopTriangleIconStyle(){return{width:12,transform:"rotate(90deg)",fill:this.theme.lightIconColor,marginRight:14,flexShrink:0}}getBodyStyle(){return{marginTop:4,fontSize:this.environment.device.isMobile?d.a.fontSize.UISmall.mobile:d.a.fontSize.UISmall.desktop,color:this.theme.mediumTextColor,overflowWrap:"break-word"}}}u.contextTypes={...l.c},u.desktopIconStyle={display:"flex",alignItems:"center",justifyContent:"center",marginLeft:14},u.mobileIconStyle={display:"flex",alignItems:"center",justifyContent:"center",marginLeft:16},u.mobileRightStyle={marginLeft:"auto",marginRight:16,minWidth:0,flexShrink:0},u.desktopRightStyle={marginLeft:"auto",marginRight:14,minWidth:0,flexShrink:0},t.a=u},ZTW6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fIr1");const r="template_checklist",a={table:r,columnTypes:{id:o.a.UUID,user_id:o.a.UUID,space_id:o.a.UUID,created_time:o.a.Number,version:o.a.Number,last_version:o.a.Number,copied_from:o.a.UUID,block_id:o.a.UUID,steps_completed:o.a.StringArray,steps:o.a.StringArray,opt_out:o.a.Boolean}};t.b=a},ZbKq:function(e,t,n){"use strict";var o=n("g4rC");t.a=new o.a},ZmWw:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isOpen:!1}}}t.a=new r},"Zo/l":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d}));var o=n("q1tI"),r=n("nYHe"),a=n("FkPB"),i=n("2ZkR");function s(){const e=Object(o.useContext)(r.EnvironmentModernContext);if(!e)throw new Error("No ClientEnvironment provided.");return e}function l(){const e=s();return Object(a.a)(()=>({...e.device}),[e.device])}function c(){const e=s();return Object(a.a)(()=>e.device.isPhone,[e.device])}function d(e){const t=s();return Object(a.a)(()=>i.default.getGroup(t,e),[t,e])}},ZoJK:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("UxlC"),n("3bBZ");var o=n("h2IJ"),r=n("Mht8"),a=n("zb5D");function i(e){if(function(e){return Boolean(e&&e.api.execSql&&!e.sqliteConnection)}(e))return l}const s="ASYNCLRU:",l={async initializeStorage(e){if(e&&e.api&&e.api.execSql){const t=await e.api.execSql("create table if not exists notion (id integer primary key, key unique, value)",[]);if(t.error)throw new Error(t.error.message)}},async getItem(e,t){if(e&&e.api&&e.api.execSql){const n=await e.api.execSql("select * from notion where key = ? limit 1",[t]);if(n.error)throw new Error(n.error.message);if(n.value.length>0){const e=n.value[0];return JSON.parse(e.value)}}else{const e=localStorage.getItem(s+t);if(e)return JSON.parse(e)}},async setItem(e,t,n){if(e&&e.api&&e.api.execSql){const o=await e.api.execSql("insert or replace into notion (key, value) values (?, ?)",[t,JSON.stringify(n).replace(/\u2028/g,"").replace(/\u2029/g,"")]);if(o.error)throw new Error(o.error.message)}else localStorage.setItem(s+t,JSON.stringify(n))},async removeItem(e,t){if(e&&e.api&&e.api.execSql){const n=await e.api.execSql("delete from notion where key = ?",[t]);if(n.error)throw new Error(n.error.message)}else localStorage.removeItem(s+t)},async scanItems(e,t){if(e&&e.api&&e.api.execSql){const n=await e.api.execSql("select * from notion",[]);if(n.error)throw new Error(n.error.message);for(const e of n.value)t(e.key,JSON.parse(e.value))}else for(let n=0;n<localStorage.length;n++){const e=localStorage.key(n);if(e&&e.startsWith(s)){const n=localStorage.getItem(e);if(n){const o=JSON.parse(n);t(e.slice(s.length),o)}}}},async getSize(e){if(e&&e.api&&e.api.execSql){const t=await e.api.execSql("select count(key) as count from notion",[]);if(t.error)throw new Error(t.error.message);return 0===t.value.length?0:t.value[0].count}return localStorage.length},async clearStorage(e){if(e&&e.api&&e.api.execSql){const t=await e.api.execSql("delete from notion",[]);if(t.error)throw new Error(t.error.message)}},async initializeKeyValueStore(e){if(e&&e.api&&e.api.execSql)try{const t=await e.api.execSql("CREATE TABLE IF NOT EXISTS key_value_store (id INTEGER PRIMARY KEY, key TEXT UNIQUE, value TEXT)",[]);if(t.error)throw new Error(t.error.message);let n=await l.loadCurrentUserId(e);if(n)return void o.a.remove("current-user-id");if(n=o.a.get("current-user-id"),n)return await l.saveCurrentUserId(e,n),void o.a.remove("current-user-id")}catch(t){r.log({level:"error",from:"reactNativeActions",type:"initializeKeyValueStore",error:Object(a.a)(t)})}},async loadCurrentUserId(e){if(e&&e.api&&e.api.execSql){const t=await e.api.execSql("SELECT * FROM key_value_store WHERE key = ? LIMIT 1",["current-user-id"]);if(t.error)return void r.log({level:"error",from:"reactNativeActions",type:"loadCurrentUserId",error:Object(a.a)(t.error)});if(t.value.length>0)return t.value[0].value}},async saveCurrentUserId(e,t){if(e&&e.api&&e.api.execSql){const n=await e.api.execSql("INSERT OR REPLACE INTO key_value_store (key,value) VALUES (?,?)",["current-user-id",t]);n.error&&r.log({level:"error",from:"reactNativeActions",type:"saveCurrentUserId",error:Object(a.a)(n.error)})}},async clearCurrentUserId(e){if(e&&e.api&&e.api.execSql){const t=await e.api.execSql("DELETE FROM key_value_store WHERE key = ?",["current-user-id"]);t.error&&r.log({level:"error",from:"reactNativeActions",type:"clearCurrentUserId",error:Object(a.a)(t.error)})}},async legacyLogSqliteSchema(e){if(e&&e.api&&e.api.execSql){const t=await e.api.execSql("SELECT * from sqlite_master",[]);if(t.error)return void r.log({level:"error",from:"reactNativeActions",type:"legacyLogSqliteSchema",error:Object(a.a)(t.error)});const n=t.value,o=n.map(({type:e,name:t})=>"".concat(t,":").concat(e)).sort().join(",");r.log({level:"info",from:"reactNativeActions",type:"legacyLogSqliteSchema",data:{message:o,miscDataToConvertToString:{sqliteMasterRows:n}}})}}}},a3T4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("LvDl"),r=n.n(o);function a(e){return r.a.uniq(e).length<=3?{success:!1,reason:{type:"password_too_consistent"}}:e.length>=15?{success:!0}:e.length<10?{success:!1,reason:{type:"password_too_short"}}:function(e){return e.match(/[a-z]/i)}(e)?i(e)?{success:!0}:{success:!1,reason:{type:"password_missing_number"}}:i(e)?{success:!1,reason:{type:"password_missing_letter"}}:{success:!1,reason:{type:"password_missing_letter_and_number"}}}function i(e){return e.match(/\d/)}},a6KY:function(e,t,n){},"a9+E":function(e,t,n){"use strict";n.r(t),n.d(t,"importPrism",(function(){return r})),n.d(t,"PrismLanguages",(function(){return o}));var o;n("3bBZ");async function r(){const e=await n.e(23).then(n.t.bind(null,"wZee",7));return await n.e(23).then(n.t.bind(null,"XpJP",7)),await n.e(23).then(n.t.bind(null,"y1X9",7)),await n.e(23).then(n.t.bind(null,"huE1",7)),await n.e(23).then(n.t.bind(null,"kfgK",7)),await n.e(23).then(n.t.bind(null,"VOcU",7)),await n.e(23).then(n.t.bind(null,"gAkk",7)),await n.e(23).then(n.t.bind(null,"qVSt",7)),await n.e(23).then(n.t.bind(null,"OQpq",7)),await n.e(23).then(n.t.bind(null,"QWvX",7)),await n.e(23).then(n.t.bind(null,"Nd5L",7)),await n.e(23).then(n.t.bind(null,"lSgE",7)),await n.e(23).then(n.t.bind(null,"ZgVT",7)),await n.e(23).then(n.t.bind(null,"KJ57",7)),await n.e(23).then(n.t.bind(null,"otUN",7)),await n.e(23).then(n.t.bind(null,"GD/k",7)),await n.e(23).then(n.t.bind(null,"2et7",7)),await n.e(23).then(n.t.bind(null,"9QaP",7)),await n.e(23).then(n.t.bind(null,"eIXP",7)),await n.e(23).then(n.t.bind(null,"nrL0",7)),await n.e(23).then(n.t.bind(null,"dBHq",7)),await n.e(23).then(n.t.bind(null,"/nb9",7)),await n.e(23).then(n.t.bind(null,"PUL1",7)),await n.e(23).then(n.t.bind(null,"PEIs",7)),await n.e(23).then(n.t.bind(null,"3xzq",7)),await n.e(23).then(n.t.bind(null,"GYl3",7)),await n.e(23).then(n.t.bind(null,"Y613",7)),await n.e(23).then(n.t.bind(null,"4l/p",7)),await n.e(23).then(n.t.bind(null,"T8iE",7)),await n.e(23).then(n.t.bind(null,"ki2X",7)),await n.e(23).then(n.t.bind(null,"85O/",7)),await n.e(23).then(n.t.bind(null,"bPOv",7)),await n.e(23).then(n.t.bind(null,"CjHp",7)),await n.e(23).then(n.t.bind(null,"ZM0j",7)),await n.e(23).then(n.t.bind(null,"u1v7",7)),await n.e(23).then(n.t.bind(null,"+fy4",7)),await n.e(23).then(n.t.bind(null,"9IQp",7)),await n.e(23).then(n.t.bind(null,"Ol/B",7)),await n.e(23).then(n.t.bind(null,"ZwEA",7)),await n.e(23).then(n.t.bind(null,"DV0F",7)),await n.e(23).then(n.t.bind(null,"gmzG",7)),await n.e(23).then(n.t.bind(null,"1NVV",7)),await n.e(23).then(n.t.bind(null,"r4a2",7)),await n.e(23).then(n.t.bind(null,"TL9f",7)),await n.e(23).then(n.t.bind(null,"bEZN",7)),await n.e(23).then(n.t.bind(null,"Nuiu",7)),await n.e(23).then(n.t.bind(null,"mR1r",7)),await n.e(23).then(n.t.bind(null,"Yhcd",7)),await n.e(23).then(n.t.bind(null,"jpss",7)),await n.e(23).then(n.t.bind(null,"OuMq",7)),await n.e(23).then(n.t.bind(null,"RzVo",7)),await n.e(23).then(n.t.bind(null,"PSGn",7)),await n.e(23).then(n.t.bind(null,"Scwt",7)),await n.e(23).then(n.t.bind(null,"YD4P",7)),await n.e(23).then(n.t.bind(null,"sTAn",7)),await n.e(23).then(n.t.bind(null,"BHca",7)),await n.e(23).then(n.t.bind(null,"eWXi",7)),await n.e(23).then(n.t.bind(null,"KTUv",7)),await n.e(23).then(n.t.bind(null,"cZAW",7)),await n.e(23).then(n.t.bind(null,"hnpa",7)),await n.e(23).then(n.t.bind(null,"r4oG",7)),await n.e(23).then(n.t.bind(null,"6cul",7)),await n.e(23).then(n.t.bind(null,"XIHC",7)),await n.e(23).then(n.t.bind(null,"pYjL",7)),await n.e(23).then(n.t.bind(null,"1Muh",7)),await n.e(23).then(n.t.bind(null,"tDuG",7)),await n.e(23).then(n.t.bind(null,"PFdE",7)),await n.e(23).then(n.t.bind(null,"bldZ",7)),await n.e(23).then(n.t.bind(null,"ITQp",7)),await n.e(23).then(n.t.bind(null,"RX2a",7)),e}!function(e){e.abap="abap",e.arduino="arduino",e.bash="bash",e.basic="basic",e.c="c",e.clike="clike",e.clojure="clojure",e.coffeescript="coffeescript",e.cpp="cpp",e.csharp="csharp",e.css="css",e.cssExtras="css-extras",e.dart="dart",e.diff="diff",e.docker="docker",e.elixir="elixir",e.elm="elm",e.erlang="erlang",e.flow="flow",e.fortran="fortran",e.fsharp="fsharp",e.gherkin="gherkin",e.glsl="glsl",e.go="go",e.graphql="graphql",e.groovy="groovy",e.haskell="haskell",e.html="html",e.java="java",e.javascript="javascript",e.json="json",e.jsx="jsx",e.kotlin="kotlin",e.latex="latex",e.less="less",e.lisp="lisp",e.livescript="livescript",e.lua="lua",e.makefile="makefile",e.markdown="markdown",e.markup="markup",e.matlab="matlab",e.nix="nix",e.objectivec="objectivec",e.ocaml="ocaml",e.pascal="pascal",e.perl="perl",e.php="php",e.powershell="powershell",e.prolog="prolog",e.python="python",e.r="r",e.reason="reason",e.ruby="ruby",e.rust="rust",e.sass="sass",e.scala="scala",e.scheme="scheme",e.scss="scss",e.sql="sql",e.swift="swift",e.tsx="tsx",e.typescript="typescript",e.vbnet="vbnet",e.verilog="verilog",e.vhdl="vhdl",e.visualBasic="visual-basic",e.wasm="wasm",e.xml="xml",e.yaml="yaml"}(o||(o={}))},aEEb:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("Sb6f");class s extends a.a{renderComponent(){const{children:e,isInline:t,className:n}=this.props;return t?r.a.createElement("span",{className:n,style:this.getStyle()},e):r.a.createElement("div",{className:n,style:this.getStyle()},e)}getStyle(){const{isMultiline:e}=this.props;return{...this.getFontSize(),...this.getLineHeight(),...this.getColor(),...!e&&{...i.a.textOverflowStyle},...this.props.style}}getFontSize(){const{isSmall:e,isMobile:t}=this.props;return t?{fontSize:e?i.a.fontSize.UISmall.mobile:i.a.fontSize.UIRegular.mobile}:{fontSize:e?i.a.fontSize.UISmall.desktop:i.a.fontSize.UIRegular.desktop}}getLineHeight(){const{isSmall:e,isMobile:t}=this.props;return t?{lineHeight:e?i.a.lineHeight.UISmall.mobile:i.a.lineHeight.UIRegular.mobile}:{lineHeight:e?i.a.lineHeight.UISmall.desktop:i.a.lineHeight.UIRegular.desktop}}getColor(){const{isSmall:e,isSecondaryColor:t}=this.props;return e?{color:t?this.theme.lightTextColor:this.theme.mediumTextColor}:{color:t?this.theme.mediumTextColor:this.theme.regularTextColor}}}t.a=s},aLEG:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("3bBZ");var o=n("T8dS"),r=n("xe8Q"),a=n("vBRW");const i={ko:()=>n.e(6).then(n.bind(null,"bcs1"))};let s=!1;const l=Object(a.a)(async()=>{if(s)return;const[e]=o.a.split("-");if(!(e in i))return;const t=await i[e]();for(const[n,o]of Object.entries(t.emojiLocaleKeywords)){const e=r.c[n];e&&(e.keywords||(e.keywords=[]),e.keywords.unshift(...o))}Object.assign(r.b,t.emojiByName),s=!0})},aZ00:function(e,t,n){"use strict";n("E9XD"),n("3bBZ"),n("SYor");var o=n("5GpP"),r=n.n(o),a=n("GVKY"),i=n("LvDl"),s=n.n(i),l=n("udrG"),c=(n("UxlC"),n("Junv"),n("cBa6")),d=n("HRSx"),u=n("5/h/"),p=n("CARr"),h=n("fO5X"),m=n("O+wX"),f=n("VpIZ");var g=n("F1uM"),b=n("HiHT"),v=n("W7EN"),y=n("6SEd"),S=n("rE/H"),w=n.n(S);function k(e){const t=c.F(e);return"a"===t?"[":"b"===t?"**":"i"===t?"*":"c"===t?"`":"s"===t?"~~":"e"===t?"$":""}function C(e,t){const n=c.F(e);if(c.wb(e)){const n=c.R(e),o=Object(v.c)(n),r=o?t({toPageId:o}):n;return"](".concat(r||"",")")}return"b"===n?"**":"i"===n?"*":"c"===n?"`":"s"===n?"~~":"e"===n?"$":""}function M(e){const{annotation:t,exportArgs:n}=e,{getRecordValue:o,userTimeZone:r,getExportedPathToPage:a}=n;if(c.Eb(t)){const e=c.jb(t),n=o({table:u.a,id:e});return"@".concat(Object(u.e)(n))}if(c.zb(t)){const e=c.V(t),r=o({table:d.a,id:e});if(r){const t=I({block:r,exportArgs:n}),o=a({toPageId:e});return"[".concat(t,"](").concat(o,")")}}else{if(c.qb(t)){const{date_format:e,time_format:o,...a}=c.J(t);return Object(m.a)({value:a,date_format:e,time_format:o,userTimeZone:r,allowRelativeDates:!1,intl:n.intl})}if(c.sb(t))return c.N(t)}}const E=e=>{const t=/^\s+/.exec(e);return t?t[0]:""},_=e=>{const t=/\s+$/.exec(e);return t?t[0]:""},T=e=>{const t=_(e);return t.length>0?e.slice(0,-1*t.length):e},x=e=>{const t=E(e);return e.slice(t.length)};function I(e){const{block:t,exportArgs:n}=e;return z({textValue:c.hb(Object(f.c)(t).title),exportArgs:n})}function P(e){const{block:t,exportArgs:n}=e,{getRecordValue:o}=n,r=t&&t.content?t.content:[];return s.a.compact(s.a.map(r,e=>N({block:o({table:d.a,id:e}),exportArgs:{...n,blockId:e}})))}function O(e){return e.split("\n")}function B(e){const{block:t,exportArgs:n}=e,o=c.hb(Object(f.c)(t).caption);return o.length>0?[{text:z({textValue:o,exportArgs:n}),breakLines:!0,indentChildren:!1,children:[]}]:[]}function L(e){const{block:t,exportArgs:n}=e;return{text:I({block:t,exportArgs:n}),breakLines:!0,indentChildren:!1,children:P(e)}}function R(e){return{text:"",breakLines:!0,indentChildren:!1,children:P(e)}}function D(){}function A(e){const{block:t,exportArgs:n}=e;return{text:"- ".concat(I({block:t,exportArgs:n}).trim()),breakLines:!1,indentChildren:!0,children:P(e)}}function j(e){const{block:t,exportArgs:n}=e,{getExportedRenderAsset:o}=n,{source:r}=Object(f.c)(t),a=c.Y(r),i=o({fromBlockId:n.blockId,toFileURI:a}),s=I({block:t,exportArgs:n})||i;return{text:"[".concat(s,"](").concat(i,")"),breakLines:!0,indentChildren:!1,children:B(e)}}function F(e){const{block:t,exportArgs:n}=e,{getRecordValue:o,getExportedPathToPage:r,intl:a}=n;if("collection_view"===t.type||"collection_view_page"===t.type){const e=t.collection_id,n=o({table:y.a,id:e});if(n){const e=c.Y(n.name)||a.formatMessage({id:"export.markdown.untitledDatabase.placeholder",defaultMessage:"Untitled"}),o=r({toPageId:t.id});return{text:"[".concat(e,"](").concat(o,")"),breakLines:!0,indentChildren:!1,children:[]}}}}const V={text:L,header:function(e){const{block:t,exportArgs:n}=e;return{text:"# ".concat(I({block:t,exportArgs:n}).trim()),breakLines:!0,indentChildren:!1,children:P(e)}},sub_header:function(e){const{block:t,exportArgs:n}=e;return{text:"## ".concat(I({block:t,exportArgs:n}).trim()),breakLines:!0,indentChildren:!1,children:P(e)}},sub_sub_header:function(e){const{block:t,exportArgs:n}=e;return{text:"### ".concat(I({block:t,exportArgs:n}).trim()),breakLines:!0,indentChildren:!1,children:P(e)}},quote:function(e){const{block:t,exportArgs:n}=e;return{text:"> ".concat(I({block:t,exportArgs:n}).trim()),breakLines:!0,indentChildren:!1,children:P(e)}},bulleted_list:A,toggle:A,to_do:function(e){const{block:t,exportArgs:n}=e;let o;return o=p.n(Object(f.c)(t).checked)?"- [x] ":"- [ ] ",{text:"".concat(o," ").concat(I({block:t,exportArgs:n}).trim()),breakLines:!1,indentChildren:!0,children:P(e)}},numbered_list:function(e){const{block:t,exportArgs:n}=e,{getRecordValue:o}=n,r=function(e){const{block:t,getRecordValue:n}=e,o=t.parent_id,r=n({table:d.a,id:o});let a;a=r?s.a.compact(s.a.map(r.content,e=>n({table:d.a,id:e}))):[];const i=s.a.findIndex(a,e=>e.id===t.id),c=s.a.slice(a,0,i),u=s.a.findLastIndex(c,e=>e.type!==l.a.numberedList);return c.length-(u+1)}({block:t,getRecordValue:o});return{text:"".concat(r+1,". ").concat(I({block:t,exportArgs:n})),breakLines:!1,indentChildren:!0,children:P(e)}},code:function(e){const{block:t,exportArgs:n}=e,o=I({block:t,exportArgs:n}),r=t.properties&&t.properties.language?function(e){const t=c.Y(e);if(!t)return"";const n=b.b[t];return void 0===n||n===b.b["Plain Text"]?"":n}(t.properties.language):"",a="```".concat(r,"\n").concat(O(o).join("\n"),"\n```");return{text:"".concat(a),breakLines:!0,indentChildren:!1,children:[]}},page:function(e){const{block:t,exportArgs:n}=e,{getExportedPathToPage:o}=n,r=I({block:t,exportArgs:n}),a=o({toPageId:t.id});return{text:"[".concat(r,"](").concat(a,")"),breakLines:!0,indentChildren:!1,children:[]}},image:function(e){const{block:t,exportArgs:n}=e,{getExportedRenderAsset:o}=n,{source:r}=Object(f.c)(t),a=c.Y(r),i=o({fromBlockId:n.blockId,toFileURI:a}),s=I({block:t,exportArgs:n})||i;return{text:Object(g.h)({url:a})?"![".concat(s,"](").concat(i,")"):"[".concat(s,"](").concat(i,")"),breakLines:!0,indentChildren:!1,children:B(e)}},video:j,embed:j,bookmark:function(e){const{block:t,exportArgs:n}=e,{link:o}=Object(f.c)(t),r=p.v(o);return{text:"[".concat(I({block:t,exportArgs:n}),"](").concat(r,")"),breakLines:!0,indentChildren:!1,children:B(e)}},file:j,tweet:j,maps:j,gist:j,framer:j,invision:j,drive:function(e){const{block:t}=e;if(t.format&&t.format.drive_properties){const{url:e,title:n}=t.format.drive_properties;return{text:"[".concat(n,"](").concat(e,")"),breakLines:!0,indentChildren:!1,children:[]}}return j(e)},figma:j,loom:j,pdf:j,typeform:j,codepen:j,audio:j,divider:function(){return{text:"---",breakLines:!0,indentChildren:!1,children:[]}},equation:function(e){const{block:t}=e;let n="";return t&&t.properties&&t.properties.title&&(n=c.Y(t.properties.title)),{text:"$$".concat(n,"$$"),breakLines:!0,indentChildren:!1,children:[]}},collection_view:F,collection_view_page:F,column_list:R,column:R,factory:D,copy_indicator:D,breadcrumb:D,link_to_collection:D,link_to_page:D,callout:L,table_of_contents:D,whimsical:j,miro:j,abstract:j,alias:function(e){const{block:t,exportArgs:n}=e,{getRecordValue:o}=n;if(t.format&&t.format.alias_pointer){const e=o(t.format.alias_pointer);if(e)return N({block:e,exportArgs:{...n,renderParentBlockId:t.id,blockId:t.format.alias_pointer.id}})}},transclusion_container:R,transclusion_reference:function(e){const{block:t,exportArgs:n}=e,{getRecordValue:o}=n;if(t.format&&t.format.transclusion_reference_pointer){const e=o(t.format.transclusion_reference_pointer);if(e)return N({block:e,exportArgs:{...n,renderParentBlockId:t.id,blockId:t.format.transclusion_reference_pointer.id}})}}};function N(e){const{block:t}=e;if(t&&t.type){const n=V[t.type];if(n)return n(e)}}function U(e){let t="";for(const n of e){n.breakLines&&(t+="\n"),n.text&&(t+="".concat(n.text,"\n")),n.breakLines&&(t+="\n");let e=U(n.children);n.indentChildren&&(e=s.a.map(O(e),e=>e?"    "+e:"").join("\n")),t+="".concat(e)}return t=t.replace(/[\n]{3,}/g,"\n\n"),t}function z(e){const{textValue:t,exportArgs:n}=e;let o="";const r=c.hb(t);let a=[];for(const l of r){const e=c.db(l),t=Object(h.b)(a,e,e=>w()(e)),r=c.fb(l),i=e.map(e=>M({annotation:e,exportArgs:n})).find(e=>Boolean(e))||r,d=_(o);o=T(o),t.deleted.reverse();for(const a of t.deleted)o+=C(a,n.getExportedPathToPage);o+=d,o+=E(i);for(const n of t.created)o+=k(n);o+=x(i),a=[...s.a.intersectionWith(a,e,(e,t)=>s.a.isEqual(e,t)),...t.created]}const i=_(o);o=T(o),a.reverse();for(const s of a)o+=C(s,n.getExportedPathToPage);return o+=i,o}function X(e,t){const n=(new e).match(t)||[];if(0===n.length)return t;let o="",r=0;for(const a of n){const e=0===a.index||"<"!==t[a.index-1],n=a.lastIndex===t.length||">"!==t[a.lastIndex],i=Boolean(t.slice(a.index).match(/^[a-z][a-z]+:/i)),s=e&&n&&i;o+=t.slice(r,a.index),s&&(o+="<"),o+=a.raw,s&&(o+=">"),r=a.lastIndex}return o+=t.slice(r),o}function Y(e){return e.replace(/\\/g,"\\\\")}const H=e=>{const{MarkdownIt:t,LinkifyIt:n,markdown:o}=e;return new t({linkify:!0}).render(Y(X(n,o)))};n("HiXI"),n("Kz25");var q=n("njgS"),W=n("ARzG"),G=n("vp7d"),Z=n("NoAG"),K=n("awNq"),J=n("6BTz"),Q=n("nFzZ"),$=n("zmp8"),ee=n("J9+s");const te=Object(ee.defineMessages)({titleColumnName:{id:"database.titleColumn.name",defaultMessage:"Title"},genericColumnName:{id:"database.genericColumn.name",defaultMessage:"Column {columnNumber}",description:"The generic name we give to a column when a user imports a database without column names."}});function ne(e){const{actor:t,blockType:n,rootId:o,parentId:r,parentTable:a,spaceId:i,name:l,format:u,table:h,ignoreBlockCount:m,intl:f,randomID:g,randomShortID:b}=e,{schema:v,types:S,pages:w}=function(e,t,n){e=e.filter(e=>e.some(e=>Boolean((e.text||"").trim())));let o=[];1===e.length?o=e[0].map((e,n)=>t.formatMessage(te.genericColumnName,{columnNumber:n+1})):e.length>1&&(o=e[0].map(e=>e.text),e.shift());const r=e,a=s.a.compact(s.a.unzip(r).map(e=>he(t,e.map(e=>e.text),n))),i=o.map(()=>!1);for(let s=0;s<o.length;s++)if("text"===a[s].schema.type)for(let e=0;e<r.length;e++){const t=r[e][s].textValue;if(t)for(const n of t)if(c.ob(n)){i[s]=!0,e=r.length;break}}let l=!0;const d={title:{type:"title",name:t.formatMessage(te.titleColumnName)}};o.forEach((e,t)=>{const o=a[t];if(o)if("text"===o.schema.type&&l&&!i[t]){l=!1,o.id="title",o.schema={type:"title",name:e};const t=d.title;t&&(t.name=e)}else{const t=n();o.id=t,d[t]={name:e,...o.schema}}});const u=r.map(e=>{const t={};return a.forEach((n,o)=>{if(n){const{id:r,schema:a,coerce:i}=n,{type:s}=a;if(r){const n=e[o]||"";t[r]="url"===s?p.i(n.text):"date"===s?p.b(i(n.text)):"text"===s&&n.textValue||c.m(i(n.text))}}}),t});return{schema:d,types:a,pages:u}}(h,f,b),k=g(),C=g(),M=Date.now(),E=[],_={id:k,version:0,parent_table:d.a,parent_id:o,space_id:i,name:c.m(l),schema:v,alive:!0};E.push({pointer:{table:y.a,id:k,spaceId:i},command:"set",path:[],args:_});const T={id:o,version:0,type:n,collection_id:k,view_ids:[C],alive:!0,created_by_table:t.table,created_by_id:t.value.id,created_time:M,last_edited_by_table:t.table,last_edited_by_id:t.value.id,last_edited_time:M,parent_id:r,parent_table:a,space_id:i};E.push({pointer:{table:d.a,id:o,spaceId:i},command:"update",path:[],args:T});const x=function(e){const{actor:t,collectionId:n,spaceId:o,pages:r,ignoreBlockCount:a,randomID:i}=e,s=Date.now();return r.map(e=>{const r=i(),l={id:r,version:0,parent_id:n,parent_table:y.a,space_id:o,type:"page",created_by_table:t.table,created_by_id:t.value.id,created_time:s,last_edited_by_table:t.table,last_edited_by_id:t.value.id,last_edited_time:s,properties:e,...a?{ignore_block_count:!0}:void 0,alive:!0};return{id:r,operation:{pointer:{table:d.a,id:r,spaceId:o},command:"set",path:[],args:l}}})}({actor:t,collectionId:k,spaceId:i,pages:w,ignoreBlockCount:m,randomID:g});x.forEach(({operation:e})=>E.push(e));const I={id:C,version:0,type:"table",name:"Show All",parent_id:o,parent_table:"block",space_id:i,format:{table_properties:s.a.compact(S.map(({id:e})=>{if(e)return{visible:!0,property:e}})),...u},page_sort:x.map(e=>e.id).slice(0,q.p),alive:!0};return E.push({pointer:{table:Z.a,id:C,spaceId:i},command:"set",path:[],args:I}),{operations:E}}const oe=["yes","Yes","true","True","checked"],re=["no","No","false","False","unchecked"];function ae(e){return oe.some(t=>e===t)||re.some(t=>e===t)}const ie=function(e,t){if(parseInt(t)&&t.length<=6)return!1;const n=K.c(t,e);return Boolean(n)};const se=function(e){return a.b(e,"email")},le=function(e){return a.b(e,"url")},ce=function(e){if(e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/))return!1;const t=Object(G.a)(e,{defaultCountry:"US"});return Boolean(t&&t.phone&&t.country)},de=function(e,t){return e>0&&e**2<t},ue=function(e,t){return{schema:{type:"text"},validate:s.a.stubTrue,coerce:s.a.identity}},pe=[function(e,t){if(t.filter(ae).length>=t.length/2)return{schema:{type:"checkbox"},validate:ae,coerce:e=>oe.some(t=>e===t)?q.d:q.b}},function(e,t){if(t.filter(ce).length>=t.length/2)return{schema:{type:"phone_number"},validate:ce,coerce:s.a.identity}},function(e,t){const n=t.map(J.f),o=n[0];if(o&&n.every(e=>Boolean(e&&e.format===o.format)))return{schema:{type:"number",number_format:o.format},validate(e){const t=J.f(e);return!Q.h(t)&&t.format===o.format},coerce(e){const t=J.f(e);return"".concat(t?t.value:void 0)}}},function(e,t){if(t.filter(se).length>=t.length/2)return{schema:{type:"email"},validate:se,coerce:s.a.identity}},function(e,t){if(t.filter(le).length>=t.length/2)return{schema:{type:"url"},validate:le,coerce:s.a.identity}},function(e,t){if(t.filter(t=>ie(e,t)).length>=t.length/2)return{schema:{type:"date"},validate:t=>ie(e,t),coerce:t=>K.c(t,e)}},function(e,t,n){const o=[];t.forEach(e=>e.split(",").forEach(e=>o.push(e.trim())));const r=new Set(o);if(a=r.size,i=o.length,l=t.length,i>l&&de(a,i)){return{schema:{type:"multi_select",options:Array.from(r).map((e,t)=>({id:n(),value:e,color:Object($.n)([])}))},validate:e=>r.has(e),coerce:s.a.identity}}var a,i,l},function(e,t,n){const o=new Set(t);if(de(o.size,t.length)){return{schema:{type:"select",options:Array.from(o).map((e,t)=>({id:n(),value:e,color:Object($.n)([])}))},validate:e=>o.has(e),coerce:s.a.identity}}},ue],he=function(e,t,n){const o=t.filter(e=>Boolean(e));if(0===o.length)return ue();{let t;return pe.find(r=>{const a=r(e,o,n);return a&&(t=a),Boolean(a)}),t}};var me=n("622O"),fe=n("g90h"),ge=n("hfHo"),be=n("D2XV");const ve=n("uFVl"),ye={a:!0,strong:!0,em:!0,code:!0,del:!0,s:!0},Se={meta:!0,style:!0,script:!0,head:!0,title:!0};function we(e){if(!e)return;const t=parseInt(e);return isNaN(t)?void 0:t}const ke={[c.b.Page]:"data-notion-page-id",spaceId:"data-notion-space-id",[c.b.Highlight]:"data-notion-highlight",[l.a.code]:"data-notion-code-syntax",[l.a.callout]:"data-notion-callout",calloutIcon:"data-notion-callout-icon",calloutBackground:"data-notion-callout-background",[l.a.table_of_contents]:"data-notion-toc",[l.a.file]:"data-notion-file",fileAlias:"data-notion-file-alias",[l.a.columnList]:"data-notion-column-list",[l.a.column]:"data-notion-column-ratio"};function Ce(e){const t=e.document.createElement("div");return t.setAttribute(ke[l.a.columnList],""),t}function Me(e,t){const{ratio:n,innerHTML:o}=t,r=e.document.createElement("div");return r.setAttribute(ke[l.a.column],n.toString()),r.innerHTML=o,r}const Ee=function(e,t=[]){t.push(e);for(const n of s.a.toArray(e.childNodes))Ee(n,t);return t},_e=function(e){const t=[];if(!e.parentNode)return t;let n=e.parentNode;for(;n;)t.push(n),n=n.parentNode||void 0;return t};function Te(e,t){return _e(e).filter(e=>e instanceof t.Element&&("ul"===e.tagName.toLowerCase()||"ol"===e.tagName.toLowerCase())).length}const xe=["•","◦","▪"],Ie=["h1","h2","h3","h4","h5","h6"].map(e=>"".concat(e,":not(:first-child)")).join(", "),Pe=function(e){const{node:t,window:n,stripText:o,timeZone:r}=e;if(!o){for(const e of Array.from(t.querySelectorAll("p:not(:first-child)")))e.prepend("\n");for(const e of Array.from(t.querySelectorAll(Ie)))e.prepend("\n");for(const e of Array.from(t.querySelectorAll("ul > li"))){const t=Te(e,n)-1,o=xe[t%xe.length],r="    ".repeat(t);e.prepend("\n".concat(r).concat(o," "))}for(const e of Array.from(t.querySelectorAll("ol"))){const t=Te(e,n),o="    ".repeat(t);for(let n=0;n<e.children.length;n+=1){e.children[n].prepend("\n".concat(o).concat(n+1,". "))}}for(const e of Array.from(t.querySelectorAll("pre")))e.parentNode&&e.parentNode.insertBefore(n.document.createTextNode("\n\n"),e)}const a=[],i=Ee(t).filter(e=>e.nodeType===n.Node.TEXT_NODE&&(!o||!/^( |\t)*(\n)+( |\t)*$/.test(e.data)));return i.forEach((e,t)=>{let s=e.data;o&&(s=s.replace(/\[ \] /g,""),s=s.replace(/\[x\] /g,""),s=s.replace(/^[\-\*\•]\s?/g,""),s=s.replace(/(\s)+/g,"$1")),0===t&&(s=s.trimStart()),t===i.length-1&&(s=s.trimEnd());const l=[],d=_e(e);let u;!o&&d.some(e=>e instanceof n.Element&&("h1"===e.tagName.toLowerCase()||"h2"===e.tagName.toLowerCase()||"h3"===e.tagName.toLowerCase()||"h4"===e.tagName.toLowerCase()||"h5"===e.tagName.toLowerCase()||"h6"===e.tagName.toLowerCase()))&&l.push([c.b.Bold]),d.some(e=>e instanceof n.Element&&"strong"===e.tagName.toLowerCase())&&l.push([c.b.Bold]),d.some(e=>e instanceof n.Element&&"em"===e.tagName.toLowerCase())&&l.push([c.b.Italic]),d.some(e=>e instanceof n.Element&&"u"===e.tagName.toLowerCase())&&l.push([c.b.Underline]),d.some(e=>e instanceof n.Element&&("code"===e.tagName.toLowerCase()||"pre"===e.tagName.toLowerCase()))&&l.push([c.b.Code]),d.some(e=>e instanceof n.Element&&("del"===e.tagName.toLowerCase()||"strike"===e.tagName.toLowerCase()||"s"===e.tagName.toLowerCase()))&&l.push([c.b.Strike]);const p=d.find(e=>e instanceof n.Element&&e.hasAttribute(ke[c.b.Highlight]));if(p&&p instanceof n.Element){const e=$.p(p.getAttribute(ke[c.b.Highlight])||"");e&&l.push([c.b.Highlight,e])}const h=d.find(e=>e instanceof n.Element&&"a"===e.tagName.toLowerCase());if(h){const e=h.getAttribute(ke[c.b.Page]),t=h.getAttribute(ke.spaceId);"string"==typeof e&&Object(fe.f)(e)&&"string"==typeof t&&Object(fe.f)(t)?u=c.i(e,t):h.href&&l.push(c.g(h.href))}const m=d.find(e=>e instanceof n.Element&&"time"===e.tagName.toLowerCase());if(m){const e=m.getAttribute("datetime");if(e){const t=function(e,t){const n=Object(ge.default)(e);return n.hours()>0||n.minutes()>0||n.seconds()>0||n.milliseconds()>0?be.i.toPersistedDateTime({start:n},t):be.i.toPersistedDate({start:n},t)}(e,r);u=c.d(t)}}u?a.push(c.h(u,l)):a.push(c.n(s,l))}),c.Pb(a,1e5)};const Oe=function(e){const t=e.querySelectorAll("img[src], a[download]");return s.a.toArray(t)};function Be(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,node:a,allOperations:i,importFileMap:s,window:l,secureFileS3Url:c,ignoreBlockCount:d,intl:u,randomID:p,randomShortID:h}=e;return Je({actor:t,parentId:n,parentTable:o,spaceId:r,nodes:Oe(a),allOperations:i,importFileMap:s,window:l,secureFileS3Url:c,ignoreBlockCount:d,intl:u,randomID:p,randomShortID:h})}function Le(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,node:a,type:i,allOperations:s,window:l,ignoreBlockCount:c,stripText:u,randomID:p}=e,h=p(),m={id:h,version:0,type:i,properties:{title:Pe({node:a,window:l,stripText:u})},parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,last_edited_time:Date.now(),alive:!0,ignore_block_count:!!c||void 0};return s.push({pointer:{table:d.a,id:h,spaceId:r},command:"set",path:[],args:m}),h}function Re(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,tableData:a,allOperations:i,ignoreBlockCount:s,intl:l,randomID:c,randomShortID:d}=e,u=c(),{operations:p}=ne({actor:t,blockType:"collection_view",rootId:u,parentId:n,parentTable:o,spaceId:r,name:"",format:{table_wrap:!0},table:a,ignoreBlockCount:s,intl:l,randomID:c,randomShortID:d});for(const h of p)i.push(h);return u}function De(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,allOperations:a,ignoreBlockCount:i,randomID:s}=e,c=s(),u={id:c,version:0,type:l.a.divider,parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,alive:!0,ignore_block_count:!!i||void 0};return a.push({pointer:{table:d.a,id:c,spaceId:r},command:"set",path:[],args:u}),c}function Ae(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,source:a,allOperations:i,secureFileS3Url:s,ignoreBlockCount:u,randomID:p}=e,h=p(),m={id:h,version:0,type:l.a.image,properties:{source:c.m(a.url)},format:{block_width:"image"===a.type?Math.min(a.width,700):void 0},parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,alive:!0,ignore_block_count:!!u||void 0},f=Object(W.a)(m,s,!1);return m.file_ids=f.map(e=>e.id),i.push({pointer:{table:d.a,id:h,spaceId:r},command:"set",path:[],args:m}),h}function je(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,node:a,sourceUrl:i,allOperations:s,ignoreBlockCount:l,randomID:u}=e,p=we(a.getAttribute("height")),h=we(a.getAttribute("width")),m=u();let f;try{f=new URL(i)}catch(v){f=i}const b={id:m,version:0,type:g.c({url:i,baseUrl:f instanceof URL?f.origin:f}),properties:{source:c.m(i)},format:{block_width:h,block_height:p,block_full_width:!1,block_page_width:!(h||p),block_preserve_scale:!0},parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,alive:!0,ignore_block_count:!!l||void 0};return s.push({pointer:{table:d.a,id:m,spaceId:r},command:"set",path:[],args:b}),m}function Fe(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,source:a,allOperations:i,secureFileS3Url:s,ignoreBlockCount:l,randomID:u}=e,h=u(),m=g.c({url:a.url,baseUrl:a.url}),f={id:h,version:0,type:"embed"===m?"file":m,properties:{title:c.m(Object(me.f)(a.url)),source:p.i(a.url)},format:{block_width:"image"===a.type?Math.min(a.width,700):void 0},parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,alive:!0,ignore_block_count:!!l||void 0},b=Object(W.a)(f,s,!1);return f.file_ids=b.map(e=>e.id),i.push({pointer:{table:d.a,id:h,spaceId:r},command:"set",path:[],args:f}),h}function Ve(e){return"#text"===e.nodeName?e.textContent?e.textContent:"":Array.from(e.childNodes).map(e=>{const t=e.nodeName.toLowerCase();return"br"===t?"\n":"div"===t?"".concat(Ve(e),"\n"):Ve(e)}).map(e=>e.split("\n").map(e=>e.trimRight()).join("\n")).join("")}function Ne(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,node:a,allOperations:i,window:s,ignoreBlockCount:c,randomID:u}=e,p=u(),h=a.getAttribute(ke.calloutBackground),m=h?$.p(h):void 0,f=a.getAttribute(ke.calloutIcon),g=f&&f.match(ve())?f:void 0,b={id:p,version:0,type:l.a.callout,properties:{title:Pe({node:a,window:s,stripText:!1})},format:{block_color:m,page_icon:g},parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,alive:!0,ignore_block_count:!!c||void 0};return i.push({pointer:{table:d.a,id:p,spaceId:r},command:"set",path:[],args:b}),p}function Ue(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,importFileMap:a,node:i,allOperations:s,secureFileS3Url:u,ignoreBlockCount:p,randomID:h}=e,m=i.getAttribute(ke.fileAlias)||"",f=i.getAttribute(ke[l.a.file])||"",g=a[f]?a[f].url:f,b=h(),v={alive:!0,created_by_id:t.value.id,created_time:Date.now(),id:b,last_edited_by_table:t.table,last_edited_by_id:t.value.id,last_edited_time:Date.now(),parent_id:n,parent_table:o,space_id:r,properties:{source:c.m(g),title:c.m(m)},type:l.a.file,version:0,ignore_block_count:!!p||void 0},y=Object(W.a)(v,u,!1);return v.file_ids=y.map(e=>e.id),s.push({pointer:{table:d.a,id:b,spaceId:r},command:"set",path:[],args:v}),b}function ze(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,node:a,allOperations:i,ignoreBlockCount:s,randomID:u}=e,p=u(),h=a.getAttribute(ke[l.a.code]),m=h&&b.a[h]?b.a[h]:"Plain Text",f={id:p,version:0,type:l.a.code,properties:{title:c.m(Ve(a)),language:c.m(m)},format:{code_wrap:!0},parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,alive:!0,ignore_block_count:!!s||void 0};return i.push({pointer:{table:d.a,id:p,spaceId:r},command:"set",path:[],args:f}),p}function Xe(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,allOperations:a,ignoreBlockCount:i,randomID:s}=e,c=s(),u={id:c,version:0,type:l.a.table_of_contents,format:{block_color:"gray"},parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,alive:!0,ignore_block_count:!!i||void 0};return a.push({pointer:{table:d.a,id:c,spaceId:r},command:"set",path:[],args:u}),c}function Ye(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,node:a,allOperations:i,ignoreBlockCount:s,randomID:u}=e,p=u(),h={id:p,version:0,type:l.a.quote,properties:{title:c.m(a.textContent?a.textContent.trim():"")},parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,alive:!0,ignore_block_count:!!s||void 0};return i.push({pointer:{table:d.a,id:p,spaceId:r},command:"set",path:[],args:h}),p}function He(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,node:a,allOperations:i,importFileMap:u,window:p,secureFileS3Url:h,ignoreBlockCount:m,intl:f,randomID:g,randomShortID:b}=e,v=g(),y=a.querySelector("summary"),S=s.a.toArray(a.childNodes).filter(e=>e!==y),w=y&&y.textContent&&Pe({node:y,window:p,stripText:!1}),k=Je({actor:t,parentId:v,parentTable:d.a,spaceId:r,nodes:S,allOperations:i,importFileMap:u,window:p,secureFileS3Url:h,ignoreBlockCount:m,intl:f,randomID:g,randomShortID:b}),C={id:v,version:0,type:l.a.toggle,content:k,properties:{title:w||c.m("")},parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,alive:!0,ignore_block_count:!!m||void 0};return i.push({pointer:{table:d.a,id:v,spaceId:r},command:"set",path:[],args:C}),v}function qe(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,node:a,allOperations:i,importFileMap:c,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:g}=e,b=f(),v=s.a.toArray(a.children).filter(e=>e.hasAttribute(ke[l.a.column])).slice(0,8).map(e=>function(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,node:a,allOperations:i,importFileMap:c,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:g}=e,b=f(),v=a.getAttribute(ke[l.a.column]);let y=void 0;if(null!==v){const e=parseFloat(v);!Number.isNaN(e)&&e>0&&e<=1&&(y=e)}const S=Je({actor:t,parentId:b,parentTable:d.a,spaceId:r,nodes:s.a.toArray(a.children),allOperations:i,importFileMap:c,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:g}),w={id:b,version:0,type:l.a.column,format:{column_ratio:y},content:S,parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,alive:!0,ignore_block_count:!!h||void 0};return i.push({pointer:{table:d.a,id:b,spaceId:r},command:"set",path:[],args:w}),b}({actor:t,parentId:b,parentTable:d.a,spaceId:r,node:e,allOperations:i,importFileMap:c,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:g})),y={id:b,version:0,type:l.a.columnList,content:v,parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,alive:!0,ignore_block_count:!!h||void 0};return i.push({pointer:{table:d.a,id:b,spaceId:r},command:"set",path:[],args:y}),b}const We=/^\[x\].*/,Ge=/^\[ \].*/,Ze=/^[-\*\•].*/;function Ke(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,node:a,allOperations:i,importFileMap:u,window:p,secureFileS3Url:h,ignoreBlockCount:m,intl:f,randomID:g,randomShortID:b}=e,v=g(),y=p.document.createElement("span"),S=[];s.a.toArray(a.childNodes).forEach((e,t)=>{0===t&&!$e(e,p)||function(e,t){return 3===e.nodeType||e instanceof t.Element&&ye[e.tagName.toLowerCase()]}(e,p)?(y.appendChild(e),e instanceof p.Element&&Oe(e).forEach(e=>S.push(e))):S.push(e)});const w=Je({actor:t,parentId:v,parentTable:"block",spaceId:r,nodes:S,allOperations:i,importFileMap:u,window:p,secureFileS3Url:h,ignoreBlockCount:m,intl:f,randomID:g,randomShortID:b}),k=We.test(y.textContent||""),C=Ge.test(y.textContent||"");let M;M=k||C?l.a.toDo:a.parentNode instanceof p.Element&&"ol"===a.parentNode.tagName.toLowerCase()?l.a.numberedList:l.a.bulletedList;let E=!1;M===l.a.toDo&&k&&(E=!0);const _={id:v,version:0,type:M,content:w,properties:{title:Pe({node:y,window:p,stripText:!0}),checked:E?c.m(q.d):void 0},parent_id:n,parent_table:o,space_id:r,created_by_table:t.table,created_by_id:t.value.id,created_time:Date.now(),last_edited_by_table:t.table,last_edited_by_id:t.value.id,alive:!0,ignore_block_count:!!m||void 0};return i.push({pointer:{table:d.a,id:v,spaceId:r},command:"set",path:[],args:_}),v}function Je(e){const{actor:t,parentId:n,parentTable:o,spaceId:r,nodes:a,allOperations:i,importFileMap:c,window:d,secureFileS3Url:u,ignoreBlockCount:p,intl:h,randomID:m,randomShortID:f}=e;return s.a.union(...a.map(e=>function e(t){const{actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b}=t;if(i&&i instanceof u.Element){const t=i.tagName.toLowerCase();if("h1"===t)return[Le({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,type:l.a.header,allOperations:c,window:u,ignoreBlockCount:h,stripText:!0,randomID:f}),...Be({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})];if("h2"===t)return[Le({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,type:l.a.subHeader,allOperations:c,window:u,ignoreBlockCount:h,stripText:!0,randomID:f}),...Be({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})];if("hr"===t)return[De({actor:n,parentId:o,parentTable:r,spaceId:a,allOperations:c,ignoreBlockCount:h,randomID:f})];if("h"===t[0])return[Le({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,type:l.a.subSubHeader,allOperations:c,window:u,ignoreBlockCount:h,stripText:!0,randomID:f}),...Be({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})];if("pre"===t||"code"===t||"div"===t&&"sourceCode"===i.className)return[ze({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,ignoreBlockCount:h,randomID:f}),...Be({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})];if(i.hasAttribute(ke[l.a.callout]))return[Ne({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,window:u,ignoreBlockCount:h,randomID:f}),...Be({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})];if("blockquote"===t)return[Ye({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,ignoreBlockCount:h,randomID:f}),...Be({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})];if("details"===t)return[He({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})];if("table"===t){const e=[],t=Array.from(i.querySelectorAll("tr")).filter(e=>e.closest("table")===i);for(const n of t){const t=[],o=Array.from(n.querySelectorAll("td, th")).filter(e=>e.closest("tr")===n);for(const e of o){const n=(e.textContent||"").trim();t.push({text:n,textValue:Pe({node:e,window:u,stripText:!1})})}e.push(t)}return 0===s.a.flattenDeep(e).length?[]:[Re({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,tableData:e,allOperations:c,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})]}if("div"===t&&i.hasAttribute(ke[l.a.columnList]))return[qe({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})];if("nav"===t&&i.hasAttribute(ke[l.a.table_of_contents]))return[Xe({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,ignoreBlockCount:h,randomID:f}),...Be({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})];if("ul"===t||"ol"===t)return s.a.union(...s.a.map(i.children,t=>e({actor:n,parentId:o,parentTable:r,spaceId:a,node:t,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})));if("li"===t||We.test(i.textContent||"")||Ge.test(i.textContent||"")||Ze.test(i.textContent||""))return[Ke({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})];if("img"===t){const e=i.getAttribute("src");if(e)return[Ae({actor:n,parentId:o,parentTable:r,spaceId:a,source:d[e]||{type:"unknown",url:e},allOperations:c,secureFileS3Url:p,ignoreBlockCount:h,randomID:f})]}if("a"===t&&i.getAttribute(ke[l.a.file]))return[Ue({actor:n,parentId:o,parentTable:r,spaceId:a,importFileMap:d,node:i,allOperations:c,secureFileS3Url:p,ignoreBlockCount:h,randomID:f})];if("a"===t&&0===s.a.toArray(i.childNodes).length){const e=i.getAttribute("href");if(i.hasAttribute("download")&&e)return[Fe({actor:n,parentId:o,parentTable:r,spaceId:a,source:d[e]||{type:"unknown",url:e},allOperations:c,secureFileS3Url:p,ignoreBlockCount:h,randomID:f})]}if("video"===t){const e=i.querySelector("source");if(e){const t=e.getAttribute("src");if(t&&g.j({url:t}))return[Fe({actor:n,parentId:o,parentTable:r,spaceId:a,source:{type:"unknown",url:t},allOperations:c,secureFileS3Url:p,ignoreBlockCount:h,randomID:f})]}}if("iframe"===t){const e=i.getAttribute("src");if(e)return[je({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,sourceUrl:e,allOperations:c,ignoreBlockCount:h,randomID:f})]}return[.../^\s*$/g.test(i.textContent||"")?[]:[Le({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,type:l.a.text,allOperations:c,window:u,ignoreBlockCount:h,stripText:!1,randomID:f})],...Be({actor:n,parentId:o,parentTable:r,spaceId:a,node:i,allOperations:c,importFileMap:d,window:u,secureFileS3Url:p,ignoreBlockCount:h,intl:m,randomID:f,randomShortID:b})]}return[]}({actor:t,parentId:n,parentTable:o,spaceId:r,node:e,allOperations:i,importFileMap:c,window:d,secureFileS3Url:u,ignoreBlockCount:p,intl:h,randomID:m,randomShortID:f})))}const Qe=function(e){if(e&&-1!==e.indexOf("em"))return parseInt(e)},$e=function(e,t){return e instanceof t.Element&&"img"===e.tagName.toLowerCase()},et=function(e,t,n){const o=n.document.createElement(t);for(;e.firstChild;)o.appendChild(e.firstChild);for(let r=e.attributes.length-1;r>=0;--r){const t=e.attributes[r];o.setAttribute(t.name,t.value)}return e.parentNode&&e.parentNode.replaceChild(o,e),o},tt=function(e,t,n){const o=n.document.createElement(t);for(;e.firstChild;)o.appendChild(e.firstChild);e.appendChild(o)},nt=function(e){const t=[];let n=e;for(;e.firstChild;){const o=e.firstChild;t.push(o),e.parentNode&&e.parentNode.insertBefore(o,n.nextSibling),n=o}const o=e.parentNode;return o&&(o.removeChild(e),o.normalize()),t},ot=function(e,t){e.normalize();const n=s.a.toArray(e.childNodes);for(;n.length>0;){let e=n.shift();if(e instanceof t.Element&&e.parentNode&&"google-sheets-html-origin"===e.tagName.toLowerCase()){const t=s.a.toArray(e.childNodes);for(const n of t)e.parentNode.insertBefore(n,e);n.unshift(...t),e.remove()}else if(e&&e.parentNode&&3===e.nodeType&&/^( |\t)*(\n)+( |\t)*$/.test(e.data))e.parentNode.removeChild(e);else if(e&&e instanceof t.Element&&e.parentNode&&Se[e.tagName.toLowerCase()])e.parentNode.removeChild(e);else{if(e instanceof t.HTMLElement){const n=(o=e.style.fontSize||void 0)&&-1!==o.indexOf("px")?parseInt(o):o&&-1!==o.indexOf("pt")?parseInt(o):void 0,r=Qe(e.style.fontSize||void 0);n&&n>=24?e=et(e,"h1",t):r&&r>2&&(e=et(e,"h1",t))}if(e instanceof t.HTMLElement&&("line-through"===e.style.textDecoration&&tt(e,"del",t),"italic"===e.style.fontStyle&&tt(e,"em",t),("bold"===e.style.fontWeight||e.style.fontWeight&&parseInt(e.style.fontWeight)>=500)&&tt(e,"strong",t)),e instanceof t.HTMLElement&&"b"===e.tagName.toLowerCase()&&(e=et(e,"strong",t)),e instanceof t.HTMLElement&&"strong"===e.tagName.toLowerCase()&&"normal"===e.style.fontWeight&&(e=et(e,"span",t)),e instanceof t.HTMLElement&&("section"===e.tagName.toLowerCase()||"article"===e.tagName.toLowerCase())&&(e=et(e,"div",t)),e instanceof t.HTMLElement&&"div"===e.tagName.toLowerCase()&&"inline"===e.style.display&&(e=et(e,"span",t)),e instanceof t.HTMLElement&&"input"===e.tagName.toLowerCase()&&"checkbox"===e.type){const o=e.checked,r=e.parentNode,a=t.document.createElement("span");a.textContent="[".concat(o?"x":" ","] "),r&&(r.insertBefore(a,e),r.removeChild(e)),n.push(a)}else{if(e instanceof t.HTMLElement&&"table"===e.tagName.toLowerCase()){const o=Array.from(e.querySelectorAll("tr")).map(e=>e.querySelectorAll("td, th"));if(1===o.length){const r=Ce(t),a=o[0],i=a.length,s=1/i;for(let e=0;e<i;e+=1){const o=Me(t,{ratio:s,innerHTML:a[e].innerHTML});r.appendChild(o),n.push(o)}e.parentNode&&e.parentNode.replaceChild(r,e)}else if(o.every(e=>1===e.length)){const r=t.document.createDocumentFragment();for(const e of o){const o=e[0],a=o.children.length;for(let e=0;e<a;e+=1){const t=o.children[e];t&&(r.appendChild(t),n.push(t))}r.appendChild(t.document.createElement("hr"))}e.parentNode&&e.parentNode.replaceChild(r,e)}}if(e instanceof t.HTMLElement&&("ul"===e.tagName.toLowerCase()||"ol"===e.tagName.toLowerCase())&&e.parentNode instanceof t.HTMLElement&&("ul"===e.parentNode.tagName.toLowerCase()||"ol"===e.parentNode.tagName.toLowerCase())&&e.previousSibling instanceof t.HTMLElement&&"li"===e.previousSibling.tagName.toLowerCase()&&e.previousSibling.appendChild(e),e instanceof t.Element&&(e.removeAttribute("style"),e.removeAttribute("dir")),e instanceof t.Element&&"span"===e.tagName.toLowerCase()){(e.hasAttribute(ke[c.b.Highlight])?Array.from(e.children):nt(e)).forEach(e=>n.push(e))}else if(e){s.a.toArray(e.childNodes).forEach(e=>n.push(e))}}}}var o;for(s.a.toArray(e.childNodes).forEach(e=>n.push(e));n.length>0;){const e=n.shift();if(e)if(rt(e,t)&&s.a.every(e.childNodes,e=>e instanceof t.Element&&"h1"===e.tagName.toLowerCase())){const o=t.document.createElement("h1");s.a.each(e.childNodes,e=>{s.a.each(e.childNodes,e=>{e&&o.appendChild(e)})});const r=e.parentNode;r&&(r.insertBefore(o,e),r.removeChild(e)),n.push(o)}else if(rt(e,t)&&s.a.every(e.childNodes,e=>e instanceof t.Element&&"h2"===e.tagName.toLowerCase())){const o=t.document.createElement("h2");s.a.each(e.childNodes,e=>{s.a.each(e.childNodes,e=>{e&&o.appendChild(e)})});const r=e.parentNode;r&&(r.insertBefore(o,e),r.removeChild(e)),n.push(o)}else if(e instanceof t.HTMLElement&&("div"===e.tagName.toLowerCase()||"span"===e.tagName.toLowerCase())&&e.parentNode&&0===e.childNodes.length)e.parentNode.removeChild(e);else if(!rt(e,t)||"p"!==e.tagName.toLowerCase()&&"div"!==e.tagName.toLowerCase()&&"figure"!==e.tagName.toLowerCase()||!s.a.toArray(e.childNodes).some(e=>e instanceof t.Element&&("p"===e.tagName.toLowerCase()||"div"===e.tagName.toLowerCase()||"img"===e.tagName.toLowerCase()||"ul"===e.tagName.toLowerCase()||"table"===e.tagName.toLowerCase()||"hr"===e.tagName.toLowerCase()||"video"===e.tagName.toLowerCase()))){if(e&&e.childNodes){s.a.toArray(e.childNodes).forEach(e=>n.push(e))}}else{nt(e).forEach(e=>n.push(e))}}e.normalize(),s.a.toArray(e.childNodes).forEach(n=>{if(3===n.nodeType){const o=t.document.createElement("p");e.insertBefore(o,n),o.appendChild(n)}})};function rt(e,t){return e instanceof t.Element&&(0!==e.childNodes.length&&!(e.hasAttribute(ke[l.a.columnList])||e.hasAttribute(ke[l.a.column])||e.hasAttribute(ke[l.a.callout])))}function at(e){const{actor:t,parentId:n,spaceId:o,parentTable:r,rootNode:a,importFileMap:i,window:l,secureFileS3Url:c,ignoreBlockCount:d,intl:u,randomID:p,randomShortID:h}=e;ot(a,l);const m=[];return{allOperations:m,rootContentIds:Je({actor:t,parentId:n,parentTable:r,spaceId:o,nodes:s.a.toArray(a.children),allOperations:m,importFileMap:i,window:l,secureFileS3Url:c,ignoreBlockCount:d,intl:u,randomID:p,randomShortID:h})}}var it=n("A9TN"),st=n("/YYm"),lt=n("wpmu"),ct=n("bPtJ"),dt=n("sjR4"),ut=n("qpkC"),pt=n("N34Z"),ht=n("q2qQ"),mt=n("6rsX"),ft=n("Ajfl"),gt=n("MBf9"),bt=n("Wfos"),vt=n("GJWe"),yt=n("VBxf"),St=n("nM47"),wt=n("922z"),kt=n("dsG5"),Ct=n("y6Dp"),Mt=n("QcDD"),Et=n("DNgp"),_t=n("OYeE"),Tt=n("iICV"),xt=n("HTHG"),It=n("unoy"),Pt=n("vJXr"),Ot=n("wiBh"),Bt=n("RI9y"),Lt=n("w5u6"),Rt=n("V1wX"),Dt=n("Wvka"),At=n("vl8/"),jt=n("tP7q"),Ft=n("wF3w"),Vt=n("gHFd");n.d(t,"d",(function(){return Wt})),n.d(t,"a",(function(){return Kt})),n.d(t,"e",(function(){return nn})),n.d(t,"b",(function(){return rn})),n.d(t,"c",(function(){return an})),n.d(t,"f",(function(){return sn}));const Nt=Object(Vt.dangerouslyStartLoadingDependency)(Vt.deps.markdownLinkifyIt,"clipboardActions"),Ut=Object(ee.defineMessages)({pasteFileIntoCommentNotAllowed:{id:"clipboardActions.pasteFileIntoCommentError.message",defaultMessage:"Sorry, you cannot paste files into a comment."},offlineError:{id:"clipboardActions.offlineError.message",defaultMessage:"Please go online to copy this block."}}),zt="text/_notion-blocks-v2-".concat(it.default.env),Xt="text/_notion-text-".concat(it.default.env);function Yt(e,t){if(!e.clipboardData)return;const n=t.map(e=>({...e,blockSubtree:e.blockSubtree?e.blockSubtree.toJson():void 0}));e.clipboardData.setData(zt,JSON.stringify(n))}function Ht(e,t){return e?t.split("\r\n").reduce((e,t)=>[...e,...t.split("\n")],[]).join("\r\n"):t}function qt(e,t){if(!t.clipboardData)return;const n=dt.default.state.stores,o=Et.default.isEditingComment(),r=Et.default.state,a=e.currentUser.id;if("empty"!==r.mode&&r.selection.startIndex!==r.selection.endIndex){const n=At.default.getIntl(),o=r.store,i=r.selection,s=o.inMemoryRecordCache,l=o.getValue();t.preventDefault(),l&&function(e,t){e.clipboardData&&e.clipboardData.setData(Xt,JSON.stringify(t))}(t,{editing:l,selection:i});const d=c.ab(l,i.startIndex,i.endIndex),u=vt.k({intl:n,textValue:d,getRecordValue:s.makeGetRecordValueFn(a),userTimeZone:be.m});t.clipboardData.setData("text/plain",Ht(e.device.isWindows,u));const p=vt.j({textValue:d,getRecordValue:s.makeGetRecordValueFn(a),userTimeZone:be.m,isAndroid:!1,isSafariOrIOS:!1,disableLinks:!1,disabled:!0,disableHover:!1,disableStyleAnnotations:!1,disableDateStyleAnnotations:!1,baseUrl:it.default.baseURL,showEmojiInline:!0,emojiType:"raw",theme:Object($.l)(),intl:n,katex:void 0});t.clipboardData.setData("text/html",Ht(e.device.isWindows,p))}else if(n.length>0&&!o){t.preventDefault();const o=n[0],r=o.inMemoryRecordCache,i=s.a.uniq(s.a.compact(n.map(e=>e.id)));if(r.isTemplatePreview){Yt(t,i.map(t=>({blockId:t,snapshotData:void 0,blockSubtree:ut.b(e,{blockId:t,inMemoryRecordCache:r,allowCopyCollections:!0,requireFullSubtree:!1,skipTransclusionContainerChildren:!0})})))}else if(r.snapshotData){Ct.cb(e,r.snapshotData),Yt(t,i.map(t=>({blockId:t,snapshotData:r.snapshotData,blockSubtree:ut.b(e,{blockId:t,inMemoryRecordCache:r,allowCopyCollections:!0,requireFullSubtree:!0,skipTransclusionContainerChildren:!0})})))}else{Yt(t,i.map(t=>({blockId:t,snapshotData:void 0,blockSubtree:ut.b(e,{blockId:t,inMemoryRecordCache:r,allowCopyCollections:!1,requireFullSubtree:!0,skipTransclusionContainerChildren:!0})})))}const l=s.a.compact(n.map(e=>e.getValue())),c=o.getRoot().id,u=r.makeGetRecordValueFn(a),p=function(e,t){return U(s.a.compact(e.map(e=>N({block:e,exportArgs:{...t,blockId:e.id}})))).trim()}(l,{root:{table:d.a,id:c},navigableBlockId:c,renderParentBlockId:void 0,blockId:c,userTimeZone:be.m,intl:At.default.getIntl(),getRecordValue:u,getRecordsWithParent:()=>[],getExportedPathToFile:({toFileURI:e})=>e,getExportedRenderAsset:({toFileURI:e})=>e,getExportedPathToPage:({toPageId:e})=>Object(Dt.a)({pageId:e,pageValue:u({table:d.a,id:e}),baseUrl:it.default.baseURL})});if(p){t.clipboardData.setData("text/plain",Ht(e.device.isWindows,p));const n=Nt();if(n){const o=H({...n,markdown:p});t.clipboardData.setData("text/html",Ht(e.device.isWindows,o))}}}}function Wt(e){if(!e.environment.device.isPhone){const{event:t,environment:n,transaction:o}=e,r=dt.default.state.stores,a=Et.default.isEditingComment(),i=xt.k(),s=Et.default.state,{phase:l}=dt.default.state;if(Kt({environment:n,event:t}),"editing"===s.mode&&s.selection.startIndex!==s.selection.endIndex){const{store:e,selection:t}=s;ft.f({environment:n,store:e,selection:t,transaction:o})}else l!==dt.SelectionPhase.Selected&&"editing"!==s.mode||!(r.length>0)||a||i||ht.o({environment:n,blocks:r,transaction:o});Tt.a.setKeyboardMode(!0)}}let Gt,Zt=!1;function Kt(e){if(!Zt&&!e.environment.device.isPhone){const{environment:t,event:n}=e;qt(t,n),Tt.a.setKeyboardMode(!0)}}function Jt(e){const{environment:t,text:n,disableEmbedMenu:o,transaction:a}=e,i=Et.default.state;if("editing"===i.mode){const e=i.store.getValue();if(en(n))tn({environment:t,text:n,transaction:a});else if(Object(Ot.b)("c"))ft.n({environment:t,store:i.store,selection:i.selection,string:n,disableMentions:!0,disableDateMentions:!0,disableDateReminderMentions:!0,disableEmojiCommands:!0,disableSlashCommands:!0,transaction:a});else{const i=Nt(e=>(e=>{const{MarkdownIt:t,LinkifyIt:n,markdown:o}=e;return new t({linkify:!0}).renderInline(Y(X(n,o)))})({...e,markdown:n}));if(!i)return;!function(e,t,n){const o=Et.default.state;if("editing"===o.mode){const a=document.createElement("div");/schemas-microsoft-com:office/.test(t)?a.innerHTML=r()(t):a.innerHTML=t;const i=function(e,t){return ot(e,t),Pe({node:e,window:t,stripText:!0})}(a,window);ft.f({environment:e,store:o.store,selection:o.selection,transaction:n});const s=1===i.length,l=s&&(!i[0][1]||0===i[0][1].length);if(s&&l){const t=i[0][0];ft.n({environment:e,store:o.store,selection:{startIndex:o.selection.startIndex,endIndex:o.selection.startIndex},string:t,disableMentions:!0,disableDateMentions:!0,disableDateReminderMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:n})}else ft.o({environment:e,store:o.store,tokens:i,index:o.selection.startIndex,transaction:n})}}(t,i,a),o||function(e){const{environment:t,text:n,oldTextValue:o}=e,r=/^[^ ]+$/.exec(n);if(r){const e=c.T(r[0]),n=Nt();if(e&&n){const r=(a=n.MarkdownIt,i=e.value,new a({linkify:!0}).normalizeLinkText(i)),l=Et.default.state,d=dt.default.state;if("editing"===l.mode&&d.stores.length>0){const n=l.store.getValue(),a=c.Y(n),i=s.a.toArray(a.substring(0,a.indexOf(r))).length,d=i+s.a.toArray(r).length;Lt.default.afterNextFlush(()=>{bt.b({environment:t,textStore:l.store,oldTextValue:o,url:e.href,urlSelection:{startIndex:i,endIndex:d}})})}}}var a,i}({environment:t,text:n,oldTextValue:e})}}}function Qt(e){const{environment:t,html:n,transaction:o}=e,a=document.createElement("div");/schemas-microsoft-com:office/.test(n)?a.innerHTML=r()(n):a.innerHTML=n;const{currentUserStore:i}=Mt.default.state,s=dt.default.getCurrentRootStore();if(!i||!s)return;const l=i.getValue();if(!l)return;const{allOperations:c,rootContentIds:u}=at({actor:Object(Rt.j)(l),parentId:s.id,parentTable:"block",spaceId:s.pointer.spaceId,rootNode:a,importFileMap:{},window:window,secureFileS3Url:it.default.secureFileS3.url,ignoreBlockCount:!1,intl:At.default.getIntl(),randomID:fe.b,randomShortID:Ft.a});for(const r of c){const e=Object(ct.c)(s,r.pointer);gt.addOperation({store:e,operation:r,transaction:o})}const p=u.map(e=>lt.a.createChildStore(s,{table:d.a,id:e}));return ht.k({environment:t,blocks:p,selection:dt.default.state.stores,transaction:o}),p}function $t(){const e=dt.default.state.stores,t=Et.default.state;if(e.length>0&&"editing"===t.mode&&t.store.isTable("block")){const e=t.store.getRecordStoreAtRootPath().getValue();if(e&&e.type===l.a.code)return!0}}function en(e){const t=Et.default.state;return"editing"===t.mode&&t.selection.startIndex!==t.selection.endIndex&&a.b(e,"url")}function tn(e){const{text:t,transaction:n,environment:o}=e,r=Et.default.state;if("editing"!==r.mode)return;const a=Object(jt.l)({url:t,baseUrl:it.default.baseURL,isMobile:o.device.isMobile,protocol:it.default.protocol,currentUrl:window.location.href}),i="page"===a.name?Object(v.a)({pageId:a.blockId,peekViewBlockId:a.peekViewBlockId,discussionId:a.discussionId,scrollToBlockId:a.scrollToBlockId,collectionViewId:a.collectionViewId}):t;ft.r({environment:o,store:r.store,selection:r.selection,type:"a",transaction:n}),ft.a({environment:o,store:r.store,selection:r.selection,annotation:["a",i],transaction:n}),It.m({store:r.store,selection:{startIndex:r.selection.endIndex,endIndex:r.selection.endIndex}})}function nn(e){const{environment:t,event:n,disableEmbedMenu:o,transaction:r}=e;if(n.preventDefault(),!n.clipboardData)return;if(!St.j(t))return;const a=n.clipboardData.getData("text/uri-list").trim(),i=n.clipboardData.getData("text/plain").trim()||a,u=n.clipboardData.getData("text/html").trim(),p=function(e){if(e.clipboardData)try{return JSON.parse(e.clipboardData.getData(zt)).map(e=>({...e,blockSubtree:e.blockSubtree?new wt.a(e.blockSubtree):void 0}))}catch(t){return}}(n),h=function(e){if(e.clipboardData)try{return JSON.parse(e.clipboardData.getData(Xt))}catch(t){return}}(n),m=function(e){return e.clipboardData?e.clipboardData.items?s.a.compact(s.a.map(e.clipboardData.items,e=>{const t=e.getAsFile();if(t&&t.size>0)return new File([t],"Untitled",{type:e.type})})):s.a.toArray(e.clipboardData.files):[]}(n),f=dt.default.state.stores,g=Et.default.state;!(u&&/schemas-microsoft-com:office/.test(u))&&m.length>0?function(e){const{environment:t,files:n,transaction:o}=e,r=dt.default.getCurrentRecordCache(),a=xt.b(t);if(Et.default.isEditingComment())yt.showErrorMessage(At.default.formatMessage(Ut.pasteFileIntoCommentNotAllowed));else if(r){const e=kt.a({environment:t,files:n,inMemoryRecordCache:r,transaction:o,pageWidth:a});ht.k({environment:t,blocks:e,selection:dt.default.state.stores,transaction:o})}}({environment:t,files:m,transaction:r}):$t()&&!h?on(t,i,r):!function(){const e=dt.default.state.stores,t=Et.default.state;if(e.length>0&&"editing"===t.mode&&t.store.isTable("block")){const e=t.store.getRecordStoreAtRootPath().getValue();if(e&&e.type===l.a.callout)return!0}}()||h?Et.default.isEditingComment()||function(){const e=dt.default.state.stores,t=Et.default.state;if(e.length>0&&"editing"===t.mode&&t.store.isTable("block")){const e=t.store.getRecordStoreAtRootPath().getValue();if(e&&e.type===l.a.quote)return!0}}()?Jt({environment:t,text:i,disableEmbedMenu:o,transaction:r}):h&&h.editing?function(e,t,n){const o=dt.default.getCurrentRecordCache(),{editing:r,selection:a}=t;let{tokensInsideRange:i}=c.Nb(r,a.startIndex,a.endIndex);if(i=c.bb(i),$t()){const e=c.Ob(i);e&&(i=e)}const s=Et.default.state;if("editing"===s.mode){ft.f({environment:e,store:s.store,selection:s.selection,transaction:n});const t=Et.default.state;if("editing"===t.mode){const o=t.selection.endIndex;ft.o({environment:e,store:s.store,tokens:i,index:o,transaction:n})}}else if(o){const t=pt.a({environment:e,type:l.a.text,inMemoryRecordCache:o,transaction:n}),r=t.getTitleStore();r&&ft.o({environment:e,store:r,tokens:i,index:0,transaction:n}),ht.k({environment:e,blocks:[t],selection:dt.default.state.stores,transaction:n})}}(t,h,r):p&&p.length>0?function(e,t,n){const o=dt.default.getCurrentRootStore();if(o){const r=t.map(({blockId:t,blockSubtree:r,snapshotData:a})=>{const i=lt.a.createChildStore(o,{table:d.a,id:t});if(r)return ut.c({environment:e,sourceBlockId:t,sourceBlockSubtree:r,targetInMemoryRecordCache:i.inMemoryRecordCache,addCopyName:!0,deepCopyTransclusionContainers:!1,transaction:n});{Pt.a.state.online||yt.showErrorMessage(At.default.formatMessage(Ut.offlineError));const[o,r]=ut.d({environment:e,sourceBlockId:t,targetInMemoryRecordCache:i.inMemoryRecordCache,addCopyName:!0,transaction:n,deepCopyTransclusionContainers:!1,snapshotData:a});return r.then(e=>{e&&yt.showErrorMessage(e)}),o}});ht.k({environment:e,blocks:r,selection:dt.default.state.stores,transaction:n})}}(t,p,r):0===f.length&&"editing"===g.mode?Jt({environment:t,text:i,disableEmbedMenu:o,transaction:r}):1===i.split("\n").length&&"editing"===g.mode?Jt({environment:t,text:i,disableEmbedMenu:o,transaction:r}):u?Qt({environment:t,html:u,transaction:r}):i&&function(e){const{environment:t,text:n,transaction:o}=e,r=Nt(e=>H({...e,markdown:n}));if(r)Qt({environment:t,html:r,transaction:o})}({environment:t,text:i,transaction:r}):en(i)?tn({environment:t,text:i,transaction:r}):on(t,i,r),Tt.a.setKeyboardMode(!0)}function on(e,t,n){const o=Et.default.state;"editing"===o.mode&&ft.n({environment:e,store:o.store,selection:o.selection,string:t,disableMentions:!0,disableDateMentions:!0,disableDateReminderMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:n})}function rn(e){const{environment:t,blocks:n}=e,o=n[0],r=o.getNavigableBlockStore();if(r){an({environment:t,stringValue:Object(st.a)({store:r,scrollToBlockId:r.id===o.id?void 0:o.id,fullyQualified:!0})})}}function an(e){const{environment:t,stringValue:n}=e;if(document.queryCommandSupported("copy")){Gt.value=n;const e=document.createRange();Gt.select(),e.selectNodeContents(Gt),Bt.set(e,t.device),Gt.setSelectionRange(0,n.length+1),Zt=!0,document.execCommand("copy"),Zt=!1,Bt.clear(t),Gt.blur()}else mt.e(t),_t.a.setState({..._t.a.state,active:!0,stringValue:n})}function sn(){document.queryCommandSupported("copy")&&document.execCommand("copy")}"undefined"!=typeof document&&(Gt=document.createElement("textarea"),Gt.style.opacity="0",Gt.style.pointerEvents="none",Gt.style.position="fixed",Gt.style.left="0px",Gt.style.top="0px",document.body.appendChild(Gt))},"aw/t":function(e,t,n){"use strict";n.d(t,"b",(function(){return v}));n("Junv"),n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("RgmA"),l=n("hbKx"),c=n("bjn0"),d=n("OxuQ"),u=n("IdSf"),p=n("aEEb"),h=n("LeVO"),m=n("wldR"),f=n("Sb6f"),g=n("/YYm");function b(e){const t=l.d(e);return t.reverse(),t.filter(t=>{if(t.id===e.id)return!1;const n=t.getCollectionViewCollectionStore();return!(e instanceof c.a&&n&&n.id===e.id)})}function v(e){return b(e).length>0}class y extends m.a{constructor(){super(...arguments),this.renderDivider=e=>r.a.createElement("span",{style:{...y.dividerStyle,...this.props.innerStyle},key:e},"/"),this.renderBareEllipsis=e=>r.a.createElement("div",Object.assign({key:"ellipsis"},e),r.a.createElement(p.a,{isSmall:!0},"...")),this.renderAncestorPage=e=>{const t={...this.getTextStyle(),...this.props.innerStyle};if(this.props.isLink){const{onClick:n}=this.props,o=Object(g.a)({store:e});return r.a.createElement(u.a,{href:o,onClick:n,key:e.id},r.a.createElement(d.a,{store:e,style:t,highlighter:this.props.highlighter}))}return r.a.createElement(d.a,{key:e.id,store:e,style:t,highlighter:this.props.highlighter})},this.renderTooltipRecordTitle=e=>{const{highlighter:t}=this.props,n={...this.getTextStyle(),...this.getTooltipStyle()},o=t&&{...t,style:this.getTooltipHighlightStyle()};return r.a.createElement(d.a,{key:e.id,store:e,style:n,highlighter:o})}}renderComponent(){const{store:e,extraLength:t}=this.props,n=2+(t?Math.floor(t):0),o=Math.ceil(n/2),a=n-o,l=b(e);if(0===l.length)return null;const c=Math.ceil(l.length/2),d=i.a.take(l,Math.min(c,o)),u=i.a.takeRight(l,Math.min(l.length-c,a)),p=i.a.compact([...d.map(this.renderAncestorPage),l.length>n&&this.renderEllipsis(l.slice(d.length,l.length-u.length)),...u.map(this.renderAncestorPage)]);return r.a.createElement("div",{style:{display:"flex",...this.getTextStyle(),...this.props.style}},this.props.left,Object(s.a)(p,this.renderDivider),this.props.right)}renderEllipsis(e){return this.props.showFullPathInTooltip&&e.length>0?r.a.createElement(h.a,{key:"ellipsis",placement:h.a.Placement.Bottom,render:this.renderBareEllipsis,renderTooltip:()=>r.a.createElement("div",{style:{display:"flex",...this.getTextStyle(),...this.props.style}},Object(s.a)(e.map(this.renderTooltipRecordTitle),this.renderDivider))}):this.renderBareEllipsis()}getTooltipHighlightStyle(){return{fontWeight:f.a.fontWeight.medium,color:this.theme.regularInvertedTextColor}}getTooltipStyle(){const{highlighter:e}=this.props;return{color:e?this.theme.mediumInvertedTextColor:this.theme.regularInvertedTextColor}}getTextStyle(){const{device:e}=this.environment;return{fontSize:e.isMobile?f.a.fontSize.UISmall.mobile:f.a.fontSize.UISmall.desktop,color:this.theme.lightTextColor,overflow:"hidden"}}}y.dividerStyle={paddingLeft:4,paddingRight:4},t.a=y},awNq:function(e,t,n){"use strict";n.d(t,"e",(function(){return Q})),n.d(t,"d",(function(){return $})),n.d(t,"f",(function(){return ee})),n.d(t,"c",(function(){return ne})),n.d(t,"a",(function(){return oe})),n.d(t,"b",(function(){return re}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("zkec"),i=n.n(a),s=n("hfHo"),l=n("D2XV"),c=n("Agvv");function d(e){return i.a.succeed(null).chain(e)}const u=e=>e=>i.a.custom((t,n)=>(n,o)=>t(o,e)),p=(e,t=1)=>i.a.custom((n,o)=>(r,a)=>{let i=0;if(Object(c.d)(r)!==r)throw new Error("You need to simplify input before parsing!");const s=r,l=Object(c.d)(e);for(;i<l.length&&s.charAt(a+i)===l.charAt(i);)i++;return i>=t?n(a+i,s.slice(a,a+i)):o(a,"Expected prefix of '".concat(l,"'"))}),h=i.a.alt(i.a.regex(/\s+/),i.a.eof),m=i.a.regex(/[\.\/]/),f=i.a.alt(m,i.a.eof),g=i.a.regex(/[\s\,]+/),b=i.a.alt(g,i.a.eof),v=i.a.regex(/\s*[-→~]\s*/),y=i.a.string(":"),S=i.a.optWhitespace.then(i.a.alt(i.a.string("at"),i.a.string(","),i.a.succeed(""))).then(i.a.optWhitespace),w=i.a.optWhitespace.then(i.a.alt(i.a.string("me"),i.a.string(","),i.a.succeed(""))).then(i.a.optWhitespace),k=i.a.regex(/[0-9]+/),C=i.a.alt(h,v,k),M=Object(s.withIntl)(Object(c.b)(),e=>e.weekdays()),E=Object(s.withIntl)(Object(c.b)(),e=>e.months()),_=d(()=>{const e=Object(s.default)().hours(9).format("A");return i.a.alt(p("am").lookahead(C),p(e).lookahead(C)).result(e)}),T=d(()=>{const e=Object(s.default)().hours(15).format("A");return i.a.alt(p("pm").lookahead(C),p(e).lookahead(C)).result(e)}),x=i.a.alt(_,T),I=i.a.seqMap(k,y.times(0,1),k.times(0,1),i.a.optWhitespace,x.times(0,1),(e,t,n,o,r)=>({hour:e,minute:n[0]||"",meridian:r[0]||""})),P=i.a.seqMap(x,i.a.optWhitespace,k.times(0,1),y.times(0,1),k.times(0,1),(e,t,n,o,r)=>{const a=Object(c.d)(e)===Object(c.d)(Object(s.default)().hour(9).format("A"))?"9":"18";return{meridian:e,hour:n[0]||a,minute:r[0]||""}}),O=i.a.alt(I,P).chain(({hour:e,minute:t,meridian:n})=>{let o=[e,t].join("");2===o.length&&parseInt(o)>12&&(o+="0");const r=[o,n].join(" "),a=Object(s.default)(r,["hmm A","Hmm","H","hmm","Hm","hm","h A"]);if(!a.isValid())return n?i.a.succeed({type:"time",time:Object(s.default)().format(l.kb),hasAmPm:!0}):i.a.fail("Invalid time");const c={type:"time",time:a.format(l.kb),hasAmPm:n.length>0};return i.a.succeed(c)}).notFollowedBy(m).chain(u()),B=O.chain(e=>{const t=v.then(O).map(t=>{if(e.hasAmPm){if(t.hasAmPm){return{type:"timerange",start:e.time,end:t.time}}const n=Object(s.default)(e.time,l.kb),o=Object(s.default)(t.time,l.kb);if(n.isAfter(o)&&o.hour()<12){const t=o.add(12,"hour").format(l.kb);return{type:"timerange",start:e.time,end:t}}return{type:"timerange",start:e.time,end:t.time}}if(t.hasAmPm){const n=Object(s.default)(e.time,l.kb),o=Object(s.default)(t.time,l.kb);if(n.hour()+12<o.hour()){return{type:"timerange",start:n.add(12,"hour").format(l.kb),end:t.time}}}return{type:"timerange",start:e.time,end:t.time}}).chain(u());return i.a.alt(t,i.a.succeed(e))}).chain(u()),L=i.a.alt(i.a.string("td"),p("today").lookahead(C),p("오늘").lookahead(C)).map(()=>({type:"date",start_date:Object(s.default)().format(l.ib)})),R=i.a.alt(i.a.string("tm"),p("tomorrow").lookahead(C),p("내일").lookahead(C)).map(()=>({type:"date",start_date:Object(s.default)().add(1,"day").format(l.ib)})),D=i.a.alt(i.a.string("yd"),p("yesterday").lookahead(C),p("어제").lookahead(C)).map(()=>({type:"date",start_date:Object(s.default)().subtract(1,"day").format(l.ib)})),A=d(()=>{const e=s.default.weekdays(),t=r.a.zip(M,e);return i.a.alt(...t.map(([e,t])=>i.a.alt(p(e).lookahead(C),p(t).lookahead(C)).map(()=>{const e=l.ob(l.m),n=e.clone().day(t);return n.day()===e.day()&&n.add(1,"week"),{type:"date",start_date:n.format(l.ib)}}).chain(u())))}),j=d(()=>{const e=s.default.weekdays(),t=r.a.zip(M,e);return i.a.alt(...t.map(([e,t])=>i.a.alt(p("last").lookahead(C),p("지난주").lookahead(C)).then(h).then(i.a.alt(p(e).lookahead(C),p(t).lookahead(C))).map(()=>{const e=l.ob(l.m).clone().day(t);return e.subtract(1,"week"),{type:"date",start_date:e.format(l.ib)}})))}),F=i.a.alt(p("last").lookahead(C),p("지난주").lookahead(C)).then(i.a.optWhitespace).then(i.a.eof).map(()=>{const e=l.ob(l.m),t=e.clone().day(s.default.weekdays()[Object(s.default)().day()]);return(t.isAfter(e)||t.day()===e.day())&&t.subtract(1,"week"),{type:"date",start_date:t.format(l.ib)}}),V=[L,R,D,A,j,d(()=>{const e=s.default.weekdays(),t=r.a.zip(M,e);return i.a.alt(...t.map(([e,t])=>i.a.alt(p("next").lookahead(C),p("다음주").lookahead(C)).then(i.a.whitespace).then(i.a.alt(p(e).lookahead(C),p(t).lookahead(C))).map(()=>{const e=l.ob(l.m).clone().day(t);return e.add(1,"week"),{type:"date",start_date:e.format(l.ib)}})))}),i.a.alt(p("next").lookahead(C),p("다음주").lookahead(C)).then(i.a.optWhitespace).then(i.a.eof).map(()=>{const e=l.ob(l.m),t=e.clone().day(s.default.weekdays()[Object(s.default)().day()]);return(t.isBefore(e)||t.day()===e.day())&&t.add(1,"week"),t.add(1,"week"),{type:"date",start_date:t.format(l.ib)}}),F],N=i.a.alt(...V).chain(u()),U=d(()=>{const e=s.default.months(),t=r.a.zip(E,e);return i.a.alt(...t.map(([e,t])=>i.a.alt(p(e).lookahead(C),p(t).lookahead(C)).map(()=>t)))});function z(e,t){const n=Object(s.default)().year().toString(),o=Object(s.default)("".concat(e," ").concat(t," ").concat(n)),a=Object(s.default)(o).subtract(1,"year"),i=Object(s.default)(o).add(1,"year"),l=Object(s.default)(),c=r.a.minBy([o,a,i],e=>Math.abs(l.diff(e)));return c?c.year().toString():n}const X=i.a.seqMap(U.skip(i.a.optWhitespace),k.notFollowedBy(i.a.alt(y,x)).times(0,1),b.times(0,1),k.notFollowedBy(i.a.alt(y,x)).times(0,1),(e,t,n,o)=>{const r=t[0]||"1",a=o[0]||z(e,r);return{type:"date",start_date:Object(s.default)("".concat(e," ").concat(r," ").concat(a),"MMMM DD, YYYY").format(l.ib)}}).chain(u()),Y=i.a.seqMap(k,m.times(0,1),k.times(0,1),f.times(0,1),k.times(0,1),(e,t,n,o,r)=>{const a=parseInt(e);if(a>31){const e=a,t=n[0]?parseInt(n[0]):1,o=r[0]?parseInt(r[0]):1;return{type:"date",start_date:Object(s.default)("".concat(e,"-").concat(t,"-").concat(o),e>99?"Y-M-D":"YY-M-D").format(l.ib)}}if(a>12){const e=a,t=n[0]?parseInt(n[0]):1,o=r[0]?parseInt(r[0]):z(t,e);return{type:"date",start_date:Object(s.default)("".concat(o,"-").concat(t,"-").concat(e),o>99?"Y-M-D":"YY-M-D").format(l.ib)}}if(l.V()){const e=a,t=n[0]?parseInt(n[0]):1,o=r[0]?parseInt(r[0]):z(t,e);return{type:"date",start_date:Object(s.default)("".concat(o,"-").concat(t,"-").concat(e),o>99?"Y-M-D":"YY-M-D").format(l.ib)}}{const e=a,t=n[0]?parseInt(n[0]):1,o=r[0]?parseInt(r[0]):z(e,t);return{type:"date",start_date:Object(s.default)("".concat(o,"-").concat(e,"-").concat(t),o>99?"Y-M-D":"YY-M-D").format(l.ib)}}}).chain(u()),H=i.a.alt(N,Y,X),q=H.skip(S).chain(e=>{const t=S.then(B).chain(u()).map(t=>{if("time"===t.type){return{type:"datetime",start_date:e.start_date,start_time:t.time,time_zone:l.m}}return{type:"datetimerange",start_date:e.start_date,start_time:t.start,end_date:e.start_date,end_time:t.end,time_zone:l.m}}).chain(e=>{if("datetimerange"===e.type)return i.a.succeed(e);const t=e,n=v.then(H).chain(u()).map(e=>({type:"datetimerange",start_date:t.start_date,start_time:t.start_time,end_date:e.start_date,end_time:"00:00",time_zone:l.m})).chain(e=>{const t=S.then(O).map(t=>({...e,end_time:t.time})).chain(u());return i.a.alt(t,i.a.succeed(e))}).chain(u());return i.a.alt(n,i.a.succeed(t))}).chain(u()),n=v.then(H).map(t=>({type:"daterange",start_date:e.start_date,end_date:t.start_date})).chain(u()),o={type:"date",start_date:e.start_date};return i.a.alt(t,n,i.a.succeed(o))}).chain(u()),W=B.map(e=>{const t=l.nb(l.m);if("time"===e.type){return{type:"datetime",start_date:t.start_date,start_time:e.time,time_zone:l.m}}return{type:"datetimerange",start_date:t.start_date,start_time:e.start,end_date:t.start_date,end_time:e.end,time_zone:l.m}}),G=i.a.alt(p("now").lookahead(C),p("지금").lookahead(C)).map(()=>l.gb(l.m)),Z=i.a.alt(G,W,q).map(e=>l.h(e)).skip(v.times(0,1)).skip(g.times(0,1)).chain(u()),K=e=>(t,n)=>{const o=s.default.locale(),r=Object(c.c)(n);s.default.locale(r);const a=e.parse(Object(c.d)(t));if(s.default.locale(o),a.status)return a.value};function J(e){const t=l.K(e,l.m);return!t.start.isValid()||t.end&&!t.end.isValid()?i.a.fail("Invalid date validation"):i.a.succeed(e)}const Q=K(i.a.alt(p("remind").lookahead(C),p("리마인더").lookahead(C)).skip(w).chain(u()).times(0,1).chain(([e])=>Z.times(0,1).chain(([t])=>{if(e&&t)return"date"===t.type||"daterange"===t.type?t.reminder={unit:"day",value:0,time:l.w}:t.reminder={unit:"minute",value:0},i.a.succeed(t);if(e){const e=l.pb(l.m);return e.reminder={unit:"day",value:0,time:l.w},i.a.succeed(e)}return t?i.a.succeed(t):i.a.fail("Failed to parse.")})).chain(J)),$=K(Z.chain(J)),ee=K(O.map(({time:e})=>e)),te=K(H.chain(J).map(({start_date:e})=>e));function ne(e,t){const n=l.hb(e);if(n)return n;const o=Object(s.default)(e,[s.default.ISO_8601]),r=o._f;return r&&"string"==typeof r?r.includes("HH")?l.r(o.valueOf(),l.m):l.n(o.valueOf(),l.m):$(e,t)}function oe(e,t){return re(e,l.ib,t)}function re(e,t,n){const o=Object(s.default)(e,t,!0);return o.isValid()?o.locale(l.jb).format(l.ib):te(e,n)}},b936:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i3uR"),i=n("wldR"),s=n("Na01"),l=n("7M94"),c=n("wpmu"),d=n("BLi8"),u=n("CSYU"),p=n("mF3+"),h=n("Pl3d"),m=n("HRSx"),f=n("cYwG"),g=n("wlCD"),b=n("ttM1"),v=n("FcJC"),y=n("gbGO"),S=n("y6Dp"),w=n("dXb3"),k=n("R+Q+"),C=n("fCO4"),M=n("2Y+N"),E=n("zTdN"),_=n("WgIs"),T=n("sbdd"),x=n("LeVO"),I=n("/0g+"),P=n("H4VD"),O=n("Wvka"),B=n("A9TN"),L=n("4HCU"),R=n("QcDD"),D=n("vJXr"),A=n("9vSW"),j=n("d9nj"),F=n("KTXS"),V=n("7KuZ"),N=n("J9+s"),U=n("vl8/"),z=n("nPEg"),X=n("0CAA");const Y=Object(N.defineMessages)({filterByPlaceholder:{id:"sidebarTrash.filterBy.placeholder",defaultMessage:"Filter by page title…"}});class H extends i.a{constructor(){super(...arguments),this.storeTypes={requestStore:u.a},this.renderTrashPages=(e,t)=>{const{device:n}=this.environment,a=t?t.results:[],{currentBlockStore:i}=R.default.state;if(!i)return;const s=a.map(e=>c.a.createChildStore(i,{table:m.a,id:e})).filter(e=>e.getValue()&&!d.a.state.excludePages.has(e.id)).map(e=>({key:e.id,action:({event:t})=>{if(t.metaKey){const t=Object(O.a)({baseUrl:B.default.baseURL,pageId:e.id});P.navigateToExternalURL({environment:this.environment,url:t})}else P.navigateToBlock({environment:this.environment,store:e}),A.a.setState({...A.a.state,open:!1});n.isMobile&&v.close()},render:t=>r.a.createElement(T.a,Object.assign({},t,{dontShrinkRight:!0,store:e,right:r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(x.a,{placement:x.a.Placement.Bottom,renderTooltip:()=>r.a.createElement(N.FormattedMessage,{defaultMessage:"Restore",id:"sidebarTrash.restorePageButton.tooltip"}),render:t=>r.a.createElement(j.a,Object.assign({isGray:!0,onClick:()=>this.handleRestoreClick(e)},t),p.a.undo({width:18,height:18}))}),r.a.createElement(x.a,{placement:x.a.Placement.Bottom,renderTooltip:()=>r.a.createElement(N.FormattedMessage,{defaultMessage:"Delete permanently",id:"sidebarTrash.deletePagePermanentlyButton.tooltip"}),render:t=>r.a.createElement(j.a,Object.assign({isGray:!0,onClick:()=>this.handleDeleteClick(e)},t),p.a.trash({width:18,height:18}))}))}))}));return 0===s.length?r.a.createElement(M.a,null,n.isMobile?r.a.createElement(E.a,{title:r.a.createElement(N.FormattedMessage,{defaultMessage:"No matches found.",id:"sidebarTrash.mobileFilterBy.noMatchesPrompt"})}):r.a.createElement("div",{style:{fontSize:14,color:this.theme.mediumTextColor,textAlign:"center"}},r.a.createElement(N.FormattedMessage,{defaultMessage:"No matches found.",id:"sidebarTrash.filterBy.noMatchesPrompt"}))):r.a.createElement(o.Fragment,null,r.a.createElement(_.a,{type:_.a.Type.Vertical,initialFocus:void 0,sections:[{key:0,items:s,render:e=>r.a.createElement(M.a,Object.assign({},e))}]}),r.a.createElement(b.a,{show:this.stores.requestStore.state.loading,showDelay:500,showHold:200,render:e=>{if(e)return r.a.createElement("div",{style:{height:44,display:"flex",flex:1,alignItems:"center",justifyContent:"center"}},r.a.createElement(g.a,null))}}),r.a.createElement(f.a,{onChange:this.handleScrollOffsetChange}))},this.handleSwipeLeft=()=>{const e=H.tabs.indexOf(d.a.state.currentTab)+1,t=H.tabs[e];void 0!==t&&this.changeTab(t)},this.handleSwipeRight=()=>{const e=H.tabs.indexOf(d.a.state.currentTab)-1,t=H.tabs[e];void 0!==t&&this.changeTab(t)},this.handleTabChange=e=>{const t=H.tabs[e];this.changeTab(t)},this.handleRestoreClick=e=>{const{currentSpaceStore:t}=R.default.state;t&&I.d({environment:this.environment,block:e,spaceId:t.id})},this.handleDeleteClick=e=>{I.a({environment:this.environment,blocks:[e]})},this.handleSearchInputChange=e=>{d.a.setState({...d.a.state,filter:e.target.value,limit:d.a.startLimit})},this.handleClose=()=>{A.a.setState({...A.a.state,open:!1})},this.handleScrollOffsetChange=e=>{const{requestStore:t}=this.stores,{ready:n,loading:o,result:r}=t.state,a=r;e<=d.a.loadMoreOffset&&a&&n&&!o&&!a.endOfResultsReached&&d.a.setState({...d.a.state,limit:d.a.state.limit+d.a.limitIncrement})},this.performSearchRequest=async e=>{const{currentSpaceStore:t,currentBlockStore:n}=R.default.state;if(!t||!n)return;const{limit:o,filter:r,currentTab:a}=d.a.state;let i;if("in_current_page"===a)if(n.isCollectionView()){const e=n.getValue();if(!e||!e.collection_id)return;i=e.collection_id}else i=n.id;return await L.m({environment:this.environment,query:r,limit:o,ancestorId:i,spaceId:t.id})}}willMount(e){super.willMount(e),d.a.setState({...d.a.state,filter:"",limit:d.a.startLimit,excludePages:new Set})}renderComponent(){const{device:e}=this.environment;let t;return t=e.isMobile?{menuType:y.b.MenuType.Modal,title:r.a.createElement(N.FormattedMessage,{defaultMessage:"Trash",id:"sidebarTrash.menu.header"}),left:this.renderMobileHelpButton(),right:r.a.createElement(z.DoneMenuText,null),onClickRight:this.handleClose,header:this.renderHeader()}:{menuType:y.b.MenuType.Popup,height:"50vh",width:414,header:this.renderHeader(),footer:this.renderFooter()},r.a.createElement(C.a,{onSwipeLeft:this.handleSwipeLeft,onSwipeRight:this.handleSwipeRight,render:e=>r.a.createElement(y.b,Object.assign({},t,e,{className:l.Cb}),this.renderPages())})}renderHeader(){const{device:e}=this.environment,t=d.a.state.currentTab,n=H.tabs.indexOf(t);return r.a.createElement(o.Fragment,null,r.a.createElement(k.a,{tabs:[r.a.createElement(N.FormattedMessage,{defaultMessage:"All pages",id:"sidebarTrash.allPages.tabHeader"}),r.a.createElement(N.FormattedMessage,{defaultMessage:"In current page",id:"sidebarTrash.inCurrentPage.tabHeader"})],selectedIndex:n,onChange:this.handleTabChange}),r.a.createElement("div",{style:{margin:e.isMobile?0:"10px 0"}},r.a.createElement(w.a,{left:r.a.createElement(b.a,{show:this.stores.requestStore.state.loading,showDelay:500,showHold:200,render:e=>e?r.a.createElement(g.a,{style:this.getSearchIconStyle()}):p.a.searchThick(this.getSearchIconStyle())}),style:{...e.isAndroid&&{borderBottom:"none"}},showClearButton:!0,placeholder:U.default.formatMessage(Y.filterByPlaceholder),focus:!e.isMobile||void 0,value:d.a.state.filter,onChange:this.handleSearchInputChange})))}renderFooter(){return r.a.createElement(M.a,{topBorder:!0,disableDesktopPadding:!0},r.a.createElement(F.a,{title:r.a.createElement(N.FormattedMessage,{defaultMessage:"Learn about deleting and restoring pages",id:"sidebarTrash.learnMore.prompt"}),href:Object(X.a)("guides.trash"),analyticsFrom:"trash"}))}renderMobileHelpButton(){return r.a.createElement(V.a,{href:Object(X.a)("guides.trash"),analyticsFrom:"trash"})}renderPages(){if(!D.a.state.online)return r.a.createElement(M.a,null,r.a.createElement(E.a,{title:r.a.createElement(N.FormattedMessage,{defaultMessage:"Please go online to view the Trash.",id:"sidebarTrash.goOnline.prompt"})}));{const{filter:e,limit:t,currentTab:n}=d.a.state,o="".concat(e,":").concat(t).concat(n);return r.a.createElement(h.a,{requestStore:this.stores.requestStore,request:o,performRequest:this.performSearchRequest,render:this.renderTrashPages,debounce:L.b})}}changeTab(e){d.a.setState({...d.a.state,currentTab:e,limit:d.a.startLimit}),this.stores.requestStore.setState({...this.stores.requestStore.state,result:null}),S.Ue(this.environment,{tab:e})}getSearchIconStyle(){return{width:14,height:14,marginRight:6,flexGrow:0,flexShrink:0,color:this.theme.regularIconColor}}}H.tabs=["all_pages","in_current_page"];var q=H,W=n("uSCg"),G=n("AOw3"),Z=n("q2qQ"),K=n("MeYt"),J=n("MBf9");class Q extends i.a{constructor(){super(...arguments),this.renderOrigin=e=>{const{onClick:t,...n}=Object(W.a)(e,{onClick:this.props.onClick});return r.a.createElement(G.a,{store:this.clonedStore,canDropOnto:!0,onSelectableDrop:this.handleDrop,analyticsName:"sibebar_trash",shouldShowDropZone:!0},r.a.createElement(K.a,Object.assign({},n,{onClick:t||this.handleClick,mobileFeedback:this.props.isMobile}),r.a.createElement(s.a,{left:this.renderIcon(),style:{...A.a.state.open&&{background:this.theme.buttonHoveredBackground}},isMobile:this.props.isMobile,disableMobileBorder:!0},r.a.createElement(N.FormattedMessage,{defaultMessage:"Trash",id:"sidebarTrashButton.text"}))))},this.renderSidebarTrash=()=>{const{currentSpaceStore:e}=R.default.state;if(e)return r.a.createElement(q,{spaceStore:e})},this.handleClick=e=>{d.a.setState({...d.a.state,currentTab:"all_pages"}),S.od(this.environment)},this.handleDrop=e=>{const{droppedStores:t,duplicate:n}=e;n||J.createAndCommit(this.environment,e=>{Z.o({environment:this.environment,blocks:t,transaction:e})})}}willMount(e){super.willMount(e),this.clonedStore=e.store.clone()}renderComponent(){const{device:e}=this.environment;return r.a.createElement(a.a,{popupType:e.isMobile?a.a.PopupType.SlideUp:a.a.PopupType.Popup,buttonPopupStore:A.a,alignmentToOrigin:a.a.Alignment.Start,placementToOrigin:a.a.Placement.Right,originGap:0,onClick:this.handleClick,isFullWidthOnMobile:!0,render:this.renderSidebarTrash,preventScaleTransition:!0,renderOrigin:this.renderOrigin})}renderIcon(){const{device:e}=this.environment,t=this.theme.mediumIconColor;return e.isMobile?p.a.sidebarTrash({fill:t,height:16}):p.a.sidebarTrash({fill:t,width:14})}}t.a=Q},bB9B:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return b}));n("3bBZ");var o=n("N34Z"),r=n("jZoB"),a=n("6rsX"),i=n("unoy"),s=n("sPNb"),l=n("5w/s"),c=n("Mf5Y"),d=n("w5u6"),u=n("vl8/"),p=n("ui+/"),h=n("y6Dp");function m(e){const{environment:t,store:n,transaction:s}=e,l=o.a({environment:t,type:"text",inMemoryRecordCache:n.inMemoryRecordCache,transaction:s}),c=r.a({parent:n.getContentStore(),append:l,transaction:s}).child;d.default.afterNextFlush(()=>{a.f({environment:t,store:c}),i.o({store:c.getBlockTitleStore()})}),h.fb(t,{from:"template_picker",type:"text"})}function f(e){const{environment:t,store:n,transaction:o}=e;l.b({store:n,transaction:o}),m({environment:t,store:n,transaction:o})}function g(e){const{environment:t,store:n,template:r,transaction:l}=e,u=n.getValue();c.b({environment:t,sourceBlockId:"root",targetBlockId:n.id,sourceBlockSubtree:r,targetRecordCache:n.inMemoryRecordCache,transaction:l,deepCopyTransclusionContainers:!0}),s.a({environment:t,block:n,blockType:"collection_view_page",transaction:l});const p=n.getCollectionViewCollectionStore();if(p){const e={name:u&&u.properties&&u.properties.title?u.properties.title:void 0,icon:u&&u.format&&u.format.page_icon?u.format.page_icon:void 0,cover:u&&u.format&&u.format.page_cover?u.format.page_cover:void 0,format:{collection_cover_position:u&&u.format&&void 0!==u.format.page_cover_position?u.format.page_cover_position:void 0}};o.d({store:p,data:e,transaction:l})}d.default.afterNextFlush(()=>{const e=n.getTitleStore();e&&(a.e(t),i.o({store:e}))}),h.fb(t,{from:"template_picker",type:"collection_view_page"})}function b(e,t){const n=p.b(e,u.default.getIntl());for(const o of n)for(const e of o.items)if(e.previewRootId===t.previewRootId&&e.rootId===t.rootId)return o.sectionName}},bFnu:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{mouseEntered:!1,mousePressed:!1}}enter(){this.setState({...this.state,mouseEntered:!0})}exit(){this.setState({...this.state,mouseEntered:!1})}}t.a=r},"bK/N":function(e,t,n){"use strict";n.r(t),n.d(t,"electronApi",(function(){return s})),n.d(t,"openInNewWindow",(function(){return l})),n.d(t,"openExternalUrl",(function(){return c})),n.d(t,"clearBrowserHistory",(function(){return d})),n.d(t,"getDesktopVersion",(function(){return p})),n.d(t,"setBadge",(function(){return h})),n.d(t,"windowFocus",(function(){return m})),n.d(t,"electronUpdateReady",(function(){return f})),n.d(t,"electronUpdateError",(function(){return g})),n.d(t,"checkForUpdates",(function(){return b})),n.d(t,"electronUpdateChecking",(function(){return v})),n.d(t,"electronUpdateAvailable",(function(){return y})),n.d(t,"electronUpdateNotAvailable",(function(){return S})),n.d(t,"electronUpdateProgress",(function(){return w})),n.d(t,"appUpdateReady",(function(){return k})),n.d(t,"appUpdateError",(function(){return C})),n.d(t,"appUpdateChecking",(function(){return M})),n.d(t,"appUpdateAvailable",(function(){return E})),n.d(t,"appUpdateNotAvailable",(function(){return _})),n.d(t,"appUpdateReload",(function(){return T})),n.d(t,"appUpdateProgress",(function(){return x})),n.d(t,"appUpdateFinished",(function(){return I})),n.d(t,"windowsBackgrounded",(function(){return P})),n.d(t,"installElectronUpdate",(function(){return O})),n.d(t,"fullscreen",(function(){return B})),n.d(t,"inPageSearch",(function(){return L})),n.d(t,"getCurrentZoom",(function(){return j})),n.d(t,"zoomIn",(function(){return F})),n.d(t,"zoomOut",(function(){return V})),n.d(t,"zoomReset",(function(){return N})),n.d(t,"toggleMaximized",(function(){return U})),n.d(t,"openDevTools",(function(){return z})),n.d(t,"getSubstitutions",(function(){return X})),n.d(t,"shouldSendNotification",(function(){return Y})),n.d(t,"setTheme",(function(){return H})),n.d(t,"onNewWindow",(function(){return q})),n.d(t,"openOauthPopup",(function(){return W})),n.d(t,"openGoogleDrivePickerPopup",(function(){return G})),n.d(t,"setLogglyData",(function(){return Z})),n.d(t,"clearCookies",(function(){return K})),n.d(t,"clearGoogleAuthCookies",(function(){return J})),n.d(t,"getAppPath",(function(){return Q})),n.d(t,"downloadUrl",(function(){return $})),n.d(t,"subscribeToProtocolUrl",(function(){return ee})),n.d(t,"ready",(function(){return te})),n.d(t,"initializeElectron",(function(){return ne})),n.d(t,"refreshAll",(function(){return oe}));n("UxlC");var o=n("LvDl"),r=n.n(o),a=n("S26v"),i=n("VMJe");const s=window.__electronApi;function l(e){if(s){const t=a.f(e);s.openInNewWindow(t)}}function c(e){if(s){void 0!==a.i({str:e,allowNoProtocol:!1})&&s.openExternalUrl(e)}}function d(){s&&s.clearBrowserHistory()}let u;function p(){if(u)return Object(i.parseVersion)(u)}function h(e){if(s)return s.setBadge(e)}const m={addListener(e){s&&s.windowFocus.addListener(e)},removeListener(e){s&&s.windowFocus.removeListener(e)}},f={addListener(e){s&&s.updateReady.addListener(e)},removeListener(e){s&&s.updateReady.removeListener(e)}},g={addListener(e){s&&s.updateError&&s.updateError.addListener(e)},removeListener(e){s&&s.updateError&&s.updateError.removeListener(e)}},b=()=>{s&&s.checkForUpdates&&s.checkForUpdates()},v={addListener(e){s&&s.updateChecking&&s.updateChecking.addListener(e)},removeListener(e){s&&s.updateChecking&&s.updateChecking.removeListener(e)}},y={addListener(e){s&&s.updateAvailable&&s.updateAvailable.addListener(e)},removeListener(e){s&&s.updateAvailable&&s.updateAvailable.removeListener(e)}},S={addListener(e){s&&s.updateNotAvailable&&s.updateNotAvailable.addListener(e)},removeListener(e){s&&s.updateNotAvailable&&s.updateNotAvailable.removeListener(e)}},w={addListener(e){s&&s.updateProgress&&s.updateProgress.addListener(e)},removeListener(e){s&&s.updateProgress&&s.updateProgress.removeListener(e)}},k={addListener(e){s&&s.appUpdateReady&&s.appUpdateReady.addListener(e)},removeListener(e){s&&s.appUpdateReady&&s.appUpdateReady.removeListener(e)}},C={addListener(e){s&&s.appUpdateError&&s.appUpdateError.addListener(e)},removeListener(e){s&&s.appUpdateError&&s.appUpdateError.removeListener(e)}},M={addListener(e){s&&s.appUpdateChecking&&s.appUpdateChecking.addListener(e)},removeListener(e){s&&s.appUpdateChecking&&s.appUpdateChecking.removeListener(e)}},E={addListener(e){s&&s.appUpdateAvailable&&s.appUpdateAvailable.addListener(e)},removeListener(e){s&&s.appUpdateAvailable&&s.appUpdateAvailable.removeListener(e)}},_={addListener(e){s&&s.appUpdateNotAvailable&&s.appUpdateNotAvailable.addListener(e)},removeListener(e){s&&s.appUpdateNotAvailable&&s.appUpdateNotAvailable.removeListener(e)}},T={emit:e=>{s&&s.appUpdateReload&&s.appUpdateReload.emit(e)},addListener(e){s&&s.appUpdateReload&&s.appUpdateReload.addListener(e)},removeListener(e){s&&s.appUpdateReload&&s.appUpdateReload.removeListener(e)}},x={addListener(e){s&&s.appUpdateProgress&&s.appUpdateProgress.addListener(e)},removeListener(e){s&&s.appUpdateProgress&&s.appUpdateProgress.removeListener(e)}},I={addListener(e){s&&s.appUpdateFinished&&s.appUpdateFinished.addListener(e)},removeListener(e){s&&s.appUpdateFinished&&s.appUpdateFinished.removeListener(e)}},P={addListener(e){s&&s.windowsBackgrounded&&s.windowsBackgrounded.addListener(e)},removeListener(e){s&&s.windowsBackgrounded&&s.windowsBackgrounded.removeListener(e)}};function O(){s&&s.installUpdate()}const B={get(){if(s)return s.fullscreen.get()},addListener(e){s&&s.fullscreen.addListener(e)},removeListener(e){s&&s.fullscreen.removeListener(e)}},L={start(e){s&&s.inPageSearch&&s.inPageSearch.start(e)},stop(){s&&s.inPageSearch&&s.inPageSearch.stop()},started:{addListener(e){s&&s.inPageSearch&&s.inPageSearch.started.addListener(e)},removeListener(e){s&&s.inPageSearch&&s.inPageSearch.started.removeListener(e)}},stopped:{addListener(e){s&&s.inPageSearch&&s.inPageSearch.stopped.addListener(e)},removeListener(e){s&&s.inPageSearch&&s.inPageSearch.stopped.removeListener(e)}}},R=(e,t,n)=>Math.min(Math.max(e,n),t);let D,A=1;function j(){return A}function F(){s&&s.zoom&&(A+=.1,s.zoom.set(R(.1,4.9,A)))}function V(){s&&s.zoom&&(A-=.1,s.zoom.set(R(.1,4.9,A)))}function N(){s&&s.zoom&&(A=1,s.zoom.set(A))}function U(){s&&s.toggleMaximized&&s.toggleMaximized()}function z(){s&&s.openDevTools&&s.openDevTools()}function X(){return D||[]}async function Y(){return!s||!s.isMainWindow||s.isMainWindow()}function H(e){s&&s.setTheme&&s.setTheme(e)}function q(e){s&&s.newWindow&&s.newWindow.addListener(e)}async function W(e){if(s&&s.openOauthPopup)return s.openOauthPopup(e)}async function G(e){if(s&&s.openGoogleDrivePickerPopup)return s.openGoogleDrivePickerPopup(e)}function Z(e){s&&s.setLogglyData&&s.setLogglyData(e)}function K(){s&&s.clearCookies&&s.clearCookies()}function J(){s&&s.clearAllCookies&&s.clearAllCookies()}async function Q(){if(s&&s.getAppPath)return s.getAppPath()}function $(e){if(s&&s.downloadUrl)s.downloadUrl(e);else{const t=document.createElement("a");t.download=e,t.href=e,t.click()}}function ee(e){s&&s.onNavigate&&s.onNavigate.addListener((t,n)=>e(n))}function te(){s&&s.ready&&s.ready()}async function ne(e){const{device:t,electronSqlite:n}=e;if(s&&(u=await s.getAppVersion(),s.zoom&&(A=await s.zoom.get()),n&&n.sqliteConnection&&(await n.sqliteConnection.ensureMigrated(),n.sqliteConnection.optimize()),s.getSubstitutions&&t.isElectronMac)){const e=await s.getSubstitutions();D=e.filter(e=>e.replace!==e.with).map(e=>({length:e.replace.length,replace:new RegExp("\\b".concat(r.a.escapeRegExp(e.replace)," $")),with:"".concat(e.with," ")}))}}function oe(){s&&s.refreshAll&&s.refreshAll()}},bLTx:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("J9+s"),i=n("wldR"),s=n("LeVO"),l=n("mF3+"),c=n("d9nj");class d extends i.a{renderComponent(){const{device:e}=this.environment;return r.a.createElement(s.a,{placement:s.a.Placement.Bottom,renderTooltip:()=>r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Access restricted from parent page",id:"blockAuthorInfo.restrictedBadge.infoText"}),r.a.createElement("br",null),r.a.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},r.a.createElement(a.FormattedMessage,{defaultMessage:"Click to view access",id:"blockAuthorInfo.restrictedBadge.clickText"}))),render:t=>r.a.createElement(c.a,Object.assign({onClick:this.props.onClick,style:{marginRight:e.isMobile?4:2,color:this.theme.lightTextColor,fill:this.theme.lightIconColor}},t),l.a.eyeHide({width:20,marginRight:4,fill:this.theme.lightIconColor}),r.a.createElement("div",{style:{color:this.theme.lightTextColor,fontSize:e.isMobile?16:14,lineHeight:e.isAndroid?1.5:1,whiteSpace:"nowrap"}},r.a.createElement(a.FormattedMessage,{id:"blockAuthorInfo.restrictedBadge",defaultMessage:"Restricted"})))})}}t.a=d},bPtJ:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("z22Z"),i=n("p0Ff"),s=n("LEzx"),l=n("dACB"),c=n("922z");function d(e,t){const n=h.getChildStoreKey(t,h.keyName,[]),o=e.getRecordStoreChildStore(n),r=o||new h({environment:e.environment,pointer:t,path:[],userId:e.userId,inMemoryRecordCache:e.inMemoryRecordCache});return o||r.setRecordStoreParent(e,n),r}function u(e,t,n){const o=h.getChildStoreKey(t,h.keyName,n),r=e.getRecordStoreChildStore(o),a=r||new h({environment:e.environment,pointer:t,path:n,userId:e.userId,inMemoryRecordCache:e.inMemoryRecordCache});return r||a.setRecordStoreParent(e,o),a}function p(e,t,n){return u(e,t,[n])}class h extends s.a{constructor(e){super(),this.childStoreMap={},this.addedListeners=!1,this.key=h.key++,this.getRecordValue=c.c.fromPlainFunctionUnsafe(e=>d(this,e).getValue()),this.loadRecordValue=c.f.fromPlainFunctionUnsafe(async e=>{const t=d(this,e);return await t.load(),t.getValue()}),this.handleRecordDataChange=e=>{this.pathIsSubsetOfStorePath(e)&&this.emit()};const{environment:t,path:n,userId:o,pointer:r,inMemoryRecordCache:a}=e;this.environment=t,this.pointer=r,this.table=r.table,this.id=r.id,this.path=n||[],this.userId=o||t&&t.currentUser.id,this.inMemoryRecordCache=a||i.default,this.isDefaultRecordCache()&&l.a({environment:t,pointer:r,userId:this.userId})}getInitialState(){return{ready:!1}}isTable(e){return this.table===e}getState(){const e={pointer:this.pointer,userId:this.userId},t=this.inMemoryRecordCache.getRecord(e)||{};return this.path&&this.path.length>0?this.instanceState.value=r.a.get(t.value,this.path):this.instanceState.value=t.value,this.instanceState.syncState=this.inMemoryRecordCache.getSyncState(e),this.instanceState.role=t.role,this.instanceState.ready=!!t.role,super.getState()}getRole(){return this.state.role}getValue(){return this.state.value}isMarkedOffline(){return Boolean(this.getSyncState())}getSyncState(){return this.state.syncState}getRecordStoreAtRootPath(){return d(this,this.pointer)}hasValue(){return Boolean(this.state.value)}isDefaultRecordCache(){return this.inMemoryRecordCache===i.default}isRootChild(){return!this.recordStoreAncestor(3)}isReady(){return this.state.ready}canRead(){const e=this.getRole();return!e||a.d(e)}canComment(){const e=this.getRole();return!e||a.b(e)}canEdit(){const e=this.getRole();return!e||a.c(e)}canAdmin(){const e=this.getRole();return!e||a.a(e)}findChildStore(e){return r.a.find(this.childStoreMap,e)}clone(){return new h({environment:this.environment,pointer:this.pointer,path:this.path,userId:this.userId,inMemoryRecordCache:this.inMemoryRecordCache})}cloneWithNewParent(e){const t=h.getChildStoreKey(this.pointer,this.constructor.keyName,this.path),n=e.getRecordStoreChildStore(t),o=n||this.clone();return n||o.setRecordStoreParent(e,t),o}getRoot(){let e=this;for(;e&&e.recordStoreParentStore;)e=e.recordStoreParentStore;return e}depth(){let e=this,t=0;for(;e&&e.recordStoreParentStore;)e=e.recordStoreParentStore,t++;return t}contains(e){let t=e;for(;;){if(t===this)return!0;if(!t||!t.recordStoreParentStore)break;t=t.recordStoreParentStore}return!1}setRecordStoreParent(e,t){e.childStoreMap[t]=this,this.recordStoreParentStore=e}getRecordStoreChildStore(e){return this.childStoreMap[e]}findRecordStoreAncestor(e){let t=this,n=void 0;for(;t;){if(e(t))return{ancestor:t,child:n};n=t,t=t.recordStoreParentStore}return{ancestor:void 0,child:void 0}}recordStoreAncestor(e){return 0===e?this:this.recordStoreParentStore?this.recordStoreParentStore.recordStoreAncestor(e-1):void 0}recordStoreParent(){return this.recordStoreParentStore}addListener(e){super.addListener(e),this.addExternalListeners()}removeListener(e){super.removeListener(e),0===this.listenerCount()&&this.removeExternalListeners()}async load(){!this.state.ready&&this.id&&this.isDefaultRecordCache()&&await this.waitUntil(()=>Boolean(this.state.ready))}async awaitNonNullValue(){const e=this.getValue();return e||new Promise(e=>{const t=()=>{const n=this.getValue();n&&(this.removeListener(t),e(n))};this.addListener(t)})}addExternalListeners(){if(!this.addedListeners&&(this.inMemoryRecordCache.addListenerToRecord(this.pointer,this.handleRecordDataChange),this.addedListeners=!0,this.isDefaultRecordCache())){const{environment:e,pointer:t,userId:n}=this;l.a({environment:e,pointer:t,userId:n})}}removeExternalListeners(){if(this.addedListeners&&(this.inMemoryRecordCache.removeListenerToRecord(this.pointer,this.handleRecordDataChange),this.addedListeners=!1,this.isDefaultRecordCache())){const{pointer:e,userId:t}=this;l.b({pointer:e,userId:t})}}pathIsSubsetOfStorePath(e){for(let t=0;t<this.path.length;t++){const n=this.path[t],o=e[t];if(void 0!==n&&void 0!==o&&n!==o)return!1}return!0}}h.keyName="RecordStore",h.key=0,h.getChildStoreKey=function(e,t,n){const{table:o,id:r}=e;let a="".concat(o,":").concat(r,":").concat(t);if(n)for(const i of n)a+=":".concat(i);return a},t.d=h},bTAb:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{query:""}}}t.a=r},bVDK:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("MeYt"),s=n("KcXv"),l=n("mF3+"),c=n("SR/M"),d=n("zmp8"),u=n("Ma8p");class p extends a.a{renderComponent(){return"collection-overlay"===this.props.format?this.renderCollectionOverlayMenuItem():"phone-modal"===this.props.format?this.renderPhoneModalMenuItem():this.renderPageMenuItem()}renderCollectionOverlayMenuItem(){const{device:e}=this.environment;return r.a.createElement(c.a,{icon:this.props.icon,title:this.props.title,right:this.props.right,focused:this.props.focused,onClick:this.props.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,showDragHandle:!e.isMobile&&!this.props.locked,dragHandleDisabled:"empty_page"===this.props.type})}renderPhoneModalMenuItem(){return r.a.createElement(c.a,{icon:this.renderIcon(),title:this.props.title,focused:this.props.focused,onClick:this.props.onClick,showDragHandle:!1})}renderPageMenuItem(){return r.a.createElement(i.a,{style:this.getWrapStyle(),hovered:this.props.focused,onClick:this.props.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,hoveredStyle:{background:d.g.blueWithAlpha(.15)},pressedStyle:{background:d.g.blueWithAlpha(.25)}},this.renderIcon(),this.props.title,this.props.right&&r.a.createElement("div",{style:{marginLeft:"auto",marginRight:4}},this.props.right))}renderIcon(){const e=this.props.type;if("empty_page"===e)return r.a.createElement("div",null,l.a.pageEmpty(this.getBasicIconStyle()));if("page_with_icon"===e)return r.a.createElement("div",null,l.a.page(this.getBasicIconStyle()));if("templates"===e)return r.a.createElement("div",null,l.a.templatesColor(this.getBasicIconStyle()));if("import"===e)return r.a.createElement("div",null,l.a.import(this.getBasicIconStyle()));if("table"===e)return r.a.createElement("div",null,l.a.collectionTable(this.getDatabaseIconStyle()));if("board"===e)return r.a.createElement("div",null,l.a.collectionBoard(this.getDatabaseIconStyle()));if("list"===e)return r.a.createElement("div",null,l.a.collectionList(this.getDatabaseIconStyle()));if("calendar"===e)return r.a.createElement("div",null,l.a.collectionCalendar(this.getDatabaseIconStyle()));if("gallery"===e)return r.a.createElement("div",null,l.a.collectionGallery(this.getDatabaseIconStyle()));if("timeline"===e)return r.a.createElement("div",null,l.a.collectionTimeline(this.getDatabaseIconStyle()));if("new_template"===e)return r.a.createElement("div",null,l.a.plus(this.getPlusIconStyle()));if("custom_template"===e)return this.props.icon;if("page_template"===e){const e="phone-modal"===this.props.format;return r.a.createElement("div",{style:{marginRight:e?0:5}},r.a.createElement(u.a,{emoji:this.props.emoji,size:24}))}}getWrapStyle(){const{device:e}=this.environment;return{...s.b,display:"flex",alignItems:"center",flexGrow:1,height:e.isMobile?36:32,fontSize:16,borderRadius:3,color:this.theme.lightTextColor}}getBasicIconStyle(){return"phone-modal"===this.props.format?{width:20,fill:this.theme.regularIconColor,marginLeft:2,marginRight:2}:{width:20,fill:this.theme.lightIconColor,marginRight:10}}getDatabaseIconStyle(){return"phone-modal"===this.props.format?{width:16,fill:this.theme.regularIconColor,marginLeft:4,marginRight:4}:{width:16,fill:this.theme.lightIconColor,marginLeft:2,marginRight:12}}getPlusIconStyle(){return{width:18,fill:this.theme.lightIconColor,marginLeft:1,marginRight:11}}}t.a=p},bjn0:function(e,t,n){"use strict";n("4Brf");var o=n("njgS"),r=n("bPtJ"),a=n("VpIZ"),i=n("O5tY"),s=n("wpmu"),l=n("HRSx"),c=n("6SEd");class d extends r.d{constructor(e,t,n={}){super({environment:e,pointer:t,userId:n.userId,inMemoryRecordCache:n.inMemoryRecordCache})}static createChildStore(e,t){const n=r.d.getChildStoreKey(t,d.keyName),o=e.getRecordStoreChildStore(n),a=o||new d(e.environment,t,{userId:e.userId,inMemoryRecordCache:e.inMemoryRecordCache});return o||a.setRecordStoreParent(e,n),a}clone(){return new d(this.environment,this.pointer,{userId:this.userId,inMemoryRecordCache:this.inMemoryRecordCache})}getNameStore(){return Object(r.a)(this,this.pointer,"name")}getName(){const e=this.getValue();return e&&e.name?e.name:null}getDescriptionStore(){return Object(r.a)(this,this.pointer,"description")}getDescription(){const e=this.getValue();return e&&e.description?e.description:null}getIcon(){const e=this.getValue();if(e)return a.g({table:"collection",value:e,getRecordValue:this.getRecordValue})}getIconStore(){return Object(r.a)(this,this.pointer,"icon")}getCoverStore(){return Object(r.a)(this,this.pointer,"cover")}getSchemaStore(){return Object(r.a)(this,this.pointer,"schema")}getSchema(){const e=this.getValue();if(e)return o.e(e.schema);const{publicPageData:t}=i.a.state;return t&&t.collectionSchema&&t.collectionId===this.id?t.collectionSchema:{}}getFormatStore(){return Object(r.a)(this,this.pointer,"format")}getFormat(){const e=this.getValue();if(e&&e.format)return e.format;const{publicPageData:t}=i.a.state;return t&&t.collectionFormat&&t.collectionId===this.id?t.collectionFormat:{}}getParentBlockStore(){const e=this.getValue();if(e&&e.parent_id&&e.parent_table===l.a)return s.a.createChildStore(this,{table:l.a,id:e.parent_id})}static fromRecordStore(e){return d.createChildStore(e,{table:c.a,id:e.id})}getTemplatePageIds(){const e=this.getValue();return e&&e.template_pages?e.template_pages:[]}getTemplatePagesStore(){return Object(r.a)(this,this.pointer,"template_pages")}getTemplatePagesStores(){const e=this.getTemplatePagesStore();return(e.getValue()||[]).map(t=>s.a.createChildStore(e,{table:l.a,id:t}))}}d.keyName="CollectionStore",t.a=d},bk3b:function(e,t,n){"use strict";var o=n("GRWW");t.a=new o.a},bkwR:function(e,t,n){"use strict";n.r(t);n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("HyWp"),i=n.n(a),s=n("f/Q2"),l=n("5xGH"),c=n("glAM"),d=n("922z"),u=n("nFzZ"),p=n("A9TN"),h=n("HTHG"),m=n("5FB0"),f=n("Mht8"),g=n("vJXr"),b=n("p0Ff"),v=n("VBxf"),y=n("frzs"),S=n("Fe7V"),w=n("VMJe");var k=n("QcDD"),C=n("T8dS");n.d(t,"handleRecordMapForResponse",(function(){return M})),n.d(t,"pendingTaskIds",(function(){return P})),n.d(t,"getAssetsJson",(function(){return B})),n.d(t,"getAssetsJsonV2",(function(){return L})),n.d(t,"getAsanaWorkspaces",(function(){return R})),n.d(t,"getTrelloBoards",(function(){return D})),n.d(t,"duplicateBlock",(function(){return A})),n.d(t,"findUser",(function(){return j})),n.d(t,"search",(function(){return F})),n.d(t,"setLocale",(function(){return V})),n.d(t,"searchPagesWithParent",(function(){return N})),n.d(t,"createEmailUser",(function(){return U})),n.d(t,"updateSubscription",(function(){return z})),n.d(t,"sendMobileAppLink",(function(){return X})),n.d(t,"submitFormstack",(function(){return Y})),n.d(t,"getDesktopDownloadUrl",(function(){return H})),n.d(t,"cancelSubscription",(function(){return q})),n.d(t,"getSubscriptionData",(function(){return W})),n.d(t,"importFile",(function(){return G})),n.d(t,"importConfluenceExport",(function(){return Z})),n.d(t,"importTrello",(function(){return K})),n.d(t,"importAsana",(function(){return J})),n.d(t,"importEvernote",(function(){return Q})),n.d(t,"exportBlock",(function(){return $})),n.d(t,"enqueueTask",(function(){return ee})),n.d(t,"loginWithAppleAuth",(function(){return te})),n.d(t,"loginWithAppleNativeAuth",(function(){return ne})),n.d(t,"loginWithEmail",(function(){return oe})),n.d(t,"loginWithGoogleJwt",(function(){return re})),n.d(t,"loginWithGoogleAuth",(function(){return ae})),n.d(t,"logout",(function(){return ie})),n.d(t,"verifyEmail",(function(){return se})),n.d(t,"addWebClipperFile",(function(){return le})),n.d(t,"sendTemporaryPassword",(function(){return ce})),n.d(t,"checkEmailType",(function(){return de})),n.d(t,"getSamlRedirect",(function(){return ue})),n.d(t,"disconnectAsana",(function(){return pe})),n.d(t,"disconnectTrello",(function(){return he})),n.d(t,"disconnectEvernote",(function(){return me})),n.d(t,"disconnectDrive",(function(){return fe})),n.d(t,"getActivityLog",(function(){return ge})),n.d(t,"changeEmail",(function(){return be})),n.d(t,"sendEmailVerification",(function(){return ve})),n.d(t,"getBacklinksForBlock",(function(){return ye})),n.d(t,"getBotToken",(function(){return Se})),n.d(t,"revokeBotToken",(function(){return we})),n.d(t,"getUploadFileUrl",(function(){return ke})),n.d(t,"deleteSpace",(function(){return Ce})),n.d(t,"deleteUser",(function(){return Me})),n.d(t,"getPublicPageData",(function(){return Ee})),n.d(t,"adminDeleteUser",(function(){return _e})),n.d(t,"adminSetPageContentClassification",(function(){return Te})),n.d(t,"adminDisableReverifyForUser",(function(){return xe})),n.d(t,"getInvoiceData",(function(){return Ie})),n.d(t,"addUsersToSpace",(function(){return Pe})),n.d(t,"removeUsersFromSpace",(function(){return Oe})),n.d(t,"getJoinableSpaces",(function(){return Be})),n.d(t,"getSpaces",(function(){return Le})),n.d(t,"getBookmarks",(function(){return Re})),n.d(t,"deleteBlocks",(function(){return De})),n.d(t,"restoreBlock",(function(){return Ae})),n.d(t,"getUserAnalyticsSettings",(function(){return je})),n.d(t,"syncRecordValues",(function(){return Fe})),n.d(t,"loadUserContent",(function(){return Ve})),n.d(t,"loadCachedPageChunk",(function(){return Ne})),n.d(t,"loadCachedPageChunks",(function(){return Ue})),n.d(t,"loadPageChunk",(function(){return ze})),n.d(t,"queryCollection",(function(){return Xe})),n.d(t,"renameGroup",(function(){return Ye})),n.d(t,"deleteGroup",(function(){return He})),n.d(t,"getSelectPropertyValues",(function(){return qe})),n.d(t,"getNotificationLog",(function(){return We})),n.d(t,"getUnvisitedNotificationIds",(function(){return Ge})),n.d(t,"setNotificationsAsRead",(function(){return Ze})),n.d(t,"getUserNotifications",(function(){return Ke})),n.d(t,"setPageNotificationsAsRead",(function(){return Je})),n.d(t,"setSpaceNotificationsAsRead",(function(){return Qe})),n.d(t,"unsubscribeFromEmails",(function(){return $e})),n.d(t,"leaveBlock",(function(){return et})),n.d(t,"getPublicSpaceData",(function(){return tt})),n.d(t,"loadBlockSubtree",(function(){return nt})),n.d(t,"initializeUserAnalytics",(function(){return ot})),n.d(t,"getBillingHistory",(function(){return at})),n.d(t,"exportSpace",(function(){return it})),n.d(t,"transferPermissionGroup",(function(){return st})),n.d(t,"disableUserAnalytics",(function(){return lt})),n.d(t,"createReferral",(function(){return ct})),n.d(t,"unsubscribeFromIntercomEmails",(function(){return dt})),n.d(t,"getBots",(function(){return ut})),n.d(t,"getSnapshotsList",(function(){return pt})),n.d(t,"getSnapshot",(function(){return ht})),n.d(t,"getSnapshotContents",(function(){return mt})),n.d(t,"restoreSnapshot",(function(){return ft})),n.d(t,"activateReferral",(function(){return gt})),n.d(t,"setBookmarkMetadata",(function(){return bt})),n.d(t,"authWithAsana",(function(){return vt})),n.d(t,"getConnectedAppsStatus",(function(){return yt})),n.d(t,"authWithTrello",(function(){return St})),n.d(t,"authWithSlack",(function(){return wt})),n.d(t,"authWithGoogleForDrive",(function(){return kt})),n.d(t,"getGoogleDriveAccounts",(function(){return Ct})),n.d(t,"initializeGoogleDriveBlock",(function(){return Mt})),n.d(t,"refreshGoogleDriveBlock",(function(){return Et})),n.d(t,"getEvernoteNotebooks",(function(){return _t})),n.d(t,"getWebClipperData",(function(){return Tt})),n.d(t,"addWebClipperURLs",(function(){return xt})),n.d(t,"searchWebClipperPages",(function(){return It})),n.d(t,"authWithEvernote",(function(){return Pt})),n.d(t,"recoverUser",(function(){return Ot})),n.d(t,"ping",(function(){return Bt})),n.d(t,"recoverSpace",(function(){return Lt})),n.d(t,"revokeUserTokens",(function(){return Rt})),n.d(t,"exportBlockPreview",(function(){return Dt})),n.d(t,"initializePageTemplate",(function(){return At})),n.d(t,"adminSearchUsers",(function(){return jt})),n.d(t,"adminGetClientExperiments",(function(){return Ft})),n.d(t,"adminFindDeletedUser",(function(){return Vt})),n.d(t,"adminWhitelistCreditDomain",(function(){return Nt})),n.d(t,"searchUnsplashImages",(function(){return Ut})),n.d(t,"adminSearchSpaces",(function(){return zt})),n.d(t,"adminSearchForUsersInSpaces",(function(){return Xt})),n.d(t,"adminGetDataAccessConsent",(function(){return Yt})),n.d(t,"adminSearchBlocks",(function(){return Ht})),n.d(t,"adminRemoveSpaceUsersAndTransferContent",(function(){return qt})),n.d(t,"adminAddEmailToBypass",(function(){return Wt})),n.d(t,"adminSamlConfigForSpace",(function(){return Gt})),n.d(t,"getSamlConfigForSpace",(function(){return Zt})),n.d(t,"getClientExperiments",(function(){return Kt})),n.d(t,"getClientExperimentsV2",(function(){return Jt})),n.d(t,"adminViewExperiments",(function(){return Qt})),n.d(t,"adminWhitelistUsersToExperiment",(function(){return $t})),n.d(t,"updateSubscriptionToEducationPlan",(function(){return en})),n.d(t,"allowEducationEmails",(function(){return tn})),n.d(t,"isEmailEducation",(function(){return nn})),n.d(t,"getPromoCode",(function(){return on})),n.d(t,"getGenericEmbedBlockData",(function(){return rn})),n.d(t,"isUserDomainJoinable",(function(){return an})),n.d(t,"adminChangeEmail",(function(){return sn})),n.d(t,"setPassword",(function(){return ln})),n.d(t,"logoutActiveSessions",(function(){return cn})),n.d(t,"createSpace",(function(){return dn})),n.d(t,"adminSetDisableSpacePublicAccess",(function(){return un})),n.d(t,"saveTransactions",(function(){return pn})),n.d(t,"moveToSpace",(function(){return hn})),n.d(t,"inviteGuestsToSpace",(function(){return mn})),n.d(t,"refreshInviteLink",(function(){return fn})),n.d(t,"adminAddPublicEmailDomains",(function(){return gn})),n.d(t,"getUserTasks",(function(){return bn})),n.d(t,"getTasks",(function(){return vn})),n.d(t,"getTestFlightStatus",(function(){return yn})),n.d(t,"requestAccess",(function(){return Sn})),n.d(t,"submitCsatFeedback",(function(){return wn})),n.d(t,"getDataAccessConsent",(function(){return kn})),n.d(t,"setDataAccessConsent",(function(){return Cn})),n.d(t,"getCsatMilestones",(function(){return Mn})),n.d(t,"getTemplateChecklistForBlock",(function(){return En})),n.d(t,"getPageVisits",(function(){return _n})),n.d(t,"recordPageVisit",(function(){return Tn})),n.d(t,"adminAddScimApiKeyToSpace",(function(){return xn})),n.d(t,"spaceAdminRestoreAccess",(function(){return In})),n.d(t,"offlineFullSync",(function(){return Pn})),n.d(t,"offlineDeltaSync",(function(){return On})),n.d(t,"trackConversionEvent",(function(){return Bn})),n.d(t,"updateSpaceDomain",(function(){return Ln})),n.d(t,"getUserSharedPagesInSpace",(function(){return Rn})),n.d(t,"getAvailableCountries",(function(){return Dn})),n.d(t,"invalidateSubscriptionData",(function(){return An})),n.d(t,"getUserAdminApiLog",(function(){return jn})),n.d(t,"getSpaceAdminApiLog",(function(){return Fn})),n.d(t,"getBlockAdminApiLog",(function(){return Vn})),n.d(t,"getAdminHistory",(function(){return Nn})),n.d(t,"reportPage",(function(){return Un})),n.d(t,"adminGetRateLimits",(function(){return zn})),n.d(t,"adminResetRateLimits",(function(){return Xn})),n.d(t,"annotateRecentIntercomConversation",(function(){return Yn})),n.d(t,"createBotAndOauthAuthorizationCode",(function(){return Hn})),n.d(t,"adminModifyBlock",(function(){return qn})),n.d(t,"resolveAddress",(function(){return Wn})),n.d(t,"getDeveloperBotsAndIntegrations",(function(){return Gn})),n.d(t,"getIntegrationSecret",(function(){return Zn})),n.d(t,"adminBulkAddPromotionCodes",(function(){return Kn})),n.d(t,"calculateTax",(function(){return Jn})),n.d(t,"csvApiTriggers",(function(){return Qn})),n.d(t,"loadCachedPageChunkBatched",(function(){return eo})),n.d(t,"syncRecordValue",(function(){return no})),n.d(t,"getSignedFileUrl",(function(){return io})),n.d(t,"pendingTaskEventsById",(function(){return so}));function M(e){const{environment:t,eventName:n,response:o,userId:r}=e;if(o&&o.recordMap){const e=new d.a(o.recordMap);"syncRecordValues"!==n&&S.g({environment:t,userId:r,inMemoryRecordCache:b.default,recordMap:e,maybeStaleRecordMap:"loadCachedPageChunk"===n||"loadCachedPageChunks"===n})}}function E(e){const{device:t}=e,n={};return t.version&&(n[w.ClientVersionHeader]=t.version),t.desktopAppVersion&&(t.isMac?n[w.MacVersionHeader]=t.desktopAppVersion:t.isWindows&&(n[w.WindowsVersionHeader]=t.desktopAppVersion)),t.mobileAppVersion&&(t.isIOS?n[w.IOSVersionHeader]=t.mobileAppVersion:t.isAndroid&&(n[w.AndroidVersionHeader]=t.mobileAppVersion)),n}let _=void 0;async function T(e,t,n,o){const{RouterStore:a}=e;!function(e){for(const t of Object.keys(e)){const n=e[t];(r.a.isNull(n)||r.a.isUndefined(n))&&delete e[t]}}(n);const i=o||e.currentUser.id,s=await Object(m.b)({environment:e,url:"".concat(p.default.api.http,"/").concat(t),method:"POST",data:n,json:!0,headers:{...E(e),"x-notion-active-user-header":i||""}});if("success"===s.type)return M({environment:e,eventName:t,response:s.data,userId:i}),function(e){const{environment:t,responseUserId:n,eventName:o}=e;if(!n)return;if("saveTransactions"!==o)return;const{id:r}=t.currentUser;if(n!==r){if(_===n)return;const{currentUserStore:e,currentUserRootStore:a,currentUserSettingsStore:i,currentSpaceViewStore:s}=k.default.state,l=r||"<undefined>",c="currentUser ".concat(l," didn't match user's cookie ").concat(n);f.log({from:"client/api",level:"error",type:"currentUserWrong",data:{eventName:o,miscDataToConvertToString:{responseUserId:n,connectionStoreState:g.a.state,currentUserId:l,userStoreId:e&&e.id,userRootStoreId:a&&a.id,userSettingsStoreId:i&&i.id,currentSpaceViewStoreParentId:s&&s.state.value&&s.state.value.parent_id},message:c}}),_=n,"production"!==p.default.env&&t.device.isMobile&&v.showErrorMessage(c)}else _=void 0}({environment:e,eventName:t,responseUserId:s.headers["X-Notion-User-Id"]}),s;if(Object(l.g)(s.body)&&v.showError(s),s.offline||console.error(s.error),401===s.status&&f.log({level:"error",from:"api",type:"httpTrigger401",data:{eventName:t,isLoggedIn:e.currentUser.isLoggedIn(),miscDataToConvertToString:{response:s},routeName:a.state.route.name}}),!1===s.offline&&401===s.status&&Boolean(s.body&&s.body.errorId)&&e.currentUser.isLoggedIn()&&("page"===a.state.route.name||"root"===a.state.route.name||"space"===a.state.route.name||"onboarding"===a.state.route.name)){if("page"===a.state.route.name&&await h.l(e,a.state.route.blockId))return y.clearCurrentUser(e),s;{const t=y.clearCurrentUser(e);return y.redirectToLoginOnErrorResponse(t,s),s}}return s}const x=function(e){return function(t,n,o){return T(t,e,n,o)}},I=async function(e){return new Promise((t,n)=>{so.addOnceListener(e,e=>{t(e)})})},P=new Set,O=function(e){return async function*(t,n){const o=await ee(t,{task:{eventName:e,request:n}});if("failed"===o.type)yield{error:o.error};else{const{taskId:r}=o.data;for(P.add(r);;){const o=await I(r);if("success"===o.state){const n=o.status;M({environment:t,eventName:e,response:n}),yield{value:n};break}if("failure"===o.state){yield{error:new l.b(o.error||"Something went wrong.",{eventName:e,request:n},o.clientData)};break}"in_progress"===o.state&&o.status&&(yield{value:o.status})}}}},B=x("getAssetsJson"),L=x("getAssetsJsonV2"),R=x("getAsanaWorkspaces"),D=x("getTrelloBoards"),A=O("duplicateBlock"),j=x("findUser"),F=x("search"),V=x("".concat(h.o).concat(C.b)),N=x("searchPagesWithParent"),U=x("createEmailUser"),z=x("updateSubscription"),X=x("sendMobileAppLink"),Y=x("submitFormstack"),H=x("getDesktopDownloadUrl"),q=x("cancelSubscription"),W=x("getSubscriptionData"),G=O("importFile"),Z=O("importConfluenceExport"),K=O("importTrello"),J=O("importAsana"),Q=O("importEvernote"),$=O("exportBlock"),ee=x("enqueueTask"),te=x("loginWithAppleAuth"),ne=x("loginWithAppleNativeAuth"),oe=x("loginWithEmail"),re=x("loginWithGoogleJwt"),ae=x("loginWithGoogleAuth"),ie=x("logout"),se=x("verifyEmail"),le=x("addWebClipperFile"),ce=x("sendTemporaryPassword"),de=x("checkEmailType"),ue=x("getSamlRedirect"),pe=x("disconnectAsana"),he=x("disconnectTrello"),me=x("disconnectEvernote"),fe=x("disconnectDrive"),ge=x("getActivityLog"),be=x("changeEmail"),ve=x("sendEmailVerification"),ye=x("getBacklinksForBlock"),Se=x("getBotToken"),we=x("revokeBotToken"),ke=x("getUploadFileUrl"),Ce=O("deleteSpace"),Me=x("deleteUser"),Ee=x("getPublicPageData"),_e=x("adminDeleteUser"),Te=x("adminSetPageContentClassification"),xe=x("adminDisableReverifyForUser"),Ie=x("getInvoiceData"),Pe=x("addUsersToSpace"),Oe=x("removeUsersFromSpace"),Be=x("getJoinableSpaces"),Le=x("getSpaces"),Re=x("getBookmarks"),De=x("deleteBlocks"),Ae=x("restoreBlock"),je=x("getUserAnalyticsSettings"),Fe=x("syncRecordValues"),Ve=x("loadUserContent"),Ne=x("loadCachedPageChunk"),Ue=x("loadCachedPageChunks"),ze=x("loadPageChunk"),Xe=x("queryCollection"),Ye=O("renameGroup"),He=O("deleteGroup"),qe=x("getSelectPropertyValues"),We=x("getNotificationLog"),Ge=x("getUnvisitedNotificationIds"),Ze=x("setNotificationsAsRead"),Ke=x("getUserNotifications"),Je=x("setPageNotificationsAsRead"),Qe=x("setSpaceNotificationsAsRead"),$e=x("unsubscribeFromEmails"),et=x("leaveBlock"),tt=x("getPublicSpaceData"),nt=x("loadBlockSubtree"),ot=x("initializeUserAnalytics"),rt=x("getSignedFileUrls"),at=x("getBillingHistory"),it=O("exportSpace"),st=x("transferPermissionGroup"),lt=x("disableUserAnalytics"),ct=x("createReferral"),dt=x("unsubscribeFromIntercomEmails"),ut=x("getBots"),pt=x("getSnapshotsList"),ht=x("getSnapshot"),mt=x("getSnapshotContents"),ft=O("restoreSnapshot"),gt=x("activateReferral"),bt=x("setBookmarkMetadata"),vt=x("authWithAsana"),yt=x("getConnectedAppsStatus"),St=x("authWithTrello"),wt=x("authWithSlack"),kt=x("authWithGoogleForDrive"),Ct=x("getGoogleDriveAccounts"),Mt=x("initializeGoogleDriveBlock"),Et=x("refreshGoogleDriveBlock"),_t=x("getEvernoteNotebooks"),Tt=x("getWebClipperData"),xt=x("addWebClipperURLs"),It=x("searchWebClipperPages"),Pt=x("authWithEvernote"),Ot=x("recoverUser"),Bt=x("ping"),Lt=x("recoverSpace"),Rt=x("revokeUserTokens"),Dt=x("exportBlockPreview"),At=x("initializePageTemplate"),jt=x("adminSearchUsers"),Ft=x("adminGetClientExperiments"),Vt=x("adminFindDeletedUser"),Nt=x("adminWhitelistCreditDomain"),Ut=x("searchUnsplashImages"),zt=x("adminSearchSpaces"),Xt=x("adminSearchForUsersInSpaces"),Yt=x("adminGetDataAccessConsent"),Ht=x("adminSearchBlocks"),qt=x("adminRemoveSpaceUsersAndTransferContent"),Wt=x("adminAddEmailToBypass"),Gt=x("adminSamlConfigForSpace"),Zt=x("getSamlConfigForSpace"),Kt=x("getClientExperiments"),Jt=x("getClientExperimentsV2"),Qt=x("adminViewExperiments"),$t=x("adminWhitelistUsersToExperiment"),en=x("updateSubscriptionToEducationPlan"),tn=x("allowEducationEmails"),nn=x("isEmailEducation"),on=x("getPromoCode"),rn=x("getGenericEmbedBlockData"),an=x("isUserDomainJoinable"),sn=x("adminChangeEmail"),ln=x("setPassword"),cn=x("logoutActiveSessions"),dn=x("createSpace"),un=x("adminSetDisableSpacePublicAccess"),pn=x("saveTransactions"),hn=O("moveToSpace"),mn=x("inviteGuestsToSpace"),fn=x("refreshInviteLink"),gn=x("adminAddPublicEmailDomains"),bn=x("getUserTasks"),vn=x("getTasks"),yn=x("getTestFlightStatus"),Sn=x("requestAccess"),wn=x("submitCsatFeedback"),kn=x("getDataAccessConsent"),Cn=x("setDataAccessConsent"),Mn=x("getCsatMilestones"),En=x("getTemplateChecklistForBlock"),_n=x("getPageVisits"),Tn=x("recordPageVisit"),xn=x("adminAddScimApiKeyToSpace"),In=x("spaceAdminRestoreAccess"),Pn=x("offlineFullSync"),On=x("offlineDeltaSync"),Bn=x("trackConversionEvent"),Ln=x("updateSpaceDomain"),Rn=x("getUserSharedPagesInSpace"),Dn=x("getAvailableCountries"),An=x("invalidateSubscriptionData"),jn=x("getUserAdminApiLog"),Fn=x("getSpaceAdminApiLog"),Vn=x("getBlockAdminApiLog"),Nn=x("getAdminHistory"),Un=x("reportPage"),zn=x("adminGetRateLimits"),Xn=x("adminResetRateLimits"),Yn=x("annotateRecentIntercomConversation"),Hn=x("createBotAndOauthAuthorizationCode"),qn=x("adminModifyBlock"),Wn=x("resolveAddress"),Gn=x("getDeveloperBotsAndIntegrations"),Zn=x("getIntegrationSecret"),Kn=x("adminBulkAddPromotionCodes"),Jn=x("calculateTax"),Qn={adminSearchForUsersInSpaces:!0},$n=new s.a({performRequests:async e=>{const{environment:t}=e[0],n=e.map(e=>e.args),o=await Ue(t,{requests:n});if("failed"===o.type)throw o.error;return[]},batchSize:50,maxWorkers:2,requestDelayMs:20,requestTimeoutMs:10*u.e});async function eo(e,t){return await $n.enqueue({environment:e,args:t})}const to=new s.a({performRequests:async e=>{const t=new Array(e.length),n=e.map((e,t)=>({environment:e.environment,request:e.args,index:t})),o=r.a.groupBy(n,e=>e.request.userId);for(const[r,a]of Object.entries(o)){const e=a[0].environment,n=[];for(const{request:t}of a){const{pointer:e,version:o}=t;n.push({pointer:e,version:o})}const o=await Fe(e,{requests:n},r);if("failed"===o.type)throw o.error;const i=new d.a(o.data.recordMap);for(const{request:r,index:s}of a)r.pointer&&(t[s]=i.get(r.pointer))}return t},batchSize:500,maxWorkers:2,requestDelayMs:20,requestTimeoutMs:30*u.e});async function no(e,t){if(t.pointer&&Object(d.e)(t.pointer))try{return await to.enqueue({environment:e,args:t})}catch(n){}}const oo=e=>[e.url,e.downloadName,e.download].filter(Boolean).join(":");const ro=new class{constructor(){this.lru=new i.a({max:1e3,maxAge:u.b})}set(e,t){this.lru.set(oo(e),t)}get(e){return this.lru.get(oo(e))}},ao=new s.a({performRequests:async e=>{const t=e.map(({url:e})=>e),n=await rt(e[0].environment,{urls:t});if("failed"===n.type)throw n.error;const{signedUrls:o}=n.data;return t.forEach((e,t)=>{const n=o[t];ro.set(e,n)}),o},batchSize:500,maxWorkers:1});async function io(e,t){const n=ro.get(t);return n||ao.enqueue({environment:e,url:t})}const so=new c.a},bmSz:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fIr1");const r="discussion",a={table:r,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,parent_id:o.a.UUID,parent_table:o.a.String,context:o.a.JSON,resolved:o.a.Boolean,comments:o.a.StringArray,space_id:o.a.UUID},requiredColumns:{parent_id:!0,parent_table:!0,resolved:!0}};t.b=a},bug4:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("aEEb"),s=n("J9+s"),l=n("QDsP"),c=n("hU3F"),d=n("d9nj"),u=n("sr17"),p=n("VhAz");class h extends a.a{constructor(){super(...arguments),this.storeTypes={showMore:c.a.of(10),hovered:c.a.of(!1)},this.handleMouseMove=()=>{this.stores.hovered.set(!0)},this.handleMouseLeave=()=>{this.stores.hovered.set(!1)},this.handleShowMore=()=>{this.stores.showMore.set(this.stores.showMore.get()+10)},this.backlinks=this.createComputedStore(()=>Object(u.a)(this.props.store,this.environment))}renderComponent(){const e=this.backlinks.state;if(0===e.length)return;const t=this.stores.showMore.get();return r.a.createElement("div",{style:{paddingTop:10,paddingBottom:this.props.disableHeader?2:8},onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},this.renderHeader(),e.slice(0,t).map(e=>r.a.createElement(l.a,Object.assign({key:e.backlinkStore.id,currentBlockStore:this.props.store,disableArrow:this.props.disableArrow,disableCurrentPageToken:this.props.disableCurrentPageToken},e))),e.length>t&&r.a.createElement(d.a,{isGray:!0,onClick:this.handleShowMore,style:{padding:"2px 12px",width:"100%"}},r.a.createElement(s.FormattedMessage,{defaultMessage:"{count} more",id:"page.backlinks.more",values:{count:e.length-t}})))}renderHeader(){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(i.a,{isSmall:!0,style:{marginBottom:6,marginLeft:4,flex:1,paddingLeft:8}},"page"===this.props.type?r.a.createElement(s.FormattedMessage,{defaultMessage:"Linked to this page",id:"page.backlinks.label"}):"transclusion_container"===this.props.type?r.a.createElement(s.FormattedMessage,{defaultMessage:"Referenced in",id:"page.backlinks.transclusionContainerLabel"}):Object(p.e)(this.props.type)))}}t.a=h},bwRH:function(e,t,n){"use strict";n("3bBZ");var o=n("LSDq"),r=n("mT2X"),a=n.n(r);function i(e,t,n){a.a.add(e,t,n)}n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));const s=[100,1e3,1e4];function l(e){return e&&e.timestamp?e.timestamp:0}function c(e,t){const n=l(e.value),o=l(t.value);return n===o?0:n>o?1:-1}class d{constructor(e){this.store=e,this.queue=new o.a(1)}async get(e){const t=await this.store.get(e);if(t)return this.set(e,t.value,t.important),t.value}async set(e,t,n){return this.queue.enqueue(()=>this.setWithPurge(e,t,n))}async remove(e){await this.store.remove(e)}async scan(e){await this.store.scan(e)}async squeeze(e){const t=await this.store.getSize();if(t>e){const n=t-e+Math.round(e/2);await this.purge(n)}}async setWithPurge(e,t,n){let o;for(const r of s){if(o=await this.attemptSet(e,t,n),!o)return;await this.purge(r)}throw o}async attemptSet(e,t,n){try{await this.store.set(e,{id:e,value:t,timestamp:Date.now(),important:n})}catch(o){return o}}async purge(e){const t=[];await this.store.scan((n,o)=>{o.important||(i(t,{key:n,value:o},c),t.splice(e))}),await Promise.all(t.map(async e=>this.store.remove(e.key)))}}class u{constructor(e){this.store=e}get(e){const t=this.store.get(e);if(t)return this.set(e,t.value,t.important),t.value}set(e,t,n){let o;for(const r of s){if(o=this.attemptSet(e,t,n),!o)return;this.purge(r)}throw o}remove(e){this.store.remove(e)}scan(e){this.store.scan(e)}squeeze(e){const t=this.store.getSize();if(t>e){const n=t-e+Math.round(e/2);this.purge(n)}}attemptSet(e,t,n){try{this.store.set(e,{id:e,value:t,timestamp:Date.now(),important:n})}catch(o){return o}}purge(e){const t=[];this.store.scan((n,o)=>{o.important||(i(t,{key:n,value:o},c),t.splice(e))}),t.map(e=>this.store.remove(e.key))}}},bxQm:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("MeYt");class s extends a.a{renderComponent(){return r.a.createElement(i.a,{onClick:this.props.onClick,disabled:this.props.disabled,style:this.getButtonStyle(),disabledFeedback:this.props.disabledFeedback},this.props.children)}getButtonStyle(){return{display:"inline-flex",alignItems:"center",whiteSpace:"nowrap",height:20,borderRadius:3,fontSize:12,lineHeight:1.2,paddingLeft:5,paddingRight:5,color:this.theme.mediumTextColor,...this.props.underlined&&{textDecoration:"underline"},...this.props.style}}}t.a=s},"c6/J":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("yUnD"),r=n("2ZkR"),a=n("bK/N");function i(e){const t=e.device.isElectron,n=Object(o.d)(e)&&"on"===r.default.getGroup(e,"offline-ui");return t?Boolean(a.electronApi&&a.electronApi.sqliteServerEnabled&&n):n}},cBa6:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"Gb",(function(){return m})),n.d(t,"q",(function(){return f})),n.d(t,"Hb",(function(){return g})),n.d(t,"r",(function(){return b})),n.d(t,"Fb",(function(){return v})),n.d(t,"wb",(function(){return S})),n.d(t,"rb",(function(){return w})),n.d(t,"Eb",(function(){return k})),n.d(t,"zb",(function(){return M})),n.d(t,"Db",(function(){return E})),n.d(t,"qb",(function(){return _})),n.d(t,"vb",(function(){return T})),n.d(t,"pb",(function(){return x})),n.d(t,"xb",(function(){return I})),n.d(t,"sb",(function(){return P})),n.d(t,"Bb",(function(){return O})),n.d(t,"Cb",(function(){return B})),n.d(t,"B",(function(){return R})),n.d(t,"z",(function(){return D})),n.d(t,"y",(function(){return A})),n.d(t,"D",(function(){return j})),n.d(t,"u",(function(){return F})),n.d(t,"C",(function(){return V})),n.d(t,"x",(function(){return N})),n.d(t,"w",(function(){return U})),n.d(t,"A",(function(){return z})),n.d(t,"ob",(function(){return X})),n.d(t,"yb",(function(){return Y})),n.d(t,"Ab",(function(){return H})),n.d(t,"tb",(function(){return q})),n.d(t,"ub",(function(){return W})),n.d(t,"fb",(function(){return G})),n.d(t,"eb",(function(){return Z})),n.d(t,"F",(function(){return K})),n.d(t,"N",(function(){return Q})),n.d(t,"R",(function(){return $})),n.d(t,"S",(function(){return ee})),n.d(t,"jb",(function(){return te})),n.d(t,"G",(function(){return ne})),n.d(t,"L",(function(){return oe})),n.d(t,"V",(function(){return re})),n.d(t,"J",(function(){return ae})),n.d(t,"Q",(function(){return ie})),n.d(t,"X",(function(){return se})),n.d(t,"db",(function(){return le})),n.d(t,"O",(function(){return ce})),n.d(t,"M",(function(){return de})),n.d(t,"P",(function(){return ue})),n.d(t,"kb",(function(){return pe})),n.d(t,"H",(function(){return he})),n.d(t,"E",(function(){return me})),n.d(t,"K",(function(){return fe})),n.d(t,"W",(function(){return ge})),n.d(t,"U",(function(){return be})),n.d(t,"Lb",(function(){return ve})),n.d(t,"Kb",(function(){return ye})),n.d(t,"hb",(function(){return Se})),n.d(t,"I",(function(){return we})),n.d(t,"Y",(function(){return ke})),n.d(t,"cb",(function(){return Ce})),n.d(t,"bb",(function(){return Me})),n.d(t,"Z",(function(){return Ee})),n.d(t,"ab",(function(){return Te})),n.d(t,"m",(function(){return xe})),n.d(t,"n",(function(){return Ie})),n.d(t,"i",(function(){return Pe})),n.d(t,"o",(function(){return Oe})),n.d(t,"c",(function(){return Be})),n.d(t,"d",(function(){return Le})),n.d(t,"g",(function(){return Re})),n.d(t,"e",(function(){return De})),n.d(t,"h",(function(){return Ae})),n.d(t,"k",(function(){return je})),n.d(t,"j",(function(){return Fe})),n.d(t,"l",(function(){return Ve})),n.d(t,"f",(function(){return Ne})),n.d(t,"gb",(function(){return ze})),n.d(t,"ib",(function(){return Xe})),n.d(t,"Jb",(function(){return qe})),n.d(t,"Nb",(function(){return We})),n.d(t,"a",(function(){return Ge})),n.d(t,"mb",(function(){return Ke})),n.d(t,"lb",(function(){return Je})),n.d(t,"p",(function(){return Qe})),n.d(t,"nb",(function(){return $e})),n.d(t,"t",(function(){return et})),n.d(t,"v",(function(){return tt})),n.d(t,"Ob",(function(){return nt})),n.d(t,"T",(function(){return it})),n.d(t,"s",(function(){return st})),n.d(t,"Pb",(function(){return lt})),n.d(t,"Mb",(function(){return ct})),n.d(t,"Ib",(function(){return dt}));n("3bBZ");var o=n("GVKY"),r=n("LvDl"),a=n.n(r),i=n("S26v"),s=n("O+wX"),l=n("nFzZ"),c=n("cDc9"),d=n("G+Ai"),u=n("5/h/"),p=n("Agvv");const h={Bold:"b",Italic:"i",Strike:"s",Code:"c",Underline:"_",Inserted:"+",Deleted:"-",TemporaryComment:"z",User:"u",Bot:"r",Page:"p",TemporaryPage:"pt",Date:"d",Discussion:"m",Link:"a",Highlight:"h",Equation:"e",TemporaryEquation:"et",TemporaryInput:"xt",TemporarySelection:"st"},m="‣",f="⁍",g={a:!0,u:!0,p:!0,d:!0,m:!0,z:!0,e:!0},b={c:!0},v={u:!0,p:!0,d:!0};function y(e){return 1===e.length&&e[0]!==h.TemporaryEquation&&e[0]!==h.TemporaryPage}function S(e){return 2===e.length&&"a"===e[0]}function w(e){return 2===e.length&&"m"===e[0]}function k(e){return 2===e.length&&"u"===e[0]}function C(e){return 2===e.length&&"r"===e[0]}function M(e){return(2===e.length||3===e.length)&&"p"===e[0]}function E(e){return 1===e.length&&e[0]===h.TemporaryPage}function _(e){return 2===e.length&&"d"===e[0]}function T(e){return 2===e.length&&"h"===e[0]}function x(e){return 1===e.length&&"c"===e[0]}function I(e){return!!(k(e)||M(e)||C(e)||_(e))}function P(e){return 2===e.length&&"e"===e[0]}function O(e){return 1===e.length&&e[0]===h.TemporaryEquation}function B(e){return 2===e.length&&e[0]===h.TemporaryInput}function L(e){return!!(y(e)||S(e)||w(e)||T(e)||B(e))}function R(e){return e.find(I)}function D(e){return e.find(P)}function A(e){return e.filter(w)}function j(e){return e.find(k)}function F(e){return e.find(e=>C(e))}function V(e){return e.find(M)}function N(e){return e.find(_)}function U(e){return e.find(x)}function z(e){return e.find(S)}function X(e){if(2===e.length&&e[0]!==m&&!q(e)){const[,t]=e;return t.filter(L).length===t.length}return!1}function Y(e){if(2===e.length&&e[0]===m){const[,t]=e;return Boolean(t.find(I))}return!1}function H(e){if(2===e.length&&e[0]===m){const[,t]=e;return Boolean(t.find(M))}return!1}function q(e){if(2===e.length){const[,t]=e;return Boolean(t.find(P))}return!1}function W(e){return!(!q(e)&&!H(e))}function G(e){return e[0]}function Z(e){return a.a.toArray(G(e)).length}function K(e){return e[0]}function J(e){if(e&&e[1])return e[1]}function Q(e){return e[1]}function $(e){return J(e)}function ee(e){const t=z(le(e));if(t)return $(t)}function te(e){return J(e)}function ne(e){return J(e)}function oe(e){return J(e)}function re(e){return J(e)}function ae(e){return J(e)}function ie(e){return J(e)}function se(e){return J(e)}function le(e){return e&&e[1]&&a.a.isArray(e[1])?e[1]:[]}function ce(e){const t=le(e).find(P);return t?Q(t):""}function de(e){return a.a.uniq(a.a.flatten(e.map(e=>A(le(e)).map(e=>oe(e)))))}function ue(e){const t=[];for(const n of Se(e))if(q(n)){const e=ce(n);t.push(e)}return t}function pe(e){const t=[];return Se(e).forEach(e=>{Y(e)&&le(e).forEach(e=>{if(k(e)){const n=te(e);n&&t.push(n)}})}),t}function he(e){const t=[];return Se(e).forEach(e=>{Y(e)&&le(e).forEach(e=>{if(C(e)){const n=ne(e);n&&t.push(n)}})}),t}function me(e){const t=[];return Se(e).forEach(e=>{Y(e)&&le(e).forEach(e=>{if(C(e)){const n=ne(e);n&&t.push({table:d.a,id:n})}if(k(e)){const n=te(e);n&&t.push({table:u.a,id:n})}})}),t}function fe(e){const t=[],n=Se(e);for(const o of n)if(Y(o)){const e=N(le(o));if(e){const n=ae(e);t.push(n)}}return t}function ge(e){const t=[];return Se(e).forEach(e=>{Y(e)&&le(e).forEach(e=>{if(M(e)){const n=re(e);n&&t.push(n)}})}),t}function be(e){const t=[];return Se(e).forEach(e=>{if(!Y(e)){const n=G(e);le(e).forEach(e=>{if(S(e)){const o=$(e);o&&t.push({name:n,url:o})}})}}),t}const ve=function(e){return Ie(ye(G(e)),le(e))},ye=function(e){return a.a.reject(a.a.toArray(e),rt).join("")},Se=function(e){return e&&Array.isArray(e)?e:[]},we=function(e){return a.a.toArray(ke(e))},ke=function(e){return Se(e).map(e=>G(e)).join("")};function Ce(e){return Se(e).filter(e=>!Y(e)).map(e=>q(e)?ce(e):G(e)).join("")}const Me=function(e){return qe(Se(e).map(e=>Ie(G(e),le(e).filter(e=>!w(e)))))},Ee=function(e){const t=Se(e);let n="";for(const o of t){const e=o[0],t=le(o);e===m||q(o)||(n+=e);for(const o of t)if(_(o))n+=_e(o);else if(S(o)){const e=$(o),t=i.e(e);n+=" ".concat(t.hostname||"").concat(t.pathname||""," ")}else P(o)&&(n+=Q(o))}return n};function _e(e){const t=ae(e);return s.a({value:t,date_format:t.date_format,time_format:t.time_format,allowRelativeDates:!1,intl:Object(p.b)()})}const Te=function(e,t,n){const o=Se(e),r=[];let i=0,s=0;for(;i<o.length&&s<n;){const e=o[i];if(s>=t){const t=a.a.toArray(G(e));if(!(s+t.length<=n)){const o=le(e),a=n-s;r.push(Ie(t.slice(0,a).join(""),o));break}r.push(e),s+=t.length,i+=1}else{const o=a.a.toArray(G(e));if(s+o.length>t){if(!(s+o.length<=n)){const a=le(e),i=t-s,l=n-s;r.push(Ie(o.slice(i,l).join(""),a));break}{const n=le(e),a=t-s;r.push(Ie(o.slice(a).join(""),n)),s+=o.length,i+=1}}else s+=o.length,i+=1}}return r},xe=function(e){return e?[Ie(e)]:[]};function Ie(e,t){return t&&t.length>0?[e,t]:[e]}function Pe(e,t){return t?["p",e,t]:["p",e]}function Oe(e){return["u",e]}function Be(e){return["r",e]}function Le(e){return["d",e]}function Re(e){return["a",e]}function De(e){return[h.Discussion,e]}function Ae(e,t){return Ie(m,[e,...t||[]])}function je(e){return[h.TemporaryInput,e]}function Fe(){return[h.TemporaryEquation]}function Ve(){return[h.TemporaryPage]}function Ne(e,t){const n=function(e){return["e",e]}(e),o=t?[n,...t]:[n];return Ie(f,o)}function Ue(e,t){const n=Se(e);let o=0;for(const r of n){const e=o+Z(r);if(e>t)return{startIndex:o,endIndex:e,token:r};o=e}}function ze(e,t){const n=Ue(e,t);return n&&n.token}function Xe(e){return qe(Se(e).map(e=>{if(Y(e))return e;return Ie(G(e),le(e).filter(e=>!y(e)))}))}function Ye(e){const t=new c.a;for(const n of e)t.add(n);return t}function He(e,t){const n=Ye(e),o=Ye(t);return n.equals(o)}function qe(e){const t=Se(e),n=[];let o=0;for(;o<t.length;){const e=le(t[o]),r=t.findIndex((t,n)=>n>o&&(Y(t)||!He(e,le(t)))),a=r>o?r:t.length,i=at(t,o,a),s=i.map(G).join("");n.push(Ie(s,e)),o+=i.length}return n}const We=function(e,t,n){const o=Se(e),r=[],i=[],s=[];let l=0;for(const c of o){const e=G(c),o=le(c),d=a.a.toArray(e),u=l,p=l+d.length;if(p<=t)r.push(c);else if(u>=n)i.push(c);else if(u>=t&&p<=n)s.push(c);else if(u<=t&&p>=n){const e=t-u,a=e+n-t,l=d.slice(0,e),c=d.slice(e,a),p=d.slice(a);l.length>0&&r.push(Ie(l.join(""),o)),p.length>0&&i.push(Ie(p.join(""),o)),c.length>0&&s.push(Ie(c.join(""),o))}else if(u>=t&&u<n){const e=n-u,t=d.slice(0,e),r=d.slice(e);r.length>0&&i.push(Ie(r.join(""),o)),t.length>0&&s.push(Ie(t.join(""),o))}else if(u<t&&p>t){const e=t-u,n=d.slice(0,e),a=d.slice(e);n.length>0&&r.push(Ie(n.join(""),o)),a.length>0&&s.push(Ie(a.join(""),o))}l=p}return{tokensBeforeRange:qe(r),tokensInsideRange:qe(s),tokensAfterRange:qe(i)}},Ge=e=>{const{textValue:t,selection:n,annotation:o}=e,{tokensBeforeRange:r,tokensInsideRange:i,tokensAfterRange:s}=We(t,n.startIndex,n.endIndex);return[...r,...i.map(e=>{const t=G(e),n=le(e);return n.some(e=>a.a.isEqual(e,o))?e:Ie(t,[...n,o])}),...s]},Ze=function(e,t,n,o){const r=Se(e);let i=0,s=0;for(;i<n&&s<r.length;){const e=r[s],n=G(e),l=a.a.toArray(n),c=le(e);if(i+l.length>=t){const e=c.findIndex(e=>K(e)===o);if(-1!==e){return{annotationStartIndex:i+e,annotationEndIndex:i+e+l.length}}}s++,i+=l.length}},Ke=function(e,t,n,o){return void 0!==Ze(e,t,n,o)},Je=function(e,t,n,o){const r=Ze(e,t,n,o);if(!r)return!1;const{annotationStartIndex:a,annotationEndIndex:i}=r;return a===t||i===n},Qe=function(e,t,n){const o=Se(e),r=[];let i=0;for(const s of o){const e=G(s),o=le(s),l=a.a.toArray(e),c=i,d=i+l.length;if(d<=t&&d<=n||c>=t&&c>=n)r.push(s);else if(c>=t&&d<=n);else{const e=t-c,a=e+(n-t),i=l.filter((t,n)=>!(n>=e&&n<=a-1));r.push(Ie(i.join(""),o))}i=d}return r},$e=function(e,t,n){const o=Se(e);if(o.length>0){const e=[];let r=0,i=!1;for(const s of o){const o=G(s),l=le(s),c=a.a.toArray(o),d=r,u=r+c.length;if(n>=d&&n<=u&&!i){const o=n-d,r=at(c,0,o),a=at(c,o);r.length>0&&e.push(Ie(r.join(""),l));for(const n of t)e.push(n);a.length>0&&e.push(Ie(a.join(""),l)),i=!0}else e.push(s);r=u}return e}return t};function et(e,t){const n=ke(e),o=new RegExp(a.a.escapeRegExp(t),"g"),r=[];let i;for(;i=o.exec(n);)r.push({startIndex:i.index,endIndex:i.index+t.length});return r}function tt(e,t){return a.a.sortBy(e,e=>Math.abs(t-e.startIndex)+Math.abs(t-e.endIndex))[0]}function nt(e){return e&&l.f(e,Y).map(e=>{if(function(e){return 1===e.length}(e))return e;return[q(e)?ce(e):G(e),le(e).filter(ot)]})}function ot(e){return!x(e)&&(!I(e)&&!P(e))}const rt=function(e){const t=e.charCodeAt(0);return t>=0&&t<=31&&9!==t&&10!==t||8232===t||8233===t||8203===t},at=function(e,t,n){return e.slice(Math.max(t,0),n)};function it(e){const t=o.a(e).filter(({value:t,href:n})=>e===t&&n.indexOf("mailto:")<0)[0];if(t)return t}function st(e,t){return e.map(e=>Ie(G(e),le(e).filter(t)))}function lt(e,t){const n=[];let o=0;for(const r of e){const e=a.a.toArray(G(r)).slice(0,t-o),i=Ie(e.join(""),le(r));if(n.push(i),o+=e.length,o>=t)return n}return n}function ct(e,t,n){const o=Ue(e,t);if(!o)return;if(!n(o.token,void 0))return;const{tokensBeforeRange:r,tokensAfterRange:a}=We(e,o.startIndex,o.endIndex);let i=0;for(let l=r.length-1;l>-1;l--){const e=r[l];if(!n(e,r[l+1]||o.token))break;i+=Z(e)}let s=0;for(let l=0;l<a.length;l++){const e=a[l];if(!n(e,a[l-1]||o.token))break;s+=Z(e)}return{startIndex:o.startIndex-i,endIndex:o.endIndex+s}}function dt(e){return e.normalize("NFKD")}},cDc9:function(e,t,n){"use strict";n("3bBZ");var o=n("rE/H"),r=n.n(o),a=n("LvDl"),i=n.n(a);class s{constructor(e){this._makeKey=e,this.map={}}makeKey(e){return this._makeKey?this._makeKey(e):r()(e)}add(e){this.map[this.makeKey(e)]=e}clear(){this.map={}}delete(e){delete this.map[this.makeKey(e)]}entries(){return Object.keys(this.map).map(e=>this.map[e])}has(e){return this.makeKey(e)in this.map}some(e){return this.entries().some(e)}find(e){return this.entries().find(e)}clone(){const e=new s(this._makeKey);return e.map=i.a.cloneDeep(this.map),e}equals(e){return i.a.isEqual(this.map,e.map)}get size(){return Object.keys(this.map).length}static fromArray(e){const t=new s;return e.forEach(e=>t.add(e)),t}}t.a=s},"cX/5":function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isActive:!1}}}t.a=new r},cYwG:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("i8i4"),l=n.n(s),c=n("wldR"),d=n("lBar"),u=n("v/t1");class p extends c.a{constructor(){super(...arguments),this.lastOffsetFromBottom=0,this.handleScroll=e=>{this.triggerIfChanged()},this.handleScrollThrottled=i.a.throttle(this.handleScroll,p.scrollThrottle)}getOffsetFromBottom(){if(this.node&&this.scrollableAncestor){const e=this.node.getBoundingClientRect(),t=this.scrollableAncestor.getBoundingClientRect(),{scrollTop:n}=this.scrollableAncestor;return e.top+e.height+n-t.top-(n+t.height)}return 0}shouldComponentUpdate(){return!0}didMount(){super.didMount(),this.node=l.a.findDOMNode(this),this.scrollableAncestor=Object(d.f)(this.node),this.scrollableAncestor&&u.a(this.scrollableAncestor,"scroll",this.handleScrollThrottled)}willUnmount(){super.willUnmount(),this.scrollableAncestor&&u.b(this.scrollableAncestor,"scroll",this.handleScrollThrottled)}didMountOrUpdate(){super.didMountOrUpdate(),this.triggerIfChanged()}renderComponent(){return this.props.children||r.a.createElement("div",null)}triggerIfChanged(){const e=this.getOffsetFromBottom();e!==this.lastOffsetFromBottom&&(this.lastOffsetFromBottom=e,this.props.onChange(e))}}p.scrollThrottle=50,t.a=p},cbKx:function(e,t,n){"use strict";var o=n("g4rC");t.a=new o.a},cgvQ:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return w})),n.d(t,"a",(function(){return k}));var o=n("bkwR"),r=n("VkkH"),a=n("S26v"),i=n("tP7q"),s=n("A9TN"),l=n("Wnyi"),c=n("hvW1"),d=n("VBxf"),u=n("y6Dp"),p=n("bK/N"),h=n("Vq6f"),m=n("J9+s"),f=n("dlZW");const g=Object(m.defineMessages)({authenticatingWithGoogle:{id:"googleDriveActions.authenticatingWithGoogle.loadingMessage",defaultMessage:"Authenticating with Google…"},googleLoginTitle:{defaultMessage:"Google login",id:"googleDriveActions.loginWithGoogleModal.title"}});async function b(e){const{environment:t,store:n,fileId:r,token:a}=e;await f.transactionQueue.awaitRecordTransaction(n.pointer);const i=await o.initializeGoogleDriveBlock(t,{blockId:n.id,fileId:r,token:a});if("failed"!==i.type)return i.data.file&&u.Kb(t,{file_type:i.data.file.mimeType}),i.data;d.showError(i)}function v(e,t){o.refreshGoogleDriveBlock(e,{blockId:t})}async function y(e){const t=await o.getGoogleDriveAccounts(e,{});return"success"===t.type&&t.data.accounts?t.data:{accounts:[]}}function S(e,t){const{onSuccess:n,onFailure:o}=t;h.a.setState({open:!0,onConfirm:async()=>{const t=await w(e);t&&t.token?n(t.token):o&&o()},onDecline:o})}async function w(e){const t=Object(l.b)(e);let n=Object(i.f)(s.default.baseURL,{authType:t});if(n=t.redirectToAuth?n:await Object(l.c)(e,n),e.device.isElectron)return void p.openExternalUrl(n);const o=await r.a(e,{width:610,height:700,url:n,titleMessage:g.googleLoginTitle});if(!o)return;const c=a.e(o);return await k(e,c.query.code)}async function k(e,t){if(!t)return;c.b({message:g.authenticatingWithGoogle});const n=await o.authWithGoogleForDrive(e,{code:t});if(c.a(),"failed"!==n.type)return u.p(e,{name:"google"}),n.data;{const e=n.error;console.error(e),d.showError(n)}}},ckBw:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("3bBZ");var o=n("VhAz");class r{constructor(e=(()=>{})){this.logger=e,this.buckets={},this.count=0,this.total=0,this.unique=0,this.startedAt=new Map}async measureErrors(e,t,n,o){const r="".concat(e," ").concat(++this.unique);this.start(r);try{const e=await o();return this.end(r,t),e}catch(a){throw this.end(r,n,a),a}}get average(){return Math.floor(this.total/this.count)}get summary(){const e=[];e.push("avg ".concat(this.average,"ms for ").concat(this.count," calls"));for(const[t,n]of Object(o.b)(this.buckets)){if(!n)continue;const o=Math.floor(n.total/n.count),r=(n.count/this.count*100).toFixed(2);e.push("[".concat(t,": ").concat(r,"% avg ").concat(o,"ms]"))}return e.join(" ")}start(e){this.startedAt.set(e,"object"==typeof performance?performance.now():Date.now())}end(e,t,...n){const o=this.startedAt.get(e);if(!o)return;this.startedAt.delete(e);const r=("object"==typeof performance?performance.now():Date.now())-o;this.count++,this.total=this.total+r;let a=this.buckets[t];a||(a={count:0,total:0},this.buckets[t]=a),a.count++,a.total=a.total+r,this.logger("end ".concat(e," ").concat(t,": ").concat(r,"ms"),...n)}}},cy36:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},czaV:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));function o(){const e=window.__mobileAppFeatures;return Boolean(e&&e.supportsBodyInHttpRequests)}function r(){const e=window.__mobileAppFeatures;return Boolean(e&&e.supportsWebViewCookies)}},d2j2:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var o=n("FUUC"),r=n("nFzZ");const a={create:(e,t)=>({table:e,value:t}),isSpaceRecordWithTable:e=>e.table===o.a,isSpaceShardRecordWithTable:e=>!!d(e.table)};function i(e){return"parent_table"in e&&"parent_id"in e}function s(e){return!(!function(e){return l[e]}(e)&&!d(e))}const l={activity:!0};const c={space:!0,block:!0,collection_view:!0,collection:!0,discussion:!0,comment:!0,snapshot:!0,follow:!0,page_visit:!0,space_view:!0};Object(r.j)(c);function d(e){return c[e]}},d933:function(e,t,n){"use strict";n("3bBZ"),n("LvDl");class o{constructor(e){this.debug=!1,this.listenCycle=0,this.listenerVersionMap=new Map,this.isListening=!1,this.lastListener=null,this.onChange=e=>{this.debug&&console.trace("AutoListener onChange ".concat(this.listenCycle,":"),e),this.isListening||this.args.onChange(e)},this.args=e}static logStoreAccess(e,t){const n=this.currentListener;n&&n.logStoreAccess(e)}static withListenerIgnored(e){const t=o.currentListener;o.currentListener=null,o.ignoreCurrentListener=!0;try{return e()}finally{o.currentListener=t,o.ignoreCurrentListener=!1}}destroy(){this.listenerVersionMap.forEach((e,t)=>{this.removeStoreListener(t)})}startListener(e){this.lastListener=o.currentListener,o.currentListener=this,this.isListening=!0,e.incrementCycle&&this.listenCycle++}stopListener(e){o.currentListener=this.lastListener,this.isListening=!1,e.isEndOfCycle&&this.listenerVersionMap.forEach((e,t)=>{e<this.listenCycle&&this.removeStoreListener(t)})}logStoreAccess(e){this.debug&&console.trace("Autolistener logStoreAccess ".concat(this.listenCycle,":"),e),this.addStoreListener(e),this.listenerVersionMap.set(e,this.listenCycle)}addStoreListener(e){this.listenerVersionMap.has(e)||(e.addListener(this.onChange),this.args.onAddListener&&this.args.onAddListener(e))}removeStoreListener(e){this.listenerVersionMap.has(e)&&(e.removeListener(this.onChange),this.listenerVersionMap.delete(e),this.args.onRemoveListener&&this.args.onRemoveListener(e))}}o.currentListener=null,o.ignoreCurrentListener=!1;t.a=o},d9nj:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("MeYt"),s=n("zmp8");class l extends a.a{renderComponent(){return r.a.createElement(i.a,{style:this.getButtonStyle(),onClick:this.props.onClick,disabled:this.props.disabled,hoveredStyle:this.getHoveredStyle(),pressedStyle:this.getPressedStyle(),disabledFeedback:this.props.disabledFeedback,mobileFeedback:this.props.mobileFeedback,onMouseMove:this.props.onMouseMove,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,hovered:this.props.hovered,className:this.props.className},this.renderButtonTitle())}renderButtonTitle(){const{icon:e}=this.props;return e?r.a.createElement(o.Fragment,null,e(this.getIconStyle()),this.props.children):this.props.children}getButtonStyle(){return{display:"inline-flex",alignItems:"center",flexShrink:this.props.shouldShrink?1:0,whiteSpace:"nowrap",height:this.getButtonHeight(),borderRadius:3,fontSize:14,lineHeight:1.2,minWidth:0,paddingLeft:this.props.icon||this.props.isSmall?6:8,paddingRight:this.props.isSmall?6:8,color:this.getTextColor(),...this.props.style}}getButtonHeight(){return this.props.isSmall?24:this.props.isLarge?32:28}getIconStyle(){return{width:14,height:14,fill:this.getIconColor(),marginRight:6}}getHoveredStyle(){return{...this.props.isBlue&&{background:this.theme.outlineBlueButtonHoveredBackground},...this.props.isRed&&{background:this.theme.outlinefrontSecondaryButtonHoveredBackground}}}getPressedStyle(){return{...this.props.isBlue&&{background:this.theme.outlineBlueButtonPressedBackground},...this.props.isRed&&{background:this.theme.outlinefrontSecondaryButtonPressedBackground}}}getTextColor(){return this.props.isBlue?this.theme.blueColor:this.props.isRed?s.g.red:this.props.isGray?this.theme.mediumTextColor:this.props.isLightGray?this.theme.lightTextColor:this.theme.regularTextColor}getIconColor(){return this.props.isBlue?this.theme.blueColor:this.props.isGray?this.theme.mediumIconColor:this.props.isLightGray?this.theme.lightIconColor:this.theme.regularIconColor}}t.a=l},dACB:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return b}));n("3bBZ");var o=n("rJFj"),r=n("JuT7"),a=n("Fe7V"),i=n("Ko8Q"),s=n("Mht8"),l=n("w5u6"),c=n("p0Ff"),d=n("lKd+"),u=n("dlZW"),p=n("yUnD");function h(e){const{pointer:t,userId:n,environment:o}=e,r={pointer:t,userId:n};d.default.removeFromPendingUnsubscribeRecords(r),d.default.isSubscribedToRecord(r)||(d.default.addToSubscribedRecords(r),l.default.afterNextFlush(()=>{const i=c.default.getRecord(r);i?m({record:i,...e}):a.e({environment:o,inMemoryRecordCache:c.default,userId:n,pointer:t}).then(t=>{m({record:t,...e})})}))}function m(e){const{environment:t,pointer:n,userId:l}=e,h={pointer:n,userId:l};if(!d.default.isSubscribedToRecord(h))return;p.d(t);const m=i.i(n);Object(o.a)(m)&&r.a.addListener(m,(e,n)=>function(e,t,n){const o=i.a(t);if(!o)return void s.rateLimitedLog({level:"warning",from:"handleRemoteVersionUpdate",type:"ValidationError",data:{key:t,miscDataToConvertToString:{version:n}}});if(null!==n&&"number"!=typeof n)return void s.rateLimitedLog({level:"warning",from:"handleRemoteVersionUpdate",type:"ValidationError",data:{key:t,miscDataToConvertToString:{pointer:o,version:n}}});const r=[void 0,...e.currentUser.loggedInUserIds];for(const i of r){if(d.default.getSubscriptionForRecord({userId:i,pointer:o})){const t=c.default.getVersion({pointer:o,userId:i}),r=u.transactionQueue.isPendingTransactionForRecord(o);(null===n||n>t)&&!r&&a.e({environment:e,inMemoryRecordCache:c.default,pointer:o,userId:i})}}}(t,e,n),"recordSubscriptionActions")}function f(e){for(const t of e.environment.currentUser.loggedInUserIds)g({...e,userId:t})}function g(e){const{pointer:t}=e;if(!d.default.isSubscribedToRecord(e))return;d.default.removeFromSubscribedRecords(e);const n=i.i(t);Object(o.a)(n)&&r.a.removeListener({key:n,subscriptionId:"recordSubscriptionActions"})}function b(e){const{pointer:t}=e;c.default.hasListener(t)||d.default.addToPendingUnsubscribeRecords(e,Date.now()+12e4)}setInterval((function(){const e=Date.now();d.default.forEachPendingUnsubscribeRecord(({pointer:t,userId:n,timestamp:o})=>{if(o<e){d.default.removeFromPendingUnsubscribeRecords({pointer:t,userId:n});const e={pointer:t,userId:n};c.default.deleteRecord(e),c.default.clearSyncState(e),g({pointer:t,userId:n})}})}),1e4)},dDgv:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("/YYm"),r=n("wpmu"),a=n("HSWF"),i=n("tP7q"),s=n("HRSx");function l(e){const{route:t,userId:n}=Object(a.l)();let l;return t&&("page"===t.name?l=Object(o.a)({fullyQualified:!1,store:new r.a(e,{table:s.a,id:t.blockId},{userId:n}),scrollToBlockId:t.scrollToBlockId,peekViewBlockId:t.peekViewBlockId,collectionViewId:t.collectionViewId,discussionId:void 0}):"space"===t.name&&(l=Object(i.i)({route:t}))),{url:l,userId:n}}},dNiu:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u}));n("E9XD"),n("3bBZ");var o=n("/ssM"),r=n("LvDl"),a=n.n(r),i=n("nFzZ");function s(e,t){return t?[e,"highlight"]:[e]}function l(e){return 2===e.length&&"highlight"===e[1]}function c(e){return e[0]}function d(e){return e.reduce((e,t)=>{if(0===e.length)return[t];const n=e[e.length-1];return l(n)===l(t)?[...e.slice(0,e.length-1),s(c(n)+c(t),l(t))]:[...e,t]},[])}function u(e,t){const n=a.a.uniq(t.filter(e=>e.length>0));if(0===n.length)return[s(e,!1)];const o=a.a.sortBy(n,e=>-e.length).map(a.a.escapeRegExp);return function(e,t){const n=Object(i.p)(t,e);if(0===n.length)return[s(e,!1)];let o=0;const r=[];for(let a=0;a<n.length;a++){const t=n[a];if(!t)continue;o!==t.index&&r.push(s(e.slice(o,t.index),!1)),r.push(s(t[0],!0));const i=n[a+1],l=t.index+t[0].length;i||l===e.length||r.push(s(e.slice(l),!1)),o=l}return r}(e,new RegExp(o.join("|"),"ig"))}t.b=function(e){const t=[];let n=!1,r=e;for(;""!==r;){const e=n?o.a:o.b,a=r.indexOf(e);if(-1===a)return t.push(s(r,!1)),t;const i=r.substring(0,a),l=r.slice(a+e.length);""!==i&&t.push(s(i,n)),r=l,n=!n}return t}},dQss:function(e,t,n){"use strict";n.r(t),n.d(t,"reactNativeDeviceInfoKey",(function(){return i})),n.d(t,"getReactNativeDeviceInfo",(function(){return s})),n.d(t,"isIPhoneX",(function(){return l})),n.d(t,"supportsDarkMode",(function(){return c})),n.d(t,"getMobileVersion",(function(){return d}));var o=n("VMJe"),r=n("LvDl"),a=n.n(r);const i="__reactNativeDeviceInfo";function s(){const e=window[i];return e?{reactNativeAppVersion:e.appVersion,reactNativeCellularConnection:e.cellularConnection,reactNativeDeviceModel:e.deviceModel,reactNativeDeviceId:e.deviceId,reactNativeSystemVersion:e.systemVersion,reactNativeAndroidApiLevel:e.androidApiLevel,reactNativeDeviceBrand:e.deviceBrand,reactNativeDeviceManufacturer:e.deviceManufacturer,reactNativeDeviceCarrier:e.deviceCarrier,reactNativeDeviceCountry:e.deviceCountry,reactNativeDeviceName:e.deviceName,reactNativeFreeDiskStorageBytes:e.freeDiskStorageBytes}:{}}function l(){const e=window[i];return!!e&&e.deviceModel.startsWith("iPhone X")}function c(e){const t=window[i];if(!t)return!1;if(e.device.isIOS){const e=t.systemVersion.split(".");if(e.length>0)return parseInt(e[0])>=13}else{const e=t.androidApiLevel;if(!a.a.isNaN(e))return e>=29}return!1}function d(){const e=window[i];if(e)return Object(o.parseVersion)(e.appVersion)}},dXb3:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("wldR"),l=n("yNyh"),c=n("ZQ9l"),d=n("VyA+"),u=n("gbGO"),p=n("ggCg"),h=n("rGsA"),m=n("MeYt"),f=n("mF3+");class g extends s.a{constructor(){super(...arguments),this.storeTypes={store:p.a},this.handleFocused=e=>{this.stores.store.setState({focused:!0}),this.props.onFocus&&this.props.onFocus(e)},this.handleBlurred=e=>{this.stores.store.setState({focused:!1}),this.props.onBlur&&this.props.onBlur(e)},this.handleFocus=e=>{e.preventDefault(),this.selectAllInput()},this.styles={labeledTitle:{display:"flex",alignItems:"center"}}}selectAllInput(){this.input&&this.input.selectAllInput()}willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){return r.a.createElement(d.a,{capture:!0,onUntab:i.a.identity,onTab:i.a.identity,onSelectAll:i.a.identity,onRedo:i.a.identity,onUndo:i.a.identity,onToggleBold:i.a.identity,onToggleItalics:i.a.identity,onToggleCode:i.a.identity,onCut:i.a.identity,onCopy:i.a.identity,onPaste:i.a.identity,onKeypress:i.a.identity},r.a.createElement(d.a,{capture:!this.props.allowArrows,onLeft:i.a.identity,onRight:i.a.identity},r.a.createElement(d.a,{capture:!this.props.allowDelete||this.props.value.length>0,onDelete:i.a.identity,onBackspace:i.a.identity},this.renderButton())))}renderButton(){return this.environment.device.isPhone?r.a.createElement(o.Fragment,null,r.a.createElement(c.a,Object.assign({},this.props,{title:this.renderLabel(this.renderMobileInput()),right:this.renderMobileRight(),style:this.props.style})),r.a.createElement(h.a,{show:this.stores.store.state.focused&&this.context.menuType!==u.a.ActionSheet})):r.a.createElement(c.a,Object.assign({},this.props,{isTokenTitle:!0,title:this.renderLabel(this.renderDesktopInput())}))}renderLabel(e){const{label:t}=this.props,n=this.styles;return t?r.a.createElement("div",{style:n.labeledTitle},t,e):e}renderMobileInput(){return r.a.createElement(l.b,Object.assign({},this.props,{ref:e=>e&&(this.input=e),format:l.a.Transparent,style:{fontSize:16,...this.props.inputOuterStyle},left:this.props.shouldShowSearchIconOnMobile&&f.a.searchThick({fill:this.theme.mediumIconColor,width:16,height:16,marginRight:12,flexGrow:0,flexShrink:0}),onFocus:this.handleFocused,onBlur:this.handleBlurred,showClearButton:this.stores.store.state.focused}))}renderDesktopInput(){return r.a.createElement(l.b,Object.assign({},this.props,{style:{height:28,padding:"3px 6px",...this.props.inputOuterStyle}}))}renderMobileRight(){if(!this.stores.store.state.focused&&this.props.mobileEditLabel)return r.a.createElement(m.a,{mobileFeedback:!0,onClick:this.handleFocus,style:{color:this.theme.mediumTextColor}},this.props.mobileEditLabel)}}g.contextTypes={...u.c},t.a=g},daQZ:function(e,t,n){"use strict";n.d(t,"e",(function(){return k})),n.d(t,"a",(function(){return C})),n.d(t,"d",(function(){return M})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return _}));n("3bBZ");var o=n("wpmu"),r=n("hbKx"),a=n("y6Dp"),i=n("Hz2r"),s=n("N34Z"),l=n("p0Ff"),c=n("G414"),d=n("QcDD"),u=n("HSWF"),p=n("HRSx"),h=n("lufz"),m=n("jZoB"),f=n("RvCr"),g=n("VhAz"),b=n("VpIZ"),v=n("yioD"),y=n("szb2"),S=n("sPNb"),w=n("MBf9");function k(e){const{environment:t,transaction:n,titleText:a,recordStoreParent:i}=e,{databaseTemplate:d,createInValue:u}=function(e,t){let n=void 0;if("page"===e.type){const a=o.a.createChildStore(t,{table:p.a,id:e.id});if(a.isTemplate()){const t=Object(r.c)(a,1);t&&(n=a,e={type:"page",id:t.id})}}return{databaseTemplate:n,createInValue:e}}(e.createInValue,i),m=s.a({transaction:n,environment:t,type:"page",inMemoryRecordCache:l.default,properties:a?{title:[[a]]}:void 0});let f=void 0;return"block"===u.type?h.b({transaction:n,childStore:m,parentStore:o.a.createChildStore(i,{table:p.a,id:u.id}),alive:!0}):f=c.b({transaction:n,environment:t,targets:[m],value:u}),{environment:t,databaseTemplate:d,createdPages:[m],moveToStorePromise:f}}async function C(e){const{environment:t,createdPages:n,databaseTemplate:o,moveToStorePromise:r}=e.createInState;a.fb(t,{type:"page",from:e.analyticsFrom});const{currentSpaceStore:s}=d.default.state;if(o)n.forEach(e=>i.e({title:e.getTitleValue(),environment:t,store:e,templateStore:o,isKeyboard:!1,isCreateIn:!0})),s&&await u.a(s,s.id,o.id);else{const e=await r;s&&e&&e.table===p.a&&await u.a(s,s.id,e.id)}}function M(e){const{environment:t,transaction:n,parentStore:a,inlinePageIds:i}=e;if(0===i.length)return;const s=o.a.createChildStore(a,a.pointer),l=Object(r.g)(s).find(e=>{if(e.table!==p.a)return!1;const t=e.getValue();return!!t&&(Object(b.u)(t)||Object(b.z)(t))}),c=l&&l.isCollectionView()?l.getCollectionViewCollectionStore():l,d=c&&v.a.getMode(t,c);if(!c||d&&"edit"!==d||!c.canEdit()){for(const e of i)h.a({childStore:o.a.createChildStore(a,{table:p.a,id:e}),alive:!1,transaction:n});return}let u=a;for(const r of i){const e=o.a.createChildStore(a,{table:p.a,id:r}),i=e.getValue();if(e.isEmptyPage()){h.a({childStore:e,alive:!1,transaction:n});continue}const s=!i||i.alive;h.b({parentStore:c,childStore:e,transaction:n,alive:s}),"block"!==c.table?"collection"!==c.table?Object(g.e)(c):f.a({environment:t,store:e,collectionStore:c,coerce:!0,transaction:n}):(m.b({parent:c.getContentStore(),after:u,insert:e,transaction:n}),u=e)}}function E(e){const t=y.c.state,n=t.open?t.target:d.default.state.currentBlockStore;if(n){if(e&&e.table===p.a)return{pageStore:Object(r.c)(e,0)||n,createInValue:{type:"block",id:e.id}};if(e&&Object(r.j)(e)){const t=Object(r.c)(e,0);if(t)return{pageStore:t,createInValue:{type:"page",id:t.id}}}return{pageStore:n,createInValue:{type:"page",id:n.id}}}}async function _(e,t){const{createInValue:n,blocksToTransform:r}=t,a="page"===n.type?new o.a(e,{table:p.a,id:n.id}):void 0,i=Boolean(a&&a.isTemplate()),s=w.create(e),l=r.map(t=>S.a({environment:e,block:t,blockType:"page",transaction:s}));let u;if("page"===n.type)if(a&&i){const t=a.getParentCollectionStore();if(t){const n=t.getValue();n&&(u=await c.e({transaction:s,environment:e,targets:l,value:{type:"page",id:n.parent_id}}))}}else{const{currentBlockStore:t}=d.default.state;t&&t.id!==n.id&&(u=await c.e({transaction:s,environment:e,targets:l,value:n}))}await w.commit({environment:e,transaction:s}),await C({analyticsFrom:"new_page_in",createInState:{environment:e,createdPages:l,databaseTemplate:i?a:void 0,moveToStorePromise:Promise.resolve(u)}})}},dayd:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("fgBX"),s=n("tzmq");class l extends a.a{renderComponent(){return r.a.createElement(i.a,{char:this.props.char,size:this.props.size,type:this.props.sprite||Object(s.a)(this.environment)})}}t.a=l},dccM:function(e,t,n){"use strict";var o=n("Uv1v");class r extends o.a{}t.a=new r},ddTe:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"exposeDebugValue",(function(){return r})),n.d(t,"exposeDebugGetter",(function(){return a})),n.d(t,"exposeDebugInstance",(function(){return i}));n("eP9w");const o={};function r(e,t){return o[e]=t,t}function a(e,t){Object.defineProperty(o,e,{get:t})}function i(e,t){0}"undefined"!=typeof window&&(window.__console=o),void 0!==e&&(e.__console=o),r("debugCaptureError",(async function(e){try{return{value:await e()}}catch(t){return{error:t}}}))}.call(this,n("yLpj"))},di7S:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c}));n("UxlC");var o=n("LvDl"),r=n.n(o),a=n("S26v");function i(e){return l({...e,permissionRecord:void 0})}function s(e){return l(e)}function l(e){const{userId:t}=e;let{url:n,width:o}=e;const{baseUrl:i,fullyQualified:s,stripGoogleIconQuery:l,permissionRecord:c}=e;if(n.startsWith("C:\\"))return n;a.c(n)&&(n=a.j({relativeUrl:n,baseUrl:i})),l&&(n=n.replace("?sz=50",""));const d={...c};o&&n.indexOf(".ico")<0&&n.indexOf(".svg")<0&&n.indexOf(".gif")<0&&(o*=2,o=r.a.round(o,-1),o=Math.max(o,40),d.width=o.toString()),d.userId=t;const u=s?i:"";return a.d({url:"".concat(u,"/image/").concat(encodeURIComponent(n)),query:{...d,cache:"v2"}})}function c(e){const{baseURL:t,url:n,downloadName:o,download:r,permissionRecord:i,currentUserId:s}=e,l=a.c(n)?a.j({relativeUrl:n,baseUrl:t}):n,c={...i};return o&&(c.name=o),r&&(c.download="true"),s&&(c.userId=s),a.d({url:"/signed/".concat(encodeURIComponent(l)),query:{...c,cache:"v2"}})}},dlZW:function(e,t,n){"use strict";n.r(t);n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("glAM"),i=n("hJ5A"),s=n("2bwL"),l=n("VBxf"),c=n("rXc8"),d=n("J9+s"),u=n("vl8/"),p=n("Gam4");const h=Object(d.defineMessages)({transactionSaveError:{id:"saveEditsError.mobile.message",defaultMessage:"There was an issue persisting your edits. Please message us for help."}});var m=class{constructor(e){this.tasks=[],this.transactionStore=new c.b(e,"LocalTransactionStore3",!0)}async saveTask(e){this.tasks.push(e),s.a.setOrIncTotal(this.tasks.length);try{await this.transactionStore.set(e.id,e)}catch(t){throw l.showErrorMessage(u.default.formatMessage(h.transactionSaveError)),t}}async removeTask(e){this.tasks=this.tasks.filter(t=>t.id!==e),s.a.updateRemaining(this.tasks.length),await this.transactionStore.remove(e)}async refreshTasks(){const e=[];await this.transactionStore.scan((t,n)=>{e.push(n)});const t=Object(o.uniqBy)([...this.tasks,...e],e=>e.id);t.sort((e,t)=>e.timestamp-t.timestamp),s.a.updateRemaining(t.length);for(const n of t)Object(p.a)(n.operations);this.tasks=t}},f=n("LSDq"),g=n("vJXr"),b=n("Mht8"),v=n("yjqD"),y=n("nFzZ"),S=n("W75l"),w=n("922z"),k=n("zb5D");class C{constructor(e){if(this.environment=e,this.queue=new f.a(1),this.isActive=!1,this.isProcessingTask=!1,this.lastTaskTimestamp=0,this.events=new a.a,this.transactionBackoffController=new S.a,this.callbacks={},this.dequeueNextTask=async()=>{if(!this.isActive)return void this.doneSyncing();if(this.isProcessingTask)return;this.startSyncing(),this.isProcessingTask=!0,await this.queue.enqueue(async()=>this.transactionManager.refreshTasks());const e=this.transactionManager.tasks.map(e=>({...e,callback:this.callbacks[e.id],sessionId:"unused"}));if(0===e.length)return this.isProcessingTask=!1,this.doneSyncing(),void this.events.emit("drain");this.handleSaveTransactions(e)},this.dequeueNextTaskThrottled=r.a.throttle(this.dequeueNextTask,C.dequeueThrottle),!e.device.isReactNative)throw new Error("Cannot use LocalTransactionQueue on web.");this.transactionManager=new m(e.reactNative)}startLoop(){this.isActive=!0,this.queue.enqueue(async()=>this.transactionManager.refreshTasks()).then(()=>{this.dequeueNextTask()}),setTimeout(async()=>{for(;;)try{await Object(v.h)(10*y.e),this.flush()}catch(e){b.log({level:"error",from:"LegacyTransactionQueue",type:"txLoop",error:Object(k.a)(e)}),await Object(v.h)(10*y.e)}},0),setTimeout(()=>{this.healthcheckLoop()},1)}async enqueueTask(e){this.events.emit("enqueueTask"),this.lastTaskTimestamp=Date.now(),await this.queue.enqueueImmediate(async()=>this.serializeAndSaveTask(e)),this.dequeueNextTaskThrottled()}unpause(){this.transactionBackoffController.reset()}pause(){}flush(){this.dequeueNextTask()}getLastTaskTimestamp(){return this.lastTaskTimestamp}hasTasks(){return this.transactionManager.tasks.length>0}async hasTasksForUser(e){return Promise.resolve(this.transactionManager.tasks.some(t=>t.userId===e))}async anySessionHasTasks(){return Promise.resolve(this.hasTasks())}async getTotalNumberOfTasks(){return Promise.resolve(this.transactionManager.tasks.length)}drain(){return this.hasTasks()||this.isProcessingTask?new Promise(e=>{this.events.addOnceListener("drain",e)}):Promise.resolve()}async reset(){const e=this.transactionManager.tasks.length;return this.transactionManager.tasks.splice(0,e),Promise.resolve()}async clearForUser(e){const t=this.transactionManager.tasks.filter(t=>t.userId===e);for(const n of t)await this.transactionManager.removeTask(n.id)}async awaitRecordTransaction(e){await this.queue.enqueue(async()=>{}),this.isPendingTransactionForRecord(e)&&await this.drain()}isPendingTransactionForRecord(e){return this.hasTask(t=>t.operations.some(t=>Object(w.g)(t.pointer,e)))}updateEnvironment(e){this.environment=e}async serializeAndSaveTask(e){e.callback&&(this.callbacks[e.id]=e.callback),delete e.callback,await this.transactionManager.saveTask(e)}startSyncing(){g.a.setState({...g.a.state,syncing:!0})}doneSyncing(){g.a.setState({...g.a.state,syncing:!1})}async handleSaveTransactions(e){try{const t=await Object(i.a)({environment:this.environment,tasks:e});if(t.error){const{savedTasks:e,failedTasks:n,retryDelay:o}=t.error;if(e.length>0&&await this.cleanupTasks(e,void 0),!(n.length>0))return void this.transactionBackoffController.backOffOnFailure(t.error.retryDelay).then(()=>{this.isProcessingTask=!1,this.dequeueNextTaskThrottled()});await this.cleanupTasks(n,t.error),0===o&&this.transactionBackoffController.reset()}else{this.transactionBackoffController.reset();const e=t.value;await this.cleanupTasks(e,void 0)}this.isProcessingTask=!1,this.dequeueNextTaskThrottled()}catch(t){b.rateLimitedLog({level:"error",from:"LocalTransactionQueue",type:"handleSaveTransactions",error:Object(k.a)(t)})}}async cleanupTasks(e,t){return Promise.all(e.map(async e=>{if(await this.queue.enqueueImmediate(()=>(delete this.callbacks[e.id],this.transactionManager.removeTask(e.id),Promise.resolve())),e.callback)try{e.callback(t)}catch(n){b.log({level:"error",from:"LocalTransactionQueue",type:"cleanupTask",data:{taskId:e.id},error:Object(k.a)(n)})}}))}hasTask(e){return this.transactionManager.tasks.some(e)}async healthcheckLoop(){for(;;){const e=await this.getTotalNumberOfTasks();e>C.transactionSizeHealthcheckThreshold&&b.log({level:"info",from:"LegacyTransactionQueue",type:"transactionSizeHealthcheck",data:{miscDataToConvertToString:{queueSize:e}}}),await v.h(C.healthcheckInterval)}}}C.dequeueThrottle=1e3,C.healthcheckInterval=15*y.d,C.transactionSizeHealthcheckThreshold=1e3;var M=C,E=n("VhAz"),_=n("yF27");const T="Transaction",x="bySessionId",I="byTimestamp",P="byId",O="byUserId",B="Session",L="bySessionId",R="byUpdatedAt",D="byOwnerSessionId";const A=45*y.e;class j{constructor(e,t){this.runOptimizedScans=!0,this.activeTasks=new Map,this.ownedSessionIds=new Set,this.db=new _.a(t,"TransactionStore",2,{upgrade(e,t,n,o){if(t<1&&function(e){const t=e.createObjectStore(B,{keyPath:E.d("index"),autoIncrement:!0});t.createIndex(R,E.d("updatedAt"),{unique:!1}),t.createIndex(D,E.d("ownerSessionId"),{unique:!1}),t.createIndex(L,E.d("sessionId"),{unique:!0});const n=e.createObjectStore(T,{keyPath:E.d("index"),autoIncrement:!0});n.createIndex(I,E.d("timestamp"),{unique:!1}),n.createIndex(x,[E.d("sessionId"),E.d("timestamp")],{unique:!1}),n.createIndex(P,E.d("id"),{unique:!0})}(e),t<2){o.objectStore(T).createIndex(O,E.d("userId"))}}}),this.debugLogger=e,this.runOptimizedScans=!t.device.isEdgeHTML}async heartbeat(e,t){const n=t?[B,T]:[B],o=await this.db.startTransaction({storeNames:n,mode:"readwrite",errorDetails:"Failure updating heartbeat",timeoutMs:void 0},async n=>{const o=new Set,r=n.objectStore(B);let a=await r.index(D).openCursor(e);for(;a;){const t=a.value;t.sessionId!==e&&o.add(t.sessionId);const n={...t,updatedAt:Date.now()};a.update(n),a=await a.continue()}if(t){const e=n.objectStore(T).index(P),t=Date.now()-A;this.activeTasks.forEach(async n=>{if(n.timestamp>=t)return;if(!(await e.get(n.id))){if(n.callback)try{n.callback(void 0)}catch(o){this.debugLogger.flush(),b.log({level:"error",from:"IndexedDBTransactionStore",type:"activeTaskGarbageCollectCleanupError",error:Object(k.a)(o)})}this.debugLogger.flush(),b.log({level:"warning",from:"IndexedDBTransactionStore",type:"activeTaskGarbageCollect",data:{miscDataToConvertToString:{task:n,expireTime:t}}}),this.activeTasks.delete(n.id)}})}return{value:o}});return o.error?o:(this.ownedSessionIds=o.value,{value:void 0})}async claimSessions(e,t){const n=await this.db.startTransaction({storeNames:[B],mode:"readwrite",errorDetails:"Failure claiming sessions",timeoutMs:void 0},async n=>{const o=[],r=n.objectStore(B);let a=await r.index(R).openCursor(IDBKeyRange.upperBound(t));for(;a;){const t=a.value,n={...t,ownerSessionId:e,updatedAt:Date.now()};o.push(t.sessionId);const r=Date.now()-t.updatedAt;this.debugLogger.log({from:"IndexedDBTransactionStore",level:"debug",type:"claimSession",data:{message:"claimed ".concat(t.sessionId," updated ").concat(r,"ms ago"),sessionId:t.sessionId,sinceLastUpdate:r}}),a.update(n),a=await a.continue()}return{value:o}});if(n.error)return n;for(const o of n.value)this.ownedSessionIds.add(o);return{value:void 0}}getTasks(e){return this.db.startTransaction({storeNames:[B,T],mode:"readonly",errorDetails:"Failure getting tasks",timeoutMs:void 0},async t=>{let n=void 0;const o=[],r=t.objectStore(B);let a=await r.index(D).openCursor(e);for(;a;){const e=a.value;o.push(e),a=await a.continue()}if(0===o.length)return{value:void 0};o.sort((e,t)=>e.index-t.index);const i=o[0].sessionId,s=[];let l=await this.createTransactionCursor(t,i);for(;l;){const e=l.value;Object(p.a)(e.operations);const t=this.activeTasks.get(e.id);e.sessionId===i&&s.push({...e,callback:t&&t.callback}),l=await l.continue()}return n={sessionId:i,tasks:s},n.tasks.sort((e,t)=>e.timestamp-t.timestamp),{value:n}})}saveTask(e,t,n){const o={id:t.id,userId:t.userId,spaceId:t.spaceId,sessionId:e,timestamp:t.timestamp,operations:t.operations};return this.activeTasks.set(o.id,t),this.db.startTransaction({storeNames:[B,T],mode:"readwrite",errorDetails:"saveTask Failed",timeoutMs:n},async t=>{const n=t.objectStore(B),r=await n.index(L).get(e);if(!r){const t={sessionId:e,updatedAt:Date.now(),ownerSessionId:e};try{await n.add(t)}catch(a){throw Object(_.b)(a,"session ".concat(t.sessionId))}}try{await t.objectStore(T).add(o)}catch(a){throw Object(_.b)(a,"task ".concat(o.id))}return this.debugLogger.log({from:"IndexedDBTransactionStore",type:"saveTask",level:"debug",data:{message:"create task ".concat(o.id," in ").concat(r?"existing":"NEW"," session ").concat(e),sessionId:e,taskId:o.id,isNewSession:!Boolean(r)}}),{value:void 0}})}async deleteSession(e){const{currentSessionId:t,sessionId:n}=e,o=await this.db.startTransaction({storeNames:[B,T],mode:"readwrite",errorDetails:"deleteSession Failed",timeoutMs:void 0},async e=>{let o=await this.createTransactionCursor(e,n);for(;o;){if(o.value.sessionId===n)return{value:"Attempt to delete non-empty session: has task ".concat(o.value.id),abort:!0};o=await o.continue()}const r=e.objectStore(B),a=await r.index(L).get(n);if(!a)return{value:"Session is missing",abort:!0};const i=a;return i.ownerSessionId!==t?{value:"Attempt to delete another tab's session: owned by ".concat(i.ownerSessionId),abort:!0}:(r.delete(i.index),{value:void 0})});return o.error?o:o.value?{error:{type:"LogicalError",message:o.value,userDetails:"Could not perform an operation due to a logical error."}}:{value:void 0}}hasTasks(){return this.activeTasks.size>0||this.ownedSessionIds.size>0}getTotalNumberOfTasks(e){return this.db.startTransaction({storeNames:[T],mode:"readonly",errorDetails:"getTotalNumberOfTasks failed",timeoutMs:e},async e=>{const t=e.objectStore(T);return{value:await t.count()}})}getTotalNumberOfTasksForUser(e,t){return this.db.startTransaction({storeNames:[T],mode:"readonly",errorDetails:"getTotalNumberOfTasks failed",timeoutMs:t},async t=>{const n=t.objectStore(T).index(O);return{value:await n.count(e)}})}async anySessionHasTasks(e){const t=await this.getTotalNumberOfTasks(e);return t.error?t:{value:t.value>0}}async hasTasksForUser(e,t){const n=await this.getTotalNumberOfTasksForUser(e,t);return n.error?n:{value:n.value>0}}hasTask(e){for(const[,t]of this.activeTasks)if(e(t))return!0;return!1}async deleteTasks(e){const t=await this.db.startTransaction({storeNames:[T,B],mode:"readwrite",errorDetails:"deleteTasks Failed",timeoutMs:void 0},async t=>{const n=[],o=[],r=new Set,a=t.objectStore(T),i=a.index(P),s=t.objectStore(B);await Object(_.c)(e.map(Object(_.d)(async e=>{n.push(e.id);const t=await i.openCursor(e.id);if(t){r.add(t.value.sessionId),await t.delete();const n=String(e.id);this.debugLogger.log({from:"IndexedDBTransactionStore",type:"deleteTasksDeleteTask",level:"debug",data:{message:"delete task ".concat(e.id),taskId:n}})}else this.debugLogger.flush(),b.log({from:"IndexedDBTransactionStore",type:"deleteTasksTaskNotExist",level:"warning",data:{message:"could not delete task not stored in indexeddb ".concat(e.id),taskId:e.id}})})));const l=a.index(x);return r.forEach(async e=>{let n=0;if(this.runOptimizedScans)n=await l.count(this.getTransactionRange(e));else{let o=await this.createTransactionCursor(t,e);for(;o;){if(o.value.sessionId===e){n++;break}o=await o.continue()}}if(0===n){const t=await s.index(L).openCursor(e);t&&(o.push(t.value.sessionId),t.delete(),this.debugLogger.log({from:"IndexedDBTransactionStore",type:"deleteTasksDeleteSession",level:"debug",data:{message:"delete empty session ".concat(e),sessionId:e}}))}}),{value:{deletedTaskIds:n,deletedSessionIds:o}}});if(t.error)return t;const{deletedTaskIds:n,deletedSessionIds:o}=t.value;for(const r of n)this.activeTasks.delete(r);for(const r of o)this.ownedSessionIds.delete(r);return{value:void 0}}async checkObjectStores(){const e=this.db.startTransaction({storeNames:["Session"],mode:"readonly",errorDetails:"Cannot read from Session object store",timeoutMs:void 0},async()=>Promise.resolve({value:"created IndexedDB transaction"})),t=this.db.startTransaction({storeNames:["Transaction"],mode:"readonly",errorDetails:"Cannot read from Transaction object store",timeoutMs:void 0},async()=>Promise.resolve({value:"created IndexedDB transaction"})),[n,o]=await Promise.all([e,t]);return{session:n,transaction:o}}async reset(){await this.db.reset(),this.activeTasks.clear(),this.ownedSessionIds.clear()}async clearTasksForUser(e){const t=await this.db.startTransaction({storeNames:[T],mode:"readwrite",errorDetails:"clearTasksForUser Failed",timeoutMs:void 0},async t=>{const n=[],o=t.objectStore(T);let r=await o.index(O).openCursor(IDBKeyRange.only(e));for(;r;)n.push(r.value.id),await r.delete(),r=await r.continue();return{value:{deletedTaskIds:n}}});if(t.error)return t;const{deletedTaskIds:n}=t.value;for(const o of n)this.activeTasks.delete(o)}getTransactionRange(e){return IDBKeyRange.bound([e,0],[e,Number.MAX_VALUE],!0,!0)}createTransactionCursor(e,t){const n=e.objectStore("Transaction");return this.runOptimizedScans?n.index(x).openCursor(this.getTransactionRange(t),"next"):n.openCursor()}}var F=n("g90h"),V=n("HSWF"),N=n("2ZkR");class U{constructor(e){this.environment=e,this.isActive=!0,this.isProcessingTask=!1,this.lastTaskTimestamp=0,this.events=new a.a,this.transactionBackoffController=new S.a,this.errorCounts={},this.sessionId="react-native"===e.device.platform?"00000000-0000-0000-0000-000000000000":Object(F.b)(),b.clientLogglyEnvironmentData.idbSessionId=this.sessionId,this.debugLogger=new b.BatchedLogger({from:"IndexedDBTransactionQueue",type:"BulkDebug",level:"info",maxLength:250}),this.transactionStore=new j(this.debugLogger,e),this.debugLogger.log({level:"debug",from:"IndexedDBTransactionQueue",type:"createdIndexedDBTransactionQueue",data:{sessionId:this.sessionId}})}startLoop(){setTimeout(()=>{this.heartbeatLoop()},1),setTimeout(()=>{this.txLoop()},1),setTimeout(()=>{this.healthcheckLoop()},1)}async enqueueTask(e){const t=await this.transactionStore.saveTask(this.sessionId,e,this.getIndexedDBTimeoutMs());if(this.lastTaskTimestamp=Math.max(e.timestamp,this.lastTaskTimestamp),t.error)throw this.incrementErrors(t.error,"enqueueTask"),t.error;this.clearErrors("enqueueTask"),this.getWaitable(!1).trigger()}unpause(){this.transactionBackoffController.reset(),this.getWaitable(!1).trigger()}pause(){}getLastTaskTimestamp(){return this.lastTaskTimestamp}hasTasks(){return!!this.transactionStore&&this.transactionStore.hasTasks()}async hasTasksForUser(e){const t=await this.transactionStore.hasTasksForUser(e,this.getIndexedDBTimeoutMs());return t.error?(this.debugLogger.flush(),b.log({level:"error",from:"IndexedDBTransactionQueue",type:"IndexedDBTransactionStore.hasTasksForUser",error:Object(k.a)(t.error)}),!1):t.value}async anySessionHasTasks(){const e=await this.transactionStore.anySessionHasTasks(this.getIndexedDBTimeoutMs());return e.error?(this.debugLogger.flush(),b.log({level:"error",from:"IndexedDBTransactionQueue",type:"IndexedDBTransactionStore.anySessionHasTasks",error:Object(k.a)(e.error)}),!1):e.value}async drain(){return this.hasTasks()||this.isProcessingTask?new Promise(e=>{this.events.addOnceListener("drain",e)}):void 0}async awaitRecordTransaction(e){this.isPendingTransactionForRecord(e)&&await this.drain()}isPendingTransactionForRecord(e){return this.hasTask(t=>t.operations.some(t=>Object(w.g)(t.pointer,e)))}async reset(){await this.transactionStore.reset()}async clearForUser(e){await this.transactionStore.clearTasksForUser(e)}async checkObjectStores(){return await this.transactionStore.checkObjectStores()}async getTotalNumberOfTasks(){const e=await this.transactionStore.getTotalNumberOfTasks(this.getIndexedDBTimeoutMs());return e.error?(b.log({level:"error",from:"IndexedDBTransactionQueue",type:"getTotalNumberOfTasks",error:Object(k.a)(e.error)}),0):e.value}startSyncing(){g.a.setState({...g.a.state,syncing:!0})}updateEnvironment(e){this.environment=e}async wait(e,t){await this.getWaitable(!1).wait(e,t),this.getWaitable(!0)}async txLoop(){for(;;)try{await this.txLoopIteration(),this.clearErrors("txLoop")}catch(e){this.incrementErrors(e,"txLoop"),this.debugLogger.flush(),b.log({level:"error",from:"IndexedDBTransactionQueue",type:"txLoopIteration",error:Object(k.a)(e)}),await v.h(15e3)}}async txLoopIteration(){const e=this.hasTasks();if(e||(this.doneSyncing(),this.events.emit("drain")),await this.wait(U.minLoopDelay,e?U.minLoopDelay:U.maxLoopDelay),!this.isActive)return void this.doneSyncing();const t=await this.getTasks();if(!t)return;const{tasks:n,sessionId:o}=t;if(0!==n.length)this.startSyncing(),this.debugLogger.log({level:"debug",from:"IndexedDBTransactionQueue",type:"handleSubmitTransactionAttempt",data:{message:"for ".concat(o,": attempt submitTransaction with ").concat(n.length," tasks"),sessionId:o,taskIds:n.map(e=>e.id)}}),await this.useSaveTransactionsApi(n,o);else{const e=await this.transactionStore.deleteSession({currentSessionId:this.sessionId,sessionId:o});e.error&&(this.debugLogger.flush(),b.log({level:"error",from:"IndexedDBTransactionQueue",type:"IndexedDBTransactionStore.deleteSession",data:{sessionId:o},error:Object(k.a)(e.error)}))}}async useSaveTransactionsApi(e,t){const n=await Object(i.a)({environment:this.environment,tasks:e});if(n.error){const{savedTasks:e,failedTasks:o,message:r,retryDelay:a}=n.error;e.length>0&&(this.debugLogger.log({level:"debug",from:"IndexedDBTransactionQueue",type:"handlePartialSaveTransactionsSuccess",data:{message:"for ".concat(t,": will delete ").concat(e.length," saved tasks"),taskIds:e.map(e=>e.id),sessionId:t}}),await this.cleanupTasks(e,void 0)),o.length>0?(this.debugLogger.flush(),b.log({level:"warning",from:"IndexedDBTransactionQueue",type:"handleSaveTransactionsError",data:{message:"for ".concat(t,": ").concat(r),taskIds:o.map(e=>e.id),sessionId:t},error:Object(k.a)(n.error)}),await this.cleanupTasks(o,n.error)):this.debugLogger.log({level:"debug",from:"IndexedDBTransactionQueue",type:"handleSaveTransactionsRetryableError",data:{message:"for ".concat(t,": ").concat(r),sessionId:t}}),a>0?await this.transactionBackoffController.backOffOnFailure(a-U.minLoopDelay):this.transactionBackoffController.reset()}else{const e=n.value;this.debugLogger.log({level:"debug",from:"IndexedDBTransactionQueue",type:"handleSaveTransactionsSuccess",data:{message:"for ".concat(t,": will delete ").concat(e.length," saved tasks"),taskIds:e.map(e=>e.id),sessionId:t}}),await this.cleanupTasks(e,void 0),this.transactionBackoffController.reset()}}incrementErrors(e,t){void 0===this.errorCounts[t]?this.errorCounts[t]=1:this.errorCounts[t]+=1;const n=r.a.max(Object.values(this.errorCounts))||0;this.errorCounts[t]===U.maxErrors+1&&(this.debugLogger.flush(),b.log({level:"error",from:"IndexedDBTransactionQueue",type:"maxErrors.".concat(t),error:Object(k.a)(e)})),n>U.maxErrors&&s.a.setState({...s.a.state,transactionQueueError:e})}clearErrors(e){this.errorCounts[e]&&delete this.errorCounts[e],(r.a.max(Object.values(this.errorCounts))||0)<=U.maxErrors&&s.a.setState({...s.a.state,transactionQueueError:void 0})}async heartbeatLoop(){for(;;)try{await this.heartbeat(),await v.h(U.heartbeatInterval)}catch(e){this.debugLogger.flush(),b.log({level:e,from:"IndexedDBTransactionQueue",type:"heartbeatLoopIteration",error:Object(k.a)(e)}),await v.h(U.heartbeatInterval)}}async heartbeat(){{const e=await this.transactionStore.heartbeat(this.sessionId,this.isActive);if(e.error)return this.debugLogger.flush(),b.log({level:"error",from:"IndexedDBTransactionQueue",type:"IndexedDBTransactionStore.heartbeat",error:Object(k.a)(e.error)}),void this.incrementErrors(e.error,"heartbeat");this.clearErrors("heartbeat")}{const e=Date.now()-U.claimSessionDelay,t=await this.transactionStore.claimSessions(this.sessionId,e);if(t.error)return this.debugLogger.flush(),void b.log({level:"error",from:"IndexedDBTransactionQueue",type:"IndexedDBTransactionStore.claimSessions",error:Object(k.a)(t.error)})}this.checkStorageQuota()}async checkStorageQuota(){const e=await Object(V.t)();e&&(b.clientLogglyEnvironmentData.storageQuotaEstimate=e.quota,b.clientLogglyEnvironmentData.storageUsageEstimate=e.usage,s.a.setState({...s.a.state,storageUsageEstimate:e}))}doneSyncing(){g.a.setState({...g.a.state,syncing:!1})}hasTask(e){return this.transactionStore.hasTask(e)}async getTasks(){const e=await this.transactionStore.getTasks(this.sessionId);if(e.error)throw e.error;return e.value}async cleanupTasks(e,t){for(const r of e)if(r.callback)try{r.callback(t)}catch(o){this.debugLogger.flush(),b.log({level:"error",from:"IndexedDBTransactionQueue",type:"cleanupTask",data:{taskId:r.id},error:Object(k.a)(o)})}const n=await this.transactionStore.deleteTasks(e);n.error&&(this.debugLogger.flush(),b.log({level:"error",from:"IndexedDBTransactionQueue",type:"IndexedDBTransactionStore.deleteTasks",error:Object(k.a)(n.error)}))}getWaitable(e){return this.waiter&&!e?this.waiter:(this.waiter=new v.a,this.waiter)}async healthcheckLoop(){for(;;){const e=await this.getTotalNumberOfTasks();e>U.transactionSizeHealthcheckThreshold&&(this.debugLogger.flush(),b.log({level:"info",from:"IndexedDBTransactionQueue",type:"transactionSizeHealthcheck",data:{miscDataToConvertToString:{queueSize:e}}})),await v.h(U.healthcheckInterval)}}getIndexedDBTimeoutMs(){if("enforce_timeout"===N.default.getGroup(this.environment,"indexeddb-transaction-timeout"))return 1e4}}U.maxLoopDelay=2*y.e,U.minLoopDelay=1*y.e,U.heartbeatInterval=2.5*y.e,U.claimSessionDelay=5*U.heartbeatInterval,U.healthcheckInterval=15*y.d,U.transactionSizeHealthcheckThreshold=1e3,U.maxErrors=5;var z=U;const X="InMemoryTransactionQueue";class Y{constructor(e){this.environment=e,this.isProcessingTask=!1,this.lastTaskTimestamp=0,this.tasks=new Map,this.events=new a.a,this.transactionBackoffController=new S.a,this.sessionId="00000000-0000-0000-0000-000000000000",this.debugLogger=new b.BatchedLogger({from:X,type:"BulkDebug",level:"info",maxLength:250})}startLoop(){setTimeout(()=>this.txLoop(),1),setTimeout(()=>this.healthcheckLoop(),1)}enqueueTask(e){this.lastTaskTimestamp=Math.max(e.timestamp,this.lastTaskTimestamp);const t=0===this.tasks.size;return this.tasks.set(e.id,{...e,sessionId:this.sessionId}),this.debugLogger.log({from:X,type:"saveTask",level:"debug",data:{message:"save task ".concat(e.id," in memory (").concat(this.tasks.size," total now)"),sessionId:this.sessionId,taskId:e.id,isNewSession:t}}),this.getWaitable(!1).trigger(),Promise.resolve()}unpause(){this.transactionBackoffController.reset(),this.getWaitable(!1).trigger()}pause(){}getLastTaskTimestamp(){return this.lastTaskTimestamp}hasTasks(){return this.tasks.size>0}async hasTasksForUser(e){return Promise.resolve(Array.from(this.tasks.values()).some(t=>t.userId===e))}updateEnvironment(e){this.environment=e}async getTotalNumberOfTasks(){return Promise.resolve(this.tasks.size)}async anySessionHasTasks(){return Promise.resolve(this.hasTasks())}async drain(){return this.hasTasks()||this.isProcessingTask?new Promise(e=>{this.events.addOnceListener("drain",e)}):void 0}async awaitRecordTransaction(e){this.isPendingTransactionForRecord(e)&&await this.drain()}isPendingTransactionForRecord(e){return Array.from(this.tasks.values()).some(t=>t.operations.some(t=>Object(w.g)(t.pointer,e)))}async reset(){return this.tasks=new Map,Promise.resolve()}async clearForUser(e){const t=Array.from(this.tasks.values()).filter(t=>t.userId===e);for(const n of t)this.tasks.delete(n.id);return Promise.resolve()}async txLoop(){for(;;)try{await this.txLoopIteration()}catch(e){this.debugLogger.flush(),b.log({level:"error",from:X,type:"txLoopIteration",error:Object(k.a)(e)}),await v.h(15e3)}}async txLoopIteration(){const e=this.hasTasks();e||(this.doneSyncing(),this.events.emit("drain")),await this.wait(Y.minLoopDelay,e?Y.minLoopDelay:Y.maxLoopDelay);const t=Array.from(this.tasks.values()),n=Array.from(t).sort((e,t)=>e.timestamp-t.timestamp);if(0===n.length)return;const o=[];for(let r=0;r<n.length;r++)n[r]!==t[r]&&o.push(r);o.length>0&&b.log({from:X,level:"warning",type:"TasksNotOrdered",data:{miscDataToConvertToString:{unsortedTaskIds:t.map(e=>e.id),mismatch:o},taskIds:n.map(e=>e.id)}}),this.startSyncing(),await this.useSaveTransactionsApi(n)}async useSaveTransactionsApi(e){const t=await Object(i.a)({environment:this.environment,tasks:e});if(t.error){const{savedTasks:e,failedTasks:n,message:o,retryDelay:r}=t.error;e.length>0&&(this.debugLogger.log({level:"debug",from:X,type:"handlePartialSaveTransactionsSuccess",data:{message:"will delete ".concat(e.length," saved tasks"),taskIds:e.map(e=>e.id)}}),await this.cleanupTasks(e,void 0)),n.length>0?(this.debugLogger.flush(),b.log({level:"warning",from:X,type:"handleSaveTransactionsError",data:{message:o,taskIds:n.map(e=>e.id)},error:Object(k.a)(t.error)}),await this.cleanupTasks(n,t.error)):this.debugLogger.log({level:"debug",from:X,type:"handleSaveTransactionsRetryableError",data:{message:o}}),r>0?await this.transactionBackoffController.backOffOnFailure(r-Y.minLoopDelay):this.transactionBackoffController.reset()}else{const e=t.value;this.debugLogger.log({level:"debug",from:X,type:"handleSaveTransactionsSuccess",data:{message:"will clean up ".concat(e.length," submitted tasks"),taskIds:e.map(e=>e.id)}}),this.transactionBackoffController.reset(),await this.cleanupTasks(e,void 0)}}async cleanupTasks(e,t){for(const o of e)if(o.callback)try{o.callback(t)}catch(n){this.debugLogger.flush(),b.log({level:"error",from:"InMemoryTransactionQueue",type:"cleanupTask",data:{taskId:o.id},error:Object(k.a)(n)})}for(const o of e)this.debugLogger.log({from:X,type:"deleteTasksDeleteTask",level:"debug",data:{message:"delete task ".concat(o.id),taskId:o.id}}),this.tasks.delete(o.id);return Promise.resolve()}getWaitable(e){return this.waiter&&!e?this.waiter:(this.waiter=new v.a,this.waiter)}async wait(e,t){await this.getWaitable(!1).wait(e,t),this.getWaitable(!0)}startSyncing(){g.a.setState({...g.a.state,syncing:!0})}doneSyncing(){g.a.setState({...g.a.state,syncing:!1})}async healthcheckLoop(){for(;;){const e=await this.getTotalNumberOfTasks();e>Y.transactionSizeHealthcheckThreshold&&(this.debugLogger.flush(),b.log({level:"info",from:"InMemoryTransactionQueue",type:"transactionSizeHealthcheck",data:{miscDataToConvertToString:{queueSize:e}}})),await v.h(Y.healthcheckInterval)}}}Y.maxLoopDelay=2*y.e,Y.minLoopDelay=1*y.e,Y.healthcheckInterval=15*y.d,Y.transactionSizeHealthcheckThreshold=1e3;var H=Y;n.d(t,"transactionQueue",(function(){return G})),n.d(t,"setupTransactionQueue",(function(){return Z}));class q{constructor(e,t){this.getActiveQueueName=e,this.createQueues=t}getQueues(){const e=this.queues?this.queues:this.createQueues();return this.queues=e,e}applyToAllQueues(e){return Object.values(this.getQueues()).map(e)}applyToActiveQueue(e){return e(this.getQueues()[this.getActiveQueueName()])}startLoop(){this.applyToAllQueues(e=>e.startLoop())}enqueueTask(e){return this.applyToActiveQueue(t=>t.enqueueTask(e))}unpause(){this.applyToAllQueues(e=>e.unpause())}pause(){this.applyToAllQueues(e=>e.pause())}getLastTaskTimestamp(){return this.applyToActiveQueue(e=>e.getLastTaskTimestamp())}hasTasks(){return this.applyToAllQueues(e=>e.hasTasks()).some(Boolean)}async hasTasksForUser(e){return(await Promise.all(this.applyToAllQueues(t=>t.hasTasksForUser(e)))).some(e=>e)}updateEnvironment(e){this.applyToAllQueues(t=>t.updateEnvironment(e))}async anySessionHasTasks(){for(const e of this.applyToAllQueues(e=>e.anySessionHasTasks()))if(await e)return!0;return!1}async getTotalNumberOfTasks(){return r.a.sum(await Promise.all(this.applyToAllQueues(e=>e.getTotalNumberOfTasks())))}async drain(){await Promise.all(this.applyToAllQueues(e=>e.drain()))}awaitRecordTransaction(e){return this.applyToActiveQueue(t=>t.awaitRecordTransaction(e))}isPendingTransactionForRecord(e){return this.applyToAllQueues(t=>t.isPendingTransactionForRecord(e)).some(Boolean)}async reset(){await Promise.all(this.applyToAllQueues(e=>e.reset()))}async clearForUser(e){await Promise.all(this.applyToAllQueues(t=>t.clearForUser(e)))}}async function W(e){async function t(){const t=await async function(e){if(!window.indexedDB)return{available:!1,message:"The IndexedDB API is missing or disabled on this platform."};if(e.device.isFirefox){const e="FirefoxFeatureCheck";if(!(await new Promise(t=>{const n=window.indexedDB.open(e);n.onerror=()=>t(!1),n.onsuccess=()=>{t(!0),window.indexedDB.deleteDatabase(e)}})))return{available:!1,message:"IndexedDB is disabled in Firefox Private Browsing."}}return{available:!0}}(e);if(!t.available)return b.log({from:"FeatureFlagTransactionQueue",level:"warning",type:"preferIndexedDBUnavailable",data:{message:t.message}}),o();b.log({from:"FeatureFlagTransactionQueue",type:"preferIndexedDB",level:"info"});const n=await Object(V.t)();if(n&&!Object(V.u)(n)){const t=new z(e);let o=!1;try{o=await t.anySessionHasTasks(),b.log({from:"FeatureFlagTransactionQueue",type:"indexedDBStorageVeryFull",level:"warning",data:{storage:{hasTasks:o,...n}}})}catch(a){b.log({from:"FeatureFlagTransactionQueue",level:"error",type:"indexedDBStorageReadError",data:{storage:n},error:Object(k.a)(a)})}return o?t:new H(e)}if(e.device.isFirefox){const t=new z(e);try{const n=await t.checkObjectStores(),o=r.a.compact([n.transaction,n.session].map(e=>e.error));if(o.length>0){const t=[];return n.transaction.error&&t.push("Transaction"),n.session.error&&t.push("Session"),b.log({from:"FeatureFlagTransactionQueue",level:"error",type:"FirefoxHealthCheckFailed",error:{miscErrorString:Object(k.c)(o)},data:{message:"Can't read ".concat(t,". Using InMemoryTransactionQueue instead.")}}),new H(e)}return t}catch(a){return b.log({from:"FeatureFlagTransactionQueue",level:"error",type:"indexedDBHealthCheckError",error:Object(k.a)(a)}),new H(e)}}return new z(e)}function o(){return b.log({from:"FeatureFlagTransactionQueue",type:"preferInMemory",level:"info"}),new H(e)}const{device:a,reactNative:i}=e;if(a.isBrowser&&a.isDesktop)return a.isSafari||a.isChrome||a.isFirefox?t():o();if(a.isBrowser&&a.isMobile)return o();if(a.isElectron)return t();if(a.isReactNative&&i){if(i.sqliteConnection){const{default:t}=await Promise.resolve().then(n.bind(null,"u8ur"));return new t(i.sqliteConnection,e)}return new q(()=>"ReactNativeLegacy",()=>({ReactNativeLegacy:new M(e)}))}return o()}let G=new q(()=>"error",()=>{throw new Error("Need to await setupTransactionQueue")});const Z=async e=>(G=await W(e),G)},dsG5:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"f",(function(){return E})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return I})),n.d(t,"e",(function(){return P}));n("UxlC");var o=n("bkwR"),r=n("+9FD"),a=n.n(r),i=n("f6Xh"),s=n("N34Z"),l=n("H4VD"),c=n("MBf9"),d=n("5w/s"),u=n("cBa6"),p=n("Fo9m"),h=n("p+Y9"),m=n("vX3W"),f=n("F1uM"),g=n("A9TN"),b=n("3k5a"),v=n("w5u6"),y=n("p0Uu"),S=n("BRCg"),w=n("622O"),k=n("CARr"),C=n("udrG");function M(e){const{environment:t,files:n,inMemoryRecordCache:o,transaction:r,pageWidth:a}=e;return n.map(e=>{if(!e.type||0!==e.type.indexOf("image")&&0!==e.type.indexOf("video")&&0!==e.type.indexOf("audio")||e.type.includes("photoshop")){const n=s.a({environment:t,type:"file",inMemoryRecordCache:o,transaction:r});return r.postSubmitCallbacks.push(o=>{o||p.b({environment:t,store:n,file:e})}),n}{const n=s.a({environment:t,type:"embed",inMemoryRecordCache:o,transaction:r});return r.postSubmitCallbacks.push(o=>{o||E({environment:t,store:n,file:e,pageWidth:a,preferredType:void 0})}),n}})}function E(e){const{environment:t,store:n,file:o,pageWidth:r,preferredType:i}=e,s=S.default.getBlockKey(n.id);m.a(),h.e({environment:t,file:o,bucket:"secure",record:n.pointer,onStart:e=>{if(S.default.setKeyState(s,{progressPercent:0,file:o,name:e.name,size:e.size}),o.type.indexOf("image")>=0&&!Object(f.g)(e.name,"tiff")&&!Object(f.g)(e.name,"tif"))a()(o,e=>{const o=S.default.getKeyState(s);o&&e.toDataURL&&S.default.setKeyState(s,{...o,dataURL:e.toDataURL("image/jpeg",O)});const{width:a,height:i}=e;T(t,{store:n,width:a,height:i,scale:!0,type:"image",pageWidth:r}),t.device.isMobile&&v.default.afterNextFlush(()=>{y.a.PageScroller&&y.a.PageScroller.scrollerHack()})},{canvas:!0,orientation:!0});else{const e=Object(f.c)({url:o.name||"",baseUrl:g.default.baseURL,preferredType:i});T(t,{store:n,width:r,type:e,pageWidth:r})}},onProgress:e=>{const t=S.default.getKeyState(s);t&&S.default.setKeyState(s,{...t,progressPercent:e.progressPercent})},onComplete:async e=>{const o=S.default.getKeyState(s);if(o){const a=Boolean(o.dataURL);await _(t,{source:e,store:n,isDataURL:a,pageWidth:r,preferredType:i}),S.default.setKeyState(s,void 0)}},onError:()=>{S.default.setKeyState(s,void 0)}})}async function _(e,t){const{store:n,source:r,isDataURL:a,pageWidth:l,preferredType:u}=t;let p=a?"image":Object(f.c)({url:r,baseUrl:g.default.baseURL,preferredType:u});const h=B(p,r),{properties:m,type:b,format:v}=await Object(f.d)({source:h,type:p,isDataURL:a,pageWidth:l,getEmbedData:async t=>{const n=await o.getGenericEmbedBlockData(e,t);return"failed"===n.type?void console.error(n.error):n.data}});if(p=b,p===C.a.bookmark){const t=n;return void(await Object(i.a)({environment:e,store:t,url:h,transformTimeout:0}))}const y=c.create(e);s.d({store:n.getPropertiesStore(),data:{...m||{}},transaction:y}),d.h({stores:[n],update:v,transaction:y}),s.d({store:n,data:{type:p},transaction:y}),await c.commit({environment:e,transaction:y})}function T(e,{store:t,...n}){const o=c.create(e);d.h({stores:[t],update:Object(f.e)(n),transaction:o}),c.commit({environment:e,transaction:o})}async function x(e,t){const{store:n}=t,o=n.getProperties();if(o){const r=n.getType()===C.a.bookmark?o.link:o.source,a=k.v(r),i=u.Y(o.title),{display_source:s}=n.getFormat(),c=a||s;let d;c&&(d=w.d({title:i,source:c})),c&&await l.openFileUrl(e,{url:c,downloadName:d,permissionRecord:t.store.pointer})}}async function I(e){const{store:t,environment:n}=e,o=t.getProperties();if(o){const e=k.v(o.source),r=u.Y(o.title),{display_source:a}=t.getFormat(),i=e||a;let s;i&&(s=w.d({title:r,source:i})),i&&await l.downloadFileUrl(n,{url:i,download:!0,downloadName:s,permissionRecord:t.pointer})}}const P=e=>{const{store:t}=e,n=b.a.findBlockFromStoreWithMethod(t,"replace");n&&n.replace()},O=.92,B=function(e,t){return"maps"===e?/^https?:\/\//i.test(t)?t:"https://maps.google.com/maps/search/".concat(encodeURIComponent(t)):Object(f.l)(t)}},du8U:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},e28A:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={invalid_request:"invalid_request",unauthorized_client:"unauthorized_client",access_denied:"access_denied",unsupported_response_type:"unsupported_response_type",invalid_scope:"invalid_scope",server_error:"server_error",temporarily_unavailable:"temporarily_unavailable"}},eP9w:function(e,t,n){"use strict"},enKW:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var o=n("YUnZ"),r=n.n(o);const a=(e=1)=>"rgba(84, 70, 35, ".concat(e,")"),i={frontDesktopChromeHairline:"rgba(255, 255, 255, 0.5) 0px 0px 0px 1px",frontMediumShadow:"0 2px 8px ".concat(a(.15),", 0 1px 3px ").concat(a(.15)),frontDeepShadow:"0 6px 20px ".concat(a(.3)),frontInputShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset",frontImageFilterDropShadow:"drop-shadow(rgba(84, 70, 35, 0.3) 0px 6px 20px)",frontImageSmallFilterDropShadow:"drop-shadow(rgba(84, 70, 35, 0.3) 0px 3px 10px)"};t.a=i;const s={light:r()("rgb(15, 15, 15)"),dark:r()("rgb(15, 15, 15)")},l={shadowColor:{light:s.light,dark:s.dark},shadowOpacity:{light:.1,dark:.2},lightBoxShadow:{light:c({elevation:2,color:s.light,opacity:.1}),dark:c({elevation:2,color:s.dark,opacity:.2})},mediumBoxShadow:{light:c({elevation:3,color:s.light,opacity:.1}),dark:c({elevation:3,color:s.dark,opacity:.2})},bottomActionBarShadow:{light:"0 -1px 0 1px ".concat(s.light.alpha(.05).css(),", 0 -3px 6px ").concat(s.light.alpha(.1).css()),dark:"0 -1px 0 1px ".concat(s.dark.alpha(.05).css(),", 0 -3px 6px ").concat(s.light.alpha(.1).css())},largeBoxShadow:{light:c({elevation:5,color:s.light,opacity:.1}),dark:c({elevation:5,color:s.dark,opacity:.2})},buttonBoxShadow:{light:"inset 0 0 0 1px ".concat(s.light.alpha(.1).css(),", 0 1px 2px ").concat(s.light.alpha(.1).css()),dark:"inset 0 0 0 1px ".concat(s.dark.alpha(.2).css(),", 0 1px 2px ").concat(s.dark.alpha(.1).css())},timelineTableBoxShadow:{light:"0 0 8px 0 ".concat(s.light.alpha(.03).css()),dark:"0 0 8px 0 ".concat(s.dark.alpha(.03).css())},plainButtonBoxShadow:{light:"0 0 0 1px ".concat(s.light.alpha(.1).css()),dark:"0 0 0 1px rgba(255,255,255,0.1)"},elevatedButtonBoxShadow:{light:"inset 0 0 0 1px ".concat(s.light.alpha(.15).css(),", 0 2px 4px ").concat(s.light.alpha(.07).css()),dark:"inset 0 0 0 1px ".concat(s.dark.alpha(.2).css(),", 0 2px 4px ").concat(s.dark.alpha(.1).css())},borderBoxShadow:{light:"0 0 0 1px ".concat(s.light.alpha(.1).css()),dark:"0 0 0 1px ".concat(s.dark.alpha(.2).css())},innerBorderBoxShadow:{light:"inset 0 0 0 1px ".concat(s.light.alpha(.1).css()),dark:"inset 0 0 0 1px ".concat(s.dark.alpha(.2).css())},avatarBoxShadow:{light:"0 2px 4px rgba(15, 15, 15, 0.1)",dark:"0 2px 4px rgba(15, 15, 15, 0.2)"},inputBoxShadow:{light:c({elevation:1,color:s.light,opacity:.1,inner:!0}),dark:c({elevation:1,color:s.dark,opacity:.2,inner:!0})},sidebarResizerBoxShadow:{light:"inset -2px 0px 0px 0px rgba(0, 0, 0, 0.1)",dark:"inset -2px 0px 0px 0px rgba(255, 255, 255, 0.1)"},topbarAndroidShadow:{light:"\n\t\t\trgba(15, 15, 15, 0.1) 0px 2px 4px,\n\t\t\trgba(15, 15, 15, 0.15) 0px 2px 8px\n\t\t",dark:"\n\t\t\trgba(15, 15, 15, 0.2) 0px 2px 4px,\n\t\t\trgba(15, 15, 15, 0.3) 0px 2px 8px\n\t\t"},topbarAndroidShadowCollapsed:{light:"\n\t\t\trgba(15, 15, 15, 0.1) 0px 1px 0px,\n\t\t\ttransparent 0px 0px 0px\n\t\t",dark:"\n\t\t\trgba(15, 15, 15, 0.2) 0px 1px 0px,\n\t\t\ttransparent 0px 0px 0px\n\t\t"}};function c({elevation:e,color:t=r.a.hsl(0,.01,.07),opacity:n=.1,inner:o=!1}){const a=o?"inset":"";switch(e){case 1:return"\n\t\t\t\t\t".concat(a," 0 0 0 1px ").concat(t.alpha(n).css(),"\n\t\t\t\t");case 2:return"\n\t\t\t\t\t".concat(a," 0 0 0 1px ").concat(t.alpha(n).css(),",\n\t\t\t\t\t").concat(a," 0 2px 4px ").concat(t.alpha(n).css(),"\n\t\t\t\t");default:return"\n\t\t\t\t\t".concat(a," 0 0 0 1px ").concat(t.alpha(n/2).css(),",\n\t\t\t\t\t").concat(a," 0 ").concat(1*e,"px ").concat(2*e,"px ").concat(t.alpha(n).css(),",\n\t\t\t\t\t").concat(a," 0 ").concat(3*e,"px ").concat(8*e,"px ").concat(t.alpha(2*n).css(),"\n\t\t\t\t")}}},ezkE:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"k",(function(){return S})),n.d(t,"a",(function(){return w})),n.d(t,"f",(function(){return k})),n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return M})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return T})),n.d(t,"j",(function(){return x})),n.d(t,"e",(function(){return I}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("922z"),i=n("HRSx"),s=n("6SEd"),l=n("NoAG"),c=n("8L2b"),d=n("FUUC"),u=n("JU1L"),p=n("d2j2"),h=n("VpIZ"),m=n("z22Z"),f=n("V1wX"),g=n("3JF5"),b=n("Mkmb");n("udrG");function v(e,t){return Array.from(function*(e,t){let n=e;const o=new Set;for(;n;){const e=Object(u.b)(n);if(o.has(e))break;o.add(e);const r=t(n);r&&(yield{table:n.table,value:r}),n=r&&Object(p.b)(r)?{table:r.parent_table,id:r.parent_id,spaceId:Object(p.c)(r.parent_table)&&"space_id"in r?r.space_id:void 0}:void 0}}(e,t))}async function y(e,t){const n=[];for await(const o of async function*(e,t){let n=e;const o=new Set;for(;n;){const e=Object(u.b)(n);if(o.has(e))break;o.add(e);const r=await t(n);r&&(yield{table:n.table,value:r}),n=r&&Object(p.b)(r)?{table:r.parent_table,id:r.parent_id,spaceId:Object(p.c)(r.parent_table)&&"space_id"in r?r.space_id:void 0}:void 0}}(e,t))n.push(o);return n}function S(e){return void 0===function(e){return r.a.find(e,e=>!function(e){if(e.table!==i.a&&e.table!==s.a&&e.table!==l.a&&e.table!==c.a||!e.value)return!0;{const t=e.value;return Boolean(t.parent_id&&t.alive)}}(e))}(e)}function w(e){return e.filter(e=>{if(e.table===i.a){const t=e.value;if(t&&h.z(t))return!0}return!1}).map(e=>e.value)}function k(e){const t=e.find(p.a.isSpaceRecordWithTable);return t&&t.value}function C(e,t){return w(v(e,t))}function M(e,t){return v(e,a.c.fromRecordMapWithRole(t))}const E=function(e){return Boolean(_(e))},_=function(e){return e.find(e=>{if(e.table===d.a){const t=e.value;return Boolean(t&&Object(b.c)(t))}if(e.table===i.a){const t=e.value;return(t&&t.permissions||[]).some(m.h)}return!1})};function T(e,t){return I(e).some(e=>{if(e.table===i.a){const n=e.value;return(n&&n.permissions||[]).some(e=>{if(Object(m.m)(e)&&Object(m.l)(e.role))return!1;if(Object(f.f)(t)){const n=t.value;if(Object(m.q)(e))return e.user_id===n.id}else if(Object(f.e)(t)){const n=t.value;if(Object(g.d)(n)){if(Object(m.q)(e))return e.user_id===n.parent_id}else if(Object(m.g)(e))return e.bot_id===n.id}return!1})}return!1})}const x=function(e){return I(e).some(e=>{if(e.table===i.a){return(e.value.permissions||[]).some(e=>"public_permission"===e.type&&Object(m.d)(e.role))}return!1})};function I(e){const t=[];for(const n of e)if(t.push(n),n.table===i.a){const e=n.value;if((e&&e.permissions||[]).some(m.o))break}return t}},"f/Q2":function(e,t,n){"use strict";var o=n("yjqD");t.a=class{constructor(e){this.queue=[],this.currentWorkers=0,this.currentSetTimeouts=0,this.dequeue=async()=>{if(this.currentSetTimeouts=0,this.currentWorkers>=this.maxWorkers||0===this.queue.length)return;this.currentWorkers++;const e=this.queue.splice(0,this.batchSize),t=e.map(e=>e.request);let n,r;try{if(this.requestTimeoutMs){const e=await o.e(this.requestTimeoutMs,[this.performRequests(t)]);if(e.timeout)throw new Error("Timed out.");n=e.result}else n=await this.performRequests(t)}catch(a){r=a}try{if(r)for(let t=0;t<e.length;t++){e[t].deferred.reject(r)}else if(n)for(let t=0;t<e.length;t++){const o=e[t],r=n[t];o.deferred.resolve(r)}}catch(a){}this.currentWorkers--,this.queue.length>=this.batchSize?this.dequeue():this.dequeueAfterTimeout()};const{performRequests:t,batchSize:n,maxWorkers:r,requestDelayMs:a,requestTimeoutMs:i}=e;this.performRequests=t,this.batchSize=n,this.maxWorkers=r,this.requestDelayMs=a||0,this.requestTimeoutMs=i}getQueueSize(){return this.queue.length}updateBatchSize(e){this.batchSize=e}updateRequestDelayMs(e){this.requestDelayMs=e}updateMaxWorkers(e){this.maxWorkers=e,this.dequeueAfterTimeout()}enqueue(e){const t=o.c();return this.queue.push({request:e,deferred:t}),this.dequeueAfterTimeout(),t.promise}dequeueAfterTimeout(){this.currentSetTimeouts<this.maxWorkers&&(this.currentSetTimeouts++,setTimeout(this.dequeue,this.requestDelayMs))}}},f0kS:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("5/h/"),s=n("SR/M"),l=n("gbGO"),c=n("58VE");class d extends a.a{renderComponent(){const{user:e}=this.props;return r.a.createElement(s.a,Object.assign({},this.props,{icon:r.a.createElement(c.a,{userValue:e,size:this.environment.device.isMobile?24:20}),title:Object(i.e)(e),className:"notranslate"}))}}d.contextTypes=l.c,t.a=d},f5oV:function(e,t,n){"use strict";n.r(t),n.d(t,"setupTransactionLoadGenerator",(function(){return l}));var o=n("QcDD"),r=n("DNgp"),a=n("MBf9"),i=n("Ajfl"),s=n("ddTe");function l(e){Object(s.exposeDebugValue)("generateTransactionLoad",(function(t=500,n=1,s=0){const l=o.default.state.currentBlockStore;if(!l)return void console.info("Cannot generateTransactionLoad: No current block");const c=l.getTitleStore();if(!c)return void console.info("Cannot generateTransactionLoad: block has no title");if("editing"!==r.default.state.mode)return void console.info("not editing anything. Click the page title.");const d=t=>{a.createAndCommit(e,o=>{console.info("createAndCommit #",t);for(let r=0;r<n;r++){const n="This is transaction #".concat(t+1,", op ").concat(r+1,", of load started at ").concat(u);i.c({environment:e,store:c,newValue:n,disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:o})}})},u=new Date;if(0===s)for(let e=0;e<t;e++)d(e);else{let e=0;const n=setInterval(()=>{e<t?(d(e),e++):clearInterval(n)},s)}}))}},f6Xh:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("N34Z"),r=n("MBf9"),a=n("cBa6"),i=n("bkwR"),s=n("yjqD"),l=n("udrG");async function c(e){const{store:t,url:n,environment:c}=e,d=void 0!==e.transformTimeout?e.transformTimeout:3e3,u=r.create(c);o.d({store:t.getPropertiesStore(),data:{link:a.m(n),title:a.m(n)},transaction:u});const{winner:p,rest:h}=await s.d([r.commit({environment:c,transaction:u}),s.h(d)]);1===p&&(await async function(e,t){const n=r.create(e);o.d({store:t,data:{type:l.a.bookmark},transaction:n}),await r.commit({environment:e,transaction:n})}(c,t),await h),await i.setBookmarkMetadata(c,{blockId:t.id,url:n})}},fB7H:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("D2XV"),i=n("wldR"),s=n("LeVO"),l=n("O+wX"),c=n("mF3+"),d=n("nFzZ"),u=n("zmp8"),p=n("J9+s"),h=n("T8dS");class m extends i.a{willMountOrUpdate(){this.createReminderTimer()}willUnmount(){this.clearReminderTimer()}createReminderTimer(){const e=this.props.value;if(!e)return;const t=a.Q(e,a.m);if(!t)return;const n=t.valueOf(),o=n-Date.now();o<0||o>d.a||this.reminderTimer&&this.reminderTimer.timestamp===n||(this.reminderTimer&&clearTimeout(this.reminderTimer.timer),this.reminderTimer={timestamp:n,timer:setTimeout(this.enqueueForceUpdate,o)})}clearReminderTimer(){this.reminderTimer&&(clearTimeout(this.reminderTimer.timer),this.reminderTimer=void 0)}renderComponent(){const e=this.props.value;if(!e)return;const t=a.K(e,a.m);let n;if(e.reminder){const t=a.ab(e,a.m);n=t?{color:u.g.red}:{color:u.g.blue}}return r.a.createElement(s.a,{renderTooltip:()=>"".concat(this.getTooltipFormattedTime(t.start)).concat(t.end?" → ".concat(this.getTooltipFormattedTime(t.end)):""),render:t=>r.a.createElement("div",Object.assign({style:{...this.props.style,...n}},t),Object(l.a)({value:e,date_format:this.props.dateFormat,time_format:this.props.timeFormat,userTimeZone:a.m,allowRelativeDates:!0,intl:this.props.intl}),e.reminder&&c.a.alarmClock({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}))})}getTooltipFormattedTime(e){return e.locale(h.a).format("lll")}}t.a=Object(p.injectIntl)(m)},fCO4:function(e,t,n){"use strict";n("3bBZ");var o=n("wldR");class r extends o.a{constructor(){super(...arguments),this.handleTouchStart=e=>{this.touchX=e.touches[0].clientX},this.handleTouchMove=e=>{if(void 0===this.touchX)return;const t=this.props.threshold||120,n=this.touchX-e.touches[0].clientX;n>t&&this.props.onSwipeLeft&&(this.props.onSwipeLeft(),this.touchX=void 0),n<-1*t&&this.props.onSwipeRight&&(this.props.onSwipeRight(),this.touchX=void 0)},this.handleTouchEnd=()=>{this.touchX=void 0},this.handleTouchCancel=()=>{this.touchX=void 0}}renderComponent(){return this.props.render({onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel})}}t.a=r},fHgN:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("g90h");var l=n("wldR"),c=n("w5u6"),d=n("8dfn"),u=n("zgcg"),p=n("LvDl"),h=n.n(p);class m extends l.a{constructor(){super(...arguments),this.overlayId=Object(s.b)()}willMount(){this.props.open&&this.addToContainer()}willUpdate(e){this.props.open&&!e.open?this.removeFromContainer():!this.props.open&&e.open&&this.addToContainer()}willUnmount(){super.willUnmount(),c.default.afterNextFlush(()=>{this.removeFromContainer()})}shouldComponentUpdate(e){return!0}renderComponent(){return r.a.createElement(r.a.Fragment,null,this.props.origin,this.props.open&&this.renderPortal())}renderPortal(){const e=this.getOverlayContainerStore().containerDomNode.get();if(e)return i.a.createPortal(this.renderOverlay(),e)}renderOverlay(){return r.a.createElement("div",Object.assign({},v,{style:this.getOverlayStyle()}),this.props.render())}addToContainer(){const e=this.getOverlayContainerStore();!function(e){const{key:t,overlayContainerStore:n}=e;n.state.overlays.has(t)||(n.state.overlays.add(t),n.emit())}({key:this.overlayId,overlayContainerStore:e})}removeFromContainer(){const e=this.getOverlayContainerStore();!function(e){const{key:t,overlayContainerStore:n}=e;n.state.overlays.has(t)&&(n.state.overlays.delete(t),n.emit())}({key:this.overlayId,overlayContainerStore:e})}getOverlayContainerStore(){return this.props.overlayContainerStore||d.a}getOverlayStyle(){const e=this.getOverlayContainerStore();let t=this.props.zIndex;if(!h.a.isNumber(t)){t=Array.from(e.state.overlays).findIndex(e=>e===this.overlayId)}const n={pointerEvents:"auto",position:"relative",zIndex:t};return this.props.useCompositeLayer&&(n.transform="translate3d(0, 0, 0)"),n}}m.contextTypes=u.a;const f={eventPhase:Event.BUBBLING_PHASE,currentTarget:window},g={CustomEvent:!0,Event:!0,FocusEvent:!0,KeyboardEvent:!0,MouseEvent:!0,PointerEvent:!0,WheelEvent:!0,TouchEvent:!0},b=e=>{const t=e.nativeEvent;if(!t||!t.constructor)return;const n=t.constructor.name||{}.toString.call(t.constructor).slice(8,-1);if(g[n])try{const n=new t.constructor(t.type,t);for(const e in t)"isTrusted"!==e&&"function"!=typeof t[e]&&Object.defineProperty(n,e,{writable:!1,value:f[e]||t[e]});e.stopPropagation(),window.dispatchEvent(n)}catch(o){}},v={onCopy:void 0,onCopyCapture:void 0,onCut:void 0,onCutCapture:void 0,onPaste:void 0,onPasteCapture:void 0,onCompositionEnd:void 0,onCompositionEndCapture:void 0,onCompositionStart:void 0,onCompositionStartCapture:void 0,onCompositionUpdate:void 0,onCompositionUpdateCapture:void 0,onFocus:void 0,onFocusCapture:void 0,onBlur:void 0,onBlurCapture:void 0,onChange:void 0,onChangeCapture:void 0,onBeforeInput:void 0,onBeforeInputCapture:void 0,onInput:void 0,onInputCapture:void 0,onReset:void 0,onResetCapture:void 0,onSubmit:void 0,onSubmitCapture:void 0,onInvalid:void 0,onInvalidCapture:void 0,onLoad:void 0,onLoadCapture:void 0,onError:void 0,onErrorCapture:void 0,onKeyDown:void 0,onKeyDownCapture:void 0,onKeyPress:void 0,onKeyPressCapture:void 0,onKeyUp:void 0,onKeyUpCapture:void 0,onAbort:void 0,onAbortCapture:void 0,onCanPlay:void 0,onCanPlayCapture:void 0,onCanPlayThrough:void 0,onCanPlayThroughCapture:void 0,onDurationChange:void 0,onDurationChangeCapture:void 0,onEmptied:void 0,onEmptiedCapture:void 0,onEncrypted:void 0,onEncryptedCapture:void 0,onEnded:void 0,onEndedCapture:void 0,onLoadedData:void 0,onLoadedDataCapture:void 0,onLoadedMetadata:void 0,onLoadedMetadataCapture:void 0,onLoadStart:void 0,onLoadStartCapture:void 0,onPause:void 0,onPauseCapture:void 0,onPlay:void 0,onPlayCapture:void 0,onPlaying:void 0,onPlayingCapture:void 0,onProgress:void 0,onProgressCapture:void 0,onRateChange:void 0,onRateChangeCapture:void 0,onSeeked:void 0,onSeekedCapture:void 0,onSeeking:void 0,onSeekingCapture:void 0,onStalled:void 0,onStalledCapture:void 0,onSuspend:void 0,onSuspendCapture:void 0,onTimeUpdate:void 0,onTimeUpdateCapture:void 0,onVolumeChange:void 0,onVolumeChangeCapture:void 0,onWaiting:void 0,onWaitingCapture:void 0,onAuxClick:b,onAuxClickCapture:void 0,onClick:b,onClickCapture:void 0,onContextMenu:b,onContextMenuCapture:void 0,onDoubleClick:b,onDoubleClickCapture:void 0,onDrag:b,onDragCapture:void 0,onDragEnd:b,onDragEndCapture:void 0,onDragEnter:b,onDragEnterCapture:void 0,onDragExit:b,onDragExitCapture:void 0,onDragLeave:b,onDragLeaveCapture:void 0,onDragOver:b,onDragOverCapture:void 0,onDragStart:b,onDragStartCapture:void 0,onDrop:b,onDropCapture:void 0,onMouseDown:b,onMouseDownCapture:void 0,onMouseEnter:b,onMouseLeave:b,onMouseMove:b,onMouseMoveCapture:void 0,onMouseOut:b,onMouseOutCapture:void 0,onMouseOver:b,onMouseOverCapture:void 0,onMouseUp:b,onMouseUpCapture:void 0,onSelect:void 0,onSelectCapture:void 0,onTouchCancel:b,onTouchCancelCapture:void 0,onTouchEnd:b,onTouchEndCapture:void 0,onTouchMove:b,onTouchMoveCapture:void 0,onTouchStart:b,onTouchStartCapture:void 0,onPointerDown:b,onPointerDownCapture:void 0,onPointerMove:b,onPointerMoveCapture:void 0,onPointerUp:b,onPointerUpCapture:void 0,onPointerCancel:b,onPointerCancelCapture:void 0,onPointerEnter:b,onPointerLeave:b,onPointerOver:b,onPointerOverCapture:void 0,onPointerOut:b,onPointerOutCapture:void 0,onGotPointerCapture:b,onGotPointerCaptureCapture:void 0,onLostPointerCapture:b,onLostPointerCaptureCapture:void 0,onScroll:void 0,onScrollCapture:void 0,onWheel:void 0,onWheelCapture:void 0,onAnimationStart:void 0,onAnimationStartCapture:void 0,onAnimationEnd:void 0,onAnimationEndCapture:void 0,onAnimationIteration:void 0,onAnimationIterationCapture:void 0,onTransitionEnd:void 0,onTransitionEndCapture:void 0};t.a=m},fIr1:function(e,t,n){"use strict";t.a={UUID:"UUID",String:"String",Number:"Number",Boolean:"Boolean",StringArray:"StringArray",JSON:"JSON",XML:"XML",UUIDArray:"UUIDArray"}},fJHT:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("KAy6"),l=n.n(s),c=n("i8i4"),d=n.n(c),u=n("cBa6"),p=n("aZ00"),h=n("Ajfl"),m=n("EszA"),f=n("TM4X"),g=n("udrG"),b=n("wpmu"),v=n("y6Dp"),y=n("jZoB"),S=n("N34Z"),w=n("6rsX"),k=n("nM47"),C=n("unoy"),M=n("X6Ne"),E=n("VpIZ"),_=n("DNgp"),T=n("w5u6"),x=n("1P/O"),I=n("EarS"),P=n("HRSx"),O=n("wllP");function B(e){const{environment:t,store:n,selection:o}=e;k.j(t)&&(Object(O.d)(n)?function(e){const{environment:t,store:n,transaction:o}=e;let r=e.selection;const a=Object(O.c)(n);if(!a||a.isCollectionView())return;h.f({environment:t,store:n,selection:r,transaction:o});const i=_.default.state;r="editing"===i.mode?i.selection:r;const s=h.e({environment:t,store:n,selection:r,transaction:o}),l=S.a({environment:t,type:g.a.text,inMemoryRecordCache:n.inMemoryRecordCache,transaction:o}),c=y.d({parent:a.getContentStore(),prepend:l,transaction:o}).child;w.f({environment:t,store:c});const d=c.getBlockTitleStore();h.k({environment:t,store:d,selection:{startIndex:0,endIndex:0},deleteAfterSelectionResult:s,transaction:o}),C.o({store:d}),v.fb(t,{from:"text_enter",type:g.a.text})}(e):function(e){const t=e.recordStoreParent();return t instanceof b.a&&e&&E.o(t.getValue())&&0===u.Y(t.getTitleValue()).length}(n)?function(e){f.a(e)}(e):function(e){return 0===e.startIndex&&0===e.endIndex}(o)&&R(n)&&D(n)?function(e){const{environment:t,store:n,transaction:o}=e,r=Object(O.c)(n);if(!r)return;const a=r.getValue(),i=Object(O.c)(r);if(!a||!i)return;const s=S.a({environment:t,type:a.type,inMemoryRecordCache:n.inMemoryRecordCache,transaction:o}),l={...a,id:s.id,ignore_block_count:void 0};S.c({store:s,value:l,transaction:o});const c=y.b({parent:i.getContentStore(),after:r,insert:s,transaction:o}).child;if(R(n)&&r){const e=r.getContentStores(),t=r.getContentStore(),n=s.getContentStore();for(const r of e)y.e({parent:t,remove:r,transaction:o}),y.a({parent:n,append:r,transaction:o})}const d={id:a.id,version:a.version,type:g.a.text,parent_id:a.parent_id,parent_table:a.parent_table,alive:!0};S.c({store:r,value:d,transaction:o}),a.type===g.a.toggle&&I.d({blockId:s.id,state:x.a.isOpen(r.id),currentUserId:t.currentUser.id}),w.f({environment:t,store:c});const u=Object(O.a)(c);u&&C.o({store:u}),v.fb(t,{from:"text_enter",type:g.a.text}),t.device.isMobile&&T.default.afterNextFlush(()=>M.a(t))}(e):function(e){const{environment:t,store:n,transaction:o}=e;let r=e.selection;const a=Object(O.c)(n);if(!a)return;const i=Object(O.c)(a);if(!i)return;h.f({environment:t,store:n,selection:r,transaction:o});const s=_.default.state;r="editing"===s.mode?s.selection:r;const l=h.e({environment:t,store:n,selection:r,transaction:o}),c=a?a.getType():null,d=a?a.getValue():null;let u;if(a&&c===g.a.toggle&&x.a.isOpen(a.id))u=g.a.text;else if(d&&d.content&&d.content.length>0&&P.k[d.type]){u=g.a.text;const e=a.getContentStores()[0];if(e){const t=e.getValue();t&&P.k[t.type]&&(u=t.type)}}else u=d&&c&&!E.E(d)&&R(n)&&D(n)&&"code"!==c?c:g.a.text;const p=S.a({environment:t,type:u,inMemoryRecordCache:n.inMemoryRecordCache,transaction:o}),m=i.getContentIds()||[];let f,b=!1;if(a&&c===g.a.toggle&&x.a.isOpen(a.id)){const e=a.getContentStore();b=!0,f=y.d({parent:e,prepend:p,transaction:o})}else if(a&&d&&d.content&&d.content.length>0&&P.k[d.type]){const e=a.getContentStore();b=!0,f=y.d({parent:e,prepend:p,transaction:o})}else f=a&&m.indexOf(a.id)>=0?y.b({parent:i.getContentStore(),after:a,insert:p,transaction:o}):y.d({parent:i.getContentStore(),prepend:p,transaction:o});const k=f.child;if(R(n)&&c&&!b&&!L[c]&&a){const e=a.getContentStores(),t=a.getContentStore(),n=k.getContentStore();for(const r of e)y.e({parent:t,remove:r,transaction:o}),y.a({parent:n,append:r,transaction:o})}w.f({environment:t,store:k});const M=k.getBlockTitleStore();h.k({environment:t,store:M,selection:{startIndex:0,endIndex:0},deleteAfterSelectionResult:l,transaction:o}),C.o({store:M}),v.fb(t,{from:"text_enter",type:u})}(e),t.device.isMobile||T.default.afterNextFlush(()=>{M.d()}))}const L={[g.a.toggle]:!0};function R(e){if(e.table===P.a){const t=b.a.createChildStore(e,{table:P.a,id:e.id}).getValue();return t&&!Object(E.z)(t)}return!1}function D(e){if(e.table===P.a){const t=b.a.createChildStore(e,{table:P.a,id:e.id}).getValue();return t&&!Object(E.p)(t)&&!E.y(t)}return!1}var A=n("IzPW"),j=n("V9q8"),F=n("wldR"),V=n("5Y2+"),N=n("Mcmf"),U=n("MBf9"),z=n("nFzZ"),X=n("jWHj"),Y=n("D2XV"),H=n("GKeo"),q=n("zmp8"),W=n("BTUg"),G=n("B2+S"),Z=n("xstG"),K=n("2bwL"),J=n("+NSf"),Q=n("J9+s"),$=n("vl8/"),ee=n("tzmq"),te=n("WaiN"),ne=n("ieCD"),oe=n("DyNK"),re=n("Ko2L"),ae=n("y2NV");const ie=Object(Q.defineMessages)({typeTextPlaceholder:{defaultMessage:"Type '/' for commands",id:"text.commandsMenuNotOpen.placeholder"},filterPlaceholder:{defaultMessage:"Type to filter",id:"text.commandsMenuOpen.placeholder"}});class se extends F.a{constructor(){super(...arguments),this.editor=null,this.triggeredAnalytics=!1,this.reminderTimers={},this.renderContentContainer=(e,t)=>i.a.createElement(V.a,Object.assign({ref:e=>{this.editor=e},onBlur:this.props.onBlur,onFocus:this.props.onFocus,style:this.getStyle(),getDisabled:this.getDisabled,spellCheck:!this.canExclusivelyComment(),getHtml:this.getHtml,getSelection:this.getContainerSelection,onMutation:this.handleMutation,onCompositionStart:this.props.onChange,onCompositionEnd:this.props.onChange,onSelect:t,placeholder:this.getCurrentPlaceholder(),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,suppressNewlineEvents:!0},e)),this.handleMutation=e=>{if(Object(ae.b)(1)){const e=J.default.createMetric("typing_lag");T.default.afterNextFlush(()=>{J.default.emit(this.environment,e)})}if(!this.canEditStore.state)return;U.createAndCommit(this.environment,t=>h.c({environment:this.environment,store:this.props.store,newValue:e,disableMentions:Boolean(this.props.disableMentions),disableDateMentions:Boolean(this.props.disableDateMentions),disableDateReminderMentions:Boolean(this.props.disableDateReminderMentions),disableSlashCommands:Boolean(this.props.disableSlashCommands),disableEmojiCommands:Boolean(this.props.disableEmojiCommands),transaction:t}));const{store:t}=this.props;if("block"===t.table){const e=b.a.createChildStore(t,{table:P.a,id:t.id});if(e.getType()){const n=e.getSchema()||{};if("properties"===t.path[0]&&t.path[1]){n[t.path[1]]&&!this.triggeredAnalytics&&(this.triggeredAnalytics=!0)}}}this.props.onChange&&this.props.onChange()},this.handleDelete=e=>{if(!this.canEditStore.state)return;if(this.editor&&this.editor.isComposing)return;const{store:t}=this.props,n=_.default.state;"editing"===n.mode&&U.createAndCommit(this.environment,o=>{f.b({environment:this.environment,store:t,selection:n.selection,deleteForwards:!0,transaction:o,event:e})}),this.flushRenderQueue(),this.props.onChange&&this.props.onChange()},this.handleBackspace=e=>{const t=X.a();if(!this.canEditStore.state||this.editor&&this.editor.isComposing||t.option||t.control||t.command)return;const{store:n}=this.props,o=_.default.state;"editing"===o.mode&&U.createAndCommit(this.environment,t=>{f.b({environment:this.environment,store:n,selection:o.selection,deleteForwards:!1,transaction:t,event:e})}),this.flushRenderQueue(),this.props.onChange&&this.props.onChange()},this.handleEnter=e=>{if(!this.canEditStore.state)return;if(j.i(e),this.editor&&this.editor.isComposing)return;const t=_.default.state;if("editing"===t.mode)if(this.props.onEnter)this.props.onEnter(e);else{const{store:e}=this.props;U.createAndCommit(this.environment,n=>{B({environment:this.environment,store:e,selection:t.selection,transaction:n})}),this.flushRenderQueue()}this.props.onChange&&this.props.onChange()},this.handleShiftEnter=e=>{if(!this.canEditStore.state)return;if(this.props.disableShiftEnter)return;if(this.editor&&this.editor.isComposing)return;const t=_.default.state;if("editing"===t.mode){const{device:n}=this.environment;"shiftKey"in e&&(!e.shiftKey||n.isIOS)?this.handleEnter(e):(U.createAndCommit(this.environment,e=>{h.n({environment:this.environment,store:this.props.store,string:"\n",selection:t.selection,disableMentions:!0,disableDateMentions:!0,disableDateReminderMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:e})}),this.props.onChange&&this.props.onChange())}},this.handleTab=e=>{if(this.canEditStore.state){if(e.preventDefault(),this.props.onTab)this.props.onTab(e);else{const e=Object(O.c)(this.props.store);e&&(U.createAndCommit(this.environment,t=>{h.t({environment:this.environment,store:this.props.store,closestSelectable:e,shiftKey:!1,transaction:t})}),this.flushRenderQueue())}this.props.onChange&&this.props.onChange()}},this.handleUntab=e=>{if(this.canEditStore.state){if(e.preventDefault(),this.props.onUntab)this.props.onUntab(e);else{const e=Object(O.c)(this.props.store);e&&(U.createAndCommit(this.environment,t=>{h.t({environment:this.environment,store:this.props.store,closestSelectable:e,shiftKey:!0,transaction:t})}),this.flushRenderQueue())}this.props.onChange&&this.props.onChange()}},this.handleAnnotation=(e,t)=>{this.canEditStore.state&&(t.preventDefault(),m.a({environment:this.environment,annotation:e}),this.flushRenderQueue(),this.props.onChange&&this.props.onChange(),v.hc(this.environment,{type:u.F(e)}))},this.handleClick=e=>{this.handleClickActions(e),this.props.onClick&&this.props.onClick(e)},this.handleMouseOver=e=>{A.i({environment:this.environment,event:e,textValue:this.getTextValue(),editorNode:this.getEditorNode(),store:this.props.store,parentStore:this.props.parentStore,canEdit:this.canEditStore.state})},this.handleMouseOut=e=>{A.h({environment:this.environment,event:e,textValue:this.getTextValue(),editorNode:this.getEditorNode(),store:this.props.store,parentStore:this.props.parentStore,canEdit:this.canEditStore.state})},this.handleCopy=e=>{p.a({environment:this.environment,event:e})},this.handleCut=e=>{this.canEditStore.state?(U.createAndCommit(this.environment,t=>{p.d({environment:this.environment,event:e,transaction:t})}),this.flushRenderQueue(),this.props.onChange&&this.props.onChange()):e.preventDefault()},this.handlePaste=e=>{this.canEditStore.state&&(U.createAndCommit(this.environment,t=>{p.e({environment:this.environment,event:e,disableEmbedMenu:Boolean(this.props.disableEmbedMenu),transaction:t})}),this.flushRenderQueue(),this.props.onChange&&this.props.onChange())},this.handleKeyPress=e=>{this.canEditStore.state||e.metaKey&&"c"===e.key||e.preventDefault()},this.handleMoveUp=e=>{const t=Object(O.c)(this.props.store);t&&U.createAndCommit(this.environment,e=>{h.q({environment:this.environment,store:this.props.store,closestSelectable:t,transaction:e})})},this.handleMoveDown=e=>{const t=Object(O.c)(this.props.store);t&&U.createAndCommit(this.environment,e=>{h.p({environment:this.environment,store:this.props.store,closestSelectable:t,transaction:e})})},this.canEditStore=this.createComputedStore(()=>{if(this.props.disabled)return!1;if(K.b.state)return!1;const e=this.pageContext&&this.pageContext.publicEditModeStore.state;return(!this.props.isDiscussionInput||!e||"view"!==e)&&(!(!this.props.isDiscussionInput&&e&&"edit"!==e)&&this.props.store.canEdit())}),this.getDisabled=()=>{const{device:e}=this.environment;return e.isMobile&&e.isAndroid?!this.canComment()||!_.default.isEditingStore.state:!this.canComment()},this.getHtml=()=>{const e=i.a.createElement(a.Fragment,null,A.l({environment:this.environment,textValue:this.getTextValue(),parentStore:this.props.parentStore||this.props.store,disableHover:!1,disableStyleAnnotations:Boolean(this.props.disableStyleAnnotations),disableDateStyleAnnotations:Boolean(this.props.disableDateMentions),disabled:!this.canEditStore.state,theme:this.theme,emojiType:Object(ee.a)(this.environment),katex:this.environment.KatexStore.getKatex(),parentBlockId:this.getParentBlockId()}));return l.a.renderToStaticMarkup(e)},this.clearBrowserSelection=()=>{this.getEditorNode().blur()},this.getTextValue=()=>{if(this.isNewDiscussionMenuTarget.state)return A.b({store:this.props.store});if(this.isInlineEquationOverlayTarget.state)return A.c({store:this.props.store,equationStore:Z.b});if(this.isMentionMenuTarget.state)return A.d({store:this.props.store,mentionMenuState:this.isMentionMenuTarget.state});if(this.linkingMenuSelectionStore.state)return A.f({store:this.props.store,selection:this.linkingMenuSelectionStore.state});if(this.isEditing.state){const e=_.default.state;if("editing"===e.mode)return A.e({store:this.props.store,selection:e.selection})}return this.props.store.getValue()},this.isEditing=this.createComputedStore(()=>{const e=_.default.state;return"editing"===e.mode&&e.store===this.props.store}),this.isNewDiscussionMenuTarget=this.createComputedStore(()=>{const e=G.a.state;return e.open&&"inline"===e.type&&e.textStore===this.props.store}),this.isInlineEquationOverlayTarget=this.createComputedStore(()=>Z.b.isOpen()&&Z.b.state.savedTextSelectionState.store===this.props.store),this.isMentionMenuTarget=this.createComputedStore(()=>{const e=te.a.state;return!!e.open&&(e.textStore===this.props.store&&e)}),this.linkingMenuSelectionStore=this.createComputedStore(()=>{const e=ne.a.state;return!!e.open&&(e.savedTextSelectionState.store===this.props.store&&(!!e.focusMenu&&(!!this.isEditing.state&&e.savedTextSelectionState.selection)))}),this.getTextSelectionFromRange=e=>A.n(this.environment,e),this.getContainerSelection=()=>{const e=this.isEditing.state,t=Boolean(this.linkingMenuSelectionStore.state);if(e&&!t){const{store:e}=this.props,t=_.default.state;if("editing"===t.mode){const{selection:n}=t,o=e.getValue(),r=u.I(o).length;return{startIndex:Math.min(n.startIndex,r),endIndex:Math.min(n.endIndex,r)}}}},this.getEndSelection=()=>{const e=u.I(this.getTextValue());return{startIndex:e.length,endIndex:e.length}}}willMountOrUpdate(){this.createReminderTimers(),this.environment.KatexStore.loadIfNeeded(this.getTextValue)}willUnmount(){this.clearReminderTimers();const e=re.a.state;e&&e.store===this.props.store&&Object(oe.a)()}isComposing(){return this.editor&&this.editor.isComposing}createReminderTimers(){const e=this.getTextValue(),t=u.K(e),n=r.a.compact(t.map(e=>{const t=Y.Q(e,Y.m);return t&&t.valueOf()})),o=Date.now();for(const r of n){const e=r-o;e>0&&e<z.a&&(r in this.reminderTimers||(this.reminderTimers[r]=setTimeout(this.enqueueForceUpdate,e)))}for(const r in this.reminderTimers)n.includes(parseInt(r))||(clearTimeout(this.reminderTimers[r]),delete this.reminderTimers[r])}clearReminderTimers(){for(const e in this.reminderTimers)clearTimeout(this.reminderTimers[e]),delete this.reminderTimers[e]}renderComponent(){const{store:e,disableInsertText:t,onEsc:n,disableMentions:o,disableDateMentions:r,disableEmbedMenu:a,disableMobileActionBar:s,disableSlashCommands:l,disableStyleAnnotations:c,disableSelectAllBlocks:d,disableSelectionDrag:u,disabled:p,disableUpDownArrows:h,disableEnter:m,disableHorizontalEdgeScroll:f}=this.props;return i.a.createElement(N.a,{store:e,disabled:p,getTextSelectionFromRange:this.getTextSelectionFromRange,clearBrowserSelection:this.clearBrowserSelection,getEndSelection:this.getEndSelection,canInsertText:!p&&!t,onClick:this.handleClick,onDelete:this.handleDelete,onBackspace:this.handleBackspace,onEnter:this.handleEnter,onShiftEnter:this.handleShiftEnter,onEsc:n,onTab:this.handleTab,onUntab:this.handleUntab,onToggleHighlight:e=>this.handleAnnotation(["h",W.a.state.color],e),onToggleBold:e=>this.handleAnnotation(["b"],e),onToggleItalics:e=>this.handleAnnotation(["i"],e),onToggleStrike:e=>this.handleAnnotation(["s"],e),onToggleUnderline:e=>this.handleAnnotation(["_"],e),onToggleCode:e=>this.handleAnnotation(["c"],e),onCopy:this.handleCopy,onCut:this.handleCut,onPaste:this.handlePaste,onKeyPress:this.handleKeyPress,onMoveUp:this.handleMoveUp,onUp:this.props.onUp,onMoveDown:this.handleMoveDown,render:this.renderContentContainer,disableMentions:o,disableDateMentions:r,disableEmbedMenu:a,disableMobileActionBar:s,disableSlashCommands:l,disableAnnotation:c,canSelectAllBlocks:!d,canSelectionDrag:!u,topBottomPadding:9,disableUpDownArrows:h,disableEnter:m,disableHorizontalEdgeScroll:f})}getCurrentPlaceholder(){const{device:e}=this.environment;if(this.props.placeholder)return this.props.placeholder;if(!this.props.disableSlashCommands&&this.isEditing.state&&this.canEditStore.state){if(H.a.state.open)return $.default.formatMessage(ie.filterPlaceholder);if(!e.isMobile)return $.default.formatMessage(ie.typeTextPlaceholder)}return" "}handleClickActions(e){A.g({environment:this.environment,event:e,textValue:this.getTextValue(),editorNode:this.getEditorNode(),store:this.props.store,parentStore:this.props.parentStore,canEdit:this.canEditStore.state})}canComment(){return!this.props.disabled&&this.props.store.canComment()}canExclusivelyComment(){return this.canComment()&&!this.canEditStore.state}getEditorNode(){return d.a.findDOMNode(this.editor)}getParentBlockId(){const{store:e}=this.props;if(e.table===P.a)return e.id;const{ancestor:t}=e.findRecordStoreAncestor(({table:e})=>e===P.a);return t?t.id:void 0}isEmpty(){return 0===u.hb(this.getTextValue()).length}flushRenderQueue(){T.default.flush()}getStyle(){const{device:e}=this.environment;let t={maxWidth:"100%",width:"100%",whiteSpace:"pre-wrap",wordBreak:"break-word",caretColor:this.canExclusivelyComment()?q.g.transparent:this.theme.regularTextColor,...this.props.style};return this.isEmpty()&&(t.minHeight="1em",t={...t,color:this.theme.regularTextColor,WebkitTextFillColor:this.theme.lightTextColor,...this.props.placeholderStyle}),e.isMobile&&this.canEditStore.state&&(this.isEditing.state?t.WebkitUserModify="read-write-plaintext-only":(t.userSelect="none",t.WebkitUserSelect="none")),t}}t.a=se},fM7F:function(e,t,n){"use strict";n.r(t),n.d(t,"initialize",(function(){return s}));var o=n("A9TN"),r=n("2ZkR"),a=n("Mht8"),i=n("HSWF");function s(e){"object"==typeof o.default&&o.default.version&&(a.clientLogglyEnvironmentData.version=o.default.version);const{device:t,currentUser:n}=e;t.isReactNative&&(a.clientLogglyEnvironmentData.isReactNative=!0),t.isMobile&&(a.clientLogglyEnvironmentData.isMobile=!0),t.isAndroid&&(a.clientLogglyEnvironmentData.isAndroid=!0),t.isIOS&&(a.clientLogglyEnvironmentData.isIOS=!0),t.isElectron&&(a.clientLogglyEnvironmentData.isElectron=!0),t.isChromeExtension&&(a.clientLogglyEnvironmentData.isChromeExtension=!0),a.clientLogglyEnvironmentData.os=t.os,a.clientLogglyEnvironmentData.platform=t.platform,window.navigator.userAgent&&(a.clientLogglyEnvironmentData.userAgent=window.navigator.userAgent),document.referrer&&(a.clientLogglyEnvironmentData.referrer=document.referrer),n.id&&(a.clientLogglyEnvironmentData.userId=n.id),a.clientLogglyEnvironmentData.experiments=r.default.getExperimentsMap(),r.default.addListener(()=>{a.clientLogglyEnvironmentData.experiments=r.default.getExperimentsMap()}),Object(i.t)().then(e=>{e&&(a.clientLogglyEnvironmentData.storageUsageEstimate=e.usage,a.clientLogglyEnvironmentData.storageQuotaEstimate=e.quota)})}},fO5X:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));n("3bBZ");function o(e,t){const n=new Set(e),o=new Set,r=new Array,a=new Array;for(const i of t)o.add(i),n.has(i)||a.push(i);for(const i of e)o.has(i)||r.push(i);return{created:a,deleted:r}}function r(e,t,n){const o=new Map,r=new Map,a=new Array,i=new Array;for(const s of e)o.set(n(s),s);for(const s of t){const e=n(s);r.set(e,s),o.has(e)||i.push(e)}for(const s of e){const e=n(s);r.has(e)||a.push(e)}return{created:i.map(e=>{const t=r.get(e);if(!t)throw new Error("After map did not contain value.");return t}),deleted:a.map(e=>{const t=o.get(e);if(!t)throw new Error("Before map did not contain value.");return t})}}},fU6e:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("i3uR"),s=n("d9nj"),l=n("mF3+"),c=n("RBMm"),d=n("J9+s"),u=n("g4rC"),p=n("8LJQ");const h=Object(d.defineMessages)({hideLabel:{id:"customizePageMenuVisibilitySelect.hide.label",defaultMessage:"Always hide"},hidePageLabel:{id:"customizePageMenuVisibilitySelect.off.label",defaultMessage:"Off"},showLabel:{id:"customizePageMenuVisibilitySelect.show.label",defaultMessage:"Always show"},showPageLabel:{id:"customizePageMenuVisibilitySelect.expanded.label",defaultMessage:"Expanded"},hideIfEmptyLabel:{id:"customizePageMenuVisibilitySelect.hideIfEmpty.label",defaultMessage:"Hide when empty"},collapsedLabel:{id:"customizePageMenuVisibilitySelect.collapsed.label",defaultMessage:"Show in popover"}});class m extends a.a{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:u.a}}renderComponent(){const{device:e}=this.environment;return r.a.createElement(i.a,{popupType:e.isMobile?i.a.PopupType.SlideUp:i.a.PopupType.Popup,buttonPopupStore:this.stores.buttonPopupStore,renderOrigin:e=>r.a.createElement(s.a,Object.assign({style:{color:this.theme.mediumTextColor,paddingRight:0,height:this.environment.device.isMobile?32:22},disabled:this.props.locked},e),m.getVisibilityLabel(this.props.visibility),l.a.chevronDown({width:10,marginLeft:4,marginRight:4,fill:this.theme.lightIconColor})),placementToOrigin:c.b.Bottom,onClose:this.props.onClose,render:e=>r.a.createElement(p.a,Object.assign({},this.props,{onClose:e.close}))})}static getVisibilityLabel(e){switch(e){case"hide":return r.a.createElement(d.FormattedMessage,Object.assign({},h.hideLabel));case"show":return r.a.createElement(d.FormattedMessage,Object.assign({},h.showLabel));case"hide_if_empty":return r.a.createElement(d.FormattedMessage,Object.assign({},h.hideIfEmptyLabel));case"section_hide":return r.a.createElement(d.FormattedMessage,Object.assign({},h.hidePageLabel));case"section_show":return r.a.createElement(d.FormattedMessage,Object.assign({},h.showPageLabel));case"section_collapsed":return r.a.createElement(d.FormattedMessage,Object.assign({},h.collapsedLabel))}}}t.a=m},fVGD:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("xEkU"),i=n.n(a),s=n("wldR"),l=n("vl8/");class c extends s.a{constructor(){super(...arguments),this.currentValue=0,this.frame=null,this.tick=()=>{Math.abs(this.currentValue-this.props.percentage)<.5?this.frame=null:(this.currentValue=this.currentValue*c.speed+this.props.percentage*(1-c.speed),this.enqueueForceUpdate(),this.frame=i()(this.tick))}}willMount(e){this.currentValue=e.percentage}didUpdate(){this.frame||requestAnimationFrame(this.tick)}renderComponent(){return r.a.createElement("span",null,l.default.formatNumber(Math.min(Math.round(this.currentValue),99)/100,{style:"percent"}))}}c.speed=.98,t.a=c},fYc2:function(e,t,n){"use strict";var o=n("Uv1v");class r extends o.a{}t.a=new r},fbat:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isOpen:!1}}}t.a=new r},fgBX:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var o=n("q1tI"),r=n.n(o),a=n("/cKE"),i=n("9ozu");const s="notion-emoji";class l extends r.a.PureComponent{render(){return"raw"===this.props.type?r.a.createElement(a.a,{char:this.props.char,size:this.props.size}):r.a.createElement(i.a,{char:this.props.char,type:this.props.type,size:this.props.size,style:this.props.imgStyle})}}t.a=l},frzs:function(e,t,n){"use strict";n.r(t),n.d(t,"currentUserIdKey",(function(){return le})),n.d(t,"requestLoginWithApple",(function(){return de})),n.d(t,"requestLoginWithGoogle",(function(){return pe})),n.d(t,"sendPasswordResetLink",(function(){return he})),n.d(t,"sendTemporaryPassword",(function(){return me})),n.d(t,"verifyEmail",(function(){return fe})),n.d(t,"loginWithTemporaryPasscode",(function(){return ge})),n.d(t,"loginWithPassword",(function(){return be})),n.d(t,"loginWithAppleAuth",(function(){return ve})),n.d(t,"loginWithGoogleAuth",(function(){return ye})),n.d(t,"redirectToSaml",(function(){return Se})),n.d(t,"loginSamlUserWithToken",(function(){return we})),n.d(t,"loginPasswordReset",(function(){return ke})),n.d(t,"loginSamlUser",(function(){return Ce})),n.d(t,"loginAsAdmin",(function(){return Me})),n.d(t,"logoutSingleAccount",(function(){return Ee})),n.d(t,"logout",(function(){return _e})),n.d(t,"clearCurrentUser",(function(){return Te})),n.d(t,"actuallyLogoutAndDeleteAllLocalData",(function(){return xe})),n.d(t,"setLocalStorageUserId",(function(){return Be})),n.d(t,"initialize",(function(){return De})),n.d(t,"redirectToLoginOnErrorResponse",(function(){return Ae}));n("3bBZ");var o=n("bkwR"),r=n("HSWF"),a=n("y6Dp"),i=n("H4VD"),s=n("ZoJK"),l=n("hvW1"),c=n("V6+p"),d=n("Mht8"),u=n("bK/N"),p=n("UQxX"),h=n("qqdV"),m=n("tP7q"),f=n("A9TN"),g=n("QcDD"),b=n("sjR4"),v=n("DNgp"),y=n("h2IJ"),S=n("lKd+"),w=n("Wae9"),k=n("VkkH"),C=n("S26v"),M=n("Wnyi"),E=n("tvfY"),_=n("dlZW"),T=n("5ma9"),x=n("+QMF"),I=n("koI6"),P=n("qDOf"),O=n("SiBm"),B=n("VBxf"),L=n("2ZkR"),R=n("dDgv"),D=n("QuSn"),A=n("CNGQ"),j=n("Fe7V"),F=n("zUsb"),V=n("7QKz"),N=n("ddTe"),U=n("Cycz"),z=n("klxS"),X=n("J9+s"),Y=n("vl8/"),H=n("zzAG"),q=n("LvDl"),W=n.n(q),G=n("85j+"),Z=n("Ittr"),K=n("DlEO"),J=n("5xGH"),Q=n("5/h/"),$=n("9axl"),ee=n("mXKa"),te=n("CPkY"),ne=n("VAix"),oe=n("+LO1"),re=n("dQss"),ae=n("zb5D"),ie=n("sdlW");const se=Object(X.defineMessages)({loggingInWithApple:{id:"loginActions.loggingInWithApple.loadingMessage",defaultMessage:"Logging in with Apple…"},loggingInWithGoogle:{id:"loginActions.loggingInWithGoogle.loadingMessage",defaultMessage:"Logging in with Google…"},googleErrorMessage:{id:"loginActions.loggingInWithGoogle.errorMessage",defaultMessage:"Something went wrong while trying to log in with Google."},unsavedChanges:{id:"loginActions.dialogError.logoutUnsavedChanges.message",defaultMessage:"You have unsaved changes. If you log out, they will be lost."},logoutWithoutSaving:{defaultMessage:"Discard edits and log out",id:"loginActions.dialogError.logoutUnsavedChanges.confirmButton.label"},titleMessage:{defaultMessage:"Google login",id:"loginActions.googleLoginPopupModal.title"}}),le="current-user-id";async function ce(e,t=!1,n=!0){const o=[];if(t){const e=Object(ee.getOauthAuthorizationParams)();sessionStorage.clear(),Object(ee.setOauthAuthorizationParams)(e)}else sessionStorage.clear();if(r.g(),o.push(async function(e){y.a.remove(le);const t=s.a(e.reactNative);t&&await t.clearCurrentUserId(e.reactNative)}(e)),n&&Te(e),a.a(),e.reactNative){o.push(e.reactNative.logoutOfGoogle());const t=s.a(e.reactNative);t&&o.push(t.clearStorage(e.reactNative)),o.push(e.reactNative.unregisterPushNotifications()),o.push(e.reactNative.cancelUserBackgroundTasks())}e.device.isElectron&&(u.clearBrowserHistory(),t||u.clearCookies()),g.default.reset(),b.default.reset(),v.default.reset(),j.a(e),S.default.reset(),w.a.reset(),P.default.reset(),o.push(Object(te.b)()),o.push(_.transactionQueue.reset());const{PersistedRecordCache:i}=e;i&&"reset"in i&&o.push(i.reset()),L.default.reset(),await Promise.all(o)}async function de(e){const{environment:t,store:n}=e,{reactNative:r}=t,i=await Re(t);if(a.lc(t),r&&r.hasNativeAppleLogin())return void(await async function(e){const{environment:t,store:n,previousPersistedUserId:r}=e,{reactNative:a}=t;if(!a)return;const i=await a.requestNativeAppleAuth();if(!i)return;if(i.error)d.log({level:"error",from:"loginActions",type:"requestNativeAppleAuth",error:Object(ae.a)(i.error)});else{l.b({message:se.loggingInWithApple});const{code:e,nonce:a,firstName:s,lastName:c}=i.value,d=await o.loginWithAppleNativeAuth(t,{code:e,nonce:a,firstName:s,lastName:c});if("success"===d.type){const{isNewSignup:e,userId:n}=d.data;await Ie({environment:t,isNewSignup:e,userId:n,previousPersistedUserId:r}),l.a()}else{const e=Object(H.b)(Y.default.getIntl(),d);n.setState({...n.state,alert:e}),l.a()}}}({environment:t,store:n,previousPersistedUserId:i}));const s=Object(M.a)(t);let c=m.b(f.default.baseURL,{authType:s});c=s.redirectToAuth?c:await Object(M.c)(t,c),t.reactNative?t.reactNative.openInAppBrowser(c):t.device.isElectron&&u.electronApi?u.electronApi.openExternalUrl(c):window.location.href=c}const ue=Y.default.formatMessage(se.googleErrorMessage);async function pe(e){const{environment:t,store:n,email:r,permissionsStore:s}=e,{reactNative:c}=t,p=await Re(t);a.mc(t);const g=c&&c.hasNativeGoogleLogin()?()=>c.requestGoogleJwt():void 0;if(g){const e=await g();if(e){if(e.error)return void d.log({level:"error",from:"loginActions",type:"requestGoogleJwt",error:Object(ae.a)(e.error)});{l.b({message:se.loggingInWithGoogle});const{idToken:r}=e.value,a=await o.loginWithGoogleJwt(t,{idToken:r});if("success"===a.type){const{isNewSignup:e,userId:n}=a.data;await Ie({environment:t,isNewSignup:e,userId:n,previousPersistedUserId:p}),l.a()}else n.setState({...n.state,alert:ue}),l.a()}return}}const b=Object(M.b)(t);let v=m.g(f.default.baseURL,{email:r,contacts:s.state.contacts,authType:b});if(v=b.redirectToAuth?v:await Object(M.c)(t,v),t.reactNative)t.reactNative.openInAppBrowser(v);else if("redirect"===b.callbackType)window.location.href=v;else if(t.device.isElectron&&u.electronApi)u.electronApi.openExternalUrl(v);else{const e=await k.a(t,{width:610,height:700,url:v,titleMessage:se.titleMessage});if(!e)return;const n=C.h({url:C.f(e),pathname:h.d.googleAuthCallback});i.navigate({environment:t,url:n})}}async function he(e){const{environment:t,store:n}=e,r=await o.sendTemporaryPassword(t,{passwordReset:!0,email:n.state.email,native:t.device.isNative});if("success"===r.type){const{csrfState:e}=r.data;n.setState({...n.state,loginType:"reset",password:"",sentPasswordResetState:e,alert:void 0})}else{const e=Object(H.b)(Y.default.getIntl(),r);n.setState({...n.state,password:"",alert:e})}}async function me(e){const{environment:t,store:n,reverify:r}=e,{RouterStore:i}=t,s=e.disableLoginLink||Boolean(Object(ee.getSessionAnalyticsTags)());a.kc(t,{email:n.state.email});const{url:l}=Object(R.a)(t),c=await o.sendTemporaryPassword(t,{email:n.state.email,redirectURL:l,disableLoginLink:s,native:t.device.isNative,isSignup:"signup"===i.state.route.name});if("success"===c.type){const{csrfState:e}=c.data;n.setState({...n.state,loginType:r?"reverify":"temporary",password:"",sentEmailPasscodeState:e,alert:void 0})}else{const e=Object(H.b)(Y.default.getIntl(),c);n.setState({...n.state,loginType:"email",password:"",alert:e})}}async function fe(e){const{environment:t,state:n,password:r}=e,a=await o.verifyEmail(t,{state:n,password:r});if("success"!==a.type){return Object(H.b)(Y.default.getIntl(),a)}}async function ge(e){const{environment:t,state:n,password:r,redirectURL:a}=e,i=await Re(t),s=await o.loginWithEmail(t,{state:n,password:r});if("success"!==s.type){return Object(H.b)(Y.default.getIntl(),s)}{const{isNewSignup:e,userId:n}=s.data;await Ie({environment:t,isNewSignup:e,userId:n,redirectURL:a,previousPersistedUserId:i}),await async function(e){const{id:t}=e.currentUser;if(!t)return!1;const n=new E.a(e,{table:Q.a,id:t});await n.load();const o=n.getValue();if(!o)return!1;const r=await A.b({environment:e,userEmail:o.email});if(r.error)throw r.error;const{isSamlEnforced:a,hasPassword:i}=r.value;if(i||a)return!1;const s=new z.a(e,{table:$.a,id:t});return await s.load(),(await Object(U.a)({environment:e,userRootStore:s})||[]).some(e=>e===f.default.pricing.student.productId)}(t)&&A.a({environment:t})}}async function be(e){const{environment:t,email:n,password:r,redirectURL:a}=e,i=await Re(t),s=await o.loginWithEmail(t,{email:n,password:r});if("success"!==s.type){return Object(H.b)(Y.default.getIntl(),s)}{const{userId:e}=s.data;await Ie({environment:t,isNewSignup:!1,userId:e,redirectURL:a,previousPersistedUserId:i})}}async function ve(e){const{environment:t,code:n,encryptedToken:r,encryptedNonce:a,encryptedUserObject:i}=e,s=await Re(t),l=await o.loginWithAppleAuth(t,{code:n,encryptedToken:r,encryptedNonce:a,encryptedUserObject:i});if("success"!==l.type)return Object(H.b)(Y.default.getIntl(),l);{const{isNewSignup:e,userId:n}=l.data;await Ie({environment:t,isNewSignup:e,userId:n,previousPersistedUserId:s})}}async function ye(e){const{environment:t,encryptedToken:n,code:r}=e,a=await Re(t),i=await o.loginWithGoogleAuth(t,{code:r,encryptedToken:n});if("success"!==i.type)return Object(H.b)(Y.default.getIntl(),i);{const{isNewSignup:e,userId:n}=i.data;await Ie({environment:t,isNewSignup:e,userId:n,previousPersistedUserId:a})}}function Se(e,t){a.nc(e),e.reactNative?e.reactNative.openInAppBrowser(t):e.device.isElectron&&u.electronApi?u.electronApi.openExternalUrl(t):window.location.href=t}async function we(e){const{environment:t,csrfState:n,token:r,isNewSignup:a}=e,i=await Re(t),s=await o.loginWithEmail(t,{state:n,password:r});if("success"!==s.type)return Object(H.b)(Y.default.getIntl(),s);{const{userId:e}=s.data;await Ie({environment:t,isNewSignup:a,userId:e,previousPersistedUserId:i})}}async function ke(e){const{environment:t,csrfState:n,password:r}=e,a=await Re(t),i=await o.loginWithEmail(t,{state:n,password:r,passwordReset:!0});if("success"!==i.type)return Object(H.b)(Y.default.getIntl(),i);{const{userId:e}=i.data;await Ie({environment:t,isNewSignup:!1,userId:e,previousPersistedUserId:a}),A.a({environment:t})}}async function Ce(e){const{environment:t,userId:n,previousUserId:o,isNewSignup:r}=e;await Ie({environment:t,isNewSignup:r,userId:n,previousPersistedUserId:o})}async function Me(e){const{environment:t,userId:n}=e;await Ie({environment:t,isNewSignup:!1,userId:n,previousPersistedUserId:"admin"}),window.location.href="/"}async function Ee(e){const{environment:t,userId:n}=e,{nextUserId:a,nextSpaceViewStore:i}=function(e){const{environment:t,userId:n}=e,o=t.currentUser.id;if(n===o){const e=O.a.getAllSpaceViewStores(t).filter(e=>{const t=e.userRootParentId();return t&&t!==n})[0];return{nextUserId:e&&e.userRootParentId(),nextSpaceViewStore:e}}{const{currentSpaceViewStore:e}=g.default.state;return{nextUserId:o,nextSpaceViewStore:e}}}(e);if(a&&i){if(await _.transactionQueue.hasTasksForUser(n)){if(!(await Object(B.confirmUserAction)({message:Y.default.formatMessage(se.unsavedChanges),acceptLabel:Y.default.formatMessage(se.logoutWithoutSaving)})))return}await async function(e,t){await o.logout(e,{userId:t}),await _.transactionQueue.clearForUser(t),r.g(t)}(t,n);const e=await p.a({environment:t,newCurrentUserId:a,loggedOutUserId:n}),{currentUserRootStore:s,currentUserSettingsStore:l}=g.default.state;s&&l&&ie.o({environment:e,spaceViewStore:i,userSettingsStore:l,userRootStore:s})}else await _e(t)}async function _e(e){if(await _.transactionQueue.anySessionHasTasks()){if(!(await Object(B.confirmUserAction)({message:Y.default.formatMessage(se.unsavedChanges),acceptLabel:Y.default.formatMessage(se.logoutWithoutSaving)})))return}i.navigate({environment:e,url:h.d.logout})}function Te(e){if(e.updateCurrentUserId){const t={environment:e,currentUserId:void 0,userIds:[]};e.updateCurrentUserId(t)}return{...e,currentUser:new G.a(void 0,[])}}async function xe(e){await o.logout(e,{}),await ce(e),u.clearGoogleAuthCookies(),window.location.href="/"}async function Ie(e){const{environment:t,isNewSignup:n,userId:s,redirectURL:l,previousPersistedUserId:p}=e,h=x.b(t);if(j.a(t),t.device.isElectron&&(u.clearBrowserHistory(),u.refreshAll()),p&&p!==s){const e=await _.transactionQueue.getTotalNumberOfTasks();e>5&&d.log({level:"warning",from:"loginActions",type:"setLoggedInUserId",data:{userId:s,currentUserId:p,clearedTransactionCount:e}}),await ce(t,h,!t.currentUser.loggedInUserIds.includes(p))}const g=await Pe(t,s);if(n&&(a.c(g,{user_id:s,tags:Object(ee.getSessionAnalyticsTags)(),origin_initial_page:r.k(s)}),o.initializeUserAnalytics(g,{isNewSignup:n,analyticsProperties:Object(ne.a)({...Object(oe.d)(),...Object(oe.e)(),...Object(re.getReactNativeDeviceInfo)(),...await Object(oe.c)(t),...L.default.state.isLoaded?L.default.getExperimentsMap():{}})})),l){const e=m.l({url:l,isMobile:g.device.isMobile,baseUrl:f.default.baseURL,protocol:f.default.protocol,currentUrl:window.location.href});if(!e||"space"!==e.name&&"page"!==e.name){if(e&&"oauthAuthorization"===e.name){const{responseType:t,redirectUri:n,integrationId:o,state:r}=e;Object(ee.setOauthAuthorizationParams)({responseType:t,redirectUri:n,integrationId:o,state:r})}}else r.y(e,s)}T.b(g),c.c(),c.a(g),D.d(g.device,f.default,{facebook:{eventName:"ViewContent"},google:{eventName:"loggedIn"}}),!h&&p&&p!==s||n?window.location.href="/":(O.a.setState({...O.a.getState(),open:!1}),i.navigate({environment:g,url:"/"}))}async function Pe(e,t){await async function(e,t){await Be(e,t)}(e,t);let n=[t];const o=await Oe(e);o&&(o.push(t),n=W.a.uniq(o));const a={...e,currentUser:new G.a(t,n)};if(e.updateCurrentUserId){const o={environment:e,currentUserId:t,userIds:n};e.updateCurrentUserId(o)}return a.device.isFirefox||r.v(),a}async function Oe(e){const t=await I.b(e,V.b);if(t){const e=decodeURIComponent(t);let o;try{o=JSON.parse(e)}catch(n){d.log({level:"error",from:"loginActions",type:"getUserIdsFromCookieJsonError",error:Object(ae.a)(n),data:{message:"decoded cookie was not valid JSON: `".concat(e,"`"),decoded:e,cookieValue:t}})}return Array.isArray(o)?o:void 0}}async function Be(e,t){const n=await Oe(e);if(n&&!n.includes(t))return;y.a.set(le,t);const o=s.a(e.reactNative);o&&await o.saveCurrentUserId(e.reactNative,t)}async function Le(e){let t;const n=y.a.get(le);n&&(t=n);const o=s.a(e.reactNative);o&&(t=await o.loadCurrentUserId(e.reactNative));const r=await Oe(e);if(!r||!t||r.includes(t))return t}async function Re(e){const[t,n,o]=await Promise.all([Le(e),Oe(e),Object(ee.getSessionUserId)()]);return o||t||(Array.isArray(n)?n[0]:n)}async function De(e){const t=await Re(e),{reactNative:n,device:o,PersistedRecordCache:r}=e;return n&&n.sqliteConnection&&await F.c(n.sqliteConnection,t||Z.c),o.isElectron&&o.electronVersion&&o.electronVersion[0]>=6&&r&&await r.initialize(t),t?await Pe(e,t):e}function Ae(e,t){if(Object(J.d)(t.body)&&"saml_sso_required"===t.body.clientData.type){const e=Object(H.b)(Y.default.getIntl(),t);K.a.setState({...K.a.state,loginType:"saml",alert:e})}i.navigate({environment:e,url:h.d.login})}Object(N.exposeDebugValue)("loadCurrentUserId",Re),Object(N.exposeDebugValue)("getUserIdsFromCookie",Oe)},fvMi:function(e,t,n){},fwa5:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isActive:!1}}}t.a=new r},g4rC:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=r},g8hj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("3bBZ");var o,r=n("q1tI"),a=n.n(r),i=n("LvDl"),s=n.n(i),l=n("i8i4"),c=n.n(l),d=n("2Yor"),u=n("V9q8"),p=n("xqms"),h=n("NOLh"),m=n("wldR"),f=n("iVjn"),g=n("OjB8"),b=n("DkKf"),v=n("lBar");!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(o||(o={}));class y extends m.a{constructor(){super(...arguments),this.storeTypes={store:p.a},this.renderKey=(e,t)=>{const{renderKey:n,direction:r,keys:i}=this.props;if(this.stores.store.state.isDragging&&this.stores.store.state.draggingKey===e){const{savedKeyRects:s,savedContainerRect:l,currentXOffset:c,currentYOffset:u}=this.stores.store.state,p=s[t];let h,m;r===o.Vertical?(h=Object(d.a)(p.top+u,l.top,l.top+l.height-p.height)-l.top,m=p.left-l.left):(h=p.top-l.top,m=Object(d.a)(p.left+c,l.left,l.left+l.width-p.width)-l.left);const f={...y.draggingKeyStyle,left:m,top:h,width:p.width,height:p.height,zIndex:1};return a.a.createElement("div",{key:e,style:f},n(e,t,i))}if(this.stores.store.state.isDragging){const{savedKeyRects:s,savedContainerRect:l,startKeyPosition:c,currentKeyPosition:d,draggingKey:u}=this.stores.store.state,p=s[i.indexOf(u)];let m=0,f=0;d!==c&&t>=d&&t<c?r===o.Vertical?f=p.height:m=p.width:d!==c&&t<=d&&t>c&&(r===o.Vertical?f=-p.height:m=-p.width);const g=s[t];return g?a.a.createElement(h.a,{isVisible:!0,key:e,animationStyle:{translateX:g.left-l.left+m,translateY:g.top-l.top+f,width:g.width,height:g.height},render:()=>a.a.createElement("div",{style:y.draggingKeyStyle},n(e,t,i))}):null}return n(e,t,i)},this.handleDragStart=e=>{const{store:t}=this.stores;e.preventDefault();const{keys:n}=this.props,o=c.a.findDOMNode(this);if(!o)return;if(!(o instanceof Element))return;const r=u.a(e.target,e=>e.parentNode===o);if(r){const e=s.a.toArray(o.children).indexOf(r),a=o.getBoundingClientRect(),i=s.a.map(n,(e,t)=>o.children[t].getBoundingClientRect()),l=this.getScroller();l&&t.setState({isDragging:!1,willDrag:!0,currentXOffset:0,currentYOffset:0,draggingKey:n[e],startKeyPosition:e,startScrollX:l.scrollLeft,startScrollY:l.scrollTop,currentKeyPosition:e,savedContainerRect:a,savedKeyRects:i})}},this.handleDragMove=e=>{const{store:t}=this.stores;!t.state.isDragging&&t.state.willDrag&&t.state.draggingKey&&Object(g.a)(e.startX,e.startY,e.currentX,e.currentY)>=b.b[e.device]&&(t.setState({currentXOffset:t.state.currentXOffset,currentYOffset:t.state.currentYOffset,startScrollX:t.state.startScrollX,startScrollY:t.state.startScrollY,startKeyPosition:t.state.startKeyPosition,currentKeyPosition:t.state.currentKeyPosition,savedKeyRects:t.state.savedKeyRects,savedContainerRect:t.state.savedContainerRect,draggingKey:t.state.draggingKey,isDragging:!0,willDrag:!1}),this.props.onDragStart&&this.props.onDragStart());const n=this.getScroller();if(t.state.isDragging&&n){const{savedKeyRects:o,startScrollX:r,startScrollY:a}=t.state,i=n.scrollLeft-r,l=n.scrollTop-a,c=s.a.minBy(o,t=>Object(g.a)(e.currentX+i,e.currentY+l,t.left+t.width/2,t.top+t.height/2));if(c){const n=o.indexOf(c);t.setState({...t.state,currentXOffset:e.diffX+i,currentYOffset:e.diffY+l,currentKeyPosition:n})}}},this.handleDragEnd=()=>{const{store:e}=this.stores;if(e.state.isDragging){const{keys:t,onDrop:n}=this.props,{startKeyPosition:o,currentKeyPosition:r}=e.state;if(o!==r){const e=s.a.clone(t);e.splice(r,0,e.splice(o,1)[0]),n(e)}e.reset()}},this.handleDragCancel=()=>{const{store:e}=this.stores;e.state.isDragging&&e.reset()}}renderComponent(){const{direction:e,keys:t,isFullWidth:n,disableVerticalEdgeScroll:r,disableHorizontalEdgeScroll:i,disabled:s}=this.props,l={...e===o.Horizontal?y.horizontalStyle:y.verticalStyle,...n&&{flexGrow:1},...this.stores.store.state.isDragging&&{position:"relative",zIndex:1,width:this.stores.store.state.savedContainerRect.width,height:this.stores.store.state.savedContainerRect.height,...this.props.isSidebarSwitcher&&{marginBottom:1}}},c=s?{}:{onDraggableDragCancel:this.handleDragCancel,onDraggableDragEnd:this.handleDragEnd,onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove};return a.a.createElement(f.a,Object.assign({},c,{disableVerticalEdgeScroll:r||e===o.Horizontal,disableHorizontalEdgeScroll:i||e===o.Vertical,render:e=>a.a.createElement("div",Object.assign({style:l},e),t.map(this.renderKey))}))}getScroller(){const{direction:e}=this.props;return this.scroller||(this.scroller=e===o.Vertical?Object(v.f)(c.a.findDOMNode(this)):Object(v.d)(c.a.findDOMNode(this))),this.scroller}}y.verticalStyle={margin:0},y.horizontalStyle={display:"inline-flex",margin:0},y.draggingKeyStyle={position:"absolute",display:"flex"},t.b=y},g90h:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return v}));n("UxlC"),n("4Brf");var o=n("xk4V"),r=n.n(o),a=n("aCH8"),i=n.n(a),s=n("LvDl"),l=n.n(s);const c=e=>{const t=i()(e),n=l.a.chunk(t,2).map(e=>parseInt(e.join(""),16));return r()({random:n})},d=function(e){return[e.substring(0,8),e.substring(8,12),e.substring(12,16),e.substring(16,20),e.substring(20,32)].join("-")};function u(e){if(e&&f(e))return d(e)}const p=function(e){return Boolean(e&&36===e.length&&/^[-a-f0-9]*$/g.test(e))},h=32,m=function(e){return e.replace(/-/g,"")},f=function(e){return Boolean(e&&e.length===h&&/^[a-f0-9]*$/g.test(e))};function g(e){return parseInt(e.slice(-5),16)}Symbol("Without dashes");const b=function(e){return m(e)};const v="00000000-0000-0000-0000-000000000000";t.b=function(){return r()()}},gHFd:function(e,t,n){"use strict";n.r(t),n.d(t,"createDependency",(function(){return m})),n.d(t,"DependencyConsumer",(function(){return f})),n.d(t,"DependencyProvider",(function(){return g})),n.d(t,"useDependency",(function(){return v})),n.d(t,"dangerouslyStartLoadingDependency",(function(){return y})),n.d(t,"deps",(function(){return S})),n.d(t,"DependencyProviderAll",(function(){return k})),n.d(t,"lazyComponent",(function(){return C})),n.d(t,"withDependency",(function(){return M})),n.d(t,"LazyAppComponents",(function(){return E})),n.d(t,"LazySpaceSettings",(function(){return _})),n.d(t,"LazySpaceSubscriptionUpdatePaymentMethodModal",(function(){return T})),n.d(t,"LazyMoveToMenuRenderer",(function(){return x})),n.d(t,"LazyCustomizePageMenuRenderer",(function(){return I})),n.d(t,"LazyPageTemplateModal",(function(){return P})),n.d(t,"LazyImportModal",(function(){return O})),n.d(t,"LazyExportModal",(function(){return B})),n.d(t,"LazyReportPageModal",(function(){return L})),n.d(t,"LazyGoogleAuthPromptModal",(function(){return R})),n.d(t,"LazyStudentNotEligibleModal",(function(){return D})),n.d(t,"LazyCsatPopup",(function(){return A})),n.d(t,"LazyEnterpriseContactModal",(function(){return j})),n.d(t,"LazySpacePermissionSettingsTrialModal",(function(){return F})),n.d(t,"LazySearch",(function(){return V})),n.d(t,"LazyForkPagePopup",(function(){return N})),n.d(t,"LazyDatePropertyMenu",(function(){return U})),n.d(t,"LazyBlockPermissionsSettings",(function(){return z})),n.d(t,"LazyPermissionsInvite",(function(){return X})),n.d(t,"LazySidebarMobile",(function(){return Y})),n.d(t,"LazyCollectionMobileSearch",(function(){return H})),n.d(t,"LazyMobileModal",(function(){return q})),n.d(t,"LazyMobileCalendarDayMenu",(function(){return W})),n.d(t,"LazyTopbarMobile",(function(){return G})),n.d(t,"LazyMobileActionBar",(function(){return Z})),n.d(t,"LazyNativeMobileActionBar",(function(){return K})),n.d(t,"LazyMobileBottomBar",(function(){return J})),n.d(t,"LazySpaceSubscriptionUpgradeModal",(function(){return Q})),n.d(t,"LazyDeveloperIntegrationsList",(function(){return $})),n.d(t,"LazyDeveloperIntegrationsCreate",(function(){return ee})),n.d(t,"LazyDeveloperIntegration",(function(){return te}));n("3bBZ"),n("E9XD");var o=n("q1tI"),r=n.n(o),a=n("mUbl"),i=n("Z0iJ"),s=n("5Nka"),l=n("VhAz"),c=n("T+jX"),d=n("vJXr"),u=n("yjqD"),p=n("Mht8"),h=n("zb5D");function m(e,t){const n=Object(o.createContext)({state:{status:"idle"},loadOnce:()=>{throw new Error("Dependency ".concat(e," not provided via context."))}});return n.displayName=e,{name:e,loader:t,context:n}}function f(e){const{dependency:t,renderLoading:n,children:o}=e,r=v(t),i=Object(a.c)({state:r,spinAfterMs:300,render(e){if(n)return n(e)}});return"resolved"===r.status?Object(c.a)(o(r.value)):i}function g(e){const{dependency:t,children:n,value:i}=e,s=Object(o.useRef)(500),[c,m]=Object(a.b)(async e=>{"rejected"===e&&await Promise.all([u.h(s.current),d.a.waitUntil(()=>d.a.state.online)]);try{const e=await t.loader();return s.current=500,{result:e,dependency:t}}catch(n){throw p.log({level:"warning",from:"useDependency",type:"loadError",error:Object(h.a)(n),data:{miscDataToConvertToString:{waitMs:s.current},name:t.name}}),s.current=Math.min(2*s.current,3e4),n}},[t],{debugName:t.name}),f=Object(o.useMemo)(()=>c.value&&c.value.dependency!==t?{status:"idle"}:"idle"===c.status?{...c,value:c.value?c.value.result:void 0}:"resolved"===c.status?{status:c.status,value:c.value.result}:"rejected"===c.status?c:"pending"===c.status?{...c,value:c.value?c.value.result:void 0,error:c.error}:void Object(l.e)(c),[c,t]);let g="idle"===f.status||"rejected"===f.status;const b=Object(o.useCallback)((function(){g&&(g=!1,m(f.status))}),[g,f]),v=Object(o.useMemo)(()=>({state:f,loadOnce:b}),[f,b]);return r.a.createElement(t.context.Provider,{value:i||v},n)}const b=Object(o.memo)(e=>Object(c.a)(e.children));function v(e){const t=Object(o.useContext)(e.context);return Object(o.useEffect)(()=>{"idle"!==t.state.status&&"rejected"!==t.state.status||t.loadOnce()},[t]),t.state}function y(e,t){let n={status:"idle"};return async function(){n={status:"pending"};try{n={status:"resolved",value:await e.loader()}}catch(o){n={status:"rejected",error:o},p.log({level:"error",from:"useDependency",type:"eagerLoadError",error:Object(h.a)(o),data:{consumer:t,name:e.name}})}}(),function(o){if("rejected"===n.status)throw n.error;if("resolved"===n.status)return o?o(n.value):n.value;p.log({level:"warning",from:"useDependency",type:"consumedBeforeLoaded",data:{consumer:t,name:e.name}})}}const S={katex:m("katex",async()=>{const[e]=await Promise.all([n.e(18).then(n.t.bind(null,"Oy/b",7)),Object(i.b)(s.a.katex.katexMinCss,i.a.Stylesheet)]);return await n.e(18).then(n.t.bind(null,"L6Rs",7)),e}),reactPDF:m("react-pdf",()=>Promise.all([n.e(24),n.e(15)]).then(n.t.bind(null,"x0Sh",7))),SpaceSettings:m("SpaceSettings",async()=>Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"J9+n"))),SpaceSubscriptionUpdatePaymentMethodModal:m("SpaceSubscriptionUpdatePaymentMethodModal",async()=>n.e(4).then(n.bind(null,"tYXx"))),AppComponents:m("AppComponents",async()=>Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"Cihu"))),menus:m("menus",async()=>{const[{default:e},{default:t},{default:o},{default:r},{default:a},{default:i},{default:s},{default:l},{default:c}]=await Promise.all([Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"XOx9")),Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"7ObC")),Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"B0TY")),Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"YqZh")),Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"Q2G9")),Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"b1fY")),Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"e3h8")),Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"+mXA")),Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"KEFq"))]),[{default:d},{default:u},{default:p},{default:h},{default:m}]=await Promise.all([Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"Wyaw")),Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"gbUl")),Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"NcKA")),Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"P9PB")),Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"8evV"))]);return{MoveToMenuRenderer:e,CustomizePageMenuRenderer:t,ImportModal:o,ExportModal:r,PageTemplateModal:a,GoogleAuthPromptModal:i,StudentNotEligibleModal:s,CsatPopup:l,EnterpriseContactModal:c,SpacePermissionSettingsTrialModal:d,Search:u,ForkPagePopup:p,DatePropertyMenu:h,ReportPageModal:m}}),blockPermissionsSettings:m("blockPermissionsSettings",async()=>await Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"smsn"))),permissionsInvite:m("permissionsInvite",async()=>await Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"DQmc"))),mobile:m("mobile",async()=>{const[{default:e},{default:t},{default:o},{default:r},{default:a},{default:i},{default:s},{default:l}]=await Promise.all([Promise.all([n.e(1),n.e(11)]).then(n.bind(null,"QvPY")),Promise.all([n.e(1),n.e(11)]).then(n.bind(null,"tCjx")),Promise.all([n.e(1),n.e(11)]).then(n.bind(null,"ZKzj")),Promise.all([n.e(1),n.e(11)]).then(n.bind(null,"fJfa")),Promise.all([n.e(1),n.e(11)]).then(n.bind(null,"Acox")),Promise.all([n.e(1),n.e(11)]).then(n.bind(null,"W8UH")),Promise.all([n.e(1),n.e(11)]).then(n.bind(null,"nPEg")),Promise.all([n.e(1),n.e(11)]).then(n.bind(null,"OeJx"))]);return{SidebarMobile:e,MobileBottomBar:t,MobileActionBar:o,NativeMobileActionBar:r,TopbarMobile:a,MobileCalendarDayMenu:i,MobileModal:s,CollectionMobileSearch:l}}),desktop:m("desktop",async()=>{const[{PushNotification:e}]=await Promise.all([await n.e(5).then(n.bind(null,"3Tmf"))]);return{PushNotification:e}}),mermaidAPI:m("mermaidAPI",async()=>{const e=(await Promise.all([n.e(21),n.e(10)]).then(n.t.bind(null,"+9vr",7))).default.mermaidAPI;return e.initialize({startOnLoad:!1,securityLevel:"strict"}),e}),markdownLinkifyIt:m("markdown-linkify-it",async()=>{const[e,t]=await Promise.all([n.e(20).then(n.t.bind(null,"1M3H",7)),n.e(20).then(n.t.bind(null,"+80P",7))]);return{MarkdownIt:e.default,LinkifyIt:t.default}}),prismjs:m("prismjs",async()=>{const e=await Promise.resolve().then(n.bind(null,"a9+E")),t=await e.importPrism();return t.languages.scss&&(t.languages.scss.url=/(?:[-a-z]+-)*url/i),t}),payments:m("payments",async()=>{const[e,{default:t}]=await Promise.all([n.e(13).then(n.t.bind(null,"eWwy",7)),n.e(13).then(n.bind(null,"+A+3")),n.e(13).then(n.bind(null,"nQ/L"))]);return{stripeReact:e,SpaceSubscriptionUpgradeModal:t}}),integrations:m("integrations",async()=>{const[{default:e},{default:t},{default:o}]=await Promise.all([n.e(8).then(n.bind(null,"72TW")),n.e(8).then(n.bind(null,"+Znt")),n.e(8).then(n.bind(null,"uk6B"))]);return{DeveloperIntegrationsList:e,DeveloperIntegration:t,DeveloperIntegrationsCreate:o}})},w=Object.values(S);function k(e){const{children:t}=e;return w.reduce((e,t)=>r.a.createElement(g,{dependency:t},e),r.a.createElement(b,null,t))}function C(e,t){const n=function({renderLoading:n,...o}){return r.a.createElement(f,{renderLoading:n,dependency:e},e=>{const n=t(e),a=o;return r.a.createElement(n,Object.assign({},a))})};return n.displayName="DependencyComponent(".concat(e.name,")"),n}function M(e,t){const n=function({renderLoading:n,...o},a){return r.a.createElement(f,{renderLoading:n,dependency:e},e=>t(e,{...o,ref:a}))};return n.displayName="withDependency(".concat(e.name,")"),Object(o.forwardRef)(n)}const E=C(S.AppComponents,e=>e.default),_=C(S.SpaceSettings,e=>e.default),T=C(S.SpaceSubscriptionUpdatePaymentMethodModal,e=>e.SpaceSubscriptionUpdatePaymentMethodModal),x=C(S.menus,e=>e.MoveToMenuRenderer),I=C(S.menus,e=>e.CustomizePageMenuRenderer),P=C(S.menus,e=>e.PageTemplateModal),O=C(S.menus,e=>e.ImportModal),B=C(S.menus,e=>e.ExportModal),L=C(S.menus,e=>e.ReportPageModal),R=C(S.menus,e=>e.GoogleAuthPromptModal),D=C(S.menus,e=>e.StudentNotEligibleModal),A=C(S.menus,e=>e.CsatPopup),j=C(S.menus,e=>e.EnterpriseContactModal),F=C(S.menus,e=>e.SpacePermissionSettingsTrialModal),V=C(S.menus,e=>e.Search),N=C(S.menus,e=>e.ForkPagePopup),U=C(S.menus,e=>e.DatePropertyMenu),z=C(S.blockPermissionsSettings,e=>e.default),X=C(S.permissionsInvite,e=>e.default),Y=C(S.mobile,e=>e.SidebarMobile),H=C(S.mobile,e=>e.CollectionMobileSearch),q=C(S.mobile,e=>e.MobileModal),W=C(S.mobile,e=>e.MobileCalendarDayMenu),G=C(S.mobile,e=>e.TopbarMobile),Z=C(S.mobile,e=>e.MobileActionBar),K=C(S.mobile,e=>e.NativeMobileActionBar),J=C(S.mobile,e=>e.MobileBottomBar),Q=C(S.payments,e=>e.SpaceSubscriptionUpgradeModal),$=C(S.integrations,e=>e.DeveloperIntegrationsList),ee=C(S.integrations,e=>e.DeveloperIntegrationsCreate),te=C(S.integrations,e=>e.DeveloperIntegration)},gND8:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("Cycz"),i=n("wldR"),s=n("pqiZ"),l=n("LvDl"),c=n.n(l);var d=function(e){return e=c.a.assign({percent:.1},e),r.a.createElement("div",{style:c.a.assign({position:"relative",minWidth:30,height:5,borderRadius:1,overflow:"hidden"},e.style)},r.a.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",background:"currentColor",opacity:.1}}),r.a.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"".concat(100*e.percent,"%"),minWidth:2,background:"currentColor",opacity:.6}}))},u=n("MeYt"),p=n("J9+s"),h=n("r8MX"),m=n("DbeH"),f=n("Mkmb");class g extends i.a{constructor(){super(...arguments),this.handleClick=()=>{m.a(this.environment,{from:"sidebar"===this.props.source?"block_limit_sidebar":"block_limit_settings",for:"team"})}}renderComponent(){const{data:e}=h.default.state;if(!e||!a.M(this.environment))return;const t=a.q(this.environment,e);return"sidebar"===this.props.source&&t<f.a?void 0:r.a.createElement(o.Fragment,null,this.renderDivider("settings"===this.props.source),r.a.createElement(u.a,{style:g.buttonStyle,onClick:this.handleClick},r.a.createElement("div",{style:g.headerStyle},r.a.createElement(p.FormattedMessage,{id:"spaceSettings.sidebar.upgradeLink",defaultMessage:"Upgrade to go unlimited"})),r.a.createElement("div",{style:g.labelStyle},r.a.createElement("div",{style:this.usageLabelStyle(t)},a.p(this.environment,e)),r.a.createElement(d,{style:{marginTop:12,marginBottom:12},percent:t}),r.a.createElement("div",{style:g.ctaStyle},r.a.createElement(p.FormattedMessage,{id:"spaceSettings.sidebar.button.upgrade",defaultMessage:"Upgrade plan"})))))}renderDivider(e){return e?r.a.createElement(s.a,{size:27,style:{paddingLeft:14,paddingRight:14}}):r.a.createElement(s.a,{size:0})}usageLabelStyle(e){return e>f.b?this.theme.calloutBlockColors.red:{}}}g.buttonStyle={padding:14,fontSize:12,lineHeight:1.4},g.headerStyle={fontWeight:500,lineHeight:2},g.labelStyle={fontWeight:400},g.ctaStyle={textDecoration:"underline"};t.a=g},gRnv:function(e,t,n){"use strict";n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return k}));var o=n("g90h"),r=n("cBa6"),a=n("N34Z"),i=n("MBf9"),s=n("6rsX"),l=n("7TLZ"),c=n("RI9y"),d=n("unoy"),u=n("Uc+B"),p=n("VpIZ"),h=n("y6Dp"),m=n("NMKT"),f=n("3k5a"),g=n("w5u6"),b=n("B2+S");async function v(e){const{environment:t,blockStore:n,textStore:o,selection:r}=e,a=c.get();if(!a)return;const i=c.getRect(a);if(!i)return;const l=i.width,p=i.height,f=i.right-l,v=new u.a(t);b.a.setState({open:!0,rect:{top:i.top,left:f,right:i.right,bottom:i.top+p,height:p,width:l},type:"inline",blockStore:n,textStore:o,selection:r,discussionInputStore:v}),m.a(),await g.default.afterNextFlush(),s.e(t),d.o({store:v.state.textStore}),h.Zc(t)}async function y(e){const{environment:t,blockStore:n}=e,o=f.a.getRect(n);if(!o)return;const r=new u.a(t),a=o.width,i=o.height,l=o.right-a;b.a.setState({open:!0,rect:{top:o.top,left:l,right:o.right,bottom:o.top+i,height:i,width:a},type:"block",blockStore:n,discussionInputStore:r}),await g.default.afterNextFlush(),s.e(t),d.o({store:r.state.textStore}),h.Yc(t)}function S(e){const t=b.a.state;t.open&&(b.a.setState({open:!1,rect:t.rect}),s.e(e))}function w(e){const{environment:t,textStore:n,selection:s,commentTextValue:c,transaction:d}=e,{id:u}=t.currentUser;if(!u)return;const p=n.getValue();if(!p)return;const m=Object(o.b)(),f=r.a({textValue:p,selection:s,annotation:["m",m]});a.c({store:n,value:f,transaction:d});const g=r.ab(f,s.startIndex,s.endIndex),b=a.b({environment:t,table:"comment",value:{parent_id:m,parent_table:"discussion",text:c,alive:!0},inMemoryRecordCache:n.inMemoryRecordCache,transaction:d}),v=n.getRecordStoreAtRootPath();a.b({environment:t,table:"discussion",value:{id:m,parent_id:v.id,parent_table:v.table,context:g,resolved:!1,comments:[b.id]},inMemoryRecordCache:n.inMemoryRecordCache,transaction:d});const y=l.g(v);i.addOperation({transaction:d,store:y,operation:{pointer:y.pointer,path:y.path,command:"listAfter",args:{id:m,after:void 0}}}),h.gb(t)}function k(e){const{environment:t,blockStore:n,commentTextValue:s,transaction:c}=e,{id:d}=t.currentUser;if(!d)return;const u=Object(o.b)(),m=a.b({environment:t,table:"comment",value:{parent_id:u,parent_table:"discussion",text:s,alive:!0},inMemoryRecordCache:n.inMemoryRecordCache,transaction:c});let f;const g=n.getValue();if(g&&p.G(g)&&!p.z(g)){const e=g.properties&&g.properties.title;f=r.ib(r.bb(e))}const b=a.b({environment:t,table:"discussion",value:{id:u,parent_id:n.id,parent_table:n.table,resolved:!1,context:f,comments:[m.id]},inMemoryRecordCache:n.inMemoryRecordCache,transaction:c}),v=l.g(n);return i.addOperation({transaction:c,store:v,operation:{pointer:v.pointer,path:v.path,command:"listAfter",args:{id:u,after:void 0}}}),h.jb(t),b}},gYhp:function(e,t,n){"use strict";var o=n("Uv1v");class r extends o.a{}t.a=new r},gbGO:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("17x9"),l=n.n(s),c=n("wldR"),d=n("8fuX"),u=n("7M94");var p,h=n("gHFd");n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),function(e){e[e.Modal=0]="Modal",e[e.ActionSheet=1]="ActionSheet",e[e.Popup=2]="Popup"}(p||(p={}));const m={menuType:l.a.any,...c.b};class f extends c.a{constructor(){super(...arguments),this.handleWindowClick=e=>{if(this.props.menuType!==p.Popup)return;if(!this.props.onClickOutside)return;const t=i.a.findDOMNode(this);t&&e.target&&function(e){const{menuElement:t,clickedElement:n}=e;return t!==n&&!t.contains(n)&&(!n.classList.contains("notion-link")&&!(n.closest(".".concat(u.kb))&&!n.closest(".".concat(u.pb))&&!n.closest(".".concat(u.E))&&!n.closest(".".concat(u.mb))))}({clickedElement:e.target,menuElement:t})&&this.props.onClickOutside(e)}}getChildContext(){return{...this.context,menuType:this.props.menuType}}willMount(){this.props.menuType===p.Popup&&this.props.onClickOutside&&window.addEventListener("click",this.handleWindowClick)}willUnmount(){this.props.menuType===p.Popup&&this.props.onClickOutside&&window.removeEventListener("click",this.handleWindowClick)}renderComponent(){return this.props.menuType===p.Modal?r.a.createElement(h.LazyMobileModal,Object.assign({},this.props),this.renderMenu()):this.renderMenu()}renderMenu(){return r.a.createElement("div",{className:this.props.className,onMouseEnter:this.props.onMouseEnter,onMouseDown:this.props.onMouseDown,onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onContextMenu:this.props.onContextMenu,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.props.onTouchEnd,onTouchCancel:this.props.onTouchCancel,style:this.getWrapStyle()},this.renderHeader(),this.renderContent(),r.a.createElement("footer",{style:{flexShrink:0}},this.props.footer))}renderHeader(){if(this.props.header)return this.props.tokenInputHeader?r.a.createElement(d.b,{type:d.a.Y,style:{flexShrink:0,maxHeight:240,boxShadow:"inset 0 -1px ".concat(this.theme.darkDividerColor)}},this.props.header):r.a.createElement("div",{style:{flexShrink:0}},this.props.header)}renderContent(){if(this.props.children)return this.props.disableScroller?r.a.createElement("div",{style:this.getScrollerStyle()},this.props.children):r.a.createElement(d.b,{type:d.a.Y,style:this.getScrollerStyle(),onScroll:this.props.onScroll},this.props.children)}getWrapStyle(){const{WindowSizeStore:e}=this.environment;if(this.props.menuType===p.Popup){const e={minWidth:180,maxWidth:"calc(100vw - 24px)",height:"100%",maxHeight:"70vh"};return{display:"flex",flexDirection:"column",width:this.props.width,minWidth:this.props.minWidth||e.minWidth,maxWidth:this.props.maxWidth||e.maxWidth,height:this.props.height||e.height,maxHeight:this.props.maxHeight||e.maxHeight,minHeight:this.props.minHeight}}return this.props.menuType===p.ActionSheet?{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxHeight:"70vh",background:this.theme.contentBackground,paddingBottom:this.props.footer&&!this.props.disableBottomPadding?e.state.paddingBottomCSS:0}:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxHeight:"100vh",minHeight:0,background:this.props.whiteBackground?this.theme.contentBackground:this.theme.sidebarBackground,paddingBottom:this.props.footer?e.state.paddingBottomCSS:0}}getScrollerStyle(){const{WindowSizeStore:e}=this.environment,{scrollerStyle:t}=this.props;return this.props.menuType===p.Popup?{flexGrow:1,minHeight:0,transform:"translateZ(0)",...t}:this.props.menuType===p.ActionSheet?{flexGrow:1,minHeight:0,paddingBottom:this.props.footer||this.props.disableBottomPadding?0:e.state.paddingBottomCSS,...t}:{flexGrow:1,minHeight:0,paddingBottom:this.props.footer?0:e.getSafePaddingBottomCSS(72),...t}}}f.MenuType=p,f.contextTypes=c.b,f.childContextTypes={...m,...c.b};t.b=f},ggCg:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{focused:!1}}}t.a=r},gha2:function(e,t,n){"use strict";var o=n("g4rC");t.a=new o.a},glAM:function(e,t,n){"use strict";n("3bBZ");t.a=class{constructor(){this.listeners={}}addListener(e,t){let n=this.listeners[e];n||(n=new Set,this.listeners[e]=n),n.add(t)}addOnceListener(e,t){const n=(...o)=>{this.removeListener(e,n),t(...o)};this.addListener(e,n)}removeListener(e,t){const n=this.listeners[e];n&&(n.delete(t),0===n.size&&delete this.listeners[e])}emit(e,...t){const n=this.listeners[e];n&&n.forEach(e=>e(...t))}listenerCount(e){const t=this.listeners[e];return t?t.size:0}}},gp1y:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return c}));var o=n("fIr1");const r="user_7d",a="user_28d",i="user_90d",s="user_180d",l="template_7d",c="passive",d={table:"csat_feedback",columnTypes:{id:o.a.UUID,user_id:o.a.UUID,space_id:o.a.UUID,additional_feedback:o.a.String,rating:o.a.Number,created_time:o.a.Number,version:o.a.Number,last_version:o.a.Number,use_case:o.a.String,milestone:o.a.String,template_id:o.a.String}};t.g=d},guIK:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));n("3bBZ");var o=n("bkwR"),r=n("yUnD"),a=n("p0Ff"),i=n("HRSx"),s=n("Fe7V"),l=n("Catn"),c=n("ocLp"),d=n("922z"),u=n("3U9E");async function p(e){if(!u.a.getSharedPagesState(e))return h(e)}async function h(e){const{environment:t,userId:n,spaceId:p}=e,h=u.a.getSharedPagesState(e);if(h&&h.loading)return;const f=async function*(e,t,n){try{const n=await c.a.measure("loadUserSharedPages","(current user)",()=>async function(e,t){const{id:n}=e.currentUser;if(!n)throw new Error("Must be logged in.");if(!e.PersistedRecordCache)throw new Error("No local database found.");const o=l.a.get({userId:n,key:m({userId:n,spaceId:t.spaceId})})||void 0;if(!o)throw new Error("No local shared pages found.");const a=await r.a({environment:e,recordPointers:o.map(e=>({table:i.a,id:e})),recurFn:()=>[],recordIsRequired:()=>!1});return{pages:o,recordMap:a.toJson()}}(e,{spaceId:t}));s.g({environment:e,inMemoryRecordCache:a.default,recordMap:new d.a(n.recordMap)}),yield n}catch(p){}const u=await o.getUserSharedPagesInSpace(e,{includeDeleted:!0,spaceId:t},n);"success"===u.type&&(e.PersistedRecordCache&&l.a.set({userId:e.currentUser.id,key:m({userId:n,spaceId:t}),value:u.data.pages}),yield u.data)}(t,p,n);for await(const o of f)u.a.setSharedPagesState({spaceId:p,userId:n,state:{loading:!0,currentPageIds:o.pages}});const g=u.a.getSharedPagesState(e);g&&g.currentPageIds?u.a.setSharedPagesState({spaceId:p,userId:n,state:{loading:!1,currentPageIds:g.currentPageIds}}):u.a.setSharedPagesState({spaceId:p,userId:n,state:void 0})}function m(e){return"UserSharedPagesInSpace:".concat(e.userId,":").concat(e.spaceId)}},gyBu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o,r=n("LEzx");!function(e){e[e.Members=0]="Members",e[e.Groups=1]="Groups",e[e.Guests=2]="Guests"}(o||(o={}));class a extends r.a{getInitialState(){return{currentTab:o.Members,limitMembers:!0,limitGuests:!0,membersFilter:"",guestsFilter:"",groupsFilter:"",groupNameInputValue:"",upsellModalOpen:!1}}}t.b=a},gyLq:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("Junv");var o=n("q1tI"),r=n.n(o);function a(e){const{style:t,row:n,column:o,reverse:r,inline:a,...i}=e,s={display:a?"inline-flex":"flex"};return o?s.flexDirection=r?"column-reverse":"column":n?s.flexDirection=r?"row-reverse":"row":r&&(s.flexDirection="row-reverse"),Object.assign(s,i,t)}class i extends r.a.Component{static styles(e={}){return a({...e,row:!0})}render(){const{children:e,...t}=this.props;return r.a.createElement("div",{style:i.styles(t)},e)}}r.a.Component},h2IJ:function(e,t,n){"use strict";var o=n("rQgN");t.a=new o.a("KeyValueStore2",!0)},h5Kq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o,r=n("q1tI"),a=n.n(r),i=n("wldR"),s=n("zmp8"),l=n("Sb6f");!function(e){e.Red="red",e.Blue="blue",e.Beige="beige",e.White="white"}(o||(o={}));class c extends i.a{renderComponent(){return a.a.createElement("div",{style:this.getBannerStyle(this.props.type,this.props.shouldUseDivider)},this.props.children)}getBannerStyle(e,t){const{isMobile:n}=this.props;let r={};const{WindowSizeStore:a}=this.environment;return r=e===o.Red?{color:s.g.white,background:s.g.red,...n&&{justifyContent:"flex-start"}}:e===o.Blue?{color:s.g.white,fill:s.g.white,background:s.g.blue,...n&&{paddingLeft:a.getSafePaddingLeftCSS(10),paddingRight:14}}:e===o.Beige?{background:this.theme.beigeBannerBackground,paddingLeft:n?12:18,paddingRight:n?14:16}:e===o.White?{background:this.theme.contentBackground,color:this.theme.lightTextColor,fill:this.theme.lightIconColor,height:45,padding:0,borderTop:"1px solid ".concat(this.theme.darkDividerColor),boxShadow:"0 1px 0 ".concat(this.theme.darkDividerColor)}:{color:this.theme.regularInvertedTextColor,background:this.theme.tooltipBackground},{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",...!n&&{padding:"0px 12px"},...n&&{paddingLeft:a.getSafePaddingLeftCSS(14),paddingRight:a.getSafePaddingRightCSS(14)},fontSize:this.props.isMobile?l.a.fontSize.UIRegular.mobile:l.a.fontSize.UIRegular.desktop,lineHeight:1.2,cursor:"default",...t?{minHeight:45,borderBottom:"1px solid ".concat(s.g.halfWhite)}:{minHeight:44},...r}}}t.b=c},hJ5A:function(e,t,n){"use strict";n("c9m3"),n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("Mht8"),i=n("p0Ff"),s=n("bkwR"),l=n("VBxf"),c=n("Fe7V"),d=n("ddTe"),u=n("g90h"),p=n("5xGH"),h=n("J9+s"),m=n("vl8/"),f=n("zzAG"),g=n("SRc3");function b(e,{allowSquashing:t}){if(0===e.length)return{squashedTasks:[]};const n={squashedTasks:[],userId:e[0].userId};function o(e){const o=r.a.last(n.squashedTasks),a=o?o.task:void 0;o&&a&&t&&function(e,t){function n(e){const t=e.operations.map(e=>e.pointer);return r.a.uniqWith(t,r.a.isEqual)}const o=n(e),a=n(t);return 1===o.length&&1===a.length&&r.a.isEqual(o,a)}(a,e)?(a.operations=Object(g.c)([...a.operations,...e.operations]),o.subTasks.push(e)):n.squashedTasks.push({task:{...e},subTasks:[e]})}for(const r of e){if(n.userId!==r.userId)return n;if(JSON.stringify(n.squashedTasks.flatMap(e=>e.task.operations)).length>=v)return 0===n.squashedTasks.length&&o(r),n;o(r)}return n}const v=1e5;var y=n("2ZkR"),S=n("zb5D");n.d(t,"a",(function(){return C}));const w=Object(h.defineMessages)({requestTooLarge:{id:"transactionHelpers.requestTooLargeError.message",defaultMessage:"Sorry, that request was too large. Try import instead?"}});let k=!1;async function C(e){if(k)return{value:[]};const{environment:t,tasks:n}=e,{userId:o,squashedTasks:i}=b(n,{allowSquashing:"on"===y.default.getGroup(t,"collapse-client-operations")}),c=i.map(e=>({id:e.task.id,spaceId:e.task.spaceId,operations:e.task.operations})),d=Object(u.b)(),h=await s.saveTransactions(t,{requestId:d,transactions:c},o);if("success"===h.type)return{value:i.flatMap(e=>e.subTasks)};if(("Notion is unavailable, please try again later."!==h.error.message&&!h.error.data.offline||Math.random()<.01)&&a.log({level:"error",from:"transactionActions",type:"ClientTransactionError",error:{miscErrorString:Object(S.c)(h)},data:{requestId:d,miscDataToConvertToString:{transactions:c},userId:t.currentUser.id}}),413===h.status){a.log({level:"error",from:"transactionActions",type:"ClientTransaction413Error",error:{miscErrorString:Object(S.c)(h)},data:{userId:t.currentUser.id,requestId:d}});const e=JSON.stringify(c),n=Math.ceil(e.length/v);for(let o=0;o<n;o++)a.log({level:"error",from:"transactionActions",type:"ClientTransaction413ErrorRecovey",error:{miscErrorString:Object(S.c)(h)},data:{userId:t.currentUser.id,requestId:d,miscDataToConvertToString:{chunkTotal:n,chunkIndex:o,operationChunk:e.slice(o*v,(o+1)*v)}}});l.showErrorMessage(m.default.formatMessage(w.requestTooLarge))}if(Object(p.c)(h.body)){if(Object(p.f)(h.body.clientData)){const{errors:e}=h.body.clientData,n=e[0],o=i.findIndex(e=>e.task.id===n.id);if(o<0)return E(t,d,n),{error:{message:n.name,retryDelay:0,savedTasks:[],failedTasks:[]}};const r=i.slice(0,o).flatMap(e=>e.subTasks),a=[],s=[],l=[];let c=o;for(const h of e){const e=i[c];h.id===e.task.id?(h.retryable?s.push(h):(await M(t,d,e.task),e.subTasks.forEach(e=>a.push(e)),l.push(h)),c++):E(t,d,h)}const u=[_(s),_(l)].join(" and "),p=s.length>0?2e3:0;return{error:{savedTasks:r,failedTasks:a,message:u,retryDelay:p}}}if(r.a.includes(T,h.status))return await Promise.all(i.map(e=>M(t,d,e.task))),{error:{savedTasks:[],failedTasks:i.flatMap(e=>e.subTasks),message:Object(f.b)(m.default.getIntl(),h),retryDelay:0}}}return{error:{savedTasks:[],failedTasks:[],message:Object(f.b)(m.default.getIntl(),h),retryDelay:5e3}}}async function M(e,t,n){try{const t=r.a.uniqBy(n.operations,e=>e.pointer.id);await Promise.all(t.map(({pointer:t})=>c.d({environment:e,inMemoryRecordCache:i.default,pointer:t,userId:n.userId})))}catch(o){a.log({level:"error",from:"transactionActions",type:"ClientTransactionCleanupError",error:Object(S.a)(o),data:{userId:e.currentUser.id,requestId:t}})}}function E(e,t,n){a.log({level:"error",from:"transactionActions",type:"ClientTransactionNotFoundError",error:Object(S.a)(n),data:{userId:e.currentUser.id,requestId:t}})}function _(e){if(e.length>0)return"".concat(e.length," ").concat(e[0].retryable?"retryable":"failed"," errors: ").concat(e[0].name)}Object(d.exposeDebugValue)("toggleTransactionQueue",()=>{k=!k,console.info(k?"Transactions paused":"Transactions resumed")});const T=[400,413]},hODJ:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("N34Z"),i=n("H4VD"),s=n("VBxf"),l=n("y6Dp"),c=n("QuSn"),d=n("qqdV"),u=n("Catn"),p=n("uN94"),h=n("6dM0"),m=n("Rd/G"),f=n("VhAz"),g=n("MBf9"),b=n("Fe7V"),v=n("sdlW"),y=n("hvW1"),S=n("ju2U"),w=n("p+Y9"),k=n("UiOz"),C=n("lKX+"),M=n("p0Ff"),E=n("wpmu"),_=n("HRSx"),T=n("G4cA"),x=n("HTHG"),I=n("A9TN"),P=n("Mht8"),O=n("VAix"),B=n("D2XV"),L=n("J9+s"),R=n("vl8/"),D=n("bkwR"),A=n("h2IJ"),j=n("FUUC"),F=n("LvDl"),V=n.n(F),N=n("QcDD"),U=n("8L2b"),z=n("qX+M"),X=n("hnPE");const Y=Object(L.defineMessages)({joiningWorkspace:{id:"onboardingStateActions.joiningWorkspace.loadingMessage",defaultMessage:"Joining team…"},creatingWorkspace:{id:"onboardingStateActions.creatingWorkspace.loadingMessage",defaultMessage:"Getting ready…"},errorNoAction:{id:"onboardingStateActions.errorMessage.noActionToPerform",defaultMessage:"No action to perform for {onboardingRedirectType}",description:"This error is shown to the user when there is no workspace or page to redirect the user to after onboarding. Example of onboardingRedirectType is 'redirect_space' or 'guest_redirect'"}});async function H(e,t){if(!e.isOnboarding)return{isOnboarding:!1,isLoading:!1,currentUserId:t.currentUser.id};const n={...e,stageNumber:e.stageNumber+1};switch(n.stage){case"gdpr":return q(n,t);case"profile":return W(n,t);case"workspace_choose":return async function(e,t){const{redirectData:n}=e;if("guest_redirect"===n.type)return ne(e,n,"guest",t);if("create"===e.spaceJoinOrCreate)return{...oe(e),...e,stage:"workspace_plan_choose",initialUseCases:[]};{const n=await $(e,t),{spaceId:o,spaceViewId:r,redirectData:a}=n;if("desktop_cold_start"===e.flow||"desktop_join_or_create_space"===e.flow||"desktop_joinable_spaces"===e.flow||"desktop_redirect"===e.flow)return await J({environment:t,onboardingData:e.onboardingData,spaceId:o,spaceViewId:r,spaceJoinOrCreate:e.spaceJoinOrCreate,redirectData:a,onboardingFlow:e.flow,onboardingStage:e.stage,onboardingState:e}),{isOnboarding:!1,isLoading:!1,currentUserId:t.currentUser.id};if("mobile_join_or_create_space"===e.flow){const o={...e,...n};return Z(e.onboardingData,o,t)}if("mobile_cold_start"===e.flow||"mobile_joinable_spaces"===e.flow||"mobile_redirect"===e.flow){return K({onboardingState:{...e,...n},environment:t,flow:e.flow})}return f.e(e.flow)}}(n,t);case"workspace_plan_choose":return function(e,t){const{initialUseCases:n,onboardingData:o}=e,r=o.userStore.getValue(),a={...e,initialUseCases:[],stage:"workspace_create",spaceIcon:null,uploadingSpaceIcon:!1};if("userType"in e&&"personal"===e.userType&&r&&r.given_name){return G({...a,userType:e.userType,userPersona:e.userPersona||"unfilled",spaceName:h.h(r.given_name,R.default.getIntl()),spaceIcon:r.profile_photo||null,initialUseCases:n},t)}return a}(n,t);case"workspace_create":return G(n,t);case"invite":return async function(e,t){return await Object(h.r)(e,t),"desktop_cold_start"===e.flow||"desktop_join_or_create_space"===e.flow||"desktop_joinable_spaces"===e.flow||"desktop_redirect"===e.flow?(await J({environment:t,onboardingData:e.onboardingData,spaceId:e.spaceId,spaceViewId:e.spaceViewId,spaceJoinOrCreate:e.spaceJoinOrCreate,redirectData:e.redirectData,onboardingFlow:e.flow,onboardingStage:e.stage,onboardingState:e}),h.v(t)?{isOnboarding:!1,isLoading:!1,currentUserId:t.currentUser.id}:{...e,flow:e.flow,stage:"template_optout"}):"mobile_join_or_create_space"===e.flow?Z(e.onboardingData,e,t):"mobile_cold_start"===e.flow||"mobile_joinable_spaces"===e.flow||"mobile_redirect"===e.flow?K({onboardingState:e,environment:t,flow:e.flow}):f.e(e.flow)}(n,t);case"template_optout":return function(e,t){return{isOnboarding:!1,isLoading:!1,currentUserId:t.currentUser.id}}(0,t);case"mobile_editor":return function(e){return{...e,stage:"mobile_sidebar"}}(n);case"mobile_sidebar":return function(e){return{...e,stage:"mobile_desktop"}}(n);case"mobile_desktop":return function(e){return{...e,stage:"mobile_web_clipper"}}(n);case"mobile_web_clipper":return async function(e,t){return"mobile_existing_user"===e.flow?async function(e,t){const n=await async function(e,t){const n="spaceId"in e.redirectData&&e.redirectData.spaceId,{onboardingData:o,redirectData:r}=e;if(n){const a=await ee({environment:t,onboardingData:o,redirectData:r,spaceId:n});return{...e,...a,spaceId:n,stage:"mobile_web_clipper"}}if("fork_page"===r.type){const n=x.j(o.userRootStore);if(n.length>0){const a=n[0].getSpaceId();if(a){const i=T.a.createChildStore(o.userRootStore,{table:j.a,id:a}),s=await v.i({environment:t,userRootStore:o.userRootStore,isPrivate:!0,forkedPageId:r.pageId,spaceStore:i,spaceViewStore:n[0]}),l=te(r,s);return{...e,redirectData:l,spaceViewId:n[0].id,spaceId:a}}}}return e}(e,t);return Z(e.onboardingData,n,t)}(e,t):Z(e.onboardingData,e,t)}(n,t);case"error":return function(e){return{isOnboarding:!1,isLoading:!1,currentUserId:e.currentUser.id}}(t);default:f.e(n)}}function q(e,t){const n=e.onboardingData.userStore.getValue(),o=n?n.given_name:void 0,r=n?n.family_name:void 0,a=n&&n.profile_photo||null,i=h.l(n),s={...e,stage:"profile",firstName:o,lastName:r,uploadingProfilePhoto:!1,profilePhoto:a,prefilled:i,passwordErrorData:null};return o&&r?W({...s,firstName:o,lastName:r,password:null,userPersona:"unfilled",userTeamRole:"unfilled"},t):s}async function W(e,t){await Object(h.s)(e,t),h.v(t)&&h.t(t,e);const{password:n,...o}=e,r=A.a.get(h.z),{onboardingData:a,redirectData:s}=o,l=Object(h.e)({onboardingData:a,isNewUserFlow:h.n(o)});if("guest_redirect"===s.type)return ne(o,s,"guest",t);if("redirect_page"===s.type||"redirect_space"===s.type)return ne(o,s,"member",t);if("public_access_page_redirect"===s.type)return function(e,t,n){return Q({environment:n,permissionLevel:"public",onboardingState:e}),Object(i.navigateToBlock)({environment:n,store:new E.a(n,{table:_.a,id:t.pageId})}),{isOnboarding:!1,isLoading:!1,currentUserId:n.currentUser.id}}(o,s,t);if(r){const e=await D.getPublicSpaceData(t,{type:"invite-link",inviteLinkCode:r});if("success"===e.type){const{data:n}=e,{results:a}=n,i=a[0];if(i)return ne(o,{type:"team_invite_redirect",spaceId:i.id,inviteCode:r},"member",t);throw new Error("Space does not exist.")}throw new Error("Failed to load space.")}return l.length>0?{...o,joinableSpaces:l,stage:"workspace_choose"}:{...oe(o),...o,stage:"workspace_plan_choose",spaceJoinOrCreate:"create",initialUseCases:[]}}async function G(e,t){h.t(t,e);const n=await $(e,t);if("personal"!==e.userType){const o=h.c(e.onboardingData),{spaceId:r,spaceViewId:a,inviteLinkCode:i}=n,s=new T.a(t,{table:j.a,id:r}).getValue(),l=i&&s?Object(z.getSpaceInviteLinkUrl)(t,s,i):void 0;return{...e,isChecked:!0,spaceId:r,spaceViewId:a,emails:[],emailDomain:o,inviteLinkUrl:l,stage:"invite"}}if("desktop_cold_start"===e.flow||"desktop_join_or_create_space"===e.flow||"desktop_joinable_spaces"===e.flow||"desktop_redirect"===e.flow){const{spaceId:o,spaceViewId:r,redirectData:a}=n,{flow:i,stage:s,spaceJoinOrCreate:l,onboardingData:c}=e;return await J({environment:t,onboardingData:c,spaceId:o,spaceViewId:r,spaceJoinOrCreate:l,redirectData:a,onboardingFlow:i,onboardingStage:s,onboardingState:e}),{...e,spaceId:o,spaceViewId:r,flow:e.flow,stage:"template_optout"}}if("mobile_join_or_create_space"===e.flow)return Z(e.onboardingData,{...e,...n},t);if("mobile_cold_start"===e.flow||"mobile_joinable_spaces"===e.flow||"mobile_redirect"===e.flow){return K({onboardingState:{...e,...n},environment:t,flow:e.flow})}return f.e(e.flow)}async function Z(e,t,n){return await J({environment:n,onboardingData:e,spaceId:t.spaceId,spaceViewId:t.spaceViewId,spaceJoinOrCreate:t.spaceJoinOrCreate,redirectData:t.redirectData,onboardingFlow:t.flow,onboardingStage:t.stage,onboardingState:t}),{isOnboarding:!1,isLoading:!1,currentUserId:n.currentUser.id}}function K(e){const{onboardingState:t,environment:n,flow:o}=e;if("oauth_authorization_redirect"===t.redirectData.type){const{responseType:e,integrationId:o,redirectUri:r,state:a}=t.redirectData;X.b({environment:n,responseType:e,integrationId:o,redirectUri:r,state:a})}return{...t,flow:o,stage:"mobile_editor"}}async function J(e){const{environment:t,redirectData:n,spaceViewId:o,spaceId:r,onboardingData:a,spaceJoinOrCreate:i,onboardingFlow:s,onboardingState:l}=e;S.c({bannerStore:k.a,id:w.g}),t.device.isMobile&&g.createAndCommit(t,e=>{he({userStore:a.userStore,transaction:e})});const c=o?C.a.createChildStore(a.userRootStore,{table:U.a,id:o}):void 0;if("redirect_page"===n.type&&n.spaceId===r&&c)await b.e({environment:t,pointer:{table:_.a,id:n.pageId},inMemoryRecordCache:M.default,userId:t.currentUser.id}),await v.o({environment:t,spaceViewStore:c,redirectPageId:n.pageId,userSettingsStore:a.userSettingsStore,userRootStore:a.userRootStore});else if("fork_page"===n.type&&c)await v.o({environment:t,spaceViewStore:c,redirectPageId:n.pageId,userSettingsStore:a.userSettingsStore,userRootStore:a.userRootStore});else if("redirect_space"===n.type&&n.spaceId===r&&c)await v.o({environment:t,spaceViewStore:c,userSettingsStore:a.userSettingsStore,userRootStore:a.userRootStore});else if("getting_started_page"!==n.type&&"redirect_space"!==n.type||!c)if("oauth_authorization_redirect"===n.type&&"mobile_cold_start"!==s&&"mobile_joinable_spaces"!==s&&"mobile_redirect"!==s){const{responseType:e,integrationId:o,redirectUri:r,state:a}=n;X.b({environment:t,responseType:e,integrationId:o,redirectUri:r,state:a})}else if(c)await v.o({environment:t,spaceViewStore:c,userSettingsStore:a.userSettingsStore,userRootStore:a.userRootStore});else{if(!a.firstSpaceView)throw new Error(R.default.formatMessage(Y.errorNoAction,{onboardingRedirectType:n.type}));await v.o({environment:t,spaceViewStore:a.firstSpaceView,userSettingsStore:a.userSettingsStore,userRootStore:a.userRootStore})}else await v.o({environment:t,spaceViewStore:c,redirectPageId:n.pageId,userSettingsStore:a.userSettingsStore,userRootStore:a.userRootStore});Q({environment:t,spaceJoinOrCreate:i,permissionLevel:"member",onboardingState:l})}function Q(e){const{environment:t,permissionLevel:n,onboardingState:o}=e;if(!o.isOnboarding)return;const{stage:r,flow:a,onboardingData:i}=o,{userStore:s}=i;g.createAndCommit(t,e=>{pe({userStore:s,transaction:e})}),l.wc(t,{stage:r,flow_name:a,is_create_or_join:"desktop_join_or_create_space"===a||"mobile_join_or_create_space"===a,initial_workspace_type:"public"!==e.permissionLevel?e.spaceJoinOrCreate:void 0,is_new_onboarding:o.isOnboarding&&o.isNewUser,permission_level:n,stage_number:o.isOnboarding?o.stageNumber:void 0})}async function $(e,t){if("join"===e.spaceJoinOrCreate){y.b({message:Y.joiningWorkspace});const n=await ee({environment:t,onboardingData:e.onboardingData,redirectData:e.redirectData,spaceId:e.spaceId});return y.a(),n}{y.b({message:Y.creatingWorkspace});const n=await async function(e){const{environment:t,onboardingData:n,userPersona:o,redirectData:r,spaceName:a,userType:i,spaceIcon:s,isPrivate:c,initialUseCases:d}=e,u="personal"===i?"personal":"team",{spaceStore:p,spaceViewStore:f,inviteLinkCode:g}=await v.e({environment:t,planType:u,name:a,userRootStore:n.userRootStore,analyticsFrom:"onboarding",icon:s||void 0,initialUseCases:d});"staging"===I.default.env&&P.log({level:"info",from:"onboardingStateActions",type:"createSpaceWithTemplates",data:Object(O.a)({message:"createdSpace",spaceName:a,spaceId:p.id,userId:n.userSettingsStore.id,miscDataToConvertToString:{templates:o}})});const b=V.a.flatten(d.map(e=>Object(m.i)(e,u,o||"unfilled",R.default.getIntl()).items)),y=Object(m.h)(o||"unfilled",R.default.getIntl()).items,S=await v.f({environment:t,redirectData:r,spaceViewStore:f,userSettingsStore:n.userSettingsStore,userRootStore:n.userRootStore,isPrivate:c,templates:h.v(t)?b:y,planType:u,spaceJoinOrCreate:"create"});"staging"===I.default.env&&P.log({level:"info",from:"onboardingStateActions",type:"createSpaceWithTemplates",data:Object(O.a)({message:"createdTemplates",spaceName:a,spaceId:p.id,redirectPageId:S?S.id:void 0,userId:n.userSettingsStore.id,miscDataToConvertToString:{templates:o}})});return l.yc(t,{user_type:i,user_persona:o,initial_workspace_type:"create",space_name:a,space_id:p.id}),{redirectData:te(r,S),spaceId:p.id,spaceViewId:f.id,inviteLinkCode:g}}({environment:t,onboardingData:e.onboardingData,userPersona:e.userPersona,redirectData:e.redirectData,spaceName:e.spaceName,spaceIcon:e.spaceIcon,userType:e.userType,isPrivate:"personal"===e.userType,initialUseCases:e.initialUseCases});return y.a(),n}}async function ee(e){const{environment:t,onboardingData:n,spaceId:o,redirectData:r}=e,a="team_invite_redirect"===r.type?r.inviteCode:void 0,{spaceViewStore:i}=await v.k({environment:t,spaceId:o,userRootStore:n.userRootStore,analyticsFrom:"onboarding",userSettingsStore:n.userSettingsStore,inviteCode:a}),s=await v.f({environment:t,redirectData:r,spaceViewStore:i,isPrivate:!0,userSettingsStore:n.userSettingsStore,userRootStore:n.userRootStore,templates:void 0,planType:"team",spaceJoinOrCreate:"join"});return l.Dc(t,{initial_workspace_type:"join",space_id:o}),{redirectData:te(r,s),spaceId:o,spaceViewId:i.id,inviteLinkCode:void 0}}function te(e,t){if(t){if("redirect_space"===e.type)return{type:e.type,pageId:t.id,spaceId:e.spaceId};if("getting_started_page"===e.type)return{type:e.type,pageId:t.id};if("fork_page"===e.type)return{type:e.type,pageId:t.id}}return e}async function ne(e,t,n,o){const{onboardingData:r}=e;if("guest"===n){if(Q({environment:o,spaceJoinOrCreate:"join",permissionLevel:n,onboardingState:e}),"team_invite_redirect"===t.type)throw new Error("Cannot invite guests to workspace from invite links.");await v.k({environment:o,spaceId:t.spaceId,userRootStore:r.userRootStore,analyticsFrom:"onboarding",userSettingsStore:r.userSettingsStore,navigate:!0,redirectPageId:t.pageId})}else{const n=await ee({environment:o,onboardingData:r,redirectData:t,spaceId:t.spaceId});await J({environment:o,onboardingData:r,spaceId:n.spaceId,spaceViewId:n.spaceViewId,spaceJoinOrCreate:"join",redirectData:n.redirectData,onboardingFlow:e.flow,onboardingStage:e.stage,onboardingState:e})}return{isOnboarding:!1,isLoading:!1,currentUserId:o.currentUser.id}}function oe(e){let t,n;e.onboardingData.isEducationPlanEligible?(n="personal",t="student"):e.onboardingData.isUserDomainJoinable||(n="personal",t="personal");const{currentUserSettingsStore:o}=N.default.state,r=o&&o.state.value&&o.state.value.settings;return r&&r.persona&&r.type&&(t=r.persona,n=r.type),{userPersona:t,userType:n}}var re=n("frzs"),ae=n("dDgv"),ie=n("FcJC"),se=n("UQxX"),le=n("5FB0"),ce=n("5xGH");async function de(e,t){const{state:n}=p.default;if(!n.isLoading&&!n.isOnboarding&&e.currentUser.id){const n={...u.a.get({userId:e.currentUser.id,key:p.onboardingPreferenceKey}),currentUserId:e.currentUser.id};if(n.isOnboarding&&(!t||!h.m(n)||t.id===n.spaceViewId)){const{flow:t}=n,o="desktop_join_or_create_space"===t||"mobile_join_or_create_space"===t,r=await h.o({environment:e,disableRedirects:o});r&&(n.onboardingData=r),p.default.setState(n)}}}async function ue(e){await me(e,{type:"create-or-join"})}n.d(t,"e",(function(){return de})),n.d(t,"a",(function(){return ue})),n.d(t,"g",(function(){return pe})),n.d(t,"f",(function(){return he})),n.d(t,"i",(function(){return me})),n.d(t,"d",(function(){return fe})),n.d(t,"c",(function(){return ge})),n.d(t,"b",(function(){return be})),n.d(t,"h",(function(){return ve}));const pe=function(e){const{userStore:t,transaction:n}=e;a.d({store:t,data:{onboarding_completed:!0},transaction:n})},he=function(e){const{userStore:t,transaction:n}=e;a.d({store:t,data:{mobile_onboarding_completed:!0},transaction:n})};async function me(e,t){try{i.navigate({environment:e,url:d.d.onboarding});const n=await h.o({environment:e,disableRedirects:Boolean(t.disableRedirectUrl)||"create-or-join"===t.type}),o=h.g(n),r=await async function(e,t,n,o){const r=e.currentUser.id;if(void 0===r)throw new Error("Environment currentUserId not defined.");const{type:a,redirectUrl:i,disableRedirectUrl:s}=t,l=e.device.isMobile,c=B.m.indexOf("Europe")>=0,{currentUserRootStore:d}=N.default.state,u={onboardingData:n,redirectData:o,isOnboarding:!0,isLoading:!1,currentUserId:r,isNewUser:0===(d&&d.state.ready?V.a.uniq(d.getSpaceViewStores().filter(e=>e.getJoined()).map(e=>e.getSpaceId())).length:0),stageNumber:0};if("new-user"===a){const t=n.joinableSpaceData.results.length>0;let o;o=l?i&&!s?"mobile_redirect":t?"mobile_joinable_spaces":"mobile_cold_start":i&&!s?"desktop_redirect":t?"desktop_joinable_spaces":"desktop_cold_start";const r={...u,flow:o,stage:"gdpr"};return c?r:q(r,e)}if("create-or-join"===a){const e=Object(h.e)({onboardingData:n,isNewUserFlow:!1}),t=l?"mobile_join_or_create_space":"desktop_join_or_create_space";return e.length>0?{...u,flow:t,stage:"workspace_choose",joinableSpaces:e,prefilled:!1}:{...oe(u),...u,flow:t,stage:"workspace_plan_choose",prefilled:!1,spaceJoinOrCreate:"create",initialUseCases:[]}}if("mobile-onboarding"===a)return{...u,flow:"mobile_existing_user",stage:"mobile_editor",spaceJoinOrCreate:"join"};throw f.e(a),new Error("Invalid type.")}(e,t,n,o);if(r&&r.isOnboarding){"invalid"===o.type&&(r.stage="error"),p.default.setState(r);const t=h.f(r);l.Fc(e,t),l.Hc(e,t),c.d(e.device,I.default,{facebook:{eventName:"CompleteRegistration"},linkedin:{eventId:"2680228"},google:{eventName:"registration"}})}}catch(n){!function(e,t){p.default.setState({...p.default.state,isLoading:!1}),l.Bc(e,h.f(p.default.state)),P.log({level:"error",from:"onboardingActions",type:"handleError",error:{message:"Found onboarding error: ".concat(t.message)}}),s.showErrorMessage(t.message)}(e,n)}}async function fe(e,t){if(t.isOnboarding)try{const n=await H(t,e);l.Hc(e,h.f(n)),p.default.setState(n)}catch(n){ge(e,n)}}async function ge(e,t){if(p.default.setState({...p.default.state,isLoading:!1}),l.Ac(e,h.f(p.default.state)),P.log({level:"error",from:"onboardingActions",type:"handleOnboardingError",error:{message:"Found onboarding error: ".concat(t.message),stack:String(t.stack)}}),y.a(),t instanceof le.a&&Object(ce.c)(t.data.responseBody)&&"UnauthorizedError"===t.data.responseBody.name)return;await s.confirmUserAction({message:r.a.createElement("div",{style:{display:"block"}},r.a.createElement("div",{style:{fontWeight:600}},r.a.createElement(L.FormattedMessage,{defaultMessage:"Oops, something went wrong.",id:"onboardingActions.onboardingErrorDialog.message"})),r.a.createElement("div",null,t.message)),acceptLabel:r.a.createElement(L.FormattedMessage,{defaultMessage:"Start over",id:"onboardingActions.onboardingErrorDialog.startOverButton.label"}),cancelLabel:r.a.createElement(L.FormattedMessage,{defaultMessage:"Close",id:"onboardingActions.onboardingErrorDialog.closeButton.label"})})&&function(e,t){const n=p.default.state;h.n(n)?me(e,{type:"new-user",disableRedirectUrl:!0}):h.k(n)?me(e,{type:"create-or-join",disableRedirectUrl:!0}):e.device.isMobile?me(e,{type:"mobile-onboarding",disableRedirectUrl:!0}):P.log({level:"error",from:"onboardingActions",type:"handleOnboardingError",error:{message:"Could not redirect onboarding: ".concat(t.message),stack:String(t.stack)}})}(e,t)}async function be(e){const{state:t}=p.default;if(h.n(t)){if(!(await s.confirmUserAction({message:r.a.createElement("div",{style:{display:"block"}},r.a.createElement("div",{style:{fontWeight:600}},r.a.createElement(L.FormattedMessage,{defaultMessage:"Cancel new account setup?",id:"onboardingActions.closeOnboardingDialog.newUser.title"})),r.a.createElement("div",null,r.a.createElement(L.FormattedMessage,{defaultMessage:"You'll be taken back to the Notion home page.",id:"onboardingActions.closeOnboardingDialog.newUser.subtitle"}))),acceptLabel:r.a.createElement(L.FormattedMessage,{defaultMessage:"Return to home page",id:"onboardingActions.closeOnboardingDialog.newUser.confirmCloseButton.label"}),cancelLabel:r.a.createElement(L.FormattedMessage,{defaultMessage:"Continue setup",id:"onboardingActions.closeOnboardingDialog.newUser.continueButton.label"})})))return;l.vc(e,h.f(t)),await re.actuallyLogoutAndDeleteAllLocalData(e)}else{if(!(await s.confirmUserAction({message:r.a.createElement("div",{style:{display:"block"}},r.a.createElement("div",{style:{fontWeight:600}}," ",r.a.createElement(L.FormattedMessage,{defaultMessage:"Cancel new workspace setup?",id:"onboardingActions.closeOnboardingDialog.existingUser.title"})),r.a.createElement("div",{style:{wordBreak:"keep-all"}},r.a.createElement(L.FormattedMessage,{defaultMessage:"You'll be taken back to your previous workspace.",id:"onboardingActions.closeOnboardingDialog.existingUser.subtitle"}))),acceptLabel:r.a.createElement(L.FormattedMessage,{defaultMessage:"Back to previous workspace",id:"onboardingActions.closeOnboardingDialog.existingUser.confirmCloseButton.label"}),cancelLabel:r.a.createElement(L.FormattedMessage,{defaultMessage:"Continue setup",id:"onboardingActions.closeOnboardingDialog.existingUser.continueButton.label"})})))return;l.vc(e,h.f(t));const{url:n,userId:o}=Object(ae.a)(e);let a=e;if(o&&o!==e.currentUser.id&&(a=await se.a({environment:e,newCurrentUserId:o})),n){ie.close(),i.navigate({environment:a,url:n});const e={isOnboarding:!1,isLoading:!1,currentUserId:o};p.default.setState(e)}}}function ve(e){const{state:t}=p.default;l.Gc(e,h.f(t)),p.default.setState({isOnboarding:!1,isLoading:!1,currentUserId:e.currentUser.id})}},hU3F:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{constructor(e){super(),this.initialState=e,this.instanceState=e}getInitialState(){return this.initialState}get(){return this.state}set(e){this.setState(e)}static of(e){return r.bind(null,e)}}t.a=r},hbKx:function(e,t,n){"use strict";n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"i",(function(){return C})),n.d(t,"l",(function(){return M})),n.d(t,"b",(function(){return E})),n.d(t,"m",(function(){return _})),n.d(t,"j",(function(){return T}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("6SEd"),i=n("FUUC"),s=n("bPtJ"),l=n("wpmu"),c=n("bjn0"),d=n("G4cA"),u=n("HRSx"),p=n("ezkE"),h=n("VpIZ"),m=n("922z");const f=function(e){const t=[];return p.c({table:e.table,id:e.id},m.c.fromPlainFunctionUnsafe(({table:n,id:o})=>{let r;if(n===a.a?r=c.a.createChildStore(e,{table:a.a,id:o}):n===i.a?r=d.a.createChildStore(e,{table:i.a,id:o}):n===u.a&&(r=l.a.createChildStore(e,{table:u.a,id:o})),r)return t.push(r),r.getValue()})),t};function g(e){return r.a.compact(f(e).map(e=>{if("space"===e.table){const{pointer:t}=e,n=Object(s.a)(e,t,"permissions").getValue(),o=Object(s.a)(e,t,"permission_groups").getValue();return{table:t.table,value:{id:t.id,permissions:n,permission_groups:o}}}if("block"===e.table){const{pointer:t}=e,n=Object(s.a)(e,t,"permissions").getValue(),o=Object(s.a)(e,t,"alive").getValue(),r=Object(s.a)(e,t,"parent_id").getValue(),a=Object(s.a)(e,t,"type").getValue();if(void 0!==o&&void 0!==r&&void 0!==a)return{table:t.table,value:{id:t.id,permissions:n,alive:o,parent_id:r,type:a}}}}))}async function b(e){const t=[];return await p.g(e.pointer,m.f.fromPlainFunctionUnsafe(async n=>{let o;if(n.table===a.a?o=c.a.createChildStore(e,n):n.table===i.a?o=d.a.createChildStore(e,n):n.table===u.a&&(o=l.a.createChildStore(e,n)),o)return t.push(o),await o.load(),o.getValue()})),t}const v=function(e){if(e instanceof l.a||e instanceof c.a){const t=e.getValue();if(t&&t.parent_table&&t.parent_id){if(t.parent_table===a.a)return c.a.createChildStore(e,{table:a.a,id:t.parent_id});if(t.parent_table===i.a)return d.a.createChildStore(e,{table:i.a,id:t.parent_id});if(t.parent_table===u.a)return l.a.createChildStore(e,{table:u.a,id:t.parent_id})}}},y=function(e){return f(e).filter(e=>{if(e instanceof l.a){const t=e.getValue();return t&&h.z(t)}return!1})},S=function(e){const t=f(e).find(e=>{if(e instanceof l.a||e instanceof c.a){const t=e.getValue();if(t&&!t.alive)return!0}return!1});return Boolean(t)},w=function(e,t=0){return y(e)[t]},k=function(e){const t=y(e);return t[t.length-1]},C=function(e){return f(e).find(e=>e.table===i.a)},M=function(e){for(const t of e)if(t instanceof l.a||t instanceof c.a){const e=t.getValue();if(!e||!e.alive)return!1}return!0};function E(e){for(const t of e)if(t instanceof l.a){const e=t.getValue();if(!e)continue;if(void 0!==e.moved)return{store:t,moved:e.moved}}}function _(e){return f(e).every(e=>e.isReady())}function T(e){return"block"===e.table||"space"===e.table||"collection"===e.table}},hfHo:function(e,t,n){"use strict";n.r(t),n.d(t,"withIntl",(function(){return d}));n("3bBZ");var o=n("XWyp"),r=n.n(o),a=n("Tk7a"),i=n.n(a),s=n("Agvv");const l=console.warn;console.warn=(...e)=>{e[0]&&e[0].toString().includes("http://momentjs.com/guides/#/warnings/js-date/")||l(...e)};const c=i()(r.a);function d(e,t){const n=r.a.locale(),o=Object(s.c)(e);r.a.locale(o);const a=t(r.a);return r.a.locale(n),a}console.warn=l,t.default=c},hgQN:function(e,t,n){"use strict";n.d(t,"i",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return S})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return C})),n.d(t,"f",(function(){return M})),n.d(t,"a",(function(){return E}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("y6Dp"),i=n("5Nka"),s=n("V9q8"),l=n("Z0iJ"),c=n("MQ9n"),d=n("cBa6"),u=n("GJWe"),p=n("RI9y"),h=n("wiBh"),m=n("VhAz"),f=n("nFzZ");function g(){return Object(l.b)(i.a.katex.katexMinCss,l.a.Stylesheet)}function b(e){const{source:t,currentEquationToken:n,selectedText:o}=e;return"rich_text_menu"===t?n?{type:"edit",source:t}:{type:"create",source:t,selection:!0}:"input_keyboard_shortcut"===t?n?{type:"edit",source:t}:{type:"create",source:t,selection:Boolean(o)}:"slash_menu"===t?{type:"create",source:t,selection:!1}:"click_token"===t?{type:"edit",source:t}:"arrow_keys"===t?{type:"edit",source:t}:"text_filter"===t?{type:"create",source:t,selection:!0}:void Object(m.e)(t)}function v(e){const{environment:t,equation:n,from:o}=e;a.Xb(t,{equation:n,equationNewlineCount:n.split("\n").length-1,equationBackslashCount:n.split("\\").length-1,equationLength:r.a.toArray(n).length,from:o})}function y(e){return s.d(e)&&e.classList.contains(u.b)}function S(e){const{selection:t,environment:n}=e,o=p.getRect(t);if(!o){return s.a(t.startContainer,s.d).getBoundingClientRect()}if(n.device.isChrome){const e=t.startContainer.childNodes[t.startOffset];return e&&y(e)?e.getBoundingClientRect():s.d(t.startContainer)?new DOMRect(o.left,o.top,o.width,t.startContainer.getBoundingClientRect().height):new DOMRect(o.left,o.top,o.width,22)}return o}function w(e){const{environment:t,equation:n,displayMode:o}=e,r=t.KatexStore.getKatex();return r&&Object(c.b)({katex:r,equation:n,options:{displayMode:"block"===o}}).error}function k(e){if("editing"!==e.mode)return;const{store:t,selection:n}=e,{tokensBeforeRange:o,tokensInsideRange:a}=d.Nb(t.getValue(),n.startIndex,n.endIndex);let i=r.a.sum(o.map(d.eb));for(const r of a){const e=d.eb(r),t={startIndex:i,endIndex:i+e};if(d.tb(r))return{token:r,position:t};i+=e}}function C(e){let t=e;for(let n=0;n<2;n+=1){const e=/^\$(.*)\$$/m.exec(t);if(!e||!e[1])break;t=e[1]}return t}function M(e){const{selection:t,store:n}=e,o=n.getValue();if(!o)return[];const r=h.m(t)&&t.startIndex>0?[t.startIndex-1]:[t.startIndex];return h.e(r,o)[0]||[]}function E(e){const{equationState:t,isTemporary:n}=e,o=t.editingToken?f.f(d.db(t.editingToken),e=>d.sb(e)||d.Bb(e)):f.f(t.annotations,e=>d.sb(e)||d.Bb(e)||d.xb(e)),a=r.a.compact([n&&d.j(),...o]);return d.f(t.value,a)}},"hi+p":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var o=n("y6Dp"),r=n("fwa5"),a=n("AmMh"),i=n("Iece"),s=n("Ucj+");function l(e){const{environment:t,left:n,top:a,actions:s,showInput:l,stores:c,analyticsFrom:d}=e,u={left:n,top:a,bottom:a+1,right:n+1,width:1,height:1};r.a.setState({isActive:!0,inputValue:"",actions:s,stores:c,frameScrollTop:i.a.state.scrollTop,originBlockRect:u,showInput:l,analyticsFrom:d}),Object(o.Oc)(t,{from:d,block_type:c[0]&&c[0].getType()})}const c=function(e){const{analyticsFrom:t,actions:n,stores:o}=e,l=a.a.findSelectableFromStore(o[0]);if(!l)return;const c=s.a.state.selectableRectMap.get(l);c&&r.a.setState({isActive:!0,inputValue:"",actions:n,stores:o,frameScrollTop:i.a.state.scrollTop,originBlockRect:c,showInput:!0,analyticsFrom:t})},d=function(){r.a.setState({isActive:!1})}},hl64:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));function o(e,t){if(!e&&!t)return 0;if(!t)return-1;if(!e)return 1;const n=e.compareDocumentPosition(t);return 4==(4&n)?-1:2==(2&n)?1:0}},hnPE:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));n("3bBZ");var o=n("bkwR"),r=n("H4VD"),a=n("S26v"),i=n("qqdV"),s=n("e28A"),l=n("VBxf"),c=n("nFzZ"),d=n("mXKa");function u(e){const{environment:t,responseType:n,integrationId:o,redirectUri:s,state:l}=e,d=a.d({url:i.d.oauthAuthorization,query:Object(c.m)(Object.entries({response_type:n,client_id:o,redirect_uri:s,state:l}).filter(([,e])=>e))});r.navigate({environment:t,url:d,redirect:!0})}async function p(e){var t;const{environment:n,params:i,integration:c}=e;d.setOauthAuthorizationParams(void 0);const u=i.redirectUri||1===(null==c?void 0:null===(t=c.redirect_uris)||void 0===t?void 0:t.length)&&c.redirect_uris[0];if(!u||!c||!c.redirect_uris.includes(u))return void r.navigate({environment:n,url:"/",redirect:!0});let h;if("errorType"in e)h={error:e.errorType,state:i.state};else{const{integration:t,spaceId:r,initialBlockIdsForBot:a}=e,c=await o.createBotAndOauthAuthorizationCode(n,{integrationId:t.id,spaceId:r,initialBlockIdsForBot:a,redirectUri:u});if("failed"===c.type){return Object(l.showError)(c),p({environment:n,params:i,integration:t,errorType:503===c.status?s.a.temporarily_unavailable:s.a.server_error})}h={code:c.data.code,state:i.state}}const m=a.d({url:u,query:{...h}});r.navigateToExternalURL({environment:n,url:m,targetSelf:!0})}},htWf:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return p}));var o=n("QcDD"),r=n("szb2"),a=n("CARr");function i(){const e=d(),{currentBlockStore:t}=o.default.state,n=r.c.state.open&&r.c.state.target||t;return e||n}function s(e,t){const n=e&&e[t];if(!n){if("backlinks"===t)return"section_collapsed";if("comments"===t)return"section_show"}return n}function l(e,t){const n=i();return!!n&&s(n.getFormat().page_section_visibility,e)===t}function c(e,t){const n=i();return!n||"section_show"===s(n.getFormat().page_section_visibility,t)}function d(){const{currentBlockStore:e}=o.default.state,t=r.c.state.open&&r.c.state.target||e;if(t)return t.isCollectionView()?t.getCollectionViewCollectionStore():t.getParentCollectionStore()}function u(){const e=d();if(!e)return!1;const t=e.getParentBlockStore();return Boolean(t&&(t.isLocked()||t.isNavigableAncestorLocked()))}function p(e){const{propertySchema:t}=e,{type:n}=t,o=Object(a.k)(t);return!(["created_time","created_by","last_edited_time","last_edited_by"].includes(n)||o)}},hvW1:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var o=n("5qOl"),r=n("vl8/");const a=function(e){o.a.setState({open:!0,message:r.default.formatMessage(e.message,e.interpolatedValues)})},i=function(){o.a.setState({open:!1})}},i05A:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("MeYt"),s=n("mF3+");class l extends a.a{renderComponent(){return r.a.createElement(i.a,{style:this.getButtonStyle(),onClick:this.props.onClick},s.a.triangle(this.getArrowStyle()))}getSize(){const{device:e}=this.environment;return this.props.isSidebar?e.isMobile?24:20:24}getButtonStyle(){const e=this.getSize();return{display:"flex",alignItems:"center",justifyContent:"center",width:e,height:e,borderRadius:3}}getArrowStyle(){const e=this.props.color||"inherit";return{width:"0.6875em",height:"0.6875em",transition:"transform 200ms ease-out",transform:"rotateZ(".concat(this.props.open?180:90,"deg)"),fill:e,opacity:this.props.fill?1:.5}}}t.a=l},i3uR:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("DkKf"),l=n("g4rC"),c=n("DNfA"),d=n("wldR"),u=n("wXH4");class p extends d.a{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:l.a},this.renderPopup=()=>this.props.render({close:this.handleClose}),this.handleButtonClick=e=>{const{buttonPopupStore:t}=this.stores;e&&s.c(e)||(this.props.onClick&&this.props.onClick(e),t.setState({...t.state,open:!0}))},this.handleClose=()=>{this.props.onClose&&this.props.onClose(),this.stores.buttonPopupStore.reset()}}willUnmount(){this.stores.buttonPopupStore.setState({open:!1})}renderComponent(){const{buttonPopupStore:e}=this.stores;return r.a.createElement(u.c,Object.assign({},this.props,{render:this.renderPopup,open:e.state.open,onDismiss:this.handleClose,origin:this.props.renderOrigin({onClick:this.props.disabled?i.a.identity:this.handleButtonClick}),originGap:this.props.originGap}))}}p.Alignment=c.a,p.Placement=c.b,p.PopupType=u.b,t.a=p},i8hZ:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("/6eU"),s=n("J9+s"),l=n("IULH"),c=n("z22Z"),d=n("VhAz"),u=n("6d3V"),p=n("QcDD"),h=n("aEEb"),m=n("8fuX");class f extends a.a{constructor(){super(...arguments),this.renderModal=()=>{if(!this.props.open)return;const e=this.props;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:"24px 32px"}},this.getMainDescriptionText(e),this.renderRestorePermissionEdits(e),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},this.renderAcceptButton(e),this.renderCancelButton(e)),"restore"!==e.type&&r.a.createElement(h.a,{style:{marginTop:24},isSmall:!0,isMultiline:!0},r.a.createElement(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.footer.whisperText",defaultMessage:"Admins will still be able to restore permissions from restricted pages."}))))},this.renderCancelButton=e=>r.a.createElement(l.a,{isLarge:!0,style:{marginTop:8},onClick:e.onClose},r.a.createElement(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.actionButton.cancel",defaultMessage:"Close"})),this.renderAcceptButton=e=>r.a.createElement(l.a,{isRed:!0,isLarge:!0,style:{marginTop:14},onClick:()=>{e.onAccept(),e.onClose()}},this.getActionButtonText(e))}renderComponent(){return r.a.createElement(i.a,{innerStyle:this.getModalStyle(),open:this.props.open,render:this.renderModal,onDismiss:this.props.onClose})}renderRestorePermissionEdits(e){const{currentBlockStore:t,currentSpaceStore:n}=p.default.state;if("restore"!==e.type||!t||!n)return;const o=Date.now();return r.a.createElement(m.b,{type:m.a.Y,style:{display:"flex",flexDirection:"column",marginTop:10,maxHeight:290}},e.permissionChanges.map(([e,a],i)=>{const s={timestamp:o,space_id:n.id,type:"permission-changed",permission_data:{before:e,after:a}};return r.a.createElement("div",{key:"".concat(e.type,"-").concat(i),style:{marginTop:2,marginBottom:2}},r.a.createElement(u.a,{rootStore:t,edit:s}))}))}getMainDescriptionText(e){switch(e.type){case"remove":return r.a.createElement(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.restrict.description",defaultMessage:"Are you sure you want to remove this {permissionGroup} and restrict access? This page will no longer inherit share settings from the parent page.",description:"'permissionGroup' will be 'user', 'group', 'workspace', or just 'permission'",values:{permissionGroup:this.getPermissionGroup(e)}});case"restrict":return r.a.createElement(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.remove.description",defaultMessage:"Are you sure you want to change this role and restrict access? This page will no longer inherit share settings from the parent page."});case"restore":return e.permissionChanges.length>0?r.a.createElement(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.restore.description",defaultMessage:"Are you sure you want to restore access? This will inherit the following permissions from the parent page:"}):r.a.createElement(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.restoreNoChanges.description",defaultMessage:"Are you sure you want to restore access?"});default:throw d.e(e)}}getPermissionGroup(e){return Object(c.q)(e.permissionItem)?r.a.createElement(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.permissionGroup.user",defaultMessage:"user",description:"Will be used in the sentence 'If you remove this *user*' in reference to removing the access of a specific user from a page permission."}):Object(c.i)(e.permissionItem)?r.a.createElement(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.permissionGroup.group",defaultMessage:"group",description:"Will be used in the sentence 'If you remove this *group*' in reference to removing the access of a specific group (e.g. the 'Design' group) from a page permission."}):Object(c.p)(e.permissionItem)?r.a.createElement(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.permissionGroup.space",defaultMessage:"workspace",description:"Will be used in the sentence 'If you remove this *workspace*' in reference to removing the access of an entire organization (e.g. all members of the 'Notion' workspace) from a page permission."}):r.a.createElement(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.permissionGroup.generic",defaultMessage:"permission",description:"Will be used in the sentence 'If you remove this *permission*' in reference to removing a general level of access (e.g. the 'Share to web' access) from a page permission."})}getActionButtonText(e){return["remove","restrict"].includes(e.type)?r.a.createElement(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.actionButton.restrictAccess",defaultMessage:"Restrict access",description:"Button to commit more restrictive permissions for a page."}):r.a.createElement(s.FormattedMessage,{id:"restrictedPermissionConfirmationModal.actionButton.restoreAccess",defaultMessage:"Restore access",description:"Button to remove the restrictive permissions for a page."})}getModalStyle(){const{device:e}=this.environment;return{width:e.isPhone?"90vw":336,maxWidth:e.isPhone?"90vw":400}}}t.a=f},iICV:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isEnabled:!0,isKeyboardMode:!1}}setEnabled(e){this.setState({...this.state,isEnabled:e})}setKeyboardMode(e){this.state.isEnabled&&this.setState({isEnabled:!0,isKeyboardMode:e})}}t.a=new r},iPhm:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("aZ00"),i=n("cBa6"),s=n("bFnu"),l=n("n8tN"),c=n("KAy6"),d=n.n(c),u=n("LvDl"),p=n.n(u),h=n("i8i4"),m=n.n(h),f=n("GJWe"),g=n("Ajfl"),b=n("EszA"),v=n("TM4X"),y=n("V9q8"),S=n("IzPW");n("E9XD");const w=e=>e.map(e=>e[0].length),k=(e,t)=>{const n=e.slice(),o=t.slice(),r=[];let a=0,i=0;for(;a<n.length&&i<o.length;){const e=n[a],t=o[i];e===t?(r.push(e),a+=1,i+=1):e<t?(r.push(e),a+=1,o[i]-=e):(r.push(t),n[a]-=t,i+=1)}return r},C=e=>{let t=0;return e.reduce((e,n)=>(e.push([t,n]),t+=n,e),[])};var M=n("jWHj"),E=n("w5u6"),_=n("MBf9"),T=n("Sb6f"),x=n("5Y2+"),I=n("Mcmf"),P=n("wldR"),O=n("DNgp"),B=n("BTUg"),L=n("B2+S"),R=n("wllP");var D=n("gHFd");class A extends P.a{constructor(){super(...arguments),this.editor=null,this.renderContentContainer=(e,t,n)=>r.a.createElement("div",Object.assign({style:{display:"flex",...!this.props.codeWrap&&{overflowX:"auto",WebkitOverflowScrolling:"touch"}},className:"line-numbers notion-code-block"},e),r.a.createElement(x.a,{ref:e=>{this.editor=e},style:{...this.getContentEditableStyle(),...this.props.isQuickFind&&{paddingTop:12},...this.props.codeWrap?{whiteSpace:"pre-wrap",wordBreak:"break-all",minWidth:0}:{whiteSpace:"pre"}},getDisabled:this.getDisabled,getHtml:this.getHtml,getSelection:this.getContainerSelection,onMutation:this.handleMutation,spellCheck:!1,autoCorrect:"off",autoCapitalize:"off",onSelect:t,suppressNewlineEvents:!1,placeholder:" "})),this.renderSyntaxTokens=(e,t)=>{const n=f.f(t,this.props.store.getRecordValue),o=function(e,t){const n={text:w(e),syntax:w(t)},o=C(k(n.text,n.syntax)),r={text:0,syntax:0},a={text:0,syntax:0},s=[],l=e.map(i.fb).join("");for(const[i,d]of o){const e=i+d,o=t[r.syntax],u={value:l.substring(i,e),textTokenIndex:r.text,classNames:(c=o,c&&c[1])};s.push(u);const p=n.text[r.text],h=n.syntax[r.syntax];e>=a.text+p&&(r.text+=1,a.text+=p),e>=a.syntax+h&&(r.syntax+=1,a.syntax+=h)}var c;return s}(n,e),a=n.map(i.db).map(e=>f.g(e,this.theme));return o.map((e,t)=>r.a.createElement("span",{key:t,className:e.classNames,style:a[e.textTokenIndex],"data-token-index":e.textTokenIndex},e.value))},this.handleClick=e=>{S.g({environment:this.environment,event:e,textValue:this.getTextValue(),editorNode:this.getEditorNode(),store:this.props.store,canEdit:this.canEdit()})},this.handleMutation=e=>{_.createAndCommit(this.environment,t=>{g.c({environment:this.environment,store:this.props.store,newValue:e,disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:t})})},this.handleDelete=e=>{if(!this.canEdit())return;const{store:t}=this.props,n=O.default.state;"editing"===n.mode&&_.createAndCommit(this.environment,o=>{v.b({environment:this.environment,store:t,selection:n.selection,deleteForwards:!0,transaction:o,event:e})})},this.handleBackspace=e=>{const t=M.a();if(!this.canEdit()||t.option||t.control||t.command)return;const{store:n}=this.props,o=O.default.state;"editing"===o.mode&&_.createAndCommit(this.environment,t=>{v.b({environment:this.environment,store:n,selection:o.selection,deleteForwards:!1,transaction:t,event:e})})},this.handleEnter=e=>{if(!this.canEdit())return;if(e.preventDefault(),this.editor&&this.editor.isComposing)return;const t=O.default.state;"editing"===t.mode&&_.createAndCommit(this.environment,e=>{g.n({environment:this.environment,store:this.props.store,string:"\n",selection:t.selection,disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:e})})},this.handleTab=e=>{if(!this.canEdit())return;e.preventDefault();const t=O.default.state;"editing"===t.mode&&_.createAndCommit(this.environment,e=>{g.j({environment:this.environment,store:this.props.store,selection:t.selection,transaction:e})})},this.handleUntab=e=>{if(!this.canEdit())return;e.preventDefault();const t=O.default.state;"editing"===t.mode&&_.createAndCommit(this.environment,e=>{g.u({environment:this.environment,store:this.props.store,selection:t.selection,transaction:e})})},this.handleAnnotation=(e,t)=>{this.canEdit()&&(t.preventDefault(),b.a({environment:this.environment,annotation:e}),this.flushRenderQueue())},this.handleCopy=e=>{a.a({environment:this.environment,event:e})},this.handleCut=e=>{_.createAndCommit(this.environment,t=>{a.d({environment:this.environment,event:e,transaction:t})})},this.handlePaste=e=>{_.createAndCommit(this.environment,t=>{a.e({environment:this.environment,event:e,disableEmbedMenu:!0,transaction:t})})},this.handleMoveUp=e=>{const t=Object(R.c)(this.props.store);t&&_.createAndCommit(this.environment,e=>{g.q({environment:this.environment,store:this.props.store,closestSelectable:t,transaction:e})})},this.handleMoveDown=e=>{const t=Object(R.c)(this.props.store);t&&_.createAndCommit(this.environment,e=>{g.p({environment:this.environment,store:this.props.store,closestSelectable:t,transaction:e})})},this.getDisabled=()=>!this.canEdit(),this.createSyntaxToken=e=>y.g(e)?[e.data]:y.d(e)?[e.textContent||"",e.className]:void 0,this.getHtml=()=>{const{store:e,Prism:t}=this.props,n=this.getTextValue(),o=i.Y(n),a=t.languages[this.props.language];if(o&&a&&o.length<1e4){const e=document.createElement("div"),i=t.highlight(o,a,this.props.language);e.innerHTML=this.flattenHtml(i);const s=Array.from(e.childNodes).map(this.createSyntaxToken),l=r.a.createElement(r.a.Fragment,null,this.renderSyntaxTokens(p.a.compact(s),n),r.a.createElement("span",null,"\n"));return d.a.renderToStaticMarkup(l)}return d.a.renderToStaticMarkup(r.a.createElement(r.a.Fragment,null,S.l({environment:this.environment,textValue:n,parentStore:e,disableHover:!1,disableStyleAnnotations:!1,disableDateStyleAnnotations:!0,disabled:!this.canEdit(),theme:this.theme,emojiType:"raw",katex:void 0})))},this.flattenHtml=e=>{let t="";const n=document.createElement("div");n.innerHTML=e;const o=y.c(n);for(const r of o){const e=p.a.escape(r.data);if(r.parentNode!==n){const n=p.a.escape(r.parentNode.className);t+='<span class="'.concat(n,'">').concat(e,"</span>")}else t+=e}return t},this.clearBrowserSelection=()=>{this.getEditorNode().blur()},this.isEditing=this.createComputedStore(()=>{const e=O.default.state;return"editing"===e.mode&&e.store===this.props.store}),this.isNewDiscussionMenuTarget=this.createComputedStore(()=>{const e=L.a.state;return e.open&&"inline"===e.type&&e.textStore===this.props.store}),this.getTextSelectionFromRange=e=>S.n(this.environment,e),this.getContainerSelection=()=>{if(this.isEditing.state){const{store:e}=this.props,t=O.default.state;if("editing"===t.mode){const n=i.I(e.getValue()).length;return{startIndex:Math.min(t.selection.startIndex,n),endIndex:Math.min(t.selection.endIndex,n)}}}},this.getEndSelection=()=>{const e=p.a.toArray(i.Y(this.getTextValue()));return{startIndex:e.length,endIndex:e.length}}}renderComponent(){const{disabled:e}=this.props;return r.a.createElement(I.a,{store:this.props.store,disabled:e,getTextSelectionFromRange:this.getTextSelectionFromRange,clearBrowserSelection:this.clearBrowserSelection,getEndSelection:this.getEndSelection,onClick:this.handleClick,onDelete:this.handleDelete,onBackspace:this.handleBackspace,onEnter:this.handleEnter,onCommandEnter:p.a.identity,onCommandShiftEnter:p.a.identity,onTab:this.handleTab,onUntab:this.handleUntab,onToggleHighlight:e=>this.handleAnnotation(["h",B.a.state.color],e),onToggleBold:e=>this.handleAnnotation(["b"],e),onToggleItalics:e=>this.handleAnnotation(["i"],e),onToggleStrike:e=>this.handleAnnotation(["s"],e),onToggleCode:p.a.identity,onCopy:this.handleCopy,onCut:this.handleCut,onPaste:this.handlePaste,onMoveUp:this.handleMoveUp,onMoveDown:this.handleMoveDown,render:this.renderContentContainer,disableMentions:!0,disableSlashCommands:!0,canSelectAllBlocks:!0,canInsertText:!0,canSelectionDrag:!0,topBottomPadding:40})}canEdit(){const{disabled:e,store:t}=this.props,n=this.pageContext&&this.pageContext.publicEditModeStore.state;return(!n||"edit"===n)&&Boolean(!e&&t.canEdit())}getEditorNode(){return m.a.findDOMNode(this.editor)}getTextValue(){return this.isNewDiscussionMenuTarget.state?S.b({store:this.props.store}):this.props.store.getValue()}flushRenderQueue(){E.default.flush()}getContentEditableStyle(){return{flexGrow:1,flexShrink:1,textAlign:"left",fontFamily:T.a.fontFamily.githubMono,fontSize:"85%",tabSize:2,padding:"34px 16px 32px 32px",minHeight:"1em",color:this.theme.regularTextColor}}}var j=Object(D.withDependency)(D.deps.prismjs,(e,t)=>r.a.createElement(A,Object.assign({},t,{Prism:e}))),F=n("SR/M"),V=n("6fCZ"),N=n("njgS"),U=n("CARr"),z=n("HiHT"),X=n("g4rC"),Y=n("G4GV"),H=n("i3uR"),q=n("RBMm"),W=n("2Y+N"),G=n("VOS9"),Z=n("gbGO"),K=n("dXb3"),J=n("iICV"),Q=n("Catn"),$=n("bxQm"),ee=n("mF3+"),te=n("J9+s"),ne=n("vl8/"),oe=n("6rsX"),re=n("unoy"),ae=n("g90h"),ie=n("mY49"),se=n("PHZn"),le=n("IYZQ"),ce=n("aEEb"),de=n("gyLq");function ue(e){const{source:t}=e,n=Object(ie.b)(t,300,Object.is),a=Object(D.useDependency)(D.deps.mermaidAPI),i=Object(o.useMemo)(()=>{if(a.error)return a.error;if("resolved"!==a.status)return;const e=a.value;try{e.parse(n)}catch(t){return t}},[a,n]);return r.a.createElement("div",null,i?r.a.createElement(he,{error:i}):r.a.createElement(pe,{mermaidAPI:a.value,source:n}))}function pe(e){const{mermaidAPI:t,source:n}=e,a=Object(o.useRef)(null),i=Object(o.useRef)("mermaid-".concat(Object(ae.b)())),[s,l]=Object(o.useState)(),c=Object(se.a)(e=>({diagram:de.a.styles({alignContent:"center",justifyContent:"center"})}),[]);return Object(o.useLayoutEffect)(()=>{if(!t)return;let e=!1;try{t.render(i.current,n,(t,n)=>{if(e)return;if(!a.current)return;a.current.innerHTML=t;const o=a.current.firstChild;o&&o instanceof SVGSVGElement&&o.removeAttribute("height");try{n&&n(a.current),l(void 0)}catch(r){l(r)}})}catch(o){l(o)}return()=>{e=!0}},[n,t]),r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(he,{error:s}),r.a.createElement("div",{style:c.diagram,ref:a}))}function he(e){const{error:t}=e,n=Object(se.a)(e=>({label:{color:e.errorText,marginBottom:4,whiteSpace:"pre-wrap"}}),[]);return"str"in t?r.a.createElement("div",null,r.a.createElement(ce.a,{isMultiline:!0,style:n.label},t.str,r.a.createElement("div",null,r.a.createElement(le.a,{external:!0,href:"https://mermaid-js.github.io/mermaid/#/examples"},r.a.createElement(te.FormattedMessage,{id:"mermaidRenderer.error.seeMermaidExamples",defaultMessage:"See Mermaid examples"}))))):r.a.createElement(ce.a,{isMultiline:!0,style:n.label},r.a.createElement(te.FormattedMessage,{id:"mermaidRenderer.error.unknownError",defaultMessage:"Unknown error: {error}",values:{error:"".concat(t.name,": ").concat(t.message)}}))}var me=n("2ZkR"),fe=n("A9TN"),ge=n("y74B");const be=Object(te.defineMessages)({searchPlaceholder:{defaultMessage:"Search for a language…",id:"codeBlock.searchPrompt"}});class ve extends l.a{constructor(){super(...arguments),this.storeTypes={mouseStore:s.a,buttonPopupStore:X.a,inputStore:Y.a},this.enableMermaidRenderer=this.createComputedStore(()=>"local"===fe.default.env||"on"===me.default.getGroup(this.environment,"mermaid")),this.renderPopup=e=>{const{device:t}=this.environment,n=this.getCurrentLanguage(),o=N.o.filter(e=>"Java/C/C++/C#"!==e),a=[{key:0,render:e=>r.a.createElement(W.a,Object.assign({},e)),actions:o.map(t=>({key:t,displayName:t,analyticsName:t,searchName:t,render:e=>r.a.createElement(F.a,Object.assign({title:t},e)),action:()=>{this.setPersistedLanguage(t),e.close()},closeParentMenu:!0}))}],i=this.stores.inputStore.state.inputValue,s=r.a.createElement(G.a,{filter:i,context:{blocks:[],environment:this.environment},sections:a,initialFocus:i?0:o.findIndex(e=>e===n)}),l=r.a.createElement(W.a,{isInput:!0},r.a.createElement(K.a,{value:i,onChange:this.handleInputChange,focus:!t.isMobile||void 0,placeholder:ne.default.formatMessage(be.searchPlaceholder),focusAfterAnimation:!0}));let c;return c=t.isMobile?{menuType:Z.b.MenuType.Modal,title:r.a.createElement(te.FormattedMessage,{defaultMessage:"Language",id:"codeBlock.mobileLanguageMenu.title"}),right:r.a.createElement(te.FormattedMessage,{defaultMessage:"Done",id:"codeBlock.mobileLanguageMenu.doneButton.label"}),onClickRight:e.close,header:l}:{menuType:Z.b.MenuType.Popup,width:240,maxHeight:"50vh",header:l},r.a.createElement(Z.b,Object.assign({},c),s)},this.caption=()=>{this.handleEditCaption()},this.handleEditCaption=()=>{const e=this.props.store.getPropertyStore("caption");oe.f({environment:this.environment,store:this.props.store}),re.n({store:e})},this.handleCopy=()=>{const e=this.props.store,t=i.cb(e.getBlockTitleStore().getValue());a.c({environment:this.environment,stringValue:t})},this.handleInputChange=e=>{this.stores.inputStore.setState({inputValue:e.target.value,focus:!1})},this.handlePopupClose=()=>{this.stores.inputStore.reset()}}renderPersisted(){const{device:e}=this.environment,{store:t,disabled:n}=this.props,o=this.getCurrentLanguage(),a=z.b[o],i=t.getFormat().code_wrap,s=t.getBlockTitleStore();return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:this.getStyle(),onMouseMove:()=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0}),onMouseLeave:()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})}},r.a.createElement(j,{store:t.getBlockTitleStore(),language:a,disabled:n,codeWrap:Boolean(i),isQuickFind:Boolean(this.props.isQuickFind)}),"Mermaid"===o&&this.enableMermaidRenderer.state&&r.a.createElement("div",{style:{padding:16}},r.a.createElement(ue,{source:S.m(s.getValue(),s)})),r.a.createElement("div",{style:this.getHeaderStyle()},(e.isMobile||!J.a.state.isKeyboardMode)&&this.canEdit()&&r.a.createElement("div",{style:{color:this.theme.mediumTextColor,display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,marginTop:4,marginRight:4}},!e.isMobile&&this.renderCopyToClipboardButton(),!e.isMobile&&this.renderCaptionButton(),r.a.createElement(V.a,{style:{height:25,background:this.theme.codeBlockButtonBackground,borderTopLeftRadius:e.isMobile?3:0,borderBottomLeftRadius:e.isMobile?3:0,paddingLeft:8,paddingRight:8},store:this.props.store,fadeIn:!1}))),r.a.createElement("div",{style:this.getLanguageSelectorStyle()},this.renderSelectLanguage()),r.a.createElement("div",{style:this.getCaptionContainerStyle()},this.renderCaption())),this.renderDiscussion())}renderSelectLanguage(){const{device:e}=this.environment,t=this.getCurrentLanguage();return r.a.createElement(H.a,{popupType:e.isMobile?H.a.PopupType.SlideUp:H.a.PopupType.Popup,renderOrigin:e=>r.a.createElement($.a,Object.assign({disabled:!this.canEdit(),style:{marginRight:5}},e),t,ee.a.chevronDown({width:10,marginLeft:4,fill:this.theme.lightIconColor})),buttonPopupStore:this.stores.buttonPopupStore,placementToOrigin:q.b.Bottom,render:this.renderPopup,onClose:this.handlePopupClose})}renderCopyToClipboardButton(){return r.a.createElement($.a,{onClick:this.handleCopy,style:{...this.getButtonStyle(),borderTopRightRadius:0,borderBottomRightRadius:0}},ee.a.copy({height:16,width:16,paddingRight:4}),r.a.createElement(te.FormattedMessage,{defaultMessage:"Copy",id:"codeBlock.copyToClipboard.button"}))}renderCaptionButton(){return r.a.createElement($.a,{onClick:this.handleEditCaption,style:{...this.getButtonStyle(),marginLeft:1,marginRight:1,borderRadius:0}},r.a.createElement(te.FormattedMessage,{defaultMessage:"Caption",id:"codeBlock.caption.button"}))}getCurrentLanguage(){return this.getPersistedLanguage()||ve.defaultLanguage}getPersistedLanguage(){const e=this.props.store.getProperties()||{};return U.u(e.language,N.n)}setPersistedLanguage(e){_.createAndCommit(this.environment,t=>{ge.a({blocks:[this.props.store],language:e,transaction:t})}),Q.a.set({userId:this.environment.currentUser.id,key:ve.localLanguagePreferenceKey,value:e})}getStyle(){return{flexGrow:1,borderRadius:3,textAlign:"left",position:"relative",background:this.theme.codeBlockBackground,minWidth:0,width:"100%",...this.props.style}}getButtonStyle(){return{height:25,background:this.theme.codeBlockButtonBackground,color:this.theme.regularTextColor,fontWeight:T.a.fontWeight.regular,padding:"4px 6px",fontSize:11.5}}getHeaderStyle(){const{mouseEntered:e}=this.stores.mouseStore.state,{isMobile:t}=this.environment.device;return{position:"absolute",top:3,right:1,color:this.theme.mediumTextColor,display:"flex",alignItems:"center",justifyContent:"flex-end",height:25,fontSize:11.5,opacity:e||t?1:0,transition:ve.transition}}getLanguageSelectorStyle(){const{mouseEntered:e}=this.stores.mouseStore.state,{isMobile:t}=this.environment.device;return{position:"absolute",top:8,left:8,color:this.theme.mediumTextColor,display:"flex",alignItems:"center",justifyContent:"flex-end",opacity:e||t?1:0,transition:ve.transition}}getCaptionContainerStyle(){return{background:this.theme.contentBackground,paddingRight:105}}}ve.localLanguagePreferenceKey="CodeBlockDefaultLanguage",ve.localCodeWrapPreferenceKey="CodeBlockDefaultCodeWrap",ve.defaultLanguage="JavaScript",ve.transition="opacity 300ms ease-in";t.a=ve},iVjn:function(e,t,n){"use strict";n("3bBZ");var o=n("wldR"),r=n("LvDl"),a=n.n(r),i=n("PQqx"),s=n("EZe4"),l=n("SjXP"),c=n("lBar"),d=n("jWHj"),u=n("DkKf"),p=n("DNgp"),h=n("0zNc"),m=n("84+D");class f extends o.a{constructor(){super(...arguments),this.storeTypes={store:l.a},this.handledTouchStart=!1,this.handleMouseDown=e=>{if(!this.props.disabled)return this.handledTouchStart?(this.handledTouchStart=!1,void Object(s.d)({event:e,context:s.a.EditorMouseDown,callback:a.a.identity})):void(1!==e.button&&Object(s.d)({event:e,context:s.a.EditorMouseDown,callback:()=>this.setDragging(e,!1)}))},this.handleTouchStart=e=>{this.handledTouchStart=!0,!this.props.forceTouch||this.isTextEditing()||this.props.disabled||Object(s.d)({event:e,context:s.a.EditorMouseDown,callback:()=>this.setDragging(e,!0)})},this.handleMove=e=>{this.stores.store.state.waiting&&this.didScroll(e)?this.cancelDelayedDrag():this.stores.store.state.dragging&&(this.stores.store.setState({...this.stores.store.state,currentPoint:this.getPoint(e)}),this.props.onDraggableDragMove&&this.props.onDraggableDragMove(this.createDragEventFromEvent(e,this.stores.store.state,g(e))))},this.handleWindowMouseMove=e=>{this.handleMove(e)},this.handleWindowTouchMove=e=>{this.handleMove(e)},this.handleWindowMouseMoveThrottled=a.a.throttle(this.handleWindowMouseMove,f.moveThrottleRate,{trailing:!0}),this.handleWindowTouchMoveThrottled=a.a.throttle(this.handleWindowTouchMove,f.moveThrottleRate,{trailing:!0}),this.handleTouchForceChange=e=>{if(!this.props.forceTouch)return;const t=e.touches[0];t&&t.force>=.6&&this.stores.store.state.waiting&&(e.preventDefault(),clearTimeout(this.dragDelayTimer),this.beginDrag({target:e.target,preventDefault:()=>e.preventDefault(),device:g(e),initiator:"touch"}))},this.handleWindowMouseUp=e=>{this.stores.store.state.dragging?(this.props.onDraggableDragEnd&&this.props.onDraggableDragEnd(this.createDragEventFromEvent(e,this.stores.store.state,g(e))),this.clearDragging()):this.stores.store.state.waiting&&this.cancelDelayedDrag()},this.handleWindowTouchCancel=e=>{this.handleWindowTouchEnd(e)},this.handleWindowTouchEnd=e=>{this.stores.store.state.dragging?(this.props.onDraggableDragEnd&&this.props.onDraggableDragEnd(this.createDragEndEvent({point:this.stores.store.state.currentPoint,target:e.target,preventDefault:()=>e.preventDefault(),draggableState:this.stores.store.state})),this.clearDragging()):this.stores.store.state.waiting&&this.cancelDelayedDrag()},this.handleContextMenu=e=>{const{device:t}=this.environment;if(t.isAndroid&&"editing"!==p.default.state.mode)return e.preventDefault(),e.stopPropagation(),!1;this.stores.store.state.dragging&&(this.props.onDraggableDragCancel&&this.props.onDraggableDragCancel(this.createDragEventFromEvent(e,this.stores.store.state,g(e))),this.clearDragging())},this.handleEsc=e=>{e.preventDefault(),this.stores.store.state.dragging&&(this.props.onDraggableDragCancel&&this.props.onDraggableDragCancel(this.createDragEndEventFromEvent(e,this.stores.store.state)),this.clearDragging())},this.beginDrag=e=>{if(m.a.state.swiping)return;const{disableHorizontalEdgeScroll:t,disableVerticalEdgeScroll:n}=this.props;if(h.a.setState({isDragging:!0,initiator:e.initiator,disableHorizontalEdgeScroll:t||!1,disableVerticalEdgeScroll:n||!1}),this.stores.store.state.waiting){const t=this.stores.store.state.waitingPoint,n={dragging:!0,waiting:!1,startingPoint:t,currentPoint:t,scrollerPositions:this.getScrollerPositions(e),initiator:e.initiator};this.stores.store.setState(n);const o=this.createDragEvent({point:t,target:e.target,preventDefault:e.preventDefault,draggableState:n,device:e.device});this.props.onDraggableDragStart&&this.props.onDraggableDragStart(o)}else if(this.stores.store.state.dragging){const t=this.createDragEvent({point:this.stores.store.state.currentPoint,target:e.target,preventDefault:e.preventDefault,draggableState:this.stores.store.state,device:e.device});this.props.onDraggableDragStart&&this.props.onDraggableDragStart(t)}}}renderComponent(){const e=this.props.touchDragOnly?{onTouchStart:this.handleTouchStart,onContextMenu:this.handleContextMenu}:{onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,onContextMenu:this.handleContextMenu};return this.props.render(e)}setDragging(e,t){t?(window.addEventListener("touchmove",this.handleWindowTouchMoveThrottled),window.addEventListener("touchend",this.handleWindowTouchEnd),window.addEventListener("touchcancel",this.handleWindowTouchCancel),window.addEventListener("touchforcechange",this.handleTouchForceChange)):(window.addEventListener("mouseup",this.handleWindowMouseUp),window.addEventListener("mousemove",this.handleWindowMouseMoveThrottled)),i.f(this.environment,{listener:this,enable:!0,shortcuts:{esc:this.handleEsc}}),document.addEventListener("pause",this.handleEsc,!1);const n=e.target,o=g(e),r=t?"touch":"mouse";t&&this.props.forceTouch?(this.stores.store.setState({dragging:!1,waiting:!0,initiator:"none",scrollerPositions:this.getScrollerPositions(e),waitingPoint:this.getPoint(e)}),this.dragDelayTimer=setTimeout(()=>this.beginDrag({target:n,preventDefault:a.a.identity,device:o,initiator:r}),500)):(this.stores.store.setState({dragging:!0,waiting:!1,scrollerPositions:this.getScrollerPositions(e),startingPoint:this.getPoint(e),currentPoint:this.getPoint(e),initiator:r}),this.beginDrag({target:n,preventDefault:()=>e.preventDefault(),device:o,initiator:r}))}clearDragging(){clearTimeout(this.dragDelayTimer),this.stores.store.reset(),h.a.reset(),window.removeEventListener("mouseup",this.handleWindowMouseUp),window.removeEventListener("mousemove",this.handleWindowMouseMoveThrottled),window.removeEventListener("touchmove",this.handleWindowTouchMoveThrottled),window.removeEventListener("touchend",this.handleWindowTouchEnd),window.removeEventListener("touchcancel",this.handleWindowTouchCancel),window.removeEventListener("touchforcechange",this.handleTouchForceChange),i.e(this.environment,this),document.removeEventListener("pause",this.handleEsc,!1)}cancelDelayedDrag(){clearTimeout(this.dragDelayTimer),this.stores.store.setState({dragging:!1,waiting:!1,initiator:"none"}),window.removeEventListener("mouseup",this.handleWindowMouseUp),window.removeEventListener("mousemove",this.handleWindowMouseMoveThrottled),window.removeEventListener("touchmove",this.handleWindowTouchMoveThrottled),window.removeEventListener("touchend",this.handleWindowTouchEnd),window.removeEventListener("touchcancel",this.handleWindowTouchCancel),window.removeEventListener("touchforcechange",this.handleTouchForceChange),i.e(this.environment,this),document.removeEventListener("pause",this.handleEsc,!1)}createDragEndEventFromEvent(e,t){const n=this.getPoint(e);return this.createDragEndEvent({point:n,target:e.target,preventDefault:()=>e.preventDefault(),draggableState:t})}createDragEndEvent(e){const{point:t,draggableState:n}=e,o=d.a();return{startX:n.startingPoint.x,startY:n.startingPoint.y,currentX:t.x,currentY:t.y,diffX:t.x-n.startingPoint.x,diffY:t.y-n.startingPoint.y,shiftKey:o.shift,optionKey:o.option,commandKey:o.command||o.control,target:e.target,preventDefault:e.preventDefault}}createDragEventFromEvent(e,t,n){const o=this.getPoint(e);return this.createDragEvent({point:o,target:e.target,preventDefault:()=>e.preventDefault(),draggableState:t,device:n})}createDragEvent(e){const{device:t,...n}=e;return{...this.createDragEndEvent(n),device:t}}getPoint(e){return e.touches?this.getTouchPoint(e):this.getMousePoint(e)}getMousePoint(e){return{x:e.clientX,y:e.clientY}}getTouchPoint(e){const t=e.touches[0];return{x:t.clientX,y:t.clientY}}isTextEditing(){return"editing"===p.default.state.mode}getScrollerPositions(e){return this.target!==e.target&&(this.target=e.target,this.scrollers=Object(c.e)(e.target)),this.scrollers?this.scrollers.map(e=>({x:e.scrollTop,y:e.scrollLeft})):[]}didScroll(e){return(this.stores.store.state.dragging||this.stores.store.state.waiting)&&!a.a.isEqual(this.stores.store.state.scrollerPositions,this.getScrollerPositions(e))}}function g(e){if(function(e){return Boolean(e.touches)}(e)){const t=e.touches[0];return t?Object(u.a)(t):"finger"}return"mouse"}f.moveThrottleRate=15,t.a=f},id5p:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("DNfA"),i=n("i3uR"),s=n("wldR"),l=n("Na01"),c=n("uSCg"),d=n("LeVO"),u=n("Sb6f"),p=n("mF3+"),h=n("LvDl"),m=n.n(h),f=n("p9gS"),g=n("nFzZ"),b=n("Pl3d"),v=n("bkwR"),y=n("hU3F"),S=n("wlCD"),w=n("cYwG"),k=n("7TLZ"),C=n("bPtJ"),M=n("QcDD"),E=n("vJXr"),_=n("JuT7"),T=n("Ko8Q"),x=n("mcFc"),I=n("JgyA"),P=n("J9+s");const O={mentions:!0,following:!0,archive:!1};class B extends s.a{constructor(){super(...arguments),this.storeTypes={size:y.a.of(20),checkpoint:y.a.of(Math.random())},this.renderRequest=(e,t,n)=>{const o=M.default.state.currentSpaceStore;if(!o||e)return r.a.createElement("div",{style:this.getPlaceholderContentStyle()},r.a.createElement(P.FormattedMessage,{defaultMessage:"Something went wrong.",id:"notificationUpdates.unknownErrorMessage"}));if(!t)return r.a.createElement("div",{style:this.getContentStyle()},this.renderSpinner());const a=t.map(e=>Object(C.c)(o,{table:x.a,id:e})),i=m.a.compact(a.map(e=>{const t=e.getValue();if(!t)return;if(t.invalid)return;if(t.visited&&O[this.props.type]||!t.visited&&"archive"===this.props.type)return;const n=k.c(e);if(!n)return;const o=n.getValue();return o&&!o.invalid?{activity:o,notification:t}:void 0})),s=this.stores.size.get(),l=0===i.length;return I.a.setState({...I.a.state,isCurrentTabEmpty:l}),r.a.createElement("div",{style:l?this.getPlaceholderContentStyle():this.getContentStyle()},l&&this.props.empty,r.a.createElement("div",{className:"notranslate"},i.map(({activity:e,notification:t},n,a)=>{const i=a.length-1===n;return r.a.createElement(f.a,{key:e.id,activity:e,rootStore:o,isLast:i,notification:t,analyticsContext:this.props.analyticsContext,isTopbarUpdatesMenu:!1,source:"notifications"})})),r.a.createElement(w.a,{onChange:e=>{e<200&&n&&t&&t.length>=s&&this.stores.size.set(t.length+20)}},!n&&this.renderSpinner(!0)))},this.handleActivityEmit=()=>{this.stores.checkpoint.set(Math.random())},this.handleActivityEmitThrottled=m.a.throttle(this.handleActivityEmit,1e3),this.handleNotificationEmit=g.g(this.handleActivityEmitThrottled)}willMount(){this.startMessageListeners()}willUnmount(){this.stopMessageListeners()}renderComponent(){return E.a.state.online?this.renderOnline():this.renderOffline()}renderOffline(){return r.a.createElement("div",{style:this.getPlaceholderContentStyle()},r.a.createElement("div",null,r.a.createElement(P.FormattedMessage,{defaultMessage:"Please go online to view updates.",id:"notificationUpdates.offline.message"})))}renderOnline(){const{currentUserStore:e,currentSpaceStore:t}=M.default.state;if(!e||!t)return;const n=t.id,o=this.stores.size.get(),a=this.stores.checkpoint.get(),i=this.props.type;return r.a.createElement(b.a,{throttle:1e3,request:{spaceId:n,size:o,type:i,checkpoint:a},performRequest:async({spaceId:e,size:t,type:n})=>{const o=await v.getNotificationLog(this.environment,{spaceId:e,size:t,type:n});if("failed"===o.type)throw o.error;return o.data.notificationIds},render:this.renderRequest})}renderSpinner(e){return r.a.createElement("div",{style:this.getSpinnerStyle(e)},r.a.createElement(S.a,null))}startMessageListeners(){const{currentUserStore:e}=M.default.state;if(e){const t=Object(T.f)(e.id);this.notificationListenerReference=_.a.addListener(t,this.handleNotificationEmit,void 0)}}stopMessageListeners(){this.notificationListenerReference&&(_.a.removeListener(this.notificationListenerReference),this.notificationListenerReference=void 0)}getContentStyle(){const{device:e}=this.environment;return{minHeight:e.isMobile?void 0:"mentions"===this.props.type?void 0:"75vh",paddingBottom:e.isMobile?44:0}}getPlaceholderContentStyle(){const{device:e}=this.environment;return{...this.getContentStyle(),paddingTop:e.isMobile?64:void 0,minHeight:e.isMobile?void 0:220,display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",fontSize:14,color:this.theme.mediumTextColor,overflow:"hidden"}}getSpinnerStyle(e){return{...this.getPlaceholderContentStyle(),minHeight:e?64:220}}}var L,R=B,D=n("lOyx"),A=n("C7oc"),j=n("gbGO"),F=n("6Zdk"),V=n("y6Dp"),N=n("VpIZ"),U=n("R14H"),z=n("R+Q+"),X=n("fCO4"),Y=n("FoNW"),H=n("ohKz"),q=n("h2IJ"),W=n("toub"),G=n("Wae9"),Z=n("zmp8"),K=n("lCCU"),J=n("MeYt"),Q=n("7M94"),$=n("d9nj"),ee=n("nPEg"),te=n("AXh+"),ne=n("VhAz"),oe=n("Z1H8");!function(e){e[e.Sidebar=0]="Sidebar",e[e.SidebarMobile=1]="SidebarMobile",e[e.MobileBottomBarPhone=2]="MobileBottomBarPhone",e[e.MobileBottomBarTablet=3]="MobileBottomBarTablet",e[e.TopbarMobile=4]="TopbarMobile"}(L||(L={}));class re extends s.a{constructor(){super(...arguments),this.renderSpaceUpdates=()=>{const{device:e}=this.environment;let t;return t=e.isMobile?{menuType:j.b.MenuType.Modal,title:r.a.createElement(P.FormattedMessage,{defaultMessage:"All Updates",id:"updatesModal.mobileMenu.title"}),right:r.a.createElement(ee.DoneMenuText,null),onClickRight:this.closeMenu,left:p.a.settings({fill:Z.g.blue,width:18,height:18}),onClickLeft:this.handleOpenSettings,header:this.renderHeader(),whiteBackground:!0,footer:this.renderFooter()}:{menuType:j.b.MenuType.Popup,header:this.renderHeader(),maxHeight:"80vh",height:"auto",footer:this.renderFooter()},r.a.createElement(X.a,{onSwipeLeft:this.handleSwipeLeft,onSwipeRight:this.handleSwipeRight,render:e=>r.a.createElement(j.b,Object.assign({},t,e,{className:Q.Vb}),r.a.createElement(oe.a,{capture:!0,allowUndo:!0,allowEsc:!0,render:()=>this.renderContent()}))})},this.closeMenu=()=>{Y.a.setState({...Y.a.state,open:!1}),this.setCurrentTabAsRead()},this.handleDismiss=()=>{this.setCurrentTabAsRead()},this.handleClick=()=>{this.handleTrackTab()},this.handleSwipeLeft=()=>{const e=this.tabs.indexOf(I.a.state.currentTab)+1,t=this.tabs[e];void 0!==t&&this.changeTab(t)},this.handleSwipeRight=()=>{const e=this.tabs.indexOf(I.a.state.currentTab)-1,t=this.tabs[e];void 0!==t&&this.changeTab(t)},this.handleTabClick=e=>{const t=this.tabs[e];I.a.state.currentTab!==t&&this.changeTab(t)},this.handleOpenSettings=()=>{const{device:e}=this.environment;V.ad(this.environment),e.isMobile?H.a.setState({open:!0}):(Y.a.setState({...Y.a.state,open:!1}),W.a.setState({...W.a.state,currentTab:"notifications"}),W.a.setState({...W.a.state,open:!0}))},this.handleArchiveAll=()=>{const e=I.a.state.currentTab;Object(I.b)(e)&&F.a(this.environment,e)},this.setCurrentTabAsRead=()=>{F.c(this.environment)}}willMount(){const e=q.a.get(re.lastUpdatesTabKey);e&&this.tabs.includes(e)&&this.setTabState(e)}renderComponent(){const{device:e}=this.environment;return r.a.createElement(d.a,{renderTooltip:()=>r.a.createElement(P.FormattedMessage,{defaultMessage:"Updates for all pages in this space",id:"updatesButton.tooltip"}),originGap:6,placement:a.b.Right,render:t=>r.a.createElement(i.a,{popupType:e.isMobile?i.a.PopupType.SlideUp:i.a.PopupType.Popup,alignmentToOrigin:a.a.Start,placementToOrigin:a.b.Right,onClick:this.handleClick,originGap:0,style:{...!e.isMobile&&{width:500,overflow:"hidden"}},isWideTabletWidth:!0,render:this.renderSpaceUpdates,onClose:this.handleDismiss,isFullWidthOnMobile:!0,preventScaleTransition:!0,buttonPopupStore:Y.a,renderOrigin:e=>this.renderButton(t,e)})})}renderButton(e,t){const n=this.props.format,o=G.a.getUnreadCountForCurrentSpace(),a=o.mentions>0||o.following>0,i=Y.a.state.open,s=o.mentions;return n===L.MobileBottomBarPhone?r.a.createElement(J.a,Object.assign({style:re.mobileBottomBarPhoneButtonStyle,mobileFeedback:!0},t),r.a.createElement("div",{style:{position:"relative"}},p.a.mobileBottomBarUpdates({width:26,fill:this.theme.regularTextColor}),r.a.createElement(A.a,{color:A.a.Color.Red,count:s,style:{position:"absolute",top:-3,right:s<99?-5:-8}}))):n===L.MobileBottomBarTablet?r.a.createElement(J.a,Object.assign({style:re.mobileBottomBarTabletButtonStyle,mobileFeedback:!0},t),r.a.createElement("div",{style:{position:"relative"}},p.a.mobileBottomBarUpdates({width:26,fill:this.theme.regularTextColor}),r.a.createElement(A.a,{color:A.a.Color.Red,count:s,style:{position:"absolute",top:-3,right:s<99?-5:-8}}))):n===L.TopbarMobile?r.a.createElement(J.a,Object.assign({style:{...re.actionButtonStyle,marginLeft:2,marginRight:2},mobileFeedback:!0},t),p.a.mobileBottomBarUpdates({width:26}),r.a.createElement(A.a,{color:A.a.Color.Red,count:s,style:{position:"absolute",top:8,right:0}})):n===L.SidebarMobile?r.a.createElement(J.a,Object.assign({style:re.actionButtonStyle,mobileFeedback:!0},t),p.a.mobileBottomBarUpdates({width:26}),r.a.createElement(A.a,{color:A.a.Color.Red,count:s,style:{position:"absolute",top:8,right:0}})):n===L.Sidebar?r.a.createElement(J.a,Object.assign({style:{...a&&{fontWeight:u.a.fontWeight.medium,color:this.theme.regularTextColor}}},Object(c.a)(e,t)),r.a.createElement(l.a,{isMobile:!1,left:r.a.createElement("div",{style:{color:a?this.theme.regularTextColor:"inherit"}},p.a.typesCreatedAt({fill:a?this.theme.regularIconColor:this.theme.mediumIconColor,width:14})),right:r.a.createElement(A.a,{color:A.a.Color.Red,count:s,style:{marginBottom:2,marginLeft:6}}),style:{background:i?this.theme.buttonHoveredBackground:"none"}},r.a.createElement(P.FormattedMessage,{defaultMessage:"All Updates",id:"updatesButton.allUpdates.sidebarButton"}))):void 0}renderHeader(){const{device:e}=this.environment,{currentTab:t}=I.a.state,n=this.tabs.indexOf(t),a=G.a.getUnreadCountForCurrentSpace(),i={mentions:r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:a.mentions>0?u.a.fontWeight.medium:void 0},className:Q.Ub},r.a.createElement("div",null,r.a.createElement(P.FormattedMessage,{defaultMessage:"Inbox",id:"updatesModal.mentionsTab.title"})),r.a.createElement(A.a,{color:A.a.Color.Red,count:a.mentions,style:{marginLeft:6},numberStyle:{marginBottom:e.isMobile?0:2}})),following:r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:a.following>0?u.a.fontWeight.medium:void 0}},r.a.createElement("div",null,r.a.createElement(P.FormattedMessage,{defaultMessage:"Following",id:"updatesModal.followedUpdatesTab.title"})),r.a.createElement(A.a,{color:A.a.Color.Gray,count:a.following,style:{marginLeft:6},numberStyle:{marginBottom:e.isMobile?0:2}})),allPages:r.a.createElement("div",{className:Q.Sb},r.a.createElement(P.FormattedMessage,{defaultMessage:"All",id:"updatesModal.allUpdatesTab.title"})),archive:r.a.createElement("div",{className:Q.Tb},r.a.createElement(P.FormattedMessage,{defaultMessage:"Archived",id:"updatesModal.archiveTab.title"})),currentPage:e.isMobile&&r.a.createElement("div",null,r.a.createElement(P.FormattedMessage,{defaultMessage:"This page",id:"updatesModal.mobielThisPage.title"}))};let s;if("currentPage"===I.a.state.currentTab){const{currentBlockStore:e}=M.default.state;e&&(s=r.a.createElement(U.a,{store:e}))}const l=this.tabs.map(e=>i[e]);return r.a.createElement(o.Fragment,null,r.a.createElement(z.a,{tabs:l,selectedIndex:n,onChange:this.handleTabClick,separatorIndexes:[this.tabs.indexOf("archive")-1],right:!e.isMobile&&this.renderNotificationSettingsButton()}),s)}renderNotificationSettingsButton(){return r.a.createElement(d.a,{renderTooltip:()=>r.a.createElement(P.FormattedMessage,{defaultMessage:"Open notifications settings",id:"updatesModal.openNotifications.tooltip"}),render:e=>r.a.createElement(K.a,Object.assign({icon:p.a.sidebarSettings,onClick:this.handleOpenSettings},e))})}renderContent(){const e=I.a.state.currentTab;if("following"===e)return r.a.createElement(R,{key:"following",type:"following",empty:this.renderEmptyState(r.a.createElement(P.FormattedMessage,{defaultMessage:"Turn on “Follow this page” in the Updates menu on any page to receive updates here.",id:"updatesModal.followedUpdatesTab.allArchived"}),r.a.createElement(P.FormattedMessage,{defaultMessage:"No new updates",id:"updatesModal.followedUpdatesTab.allArchivedTitle"})),analyticsContext:"click_followed_pages"});if("allPages"===e){const{currentSpaceStore:e}=M.default.state;return e?r.a.createElement(D.a,{key:"all-pages",spaceId:e.id,empty:this.renderEmptyState(r.a.createElement(P.FormattedMessage,{defaultMessage:"Updates on pages in your workspace will appear here.",id:"updatesModal.allPagesTab.emptyPrompt"}),r.a.createElement(P.FormattedMessage,{defaultMessage:"No new updates",id:"updatesModal.allPagesTab.emptyPromptTitle"})),source:"all_updates",analyticsContext:"click_all_updates",isTopbarUpdatesMenu:!1}):null}if("mentions"===e)return r.a.createElement(R,{key:"mentions",type:"mentions",empty:this.renderEmptyState(Object(te.f)(this.environment)?r.a.createElement(P.FormattedMessage,{defaultMessage:"When someone @mentions you, replies to your comments, sends you a request, or invites you to a page, you’ll be notified here.",id:"updatesModal.spaceUpdatesTab.allArchivedRequests"}):r.a.createElement(P.FormattedMessage,{defaultMessage:"When someone @mentions you, replies to your comments, or invites you to a page, you’ll be notified here.",id:"updatesModal.spaceUpdatesTab.allArchived"}),r.a.createElement(P.FormattedMessage,{defaultMessage:"You're all caught up",id:"updatesModal.spaceUpdatesTab.allArchivedTitle"})),analyticsContext:"click_comments_and_mentions"});if("archive"===e)return r.a.createElement(R,{key:"archive",type:"archive",empty:this.renderEmptyState(r.a.createElement(P.FormattedMessage,{defaultMessage:"Any Inbox updates you archived will show up here.",id:"updatesModal.arvhiveTab.emptyPrompt"}),r.a.createElement(P.FormattedMessage,{defaultMessage:"No archived updates",id:"updatesModal.arvhiveTab.emptyPromptTitle"})),analyticsContext:"click_followed_pages"});if("currentPage"===e){const{currentSpaceStore:e,currentBlockStore:t}=M.default.state;if(!e||!t)return null;const n=t.getValue(),o=n&&N.q(n)?n.collection_id:void 0;return r.a.createElement(D.a,{key:"current-page",navigableBlockId:t.id,collectionId:o,spaceId:e.id,empty:this.renderEmptyState(r.a.createElement(P.FormattedMessage,{defaultMessage:"Any changes to this page will show up here.",id:"updatesModal.currentPageTab.emptyPrompt"}),r.a.createElement(P.FormattedMessage,{defaultMessage:"No page updates",id:"updatesModal.currentPageTab.emptyPromptTitle"})),analyticsContext:"click_all_updates",isTopbarUpdatesMenu:!0,source:"notifications"})}Object(ne.e)(e)}renderEmptyState(e,t){const{device:n}=this.environment;return r.a.createElement("div",{style:{textAlign:"center",paddingLeft:20,paddingRight:20,paddingTop:n.isMobile?64:void 0,height:n.isMobile?void 0:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",minHeight:n.isMobile?void 0:220}},r.a.createElement("div",{style:{paddingBottom:12}},p.a.inbox({width:48,fill:this.theme.lightIconColor})),r.a.createElement("div",{style:{fontSize:14,fontWeight:500,color:this.theme.mediumTextColor,maxWidth:380}},t),r.a.createElement("div",{style:{fontSize:14,color:this.theme.mediumTextColor,marginTop:2,marginBottom:4,maxWidth:380}},e))}renderFooter(){const{currentTab:e,isCurrentTabEmpty:t}=I.a.state;if("mentions"!==e)return;if(t)return;const{device:n}=this.environment;return r.a.createElement("div",{style:this.getInboxActionsStyle()},r.a.createElement($.a,{onClick:this.handleArchiveAll,style:this.getArchiveButtonStyle(),mobileFeedback:n.isMobile},p.a.archive({width:n.isMobile?16:14,fill:"inherit",marginLeft:n.isMobile?6:0,marginRight:n.isMobile?8:6}),r.a.createElement(P.FormattedMessage,{defaultMessage:"Archive all",id:"updatesModal.spaceUpdatesTab.archiveAllButtonTitle"})))}setTabState(e){q.a.get(re.lastUpdatesTabKey)!==e&&q.a.set(re.lastUpdatesTabKey,e),I.a.state.currentTab!==e&&I.a.setState({...I.a.state,currentTab:e})}handleTrackTab(){let e;switch(I.a.state.currentTab){case"mentions":e="mentions_comments";break;case"following":e="followed_pages";break;default:e="all_updates"}V.Mc(this.environment,{tab:e}),V.Ae(this.environment,{itemName:"updates"})}changeTab(e){this.setCurrentTabAsRead(),this.setTabState(e),this.handleTrackTab()}get tabs(){return this.environment.device.isMobile?["mentions","following","allPages","currentPage","archive"]:["mentions","following","allPages","archive"]}getInboxActionsStyle(){const{device:e}=this.environment;return{display:"flex",alignItems:e.isMobile?"flex-start":"center",background:e.isMobile?this.theme.contentBackground:this.theme.sidebarBackground,boxShadow:"0 -1px 0 ".concat(this.theme.regularDividerColor),marginTop:1,position:e.isMobile?"relative":"sticky",left:0,right:0,bottom:0}}getArchiveButtonStyle(){const{device:e}=this.environment;return{paddingLeft:e.isMobile?0:14,paddingRight:e.isMobile?8:12,marginRight:"auto",width:"100%",color:e.isMobile?this.theme.blueColor:this.theme.mediumTextColor,fill:e.isMobile?this.theme.blueColor:this.theme.mediumTextColor,height:e.isMobile?44:36,borderRadius:0,fontSize:e.isMobile?16:12,fontWeight:e.isMobile?500:400,justifyContent:e.isMobile?"center":void 0}}}re.Format=L,re.lastUpdatesTabKey="LastUpdatesTab",re.actionButtonStyle={display:"flex",alignItems:"center",justifyContent:"center",flexGrow:0,flexShrink:0,height:"100%",minWidth:34,position:"relative"},re.mobileBottomBarPhoneButtonStyle={display:"flex",alignItems:"center",justifyContent:"center",flex:1},re.mobileBottomBarTabletButtonStyle={display:"flex",alignItems:"center",justifyContent:"center",width:62,flex:"none"};t.a=re},ieCD:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},"ij+4":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("7M94"),l=n("+QMF"),c=n("frzs"),d=n("sdlW"),u=n("w5Oa"),p=n("wldR"),h=n("i3uR"),m=n("2Zgn"),f=n("WgIs"),g=n("SR/M"),b=n("2Y+N"),v=n("gbGO"),y=n("NSFP"),S=n("y6Dp"),w=n("MBf9"),k=n("C7oc"),C=n("AjLL"),M=n("g8hj"),E=n("QcDD"),_=n("vJXr"),T=n("3O7B"),x=n("Wae9"),I=n("+fkW"),P=n("MeYt"),O=n("Na01"),B=n("Sb6f"),L=n("Oy36"),R=n("mF3+"),D=n("0Xty");class A extends p.a{renderComponent(){return r.a.createElement("div",{style:this.getPlaceholderPageStyle()},this.props.showIcon&&R.a.templates({width:16,height:16,fill:this.theme.buttonHoveredBackground}),r.a.createElement("div",{style:this.getPlaceholderTextWrapStyle()},r.a.createElement("div",{style:A.getPlaceholderTextStyle(this.theme)})))}getPlaceholderPageStyle(){return{height:28,display:"flex",alignItems:"center",width:"100%",padding:this.props.showIcon?"0 15px":"0 0px"}}getPlaceholderTextWrapStyle(){return{flexGrow:1,marginLeft:this.props.showIcon?10:0,height:28,display:"flex",alignItems:"center"}}static getPlaceholderTextStyle(e){const t=Math.ceil(60),n=Math.floor(85),o=Math.floor(Math.random()*(n-t+1))+t,r="".concat(o,"%");return{height:4,background:e.buttonHoveredBackground,width:r}}}var j=A,F=n("qX+M");class V extends p.a{willMountOrUpdate(){"store"===this.props.type&&this.props.spaceStore.getValue()}renderComponent(){const{device:e}=this.environment,{props:t}=this,{activeUserEmailAddress:n,isMobile:o,style:a,showExpand:i}=t,s="store"===t.type?Object(F.getSpaceName)(this.environment,t.spaceStore):t.spaceName;return r.a.createElement(O.a,{style:{overflow:"hidden",width:"100%",...o&&{fontSize:14,padding:0,marginRight:12},...a||{}},left:s?this.renderRecordIcon(s,"store"===t.type?void 0:t.spaceIcon,o,"store"===t.type?t.spaceStore:void 0):this.renderPlaceholderRecordIcon(),isMobile:o,disableMobileBorder:!0},!s&&this.renderPlaceholderTitle(),s&&r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:n?"space-between":"start"},className:"notranslate"},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:6,marginTop:e.isAndroid?3:0,...V.truncateStyle}},r.a.createElement("div",{style:{color:this.theme.regularTextColor,fontWeight:B.a.fontWeight.medium,...V.truncateStyle}},s),r.a.createElement("div",{style:{color:this.theme.mediumTextColor,fontSize:11,lineHeight:"12px",fontWeight:B.a.fontWeight.regular,...V.truncateStyle}},n)),i&&r.a.createElement("div",{style:{flexGrow:0,flexShrink:0,width:12,height:12,fill:this.theme.mediumIconColor}},R.a.expand())))}renderRecordIcon(e,t,n,o){const a=o?Object(F.getSpaceIcon)(this.environment,o):t?{icon:t,pointer:{table:"space",id:"undefined"}}:void 0,i=o?Object(F.getSpaceName)(this.environment,o):e;return r.a.createElement(L.a,{disabled:!0,icon:a,isEmptyPage:!1,title:i,size:n?24:20,style:{marginTop:1,color:this.theme.regularTextColor}})}renderPlaceholderRecordIcon(){return r.a.createElement("div",{style:{opacity:.25}},r.a.createElement(D.a,{size:20,title:void 0}))}renderPlaceholderTitle(){return r.a.createElement(j,{showIcon:!1})}}V.truncateStyle={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};var N,U=V,z=n("qqdV"),X=n("62KP"),Y=n("1Imc"),H=n("SiBm"),q=n("J9+s"),W=n("nPEg"),G=n("Rtjx"),Z=n("JSZu"),K=n("klxS"),J=n("ZQ9l"),Q=n("prF1"),$=n("bxQm"),ee=n("9axl"),te=n("guIK"),ne=n("BJyN");n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return oe})),function(e){e[e.Regular=0]="Regular",e[e.DesktopMac=1]="DesktopMac",e[e.Mobile=2]="Mobile"}(N||(N={}));class oe extends p.a{constructor(){super(...arguments),this.storeTypes={loginStore:Y.a,loginPermissionsStore:X.a},this.height={[N.Regular]:C.a.defaultHeight,[N.DesktopMac]:C.a.desktopMacHeight,[N.Mobile]:"auto"},this.handleDesktopAppClick=()=>{const{device:e}=this.environment;this.close(),e.isWindows?S.yb(this.environment,{from:"sidebar",platform:"windows"}):S.yb(this.environment,{from:"sidebar",platform:"mac"})},this.handleMobileAppClick=()=>{this.close(),S.zb(this.environment,{from:"sidebar"})},this.handleClick=()=>{T.a.setState({...T.a.state,open:!0}),S.md(this.environment),H.a.getUserIds(this.environment).forEach(e=>{H.a.getSpaceViewStores(this.environment,e).forEach(t=>{const n=t.getSpaceId();n&&Object(te.a)({environment:this.environment,spaceId:n,userId:e})})})},this.logout=()=>{const{online:e}=_.a.state;e&&(T.a.setState({...T.a.state,open:!1}),S.oe(this.environment),c.logout(this.environment))},this.handleDraggableListDrop=e=>t=>{const n=new K.a(this.environment,{table:ee.a,id:e},{userId:e});w.createAndCommit(this.environment,e=>{d.u({userRootStore:n,transaction:e,spaceViewIds:t})},e),S.Td(this.environment,{workspace_count:t.length})},this.getAccountActionStyle=()=>({display:"flex",color:this.theme.mediumTextColor,whiteSpace:"nowrap",fontSize:this.isMobile?16:12,paddingLeft:this.isMobile||this.isOnlySpace()?0:u.a.dragHandleEffectiveWidth}),this.getFooterStyle=()=>this.environment.device.isMobile?{}:{backgroundColor:this.theme.sidebarSwitcherFooterBackground}}renderComponent(){const{device:e}=this.environment,{shouldShowUnexpandButton:t}=this.props,{currentSpaceStore:n,currentUserStore:a}=E.default.state,i=H.a.getUserIds(this.environment);if(!n||!a)return;const l=x.a.getUnreadMentionsCountForOtherSpaces(),c=i.length>1?a.getEmail():void 0;return r.a.createElement(h.a,{popupType:e.isMobile?h.a.PopupType.SlideUp:h.a.PopupType.Popup,buttonPopupStore:T.a,renderOrigin:()=>r.a.createElement(P.a,{style:{...oe.buttonStyle,height:this.height[this.props.format],marginBottom:c?e.isMobile?0:8:0},mobileFeedback:e.isMobile,onClick:this.handleClick,className:s.Bb},r.a.createElement(U,{isMobile:this.isMobile,spaceStore:n,activeUserEmailAddress:c,showExpand:!0,type:"store"}),t&&r.a.createElement("div",{className:s.y,style:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",marginRight:l?0:12}},r.a.createElement(m.a,null)),r.a.createElement(k.a,{color:k.a.Color.Red,count:l,style:{marginLeft:6,marginRight:14}})),originGap:0,disableMutationObserver:!0,render:t=>{let n;return n=e.isMobile?{menuType:v.b.MenuType.Modal,title:r.a.createElement(q.FormattedMessage,{defaultMessage:"Accounts & Workspaces",id:"sidebarSwitcherMultiAccount.mobileMenu.title"}),right:r.a.createElement(W.DoneMenuText,null),onClickRight:t.close}:{menuType:v.b.MenuType.Popup,minWidth:270,maxWidth:360,footer:this.renderFooter()},r.a.createElement(v.b,Object.assign({},n),i.map(t=>r.a.createElement(o.Fragment,{key:t},this.renderAccountHeader(t),r.a.createElement("div",{style:e.isMobile?{paddingTop:10}:{}},r.a.createElement(f.a,{type:f.a.Type.Vertical,sections:this.getMenuListSections(t),initialFocus:void 0})))),e.isMobile&&this.renderFooter())}})}renderAccountHeader(e){const{online:t}=_.a.state,n=H.a.getUserEmailAddress(this.environment,e);return n&&r.a.createElement(y.a,{emailAddress:n,userId:e,disabled:!t,accountActions:[Object(ne.i)(e),Object(ne.d)(e)]})}renderFooter(){const{redirectURL:e,disableLoginLink:t}=this.props,n=r.a.createElement(r.a.Fragment,null,!this.hasAtLeastOneTeamPlan()&&r.a.createElement(Z.a,Object.assign({createType:"create-work",redirectURL:e,disableLoginLink:t},this.stores)),r.a.createElement(Z.a,Object.assign({createType:"add-account",redirectURL:e,disableLoginLink:t},this.stores)));return r.a.createElement("div",{style:this.getFooterStyle()},r.a.createElement(b.a,null,l.b(this.environment)&&n,this.renderLogoutAll()),!this.isMobile&&r.a.createElement(b.a,{topBorder:!0},this.renderDownloadApps()))}renderDownloadApps(){const{device:e}=this.environment;return e.isElectron?r.a.createElement(Q.a,{external:!0,href:z.c.mobile,onClick:this.handleMobileAppClick},r.a.createElement(g.a,{focused:!1,title:r.a.createElement("div",{style:{color:this.theme.mediumTextColor,fontSize:12,paddingLeft:this.isMobile||this.isOnlySpace()?0:u.a.dragHandleEffectiveWidth}},r.a.createElement(q.FormattedMessage,{defaultMessage:"Get mobile app",id:"sidebarMultiSwitcher.desktopAppGetMobileApp.prompt"}))})):r.a.createElement(J.a,{isTokenTitle:!0,title:r.a.createElement("div",{style:{display:"flex",color:this.theme.mediumTextColor,fontSize:12,alignItems:"center",marginLeft:-5}},r.a.createElement(Q.a,{external:!0,href:z.c.desktop},r.a.createElement($.a,{onClick:this.handleDesktopAppClick},e.isWindows?r.a.createElement(q.FormattedMessage,{defaultMessage:"Get Windows app",id:"sidebarMultiSwitcher.windowsAppButton.text"}):r.a.createElement(q.FormattedMessage,{defaultMessage:"Get Mac app",id:"sidebarMultiSwitcher.macAppButton.text"}))))})}renderLogoutAll(){const{online:e}=_.a.state;return r.a.createElement(g.a,{onClick:this.logout,focused:!1,disabled:!e,title:r.a.createElement("div",{style:{...this.getAccountActionStyle(),paddingLeft:0}},r.a.createElement(q.FormattedMessage,{defaultMessage:"Log out all",id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.label"}))})}getMenuListSections(e){const{device:t}=this.environment,n=H.a.getSpaceViewStores(this.environment,e).map(e=>e.id);return[{key:"spaces",render:a=>r.a.createElement(b.a,Object.assign({},a,{disableMobilePadding:!0,topBorder:t.isMobile,style:{borderBottom:"1px solid ".concat(this.theme.regularDividerColor)},children:t.isMobile?a.children:r.a.createElement(o.Fragment,null,r.a.createElement(M.b,{direction:M.a.Vertical,keys:n,renderKey:e=>a.children[n.indexOf(e)],onDrop:this.handleDraggableListDrop(e),isSidebarSwitcher:!0}))})),items:this.getSpaceMenuListItems(e)}]}renderSpaceMenuItem(e){const{device:t}=this.environment,{online:n}=_.a.state,o=!this.isOnlySpace(e.userId)&&!t.isMobile;return r.a.createElement(u.a,Object.assign({},e.props,{id:e.id,icon:e.icon,title:e.title,caption:e.subtitle,isCheck:e.isCurrentSpace,unreadMentions:e.unreadMentions,showDragHandle:o,shortcut:void 0!==e.shortcutIndex&&e.shortcutIndex<=9?t.isElectronMac?"⌘".concat(e.shortcutIndex):"ctrl+".concat(e.shortcutIndex):void 0,disabled:!n&&this.environment.currentUser.id!==e.userId,disableTooltip:!0}))}getSpaceMenuListItems(e){const{onSpaceClick:t}=this.props,{device:n}=this.environment,o=[],{currentUserRootStore:r,currentSpaceStore:a}=E.default.state,s=H.a.getSpaceViewStores(this.environment,e),l=H.a.getAllSpaceViewStores(this.environment);if(!r||!a)return[];for(const[c,d]of s.entries()){const s=d.getSpaceStore();if(s){const c=e===r.id&&s.id===a.id,{results:u}=x.a.state,p=u.find(e=>e.spaceId===s.id),h=Object(F.getSpaceName)(this.environment,s);let m;const f=I.a.getPublicSpaceData(this.environment,s.id);if(f){const e=f.productId?this.props.intl.formatMessage(Object(G.d)(f.productId)):this.props.intl.formatMessage("team"===s.getPlanType()?G.h.teamTrialPlan:G.h.personalPlan);m=this.props.intl.formatMessage("personal"===s.getPlanType()?G.h.workspaceSubtitleWithoutMembers:G.h.workspaceSubtitleWithMembers,{numberOfWorkspaceMembers:this.props.intl.formatNumber(f.memberCount),planType:e})}const g=i.a.findIndex(l,e=>e.id===d.id)+1;o.push({key:d.id,render:t=>this.renderSpaceMenuItem({id:s.id,props:t,title:h,subtitle:m,shortcutIndex:n.isElectron?g:void 0,icon:Object(F.getSpaceIcon)(this.environment,s),isCurrentSpace:c,userId:e,unreadMentions:p&&p.spaceId!==a.id&&p.unread.mentions>0?p.unread.mentions:void 0}),action:async({event:e})=>{this.close(),c||await t({event:e,spaceViewStore:d}),S.pe(this.environment)}})}}return o}close(){T.a.setState({...T.a.state,open:!1})}get isMobile(){return this.props.format===N.Mobile}isOnlySpace(e){return 1===(e?H.a.getSpaceViewStores(this.environment,e):H.a.getAllSpaceViewStores(this.environment)).length}hasAtLeastOneTeamPlan(){return H.a.hasAtLeastOneTeamPlan(this.environment)}}oe.Format=N,oe.buttonStyle={display:"flex",alignItems:"center",minWidth:0,height:"100%",width:"100%"};t.c=Object(q.injectIntl)(oe)},ijm6:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var o=n("wpmu"),r=n("6rsX"),a=n("QcDD"),i=n("AmMh"),s=n("5k6+");const l=function(e){const{currentBlockStore:t}=a.default.state;if(t){const n=o.a.createChildStore(t,e.blockStore.pointer);s.a.setState({...s.a.state,originRect:e.originRect||i.a.getRectFromStore(e.blockStore),blockStore:n})}};function c(e){s.a.reset(),r.e(e)}},ikHm:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"l",(function(){return r})),n.d(t,"t",(function(){return a})),n.d(t,"u",(function(){return i})),n.d(t,"s",(function(){return s})),n.d(t,"v",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"q",(function(){return d})),n.d(t,"o",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"r",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"p",(function(){return f})),n.d(t,"n",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return S})),n.d(t,"m",(function(){return w})),n.d(t,"c",(function(){return k})),n.d(t,"i",(function(){return C})),n.d(t,"a",(function(){return M}));const o=1,r=2,a=2,i=3,s=4,l=9,c=9,d=9,u=81,p=82,h=84,m=88,f=99,g=99,b=99,v=99,y=101,S=99,w=999,k=1001,C=9999,M=9999999},iqZH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("QcDD"),r=n("toub");function a(e={}){const{currentSpaceStore:t}=o.default.state;t&&t.canRead()?r.a.setState({...r.a.state,open:!0,currentTab:e.currentTab||"members"}):r.a.setState({...r.a.state,open:!0,currentTab:e.currentTab||"settings"})}},j3Jm:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p}));var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("gbGO"),s=n("ZQ9l"),l=n("Z1H8"),c=n("nPEg");const d=8,u=8,p=32;class h extends a.a{renderComponent(){const{device:e}=this.environment;return r.a.createElement(l.a,{capture:!0,allowEsc:!0,allowUndo:!0,render:t=>{let n;return n=e.isMobile?{menuType:i.b.MenuType.Modal,title:this.props.title,right:r.a.createElement(c.DoneMenuText,null),onClickRight:this.props.onCancel,...t}:{menuType:i.b.MenuType.Popup,...this.props.desktopMinWidth&&{minWidth:this.props.desktopMinWidth},...this.props.desktopMaxWidth&&{maxWidth:this.props.desktopMaxWidth},...this.props.desktopWidth&&{width:this.props.desktopWidth},...t},r.a.createElement(i.b,Object.assign({},n,{header:this.renderHeading()}),this.props.children)}})}renderHeading(){if(!this.environment.device.isMobile)return r.a.createElement(s.a,{style:h.headingStyle,title:this.props.title,right:this.props.helpButton})}}h.headingStyle={height:p+d-2,paddingTop:d-2},t.d=h},j76I:function(e,t,n){"use strict";n("3bBZ");var o=n("922z"),r=n("JU1L"),a=(n("4Brf"),n("rE/H")),i=n.n(a);const s=new WeakMap;function l(e){let t=s.get(e);return void 0!==t?t:(t=i()(e),s.set(e,t),t)}class c{constructor({getKey:e=l,from:t}={}){if(this.map=new Map,this.getKey=e,t)for(const[n,o]of t)this.set(n,o)}get size(){return this.map.size}set(e,t){return this.map.set(this.getKey(e),[e,t])}get(e){const t=this.map.get(this.getKey(e));if(t)return t[1]}has(e){return this.map.has(this.getKey(e))}*entries(){for(const e of this.map.values())yield e}[Symbol.iterator](){return this.entries()}*keys(){for(const e of this.map.keys())yield JSON.parse(e)}*values(){for(const[e,t]of this.map.values())yield t}}async function d(e,t){const n=[];for(const o of e)n.push(t(o));return await Promise.all(n)}function u(e){const t=new o.a;for(const{pointer:n,value:o}of e)null!=o&&o.value&&t.set(n,o.value);return t}n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));const p=async function(e){const{recordPointers:t,recurFn:n,loadRecordValue:o,loadRecordValues:r,recordMap:a}=e;return await h({recordPointers:t,recordMap:a,loadRecordValue:o,loadRecordValues:r,recurFn:e=>n(e,e.parentPointer)})};async function h(e){const t=new Set,n=async function(o,a){const i=[];function s({recordPointer:n,value:a,parent:s}){if(e.recordMap.set(n,a),a){const l=e.recurFn({table:n.table,id:n.id,value:a,parentPointer:s},o)||[];for(const e of l){const o=Object(r.b)(e);t.has(o)||(t.add(o),i.push({recordPointer:e,parent:n}))}}}const l=new c,d=[];Object.values(a).forEach(({recordPointer:t,parent:n})=>{const o=e.recordMap.get(t);o?s({recordPointer:t,value:o,parent:n}):(l.set(t,n),d.push(t))}),await(async()=>{if(!e.loadRecordValues)return Promise.all(d.map(async t=>{const n=l.get(t);s({recordPointer:t,value:await e.loadRecordValue(t),parent:n})}));{const t=await e.loadRecordValues(d);for(const e of d){s({recordPointer:e,value:t.get(e),parent:l.get(e)})}}})(),i.length>0&&await n(o+1,i)};await n(0,e.recordPointers.map(e=>({parent:void 0,recordPointer:e})))}},j9U3:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},jWHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=function(){return r},r={shift:!1,option:!1,control:!1,command:!1},a=function(e){r.shift=Boolean(e.shiftKey),r.option=Boolean(e.altKey),r.control=Boolean(e.ctrlKey),r.command=Boolean(e.metaKey)};window.addEventListener("keydown",a),window.addEventListener("keyup",a),window.addEventListener("focus",(function(e){r.shift=!1,r.option=!1,r.control=!1,r.command=!1}))},jZoB:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u}));var o=n("wy14"),r=n("lufz"),a=n("MBf9");const i=function(e){const{parent:t,oldChild:n,newChild:o,transaction:i}=e,s=n.id,l=o.id,c=(t.getValue()||[]).indexOf(s);return r.c({parentStore:t,childStore:o,transaction:i}),r.d({parentStore:t,childStore:n,transaction:i}),c>=0&&(a.addOperation({transaction:i,store:t,operation:{pointer:t.pointer,path:t.path,command:"listAfter",args:{id:l,after:s}}}),a.addOperation({transaction:i,store:t,operation:{pointer:t.pointer,path:t.path,command:"listRemove",args:{id:s}}})),{parent:t,child:o.cloneWithNewParent(t)}},s=function(e){const{parent:t,insert:n,after:o,transaction:i}=e;let s;return o&&(s=o.id),r.c({parentStore:t,childStore:n,transaction:i}),a.addOperation({transaction:i,store:t,operation:{pointer:t.pointer,path:t.path,command:"listAfter",args:{after:s,id:n.id}}}),{parent:t,child:n.cloneWithNewParent(t)}},l=function(e){const{parent:t,insert:n,before:o,transaction:i}=e;let s;return o&&(s=o.id),r.c({parentStore:t,childStore:n,transaction:i}),a.addOperation({transaction:i,store:t,operation:{pointer:t.pointer,path:t.path,command:"listBefore",args:{before:s,id:n.id}}}),{parent:t,child:n.cloneWithNewParent(t)}},c=function(e){void 0===e.shouldGarbageCollect&&(e.shouldGarbageCollect=!0);const{parent:t,remove:n,shouldGarbageCollect:i,transaction:s}=e;r.d({parentStore:t,childStore:n,transaction:s}),a.addOperation({transaction:s,store:t,operation:{pointer:t.pointer,path:t.path,command:"listRemove",args:{id:n.id}}}),i&&s.preSubmitActions.push(()=>{o.a({parent:t,transaction:s})});const l=n.cloneWithNewParent(t);return{parent:t,child:l}},d=function(e){const{parent:t,append:n,transaction:o}=e;return r.c({parentStore:t,childStore:n,transaction:o}),a.addOperation({transaction:o,store:t,operation:{pointer:t.pointer,path:t.path,command:"listAfter",args:{id:n.id,after:void 0}}}),{parent:t,child:n.cloneWithNewParent(t)}},u=function(e){const{parent:t,prepend:n,transaction:o}=e;return r.c({parentStore:t,childStore:n,transaction:o}),a.addOperation({transaction:o,store:t,operation:{pointer:t.pointer,path:t.path,command:"listBefore",args:{id:n.id,before:void 0}}}),{parent:t,child:n.cloneWithNewParent(t)}}},jbcS:function(e,t,n){"use strict";n.r(t);n("3bBZ"),n("/RgW"),n("Hf2Q"),n("Wbh4"),n("pWI8"),n("HwWE"),n("Jxif"),n("fvMi"),n("4vay"),n("a6KY"),n("WZ/V"),n("bZMm"),n("YBdB");var o=n("HVEP"),r=(n("aSO9"),n("Wud9"),n("2nOd"),n("RGIS"),n("sWz7"),n("EkS+"),n("fbat")),a=n("85j+"),i=n("szb2");const s=Date.now(),l=performance.now();Object(o.a)(),async function(){const{applyReactDOMPolyfill:e,monkeyPatchConsole:t,setupErrorHandlers:o,setupContentSecurityPolicyHandler:c,setupOnBeforeUnload:d}=await Promise.resolve().then(n.bind(null,"RbhI"));await e();const[{default:u},p,h]=await Promise.all([Promise.resolve().then(n.bind(null,"A9TN")),Promise.resolve().then(n.bind(null,"Mht8")),Promise.resolve().then(n.bind(null,"VBxf"))]);p.initialize(u),await Promise.all([t({config:u,dialogActions:h}),o({loggly:p,dialogActions:h}),c({loggly:p})]);const[{createClientEnvironment:m},{setupTransactionQueue:f},{default:g},b]=await Promise.all([Promise.resolve().then(n.bind(null,"7pbj")),Promise.resolve().then(n.bind(null,"dlZW")),Promise.resolve().then(n.bind(null,"BRCg")),Promise.resolve().then(n.bind(null,"bK/N"))]);let v=await m();const{device:y,ElectronSqlite:S}=v,w=await f(v);d({device:y,TransactionQueue:w,AppUpdateStore:v.AppUpdateStore,GlobalFileUploadStore:g});const[k,{default:C},M,E,_]=await Promise.all([Promise.resolve().then(n.bind(null,"fM7F")),Promise.resolve().then(n.bind(null,"+NSf")),Promise.resolve().then(n.bind(null,"oqYu")),Promise.resolve().then(n.bind(null,"dQss")),Promise.resolve().then(n.bind(null,"VMJe"))]);if(k.initialize(v),y.isReactNative){const e=C.createMetric("initialize_react_native_from_js");await M.initializeReactNativeApp(v),y.isIPhoneX=E.isIPhoneX();const t=E.getReactNativeDeviceInfo();Object.assign(p.clientLogglyEnvironmentData,t),y.mobileAppVersion=t.reactNativeAppVersion,C.emit(v,e)}if(y.isElectron){await b.initializeElectron({device:y,electronSqlite:S});const e=_.formatVersion(b.getDesktopVersion());p.clientLogglyEnvironmentData.desktopVersion=e,y.desktopAppVersion=e}const[T,x,I,P,O,B,L,{getAppRefreshed:R}]=await Promise.all([Promise.resolve().then(n.bind(null,"frzs")),Promise.resolve().then(n.bind(null,"FcJC")),Promise.resolve().then(n.bind(null,"RI9y")),Promise.resolve().then(n.bind(null,"bkwR")),Promise.resolve().then(n.bind(null,"H4VD")),Promise.resolve().then(n.bind(null,"MBf9")),Promise.resolve().then(n.bind(null,"ZAQT")),Promise.resolve().then(n.bind(null,"mXKa"))]),{setupTransactionLoadGenerator:D}=await Promise.resolve().then(n.bind(null,"f5oV"));D(v),C.prebootEmit(v,{type:"main_import",startDateTime:s,startPerformanceTime:l});const[{default:A},{DependencyProviderAll:j},{default:F},V,N]=await Promise.all([Promise.resolve().then(n.bind(null,"nYHe")),Promise.resolve().then(n.bind(null,"gHFd")),Promise.resolve().then(n.bind(null,"/uT/")),Promise.resolve().then(n.t.bind(null,"q1tI",7)),Promise.resolve().then(n.t.bind(null,"i8i4",7))]),U=e=>{const t=C.createMetric("react_render"),n=document.querySelector("#notion-app");w.updateEnvironment(e),B.updateConnectionState(e),p.clientLogglyEnvironmentData.userId=e.currentUser.id,N.render(V.createElement(A,{environment:e},V.createElement(j,void 0,V.createElement(F))),n,()=>{const n=document.getElementById("initial-loading-spinner");n&&n.remove(),C.emit(e,t)})};x.initialize(),I.startListeners(),v=await T.initialize(v),v.updateCurrentUserId=e=>{const t={...e.environment,currentUser:new a.a(e.currentUserId,e.userIds)};U(t)},O.initialize(v),w.startLoop();const[z,{default:X},{default:Y},{default:H},{default:q},{default:W},{default:G},{default:Z},{default:K},J]=await Promise.all([Promise.resolve().then(n.bind(null,"ddTe")),Promise.resolve().then(n.bind(null,"QcDD")),Promise.resolve().then(n.bind(null,"sjR4")),Promise.resolve().then(n.bind(null,"DNgp")),Promise.resolve().then(n.bind(null,"r8MX")),Promise.resolve().then(n.bind(null,"qDOf")),Promise.resolve().then(n.bind(null,"2ZkR")),Promise.resolve().then(n.bind(null,"p0Ff")),Promise.resolve().then(n.bind(null,"lKd+")),Promise.resolve().then(n.bind(null,"FCWi"))]);L.initialize(v,{fromPageRefresh:R()}),z.exposeDebugValue("environment",v),z.exposeDebugValue("api",P),z.exposeDebugValue("AppStore",X),z.exposeDebugValue("PeekStore",i.c),z.exposeDebugValue("SelectionStore",Y),z.exposeDebugValue("TextSelectionStore",H),z.exposeDebugValue("performanceHelpers",J),z.exposeDebugValue("SubscriptionDataStore",q),z.exposeDebugValue("config",u),z.exposeDebugValue("AnalyticsStore",W),z.exposeDebugValue("ExperimentStore",G),z.exposeDebugValue("DefaultInMemoryRecordCache",Z),z.exposeDebugValue("RecordSubscriptions",K),z.exposeDebugValue("SelectableHoverMenuStore",r.a),z.exposeDebugValue("ReactDOM",N);const[{default:Q},{default:$},{default:ee},{default:te},{default:ne}]=await Promise.all([Promise.resolve().then(n.bind(null,"7Qu9")),Promise.resolve().then(n.bind(null,"5qTp")),Promise.resolve().then(n.bind(null,"uN94")),Promise.resolve().then(n.bind(null,"w5u6")),Promise.resolve().then(n.bind(null,"AUNf"))]);z.exposeDebugValue("RevisionStore",Q),z.exposeDebugValue("RenderQueue",te),z.exposeDebugGetter("LocalTransactionQueue",()=>w),z.exposeDebugValue("SearchMenuStore",$),z.exposeDebugValue("OnboardingStore",ee),z.exposeDebugValue("OfflineTableStore",ne),U(v)}()},jmjn:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{dragging:!1}}}t.a=r},ju2U:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));n("3bBZ");var o=n("iICV");const r=e=>{const{id:t,type:n,render:r,removeTimeout:i,bannerStore:s}=e,{banners:l}=s.state;if(!l.find(e=>e.id===t)){const e=[...l,{id:t,render:r,type:n}];s.setState({banners:e}),o.a.setKeyboardMode(!1),i&&setTimeout(()=>{a({bannerStore:s,id:t})},i)}},a=e=>{const{id:t,bannerStore:n}=e,{banners:o}=n.state,r=o.filter(e=>e.id!==t);r.length!==o.length&&n.setState({banners:r})},i=e=>{e.bannerStore.state.banners.length>0&&e.bannerStore.setState({banners:[]})}},jzfh:function(e,t,n){"use strict";n("3bBZ");var o,r=n("q1tI"),a=n.n(r),i=n("Na01"),s=n("MeYt"),l=n("J9+s"),c=n("gbGO"),d=n("dXb3"),u=n("2Y+N"),p=n("KTXS"),h=n("7KuZ"),m=n("vl8/"),f=n("nPEg"),g=n("0CAA"),b=(n("SYor"),n("LvDl")),v=n.n(b),y=n("wd/R"),S=n.n(y),w=n("HRSx"),k=n("VpIZ"),C=n("D2XV");!function(e){e.Relevance="Relevance",e.LastEditedNewest="LastEditedNewest"}(o||(o={}));var M=n("Zo/l"),E=n("1wVZ"),_=n("WgIs"),T=n("VhAz"),x=n("SR/M"),I=n("mKX5"),P=n("OxuQ"),O=n("Oy36"),B=n("y9KL"),L=n("V1wX"),R=n("LeVO"),D=n("d9nj"),A=n("mF3+"),j=n("FkPB"),F=n("aZ00"),V=n("PHZn"),N=n("vJXr"),U=n("MBf9"),z=n("FcJC"),X=n("QcDD"),Y=n("y6Dp");function H(e){const{actorPointer:t,timestamp:n,store:o}=e,r=Object(l.useIntl)(),i=Object(I.a)(Math.min(n,Date.now())).calendar(),s=Object(j.a)(()=>t?Object(B.a)({parentStore:o,pointer:t}):void 0,[o]),c=s&&Object(L.b)(r,s);return c?a.a.createElement("div",null,a.a.createElement(l.FormattedMessage,{id:"sharedWithMePage.menuItem.caption",defaultMessage:"Edited by {actorName} · {time}",values:{time:i,actorName:c},description:"Caption for a shared page that shows the time the page was last edited or the time at which the user was invited, and by whom (e.g. 'Today at 11:00am • Ivan Zhao'"})):a.a.createElement("div",null,i)}function q(e){const{store:t,type:n}=e,[o,r]=a.a.useState(!1),i=Object(M.b)(),s=Object(M.d)(),c=o?a.a.createElement(l.FormattedMessage,{defaultMessage:"Link copied",id:"sharedWithMePageMenuItem.linkCopied.tooltip",description:"Tooltip shown when user copied link to a shared page"}):a.a.createElement(l.FormattedMessage,{defaultMessage:"Copy link",id:"sharedWithMePageMenuItem.copylinkToPage.tooltip",description:"Shortcut for copying a link to a shared page from the 'Shared With Me' pop-up"});return a.a.createElement(R.a,{placement:R.a.Placement.Bottom,renderTooltip:()=>c,forceVisibleState:o||void 0,render:e=>a.a.createElement(D.a,Object.assign({isGray:!0,style:{marginRight:2},onClick:e=>{F.b({environment:i,blocks:[t],event:e}),s&&(E.b.update(e=>({...e,[n]:!1})),z.close()),Y.db(i,{type:n}),r(!0),setTimeout(()=>{r(!1)},1e3)}},e,{onMouseLeave:t=>{r(!1),e.onMouseLeave(t)}}),A.a.link({width:s?18:16,height:s?18:16}))})}function W(e){const{isPinned:t,store:n,spaceViewStore:o,type:r}=e,i=Object(M.b)(),s=Object(M.d)(),[{online:c}]=Object(j.b)(N.a),[{currentUserSettingsStore:d}]=Object(j.b)(X.default),u=Object(V.a)(e=>({pinned:{width:s?18:16,height:s?18:16,fill:e.regularIconColor},unpinned:{width:s?18:16,height:s?18:16}}),[s]);return a.a.createElement(R.a,{disableTooltip:!c,placement:R.a.Placement.Bottom,renderTooltip:()=>t?a.a.createElement(l.FormattedMessage,{defaultMessage:"Remove from sidebar",id:"outlinerViewAllMenuList.removeFromSidebar.tooltip",description:"Tooltip displayed when user can remove a pinned page from the sidebar"}):a.a.createElement(l.FormattedMessage,{defaultMessage:"Add to sidebar",id:"outlinerViewAllMenuList.addToSidebar.tooltip",description:"Tooltip displayed when user can pin a page to the sidebar"}),render:e=>a.a.createElement(D.a,Object.assign({},e,{isGray:!0,onClick:()=>{d&&Object(U.createAndCommit)(i,e=>{t?(z.unpinSharedPage({environment:i,store:n,spaceViewStore:o,userSettingsStore:d,transaction:e}),Y.td(i,{type:r,from:"sidebar_dropdown_menu"})):(z.pinSharedPage({environment:i,store:n,spaceViewStore:o,userSettingsStore:d,transaction:e}),Y.sd(i,{type:r}))})},disabled:!c,style:c?void 0:{cursor:"default"}}),t?A.a.pinFilled(u.unpinned):A.a.pin(u.pinned))})}var G=a.a.forwardRef((e,t)=>{const{store:n,timestamp:o,actorPointer:r,type:i,...s}=e,l=Object(j.a)(()=>n.getIcon(),[n]),c=Object(j.a)(()=>n.isEmptyPage(),[n]);return a.a.createElement(x.a,Object.assign({},s,{ref:t,title:a.a.createElement(P.a,{store:n}),icon:a.a.createElement(O.a,{disabled:!0,icon:l,isEmptyPage:c,size:19}),caption:a.a.createElement(H,{actorPointer:r,store:n,timestamp:o}),right:a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(q,{store:n,type:i}),a.a.createElement(W,Object.assign({},e)))}))}),Z=n("wpmu"),K=n("H4VD");function J(e){const{sections:t}=e,n=1===t.length;return t.map(({key:t,pages:o},r)=>({key:t,items:Q({...e,pages:o}),render:e=>a.a.createElement(u.a,Object.assign({},e,{topBorder:0!==r,title:n?void 0:$(t)}))}))}function Q(e){const{environment:t,spaceStore:n,pages:o,visiblePageIds:r,closePopover:i,type:s,query:l,sortBy:c}=e,d=r.length;return o.map(({blockId:o,timestamp:u,authorId:p,authorTable:h,index:m})=>{const f=Z.a.createChildStore(n,{table:w.a,id:o}),g=p&&h?{table:h,id:p}:void 0,b=r.includes(o);return{key:o,action:({event:e})=>{i(),K.navigateToBlock({environment:t,store:f,metaClick:e.metaKey}),t.device.isPhone&&z.close(),Y.de(t,{type:s,sortBy:c,queryStringLength:l.length,selectedItemIndex:m})},render:t=>a.a.createElement(G,Object.assign({},t,e,{store:f,timestamp:u,actorPointer:g,isPinned:b,spaceId:n.id,pinnedAmount:d}))}})}function $(e){switch(e){case"today":return a.a.createElement(l.FormattedMessage,{id:"sharedWithMePopover.todaySection.label",defaultMessage:"Today"});case"past-week":return a.a.createElement(l.FormattedMessage,{id:"sharedWithMePopover.pastWeekSection.label",defaultMessage:"Past week"});case"earlier":return a.a.createElement(l.FormattedMessage,{id:"sharedWithMePopover.earlierSection.label",defaultMessage:"Earlier"});default:throw T.e(e)}}var ee=function(e){const t=Object(M.b)(),[n,o]=Object(j.b)(E.b);return a.a.createElement(_.a,{type:_.a.Type.Vertical,initialFocus:void 0,sections:J({...e,environment:t,closePopover:()=>{o({...n,[e.type]:!1})}})})},te=n("Ytfc"),ne=n("qKs6"),oe=n("bxQm"),re=n("IdSf"),ae=n("IULH"),ie=n("Sb6f");function se(e){const{userSettingsStore:t,helpDocsHref:n}=e,o=Object(M.b)(),{WindowSizeStore:r}=o,i=Object(M.d)(),s=Object(j.a)(()=>t.getSettings().completed_enhanced_sidebar_intro,[t]),c=Object(V.a)(e=>({banner:{boxShadow:"0 1px 0 ".concat(e.regularDividerColor),width:"100%",minHeight:52,paddingTop:i?16:14,paddingBottom:i?18:10,paddingLeft:i?r.getSafePaddingLeftCSS(18):r.getSafePaddingLeftCSS(16),paddingRight:i?r.getSafePaddingRightCSS(20):r.getSafePaddingRightCSS(12),backgroundColor:i?e.darkBannerBackground:e.sidebarSecondaryBackground,display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative"},dismissButton:{backgroundColor:e.buttonBackground},learnMoreText:{color:e.mediumTextColor},learnMoreMobile:{marginTop:10,width:110}}),[r,i]);return s?null:a.a.createElement("div",{style:c.banner},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",fontSize:i?14:12,lineHeight:i?"24px":"20px",marginLeft:i?22:20}},a.a.createElement("div",{style:{fontWeight:ie.a.fontWeight.medium,position:"relative"}},a.a.createElement("div",{style:{position:"absolute",top:i?5:3,left:i?-22:-20}},A.a.pinFilled({width:10,opacity:"65%"})),a.a.createElement("div",null,a.a.createElement(l.FormattedMessage,{id:"enhancedSidebarFeatureTour.pinPages.primaryText",defaultMessage:"Organize your shared pages here"}))),a.a.createElement("div",null,a.a.createElement(l.FormattedMessage,{id:"enhancedSidebarFeatureTour.pinPages.secondaryText",defaultMessage:"Pin frequently visited pages to the sidebar"})),i?a.a.createElement(ae.a,{style:c.learnMoreMobile,onClick:e=>{e.preventDefault(),Object(K.navigateToExternalURL)({environment:o,url:n})}},a.a.createElement(l.FormattedMessage,{id:"enhancedSidebarFeatureTour.pinPages.actionButton",defaultMessage:"Learn more"})):a.a.createElement(re.a,{underline:!0,style:c.learnMoreText,inline:!0,external:!0,href:Object(g.a)("guides.sharing")},a.a.createElement(l.FormattedMessage,{id:"enhancedSidebarFeatureTour.pinPages.actionText",defaultMessage:"Learn more"}))),a.a.createElement(oe.a,{style:{position:"absolute",top:i?12:7,right:i?12:8},onClick:e=>{e.stopPropagation(),ne.a({environment:o,userSettingsStore:t})}},A.a.closeThick({width:i?12:10,opacity:"65%"})))}var le=n("wlCD"),ce=n("ttM1");const de=Object(l.defineMessages)({searchPlaceholder:{id:"outlinerViewAllPopover.search.placeholder",defaultMessage:"Search for shared pages",description:"Search placeholder text in 'Shared' overflow popover menu"}});function ue(e){const t=Object(M.a)(),{isMobile:n}=t,{isLoading:o,query:r,onInputChange:i}=e,s=Object(V.a)(e=>({iconStyle:{width:14,height:14,marginRight:6,flexGrow:0,flexShrink:0,color:e.regularIconColor},headerContainer:{marginTop:n?0:14,backgroundColor:e.popoverBackground,borderBottom:"1px solid ".concat(e.regularDividerColor)},sortContainer:{margin:n?"4px 14px":"4px 14px 0"}}),[n]),[{currentUserSettingsStore:l}]=Object(j.b)(X.default);return a.a.createElement(a.a.Fragment,null,l&&a.a.createElement(se,{userSettingsStore:l,helpDocsHref:Object(g.a)("guides.sharing")}),a.a.createElement("div",{style:s.headerContainer},a.a.createElement(d.a,{style:{...t.isAndroid&&{borderBottom:"none"}},left:a.a.createElement(ce.a,{show:o,showDelay:500,showHold:300,render:e=>e?a.a.createElement(le.a,{style:s.iconStyle}):A.a.searchThick(s.iconStyle)}),showClearButton:!0,placeholder:m.default.formatMessage(de.searchPlaceholder),focus:!t.isMobile||void 0,value:r,onChange:e=>{i(e.target.value)}}),a.a.createElement("div",{style:s.sortContainer},a.a.createElement(te.a,{currentSortBy:e.sortBy,setSortBy:e.setSortBy,sortOptions:ge}))))}function pe(){return a.a.createElement(u.a,{topBorder:!0,disableDesktopPadding:!0},a.a.createElement(p.a,{title:a.a.createElement(l.FormattedMessage,{defaultMessage:"Learn about shared pages",id:"sharedWithMePopover.learnMore.prompt",description:"Link to a guide to learn more about 'Shared with Me' in popover menu"}),href:Object(g.a)("guides.sharing"),analyticsFrom:"sharing"}))}function he(){return a.a.createElement(h.a,{href:Object(g.a)("guides.sharing"),analyticsFrom:"sharing"})}function me(e){const{pages:t,sortBy:n}=e,r=function(e,t){const n="today",r="past-week",a="earlier",i=C.ob(C.m).startOf("day").valueOf(),s=S()(i).subtract(1,"week").valueOf(),l=v.a.groupBy(e,({timestamp:e})=>t===o.Relevance?a:e>i?n:e>s?r:a);let c=-1;return v.a.compact([n,r,a].map(e=>{const t=l[e];if(t&&0!==t.length)return{key:e,pages:t.map(e=>(c+=1,{...e,index:c}))}}))}(t,n);return 0===r.length?a.a.createElement(fe,null):a.a.createElement(ee,Object.assign({},e,{sections:r}))}function fe(){const e=Object(M.a)(),{isMobile:t}=e,n=Object(V.a)(e=>({placeHolderStyle:{textAlign:"center",padding:"".concat(t?64:0,"px 20px 0"),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:t?void 0:"100%",minHeight:t?void 0:200},iconStyle:{width:36,fill:e.lightIconColor},contentStyle:{fontSize:14,color:e.mediumTextColor,maxWidth:260}}),[t]),o=a.a.createElement(l.FormattedMessage,{defaultMessage:"No pages found",id:"outlinerViewAllPopover.search.noMatchesPrompt",description:"Message when 'View all' popover query results are empty"});return a.a.createElement("div",{style:n.placeHolderStyle},a.a.createElement("div",{style:{paddingBottom:12}},A.a.paperAirplane(n.iconStyle)),a.a.createElement("div",{style:{...n.contentStyle,fontWeight:500}},o))}const ge=[{key:o.Relevance,formattedName:a.a.createElement(l.FormattedMessage,{id:"sharedWithMePopover.sortOrder.relevance",defaultMessage:"Relevance"})},{key:o.LastEditedNewest,formattedName:a.a.createElement(l.FormattedMessage,{id:"sharedWithMePopover.sortOrder.lastEditedNewest",defaultMessage:"Last edited"})}];var be=function(e){const t=Object(M.b)(),{device:n}=t,[o,r]=Object(j.b)(E.b),i=a.a.createElement(ue,Object.assign({},e));let s;return s=n.isMobile?{menuType:c.b.MenuType.Modal,title:a.a.createElement(l.FormattedMessage,{defaultMessage:"Shared",id:"outlinerViewAllPopover.menu.header",description:"Label for mobile popover menu that displays overflow of shared pages"}),left:a.a.createElement(he,null),right:a.a.createElement(f.DoneMenuText,null),onClickRight:()=>{r({...o,[e.type]:!1})},header:i}:{menuType:c.b.MenuType.Popup,width:400,header:i,footer:a.a.createElement(pe,null)},a.a.createElement(c.b,Object.assign({},s),a.a.createElement(me,Object.assign({},e,{pages:e.sharedPages})))},ve=n("wXH4"),ye=n("nFzZ"),Se=n("Catn"),we=(n("Junv"),n("+zu0"));function ke(e){const{allSharedPages:t,query:n,intl:o}=e;return t.map(e=>{const t=e.getValue();if(!t)return;const r=t.last_edited_time||t.created_time;if(!r)return;const{id:a,last_edited_by_id:i,last_edited_by_table:s,created_by_id:l,created_by_table:c}=t;let d,u;return i&&s?(d=i,u=s):(d=l,u=c),function(e){const{block:t,query:n,getRecordValue:o,userTimeZone:r,intl:a}=e;if(!n)return!0;const i=t?k.h({table:w.a,value:t,getRecordValue:o,userTimeZone:r,intl:a}):void 0;return!!i&&i.toLowerCase().indexOf(n.trim().toLowerCase())>=0}({block:t,query:n,getRecordValue:e.getRecordValue,userTimeZone:C.m,intl:o})?{blockId:a,timestamp:r,authorId:d,authorTable:u}:void 0}).filter(T.a)}var Ce=n("0KcA"),Me=n("guIK"),Ee=n("mUbl"),_e=n("4HCU");function Te(e){const{isPopoverOpen:t,isMobile:n,onClick:o,total:r,userSettingsStore:c}=e,d=Object(V.a)(e=>({item:{background:t?e.buttonHoveredBackground:void 0,marginBottom:n?16:void 0},flexRow:{display:"flex",alignItems:"center",fontSize:n?16:12}}),[t,n]),u=Object(j.a)(()=>c.getSettings().completed_enhanced_sidebar_intro,[c]);return a.a.createElement(s.a,{mobileFeedback:n,onClick:o},a.a.createElement(i.a,{style:d.item,isMobile:n,disableMobileBorder:!0},a.a.createElement("div",{style:d.flexRow},a.a.createElement(l.FormattedMessage,{defaultMessage:"View all ({total})",id:"viewMoreOutlinerButton.label",description:"Label for popover menu that displays all pages for an overflowing section in the sidebar. The count represents total number of pages  (e.g. View all (8))",values:{total:r}}),!u&&a.a.createElement("div",{style:{marginLeft:8}},a.a.createElement(Ce.a,{margin:!1})))))}t.a=function(e){const{isMobile:t,allSharedPages:n,type:r,originRef:i,userSettingsStore:s,spaceStore:c}=e,d=Object(M.b)(),u=Object(l.useIntl)(),p=c.id,h=s.id,[m,f]=a.a.useState(void 0),[g,b]=Object(j.b)(E.b),y=Boolean(g[r]),[{status:S}]=Object(Ee.a)(async()=>{await Object(Me.b)({environment:d,spaceId:p,userId:h})},[d,p,h],{debounce:_e.b,interval:y?30*ye.e:5*ye.d}),w=a.a.useCallback(()=>{b(e=>({...e,[r]:!0})),f(i.current?i.current.getBoundingClientRect():void 0),Y.bd(d,{type:r,from:t?"sidebar_mobile":"sidebar"})},[d,b,r,i,t]),k=a.a.useCallback(()=>{b(e=>({...e,[r]:!1}))},[b,r]),[C,_]=a.a.useState(""),T=a.a.useRef(void 0);a.a.useEffect(()=>(y?T.current&&(clearTimeout(T.current),T.current=void 0):T.current=setTimeout(()=>{_("")},2*ye.d),()=>{T.current&&(clearTimeout(T.current),T.current=void 0)}),[y]);const x=a.a.useMemo(()=>function(e){const{spaceId:t,type:n}=e;return"".concat(t,"-").concat(n,"-outliner-sort")}({spaceId:p,type:r}),[p,r]),[I,P]=a.a.useState(()=>Se.a.get({userId:h,key:x})||o.Relevance),O=Object(j.a)(()=>ke({allSharedPages:n,query:C,intl:u}),[n,C,u]),B=a.a.useMemo(()=>function(e){const{sharedPageItems:t,sortBy:n,currentUserId:r}=e;switch(n){case o.Relevance:return we.a.sortFrecencyHighToLow({items:t.map(e=>({...e,id:e.blockId,score:e.timestamp})),now:Date.now(),currentUserId:r});case o.LastEditedNewest:return v.a.sortBy(t,({timestamp:e})=>e).reverse();default:return t}}({sharedPageItems:O,sortBy:I,currentUserId:h}),[O,I,h]);return a.a.createElement(ve.c,{popupType:t?ve.c.PopupType.SlideUp:ve.c.PopupType.Popup,originRect:m,alignmentToOrigin:ve.c.Alignment.Start,placementToOrigin:ve.c.Placement.Right,originGap:0,isFullWidthOnMobile:!0,preventScaleTransition:!0,open:y,onDismiss:k,render:()=>a.a.createElement(be,Object.assign({},e,{isLoading:"pending"===S,query:C,onInputChange:_,sortBy:I,setSortBy:e=>{Se.a.set({userId:h,key:x,value:e}),P(e),Y.ef(d,{type:r,from:I,to:e})},sharedPages:B,allSharedPageIds:n.map(({id:e})=>e)})),origin:a.a.createElement(Te,{isPopoverOpen:y,isMobile:t,onClick:w,total:n.length,userSettingsStore:s})})}},k1PL:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return g}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("HRSx"),i=n("njgS"),s=n("CARr"),l=n("4bJO"),c=n("VhAz"),d=n("D2XV"),u=n("+jaY"),p=n("6SEd");function h(e){const{property:t,schema:n,block:o,getRecordValue:i,userTimeZone:p,depth:h,intl:f,normalizedSchemaCache:b}=e,v=g({property:t,schema:n,getRecordValue:i,normalizedSchemaCache:b});if(!v)return;const{propertySchema:y,relationPropertySchema:S,targetCollectionSchema:w}=v;if(y.relation_property&&y.target_property){if(!y.aggregation){const e=o.properties||{},t=s.j({relationValue:s.t(e[y.relation_property]),propertySchema:S,getRecordValue:i});return r.a.compact(t.map(e=>{const t=i({table:a.a,id:e});if(y.target_property&&t)return Object(u.a)({property:y.target_property,schema:w,block:t,getRecordValue:i,userTimeZone:p,depth:h+1,intl:f,normalizedSchemaCache:b})})).join(",")}{const e=m({property:t,schema:n,block:o,getRecordValue:i,userTimeZone:p,depth:h,intl:f,normalizedSchemaCache:b});if(void 0===e)return;if("number"===e.type){if(!e.value)return;return e.value.toString()}if("date"===e.type){if(!e.value)return;if(!Object(l.l)(y.aggregation))return;if("earliest_date"===y.aggregation||"latest_date"===y.aggregation)return d.y(e.value,p,f);if("date_range"===y.aggregation)return d.z(e.value,p);Object(c.e)(y.aggregation)}Object(c.e)(e)}}}function m(e){const{schema:t,property:n,block:o,getRecordValue:r,userTimeZone:i,depth:c,intl:d,normalizedSchemaCache:u}=e,h=g({property:n,schema:t,getRecordValue:r,normalizedSchemaCache:u});if(!h)return;const{propertySchema:m,relationPropertySchema:f,targetCollectionSchema:b}=h;if(!m.aggregation||!m.relation_property||!m.target_property)return;const v=o.properties||{},y=s.j({relationValue:s.t(v[m.relation_property]),getRecordValue:r,propertySchema:f}),S=Object(l.h)(m.aggregation);for(const s of y){const e=r({table:a.a,id:s});if(e&&e.parent_table===p.a){const t={property:m.target_property,aggregator:S.type};Object(l.g)({aggregation:t,state:S,schema:b,block:e,getRecordValue:r,userTimeZone:i,depth:c,intl:d,normalizedSchemaCache:u})}}return Object(l.b)(S)}function f(e){const{schema:t,property:n,block:o,getRecordValue:r,normalizedSchemaCache:i}=e,l=g({property:n,schema:t,getRecordValue:r,normalizedSchemaCache:i});if(!l)return[];const{propertySchema:c}=l;if(!c.relation_property||!c.target_property)return[];const d=o.properties||{},u=s.j({relationValue:s.t(d[c.relation_property]),getRecordValue:r,propertySchema:l.relationPropertySchema}),p=[];for(const s of u){const e=r({table:a.a,id:s});e&&p.push(e)}return p}function g(e){const{schema:t,property:n,getRecordValue:o,normalizedSchemaCache:r}=e,a=t[n];if(!(a&&"rollup"===a.type&&a.relation_property&&a.target_property_type&&a.target_property))return;const s=t[a.relation_property];if(!s||"relation"!==s.type||!s.collection_id)return;const l=o({table:p.a,id:s.collection_id});if(!l)return;const c=Object(i.f)(r,l.id,l.schema),d=c[a.target_property];return d&&a.target_property_type===d.type?{propertySchema:a,targetProperty:a.target_property,relationPropertySchema:s,targetCollectionValue:l,targetCollectionSchema:c,targetPropertySchema:d}:void 0}},kFin:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("wlCD"),s=n("ttM1"),l=n("LEzx");class c extends l.a{getInitialState(){return{loaded:!1}}}var d=c,u=n("yjqD"),p=n("Mht8"),h=n("vJXr"),m=n("zb5D");class f extends a.a{constructor(e,t){super(e,t),this.storeTypes={store:d}}componentDidMount(){this.fetch()}renderComponent(){return r.a.createElement(s.a,{show:!this.stores.store.state.loaded,showDelay:300,showHold:0,render:e=>this.stores.store.state.loaded?this.props.render(this.stores.store.state.result):this.props.loading?this.props.loading(e):e?r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}},r.a.createElement(i.a,null)):void 0})}async fetch(){let e=1e3;for(;;)try{const e=await this.props.fetch();this.stores.store.setState({loaded:!0,result:e});break}catch(t){p.log({level:"warning",from:"LazyLoader",type:"fetchError",error:Object(m.a)(t),data:{miscDataToConvertToString:{waitMs:e}}}),await u.h(e),await h.a.waitUntil(()=>h.a.state.online),e=Math.min(2*e,3e4)}}}t.a=f},kIZi:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("2Y+N"),i=n("wldR");class s extends i.a{constructor(){super(...arguments),this.styles={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}}}renderComponent(){const{title:e,marginAfter:t,desktopStyle:n,desktopTitleStyle:o,...i}=this.props,s=this.styles,l=(t||n)&&{...t&&s.marginAfter,...n},c=o?{...s.desktopTitleStyle,...o}:s.desktopTitleStyle;return r.a.createElement(a.a,Object.assign({isTitleUppercase:!0,disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:l,desktopTitleStyle:c,shouldShowBottomDivider:!1,title:e},i))}}t.a=s},kXah:function(e,t,n){"use strict";n("3bBZ");var o=n("LEzx");class r extends o.a{getInitialState(){return{pages:new Set}}setStatus(e,t){t?this.state.pages.add(e):this.state.pages.delete(e),this.emit()}}t.a=new r},kaWB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fIr1");const r="comment",a={table:r,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,parent_id:o.a.UUID,parent_table:o.a.String,text:o.a.JSON,created_time:o.a.Number,last_edited_time:o.a.Number,alive:o.a.Boolean,created_by_table:o.a.String,created_by_id:o.a.UUID,space_id:o.a.UUID},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0,text:!0,created_time:!0}};t.b=a},kdGy:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("0Xty"),s=n("3JF5");class l extends a.a{renderComponent(){return r.a.createElement("div",{style:this.props.style},r.a.createElement(i.a,{title:Object(s.a)(this.props.botValue),size:this.props.size||18,useInvertedColors:!0}))}}t.a=l},klxS:function(e,t,n){"use strict";var o=n("LvDl"),r=n.n(o),a=n("bPtJ"),i=n("lKX+"),s=n("8L2b"),l=n("z22Z");class c extends a.d{constructor(e,t,n={}){super({environment:e,pointer:t,userId:n.userId,inMemoryRecordCache:n.inMemoryRecordCache})}static createChildStore(e,t){const n=a.d.getChildStoreKey(t,c.keyName),o=e.getRecordStoreChildStore(n),r=o||new c(e.environment,t,{userId:e.userId,inMemoryRecordCache:e.inMemoryRecordCache});return o||r.setRecordStoreParent(e,n),r}getSpaceViewIds(){const e=this.getValue();return e&&e.space_views?e.space_views:[]}getSpaceViewsStore(){return Object(a.a)(this,this.pointer,"space_views")}getSpaceViewStores(){const e=this.getValue();return e&&e.space_views?e.space_views.map(e=>i.a.createChildStore(this,{table:s.a,id:e})):[]}getAdminSpaceViewIds(){return r.a.compact(r.a.uniq(this.getSpaceViewStores().map(e=>e.state.role&&l.a(e.state.role)&&e.getSpaceId())))}}c.keyName="UserRootStore",t.a=c},koI6:function(e,t,n){"use strict";var o=n("p46w"),r=n.n(o),a=n("bK/N"),i=n("Mht8"),s=n("ddTe");var l=n("czaV"),c=n("zb5D");async function d(e,t){if(!h(e))return;const{reactNative:n}=e,{expires:o}=t,a=Date.now();if(o&&o<a)throw new Error("You are setting a cookie to expire in the past.");const i={path:"/",expires:o||new Date(new Date(Date.now()+1e12)).getTime(),secure:!1,...t,domain:"."===t.domain.charAt(0)?t.domain:".".concat(t.domain)};if(n&&n.api.setCookie)await n.api.setCookie(i);else{const{name:e,value:t,...n}=i;r.a.remove(e),r.a.set(e,t,{...n,expires:n.expires?new Date(n.expires):void 0})}}async function u(e,t){if(void 0===t)return void i.log({level:"error",from:"cookieHelpers",type:"safeCookieRead--name-undefined",data:{message:"Trying to read cookie with undefined name"}});if(!p(e))return;const{reactNative:n,device:o}=e;let s;const l=r.a.get(t);if(l&&(s=l),o.isElectron&&a.electronApi&&a.electronApi.getCookie){const e=await a.electronApi.getCookie(t);"error"in e?i.log({level:"error",from:"cookieHelpers",type:"safeCookieRead--electron--".concat(t),error:Object(c.a)(e.error)}):s=e.value}else if(n&&n.api.getCookie){const e=await n.api.getCookie(t);"error"in e?i.log({level:"error",from:"cookieHelpers",type:"safeCookieRead--reactNative--".concat(t),error:Object(c.a)(e.error)}):s=e.value}return s}function p(e){return!!e.device.isBrowser||(e.device.isElectron?Boolean(a.electronApi&&a.electronApi.getCookie):!!e.reactNative&&(l.b()||Boolean(e.reactNative.api.getCookie)))}function h(e){const{device:t,reactNative:n}=e;return!!t.isBrowser||!t.isElectron&&(!!n&&(l.b()||Boolean(n.api.setCookie)))}n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h})),Object(s.exposeDebugValue)("canReadCookie",p)},l2mL:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{}}}t.a=new r},l4I2:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v}));n("Junv"),n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("1P/O"),i=n("jZoB"),s=n("AmMh"),l=n("HTHG"),c=n("VpIZ"),d=n("QcDD"),u=n("szb2"),p=n("wllP");function h(e){const{transaction:t}=e,n=e.blocks,o=n[0];if(!o)return;const r=S(o);if(!r)return;const{closestParentStore:s,previousChildStore:l}=r,c=s.getContentStore(),d=l.getContentStore();return"toggle"===l.getType()&&a.a.setOpen(l.id,!0),n.map(e=>(i.e({parent:c,remove:e,transaction:t}),i.a({parent:d,append:e,transaction:t}).child))}function m(e){const{transaction:t}=e;let n=e.blocks;const o=n[0];if(!o)return;const a=w(o);if(!a)return;const{closestParentStore:s,closestParentParentStore:l}=a,c=s.getContentStore(),d=l.getContentStore();return n=r.a.clone(n).reverse(),n=n.map(e=>(i.e({parent:c,remove:e,transaction:t}),i.b({parent:d,insert:e,after:s,transaction:t}).child)),n}function f(e){const{transaction:t,blocks:n}=e,o=n[0];if(!o)return;const a=l.d();if(!a)return;const i=C(a),s=r.a.findIndex(i,e=>e.parent===o.recordStoreParent()&&e.after===o),c=r.a.findLastIndex(i,(e,t)=>t<s&&e.parent===o.recordStoreParent()),d=r.a.findLast(i,(e,t)=>t<c&&!o.contains(e.parent));return d?E({blocks:n,listPosition:d,transaction:t}):void 0}function g(e){const{transaction:t,blocks:n}=e,o=r.a.last(n);if(!o)return;const a=l.d();if(!a)return;const i=C(a),s=r.a.findIndex(i,e=>e.parent===o.recordStoreParent()&&e.after===o),c=i.find((e,t)=>t>s&&!o.contains(e.parent));return c?E({blocks:n,listPosition:c,transaction:t}):void 0}function b(e){return Boolean(e&&S(e))}function v(e){return Boolean(e&&w(e))}function y(e){const t=e.getValue();return t&&(Object(c.w)(t)||e===d.default.state.currentBlockStore||u.c.state.open&&e===u.c.state.target)}function S(e){const t=Object(p.c)(e);if(!t)return;const n=t.getValue();if(!n||!y(t))return;const o=t.getContentStores(),r=o[o.indexOf(e)-1];return r&&r.getValue()&&y(r)?{closestParentStore:t,closestParentValue:n,previousChildStore:r}:void 0}function w(e){const t=Object(p.c)(e);if(!t)return;if(!t.getValue()||!y(t))return;const n=Object(p.c)(t);return n&&n.getValue()&&y(n)?{closestParentStore:t,closestParentParentStore:n}:void 0}function k(e,t){let n=[];const{store:o}=e.props;if(e.props.canDropAbove&&M(o)){const e=o.recordStoreParent();e&&n.push({parent:e})}const a=t.filter(t=>t.getContextClosestSelectable()===e);for(const i of a)n=r.a.union(n,k(i,t));if(e.props.canDropBelow&&M(o)){const e=o.recordStoreParent();e&&(e.id===o.id?n.push({parent:e}):n.push({parent:e,after:o}))}return n}function C(e){let t=[];const n=s.a.getSortedComponents(),o=e.getContentStores();for(const a of o){const e=n.find(e=>e.props.store===a);e&&(t=r.a.union(t,k(e,n)))}return t}function M(e){return"collection"!==e.getParentTable()}function E(e){const{blocks:t,listPosition:n,transaction:o}=e,a=r.a.clone(t).reverse();for(const r of t){const e=r.recordStoreParent();e&&i.e({parent:e,remove:r,transaction:o})}let s;return s=n.after?a.map(e=>i.b({insert:e,after:n.after,parent:n.parent,transaction:o}).child):a.map(e=>i.d({prepend:e,parent:n.parent,transaction:o}).child),s}},lBar:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));const o={auto:!0,scroll:!0};function r(e){return e&&e instanceof HTMLElement?e:e&&e.parentElement?e.parentElement:void 0}const a=function(e){const t=r(e);if(t)return d(t,"vertical")},i=function(e){const t=r(e);if(t)return d(t,"horizontal")},s=function(e){let t=e;const n=[];do{const e=window.getComputedStyle(t);e&&(e.overflow&&o[e.overflow]||e.overflowY&&o[e.overflowY]||e.overflowX&&o[e.overflowX])&&n.push(t),t=t.parentElement}while(t);return n},l=function(e,t=8){const n=a(e);if(!n||!n.getBoundingClientRect)return;const o=e.getBoundingClientRect(),r=n.getBoundingClientRect();o.top<r.top?n.scrollTop=n.scrollTop-(r.top-o.top)-t:o.bottom>r.bottom&&(n.scrollTop=n.scrollTop+(o.bottom-r.bottom)+t)},c=function(e,t=0){const n=a(e);if(!n||!n.getBoundingClientRect)return;const o=e.getBoundingClientRect(),r=n.getBoundingClientRect();n.scrollTop=n.scrollTop-(r.top-o.top)-t},d=function(e,t){if(!e)return;let n=e;if(n)do{const e=window.getComputedStyle(n);if(n.classList&&n.classList.contains("notion-scroller")&&n.classList.contains(t)||e&&e.overflowY&&o[e.overflowY])return n;n=n.parentElement||void 0}while(n);return document.body};function u(e){return e.device.isDesktop&&!e.device.isSafari}function p(e){return e.device.isDesktop}},lCCU:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("MeYt"),s=n("Sb6f");class l extends a.a{renderComponent(){const{caption:e}=this.props;return r.a.createElement(i.a,{hovered:this.props.hovered,onClick:this.props.onClick,style:this.getButtonStyle(),mobileFeedback:this.props.mobileFeedback,className:this.props.className,disabled:this.props.disabled,disabledFeedback:!0,hoveredStyle:this.getHoveredStyle(),pressedStyle:this.getPressedStyle(),onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.icon(this.getIconStyle()),e&&r.a.createElement("div",{style:this.getCaptionStyle()},e))}getButtonStyle(){const{caption:e,showShadow:t,hasBackground:n}=this.props;return{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,borderRadius:3,height:24,width:e?"none":24,padding:e?"0 6px":0,...n&&{background:this.theme.whiteButtonBackground},...t&&{boxShadow:this.theme.lightBoxShadow},...this.props.style}}getIconStyle(){return{width:14,height:14,fill:this.props.isDarkIconColor?this.theme.regularIconColor:this.theme.mediumIconColor}}getCaptionStyle(){return{fontSize:12,fontWeight:s.a.fontWeight.medium,textTransform:"uppercase",letterSpacing:.5,color:this.theme.mediumTextColor,marginLeft:4}}getHoveredStyle(){const{hasBackground:e,disableBackground:t}=this.props;return{...e&&{background:this.theme.whiteButtonHoveredBackground},...t&&{background:"none"}}}getPressedStyle(){const{hasBackground:e,disableBackground:t}=this.props;return{...e&&{background:this.theme.whiteButtonPressedBackground},...t&&{background:"none"}}}}t.a=l},lEhh:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("zmp8"),s=n("MeYt");class l extends a.a{renderComponent(){return r.a.createElement(s.a,{onClick:this.props.onClick,disabled:this.props.disabled,disabledFeedback:!0,style:{borderRadius:44}},r.a.createElement("div",{style:this.getStyle()},r.a.createElement("div",{style:this.getCircleStyle()})))}getCircleSpacing(){const{device:e}=this.environment,{isAndroid:t}=(void 0===this.props.isMobile?e.isMobile:this.props.isMobile,this.props);return t?0:2}getStyle(){const{device:e}=this.environment,t=void 0===this.props.isMobile?e.isMobile:this.props.isMobile,{isAndroid:n,on:o}=this.props,r=this.theme.mode,a="dark"===r;return{display:"flex",flexShrink:0,height:(n?14:t?26:18)-2*this.getCircleSpacing(),width:(n?38:t?44:30)-2*this.getCircleSpacing(),borderRadius:44,padding:this.getCircleSpacing(),boxSizing:"content-box",background:o?n?i.g.blueWithAlpha(.3):this.props.noColor?i.q[r].gray.alpha(.3).css():i.g.blue:n?i.q[r].gray.alpha(.4).css():t?i.g.transparent:a?i.q[r].lightgray.alpha(.3).css():i.q[r].gray.alpha(.3).css(),boxShadow:o||n||!t?"":"inset 0 0 0 1px ".concat(this.theme.darkDividerColor),transition:"background 200ms, box-shadow 200ms",...this.props.disabled&&{cursor:"default"}}}getCircleStyle(){const{device:e}=this.environment,t=void 0===this.props.isMobile?e.isMobile:this.props.isMobile,{isAndroid:n,on:o}=this.props,r=this.theme.shadowColor,a=this.theme.shadowOpacity;return{width:(n?22:t?26:18)-2*this.getCircleSpacing(),height:(n?22:t?26:18)-2*this.getCircleSpacing(),borderRadius:44,background:n&&o?i.g.blue:i.g.white,transition:"transform 200ms ease-out, background 200ms ease-out",transform:"\n\t\t\t\ttranslateX(".concat(this.props.on?(n?18:t?22:16)-2*this.getCircleSpacing():0,"px)\n\t\t\t\ttranslateY(-").concat(n?4:0,"px)\n\t\t\t"),boxShadow:n?"\n\t\t\t\t\t0 1px 3px ".concat(r.alpha(2*a).css(),",\n\t\t\t\t\t0 6px 20px ").concat(r.alpha(3*a).css(),"\n\t\t\t\t"):t?"\n\t\t\t\t\t\t0 0 0 0.5px ".concat(r.alpha(a).css(),",\n\t\t\t\t\t\t0 3px 8px 0 ").concat(r.alpha(a).css(),",\n\t\t\t\t\t\t0 1px 1px 0 ").concat(r.alpha(a).css(),",\n\t\t\t\t\t\t0 3px 1px 0 ").concat(r.alpha(a).css(),"\n\t\t\t\t\t"):void 0}}}t.a=l},"lKX+":function(e,t,n){"use strict";var o=n("8L2b"),r=n("wpmu"),a=n("bPtJ"),i=n("G4cA"),s=n("3U9E"),l=n("qX+M"),c=n("9axl"),d=n("FUUC"),u=n("HRSx");class p extends a.d{constructor(e,t,n={}){super({environment:e,pointer:t,userId:n.userId,inMemoryRecordCache:n.inMemoryRecordCache})}static createChildStore(e,t){const n=a.d.getChildStoreKey(t,p.keyName),o=e.getRecordStoreChildStore(n),r=o||new p(e.environment,t,{userId:e.userId,inMemoryRecordCache:e.inMemoryRecordCache});return o||r.setRecordStoreParent(e,n),r}clone(){return new p(this.environment,this.pointer,{userId:this.userId,inMemoryRecordCache:this.inMemoryRecordCache})}getSpaceId(){const e=this.getValue();if(e&&e.space_id)return e.space_id}getSpaceStore(){const e=this.getSpaceId();if(e)return i.a.createChildStore(this,{table:d.a,id:e})}getBookmarkedPageIds(){const e=this.getValue();return e&&e.bookmarked_pages?e.bookmarked_pages:[]}getBookmarkedPagesStore(){return Object(a.a)(this,{table:o.a,id:this.id},"bookmarked_pages")}getBookmarkedPagesStores(){const e=this.getBookmarkedPagesStore(),t=e.getValue();return t?t.map(t=>r.a.createChildStore(e,{table:u.a,id:t})):[]}getBookmarkedPages(){return this.getBookmarkedPagesStores().filter(e=>e.isNavigableBlock()&&e.hasValue())}getPinnedSharedPages(){return this.getSharedPagesStores().filter(e=>e.isNavigableBlock()&&e.hasValue())}getWorkspacePages(){const e=this.getSpaceStore();if(e){return Object(l.getSpaceLoadPageStores)(this.environment,e).filter(t=>t.isTopLevelWorkspacePage(e.id))}return[]}getPrivatePages(){const e=this.getSpaceStore();if(e){return Object(l.getSpaceLoadPageStores)(this.environment,e).filter(t=>t.isTopLevelPrivatePage(e.id))}return[]}getSharedPageIds(){const e=this.getValue();return e&&e.shared_pages?e.shared_pages:[]}getSharedPagesStore(){return Object(a.a)(this,this.pointer,"shared_pages")}getSharedPagesStores(){const e=this.getSharedPagesStore(),t=e.getValue();return t?t.map(t=>r.a.createChildStore(e,{table:u.a,id:t})):[]}getVisitedTemplateIds(){const e=this.getValue();return e&&e.visited_templates?e.visited_templates:[]}getSidebarHiddenTemplateIds(){const e=this.getValue();return e&&e.sidebar_hidden_templates?e.sidebar_hidden_templates:[]}hasRemoteSharedPages(){const e=this.getSpaceId(),t=this.environment.currentUser.id;if(!e||!t)return!1;const n=s.a.getSharedPagesState({spaceId:e,userId:t});return Boolean(n&&n.currentPageIds)}getJoined(){const e=this.getValue();return e&&e.joined}userRootParentId(){const e=this.getValue();return e&&e.parent_table===c.a?e.parent_id:void 0}}p.keyName="SpaceViewStore",t.a=p},"lKd+":function(e,t,n){"use strict";n.r(t);n("3bBZ");var o=n("lk/1");t.default=new class{constructor(){this.subscribedRecords=new Map,this.pendingUnsubscribeRecords=new Map}getSubscriptionForRecord(e){return this.subscribedRecords.get(Object(o.b)(e))}isSubscribedToRecord(e){const t=this.subscribedRecords.get(Object(o.b)(e));return Boolean(t)}addToSubscribedRecords(e){const t=Object(o.b)(e),n={...e};this.subscribedRecords.set(t,n)}removeFromSubscribedRecords(e){const t=Object(o.b)(e);this.subscribedRecords.delete(t)}addToPendingUnsubscribeRecords(e,t){const n=Object(o.b)(e),r={...e,timestamp:t};this.pendingUnsubscribeRecords.set(n,r)}removeFromPendingUnsubscribeRecords(e){this.pendingUnsubscribeRecords.delete(Object(o.b)(e))}forEachPendingUnsubscribeRecord(e){for(const{pointer:t,userId:n,timestamp:o}of this.pendingUnsubscribeRecords.values())e({userId:n,pointer:t,timestamp:o})}reset(){this.subscribedRecords=new Map,this.pendingUnsubscribeRecords=new Map}}},lODM:function(e,t,n){"use strict";n("3bBZ"),n("UxlC");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("0/0S"),l=n("QcDD"),c=n("bkwR"),d=n("VBxf"),u=n("H4VD"),p=n("hvW1"),h=n("LEzx");class m extends h.a{getInitialState(){return{pagesExported:0}}}var f=m,g=n("wldR"),b=n("wlCD"),v=n("J9+s");class y extends g.a{renderComponent(){return i.a.createElement("div",{style:this.getMessageStyle()},i.a.createElement("div",{style:this.getSpinnerContainerStyle()},i.a.createElement(b.a,null)),this.renderProgress(),this.renderEmail())}renderEmail(){const{targetEmailAddress:e}=this.props.exportProgressStore.state;if(e)return i.a.createElement("p",null,i.a.createElement(v.FormattedMessage,{id:"exportProgressDialog.emailMessage",defaultMessage:"We'll also send you an email with the download link."}))}renderProgress(){const{pagesExported:e}=this.props.exportProgressStore.state;return e>0?i.a.createElement("p",null,i.a.createElement(v.FormattedMessage,{id:"exportProgressDialog.exportedPagesMessage",defaultMessage:"{pagesExported, plural, one {{pagesExported} page exported} other {{pagesExported} pages exported}}",values:{pagesExported:e}})):i.a.createElement("p",null,i.a.createElement(v.FormattedMessage,{id:"exportProgressDialog.exportStartedMessage",defaultMessage:"Exporting…"}))}getMessageStyle(){return{fontSize:14,color:this.theme.mediumTextColor,textAlign:"center"}}getSpinnerContainerStyle(){return{marginTop:24,marginBottom:24,display:"flex",justifyContent:"center"}}}var S=y,w=n("yjqD"),k=n("5/h/"),C=n("D2XV"),M=n("y6Dp"),E=n("XfKI"),_=n("Cycz"),T=n("5xGH"),x=n("Catn"),I=n("tvfY"),P=n("vl8/"),O=n("z22Z");n.d(t,"d",(function(){return L})),n.d(t,"f",(function(){return R})),n.d(t,"h",(function(){return A})),n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return U})),n.d(t,"g",(function(){return X}));const B=Object(v.defineMessages)({exporting:{id:"exportActions.exporting.loadingMessage",defaultMessage:"Exporting",description:"The text that appears when a user is exporting their workspace to a format like PDF or HTML"},exportFailed:{id:"exportActions.exportFailedError.message",defaultMessage:"Export failed."},adminMessage:{defaultMessage:"Admin",id:"export.userPermissionsRole.admin.message"},memberMessage:{defaultMessage:"Member",id:"export.userPermissionsRole.member.message"},guestMessage:{defaultMessage:"Guest",id:"export.userPermissionsRole.guest.message"},emailMessage:{defaultMessage:"Email",id:"export.csvHeader.email"},firstNameMessage:{defaultMessage:"First name",id:"export.csvHeader.firstName"},lastNameMessage:{defaultMessage:"Last name",id:"export.csvHeader.lastName"},roleMessage:{defaultMessage:"Role",id:"export.csvHeader.role"},permissionGroupsMessage:{defaultMessage:"Permission groups",id:"export.csvHeader.permissionGroups"}});async function L(e,t){if(!F({environment:e,...t}))return;const{currentUserStore:n}=l.default.state;if(!n)return;const o=n.getValue();if(!o)return;M.Pb(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive});const r=c.exportBlock(e,t);await D(e,r,t.recursive,o)}async function R(e,t){if(!F({environment:e,recursive:!0,exportOptions:t.exportOptions}))return;const{currentUserStore:n}=l.default.state;if(!n)return;const o=n.getValue();if(!o)return;M.Pb(e,{target:"space",format:t.exportOptions.exportType,recursive:!0});const r=c.exportSpace(e,t);await D(e,r,!0,o)}async function D(e,t,n,o){const r=new f;r.setState({pagesExported:0,targetEmailAddress:o.email});let a,s,l=!1;n?(a=Object(w.h)(1250),d.showDialog({message:i.a.createElement(S,{exportProgressStore:r}),showCancel:!1,keepFocus:!0,disableBackgroundDismiss:!0,items:[{label:i.a.createElement(v.FormattedMessage,{id:"exportProgressDialog.closeButton.label",defaultMessage:"Close"}),onAccept:()=>{l=!0}}]})):(a=Promise.resolve(),p.b({message:B.exporting}));for await(const i of t){if(l)return;if(i.error)return p.a(),void d.showErrorMessage(P.default.formatMessage(B.exportFailed));{const{value:e}=i;r.setState({...r.state,pagesExported:e.pagesExported}),"complete"===e.type&&(s=e.exportURL)}}r.setState({...r.state,complete:!0}),await a,p.a(),d.dismissDialog(),!l&&s&&u.downloadUrl({environment:e,url:s})}function A(e){const{root:t,environment:n}=e,o=n.currentUser.id,r=z(o),a=r&&r.exportType||"markdown",i="pdf"===a?{exportType:"pdf",timeZone:C.m,pdfFormat:X(o),locale:"en"}:{exportType:a,timeZone:C.m,locale:"en"};N(n,{open:!0,root:t,recursive:"space"===t.table,exportOptions:i})}async function j(e){const{spaceStore:t,subscriptionData:n,intl:o}=e,a=t.getValue(),i=a&&a.permission_groups?a.permission_groups:[],s=r.a.compact(await Promise.all(n.users.map(async e=>{const n=I.a.createChildStore(t,{table:k.a,id:e.userId});await n.load();const a=n.getValue(),s=r.a.compact(i.filter(t=>(t.user_ids||[]).includes(e.userId)).map(e=>e.name).sort());if(a)return[a.email||"",a.given_name||"",a.family_name||"",O.a(e.role)?o.formatMessage(B.adminMessage):O.j(e.role)?o.formatMessage(B.memberMessage):o.formatMessage(B.guestMessage),s.join(",")]}))),l=[[B.emailMessage,B.firstNameMessage,B.lastNameMessage,B.roleMessage,B.permissionGroupsMessage].map(e=>o.formatMessage(e)),...s].map(e=>e.map(e=>((e=e.replace(/"/g,'""')).search(/("|,|\n)/g)>=0&&(e='"'.concat(e,'"')),e)).join(",")).join("\n");var c=document.createElement("a");c.setAttribute("href","data:text/csv;charset=utf-8,".concat(encodeURIComponent(l))),c.setAttribute("download","members.csv"),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}function F(e){return!("pdf"===e.exportOptions.exportType&&e.recursive)||V(e.environment)}function V(e){return Object(_.Q)(e,"enterprise")||E.N()}function N(e,t){const n=s.a.state,o=e.currentUser.id;let r=t;if(s.c(r)&&!V(e))if("space"===r.root.table){const e=n.open&&!s.c(n)?n.exportOptions.exportType:"html";r={...r,exportOptions:{...r.exportOptions,exportType:e}}}else r={...r,recursive:!1};if(!F({environment:e,...r}))throw new T.a("Invalid export options",{data:r});s.a.setState(r),function(e){const t=s.a.state;if(t.open){const n={...z(e),exportType:t.exportOptions.exportType};"pdf"===t.exportOptions.exportType&&(n.pdfFormat=t.exportOptions.pdfFormat),x.a.set({userId:e,key:"ExportSettings",value:n})}}(o)}function U(){s.a.setState({open:!1})}function z(e){return x.a.get({userId:e,key:"ExportSettings"})}function X(e){const t=z(e);return t&&t.pdfFormat||s.b()}},lOyx:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("wldR"),l=n("p9gS"),c=n("nFzZ"),d=n("Pl3d"),u=n("bkwR"),p=n("hU3F"),h=n("wlCD"),m=n("cYwG"),f=n("QcDD"),g=n("vJXr"),b=n("JuT7"),v=n("Ko8Q"),y=n("J9+s"),S=n("7TLZ");class w extends s.a{constructor(){super(...arguments),this.storeTypes={activityIds:p.a.of([]),shouldLoadNewerActivities:p.a.of(!1),shouldLoadOlderActivities:p.a.of(!0),hasOlderActivities:p.a.of(!0)},this.handleActivityEmit=e=>{this.stores.shouldLoadNewerActivities.set(!0)},this.handleActivityEmitThrottled=i.a.throttle(this.handleActivityEmit,1e3),this.handleSpaceEmit=c.g(this.handleActivityEmitThrottled),this.handleNavigableBlockEmit=c.g(this.handleActivityEmitThrottled),this.handleCollectionEmit=c.g(this.handleActivityEmitThrottled)}willMount(){this.startMessageListeners()}willUnmount(){this.stopMessageListeners()}renderComponent(){return g.a.state.online?this.renderOnline():this.renderOffline()}renderOffline(){return r.a.createElement("div",{style:this.getPlaceholderContentStyle()},r.a.createElement(y.FormattedMessage,{defaultMessage:"Please go online to view updates.",id:"activityUpdates.offlineMessage"}))}async requestEarlierActivities(e,t,n,o){const r=i.a.first(e),a=await u.getActivityLog(this.environment,{spaceId:t,navigableBlockId:n,collectionId:o,endingBeforeId:r,limit:20});if("failed"===a.type)throw a.error;const s=a.data.activityIds;this.stores.shouldLoadNewerActivities.set(!1),this.stores.activityIds.set(s.concat(e))}async requestLaterActivities(e,t,n,o){const r=i.a.last(e),a=await u.getActivityLog(this.environment,{spaceId:t,navigableBlockId:n,collectionId:o,startingAfterId:r,limit:20});if("failed"===a.type)throw a.error;const s=a.data.activityIds;s.length<20&&this.stores.hasOlderActivities.set(!1),this.stores.shouldLoadOlderActivities.set(!1),this.stores.activityIds.set(e.concat(s))}renderOnline(){const{currentUserStore:e,currentSpaceStore:t}=f.default.state;if(!e||!t)return;const n=t,o=this.stores.activityIds.get(),a=this.stores.shouldLoadOlderActivities.get(),i=this.stores.shouldLoadNewerActivities.get(),s=this.stores.hasOlderActivities.get(),{spaceId:c,navigableBlockId:u,collectionId:p,source:h}=this.props;return r.a.createElement(d.a,{throttle:1e3,request:{spaceId:c,navigableBlockId:u,collectionId:p,shouldLoadOlderActivities:a,shouldLoadNewerActivities:i},performRequest:async({spaceId:e,navigableBlockId:t,collectionId:n,shouldLoadOlderActivities:r,shouldLoadNewerActivities:a})=>{a?await this.requestEarlierActivities(o,e,t,n):r&&s&&await this.requestLaterActivities(o,e,t,n)},render:(e,t,i)=>{if(e)return r.a.createElement("div",{style:this.getPlaceholderContentStyle()},r.a.createElement(y.FormattedMessage,{defaultMessage:"Something went wrong.",id:"activityUpdate.unknownErrorLoadingActivities.message"}));if(0===o.length&&!i)return r.a.createElement("div",{style:this.getContentStyle()},this.renderSpinner());const c=this.getActivityValues(o),d=0===c.length&&!s&&i;return r.a.createElement("div",{style:d?this.getPlaceholderContentStyle():this.getContentStyle(),className:d?"":"notranslate"},d?this.props.empty:null,r.a.createElement("div",null,c.map((e,t,o)=>{const a=o.length-1===t;return r.a.createElement(l.a,{key:e.id,activity:e,rootStore:n,isLast:a,analyticsContext:this.props.analyticsContext,isTopbarUpdatesMenu:this.props.isTopbarUpdatesMenu,source:h})})),r.a.createElement(m.a,{onChange:e=>{e<200&&i&&!a&&s&&this.stores.shouldLoadOlderActivities.set(!0)}},!i&&s?this.renderSpinner(!0):null))}})}renderSpinner(e){return r.a.createElement("div",{style:this.getSpinnerStyle(e)},r.a.createElement(h.a,null))}startMessageListeners(){const{spaceId:e,navigableBlockId:t,collectionId:n}=this.props;if(!e||t||n){if(t){const e=Object(v.c)(t);this.navigableBlockListenerReference=b.a.addListener(e,this.handleNavigableBlockEmit,void 0)}if(n){const e=Object(v.d)(n);this.collectionListenerReference=b.a.addListener(e,this.handleCollectionEmit,void 0)}}else{const t=Object(v.j)(e);this.spaceListenerReference=b.a.addListener(t,this.handleSpaceEmit,void 0)}}stopMessageListeners(){this.spaceListenerReference&&(b.a.removeListener(this.spaceListenerReference),this.spaceListenerReference=void 0),this.navigableBlockListenerReference&&(b.a.removeListener(this.navigableBlockListenerReference),this.navigableBlockListenerReference=void 0),this.collectionListenerReference&&(b.a.removeListener(this.collectionListenerReference),this.collectionListenerReference=void 0)}getActivityValue(e){const{currentUserStore:t,currentSpaceStore:n}=f.default.state;if(!t||!n)return;const o=Object(S.b)(n,e,n.id).getValue();return o&&!o.invalid?o:null}getActivityValues(e){return i.a.compact(e.map(e=>this.getActivityValue(e)))}getContentStyle(){return{minHeight:this.environment.device.isMobile?void 0:"75vh"}}getPlaceholderContentStyle(){const{device:e}=this.environment;return{...this.getContentStyle(),paddingTop:e.isMobile?64:void 0,minHeight:e.isMobile?void 0:220,display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",fontSize:14,color:this.theme.mediumTextColor}}getSpinnerStyle(e){return{...this.getPlaceholderContentStyle(),minHeight:e?64:220}}}t.a=w},lfst:function(e,t,n){"use strict";var o=n("Uv1v");class r extends o.a{findCollectionTemplatePickerItemFromStore(e){if(e)return this.findComponent(t=>t.props.templateStore===e)}}t.a=new r},"lk/1":function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));n("3bBZ");var o=n("glAM"),r=n("922z"),a=n("JU1L"),i=n("Mht8"),s=n("NoAG");function l(e){const{pointer:t,userId:n}=e;return"".concat(Object(a.b)(t),":").concat(n||"")}t.a=class{constructor(e){this.recordEvents=new o.a,this.isTemplatePreview=!1,this.cache=new Map,this.syncStates=new Map,this.appliedTransaction=!1,e&&(this.cache=e)}getInitialState(){return{cache:new Map,syncStates:new Map,appliedTransaction:!1}}getRecord(e){const t=this.cache.get(l(e));if(t)return t.value}makeGetRecordValueFn(e){return r.c.fromPlainFunctionUnsafe(t=>{const n=this.getRecord({pointer:t,userId:e});if(n&&n.value)return n.value})}getRole(e){const t=this.getRecord(e);if(t&&t.role)return t.role}getVersion(e){const t=this.getRecord(e);return t&&t.value&&t.value.version?t.value.version:0}setRecord(e,t){const n=l(e),o=this.cache.get(n);if(e.pointer.table!==s.a||t&&t.value&&t.value.type||i.log({level:"warning",from:"InMemoryRecordCache",type:"undefinedViewType",error:{stack:(new Error).stack},data:{miscDataToConvertToString:{current:o,new:t}}}),t){const o={...e,value:t};this.cache.set(n,o)}else this.deleteRecord(e)}deleteRecord(e){this.cache.delete(l(e))}forEachRecord(e,t){for(const{pointer:n,value:o,userId:r}of this.cache.values())o&&"none"!==o.role&&r===e&&t(n,o)}getSyncState(e){return this.syncStates.get(l(e))}setSyncState(e,t){this.syncStates.set(l(e),t)}clearSyncState(e){this.syncStates.delete(l(e))}reset(){this.appliedTransaction=!1,this.syncStates=new Map,this.cache=new Map}addListenerToRecord(e,t){const n=Object(a.b)(e);this.recordEvents.addListener(n,t)}removeListenerToRecord(e,t){const n=Object(a.b)(e);this.recordEvents.removeListener(n,t)}emitRecord(e,t){const n=Object(a.b)(e);this.recordEvents.emit(n,t)}hasListener(e){const t=Object(a.b)(e);return this.recordEvents.listenerCount(t)>0}}},loBV:function(e,t,n){"use strict";t.a=e=>{const{spaceViewStore:t,pageId:n}=e;return!(!t||!n)&&-1!==t.getBookmarkedPageIds().indexOf(n)}},lpTC:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o={"en-US":{time:{"12h":"LT","24h":"H:mm"},month:"MMMM YYYY"},"es-ES":{time:{"12h":"LT","24h":"H:mm"},month:"MMMM YYYY"},"es-419":{time:{"12h":"LT","24h":"H:mm"},month:"MMMM YYYY"},"fr-FR":{time:{"12h":"LT","24h":"H:mm"},month:"MMMM YYYY"},"pt-BR":{time:{"12h":"LT","24h":"H:mm"},month:"MMMM YYYY"},"ko-KR":{time:{"12h":"LT","24h":"H:mm"},month:"YYYY[년] MMMM"},"zh-CN":{time:{"12h":"LT","24h":"H:mm"},month:"YYYY[年]MMM"},"zh-TW":{time:{"12h":"LT","24h":"H:mm"},month:"YYYY[年]MMM"},"ja-JP":{time:{"12h":"LT","24h":"H:mm"},month:"YYYY[年]MMM"}},r=e=>o[e]},lufz:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return p}));var o=n("HRSx"),r=n("FUUC"),a=n("9axl"),i=n("N34Z"),s=n("6SEd"),l=n("8L2b");const c=e=>{const{childStore:t,parentStore:n,transaction:o}=e,r=t.getRecordStoreAtRootPath().getValue();if(r){const{parent_id:a,parent_table:s,alive:l}=r;a===n.id&&s===n.table&&l===e.alive||i.d({store:t,data:{parent_id:n.id,parent_table:n.table,alive:e.alive},transaction:o})}},d=e=>{const{childStore:t,alive:n,transaction:o}=e,r=t.getRecordStoreAtRootPath().getValue();r&&r.alive!==n&&i.d({store:t,data:{alive:n},transaction:o})},u=e=>{const{childStore:t,parentStore:n,transaction:i}=e,{parent_id:d,parent_table:u}=t.getValue()||{},p=t.recordStoreParent();n.table===r.a&&t.table===o.a||n.table===a.a&&t.table===l.a?c({childStore:t,parentStore:n,alive:!0,transaction:i}):n.table!==o.a&&n.table!==s.a||d&&(!p||d!==p.id||u!==p.table)||c({childStore:t,parentStore:n,alive:!0,transaction:i})},p=e=>{const{childStore:t,parentStore:n,transaction:o}=e,{parent_id:r,parent_table:a,alive:i}=t.getValue()||{};r===n.id&&a===n.table&&i&&d({childStore:t,alive:!1,transaction:o})}},m0IC:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return S}));n("3bBZ");var o=n("EZe4"),r=n("DkKf"),a=n("iICV"),i=n("DaKt");const s=e=>{const{store:t,event:n,onClick:a,disabled:i}=e;if(!n.shiftKey&&!i){let e=!1;Object(o.d)({event:n,context:o.a.EditorClick,callback:()=>{a&&!Object(r.c)(n)&&a(n),e=!0}}),e||t.setState({hovered:!1,pressed:!1})}},l=e=>{const{store:t,event:n,onContextMenu:o,disabled:r}=e;r||(t.setState({hovered:!0,pressed:t.state.pressed}),o&&o(n))},c=e=>{const{event:t,onMouseEnter:n}=e;n&&n(t)},d=e=>{const{store:t,event:n,onMouseMove:o,disabled:r}=e;a.a.state.isKeyboardMode||i.a.state||r||t.setState({hovered:!0,pressed:t.state.pressed}),o&&o(n)},u=e=>{const{store:t,event:n,onMouseLeave:o,disabled:r}=e;r||t.setState({hovered:t.state.pressed,pressed:!1}),o&&o(n)},p=e=>{const{store:t,event:n,onMouseDown:r,disabled:a}=e;a||Object(o.d)({event:n,context:o.a.ButtonMouseDown,callback:()=>{t.setState({hovered:t.state.hovered,pressed:!0}),r&&r(n),window.addEventListener("mouseup",b(t))}})},h=e=>{const{store:t,event:n,onMouseUp:o,disabled:r}=e;r||(t.setState({hovered:t.state.hovered,pressed:!1}),o&&o(n),window.removeEventListener("mouseup",b(t)))},m=e=>{const{store:t,event:n,onTouchStart:r,disabled:a}=e;a||Object(o.d)({event:n,context:o.a.MobileTap,callback:()=>{t.setState({hovered:t.state.hovered,pressed:!0}),r&&r(n)}})},f=e=>{const{store:t,event:n,onTouchEnd:o,disabled:r}=e;r||(t.setState({hovered:t.state.hovered,pressed:!1}),o&&o(n))},g=e=>{const{store:t,event:n,onTouchCancel:o,disabled:r}=e;r||(t.setState({hovered:t.state.hovered,pressed:!1}),o&&o(n))},b=e=>()=>{e.setState({hovered:!1,pressed:!1})},v=new Set;function y(e){v.add(e)}function S(e){v.delete(e)}},m8rc:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var o=n("du8U"),r=n("6rsX"),a=n("unoy");function i(e,t){r.e(e),a.f(e),o.a.setState({open:!0,...t})}function s(){o.a.setState({open:!1,originRect:o.a.state.originRect})}},mADk:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return h}));n("3bBZ");var o=n("qqdV");const r=["en","ko"];function a(e){const{path:t,route:n}=e;if(t===n)return!0;const o=n.endsWith("/")?n:"".concat(n,"/");return!!t.startsWith(o)}function i(e){const{path:t,routes:n,locales:o}=e;for(const r of n){if(a({path:t,route:r}))return{route:r};for(const e of o){if(a({path:t,route:"/".concat(e).concat(r)}))return{route:r,locale:e}}}}const s=[o.d.downloadWindows,o.d.downloadMacAppleSilicon,o.d.downloadMacIntel],l=[/^\/desktop\/Notion.*\.(dmg|exe)$/],c="fredir",d=Object.values(o.b),u=Object.values(o.c),p=Object.values(o.a);function h(e,t){if(void 0!==e&&!i({path:e,routes:s,locales:[]})&&!l.some(t=>Boolean(e.match(t))))return i({path:e,routes:d,locales:[]})?"internal":i({path:e,routes:p,locales:r})?"devOnly":i({path:e,routes:u,locales:r})?"normal":"/"!==e||t?r.some(t=>e==="/".concat(t))?"root":void 0:"root"}},"mF3+":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o);class a extends r.a.Component{render(){const{svg:e,viewBox:t,style:n,className:o}=this.props;return r.a.createElement("svg",{viewBox:t,style:{width:"100%",height:"100%",display:"block",fill:"inherit",flexShrink:0,WebkitBackfaceVisibility:"hidden",...n},className:o},e)}}var i=a,s=n("nFzZ");const l={alarmClock:{className:"alarmClock",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M4.31165,1.1958 L1.01208,3.95264 L0,2.75684 L3.30725,0 L4.31165,1.1958 Z M14,2.76416 L12.988,3.95947 L9.68127,1.1958 L10.6932,0 L14,2.76416 Z M7,1.50244 C10.4635,1.50244 13.2732,4.2998 13.2732,7.75098 C13.2732,11.2026 10.4635,14 7,14 C3.52954,14 0.726929,11.2026 0.726929,7.75098 C0.726929,4.2998 3.5365,1.50244 7,1.50244 Z M7.44116,4.23584 L7.44116,7.86572 L10.2234,9.50781 L9.60596,10.5166 L6.21594,8.49023 L6.21594,4.23584 L7.44116,4.23584 Z M2.29517,7.75098 C2.29517,10.3408 4.39819,12.4365 7,12.4365 C9.60181,12.4365 11.7048,10.3408 11.7048,7.75098 C11.7048,5.16113 9.60181,3.06543 7,3.06543 C4.39819,3.06543 2.29517,5.16113 2.29517,7.75098 Z"})},alias:{className:"alias",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M13.646 10.879V3.084c0-.473-.298-.788-.78-.788l-7.794.016c-.465 0-.764.34-.764.73 0 .39.34.723.73.723h2.466l3.951-.15-1.502 1.329-7.413 7.429a.733.733 0 00-.232.506c0 .39.348.764.755.764.19 0 .365-.075.515-.224l7.42-7.43 1.337-1.502-.158 3.777v2.648c0 .382.332.73.739.73.39 0 .73-.323.73-.763z"})},arrowDown:{className:"arrowDown",viewBox:"0 0 30 30",svg:r.a.createElement("polygon",{points:"24.594 16.594 16 25.188 16 1 14 1 14 25.188 5.406 16.594 4 18 15 29 26 18"})},arrowLeft:{className:"arrowLeft",viewBox:"0 0 30 30",svg:r.a.createElement("polygon",{points:"29 14 4.813 14 13.406 5.406 12 4 1 15 12 26 13.406 24.594 4.813 16 29 16"})},arrowRight:{className:"arrowRight",viewBox:"0 0 30 30",svg:r.a.createElement("polygon",{points:"1 14 25.188 14 16.594 5.406 18 4 29 15 18 26 16.594 24.594 25.188 16 1 16"})},arrowUp:{className:"arrowUp",viewBox:"0 0 30 30",svg:r.a.createElement("polygon",{points:"26 12 15 1 4 12 5.406 13.406 14 4.813 14 29 16 29 16 4.813 24.594 13.406"})},at:{className:"at",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M.911 8.034c0 4.505 3.049 7.24 7.246 7.24 1.135 0 2.215-.158 2.885-.376.472-.15.622-.397.622-.65a.44.44 0 00-.451-.444 1.3 1.3 0 00-.321.048c-.834.205-1.552.341-2.516.341-3.74 0-6.29-2.255-6.29-6.118 0-3.698 2.407-6.275 6.03-6.275 3.206 0 5.886 1.975 5.886 5.523 0 2.072-.697 3.466-1.825 3.466-.752 0-1.176-.437-1.176-1.183V4.972c0-.37-.205-.595-.554-.595-.341 0-.553.226-.553.595v.779h-.062c-.349-.84-1.203-1.374-2.222-1.374-1.77 0-3.014 1.51-3.014 3.678 0 2.187 1.237 3.712 3.042 3.712 1.06 0 1.88-.575 2.276-1.545h.062c.13.963.943 1.551 2.023 1.551 1.907 0 3.09-1.873 3.09-4.498 0-3.971-2.92-6.548-6.96-6.548C3.886.727.912 3.632.912 8.034zm6.911 2.652c-1.223 0-2.003-1.018-2.003-2.638 0-1.593.786-2.611 2.01-2.611 1.258 0 2.05.998 2.05 2.584 0 1.62-.813 2.665-2.057 2.665z"})},backward:{className:"backward",viewBox:"0 0 24 24",svg:r.a.createElement("polygon",{points:"23,11 4.801,11 11.4,4.4 10,3 1,12 10,21 11.4,19.6 4.801,13 23,13 "})},blockColor:{className:"blockColor",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M25,5c0-2.2-1.8-4-4-4H6C3.8,1,2,2.8,2,5H1v2h1c0,2.2,1.8,4,4,4h15c2.2,0,4-1.8,4-4h2v6H14v4h-2v9c0,1.657,1.344,3,3,3 s3-1.343,3-3v-9h-2v-2h13V5H25z M23,7c0,1.103-0.896,2-2,2H6C4.896,9,4,8.103,4,7V5c0-1.103,0.896-2,2-2h15c1.104,0,2,0.897,2,2V7z M16,26c0,0.552-0.449,1-1,1s-1-0.448-1-1v-7h2V26z"})},book:{className:"book",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M27,23V1H7C4.791,1,3,2.791,3,5v20c0,2.209,1.791,4,4,4h20v-2h-1v-4H27z M21,3v6l-1-1.333L19,9V3H21z M20,11l3,4V3h2v18H9V3 h8v12L20,11z M5,5c0-1.103,0.896-2,2-2v18c-0.729,0-1.411,0.195-2,0.537V5z M24,27H7c-1.104,0-2-0.896-2-2s0.896-2,2-2h17V27z"})},bot:{className:"bot",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M7.996 16C12.381 16 16 12.38 16 8s-3.627-8-8.012-8C3.611 0 0 3.62 0 8s3.62 8 7.996 8zm0-1.594A6.375 6.375 0 011.61 8a6.366 6.366 0 016.38-6.398A6.393 6.393 0 0114.398 8a6.383 6.383 0 01-6.403 6.406zM4.648 8.518c0 .21.17.364.386.364h2.53l-1.346 3.605c-.202.527.355.813.703.395l4.168-5.176a.515.515 0 00.132-.325c0-.209-.17-.356-.379-.356H8.305l1.346-3.613c.201-.518-.356-.812-.704-.395l-4.16 5.184a.484.484 0 00-.14.317z"})},calendarBy:{className:"calendarBy",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M24.2857143,4.78571429 C24.2857143,3.24707143 23.0386429,2 21.5,2 C19.9613571,2 18.7142857,3.24707143 18.7142857,4.78571429 L11.2857143,4.78571429 C11.2857143,3.24707143 10.0386429,2 8.5,2 C6.96135714,2 5.71428571,3.24707143 5.71428571,4.78571429 L2,4.78571429 L2,28 L28,28 L28,4.78571429 L24.2857143,4.78571429 Z M20.5714286,4.78571429 C20.5714286,4.27407143 20.9874286,3.85714286 21.5,3.85714286 C22.0125714,3.85714286 22.4285714,4.27407143 22.4285714,4.78571429 L22.4285714,6.64285714 C22.4285714,7.1545 22.0125714,7.57142857 21.5,7.57142857 C20.9874286,7.57142857 20.5714286,7.1545 20.5714286,6.64285714 L20.5714286,4.78571429 Z M7.57142857,4.78571429 C7.57142857,4.27407143 7.98742857,3.85714286 8.5,3.85714286 C9.01257143,3.85714286 9.42857143,4.27407143 9.42857143,4.78571429 L9.42857143,6.64285714 C9.42857143,7.1545 9.01257143,7.57142857 8.5,7.57142857 C7.98742857,7.57142857 7.57142857,7.1545 7.57142857,6.64285714 L7.57142857,4.78571429 Z M26.1428571,26.1428571 L3.85714286,26.1428571 L3.85714286,13.1428571 L26.1428571,13.1428571 L26.1428571,26.1428571 Z M26.1428571,11.2857143 L3.85714286,11.2857143 L3.85714286,6.64285714 L5.71428571,6.64285714 C5.71428571,8.1815 6.96135714,9.42857143 8.5,9.42857143 C10.0386429,9.42857143 11.2857143,8.1815 11.2857143,6.64285714 L18.7142857,6.64285714 C18.7142857,8.1815 19.9613571,9.42857143 21.5,9.42857143 C23.0386429,9.42857143 24.2857143,8.1815 24.2857143,6.64285714 L26.1428571,6.64285714 L26.1428571,11.2857143 Z"})},caption:{className:"caption",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M2 5V7H28V5H2ZM16 11H2V13H16V11ZM2 19H26V17H2V19ZM2 25H22V23H2V25Z"})},chat:{className:"chat",viewBox:"0 0 32 32",svg:r.a.createElement("path",{d:"M7.52 28.727c.591 0 .993-.205 1.706-.842l3.732-3.41c.802.898 2.017 1.375 3.566 1.375h3.844l3.721 3.252c.68.591 1.048.898 1.582.898.77 0 1.204-.557 1.204-1.421V25.85h.468c2.796 0 4.657-1.716 4.657-4.695v-6.719c0-2.978-1.86-4.695-4.657-4.695h-1.75v-.864C25.593 5.785 23.8 4 20.77 4H4.825C1.916 4 0 5.785 0 8.877v10.47c0 3.093 1.916 4.878 4.825 4.878h1.47v3.103c0 .876.435 1.399 1.226 1.399zm.458-5.264c0-.648-.38-.955-.87-.955H4.937c-1.972 0-3.142-1.091-3.142-3.217V8.934c0-2.115 1.17-3.229 3.142-3.229h15.721c1.973 0 3.142 1.114 3.142 3.229v.807h-7.275c-2.92 0-4.647 1.717-4.647 4.695v6.72c0 .613.067 1.17.212 1.682l-4.111 3.865v-3.24zm17.225 4.48l-3.576-3.275c-.446-.398-.713-.523-1.326-.523h-3.666c-1.86 0-2.975-1.034-2.975-3.047l.011-6.605c0-2 1.103-3.047 2.964-3.047h10.607c1.85 0 2.964 1.046 2.964 3.047v6.605c0 2.013-1.114 3.047-2.964 3.047h-1.18c-.48 0-.859.284-.859.932v2.865z"})},check:{className:"check",viewBox:"0 0 14 14",svg:r.a.createElement("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})},bigCheck:{className:"bigCheck",viewBox:"0 0 26 20",svg:r.a.createElement("path",{d:"M0 11.375L8 20 26 1.438 24.594 0 8 17.094 1.438 10 0 11.375z",fill:"#2D9CDB"})},thinCheck:{className:"thinCheck",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})},calendar:{className:"calendar",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M3.24902 14.7764H12.6621C14.1455 14.7764 14.918 14.0107 14.918 12.5479V4.22852C14.918 2.76562 14.1455 2 12.6621 2H3.24902C1.77246 2 1 2.75879 1 4.22852V12.5479C1 14.0107 1.77246 14.7764 3.24902 14.7764ZM3.24219 13.416C2.6748 13.416 2.36035 13.1221 2.36035 12.5205V6.23145C2.36035 5.62988 2.6748 5.33594 3.24219 5.33594H12.6689C13.2363 5.33594 13.5508 5.62988 13.5508 6.23145V12.5205C13.5508 13.1221 13.2363 13.416 12.6689 13.416H3.24219ZM6.63965 7.69434H7.04297C7.28906 7.69434 7.37109 7.61914 7.37109 7.37988V6.97656C7.37109 6.73047 7.28906 6.65527 7.04297 6.65527H6.63965C6.39355 6.65527 6.31152 6.73047 6.31152 6.97656V7.37988C6.31152 7.61914 6.39355 7.69434 6.63965 7.69434ZM8.875 7.69434H9.27832C9.51758 7.69434 9.59961 7.61914 9.59961 7.37988V6.97656C9.59961 6.73047 9.51758 6.65527 9.27832 6.65527H8.875C8.62891 6.65527 8.54688 6.73047 8.54688 6.97656V7.37988C8.54688 7.61914 8.62891 7.69434 8.875 7.69434ZM11.1035 7.69434H11.5068C11.7529 7.69434 11.835 7.61914 11.835 7.37988V6.97656C11.835 6.73047 11.7529 6.65527 11.5068 6.65527H11.1035C10.8643 6.65527 10.7822 6.73047 10.7822 6.97656V7.37988C10.7822 7.61914 10.8643 7.69434 11.1035 7.69434ZM4.41113 9.89551H4.80762C5.05371 9.89551 5.13574 9.82031 5.13574 9.57422V9.1709C5.13574 8.93164 5.05371 8.85645 4.80762 8.85645H4.41113C4.16504 8.85645 4.08301 8.93164 4.08301 9.1709V9.57422C4.08301 9.82031 4.16504 9.89551 4.41113 9.89551ZM6.63965 9.89551H7.04297C7.28906 9.89551 7.37109 9.82031 7.37109 9.57422V9.1709C7.37109 8.93164 7.28906 8.85645 7.04297 8.85645H6.63965C6.39355 8.85645 6.31152 8.93164 6.31152 9.1709V9.57422C6.31152 9.82031 6.39355 9.89551 6.63965 9.89551ZM8.875 9.89551H9.27832C9.51758 9.89551 9.59961 9.82031 9.59961 9.57422V9.1709C9.59961 8.93164 9.51758 8.85645 9.27832 8.85645H8.875C8.62891 8.85645 8.54688 8.93164 8.54688 9.1709V9.57422C8.54688 9.82031 8.62891 9.89551 8.875 9.89551ZM11.1035 9.89551H11.5068C11.7529 9.89551 11.835 9.82031 11.835 9.57422V9.1709C11.835 8.93164 11.7529 8.85645 11.5068 8.85645H11.1035C10.8643 8.85645 10.7822 8.93164 10.7822 9.1709V9.57422C10.7822 9.82031 10.8643 9.89551 11.1035 9.89551ZM4.41113 12.0898H4.80762C5.05371 12.0898 5.13574 12.0146 5.13574 11.7754V11.3721C5.13574 11.126 5.05371 11.0508 4.80762 11.0508H4.41113C4.16504 11.0508 4.08301 11.126 4.08301 11.3721V11.7754C4.08301 12.0146 4.16504 12.0898 4.41113 12.0898ZM6.63965 12.0898H7.04297C7.28906 12.0898 7.37109 12.0146 7.37109 11.7754V11.3721C7.37109 11.126 7.28906 11.0508 7.04297 11.0508H6.63965C6.39355 11.0508 6.31152 11.126 6.31152 11.3721V11.7754C6.31152 12.0146 6.39355 12.0898 6.63965 12.0898ZM8.875 12.0898H9.27832C9.51758 12.0898 9.59961 12.0146 9.59961 11.7754V11.3721C9.59961 11.126 9.51758 11.0508 9.27832 11.0508H8.875C8.62891 11.0508 8.54688 11.126 8.54688 11.3721V11.7754C8.54688 12.0146 8.62891 12.0898 8.875 12.0898Z"})},emojiCheck:{className:"emojiCheck",viewBox:"0 0 14.29 14",svg:r.a.createElement("path",{d:"M6 11.57C7 9.69 7.94 8 8.82 6.21c.8-1.6 1.55-3.22 2.31-4.84A2.6 2.6 0 0114 .07c.29.09.39.21.24.51-1.77 3.48-3.52 7-5.3 10.45a5.61 5.61 0 01-1 1.49 6.43 6.43 0 01-1.74 1.24A2.16 2.16 0 013.34 13 28.59 28.59 0 010 7.61.71.71 0 01.18 7a2.78 2.78 0 012.23-.73 1.13 1.13 0 01.7.54c.79 1.31 1.54 2.65 2.31 4a9.82 9.82 0 00.58.76z"})},checkboxCircle:{className:"checkboxCircle",viewBox:"0 0 22 23",svg:r.a.createElement("circle",{cx:"11",cy:"11.5",r:"10",stroke:"#E2E1DE","stroke-width":"2"})},checkboxSquare:{className:"checkboxSquare",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M1.5,1.5 L1.5,14.5 L14.5,14.5 L14.5,1.5 L1.5,1.5 Z M0,0 L16,0 L16,16 L0,16 L0,0 Z"})},chevronDown:{className:"chevronDown",viewBox:"0 0 30 30",svg:r.a.createElement("polygon",{points:"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "})},chevronDownThin:{className:"chevronDownThin",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M8.004 12a.72.72 0 00.54-.237l6.238-6.487A.735.735 0 0015 4.753c0-.426-.314-.753-.733-.753a.76.76 0 00-.524.213l-5.739 5.955-5.747-5.955A.73.73 0 001.733 4C1.314 4 1 4.327 1 4.753c0 .204.08.384.218.531l6.238 6.479a.751.751 0 00.548.237z"})},chevronLeft:{className:"chevronLeft",viewBox:"0 0 30 30",svg:r.a.createElement("polygon",{points:"12.6 15 23 25.2 20.2 28 7 15 20.2 2 23 4.8"})},chevronRight:{className:"chevronRight",viewBox:"0 0 30 30",svg:r.a.createElement("polygon",{points:"17.4,15 7,25.2 9.8,28 23,15 9.8,2 7,4.8"})},circleCross:{className:"circleCross",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M15 28.354c7.305 0 13.354-6.049 13.354-13.354 0-7.292-6.062-13.354-13.367-13.354C7.695 1.646 1.646 7.708 1.646 15c0 7.305 6.062 13.354 13.354 13.354zm0-2.226A11.075 11.075 0 013.885 15c0-6.166 4.922-11.128 11.102-11.128 6.18 0 11.128 4.962 11.141 11.128A11.078 11.078 0 0115 26.128zm-4.477-5.577a.99.99 0 00.746-.327l3.718-3.731 3.731 3.73c.197.197.445.328.747.328.576 0 1.047-.484 1.047-1.06a.979.979 0 00-.314-.747l-3.718-3.718 3.73-3.744c.223-.223.315-.445.315-.733 0-.59-.471-1.048-1.047-1.048-.275 0-.498.092-.72.315l-3.771 3.744-3.744-3.731c-.184-.21-.432-.301-.72-.301-.577 0-1.048.445-1.048 1.034a.97.97 0 00.314.733l3.719 3.731-3.719 3.732a.951.951 0 00-.314.733c0 .576.471 1.06 1.048 1.06z"})},squarePlus:{className:"squarePlus",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M7.059 27.052H22.94c2.75 0 4.11-1.361 4.11-4.059V7.007c0-2.697-1.36-4.059-4.11-4.059H7.059c-2.736 0-4.111 1.349-4.111 4.059v15.986c0 2.71 1.375 4.06 4.11 4.06zm.026-2.108c-1.31 0-2.03-.694-2.03-2.055V7.112c0-1.362.72-2.056 2.03-2.056h15.83c1.296 0 2.029.694 2.029 2.056v15.777c0 1.361-.733 2.055-2.03 2.055H7.085zm7.895-3.758c.707 0 1.113-.484 1.113-1.243V16.08h4.111c.733 0 1.231-.392 1.231-1.086 0-.707-.471-1.113-1.23-1.113h-4.112V9.769c0-.759-.406-1.243-1.113-1.243-.694 0-1.073.51-1.073 1.243v4.112H9.822c-.773 0-1.257.405-1.257 1.112 0 .694.523 1.087 1.257 1.087h4.085v3.863c0 .733.38 1.243 1.073 1.243z"})},close:{className:"close",viewBox:"0 0 30 30",svg:r.a.createElement("polygon",{points:"26,5.4 24.6,4 15,13.6 5.4,4 4,5.4 13.6,15 4,24.6 5.4,26 15,16.4 24.6,26 26,24.6 16.4,15 "})},closeSmall:{className:"closeSmall",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})},clearInput:{className:"clearInput",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M15,0C6.716,0,0,6.716,0,15s6.716,15,15,15s15-6.716,15-15S23.284,0,15,0z M22,20.6L20.6,22L15,16.4L9.4,22L8,20.6l5.6-5.6 L8,9.4L9.4,8l5.6,5.6L20.6,8L22,9.4L16.4,15L22,20.6z"})},closeThick:{className:"closeThick",viewBox:"0 0 8 8",svg:r.a.createElement("polygon",{points:"8 1.01818182 6.98181818 0 4 2.98181818 1.01818182 0 0 1.01818182 2.98181818 4 0 6.98181818 1.01818182 8 4 5.01818182 6.98181818 8 8 6.98181818 5.01818182 4"})},code:{className:"code",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M11.625,4L0,15l11.625,11L13,24.563L2.906,15L13,5.438L11.625,4z M18.375,4L17,5.438L27.094,15L17,24.563L18.375,26L30,15L18.375,4z"})},copy:{className:"copy",viewBox:"0 0 14 16",svg:r.a.createElement("path",{d:"M2.404 15.322h5.701c1.26 0 1.887-.662 1.887-1.927V12.38h1.154c1.254 0 1.91-.662 1.91-1.928V5.555c0-.774-.158-1.266-.626-1.74L9.512.837C9.066.387 8.545.21 7.865.21H5.463c-1.254 0-1.91.662-1.91 1.928v1.084H2.404c-1.254 0-1.91.668-1.91 1.933v8.239c0 1.265.656 1.927 1.91 1.927zm7.588-6.62c0-.792-.1-1.161-.592-1.665L6.225 3.814c-.452-.462-.844-.58-1.5-.591V2.215c0-.533.28-.832.843-.832h2.38v2.883c0 .726.386 1.113 1.107 1.113h2.83v4.998c0 .539-.276.832-.844.832H9.992V8.701zm-.79-4.29c-.206 0-.288-.088-.288-.287V1.594l2.771 2.818H9.201zM2.503 14.15c-.563 0-.844-.293-.844-.832V5.232c0-.539.281-.837.85-.837h1.91v3.187c0 .85.416 1.26 1.26 1.26h3.14v4.476c0 .54-.28.832-.843.832H2.504zM5.79 7.816c-.24 0-.346-.105-.346-.345V4.547l3.223 3.27H5.791z"})},darkMode:{className:"darkMode",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M2.52914 9.52911C6.39513 9.52911 9.52914 6.39508 9.52914 2.52911C9.52914 1.63727 9.36236 0.784424 9.05828 0C11.6743 1.01404 13.5291 3.55499 13.5291 6.52911C13.5291 10.3951 10.3951 13.5291 6.52914 13.5291C3.55498 13.5291 1.01405 11.6743 0 9.05829C0.784435 9.36237 1.63731 9.52911 2.52914 9.52911Z"})},dots:{className:"dots",viewBox:"0 0 13 3",svg:r.a.createElement("g",null," ",r.a.createElement("path",{d:"M3,1.5A1.5,1.5,0,1,1,1.5,0,1.5,1.5,0,0,1,3,1.5Z"})," ",r.a.createElement("path",{d:"M8,1.5A1.5,1.5,0,1,1,6.5,0,1.5,1.5,0,0,1,8,1.5Z"})," ",r.a.createElement("path",{d:"M13,1.5A1.5,1.5,0,1,1,11.5,0,1.5,1.5,0,0,1,13,1.5Z"})," ")},doubleChevronLeft:{className:"doubleChevronLeft",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M7 2.225L5.775 1L0 7.125L5.775 13.25L7 12.025L2.45 7.125L7 2.225ZM14 2.225L12.775 1L7 7.125L12.775 13.25L14 12.025L9.45 7.125L14 2.225Z"})},doubleChevronRight:{className:"doubleChevronRight",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M7 12.025L8.225 13.25L14 7.125L8.225 1L7 2.225L11.55 7.125L7 12.025ZM0 12.025L1.225 13.25L7 7.125L1.225 1L8.56743e-07 2.225L4.55 7.125L0 12.025Z"})},dragHandle:{className:"dragHandle",viewBox:"0 0 10 10",svg:r.a.createElement("path",{d:"M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z"})},duplicate:{className:"duplicate",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M1,29h20V9H1V29z M3,11h16v16H3V11z M9,1v6h2V3h16v16h-4v2h6V1H9z"})},equation:{className:"equation",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M6.04883 27.3232C7.24219 27.3232 7.86426 26.4854 8.20703 25.3936L13.9834 6.79492H27.5039C28.2275 6.79492 28.7227 6.35059 28.7227 5.65234C28.7227 4.97949 28.2275 4.53516 27.5039 4.53516H13.958C12.6631 4.53516 12.0791 5.01758 11.7363 6.13477L6.18848 24.3525H5.97266L3.58594 15.9355C3.38281 15.2373 3.00195 14.9072 2.40527 14.9072C1.73242 14.9072 1.2373 15.3896 1.2373 16.0117C1.2373 16.2656 1.30078 16.4941 1.35156 16.6846L4.04297 25.5332C4.36035 26.5615 4.93164 27.3232 6.04883 27.3232ZM16.3955 24.7334C16.8652 24.7334 17.1064 24.5684 17.4619 24.0732L20.4707 19.8203H20.5215L23.5049 24.0732C23.873 24.5684 24.1143 24.7334 24.5713 24.7334C25.2061 24.7334 25.6758 24.3018 25.6758 23.7051C25.6758 23.4258 25.6123 23.1973 25.4219 22.9561L21.9307 18.208L25.4473 13.4346C25.6377 13.168 25.7139 12.9395 25.7139 12.6855C25.7139 12.127 25.2568 11.6953 24.6475 11.6953C24.2031 11.6953 23.9365 11.8477 23.6064 12.3174L20.7246 16.5957H20.6611L17.6904 12.3047C17.373 11.8477 17.0938 11.6953 16.624 11.6953C16.0146 11.6953 15.5068 12.165 15.5068 12.7363C15.5068 13.0537 15.583 13.2568 15.8115 13.5488L19.1504 18.1445L15.6084 23.0322C15.418 23.2861 15.3672 23.4639 15.3672 23.7559C15.3672 24.3018 15.8115 24.7334 16.3955 24.7334Z"})},eye:{className:"eye",viewBox:"0 0 32 32",svg:r.a.createElement("path",{d:"M16.006 25.812c8.863 0 14.994-7.17 14.994-9.406C31 14.16 24.858 7 16.006 7 7.252 7 1 14.16 1 16.406c0 2.236 6.252 9.406 15.006 9.406zm0-3.242a6.194 6.194 0 01-6.197-6.164c-.012-3.452 2.744-6.164 6.197-6.164 3.419 0 6.185 2.711 6.185 6.164 0 3.364-2.766 6.164-6.185 6.164zm0-3.94c1.228 0 2.246-1.007 2.246-2.224 0-1.228-1.018-2.235-2.246-2.235-1.24 0-2.258 1.007-2.258 2.235 0 1.217 1.018 2.224 2.258 2.224z"})},rename:{className:"rename",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M24,1c-1.141,0-2.55,0.45-3.55,1.45L6,16.9L5,25l8.1-1L27.55,9.551C28.604,8.495,29,7.063,29,6C29,3.238,26.762,1,24,1z M20.664,5.064L22.1,6.5L10.5,18.1l-1.436-1.436L20.664,5.064z M7.299,22.701l0.55-4.453l3.902,3.903L7.299,22.701z M13.336,20.936 L11.9,19.5L23.5,7.9l1.436,1.436L13.336,20.936z M26.311,7.91L22.09,3.689C22.705,3.198,23.478,3,24,3c1.654,0,3,1.346,3,3 C27,6.523,26.802,7.295,26.311,7.91z M25,27H3V5h12.072l2-2H1v26h26V12.928l-2,2V27z"})},enter:{className:"enter",viewBox:"0 0 14 12",svg:r.a.createElement("path",{d:"M4.45869 11.0605C4.83955 11.0605 5.09736 10.791 5.09736 10.4219C5.09736 10.2285 5.02119 10.0879 4.904 9.9707L3.41572 8.51758L2.39033 7.65625L3.74384 7.71484H11.0563C12.527 7.71484 13.154 7.05273 13.154 5.59961V2.125C13.154 0.654297 12.527 0.0214844 11.0563 0.0214844H7.80439C7.41181 0.0214844 7.13642 0.314453 7.13642 0.677734C7.13642 1.03516 7.41181 1.32812 7.79853 1.32812H11.027C11.613 1.32812 11.8649 1.58008 11.8649 2.16602V5.55859C11.8649 6.16211 11.613 6.4082 11.027 6.4082H3.74384L2.39033 6.47266L3.41572 5.60547L4.904 4.1582C5.02119 4.04102 5.09736 3.89453 5.09736 3.70117C5.09736 3.33789 4.83955 3.06836 4.45869 3.06836C4.29462 3.06836 4.11298 3.14453 3.98408 3.27344L0.626656 6.57812C0.49189 6.70703 0.421577 6.88281 0.421577 7.06445C0.421577 7.24023 0.49189 7.41602 0.626656 7.54492L3.98408 10.8555C4.11298 10.9844 4.29462 11.0605 4.45869 11.0605Z"})},expand:{className:"expand",viewBox:"-1 -1 9 11",svg:r.a.createElement("path",{id:"path0_stroke",d:"M 3.5 0L 3.98809 -0.569442L 3.5 -0.987808L 3.01191 -0.569442L 3.5 0ZM 3.5 9L 3.01191 9.56944L 3.5 9.98781L 3.98809 9.56944L 3.5 9ZM 0.488094 3.56944L 3.98809 0.569442L 3.01191 -0.569442L -0.488094 2.43056L 0.488094 3.56944ZM 3.01191 0.569442L 6.51191 3.56944L 7.48809 2.43056L 3.98809 -0.569442L 3.01191 0.569442ZM -0.488094 6.56944L 3.01191 9.56944L 3.98809 8.43056L 0.488094 5.43056L -0.488094 6.56944ZM 3.98809 9.56944L 7.48809 6.56944L 6.51191 5.43056L 3.01191 8.43056L 3.98809 9.56944Z"})},eyeHide:{className:"eyeHide",viewBox:"0 0 30 20",svg:r.a.createElement("path",{d:"M20.9297 18.416C21.2227 18.7188 21.6914 18.7383 21.9941 18.416C22.3066 18.0938 22.2871 17.6543 21.9941 17.3516L5.66602 1.0332C5.37305 0.740234 4.88477 0.740234 4.5918 1.0332C4.30859 1.31641 4.30859 1.81445 4.5918 2.09766L20.9297 18.416ZM21.8574 15.5938C24.709 13.709 26.5742 11.1211 26.5742 9.95898C26.5742 7.97656 21.1543 1.6582 13.3418 1.6582C11.6816 1.6582 10.1191 1.94141 8.70312 2.41016L11.2422 4.94922C11.8867 4.67578 12.5898 4.51953 13.3418 4.51953C16.3594 4.51953 18.8008 6.91211 18.8008 9.95898C18.8008 10.7012 18.6348 11.4141 18.3418 12.0391L21.8574 15.5938ZM13.3418 18.2598C15.1484 18.2598 16.8281 17.9277 18.3027 17.3809L15.7441 14.8223C15.0215 15.1934 14.2012 15.3984 13.3418 15.3984C10.2949 15.3984 7.88281 12.9277 7.87305 9.95898C7.87305 9.08008 8.07812 8.25 8.43945 7.51758L5.09961 4.1582C2.02344 6.08203 0.0996094 8.78711 0.0996094 9.95898C0.0996094 11.9316 5.61719 18.2598 13.3418 18.2598ZM16.4473 9.75391C16.4473 8.04492 15.0703 6.6582 13.3418 6.6582C13.2148 6.6582 13.0879 6.66797 12.9707 6.67773L16.4277 10.1348C16.4375 10.0176 16.4473 9.88086 16.4473 9.75391ZM10.2266 9.73438C10.2266 11.4531 11.6426 12.8398 13.3516 12.8398C13.4883 12.8398 13.6152 12.8301 13.752 12.8203L10.2461 9.31445C10.2363 9.45117 10.2266 9.59766 10.2266 9.73438Z"})},eyeHideThin:{className:"eyeHideThin",viewBox:"0 0 20 14",svg:r.a.createElement("path",{d:"M15.05 12.991a.505.505 0 00.746 0 .516.516 0 000-.745L4.366.823a.536.536 0 00-.752 0 .541.541 0 000 .745l11.437 11.423zM9.74 1.213c-1.19 0-2.27.205-3.275.54l.902.895a8.123 8.123 0 012.372-.355c4.498 0 8.142 3.965 8.142 4.778 0 .554-1.196 2.044-3.09 3.206l.84.841c2.161-1.401 3.446-3.24 3.446-4.047 0-1.401-3.814-5.858-9.338-5.858zm0 11.717a10.72 10.72 0 003.492-.588l-.895-.896a8.684 8.684 0 01-2.598.404c-4.505 0-8.148-3.815-8.148-4.779C1.59 6.593 2.855 5 4.872 3.79l-.848-.848C1.748 4.351.394 6.244.394 7.072c0 1.394 3.89 5.858 9.345 5.858zm3.506-4.362c.212-.458.328-.97.328-1.497A3.81 3.81 0 009.74 3.243a3.77 3.77 0 00-1.504.315l5.011 5.01zM9.74 10.9c.602 0 1.17-.15 1.675-.396L6.287 5.376a3.775 3.775 0 00-.396 1.695A3.853 3.853 0 009.739 10.9z"})},feedback:{className:"feedback",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M1.082 5.867c0 2.92 2.454 5.804 6.269 8.265.212.137.471.273.649.273.178 0 .438-.136.65-.273 3.82-2.461 6.268-5.346 6.268-8.265 0-2.522-1.743-4.272-3.978-4.272-1.306 0-2.325.594-2.94 1.497-.602-.896-1.627-1.497-2.933-1.497-2.242 0-3.985 1.75-3.985 4.272zM2.49 5.86c0-1.722 1.135-2.891 2.66-2.891 1.23 0 1.92.745 2.351 1.394.191.28.321.37.499.37.185 0 .3-.096.499-.37.465-.635 1.128-1.394 2.352-1.394 1.53 0 2.666 1.169 2.666 2.891 0 2.407-2.502 5.073-5.387 6.987-.062.04-.103.068-.13.068-.027 0-.068-.027-.123-.068C4.992 10.933 2.49 8.267 2.49 5.86z"})},file:{className:"file",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M22,8v12c0,3.866-3.134,7-7,7s-7-3.134-7-7V8c0-2.762,2.238-5,5-5s5,2.238,5,5v12c0,1.657-1.343,3-3,3s-3-1.343-3-3V8h-2v12c0,2.762,2.238,5,5,5s5-2.238,5-5V8c0-3.866-3.134-7-7-7S6,4.134,6,8v12c0,4.971,4.029,9,9,9s9-4.029,9-9V8H22z"})},filter:{className:"filter",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M2,8 L2,10 L28,10 L28,8 L2,8 Z M10,20 L10,22 L20,22 L20,20 L10,20 Z M6,16 L24,16 L24,14 L6,14 L6,16 Z"})},filterCircled:{className:"filterCircled",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M8.06836 15.1436C11.9443 15.1436 15.1436 11.9443 15.1436 8.0752C15.1436 4.19922 11.9375 1 8.06152 1C4.19238 1 1 4.19922 1 8.0752C1 11.9443 4.19922 15.1436 8.06836 15.1436ZM8.06836 13.7285C4.93066 13.7285 2.42188 11.2061 2.42188 8.0752C2.42188 4.9375 4.93066 2.41504 8.06152 2.41504C11.1992 2.41504 13.7217 4.9375 13.7285 8.0752C13.7354 11.2061 11.2061 13.7285 8.06836 13.7285ZM4.50684 6.81738H11.6436C11.9854 6.81738 12.2246 6.59863 12.2246 6.27734C12.2246 5.94922 11.9854 5.73047 11.6436 5.73047H4.50684C4.1582 5.73047 3.91895 5.94922 3.91895 6.27734C3.91895 6.59863 4.1582 6.81738 4.50684 6.81738ZM5.44336 9.05273H10.707C11.042 9.05273 11.2881 8.84082 11.2881 8.5127C11.2881 8.19141 11.042 7.97266 10.707 7.97266H5.44336C5.10156 7.97266 4.8623 8.19141 4.8623 8.5127C4.8623 8.84082 5.10156 9.05273 5.44336 9.05273ZM6.4209 11.3018H9.72949C10.0713 11.3018 10.3105 11.083 10.3105 10.7617C10.3105 10.4336 10.0713 10.2148 9.72949 10.2148H6.4209C6.0791 10.2148 5.83984 10.4336 5.83984 10.7617C5.83984 11.083 6.0791 11.3018 6.4209 11.3018Z"})},fullscreen:{className:"fullscreen",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M19,3v2h4.6L17,11.6l1.4,1.4L25,6.4V11h2V3H19z M11,5V3H3v8h2V6.4l6.6,6.6l1.4-1.4L6.4,5H11z M11.6,17L5,23.6V19H3v8h8v-2 H6.4l6.6-6.6L11.6,17z M25,23.6L18.4,17L17,18.4l6.6,6.6H19v2h8v-8h-2V23.6z"})},gift:{className:"gift",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M7.95789 3.54464C8.00247 3.30845 8.16614 2.97748 8.48043 2.66319C8.84104 2.30258 9.38851 1.92751 9.87755 1.74943C10.1088 1.66523 10.237 1.65112 10.2972 1.65266C10.6256 1.99575 10.8618 2.39413 10.9488 2.70912C10.9917 2.86422 10.9849 2.94927 10.9797 2.97718L10.9792 2.98003C10.9777 2.9894 10.9767 2.99539 10.9553 3.01675C10.5461 3.42596 10.0755 3.57832 9.4321 3.60836C9.09223 3.62423 8.7328 3.60413 8.31688 3.57258C8.25969 3.56824 8.20022 3.56356 8.13892 3.55874L7.95789 3.54464ZM6.97082 2.14136C7.10128 1.95114 7.25234 1.76996 7.41977 1.60253C8.39608 0.626221 10.3325 -0.434439 11.3089 0.541871C12.2852 1.51818 12.9923 3.10109 12.016 4.07741C11.4993 4.59409 10.9264 4.86563 10.3362 4.99913H14V7.99913H13H8V5.05253C7.65076 5.02523 7.31443 4.99913 7.00006 4.99913C6.99017 4.98924 6.98043 4.9793 6.97082 4.96932C6.96122 4.9793 6.95148 4.98924 6.94159 4.99913C6.64476 4.99913 6.32836 5.0224 6 5.04797V7.99913H1H0V4.99913H3.60548C3.01529 4.86563 2.44237 4.59409 1.92569 4.07741C0.949377 3.10109 1.65648 1.51818 2.6328 0.541871C3.60911 -0.434439 5.54557 0.626221 6.52188 1.60253C6.68931 1.76996 6.84037 1.95114 6.97082 2.14136ZM10.3411 1.66021C10.3418 1.65908 10.3348 1.65588 10.3179 1.65399C10.3319 1.6604 10.3404 1.66134 10.3411 1.66021ZM1 8.99913V13.9991H6V8.99913H1ZM8 8.99913V13.9991H13V8.99913H8ZM5.46122 2.66319C5.77551 2.97748 5.93918 3.30845 5.98376 3.54464L5.80273 3.55874C5.74143 3.56356 5.68196 3.56824 5.62477 3.57258C5.20886 3.60413 4.84942 3.62423 4.50955 3.60836C3.86611 3.57832 3.39557 3.42596 2.98635 3.01675C2.965 2.99539 2.96399 2.9894 2.96241 2.98003L2.96191 2.97718C2.95674 2.94927 2.94998 2.86422 2.99284 2.70912C3.07987 2.39413 3.31602 1.99575 3.64441 1.65266C3.70469 1.65112 3.83287 1.66523 4.0641 1.74943C4.55314 1.92751 5.10061 2.30258 5.46122 2.66319ZM3.60056 1.66021C3.59983 1.65908 3.60685 1.65588 3.6238 1.65399C3.60977 1.6604 3.60129 1.66134 3.60056 1.66021Z"})},globe:{className:"globe",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M8,0C3.582,0,0,3.582,0,8s3.582,8,8,8s8-3.582,8-8S12.418,0,8,0z M8,7L7.938,8h-1L7,7H5v2h1l1,1c0.313-0.333,1.021-1,2-1h1 l1,0.229C11.86,9.437,12.513,9.75,13,10v1l-0.938,1.407C10.993,13.393,9.569,14,8,14v-1l-1-1v-1l-2-1C4.018,9.547,3.25,8.938,3,8 L2.785,6c0-0.187,0.435-0.867,0.55-1L3.278,4.307C4.18,3.154,5.494,2.343,7,2.09V3.5L8,4c0.3,0,0.609-0.045,1-0.417 C9.382,3.22,9.719,3,10,3c0.698,0,1,0.208,1,1l-0.5,1h-0.311C9.612,5.279,9.261,5.506,9,6C8.749,6.475,8.475,6.773,8,7z M13,8 c-0.417-0.25-0.771-0.583-1-1V6l0.797-1.593C13.549,5.409,14,6.65,14,8c0,0.165-0.012,0.326-0.025,0.488L13,8z"})},globe2:{className:"globe2",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M7.003 13C10.286 13 13 10.286 13 7.003 13 3.714 10.286 1 6.997 1 3.714 1 1 3.714 1 7.003 1 10.286 3.72 13 7.003 13zM5.29 4.04c.344-.883.824-1.523 1.346-1.73v1.866c-.48-.012-.93-.059-1.346-.136zm2.074-1.73c.522.207 1.002.847 1.346 1.73a8.537 8.537 0 01-1.346.136V2.31zm1.34.225a4.77 4.77 0 011.57.99c-.243.13-.527.242-.835.337a5.229 5.229 0 00-.735-1.327zm-4.984.99c.45-.427.984-.765 1.576-.99a5.229 5.229 0 00-.735 1.327 4.98 4.98 0 01-.841-.338zm6.252 3.11a9.112 9.112 0 00-.314-2.097c.42-.13.794-.29 1.108-.474.563.717.918 1.6.995 2.572h-1.79zm-7.728 0a4.74 4.74 0 01.984-2.571c.314.183.693.343 1.114.474a9.112 9.112 0 00-.314 2.098H2.244zm2.525 0a8.8 8.8 0 01.296-1.914c.486.101 1.02.16 1.57.184v1.73H4.77zm2.595 0v-1.73a10.002 10.002 0 001.57-.184 8.8 8.8 0 01.297 1.915H7.364zM2.24 7.36h1.79c.023.77.135 1.487.307 2.127a4.99 4.99 0 00-1.09.468A4.794 4.794 0 012.239 7.36zm2.53 0h1.867v1.76a9.272 9.272 0 00-1.57.183 8.342 8.342 0 01-.297-1.943zm2.595 1.76v-1.76h1.867a9.02 9.02 0 01-.296 1.943 9.344 9.344 0 00-1.57-.183zm2.294.367a9.01 9.01 0 00.314-2.127h1.79a4.742 4.742 0 01-1.002 2.595 5.098 5.098 0 00-1.102-.468zm-2.294.361c.48.012.93.06 1.346.137-.344.877-.824 1.523-1.346 1.73V9.847zm-2.074.137a8.537 8.537 0 011.346-.137v1.867c-.522-.207-1.002-.853-1.346-1.73zm4.149.172c.302.094.58.207.83.337a4.736 4.736 0 01-1.542.966c.273-.355.516-.794.712-1.303zm-5.701.337a4.78 4.78 0 01.823-.337c.196.503.433.942.706 1.297a4.767 4.767 0 01-1.53-.96z"})},groupBy:{className:"groupBy",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M2,14 L14,14 L14,2 L2,2 L2,14 Z M4,4 L12,4 L12,12 L4,12 L4,4 Z M2,28 L14,28 L14,16 L2,16 L2,28 Z M4,18 L12,18 L12,26 L4,26 L4,18 Z M16,2 L16,28 L28,28 L28,2 L16,2 Z M26,26 L18,26 L18,4 L26,4 L26,26 Z"})},hamburgerMenu:{className:"hamburgerMenu",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M0,1.25 L14,1.25 L14,2.75 L0,2.75 L0,1.25 Z M0,6.25 L14,6.25 L14,7.75 L0,7.75 L0,6.25 Z M0,11.25 L14,11.25 L14,12.75 L0,12.75 L0,11.25 Z"})},help:{className:"help",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M6.3,11.2 L6.3,9.8 L7.7,9.8 L7.7,11.2 L6.3,11.2 Z M7,0 C10.864,0 14,3.136 14,7 C14,10.864 10.864,14 7,14 C3.136,14 0,10.864 0,7 C0,3.136 3.136,0 7,0 Z M7,12.6 C10.087,12.6 12.6,10.087 12.6,7 C12.6,3.913 10.087,1.4 7,1.4 C3.913,1.4 1.4,3.913 1.4,7 C1.4,10.087 3.913,12.6 7,12.6 Z M7,2.8 C8.547,2.8 9.8,4.053 9.8,5.6 C9.8,7.35 7.7,7.525 7.7,9.1 L6.3,9.1 C6.3,6.825 8.4,7 8.4,5.6 C8.4,4.83 7.77,4.2 7,4.2 C6.23,4.2 5.6,4.83 5.6,5.6 L4.2,5.6 C4.2,4.053 5.453,2.8 7,2.8 Z"})},versionHistory:{className:"versionHistory",viewBox:"0 0 20 20",svg:r.a.createElement("path",{d:"M10 2.5C5.85833 2.5 2.5 5.85833 2.5 10H0L3.24167 13.2417L3.3 13.3583L6.66667 10H3.9C3.9 6.775 6.775 4 10 4C13.225 4 16.1 6.775 16.1 10C16.1 13.225 13.225 16.1 10 16.1C8.39167 16.1 6.65 15.2583 5.6 14.2L4.7 15.3C6.05833 16.6583 7.925 17.5 10 17.5C14.1417 17.5 17.5 14.1417 17.5 10C17.5 5.85833 14.1417 2.5 10 2.5ZM8.75 6.78571V10.5357L12.0312 13.2143L13.125 12.1429L10.3906 10V6.78571H8.75Z"})},versionHistoryThick:{className:"versionHistoryThick",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M0 7C0 3.136 3.129 0 6.993 0C10.864 0 14 3.136 14 7C14 10.864 10.864 14 6.993 14C3.129 14 0 10.864 0 7ZM1.4 7C1.4 10.094 3.906 12.6 7 12.6C10.094 12.6 12.6 10.094 12.6 7C12.6 3.906 10.094 1.4 7 1.4C3.906 1.4 1.4 3.906 1.4 7ZM6.3 3.5H7.35V7.175L10.5 9.044L9.975 9.905L6.3 7.7V3.5Z"})},historyBack:{className:"historyBack",viewBox:"0 0 14 14",svg:r.a.createElement("polygon",{points:"2.85893 7.74676 8.05608 12.9439 7 14 0.528042 7.52804 0 7 0.528042 6.47196 7 0 8.05608 1.05608 2.85893 6.25324 14 6.25324 14 7.74676"})},historyForward:{className:"historyForward",viewBox:"0 0 14 14",svg:r.a.createElement("polygon",{points:"11.14107 6.25324 5.94392 1.0561 7 0 13.471958 6.47196 14 7 13.471958 7.52804 7 14 5.94392 12.94392 11.14107 7.74676 0 7.74676 1.77635684e-15 6.25324"})},import:{className:"import",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M23.9999867,15 L22.5939933,13.5940067 L15.99996,20.18804 L15.99996,2 L14.00004,2 L14.00004,20.18804 L7.405998,13.5940067 L5.999996,15 L15,23.9999867 L23.9999867,15 Z M2,25.9999933 L2,28 L28,28 L28,25.9999933 L2,25.9999933 Z"})},key:{className:"key",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M14.757 4A5.724 5.724 0 009 9.748c0 2.364 1.389 4.456 3.586 5.335V23.6c0 .255.079.483.272.676l1.53 1.477a.578.578 0 00.808-.009l2.769-2.768a.598.598 0 000-.87l-1.591-1.574 2.232-2.232a.602.602 0 00-.017-.861l-2.171-2.18c2.628-1.116 4.087-3.13 4.087-5.511A5.733 5.733 0 0014.757 4zm0 5.344a1.55 1.55 0 01-1.547-1.547c0-.861.685-1.547 1.547-1.547a1.55 1.55 0 011.547 1.547 1.55 1.55 0 01-1.547 1.547z"})},teamSize:{className:"teamSize",viewBox:"0 0 20 20",svg:r.a.createElement("path",{d:"M7.333 14.667a4.667 4.667 0 1 0 0-9.334 4.667 4.667 0 0 0 0 9.334zm4.356-.548A5.977 5.977 0 0 1 7.333 16a5.977 5.977 0 0 1-4.355-1.881A7.295 7.295 0 0 0 0 20h14.667a7.296 7.296 0 0 0-2.978-5.881zm1.599-4.832a4.664 4.664 0 1 0-5.242-5.241 6.01 6.01 0 0 1 5.242 5.241zm.003 1.347a6.024 6.024 0 0 1-.794 2.414 8.571 8.571 0 0 1 1.656 1.619H20a7.296 7.296 0 0 0-2.978-5.882 5.983 5.983 0 0 1-3.731 1.849z"})},templates:{className:"templates",viewBox:"0 0 20 20",svg:r.a.createElement("g",null,r.a.createElement("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),r.a.createElement("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),r.a.createElement("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"}))},templatesColor:{className:"templatesColor",viewBox:"0 0 20 20",svg:r.a.createElement("g",null,r.a.createElement("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z",fill:"#3C9ED7"}),r.a.createElement("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z",fill:"#E7595E"}),r.a.createElement("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z",fill:"#F5BC4E"}))},link:{className:"link",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M2,12c0-3.309,2.691-6,6-6h8c3.309,0,6,2.691,6,6s-2.691,6-6,6h-6c0,0.736,0.223,1.41,0.574,2H16c4.418,0,8-3.582,8-8 c0-4.418-3.582-8-8-8H8c-4.418,0-8,3.582-8,8c0,2.98,1.634,5.575,4.051,6.951C4.021,18.638,4,18.321,4,18 c0-0.488,0.046-0.967,0.115-1.436C2.823,15.462,2,13.827,2,12z M25.953,11.051C25.984,11.363,26,11.68,26,12 c0,0.489-0.047,0.965-0.117,1.434C27.176,14.536,28,16.172,28,18c0,3.309-2.691,6-6,6h-8c-3.309,0-6-2.691-6-6s2.691-6,6-6h6 c0-0.731-0.199-1.413-0.545-2H14c-4.418,0-8,3.582-8,8c0,4.418,3.582,8,8,8h8c4.418,0,8-3.582,8-8 C30,15.021,28.368,12.428,25.953,11.051z"})},locked:{className:"locked",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M4.313 14.337h6.507c.882 0 1.313-.438 1.313-1.395V7.925c0-.862-.356-1.306-1.087-1.381V4.82C11.046 2.244 9.357 1 7.566 1c-1.79 0-3.48 1.244-3.48 3.821v1.757C3.418 6.681 3 7.118 3 7.925v5.017c0 .957.43 1.395 1.313 1.395zm.875-9.66c0-1.715 1.1-2.624 2.378-2.624 1.279 0 2.38.909 2.38 2.625v1.86l-4.758.006V4.678z"})},lockedThin:{className:"lockedThin",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M4.531 14.405h6.262c1.025 0 1.531-.512 1.531-1.627v-4.71c0-.97-.39-1.483-1.182-1.592V4.82C11.142 2.244 9.453 1 7.662 1c-1.79 0-3.48 1.244-3.48 3.821v1.655C3.39 6.585 3 7.098 3 8.068v4.71c0 1.115.506 1.627 1.531 1.627zm.752-9.727c0-1.716 1.1-2.625 2.38-2.625 1.277 0 2.378.909 2.378 2.625v1.777H5.283V4.678zm-.71 8.702c-.315 0-.472-.144-.472-.527V8c0-.383.157-.52.471-.52h6.187c.314 0 .465.137.465.52v4.854c0 .382-.15.526-.465.526H4.572z"})},unlocked:{className:"unlocked",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M2.313 14.337H8.82c.882 0 1.313-.438 1.313-1.395V7.925c0-.834-.335-1.279-1.012-1.374V4.678c0-1.716 1.1-2.625 2.379-2.625 1.278 0 2.372.909 2.372 2.625v1.517c0 .417.246.622.56.622.301 0 .54-.184.54-.622V4.821C14.973 2.244 13.285 1 11.5 1 9.709 1 8.02 2.244 8.02 4.821v1.716l-5.57.014C1.566 6.55 1 6.98 1 7.925v5.017c0 .957.43 1.395 1.313 1.395z"})},unlockedThin:{className:"unlockedThin",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M2.53809 14.4053H8.79297C9.81836 14.4053 10.3242 13.8926 10.3242 12.7783V8.06836C10.3242 7.125 9.96191 6.61914 9.2168 6.48926V4.67773C9.2168 2.96191 10.3174 2.05273 11.5957 2.05273C12.874 2.05273 13.9746 2.96191 13.9746 4.67773V6.19531C13.9746 6.6123 14.2139 6.81738 14.5283 6.81738C14.8291 6.81738 15.0752 6.63281 15.0752 6.19531V4.82129C15.0752 2.24414 13.3867 1 11.5957 1C9.80469 1 8.11621 2.24414 8.11621 4.82129V6.45508H2.53809C1.5127 6.45508 1 6.96094 1 8.06836V12.7783C1 13.8926 1.5127 14.4053 2.53809 14.4053ZM2.57227 13.3799C2.25781 13.3799 2.10059 13.2363 2.10059 12.8535V8C2.10059 7.61719 2.25781 7.48047 2.57227 7.48047H8.75879C9.08008 7.48047 9.22363 7.61719 9.22363 8V12.8535C9.22363 13.2363 9.08008 13.3799 8.75879 13.3799H2.57227Z"})},logout:{className:"logout",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M17,24l9-9l-9-9l-1.406,1.406L22.188,14H8v2h14.188l-6.594,6.594L17,24z M6,4h16V2H4v26h18v-2H6V4z"})},loop:{className:"loop",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M26,16c0,3.309-2.691,6-6,6H5.813l3.594-3.594L8,17l-6,6l6,6l1.406-1.406L5.813,24H20c4.4,0,8-3.6,8-8v-1h-2V16z M4,14 c0-3.309,2.691-6,6-6h14.188l-3.594,3.594L22,13l6-6l-6-6l-1.406,1.406L24.188,6H10c-4.4,0-8,3.6-8,8v1h2V14z"})},mail:{className:"mail",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M0,4v22h30V4H0z M17.591,16.33C16.137,17.753,15.819,18,15,18s-1.137-0.247-2.555-1.635L2,6h26L17.591,16.33z M2,8.814 l7.17,7.119L2,21.8V8.814z M2.445,24l8.141-6.661L11,17.75c1.438,1.406,2.281,2.25,4,2.25s2.563-0.844,4-2.25l0.414-0.411L27.555,24 H2.445z M28,21.8l-7.17-5.867L28,8.814V21.8z"})},menu:{className:"menu",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M2,4v2h26V4H2z M2,16h26v-2H2V16z M2,26h26v-2H2V26z"})},moveTo:{className:"moveTo",viewBox:"0 0 30 30",svg:r.a.createElement("polygon",{points:"7 26 7 9 25.188 9 21.594 12.594 23 14 29 8 23 2 21.594 3.406 25.188 7 5 7 5 26"})},noDate:{className:"noDate",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M24,2 L6,2 L2,16 L2,28 L28,28 L28,16 L24,2 Z M7.509,4 L22.491,4 L25.92,16 L19,16 C19,18.209 17.209,20 15,20 C12.791,20 11,18.209 11,16 L4.08,16 L7.509,4 Z M4,26 L4,18 L9.349,18 C10.174,20.329 12.389,22 15,22 C17.611,22 19.827,20.329 20.651,18 L26,18 L26,26 L4,26 Z"})},openAsPage:{className:"openAsPage",viewBox:"0 0 30 30",svg:r.a.createElement("polygon",{points:"7.64594562 23.4667527 23.4674599 7.64523852 23.4674599 12.7279221 25.4558441 12.7279221 25.4558441 4.24264069 16.9705627 4.24264069 16.9705627 6.23102496 22.0532463 6.23102496 6.23173206 22.0525392 6.23102496 16.9705627 4.24264069 16.9705627 4.24264069 25.4558441 12.7279221 25.4558441 12.7279221 23.4674599"})},openAsPageThick:{className:"openAsPageThick",viewBox:"0 0 14 14",svg:r.a.createElement("polygon",{points:"9.13029 3.66667 3.66667 9.13029 3.66667 7 2 7 2 12 7 12 7 10.3333 4.82065 10.3333 10.3333 4.82065 10.3333 7 12 7 12 2 7 2 7 3.66667"})},mention:{className:"mention",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M6.78726 4.98561C7.77767 4.98561 8.39878 5.78297 8.39878 7.05875C8.39878 8.33453 7.76928 9.13189 6.77887 9.13189C5.82204 9.13189 5.23451 8.35132 5.23451 7.05875C5.23451 5.75779 5.81364 4.98561 6.78726 4.98561ZM7.07264 0C2.90117 0 0.0390625 2.85372 0.0390625 7.00839C0.0390625 11.247 2.85921 14 7.21532 14C8.16376 14 9.07863 13.8741 9.77527 13.6643V12.4053C9.28846 12.5983 8.28966 12.7326 7.29925 12.7326C3.72371 12.7326 1.44913 10.5252 1.44913 7.05036C1.44913 3.64269 3.7405 1.2506 6.9971 1.2506C10.2453 1.2506 12.4192 3.26499 12.4192 6.30336C12.4192 8.13309 11.8316 9.30815 10.9 9.30815C10.3544 9.30815 10.0439 8.96403 10.0439 8.36811V3.74341H8.50789V4.75899H8.35681C8.02947 4.01199 7.29086 3.56715 6.40117 3.56715C4.70573 3.56715 3.53906 4.97722 3.53906 7.01679C3.53906 9.14029 4.70573 10.5671 6.45153 10.5671C7.42515 10.5671 8.13858 10.1139 8.4911 9.25779H8.64218C8.79326 10.0719 9.55705 10.6091 10.581 10.6091C12.5786 10.6091 13.8292 8.91367 13.8292 6.21942C13.8292 2.53477 11.0762 0 7.07264 0Z"})},page:{className:"page",viewBox:"0 0 30 30",svg:r.a.createElement("g",null," ",r.a.createElement("path",{d:"M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z"})," ")},pageEmpty:{className:"pageEmpty",viewBox:"0 0 30 30",svg:r.a.createElement("g",null," ",r.a.createElement("path",{d:"M16,1H4v28h22V11L16,1z M23.172,11H16V3.828L23.172,11z M24,27H6V3h8v10h10V27z"})," ")},paperAirplane:{className:"paperAirplane",viewBox:"0 0 34 34",svg:r.a.createElement("path",{d:"M19.6719 32.7188C20.6406 32.7188 21.3125 31.9375 21.8281 30.625L32.2188 3.45312C32.4375 2.875 32.5625 2.375 32.5625 1.9375C32.5625 1.07812 32.0312 0.546875 31.1719 0.546875C30.7344 0.546875 30.2344 0.671875 29.6562 0.890625L2.39062 11.3281C1.20312 11.7812 0.390625 12.4688 0.390625 13.4375C0.390625 14.625 1.26562 15.0781 2.64062 15.4844L14.2344 18.875L17.5938 30.375C18.0156 31.7969 18.4688 32.7188 19.6719 32.7188ZM14.7812 17.0469L3.51562 13.6719C3.0625 13.5469 2.95312 13.4375 2.95312 13.2812C2.95312 13.125 3.0625 13 3.4375 12.8594L26.6562 4.03125C27.6094 3.67188 28.5469 3.20312 29.375 2.82812C28.6094 3.4375 27.5156 4.29688 26.9062 4.90625L14.7812 17.0469ZM19.8281 30.1719C19.6719 30.1719 19.5625 30.0469 19.4375 29.6094L16.0625 18.3438L28.2031 6.20312C28.8125 5.60938 29.6875 4.5 30.3125 3.70312C29.9219 4.54688 29.4531 5.48438 29.0781 6.45312L20.25 29.6719C20.1094 30.0469 20 30.1719 19.8281 30.1719Z"})},pin:{className:"pin",viewBox:"0 0 13 19",svg:r.a.createElement("path",{d:"M1.25 12.875h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.304-3.359-4.109L8.617 4c.992-.648 1.93-1.383 2.328-1.914.211-.266.305-.531.305-.758 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .227.093.492.297.758.398.531 1.343 1.266 2.328 1.914L3.46 7.664C1.42 8.47.1 10.125.1 11.774c0 .664.446 1.101 1.149 1.101zm4.922-5.719c-.5 0-.984.047-1.438.14l.235-3.874c.008-.11-.008-.149-.086-.188-1.172-.601-2.078-1.312-2.14-1.468-.063-.102 0-.164.085-.164h6.68c.086 0 .148.062.086.164-.063.156-.969.867-2.14 1.468-.071.04-.095.079-.079.188l.234 3.875a7.177 7.177 0 00-1.437-.14zm-4.61 4.54c-.18 0-.257-.102-.226-.313.172-1.406 1.969-3.086 4.836-3.086 2.86 0 4.656 1.68 4.828 3.086.031.21-.047.312-.227.312h-9.21z"})},pinFilled:{className:"pinFilled",viewBox:"0 0 13 19",svg:r.a.createElement("path",{d:"M.102 11.773c0 .665.445 1.102 1.148 1.102h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.39-3.515-4.187L8.46 4c1.14-.648 2.078-1.383 2.484-1.906.203-.266.305-.531.305-.766 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .234.093.5.297.766.406.523 1.343 1.258 2.484 1.906l-.258 3.586C1.422 8.383.102 10.125.102 11.773z"})},pinStrikethrough:{className:"pinStrikethrough",viewBox:"0 0 13 19",svg:r.a.createElement("path",{d:"M3.094 1.328c0 .227.094.492.297.758.398.531 1.343 1.266 2.328 1.914l-.055.86 1.149 1.156.156-2.594c.008-.11-.008-.149-.086-.188-1.172-.601-2.078-1.312-2.14-1.468-.063-.102.007-.164.085-.164h6.68c.086 0 .148.062.086.164-.063.156-.961.867-2.14 1.468-.071.04-.087.079-.079.188l.234 3.875a7.12 7.12 0 00-1.437-.14h-.203l1.203 1.226c2.164.219 3.758 1.984 3.758 3.234 0 .04-.008.078-.008.117l.844.97c.257-.157.468-.477.468-.93 0-1.649-1.32-3.313-3.359-4.11L10.617 4c.992-.648 1.93-1.383 2.336-1.914.203-.266.297-.531.297-.758 0-.476-.367-.828-.914-.828H4.008c-.555 0-.914.352-.914.828zM.367 2.656l14.125 14.11a.603.603 0 00.852 0 .597.597 0 000-.852L1.227 1.804a.606.606 0 00-.86 0 .618.618 0 000 .852zm1.735 9.117c0 .665.445 1.102 1.148 1.102h4.234v3.648c0 1.196.493 2.188.688 2.188.195 0 .687-.992.687-2.188V12.97h.446L8.03 11.695H3.562c-.171 0-.257-.101-.226-.312.094-.875.828-1.805 1.984-2.399l-.82-.82c-1.477.867-2.398 2.234-2.398 3.61z"})},pdf:{className:"pdf",viewBox:"0 0 42 42",svg:r.a.createElement("path",{d:"M6,3 L36,3 C37.6569,3 39,4.34326 39,6 L39,36 C39,37.6567 37.6569,39 36,39 L6,39 C4.34314,39 3,37.6567 3,36 L3,6 C3,4.34326 4.34314,3 6,3 Z M12.3916324,17.6692964 C12.6740492,17.8831067 12.8153869,18.2406755 12.8153869,18.7423682 C12.8153869,19.2441828 12.6740492,19.6106452 12.3916324,19.8417552 C12.1138709,20.0728653 11.7225736,20.188603 11.21787,20.188603 L9.22452987,20.188603 L9.22452987,17.3486418 L11.21787,17.3486418 C11.7225736,17.3486418 12.1138709,17.4553642 12.3916324,17.6692964 Z M14.0168221,21.143866 C14.6280786,20.6727524 14.9336421,19.8679485 14.9336421,18.7293325 C14.9336421,17.6868398 14.6280786,16.9167572 14.0168221,16.4194503 C13.4056949,15.9221434 12.5861173,15.6734899 11.5582184,15.6734899 L7.09921423,15.6734899 L7.09921423,25.3187101 L9.22452987,25.3187101 L9.22452987,21.8505974 L11.3983891,21.8505974 C12.5328408,21.8505974 13.4056949,21.6151015 14.0168221,21.143866 Z M19.3259732,23.6435582 L19.3259732,17.3486418 L21.2984941,17.3486418 C22.2709182,17.3486418 22.9191579,17.6125239 23.243213,18.14041 C23.5719234,18.6639102 23.7364079,19.4164494 23.7364079,20.3979056 C23.7364079,21.1091447 23.6275275,21.7218239 23.4098958,22.2366742 C23.0117451,23.1745156 22.3079014,23.6435582 21.2984941,23.6435582 L19.3259732,23.6435582 Z M23.243213,15.8829144 C22.8219155,15.7520698 22.294065,15.6821398 21.6596618,15.6734899 L17.2493564,15.6734899 L17.2493564,25.3187101 L21.6596618,25.3187101 C23.2062299,25.3187101 24.3498627,24.718823 25.0906895,23.5191705 C25.6371608,22.6293298 25.9102672,21.5431004 25.9102672,20.2604823 C25.9102672,19.7546473 25.845482,19.2221317 25.7157824,18.6639102 C25.586212,18.1055668 25.343106,17.5863307 24.9865936,17.1065672 C24.5420199,16.513137 23.9608931,16.1053745 23.243213,15.8829144 Z M35.4978258,15.6865256 L28.2398178,15.6865256 L28.2398178,25.3187101 L30.3650558,25.3187101 L30.3650558,21.2748324 L34.8587673,21.2748324 L34.8587673,19.5996805 L30.3650558,19.5996805 L30.3650558,17.3814139 L35.4978258,17.3814139 L35.4978258,15.6865256 Z"})},pencil:{className:"pencil",viewBox:"0 0 26 26",svg:r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 0c-1.141 0-2.55.45-3.55 1.45L1 17.9 0 26l8.1-1L24.55 8.551C25.606 7.495 26 6.064 26 5a5 5 0 00-5-5zM6.9 20.5L20.5 6.9l1.436 1.436-13.6 13.6L6.9 20.5zm-2.836-2.836L5.5 19.1 19.1 5.5l-1.436-1.436-13.6 13.6zm-1.215 1.584l3.902 3.903-4.452.55.55-4.453zM19.09 2.689l4.221 4.221C23.802 6.295 24 5.523 24 5c0-1.654-1.346-3-3-3-.522 0-1.295.198-1.91.689z"})},person:{className:"person",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M7.7832 8.00195C9.27344 8.00195 10.5381 6.67578 10.5381 4.95996C10.5381 3.28516 9.2666 2 7.7832 2C6.29297 2 5.01465 3.30566 5.02148 4.97363C5.02148 6.67578 6.28613 8.00195 7.7832 8.00195ZM3.51758 14.3594H12.0352C13.1631 14.3594 13.5527 14.0176 13.5527 13.3887C13.5527 11.6318 11.3242 9.21191 7.77637 9.21191C4.23535 9.21191 2 11.6318 2 13.3887C2 14.0176 2.38965 14.3594 3.51758 14.3594Z"})},plus:{className:"plus",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M7.977 14.963c.407 0 .747-.324.747-.723V8.72h5.362c.399 0 .74-.34.74-.747a.746.746 0 00-.74-.738H8.724V1.706c0-.398-.34-.722-.747-.722a.732.732 0 00-.739.722v5.529h-5.37a.746.746 0 00-.74.738c0 .407.341.747.74.747h5.37v5.52c0 .399.332.723.739.723z"})},properties:{className:"properties",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M2,8 L8,8 L8,2 L2,2 L2,8 Z M4,4 L6,4 L6,6 L4,6 L4,4 Z M10,4 L10,6 L28,6 L28,4 L10,4 Z M2,18 L8,18 L8,12 L2,12 L2,18 Z M4,14 L6,14 L6,16 L4,16 L4,14 Z M10,16 L28,16 L28,14 L10,14 L10,16 Z M2,28 L8,28 L8,22 L2,22 L2,28 Z M4,24 L6,24 L6,26 L4,26 L4,24 Z M10,26 L28,26 L28,24 L10,24 L10,26 Z"})},replace:{className:"replace",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M11,9H5.798C7.76,5.994,11.143,4,15,4c6.075,0,11,4.925,11,11h2c0-7.18-5.82-13-13-13C10.977,2,7.384,3.83,5,6.701V3H3v8h8 V9z M19,21h5.202c-1.962,3.006-5.345,5-9.202,5C8.925,26,4,21.075,4,15H2c0,7.18,5.82,13,13,13c4.023,0,7.616-1.83,10-4.701V27h2v-8 h-8V21z"})},searchInPage:{className:"searchInPage",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M4.22852 14.7666H8.11133C7.70117 14.3918 7.37988 13.9216 7.18848 13.4037H4.35156C3.69531 13.4037 3.36719 13.0698 3.36719 12.4429V2.33049C3.36719 1.71039 3.69531 1.35605 4.35156 1.35605H11.3994C12.0352 1.35605 12.3838 1.70358 12.3838 2.33049V8.21806C12.9033 8.40886 13.375 8.72913 13.7441 9.13799V2.24191C13.7441 0.763203 12.9854 0 11.5156 0H4.22852C2.76562 0 2 0.770017 2 2.24191V12.5179C2 13.9966 2.76562 14.7666 4.22852 14.7666ZM5.38379 4.12947H10.374C10.6201 4.12947 10.8047 3.93867 10.8047 3.69336C10.8047 3.45486 10.6201 3.27087 10.374 3.27087H5.38379C5.13086 3.27087 4.94629 3.45486 4.94629 3.69336C4.94629 3.93867 5.13086 4.12947 5.38379 4.12947ZM5.38379 6.45315H10.374C10.6201 6.45315 10.8047 6.26235 10.8047 6.01704C10.8047 5.77853 10.6201 5.59455 10.374 5.59455H5.38379C5.13086 5.59455 4.94629 5.77853 4.94629 6.01704C4.94629 6.26235 5.13086 6.45315 5.38379 6.45315ZM10.7432 14.7666C11.3242 14.7666 11.8643 14.6031 12.3223 14.3169L13.7783 15.7683C13.9424 15.9319 14.1064 16 14.3047 16C14.6533 16 14.9199 15.7274 14.9199 15.3458C14.9199 15.1823 14.8447 15.0187 14.7148 14.8893L13.252 13.4242C13.5664 12.9472 13.751 12.3816 13.751 11.7683C13.751 10.1124 12.4043 8.77002 10.7432 8.77002C9.08887 8.77002 7.73535 10.1193 7.73535 11.7683C7.73535 13.4174 9.08887 14.7666 10.7432 14.7666ZM10.7432 13.724C9.65625 13.724 8.77441 12.8518 8.77441 11.7683C8.77441 10.6985 9.65625 9.81261 10.7432 9.81261C11.8164 9.81261 12.6982 10.6985 12.6982 11.7683C12.6982 12.8518 11.8232 13.724 10.7432 13.724Z"})},searchThick:{className:"searchNew",viewBox:"0 0 17 17",svg:r.a.createElement("path",{d:"M6.78027 13.6729C8.24805 13.6729 9.60156 13.1982 10.709 12.4072L14.875 16.5732C15.0684 16.7666 15.3232 16.8633 15.5957 16.8633C16.167 16.8633 16.5713 16.4238 16.5713 15.8613C16.5713 15.5977 16.4834 15.3516 16.29 15.1582L12.1504 11.0098C13.0205 9.86719 13.5391 8.45215 13.5391 6.91406C13.5391 3.19629 10.498 0.155273 6.78027 0.155273C3.0625 0.155273 0.0214844 3.19629 0.0214844 6.91406C0.0214844 10.6318 3.0625 13.6729 6.78027 13.6729ZM6.78027 12.2139C3.87988 12.2139 1.48047 9.81445 1.48047 6.91406C1.48047 4.01367 3.87988 1.61426 6.78027 1.61426C9.68066 1.61426 12.0801 4.01367 12.0801 6.91406C12.0801 9.81445 9.68066 12.2139 6.78027 12.2139Z"})},settings:{className:"settings",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M30,18v-6h-4.425c-0.235-0.831-0.561-1.622-0.974-2.36l3.126-3.126l-4.242-4.243l-3.127,3.126 C19.621,4.985,18.83,4.66,18,4.425V0h-6v4.425c-0.83,0.235-1.621,0.561-2.358,0.973L6.515,2.271L2.272,6.514L5.398,9.64 C4.985,10.378,4.66,11.169,4.425,12H0v6h4.425c0.235,0.83,0.561,1.621,0.973,2.358l-3.126,3.126l4.243,4.242l3.125-3.125 c0.738,0.413,1.53,0.738,2.36,0.974V30h6v-4.425c0.83-0.235,1.622-0.561,2.36-0.974l3.125,3.125l4.243-4.242l-3.126-3.126 c0.412-0.737,0.737-1.528,0.973-2.358H30z M24.9,23.484l-1.415,1.414l-2.874-2.873c-1.295,1.035-2.878,1.723-4.611,1.916V28h-2 v-4.059c-1.733-0.193-3.316-0.881-4.611-1.916l-2.874,2.873L5.1,23.484l2.875-2.875C6.938,19.315,6.252,17.732,6.059,16H2v-2h4.059 c0.193-1.733,0.881-3.317,1.917-4.611L5.101,6.514L6.515,5.1L9.39,7.975c1.295-1.036,2.878-1.723,4.61-1.916V2h2v4.059 c1.732,0.192,3.315,0.879,4.61,1.916L23.485,5.1l1.414,1.414l-2.875,2.875c1.036,1.294,1.724,2.878,1.917,4.611H28v2h-4.059 c-0.193,1.732-0.88,3.315-1.916,4.609L24.9,23.484z M15,10c-2.762,0-5,2.239-5,5c0,2.762,2.238,5,5,5s5-2.238,5-5 C20,12.239,17.762,10,15,10z M15,18c-1.657,0-3-1.344-3-3c0-1.657,1.343-3,3-3s3,1.343,3,3C18,16.656,16.657,18,15,18z"})},showDeletedPages:{className:"showDeletedPages",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M3,3 L5,3 L5,6.701 C7.384,3.83 10.977,2 15,2 C22.18,2 28,7.82 28,15 C28,22.18 22.18,28 15,28 C7.82,28 2,22.18 2,15 L4,15 C4,21.075 8.925,26 15,26 C21.075,26 26,21.075 26,15 C26,8.925 21.075,4 15,4 C11.142,4 7.76,5.994 5.798,9 L11,9 L11,11 L3,11 L3,3 Z"})},random:{className:"random",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M9.45002,6.2999567 C8.87013,6.2999567 8.40002,5.8298565 8.40002,5.24995625 C8.40002,4.670056 8.87013,4.1999558 9.45002,4.1999558 C10.0299,4.1999558 10.5,4.670056 10.5,5.24995625 C10.5,5.8298565 10.0299,6.2999567 9.45002,6.2999567 Z M4.55,6.2999567 C3.9701,6.2999567 3.5,5.8298565 3.5,5.24995625 C3.5,4.670056 3.9701,4.1999558 4.55,4.1999558 C5.1299,4.1999558 5.6,4.670056 5.6,5.24995625 C5.6,5.8298565 5.1299,6.2999567 4.55,6.2999567 Z M6.993,0 C10.864,0 14,3.13600534 14,7.000007 C14,10.8639987 10.864,14 6.993,14 C3.129,14 0,10.8639987 0,7.000007 C0,3.13600534 3.129,0 6.993,0 Z M7,12.5999994 C10.094,12.5999994 12.6,10.0939983 12.6,7.000007 C12.6,3.90600567 10.094,1.4000046 7,1.4000046 C3.906,1.4000046 1.4,3.90600567 1.4,7.000007 C1.4,10.0939983 3.906,12.5999994 7,12.5999994 Z M7,10.8499986 C5.369,10.8499986 3.976,9.83499821 3.416,8.4000076 L4.585,8.4000076 C5.075,9.23299796 5.964,9.7999982 7,9.7999982 C8.036,9.7999982 8.932,9.23299796 9.415,8.4000076 L10.584,8.4000076 C10.024,9.83499821 8.631,10.8499986 7,10.8499986 Z"})},sort:{className:"sort",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M17.406,21.594 L16,23 L22,29 L28,23 L26.594,21.594 L23,25.188 L23,5 L21,5 L21,25.188 L17.406,21.594 Z M12.594,8.406 L14,7 L8,1 L2,7 L3.406,8.406 L7,4.812 L7,25 L9,25 L9,4.812 L12.594,8.406 Z"})},speechBubble:{className:"speechBubble",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M4.32 15.424c.39 0 .677-.192 1.149-.609l2.344-2.064h4.116c2.057 0 3.213-1.19 3.213-3.22V4.22c0-2.03-1.156-3.22-3.213-3.22H3.213C1.163 1 0 2.19 0 4.22V9.53c0 2.037 1.196 3.22 3.165 3.22h.28v1.675c0 .608.322.998.875.998zm.342-1.531v-1.949c0-.403-.178-.56-.56-.56H3.26c-1.285 0-1.9-.65-1.9-1.894V4.26c0-1.243.615-1.893 1.9-1.893h8.627c1.278 0 1.893.65 1.893 1.894v5.23c0 1.243-.615 1.893-1.893 1.893h-4.15c-.417 0-.622.068-.909.369l-2.167 2.14z"})},speechBubbleThick:{className:"speechBubbleThick",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M4.32 15.424c.39 0 .677-.192 1.149-.609l2.344-2.064h4.116c2.057 0 3.213-1.19 3.213-3.22V4.22c0-2.03-1.156-3.22-3.213-3.22H3.213C1.163 1 0 2.19 0 4.22V9.53c0 2.037 1.196 3.22 3.165 3.22h.28v1.675c0 .608.322.998.875.998zm.342-1.531v-1.949c0-.403-.178-.56-.56-.56H3.26c-1.285 0-1.9-.65-1.9-1.894V4.26c0-1.243.615-1.893 1.9-1.893h8.627c1.278 0 1.893.65 1.893 1.894v5.23c0 1.243-.615 1.893-1.893 1.893h-4.15c-.417 0-.622.068-.909.369l-2.167 2.14zm-.567-8.668h6.884a.433.433 0 00.423-.438.425.425 0 00-.423-.417H4.095a.419.419 0 00-.417.417c0 .24.184.438.417.438zm0 2.167h6.884a.427.427 0 000-.855H4.095a.425.425 0 00-.417.424c0 .24.184.43.417.43zm0 2.173h4.484c.24 0 .424-.191.424-.423 0-.24-.185-.431-.424-.431H4.095a.422.422 0 00-.417.43.42.42 0 00.417.424z"})},speechBubbleThin:{className:"speechBubbleThin",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M22.7532,22.5338 C23.5213,22.526 24.4345,22.3433 25.1469,22.0548 C25.8531,21.7522 26.626,21.2326 27.1737,20.6925 C27.7104,20.1418 28.2256,19.366 28.5258,18.657 C28.8118,17.9425 28.9924,17.0289 29,16.2589 L29,8.27491 C29,6.61379 28.3442,5.01878 27.1737,3.84128 C26.003,2.66345 24.413,2 22.7532,2 L7.24684,2 C5.58696,2 3.99703,2.663451 2.82627,3.84128 C1.65583,5.01878 1,6.61379 1,8.27491 L1,16.2589 C1.00759057,17.0289 1.188247,17.9425 1.47422,18.657 C1.774375,19.366 2.28965,20.1418 2.82627,20.6925 C3.99703,21.8703 5.58697,22.5338 7.24684,22.5338 L11.7911,22.5338 L16.4207,28.1234 C16.9695,28.6766 17.7145,28.9926 18.4958,28.9999 L18.5012,29 C18.8901,28.9902 19.4592,28.8509 19.8108,28.6796 L19.8132,28.6782 L19.8164,28.6764 C20.2232,28.4396 20.7254,27.932 20.9561,27.5241 C21.1266,27.1583 21.2407,26.586 21.2417,26.1352 L21.2468,26.1352 L21.2468,22.5338 L22.7532,22.5338 Z M19.2468,25.9913 C19.2436,26.0374 19.2418,26.0839 19.2417,26.1308 C19.2416,26.2031 19.2306,26.3254 19.2028,26.4621 C19.1908,26.521 19.1786,26.5682 19.1684,26.6033 C19.1321,26.6491 19.0849,26.7028 19.0304,26.7579 C18.9756,26.8133 18.922,26.8615 18.8759,26.8988 C18.8715,26.9023 18.8673,26.9057 18.8632,26.9089 C18.8156,26.9252 18.7578,26.9422 18.6948,26.9576 C18.6312,26.9732 18.5719,26.9847 18.5225,26.9922 C18.5009,26.9954 18.4843,26.9974 18.4724,26.9987 C18.2567,26.9872 18.0509,26.9031 17.8881,26.7597 L13.3313,21.258 C12.9514,20.7993 12.3867,20.5338 11.7911,20.5338 L7.24684,20.5338 C6.12471,20.5338 5.04788,20.0867 4.25193,19.2898 C3.89579,18.9221 3.52751,18.3689 3.32374,17.8955 C3.13499,17.4156 3.00643,16.7622 3,16.2478 L3,8.27491 C3,7.14032 3.44804,6.05273 4.24473,5.25123 C5.04138,4.44977 6.12132,4 7.24684,4 L22.7532,4 C23.8787,4 24.9586,4.44977 25.7553,5.25123 C26.552,6.05273 27,7.14032 27,8.27491 L27,16.2478 C26.9936,16.7622 26.865,17.4156 26.6763,17.8955 C26.4739,18.3657 26.1091,18.9147 25.7552,19.2824 C25.3897,19.6384 24.8438,20.0052 24.3776,20.2085 C23.9015,20.3978 23.2514,20.5272 22.7419,20.5338 L21.2468,20.5338 C20.1423,20.5338 19.2468,21.4292 19.2468,22.5338 L19.2468,25.9913 Z M8,9 L8,11 L22,11 L22,9 L8,9 Z M8,14 L8,16 L18,16 L18,14 L8,14 Z"})},star:{className:"star",viewBox:"0 0 24 24",svg:r.a.createElement("path",{d:"M4.603 22.837c.375.277.826.2 1.4-.22l6.002-4.411 6.003 4.41c.561.42 1.024.498 1.387.221.375-.276.463-.73.232-1.403l-2.346-7.075 6.047-4.366c.572-.41.77-.83.627-1.271-.143-.432-.55-.653-1.255-.653l-7.424.045-2.269-7.108C12.787.32 12.457 0 12.005 0c-.463 0-.782.32-1.002 1.006l-2.27 7.108-7.423-.045c-.716 0-1.123.221-1.266.653-.144.442.066.862.638 1.27l6.036 4.367-2.335 7.075c-.231.674-.143 1.127.22 1.403zm1.179-1.625c-.022-.033-.011-.044.01-.121l2.27-6.688c.121-.364.044-.674-.287-.895L2.026 9.45c-.066-.044-.099-.066-.077-.11.011-.034.044-.034.121-.034l7.038.089c.386.01.639-.155.76-.542l2.06-6.743c.022-.077.044-.11.077-.11s.055.033.077.11l2.06 6.743c.12.387.374.553.76.542l7.038-.089c.077 0 .11 0 .12.034.012.044-.01.066-.076.11l-5.75 4.057c-.33.221-.418.53-.286.895l2.269 6.688c.022.077.033.088 0 .121-.022.034-.055.012-.121-.033l-5.617-4.244c-.309-.232-.65-.232-.948 0l-5.617 4.244c-.066.045-.1.067-.132.034z"})},starFilled:{className:"star",viewBox:"0 0 24 24",svg:r.a.createElement("path",{d:"M4.603 22.837c.375.277.826.2 1.4-.22l6.002-4.411 6.003 4.41c.561.42 1.024.498 1.387.221.375-.276.463-.73.232-1.403l-2.346-7.075 6.047-4.366c.572-.41.77-.83.627-1.271-.143-.432-.55-.653-1.255-.653l-7.424.045-2.269-7.108C12.787.32 12.457 0 12.005 0c-.463 0-.782.32-1.002 1.006l-2.27 7.108-7.423-.045c-.716 0-1.123.221-1.266.653-.144.442.066.862.638 1.27l6.036 4.367-2.335 7.075c-.231.674-.143 1.127.22 1.403z"})},sub:{className:"sub",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M5 3V20H23.187L19.594 16.406L21 15L27 21L21 27L19.594 25.594L23.187 22H3V3H5Z"})},team:{className:"team",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M11,12.396c-0.815-0.637-1.719-1.052-3-1.813V9.965c0.242-0.278,0.448-0.621,0.615-1.014C9.081,8.836,9.5,8.382,9.5,8 c0-0.551-0.232-0.769-0.504-0.947C8.996,7.035,9,7.019,9,7c0-0.813-0.5-3-3-3S3,6.188,3,7c0,0.019,0.004,0.035,0.004,0.053 C2.732,7.231,2.5,7.449,2.5,8c0,0.382,0.419,0.836,0.885,0.952C3.552,9.344,3.758,9.687,4,9.965v0.618 c-1.281,0.76-2.185,1.175-3,1.813C0.047,13.141,0,14.25,0,16h12C12,14.25,11.953,13.141,11,12.396z M15,8.396 c-0.815-0.637-1.719-1.052-3-1.813V5.965c0.242-0.278,0.448-0.621,0.615-1.014C13.081,4.836,13.5,4.382,13.5,4 c0-0.551-0.232-0.769-0.504-0.947C12.996,3.035,13,3.019,13,3c0-0.813-0.5-3-3-3S7,2.188,7,3c0,0.019,0.004,0.035,0.004,0.053 C6.985,3.066,6.969,3.081,6.95,3.094c2.001,0.41,2.875,2.104,3.025,3.475C10.258,6.867,10.5,7.31,10.5,8 c0,0.689-0.476,1.375-1.147,1.731c-0.065,0.125-0.134,0.245-0.207,0.36c0.174,0.098,0.34,0.191,0.5,0.28 c0.732,0.409,1.364,0.762,1.97,1.236c0.158,0.123,0.293,0.256,0.417,0.392H16C16,10.25,15.953,9.141,15,8.396z"})},team2:{className:"team2",viewBox:"0 0 32 32",svg:r.a.createElement("path",{d:"M21.299 16.047c2.353 0 4.277-2.08 4.277-4.639 0-2.52-1.914-4.531-4.277-4.531-2.354 0-4.287 2.041-4.277 4.55 0 2.55 1.914 4.62 4.277 4.62zM9.97 16.27c2.06 0 3.72-1.826 3.72-4.082 0-2.197-1.66-3.974-3.72-3.974-2.041 0-3.73 1.806-3.721 3.984 0 2.256 1.67 4.072 3.72 4.072zm11.328-1.933c-1.348 0-2.49-1.27-2.49-2.92-.01-1.592 1.132-2.832 2.49-2.832 1.357 0 2.49 1.22 2.49 2.822 0 1.64-1.133 2.93-2.49 2.93zm-11.328.244c-1.104 0-2.041-1.055-2.041-2.383 0-1.27.927-2.304 2.04-2.304 1.133 0 2.051 1.015 2.051 2.295 0 1.337-.937 2.392-2.05 2.392zM4.6 25.246h7.588c-.538-.312-.899-1.025-.83-1.67H4.511c-.186 0-.264-.088-.264-.254 0-2.236 2.617-4.365 5.713-4.365 1.094 0 2.187.273 3.027.742a4.565 4.565 0 011.28-1.24c-1.24-.762-2.784-1.172-4.307-1.172-4.13 0-7.47 2.95-7.47 6.192 0 1.171.702 1.767 2.109 1.767zm10.605 0h12.168c1.69 0 2.51-.537 2.51-1.69 0-2.685-3.36-6.26-8.594-6.26s-8.584 3.575-8.584 6.26c0 1.153.81 1.69 2.5 1.69zm-.303-1.709c-.234 0-.322-.078-.322-.254 0-1.494 2.412-4.277 6.71-4.277 4.296 0 6.708 2.783 6.708 4.277 0 .176-.088.254-.313.254H14.903z"})},group:{className:"group",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M15.011 14.795c1.678 0 3.096-1.502 3.096-3.444C18.107 9.455 16.682 8 15.012 8c-1.67 0-3.096 1.478-3.088 3.367 0 1.926 1.41 3.428 3.088 3.428zm-8.872.178c1.464 0 2.697-1.316 2.697-3.003 0-1.656-1.241-2.917-2.697-2.917-1.448 0-2.697 1.284-2.69 2.933 0 1.671 1.234 2.987 2.69 2.987zm17.722 0c1.456 0 2.69-1.316 2.69-2.987.007-1.649-1.242-2.933-2.69-2.933s-2.697 1.261-2.697 2.917c0 1.687 1.241 3.003 2.697 3.003zM1.917 22h5.747c-.82-1.184.069-3.521 1.8-4.899-.842-.55-1.946-.952-3.325-.952C2.714 16.15.5 18.695.5 20.793.5 21.559.883 22 1.917 22zm26.166 0c1.034 0 1.417-.441 1.417-1.207 0-2.098-2.214-4.644-5.64-4.644-1.378 0-2.474.403-3.317.952 1.732 1.378 2.62 3.715 1.8 4.899h5.74zm-17.852-.008h9.554c1.264 0 1.7-.387 1.7-1.099 0-1.989-2.505-4.728-6.473-4.728-3.977 0-6.475 2.74-6.475 4.728 0 .712.437 1.1 1.693 1.1z"})},timeBy:{className:"timeBy",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M14 25H16V15H14C13.919 15.164 13.209 15.698 12 15.909V17.94C12.743 17.85 13.416 17.652 14 17.388V25ZM25 4C25 2.343 23.657 1 22 1C20.343 1 19 2.343 19 4H11C11 2.343 9.657 1 8 1C6.343 1 5 2.343 5 4H1V29H29V4H25ZM21 4C21 3.449 21.448 3 22 3C22.552 3 23 3.449 23 4V6C23 6.551 22.552 7 22 7C21.448 7 21 6.551 21 6V4ZM7 4C7 3.449 7.448 3 8 3C8.552 3 9 3.449 9 4V6C9 6.551 8.552 7 8 7C7.448 7 7 6.551 7 6V4ZM27 27H3V13H27V27ZM27 11H3V6H5C5 7.657 6.343 9 8 9C9.657 9 11 7.657 11 6H19C19 7.657 20.343 9 22 9C23.657 9 25 7.657 25 6H27V11Z"})},trash:{className:"trash",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M21,5c0-2.2-1.8-4-4-4h-4c-2.2,0-4,1.8-4,4H2v2h2v22h22V7h2V5H21z M13,3h4c1.104,0,2,0.897,2,2h-8C11,3.897,11.897,3,13,3zM24,27H6V7h18V27z M16,11h-2v12h2V11z M20,11h-2v12h2V11z M12,11h-2v12h2V11z"})},triangle:{className:"triangle",viewBox:"0 0 100 100",svg:r.a.createElement("polygon",{points:"5.9,88.2 50,11.8 94.1,88.2 "})},undo:{className:"undo",viewBox:"0 0 100 100",svg:r.a.createElement("path",{d:"M74.256,36.006 C62.043,23.791 43.268,21.352 28.374,29.957 L21.145,17.533 L14.582,42.359 L39.41,48.923 L31.899,36.015 C44.047,29.011 59.346,30.995 69.306,40.954 C79.402,51.052 81.322,66.638 73.975,78.858 L79.975,82.465 C88.981,67.484 86.63,48.379 74.256,36.006 Z"})},redo:{className:"redo",viewBox:"0 0 100 100",svg:r.a.createElement("path",{d:"M25.744,36.006 C37.957,23.791 56.732,21.352 71.626,29.957 L78.855,17.533 L85.418,42.359 L60.59,48.923 L68.101,36.015 C55.953,29.011 40.654,30.995 30.694,40.954 C20.598,51.052 18.678,66.638 26.025,78.858 L20.025,82.465 C11.019,67.484 13.37,48.379 25.744,36.006 Z"})},sidebarImport:{className:"sidebarImport",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z"})},sidebarSearch:{className:"sidebarSearch",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M5.92239093,0.540000021 C2.94055203,0.540000021 0.5,2.98052217 0.5,5.96238099 C0.5,8.9442199 2.94055203,11.384762 5.92239093,11.384762 C7.02329179,11.384762 8.05258749,11.0564678 8.91032559,10.4866744 L12.1460745,13.6802311 C12.5695899,14.1037465 13.2589477,14.1037465 13.6823635,13.6802311 C14.1058788,13.2567158 14.1058788,12.5730353 13.6823635,12.1495199 L10.4410368,8.95033558 C11.0107904,8.09259747 11.3447619,7.06329182 11.3447619,5.96238099 C11.3447619,2.98052217 8.90420992,0.540000021 5.92239093,0.540000021 Z M5.92239093,2.70895241 C7.7320027,2.70895241 9.17580956,4.15272939 9.17580956,5.96238099 C9.17580956,7.77201268 7.7320027,9.21581954 5.92239093,9.21581954 C4.11275925,9.21581954 2.66895239,7.77201268 2.66895239,5.96238099 C2.66895239,4.15272939 4.11275925,2.70895241 5.92239093,2.70895241 Z"})},sidebarSettings:{className:"sidebarSettings",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M14,7.77 L14,6.17 L12.06,5.53 L11.61,4.44 L12.49,2.6 L11.36,1.47 L9.55,2.38 L8.46,1.93 L7.77,0.01 L6.17,0.01 L5.54,1.95 L4.43,2.4 L2.59,1.52 L1.46,2.65 L2.37,4.46 L1.92,5.55 L0,6.23 L0,7.82 L1.94,8.46 L2.39,9.55 L1.51,11.39 L2.64,12.52 L4.45,11.61 L5.54,12.06 L6.23,13.98 L7.82,13.98 L8.45,12.04 L9.56,11.59 L11.4,12.47 L12.53,11.34 L11.61,9.53 L12.08,8.44 L14,7.75 L14,7.77 Z M7,10 C5.34,10 4,8.66 4,7 C4,5.34 5.34,4 7,4 C8.66,4 10,5.34 10,7 C10,8.66 8.66,10 7,10 Z"})},sidebarTrash:{className:"sidebarTrash",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M13.5000308,3.23952 C13.5000308,4.55848168 11.9230308,12.0493 11.9230308,12.0782 C11.9230308,12.6571 9.73825083,14 7.04165083,14 C4.34504083,14 2.16025083,12.6571 2.16025083,12.0782 C2.16025083,12.0541 0.5,4.55799105 0.5,3.23952 C0.5,1.91780104 3.02713083,0 7.03525083,0 C11.0433308,0 13.5000308,1.9178004 13.5000308,3.23952 Z M7,2 C3.625,2 2.5,3.25 2.5,4 C2.5,4.75 3.625,6 7,6 C10.375,6 11.5,4.75 11.5,4 C11.5,3.25 10.375,2 7,2 Z"})},sidebarTemplates:{className:"sidebarTemplates",viewBox:"0 0 14 14",svg:r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.237 1l7.84 1.237-1.201 7.61L11.5 6.15 9.424 9.38 6 8.84 7.237 1zM5.545 5.31a4 4 0 1 0 2.29 4.832l-2.979-.47.689-4.363zM7 15l4.5-7 4.5 7H7z"})},roundArrowDown:{className:"roundArrowDown",viewBox:"0 0 15 15",svg:r.a.createElement("path",{d:"M7.19629 14.0371C11.0107 14.0371 14.1689 10.8789 14.1689 7.06445C14.1689 3.25684 11.0039 0.0917969 7.18945 0.0917969C3.38184 0.0917969 0.223633 3.25684 0.223633 7.06445C0.223633 10.8789 3.38867 14.0371 7.19629 14.0371ZM7.19629 12.875C3.96973 12.875 1.39258 10.291 1.39258 7.06445C1.39258 3.84473 3.96289 1.25391 7.18945 1.25391C10.416 1.25391 13 3.84473 13.0068 7.06445C13.0137 10.291 10.4229 12.875 7.19629 12.875ZM7.19629 10.5986C7.34668 10.5986 7.46973 10.5303 7.59961 10.4004L9.91699 8.08984C10.0059 8.00098 10.0537 7.87793 10.0537 7.73438C10.0537 7.4541 9.83496 7.24219 9.55469 7.24219C9.41113 7.24219 9.28125 7.29688 9.19238 7.39258L8.35156 8.24707L7.6543 9.08105L7.70898 7.63184V4.06348C7.70898 3.76953 7.49707 3.55078 7.19629 3.55078C6.90234 3.55078 6.68359 3.76953 6.68359 4.06348V7.63184L6.73828 9.06738L6.05469 8.24707L5.2002 7.39258C5.11133 7.30371 4.98828 7.24219 4.83789 7.24219C4.55762 7.24219 4.3457 7.4541 4.3457 7.73438C4.3457 7.87793 4.38672 8.00098 4.48242 8.08984L6.7998 10.4004C6.93652 10.5371 7.05273 10.5986 7.19629 10.5986Z"})},sync:{className:"sync",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M11,9H5.798C7.76,5.994,11.143,4,15,4c6.075,0,11,4.925,11,11h2c0-7.18-5.82-13-13-13C10.977,2,7.384,3.83,5,6.701V3H3v8h8 V9z M19,21h5.202c-1.962,3.006-5.345,5-9.202,5C8.925,26,4,21.075,4,15H2c0,7.18,5.82,13,13,13c4.023,0,7.616-1.83,10-4.701V27h2v-8h-8V21z"})},addPageCover:{className:"addPageCover",viewBox:"0 0 14 14",svg:r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm0 12h10L8.5 5.5l-2 4-2-1.5L2 12z"})},addPageDiscussion:{className:"addPageDiscussion",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M4.095 15.465c.287 0 .499-.137.84-.444l2.523-2.277 4.47.007c2.058 0 3.214-1.19 3.214-3.22V4.22c0-2.03-1.156-3.22-3.213-3.22H3.213C1.163 1 0 2.19 0 4.22V9.53c0 2.037 1.196 3.22 3.165 3.213h.273v1.983c0 .45.24.738.657.738zM3.958 5.156a.454.454 0 01-.444-.45c0-.24.198-.438.444-.438h7.157c.246 0 .445.198.445.437a.45.45 0 01-.445.451H3.958zm0 2.256a.454.454 0 01-.444-.451c0-.24.198-.444.444-.444h7.157a.448.448 0 010 .895H3.958zm0 2.256a.448.448 0 010-.896h4.669c.246 0 .437.206.437.452a.438.438 0 01-.437.444H3.958z"})},addPageIcon:{className:"addPageIcon",viewBox:"0 0 14 14",svg:r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 0c3.861 0 7 3.139 7 7s-3.139 7-7 7-7-3.139-7-7 3.139-7 7-7zM3.561 5.295a1.027 1.027 0 1 0 2.054 0 1.027 1.027 0 0 0-2.054 0zm5.557 1.027a1.027 1.027 0 1 1 0-2.054 1.027 1.027 0 0 1 0 2.054zm1.211 2.816a.77.77 0 0 0-.124-1.087.786.786 0 0 0-1.098.107c-.273.407-1.16.958-2.254.958-1.093 0-1.981-.55-2.244-.945a.788.788 0 0 0-1.107-.135.786.786 0 0 0-.126 1.101c.55.734 1.81 1.542 3.477 1.542 1.668 0 2.848-.755 3.476-1.541z"})},editPageContents:{className:"editPageContents",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M 11.7538 3.38462L 10 1.63077L 1.63077 10L 3.38462 11.7538L 11.7538 3.38462ZM 12.9231 0C 12.2689 0 11.4794 0.252923 10.8757 0.782154L 15.2234 5.12985C 15.7822 4.496 16 3.68738 16 3.07569C 16 1.37723 14.6228 0 12.9231 0ZM 0.615385 11.0154L 0 16L 4.98462 15.3846L 5.13846 15.2308L 0.769231 10.8615L 0.615385 11.0154ZM 4.24615 12.6154L 6 14.3692L 14.3692 6L 12.6154 4.24615L 4.24615 12.6154Z"})},audio:{className:"audio",viewBox:"0 0 26 23",svg:r.a.createElement("path",{d:"M0 6.06667V16.4667H5.2L12.1333 22.5333V0L5.2 6.06667H0ZM4.33333 14.7333H1.73333V7.8H4.33333V14.7333ZM6.06667 7.61193L10.4 3.8194V18.7139L6.06667 14.9214V7.61193ZM19.0667 11.2667C19.0667 8.84433 17.6445 6.76087 15.5931 5.78847L14.586 7.24447C16.1928 7.87627 17.3333 9.43453 17.3333 11.2684C17.3333 13.1023 16.1928 14.6588 14.586 15.2923L15.5931 16.7483C17.6445 15.7725 19.0667 13.689 19.0667 11.2667ZM19.5607 0.0563333L18.5718 1.48287C21.9709 3.42247 24.2658 7.07373 24.2658 11.2667C24.2658 15.4596 21.9709 19.1109 18.5727 21.0505L19.5615 22.477C23.4087 20.2193 26 16.0507 26 11.2667C26 6.48267 23.4087 2.314 19.5607 0.0563333ZM22.5333 11.2667C22.5333 7.6648 20.5339 4.53093 17.5855 2.9094L16.5915 4.34547C19.0918 5.64547 20.8 8.25413 20.8 11.2649C20.8 14.2757 19.0901 16.8844 16.5915 18.1844L17.5855 19.6205C20.5339 18.0015 22.5333 14.8685 22.5333 11.2667Z"})},codepen:{className:"codepen",viewBox:"0 0 40 40",svg:r.a.createElement("path",{d:"M39.9834,13.7071 C39.8236,12.6665 38.6647,12.1063 37.8655,11.586 C36.4269,10.6255 35.0283,9.70502 33.5897,8.74452 C30.1931,6.46334 26.7564,4.18216 23.3598,1.90098 C22.5606,1.38071 21.7613,0.820424 20.9621,0.300155 C20.4027,-0.100052 19.6434,-0.100052 19.044,0.300155 C16.7663,1.82094 14.4485,3.38175 12.1708,4.90253 L2.10066,11.626 C1.22152,12.1863 0.0626603,12.7466 0.0226996,13.9472 C-0.0172612,15.2679 0.0226996,16.6286 0.0226996,17.9493 L0.0226996,24.3526 C0.0226996,25.5132 -0.217065,26.8739 0.861875,27.5943 C3.41936,29.3552 6.01681,31.036 8.61426,32.7569 C11.8111,34.878 15.008,37.0391 18.2048,39.1602 C19.084,39.7606 19.9631,40.4009 21.0421,39.6805 C21.9611,39.0802 22.8403,38.4799 23.7594,37.8796 C27.3159,35.5184 30.8724,33.1171 34.4289,30.7559 L38.385,28.1145 C38.6248,27.9544 38.9045,27.7944 39.1443,27.5943 C39.7037,27.1941 39.9435,26.6338 39.9435,25.9534 L39.9435,14.9477 C39.9834,14.5075 40.0234,14.1073 39.9834,13.7071 C39.9834,13.7871 39.9834,13.6671 39.9834,13.7071 Z M21.7214,4.94255 L35.1882,13.9472 L29.194,17.9893 L21.7214,12.9867 L21.7214,4.94255 Z M18.2848,4.94255 L18.2848,12.9467 L10.8521,17.9493 L4.81799,13.9472 L18.2848,4.94255 Z M3.45932,17.1489 L7.73512,20.0304 L3.45932,22.9118 L3.45932,17.1489 Z M18.2848,35.1182 L4.81799,26.1135 L10.8121,22.0714 L18.2448,27.074 L18.2448,35.1182 L18.2848,35.1182 Z M20.0031,24.1125 L13.929,20.0304 L20.0031,15.9482 L26.0771,20.0304 L20.0031,24.1125 Z M21.7214,35.1182 L21.7214,27.114 L29.1541,22.1114 L35.1482,26.1535 L21.7214,35.1182 Z M36.5468,22.9118 L32.271,20.0304 L36.5868,17.1489 L36.5468,22.9118 Z"})},compass:{className:"compass",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M18,4.361V3c0-1.657-1.343-3-3-3s-3,1.343-3,3v1.361C6.27,5.718,2,10.854,2,17c0,7.18,5.82,13,13,13s13-5.82,13-13 C28,10.854,23.73,5.718,18,4.361z M14,3c0-0.552,0.448-1,1-1s1,0.448,1,1v1.051C15.669,4.025,15.338,4,15,4s-0.669,0.025-1,0.051V3z M16,27.949V26h-2v1.949C8.724,27.474,4.526,23.276,4.051,18H6v-2H4.051C4.526,10.724,8.724,6.526,14,6.051V8h2V6.051 c5.276,0.476,9.474,4.673,9.949,9.949H24v2h1.949C25.474,23.276,21.276,27.474,16,27.949z M8,24l10-4l4-10l-10,4L8,24z M18.41,13.59 l-1.949,4.871L11.59,20.41l1.949-4.871L18.41,13.59z"})},cornerResize:{className:"cornerResize",viewBox:"0 0 16 16",svg:r.a.createElement("path",{fillRule:"evenodd",strokeWidth:"1.5",d:"M 14 0C 12.8955 0 12 0.895447 12 2L 12 12L 2 12C 0.895508 12 0 12.8954 0 14C 0 15.1046 0.895508 16 2 16L 14 16C 15.1045 16 16 15.1046 16 14L 16 2C 16 0.895447 15.1045 0 14 0Z"})},googleDrive:{className:"googleDrive",viewBox:"0 0 512 512",svg:r.a.createElement("g",null," ",r.a.createElement("path",{d:"M175.5,44.9c2.6,0,4.5,0,6.5,0c50.5,0,101,0.1,151.5-0.2c5.5,0,8.5,2,11,6.4c10.7,19,21.5,38,32.3,56.9   c13.2,23.2,26.5,46.4,39.8,69.5c14.8,25.9,29.8,51.6,44.6,77.5c11.9,20.7,23.6,41.6,35.4,62.4c1.5,2.6,5,5.2,3.5,7.8  c-0.8,1.4-5.6,0.6-8.5,0.6c-28.8-0.3-57.6-0.4-86.4-1.2c-19.7-0.6-39.3-0.3-58.9-0.8c-5.6-0.1-11.3-0.6-16.9-0.7   c-2.3,0-3.1-1.2-4-2.9c-9.7-17.9-19.4-35.7-29.2-53.6c-10.4-19.1-20.8-38.2-31.3-57.4c-11.5-21.2-23-42.4-34.5-63.5   c-11.6-21.3-23.3-42.6-34.9-64C188.7,69.7,182.3,57.6,175.5,44.9z"})," ",r.a.createElement("path",{d:"M97.1,474c1.6-6.5,5.5-10.8,8.3-15.6c14.5-25.3,29.3-50.3,43.9-75.5c8.6-14.9,17.1-29.8,25.5-44.8   c1.4-2.5,3.1-3.2,5.6-3.2c27.6,0.4,55.3,0.3,82.9,1.3c16.7,0.6,33.3,0.4,49.9,0.8c20.1,0.4,40.3,0.2,60.4,1.2  c13.8,0.6,27.6,0.4,41.4,0.7c29.3,0.5,58.6,0.8,87.9,1.2c1.4,0,3.2-0.7,4,1.1c0.5,1.3-0.4,2.4-1.2,3.6   c-10.4,16.3-20.8,32.7-31.2,49.1c-10.6,16.7-21.1,33.5-31.6,50.2c-5.3,8.4-10.6,16.7-15.6,25.2c-2.3,3.9-4.9,6.2-9.8,5.7   c-5.4-0.6-11-0.7-16.4-0.7c-99.3-0.1-198.6-0.2-297.9-0.3C101.3,474,99.4,474,97.1,474z"})," ",r.a.createElement("path",{d:"M9.8,326.3c1.1-5.3,4.5-9.5,7.1-14c14.3-25.7,28.9-51.2,43.3-76.8c9.7-17.1,19.5-34.3,29.2-51.4   c12.9-22.8,25.7-45.7,38.6-68.5c10.7-18.9,21.6-37.8,32.4-56.7c4.7-8.2,5.1-8.4,9.3-0.6c8.3,15.6,16.7,31.1,24.8,46.8  c6.1,11.9,12.6,23.7,18.9,35.5c7.2,13.6,14.5,27.2,21.7,40.7c2.2,4.2,4.3,8.6,6.8,12.7c1.3,2.1,0.9,3.4-0.3,5.4   c-16.2,27.3-32.2,54.7-48.4,81.9c-14,23.6-28.3,47-42.3,70.6c-16.4,27.5-32.6,55.1-49,82.6c-6.6,11.2-13.3,22.4-20,33.6   c-0.6,1.1-0.8,2.8-2.5,2.7c-1.6-0.1-2-1.7-2.6-2.8c-3.7-7.6-7.3-15.2-10.9-22.8c-6.9-14.7-13.9-29.3-20.9-44   c-9-18.8-18-37.5-27-56.3c-2.3-4.8-4.5-9.6-6.8-14.3C10.6,329.2,9.7,328,9.8,326.3z"})," ")},factoryBlockSettings:{className:"factoryBlockSettings",viewBox:"0 0 24 24",svg:r.a.createElement("path",{d:"M12,8c-2.209,0-4,1.791-4,4s1.791,4,4,4s4-1.791,4-4S14.209,8,12,8z M12,14c-1.104,0-2-0.896-2-2s0.896-2,2-2s2,0.896,2,2 S13.104,14,12,14z M24,15V9h-3.523c-0.105-0.299-0.227-0.589-0.361-0.872l2.491-2.492l-4.243-4.243l-2.491,2.491 C15.59,3.75,15.299,3.629,15,3.523V0H9v3.523C8.701,3.629,8.411,3.75,8.128,3.885L5.636,1.394L1.394,5.636l2.491,2.492 C3.75,8.411,3.629,8.701,3.523,9H0v6h3.523c0.106,0.299,0.227,0.589,0.362,0.872l-2.492,2.491l4.243,4.243l2.492-2.491 C8.411,20.25,8.701,20.371,9,20.477V24h6v-3.523c0.299-0.105,0.59-0.227,0.872-0.361l2.491,2.491l4.243-4.243l-2.491-2.491 c0.135-0.283,0.256-0.573,0.361-0.872H24z M19.778,18.363l-1.415,1.415l-2.077-2.077c-0.896,0.502-2.271,1.049-3.286,1.363V22h-2 v-2.936c-1.016-0.314-2.391-0.861-3.286-1.363l-2.078,2.077l-1.415-1.415L6.3,16.285C5.781,15.359,5.234,13.953,4.936,13H2v-2h2.936 C5.234,10.047,5.781,8.641,6.3,7.714L4.222,5.636l1.415-1.415l2.078,2.077C8.609,5.797,9.984,5.25,11,4.936V2h2v2.936 c1.016,0.314,2.391,0.861,3.286,1.363l2.077-2.077l1.415,1.415L17.7,7.714c0.519,0.926,1.065,2.333,1.364,3.286H22v2h-2.936 c-0.299,0.953-0.846,2.359-1.364,3.285L19.778,18.363z"})},figma:{className:"figma",viewBox:"0 0 36 55",svg:r.a.createElement("path",{d:"M19.5,27.5 C19.5,23.08142 23.08142,19.5 27.5,19.5 C31.9186,19.5 35.5,23.08142 35.5,27.5 C35.5,31.9186 31.9186,35.5 27.5,35.5 C23.08142,35.5 19.5,31.9186 19.5,27.5 Z M0.5,46.5 C0.5,42.08142 4.08142,38.5 8.5,38.5 L16.5,38.5 L16.5,46.5 C16.5,50.9186 12.9186,54.5 8.5,54.5 C4.08142,54.5 0.5,50.9186 0.5,46.5 Z M19.5,16.5 L19.5,0.5 L27.5,0.5 C31.9186,0.5 35.5,4.08142 35.5,8.5 C35.5,12.9186 31.9186,16.5 27.5,16.5 L19.5,16.5 Z M8.5,16.5 C4.08142,16.5 0.5,12.9186 0.5,8.5 C0.5,4.08142 4.08142,0.5 8.5,0.5 L16.5,0.5 L16.5,16.5 L8.5,16.5 Z M8.5,35.5 C4.08142,35.5 0.5,31.9186 0.5,27.5 C0.5,23.08142 4.08142,19.5 8.5,19.5 L16.5,19.5 L16.5,35.5 L8.5,35.5 Z"})},framer:{className:"framer",viewBox:"0 0 48 77",svg:r.a.createElement("g",null," ",r.a.createElement("polygon",{points:"0 53 24 53 24 77"})," ",r.a.createElement("polygon",{points:"24 26 0 26 0 50 24 50 48 50"})," ",r.a.createElement("polygon",{points:"24 0 0 0 24 24 48 24 48 0"})," ")},github:{className:"github",viewBox:"0 0 1024 1024",svg:r.a.createElement("path",{d:"M512 0C229.25 0 0 229.25 0 512c0 226.25 146.688 418.125 350.156 485.812 25.594 4.688 34.938-11.125 34.938-24.625 0-12.188-0.469-52.562-0.719-95.312C242 908.812 211.906 817.5 211.906 817.5c-23.312-59.125-56.844-74.875-56.844-74.875-46.531-31.75 3.53-31.125 3.53-31.125 51.406 3.562 78.47 52.75 78.47 52.75 45.688 78.25 119.875 55.625 149 42.5 4.654-33 17.904-55.625 32.5-68.375C304.906 725.438 185.344 681.5 185.344 485.312c0-55.938 19.969-101.562 52.656-137.406-5.219-13-22.844-65.094 5.062-135.562 0 0 42.938-13.75 140.812 52.5 40.812-11.406 84.594-17.031 128.125-17.219 43.5 0.188 87.312 5.875 128.188 17.281 97.688-66.312 140.688-52.5 140.688-52.5 28 70.531 10.375 122.562 5.125 135.5 32.812 35.844 52.625 81.469 52.625 137.406 0 196.688-119.75 240-233.812 252.688 18.438 15.875 34.75 47 34.75 94.75 0 68.438-0.688 123.625-0.688 140.5 0 13.625 9.312 29.562 35.25 24.562C877.438 930 1024 738.125 1024 512 1024 229.25 794.75 0 512 0z"})},invision:{className:"invision",viewBox:"0 0 215 182",svg:r.a.createElement("g",{stroke:"none",strokeWidth:"1"}," ",r.a.createElement("g",{transform:"translate(0.000000, -222.000000)"}," ",r.a.createElement("g",null," ",r.a.createElement("path",{d:"M98.9196618,401.249534 L67.23738,401.249534 C69.0283748,394.069758 70.787323,387.019973 72.4415558,380.387695 C68.8636285,384.425558 65.4170469,389.032134 61.2582199,392.866884 C50.6503674,402.647395 38.1012175,405.941417 24.0797327,402.23079 C13.9819165,399.55829 7.92421985,391.917675 6.61663119,381.562133 C5.46837247,372.464529 7.41824578,363.782628 9.57890401,355.080416 C13.7219334,338.391847 17.8017725,321.687933 21.9028255,304.989434 C22.0454551,304.409889 22.1339216,303.817254 22.2995706,302.96283 L-0.0003,302.96283 C2.30975824,294.403698 4.53721769,286.151943 6.78995327,277.806756 L60.5229552,277.806756 C60.3491817,278.642223 60.2273147,279.357627 60.0512844,280.059943 C53.0231647,308.023022 45.9535198,335.97572 39.0057421,363.95911 C38.1427426,367.435481 37.6331576,371.059899 37.479244,374.638277 C37.2535643,379.877659 40.2013936,382.783512 45.4935844,382.824134 C53.5440336,382.885068 60.4588621,379.769784 66.3955944,374.554776 C72.743064,368.979131 77.1564578,362.201967 79.1663619,353.808936 C83.0828089,337.452117 87.2971531,321.167064 91.379249,304.850416 C91.5232327,304.276286 91.5715282,303.678686 91.6933952,302.909569 L69.2513464,302.909569 C69.6155936,301.479211 69.9089773,300.269116 70.2316994,299.067145 C71.9843286,292.540938 73.758623,286.020597 75.4882328,279.488522 C75.7789084,278.389461 76.0555918,277.645621 77.5008451,277.651037 C92.8448135,277.709714 108.18833,277.692562 123.531847,277.702492 C123.75166,277.702492 123.97102,277.781931 124.411096,277.867238 C122.458966,286.803255 120.511801,295.717606 118.565087,304.631958 C118.656261,304.671226 118.747887,304.710043 118.838611,304.749311 C120.277996,302.605804 121.639297,300.404524 123.17076,298.328721 C129.752485,289.408051 137.659853,281.997178 148.043831,277.728671 C168.022811,269.515732 188.005402,280.685076 192.142563,302.283534 C193.975534,311.851454 193.064691,321.305631 190.553778,330.628914 C187.175803,343.16994 183.622249,355.664024 180.318748,368.224458 C179.661569,370.722733 179.467484,373.448493 179.624106,376.035235 C179.988804,382.073072 185.463796,384.737899 190.442292,381.268749 C192.360119,379.932273 194.120421,378.060937 195.308399,376.052387 C197.438816,372.450086 199.08989,368.563429 200.922861,364.787355 C201.278532,364.054347 201.552056,363.281168 201.937066,362.346854 C206.06836,363.936993 210.106223,365.491476 214.381049,367.137584 C210.178891,380.337594 205.268551,393.058261 192.248181,399.864312 C181.021966,405.732889 169.389528,405.395272 158.535233,398.5987 C151.013326,393.889214 148.484358,386.186312 148.027131,377.697592 C147.620005,370.133709 149.656088,362.968376 151.693976,355.800786 C154.30148,346.629159 157.031754,337.485517 159.315182,328.232646 C160.272516,324.353211 160.657977,320.20973 160.534756,316.210233 C160.26394,307.425422 153.949871,301.479211 145.147908,301.094201 C135.701404,300.681207 128.636273,304.704626 123.601357,312.562796 C119.514296,318.940958 117.721496,326.162711 115.917863,333.384916 C110.367494,355.603993 104.804488,377.819911 99.2455434,400.036731 C99.157077,400.390597 99.0564238,400.741303 98.9196618,401.249534 Z M28.7006165,241.023028 C28.6658618,230.356047 37.1446512,221.982425 47.9637399,222.000028 C58.6717942,222.017631 67.1365914,230.335285 67.169992,240.873176 C67.2033927,251.467488 58.5991253,259.984192 47.8874602,259.958916 C37.2349231,259.934091 28.7349198,251.545573 28.7006165,241.023028 Z"})," ")," ")," ")},whimsical:{className:"whimsical",viewBox:"0 0 32 32",svg:r.a.createElement("g",null,r.a.createElement("path",{opacity:".8",fillRule:"evenodd",clipRule:"evenodd",d:"M12.807 9.772a.497.497 0 00-.705 0L5.76 16.146a.502.502 0 000 .708l6.343 6.374c.195.195.51.195.705 0l6.343-6.374a.503.503 0 000-.708l-6.343-6.374zm.352-2.479a.993.993 0 00-1.41 0l-8.457 8.499a1.005 1.005 0 000 1.416l8.458 8.499a.993.993 0 001.41 0l8.457-8.499c.39-.391.39-1.025 0-1.416l-8.458-8.499z",fill:"#A7A6A2"}),r.a.createElement("mask",{id:"a",maskUnits:"userSpaceOnUse",x:"3",y:"7",width:"19",height:"19"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.807 9.772a.497.497 0 00-.705 0L5.76 16.146a.502.502 0 000 .708l6.343 6.374c.195.195.51.195.705 0l6.343-6.374a.503.503 0 000-.708l-6.343-6.374zm.352-2.479a.993.993 0 00-1.41 0l-8.457 8.499a1.005 1.005 0 000 1.416l8.458 8.499a.993.993 0 001.41 0l8.457-8.499c.39-.391.39-1.025 0-1.416l-8.458-8.499z",fill:"#fff"})),r.a.createElement("g",{filter:"url(#filter0_d)",mask:"url(#a)"},r.a.createElement("path",{d:"M18.84 7.293a.993.993 0 011.41 0l8.458 8.499c.39.39.39 1.025 0 1.416l-8.458 8.499a.993.993 0 01-1.41 0l-8.457-8.499a1.005 1.005 0 010-1.416l8.457-8.499z",fill:"#000","fill-opacity":".01"})),r.a.createElement("path",{d:"M18.84 7.293a.993.993 0 011.41 0l8.458 8.499c.39.39.39 1.025 0 1.416l-8.458 8.499a.993.993 0 01-1.41 0l-8.457-8.499a1.005 1.005 0 010-1.416l8.457-8.499z",fill:"#A7A6A2"}),r.a.createElement("defs",null,r.a.createElement("filter",{id:"filter0_d",x:"8.055",y:"4.964",width:"22.98",height:"23.071",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},r.a.createElement("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",null),r.a.createElement("feGaussianBlur",{stdDeviation:"1.018"}),r.a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0"}),r.a.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.a.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))},abstract:{className:"abstract",viewBox:"0 0 32 32",svg:r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 16C0 3.199 3.199 0 16 0s16 3.199 16 16-3.199 16-16 16S0 28.801 0 16zm9.976 7.71a6.128 6.128 0 003.398 1.043 6.14 6.14 0 006.146-6.127 6.126 6.126 0 10-9.544 5.085zm11.521.79h3.004v-17H7.499v2.997h13.998V24.5zm-5-5.874a3.123 3.123 0 11-6.246 0 3.123 3.123 0 016.246 0z"})},miro:{className:"miro",viewBox:"0 0 32 32",svg:r.a.createElement("path",{d:"M13.75 20.895l1.761.359v-7.82l-1.76.344v7.117zm4.604-4.28v4.28l1.761.359V16.88c0-.993.56-1.441 1.432-1.607l1.015-.186v-1.835l-1.015.164c-1.935.44-3.193 1.073-3.193 3.197zm-7.446-.256c0-2.313-1.539-3.085-2.777-3.068-.984.014-1.785.423-2.265 1.047-.478-.685-1.325-1.068-2.016-1.068-.85 0-1.597.373-2.09.97v-.806L0 13.778v7.117l1.76.359v-4.895c0-.776.568-1.328 1.418-1.328.836 0 1.403.552 1.403 1.328v4.536l1.76.359v-4.895c0-.776.568-1.328 1.404-1.328.835 0 1.402.552 1.402 1.328v4.536l1.76.359v-4.895h.001zm17.176 5.059c2.356 0 3.916-1.636 3.916-4.081 0-2.446-1.56-4.067-3.916-4.067-2.446 0-4.082 1.62-4.082 4.067 0 2.445 1.636 4.08 4.082 4.08zm0-1.65c-1.366 0-2.281-.976-2.281-2.431 0-1.456.915-2.416 2.281-2.416 1.275 0 2.115.96 2.115 2.416 0 1.455-.84 2.43-2.115 2.43zm-13.416-7.552c.641 0 1.065-.445 1.065-1.11S15.31 10 14.668 10c-.665 0-1.11.44-1.11 1.106 0 .665.445 1.11 1.11 1.11"})},loom:{className:"loom",viewBox:"0 0 190 190",svg:r.a.createElement("path",{d:"M189.611 84.2622H134.166L182.184 56.539L171.639 38.2692L123.621 65.9923L151.338 17.9781L133.068 7.42678L105.351 55.4409V0H84.2598V55.4462L56.5322 7.42678L38.2681 17.9728L65.9904 65.987L17.9723 38.2692L7.42658 56.5337L55.4447 84.2569H0V105.349H55.4394L7.42658 133.072L17.9723 151.342L65.9851 123.624L38.2628 171.638L56.5322 182.184L84.2545 134.165V189.611H105.346V134.17L133.063 182.184L151.332 171.638L123.61 123.619L171.628 151.342L182.174 133.072L134.161 105.354H189.6V84.2622H189.611ZM94.8055 123.491C78.9021 123.491 66.0116 110.601 66.0116 94.6968C66.0116 78.7929 78.9021 65.9021 94.8055 65.9021C110.709 65.9021 123.599 78.7929 123.599 94.6968C123.599 110.601 110.709 123.491 94.8055 123.491Z"})},maps:{className:"maps",viewBox:"0 0 160 164",svg:r.a.createElement("g",null," ",r.a.createElement("polyline",{points:"16 163.155 76.159 103 136.314 163.155 16 163.155"})," ",r.a.createElement("path",{d:"M91.1523093,12 C89.1061243,15.5558234 87.6020864,19.4206238 86.7688642,23.441 C84.8448642,33.084 86.5958642,43.241 91.3038642,51.836 C91.8382207,52.8588753 92.3925227,53.8704894 92.9644441,54.8718184 L0,147.839 L0,24.942 C0,17.799 5.796,12 12.942,12 L91.1523093,12 L91.1523093,12 Z M27.8186945,28.8787927 C20.9826945,31.9947927 15.9026945,38.8067927 15.1686945,46.3227927 C13.7376945,56.9777927 21.5856945,67.7337927 32.0706945,69.9057927 C40.5536945,71.9007927 50.5746945,68.4527927 54.8196945,60.5497927 C57.5256945,56.1347927 57.8816945,50.7917927 57.3626945,45.7587927 C50.5816945,45.0857927 43.5296945,45.6577927 36.6486945,45.4797927 C36.5946945,48.0237927 36.6096945,50.5677927 36.7256945,53.1037927 C40.8396945,53.0417927 44.9526945,53.0807927 49.0736945,53.0727927 C47.8296945,58.9497927 41.9446945,62.9007927 36.0456945,62.2127927 C27.0296945,62.0967927 20.6586945,51.4727927 24.4936945,43.3927927 C27.4236945,35.1807927 39.1766945,32.2347927 45.4326945,38.4437927 C47.4426945,36.5027927 49.4526945,34.5547927 51.4096945,32.5597927 C45.1536945,26.7907927 35.5196945,25.3527927 27.8186945,28.8787927 Z"})," ",r.a.createElement("path",{d:"M124.80036,20.6120969 C120.325021,21.6105482 116.569675,25.5689693 116.191987,30.2012296 C115.721991,34.5142624 118.24735,38.8911407 122.112695,40.7949674 C126.304191,43.0118678 131.806442,42.332644 135.307176,39.1288306 C138.574835,36.2380909 139.764822,31.2458343 138.057917,27.2058756 C136.037937,22.1505427 130.041845,19.2713414 124.80036,20.6120969 Z M129.322621,0 C138.754833,0.539994477 147.978584,5.14840888 153.696218,12.7298698 C157.440026,17.5182824 159.529236,23.4620677 160,29.4989291 L160,31.7396754 C159.779233,43.4418634 152.290848,53.047919 145.807068,62.1501336 C138.528681,72.435413 131.801058,83.6445291 129.937231,96.3213226 C129.438005,98.4697621 129.034302,102.445875 127.470333,102.445875 C124.80036,102.3677 123.210376,86.842958 120.185792,80.3707165 C116.755058,72.8300244 111.978183,66.0154787 107.125156,59.3463161 C104.17134,55.3471262 101.384446,51.2079378 99.0798538,46.7964445 C95.4583524,40.1849736 94.1114431,32.3719766 95.591428,24.9543602 C96.8052617,19.097497 99.8698458,13.6698602 104.112879,9.47298004 C109.830513,3.88303721 117.561972,0.499225663 125.538045,0 L129.322621,0 Z"})," ",r.a.createElement("path",{d:"M151.652474,72 L151.652474,148.672145 C135.535571,132.464045 127.553192,124.419378 127.705338,124.538145 C131.041338,123.277145 130.263338,119.369145 130.912338,116.576145 C133.335338,100.096145 142.081338,85.5241452 151.543338,72.1531452 C151.579693,72.102109 151.616072,72.0510607 151.652474,72 Z"})," ",r.a.createElement("path",{d:"M106.040648,74 L92,88.0399478 L125.952845,121.992793 C123.906994,113.374953 121.723258,103.970177 117.61803,95.9459594 C114.174293,88.3766869 110.811044,80.7912134 106.040648,74 Z"})," ")},picture:{className:"picture",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M1,4v22h28V4H1z M27,24H3V6h24V24z M18,10l-5,6l-2-2l-6,8h20L18,10z M11.216,17.045l1.918,1.918l4.576-5.491L21.518,20H9 L11.216,17.045z M7,12c1.104,0,2-0.896,2-2S8.104,8,7,8s-2,0.896-2,2S5.896,12,7,12z"})},tex:{className:"tex",viewBox:"0 0 32 21",svg:r.a.createElement("g",null," ",r.a.createElement("g",{id:"d7fc5246-3c04-467c-8f25-6c129c5642ac","data-name":"tex"}," ",r.a.createElement("g",{id:"ec363c67-067d-4da0-8c27-f8d029e068bd","data-name":"E"}," ",r.a.createElement("path",{id:"e1948427-1829-4c96-a9f4-14a99a3d5b97","data-name":"path0 fill",d:"M497.33,497.82c-1.2,0-2.11-.06-3-0.06a0.5,0.5,0,0,0-.55.27c0,0.15.17,0.23,0.57,0.32a1.08,1.08,0,0,1,1.06,1.23c0,0.55,0,1,0,3.32s-0.08,4.43-.13,5.21c-0.08,1-.42,1.2-1.39,1.41a0.59,0.59,0,0,0-.53.32c0,0.21.23,0.25,0.59,0.25,0.7,0,1.08-.09,2.13-0.09,2.76,0,6,.13,6.21.13a0.7,0.7,0,0,0,.36-0.21,14.63,14.63,0,0,0,.68-2.07c0-.21,0-0.53-0.15-0.53a0.78,0.78,0,0,0-.48.55,2.41,2.41,0,0,1-1.54,1.41,9,9,0,0,1-1.8.15,10.57,10.57,0,0,1-1.69-.13,0.74,0.74,0,0,1-.38-0.44,7,7,0,0,1-.15-1.56c0-.78,0-2.49.06-2.93a0.26,0.26,0,0,1,.17-0.17c0.53,0,1.29,0,1.9,0,1.06,0.06,1.18.13,1.44,1a0.52,0.52,0,0,0,.32.4c0.15,0,.23-0.19.23-0.53s-0.06-.68-0.06-1.2,0-.84.06-1.35c0-.17,0-0.46-0.17-0.46a0.54,0.54,0,0,0-.36.42c-0.34.87-.38,0.93-2.09,0.93h-1.27a0.18,0.18,0,0,1-.17-0.17c0-.44,0-3.84.08-4.29a0.5,0.5,0,0,1,.27-0.55,21.09,21.09,0,0,1,2.7.1,1.4,1.4,0,0,1,1.25,1.31,0.54,0.54,0,0,0,.3.47,0.46,0.46,0,0,0,.3-0.51c0-.38,0-1.08,0-1.84a0.28,0.28,0,0,0-.17-0.23,14.12,14.12,0,0,1-1.75.08h-2.81Z",transform:"translate(-484.44 -490.06)"})," ")," ",r.a.createElement("g",{id:"8dfbf0a9-85f0-49da-99d8-6229354b9534","data-name":"T"}," ",r.a.createElement("path",{id:"8602b8e9-f5d6-42d3-88c6-0649b350ce04","data-name":"path1 fill",d:"M490.48,490.82c-2.18,0-3.91-.06-4.39-0.11a1.32,1.32,0,0,1-.68-0.34,0.85,0.85,0,0,0-.3-0.3,0.39,0.39,0,0,0-.28.32,19.85,19.85,0,0,1-.38,2.55,0.4,0.4,0,0,0,.23.42c0.08,0,.19,0,0.38-0.42a5.64,5.64,0,0,1,.61-1,1.72,1.72,0,0,1,1.35-.44c0.32,0,1.94,0,2.3.09a0.26,0.26,0,0,1,.17.25v2.26c0,1.46-.09,5.3-0.13,6.44-0.06,1.41-.11,1.71-1.41,2a0.47,0.47,0,0,0-.38.34c0,0.11.19,0.23,0.57,0.23s1.33-.13,2.22-0.13,2.13,0.1,2.28.1,0.53,0,.53-0.25a0.65,0.65,0,0,0-.49-0.34c-1.22-.25-1.31-0.53-1.39-1.33s-0.1-2.6-.1-4.81c0-1.63,0-3.61,0-4.5a0.35,0.35,0,0,1,.15-0.25c0.29-.06,2.26-0.06,2.6,0,1.12,0.06,1.37.15,1.5,1.16,0.06,0.48.15,0.61,0.28,0.61a0.43,0.43,0,0,0,.32-0.38,11.69,11.69,0,0,1,.42-2.2c0.1-.27,0-0.44-0.09-0.44a0.72,0.72,0,0,0-.28.13,2.49,2.49,0,0,1-1.33.32C494,490.8,491.49,490.82,490.48,490.82Z",transform:"translate(-484.44 -490.06)"})," ")," ",r.a.createElement("g",{id:"88168da7-a35d-4a6e-af2a-2bab78b9d062","data-name":"X"}," ",r.a.createElement("path",{id:"f33958e3-fb20-476c-b2a8-674ffe821a96","data-name":"path2 fill",d:"M504,491a0.52,0.52,0,0,0,.51.36,3,3,0,0,1,1.84,1.14,53.54,53.54,0,0,1,3,4.73,0.22,0.22,0,0,1-.06.27c-1.14,1.58-2.22,2.87-3,3.72a4.47,4.47,0,0,1-2.22,1.27c-0.51.1-.7,0.27-0.7,0.44s0.15,0.21.51,0.21,1.2-.1,2-0.1c0.61,0,1.48.06,2,.06,0.25,0,.46-0.08.46-0.27a0.53,0.53,0,0,0-.46-0.32c-0.74-.27-1-0.47-0.17-1.82,0.53-.78,1.44-2,2.05-2.72a0.15,0.15,0,0,1,.19,0c0.23,0.21,2.09,3.17,2.53,4a0.26,0.26,0,0,1-.08.34,3.18,3.18,0,0,1-.68.23c-0.32.11-.42,0.19-0.42,0.34s0.11,0.25.47,0.25,1-.08,1.58-0.08c1.12,0,2.17.11,2.79,0.11,0.42,0,.57-0.09.57-0.25a0.49,0.49,0,0,0-.44-0.36,3.37,3.37,0,0,1-2.34-1.73c-0.49-.67-2.7-4-2.83-4.31a0.45,0.45,0,0,1,0-.23c0.91-1.27,2.17-2.7,2.85-3.52a3.79,3.79,0,0,1,2.38-1.41,0.5,0.5,0,0,0,.44-0.34,0.44,0.44,0,0,0-.46-0.21c-0.44,0-1.56.06-2,.06s-1.12,0-1.69,0c-0.36,0-.53.1-0.53,0.25a0.49,0.49,0,0,0,.48.34c0.67,0.13,1,.34.72,0.89a32.86,32.86,0,0,1-2.53,3.44,0.14,0.14,0,0,1-.19,0,33.44,33.44,0,0,1-2.3-3.63c-0.21-.38,0-0.59.34-0.68s0.46-.21.46-0.36a0.43,0.43,0,0,0-.47-0.21c-0.55,0-.91,0-1.63,0s-2-.1-2.39-0.1S504,490.84,504,491Z",transform:"translate(-484.44 -490.06)"})," ")," ")," ")},twitter:{className:"twitter",viewBox:"0 0 300 300",svg:r.a.createElement("path",{d:"M103.62,251.13969 C197.96,251.13969 249.56,172.97969 249.56,105.19969 C249.56,102.97969 249.56,100.76969 249.41,98.5696903 C259.448314,91.3087989 268.113555,82.3184843 275,72.0196903 C265.638791,76.167708 255.708293,78.8879768 245.54,80.0896903 C256.24744,73.6795109 264.261235,63.5974102 268.09,51.7196903 C258.021575,57.6942435 247.006461,61.9048105 235.52,64.1696903 C219.620828,47.2636331 194.357194,43.1258162 173.895493,54.0764896 C153.433792,65.027163 142.86275,88.3429476 148.11,110.94969 C106.868957,108.882186 68.4447578,89.402923 42.4,57.3596903 C28.7862276,80.7961376 35.7398788,110.778285 58.28,125.82969 C50.117412,125.587766 42.1327937,123.385822 35,119.40969 C35,119.61969 35,119.83969 35,120.05969 C35.0066813,144.47562 52.2175149,165.505042 76.15,170.33969 C68.598696,172.399091 60.6758059,172.700133 52.99,171.21969 C59.7094793,192.113919 78.9657456,206.427529 100.91,206.83969 C82.7473504,221.11401 60.3105951,228.862968 37.21,228.83969 C33.1290357,228.831856 29.0520407,228.584765 25,228.09969 C48.4563595,243.152456 75.749134,251.13686 103.62,251.09969"})},typeform:{className:"typeform",viewBox:"0 0 30 31",svg:r.a.createElement("path",{d:"M15.027 30.53c-4.294-.036-8.467-2.247-11.47-5.222C.553 22.333-.09 19.78.009 15.654.107 11.53 1.2 7.81 4.047 4.68 6.895 1.55 10.121.11 14.25.006c4.129-.103 7.291 1.046 10.44 4.156 3.15 3.11 5.242 7.127 5.31 11.392.067 4.266-1.978 6.94-4.972 9.936-2.994 2.995-5.706 5.077-10 5.04zm-4.891-19.66h3.818v10.304h1.903V10.87h3.818V9.071h-9.54v1.798z"})},video:{className:"video",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M2,2v26h26V2H2z M26,6h-2V4h2V6z M22,14H8V4h14V14z M6,10H4V8h2V10z M6,12v2H4v-2H6z M6,16v2H4v-2H6z M6,20v2H4v-2H6z M8,16 h14v10H8V16z M24,20h2v2h-2V20z M24,18v-2h2v2H24z M24,14v-2h2v2H24z M24,10V8h2v2H24z M6,4v2H4V4H6z M4,24h2v2H4V24z M24,26v-2h2v2 H24z"})},importText:{className:"importText",viewBox:"0 0 32 32",svg:r.a.createElement("path",{d:"M6.3999,22.4 L19.1999,22.4 L19.1999,20.2667 L6.3999,20.2667 L6.3999,22.4 Z M6.3999,9.59999 L6.3999,11.7333 L25.5999,11.7333 L25.5999,9.59999 L6.3999,9.59999 Z M6.3999,17.0667 L25.5999,17.0667 L25.5999,14.9333 L6.3999,14.9333 L6.3999,17.0667 Z"})},importHTML:{className:"importHTML",viewBox:"0 0 32 32",svg:r.a.createElement("path",{d:"M13.088,21.472 L7.93605,16.32 L13.088,11.168 L11.52,9.59999 L4.80005,16.32 L11.52,23.04 L13.088,21.472 Z M18.912,21.472 L24.0641,16.32 L18.912,11.168 L20.48,9.59999 L27.2,16.32 L20.48,23.04 L18.912,21.472 Z"})},importCSV:{className:"importCSV",viewBox:"0 0 32 32",svg:r.a.createElement("polygon",{points:"21.0286 9.14285 10.7429 9.14285 10.7429 10.8571 16.3143 16 10.7429 21.1429 10.7429 22.8571 21.0286 22.8571 21.0286 20.2857 15.0286 20.2857 19.3143 16 15.0286 11.7143 21.0286 11.7143"})},iOSShare:{className:"mobileTopbarShare",viewBox:"0 0 26 26",svg:r.a.createElement("path",{d:"M13 16.166C13.4619 16.166 13.8486 15.7793 13.8486 15.3281V4.2959L13.7842 2.68457L14.5039 3.44727L16.1367 5.1875C16.2871 5.35938 16.5127 5.44531 16.7168 5.44531C17.1572 5.44531 17.501 5.12305 17.501 4.68262C17.501 4.45703 17.4043 4.28516 17.2432 4.12402L13.6123 0.62207C13.3975 0.407227 13.2148 0.332031 13 0.332031C12.7744 0.332031 12.5918 0.407227 12.377 0.62207L8.74609 4.12402C8.58496 4.28516 8.48828 4.45703 8.48828 4.68262C8.48828 5.12305 8.81055 5.44531 9.26172 5.44531C9.46582 5.44531 9.70215 5.35938 9.85254 5.1875L11.4854 3.44727L12.2051 2.68457L12.1406 4.2959V15.3281C12.1406 15.7793 12.5381 16.166 13 16.166ZM6.83398 24.5771H19.1553C21.4004 24.5771 22.5283 23.46 22.5283 21.2471V10.5264C22.5283 8.31348 21.4004 7.19629 19.1553 7.19629H16.1582V8.92578H19.123C20.1865 8.92578 20.7988 9.50586 20.7988 10.623V21.1504C20.7988 22.2676 20.1865 22.8477 19.123 22.8477H6.85547C5.78125 22.8477 5.19043 22.2676 5.19043 21.1504V10.623C5.19043 9.50586 5.78125 8.92578 6.85547 8.92578H9.83105V7.19629H6.83398C4.58887 7.19629 3.46094 8.31348 3.46094 10.5264V21.2471C3.46094 23.46 4.58887 24.5771 6.83398 24.5771Z"})},androidShare:{className:"androidShare",viewBox:"0 0 15 15",svg:r.a.createElement("path",{d:"M11.9952,10.6024 C11.4229,10.6024 10.9108,10.8283 10.51928,11.1822 L5.15029999,8.05723 C5.18794999,7.88404 5.21806999,7.71084 5.21806999,7.53012 C5.21806999,7.3494 5.18794999,7.1762 5.15029999,7.00301 L10.45904,3.90813 C10.8657,4.28464 11.4003,4.51807 11.9952,4.51807 C13.2452,4.51807 14.2542,3.50904 14.2542,2.25904 C14.2542,1.00904 13.2452,0 11.9952,0 C10.7452,0 9.73614999,1.00904 9.73614999,2.25904 C9.73614999,2.43976 9.76626999,2.61295 9.80391999,2.78614 L4.49517999,5.88102 C4.08854999,5.50452 3.55391999,5.27108 2.95903999,5.27108 C1.70903999,5.27108 0.699999988,6.28012 0.699999988,7.53012 C0.699999988,8.78012 1.70903999,9.78916 2.95903999,9.78916 C3.55391999,9.78916 4.08854999,9.55572 4.49517999,9.17922 L9.85662999,12.3117 C9.81897999,12.4699 9.79638999,12.6355 9.79638999,12.8012 C9.79638999,14.0136 10.7828,15 11.9952,15 C13.2075,15 14.194,14.0136 14.194,12.8012 C14.194,11.5889 13.2075,10.6024 11.9952,10.6024 Z"})},mobileTopbarMore:{className:"mobileTopbarMore",viewBox:"0 0 26 26",svg:r.a.createElement("path",{d:"M7.19922 13.2549C7.19922 12.0625 6.23242 11.1064 5.01855 11.1064C3.83691 11.1064 2.87012 12.0625 2.87012 13.2549C2.87012 14.4473 3.83691 15.4033 5.01855 15.4033C6.23242 15.4033 7.19922 14.4473 7.19922 13.2549ZM15.1484 13.2549C15.1484 12.0625 14.1924 11.1064 13 11.1064C11.8184 11.1064 10.8623 12.0625 10.8623 13.2549C10.8623 14.4473 11.8184 15.4033 13 15.4033C14.1924 15.4033 15.1484 14.4473 15.1484 13.2549ZM23.1299 13.2549C23.1299 12.0625 22.1738 11.1064 20.9814 11.1064C19.7676 11.1064 18.8115 12.0625 18.8115 13.2549C18.8115 14.4473 19.7676 15.4033 20.9814 15.4033C22.1738 15.4033 23.1299 14.4473 23.1299 13.2549Z"})},mobileLocked:{className:"mobileLocked",viewBox:"0 0 26 26",svg:r.a.createElement("path",{d:"M7.88672 23.417H18.1133C19.499 23.417 20.1758 22.7295 20.1758 21.2256V13.3408C20.1758 11.9873 19.6172 11.2891 18.4678 11.1709V8.46387C18.4678 4.41406 15.8145 2.45898 13 2.45898C10.1855 2.45898 7.53223 4.41406 7.53223 8.46387V11.2246C6.47949 11.3857 5.82422 12.0732 5.82422 13.3408V21.2256C5.82422 22.7295 6.50098 23.417 7.88672 23.417ZM9.26172 8.23828C9.26172 5.54199 10.9912 4.11328 13 4.11328C15.0088 4.11328 16.7383 5.54199 16.7383 8.23828V11.1602L9.26172 11.1709V8.23828Z"})},mobileUnlocked:{className:"mobileUnlocked",viewBox:"0 0 32 26",svg:r.a.createElement("path",{d:"M7.89355 23.417H18.1094C19.4951 23.417 20.1826 22.7295 20.1826 21.2256V13.3408C20.1826 12.0303 19.6562 11.332 18.582 11.1816V8.23828C18.582 5.54199 20.3115 4.11328 22.3203 4.11328C24.3291 4.11328 26.0586 5.54199 26.0586 8.23828V10.623C26.0586 11.2783 26.4346 11.6006 26.9287 11.6006C27.4014 11.6006 27.7881 11.3105 27.7881 10.623V8.46387C27.7881 4.41406 25.1348 2.45898 22.3203 2.45898C19.5059 2.45898 16.8525 4.41406 16.8525 8.46387V11.1602L8.1084 11.1816C6.72266 11.1816 5.82031 11.8584 5.82031 13.3408V21.2256C5.82031 22.7295 6.50781 23.417 7.89355 23.417Z"})},mobileNewFeatures:{className:"mobileNewFeatures",viewBox:"0 0 26 26",svg:r.a.createElement("path",{d:"M12.3984 5.47754C12.5273 5.47754 12.5918 5.40234 12.624 5.28418C12.9463 3.49023 12.9355 3.44727 14.8047 3.09277C14.9229 3.07129 15.0088 2.99609 15.0088 2.86719C15.0088 2.73828 14.9229 2.66309 14.8047 2.6416C12.9355 2.26562 13 2.22266 12.624 0.450195C12.5918 0.332031 12.5273 0.256836 12.3984 0.256836C12.2695 0.256836 12.1943 0.332031 12.1729 0.450195C11.7969 2.22266 11.8613 2.26562 9.99219 2.6416C9.86328 2.66309 9.78809 2.73828 9.78809 2.86719C9.78809 2.99609 9.86328 3.07129 9.99219 3.09277C11.8613 3.46875 11.8398 3.49023 12.1729 5.28418C12.1943 5.40234 12.2695 5.47754 12.3984 5.47754ZM7.19922 12.8682C7.40332 12.8682 7.54297 12.7393 7.56445 12.5459C7.95117 9.67773 8.04785 9.67773 11.0127 9.1084C11.1953 9.07617 11.335 8.94727 11.335 8.74316C11.335 8.5498 11.1953 8.41016 11.0127 8.37793C8.04785 7.96973 7.94043 7.87305 7.56445 4.95117C7.54297 4.75781 7.40332 4.61816 7.19922 4.61816C7.00586 4.61816 6.86621 4.75781 6.83398 4.96191C6.49023 7.84082 6.3291 7.83008 3.38574 8.37793C3.20312 8.4209 3.06348 8.5498 3.06348 8.74316C3.06348 8.95801 3.20312 9.07617 3.42871 9.1084C6.35059 9.58105 6.49023 9.65625 6.83398 12.5244C6.86621 12.7393 7.00586 12.8682 7.19922 12.8682ZM14.4824 24.7598C14.7617 24.7598 14.9658 24.5557 15.0088 24.2656C15.7715 18.3789 16.6094 17.4873 22.4316 16.8428C22.7324 16.8105 22.9365 16.585 22.9365 16.3057C22.9365 16.0264 22.7324 15.8115 22.4316 15.7686C16.6094 15.124 15.7715 14.2324 15.0088 8.3457C14.9658 8.05566 14.7617 7.8623 14.4824 7.8623C14.2031 7.8623 13.999 8.05566 13.9561 8.3457C13.1826 14.2324 12.3555 15.124 6.5332 15.7686C6.23242 15.8115 6.02832 16.0264 6.02832 16.3057C6.02832 16.585 6.23242 16.8105 6.5332 16.8428C12.3447 17.6055 13.1504 18.3896 13.9561 24.2656C13.999 24.5557 14.2031 24.7598 14.4824 24.7598Z"})},mobileOffline:{className:"mobileOffline",viewBox:"0 0 26 26",svg:r.a.createElement("path",{d:"M26.0029 13.2441C25.9922 11.9873 24.2842 11.0742 22.2324 11.0742H17.9033C17.3018 11.0742 17.0762 10.9775 16.7217 10.5693L9.50293 2.69531C9.27734 2.4375 8.99805 2.30859 8.67578 2.30859H7.42969C7.15039 2.30859 6.98926 2.55566 7.12891 2.85645L10.8457 11.0742L5.38867 11.6973L3.44434 8.13086C3.30469 7.8623 3.06836 7.74414 2.71387 7.74414H2.25195C1.97266 7.74414 1.79004 7.92676 1.79004 8.20605V18.2822C1.79004 18.5615 1.97266 18.7334 2.25195 18.7334H2.71387C3.06836 18.7334 3.30469 18.6152 3.44434 18.3574L5.38867 14.791L10.8457 15.4141L7.12891 23.6318C6.98926 23.9219 7.15039 24.1797 7.42969 24.1797H8.67578C8.99805 24.1797 9.27734 24.04 9.50293 23.793L16.7217 15.9082C17.0762 15.5107 17.3018 15.4141 17.9033 15.4141H22.2324C24.2842 15.4141 25.9922 14.4902 26.0029 13.2441Z"})},mobileBottomBarSearch:{className:"mobileBottomBarSearch",viewBox:"0 0 26 26",svg:r.a.createElement("path",{d:"M11.1416 19.3779C12.9355 19.3779 14.5898 18.7979 15.9434 17.8311L21.0352 22.9229C21.2715 23.1592 21.583 23.2773 21.916 23.2773C22.6143 23.2773 23.1084 22.7402 23.1084 22.0527C23.1084 21.7305 23.001 21.4297 22.7646 21.1934L17.7051 16.123C18.7686 14.7266 19.4023 12.9971 19.4023 11.1172C19.4023 6.57324 15.6855 2.85645 11.1416 2.85645C6.59766 2.85645 2.88086 6.57324 2.88086 11.1172C2.88086 15.6611 6.59766 19.3779 11.1416 19.3779ZM11.1416 17.5947C7.59668 17.5947 4.66406 14.6621 4.66406 11.1172C4.66406 7.57227 7.59668 4.63965 11.1416 4.63965C14.6865 4.63965 17.6191 7.57227 17.6191 11.1172C17.6191 14.6621 14.6865 17.5947 11.1416 17.5947Z"})},mobileBottomBarUpdates:{className:"mobileBottomBarUpdates",viewBox:"0 0 26 26",svg:r.a.createElement("path",{d:"M4.48145 20.4092H15.2988C15.2129 21.8594 14.2891 22.7832 12.9893 22.7832C11.7002 22.7832 10.7656 21.8594 10.6904 20.4092H9.01465C9.10059 22.4717 10.7227 24.2871 12.9893 24.2871C15.2666 24.2871 16.8887 22.4824 16.9746 20.4092H21.5078C22.5176 20.4092 23.1299 19.8828 23.1299 19.1094C23.1299 18.0352 22.0342 17.0684 21.1104 16.1123C20.4014 15.3711 20.208 13.8457 20.1221 12.6104C20.0469 8.37793 18.9512 5.63867 16.0938 4.60742C15.7285 3.21094 14.5791 2.09375 12.9893 2.09375C11.4102 2.09375 10.25 3.21094 9.89551 4.60742C7.03809 5.63867 5.94238 8.37793 5.86719 12.6104C5.78125 13.8457 5.58789 15.3711 4.87891 16.1123C3.94434 17.0684 2.85938 18.0352 2.85938 19.1094C2.85938 19.8828 3.46094 20.4092 4.48145 20.4092ZM4.94336 18.7871V18.6582C5.13672 18.3359 5.78125 17.7129 6.33984 17.0791C7.11328 16.2197 7.47852 14.8447 7.5752 12.7393C7.66113 8.05566 9.05762 6.55176 10.8945 6.05762C11.1631 5.99316 11.3135 5.85352 11.3242 5.58496C11.3564 4.45703 12.001 3.67285 12.9893 3.67285C13.9883 3.67285 14.6221 4.45703 14.665 5.58496C14.6758 5.85352 14.8154 5.99316 15.084 6.05762C16.9316 6.55176 18.3281 8.05566 18.4141 12.7393C18.5107 14.8447 18.876 16.2197 19.6387 17.0791C20.208 17.7129 20.8418 18.3359 21.0352 18.6582V18.7871H4.94336Z"})},mobileBottomBarAddPage:{className:"mobileBottomBarAddPage",viewBox:"0 0 26 26",svg:r.a.createElement("path",{d:"M22.5713 3.95215L23.3447 3.15722C23.71 2.78125 23.7207 2.25488 23.3555 1.90039L23.1084 1.64258C22.7754 1.30957 22.2383 1.35254 21.8945 1.69629L21.1104 2.46972L22.5713 3.95215ZM10.207 15.124L12.3018 14.2109L21.7764 4.73633L20.3047 3.28613L10.8408 12.7607L9.87402 14.7803C9.78809 14.9629 10.0029 15.21 10.207 15.124ZM5.74902 23.1162H18.3604C20.2832 23.1162 21.4111 21.999 21.4111 19.7861V7.83008L19.6816 9.55957V19.7002C19.6816 20.8174 19.0693 21.3867 18.3281 21.3867H5.77051C4.69629 21.3867 4.10547 20.8174 4.10547 19.7002V7.50781C4.10547 6.39062 4.69629 5.81054 5.77051 5.81054H15.0625L16.792 4.08105H5.74902C3.50391 4.08105 2.37598 5.19824 2.37598 7.41113V19.7861C2.37598 22.0098 3.50391 23.1162 5.74902 23.1162Z"})},mobileBottomBarUndo:{className:"mobileBottomBarUndo",viewBox:"0 0 26 26",svg:r.a.createElement("path",{d:"M23.1514 17.498C23.1514 13.3945 20.3691 10.5586 15.4707 10.5586H8.25195L5.73828 10.6768L7.76855 8.93652L10.873 5.90723C11.0342 5.73535 11.1309 5.53125 11.1309 5.25195C11.1309 4.69336 10.7549 4.30664 10.1748 4.30664C9.94922 4.30664 9.66992 4.4248 9.4873 4.60742L3.1709 10.8057C2.95605 11.0098 2.84863 11.2568 2.84863 11.5254C2.84863 11.7832 2.95605 12.0303 3.1709 12.2344L9.4873 18.4326C9.66992 18.626 9.94922 18.7334 10.1748 18.7334C10.7549 18.7334 11.1309 18.3467 11.1309 17.7881C11.1309 17.5088 11.0342 17.3047 10.873 17.1328L7.76855 14.1143L5.73828 12.374L8.25195 12.4814H15.6318C19.2949 12.4814 21.2285 14.501 21.2285 17.3906C21.2285 20.291 19.2949 22.4395 15.6318 22.4395H13.1611C12.5703 22.4395 12.1836 22.8691 12.1836 23.3955C12.1836 23.9219 12.5703 24.3516 13.1611 24.3516H15.6426C20.4443 24.3516 23.1514 21.6123 23.1514 17.498Z"})},mobileBottomBarRedo:{className:"mobileBottomBarRedo",viewBox:"0 0 26 26",svg:r.a.createElement("path",{d:"M2.84863 17.498C2.84863 21.6123 5.54492 24.3516 10.3574 24.3516H12.8389C13.4297 24.3516 13.8164 23.9219 13.8164 23.3955C13.8164 22.8691 13.4297 22.4395 12.8389 22.4395H10.3682C6.70508 22.4395 4.76074 20.291 4.76074 17.3906C4.76074 14.501 6.70508 12.4814 10.3682 12.4814H17.7373L20.2617 12.374L18.2207 14.1143L15.127 17.1328C14.9551 17.3047 14.8691 17.5088 14.8691 17.7881C14.8691 18.3467 15.2451 18.7334 15.8145 18.7334C16.0508 18.7334 16.3301 18.626 16.5127 18.4326L22.8291 12.2344C23.0439 12.0303 23.1514 11.7832 23.1514 11.5254C23.1514 11.2568 23.0439 11.0098 22.8291 10.8057L16.5127 4.60742C16.3301 4.4248 16.0508 4.30664 15.8145 4.30664C15.2451 4.30664 14.8691 4.69336 14.8691 5.25195C14.8691 5.53125 14.9551 5.73535 15.127 5.90723L18.2207 8.93652L20.2617 10.6768L17.7373 10.5586H10.5293C5.62012 10.5586 2.84863 13.3945 2.84863 17.498Z"})},image:{className:"image",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M2,2v26h26V2H2z M26,26H4v-4h22V26z M26,20H4V4h22V20z M8,10c1.104,0,2-0.896,2-2S9.104,6,8,6S6,6.896,6,8S6.896,10,8,10z M18,7l-5,5l-2-1l-5,7h18L18,7z M11.635,13.553l1.76,0.881l4.129-4.129L20.631,16H9.887L11.635,13.553z"})},indentDown:{className:"indentDown",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M24,15l-1.406-1.406L16,20.188V2h-2v18.188l-6.594-6.594L6,15l9,9L24,15z M2,26v2h26v-2H2z"})},keyboard:{className:"keyboard",viewBox:"0 0 30 30",svg:r.a.createElement("g",null," ",r.a.createElement("path",{d:"M15,30l8-10H7Zm0-3.2L11.16,22h7.68Z"})," ",r.a.createElement("path",{d:"M6,4H4V6H6V4Zm4,0H8V6h2V4Zm4,0H12V6h2V4Zm4,0H16V6h2V4Zm4,0H20V6h2V4Zm4,0H24V6h2V4ZM10,8H8v2h2V8Zm4,0H12v2h2V8Zm4,0H16v2h2V8Zm4,0H20v2h2V8Zm-2,4H10v2H20V12Zm5,0H22v2h3V12ZM5,14H8V12H5v2ZM0,0V18H30V0H0ZM28,16H2V2H28V16Z"})," ")},moveUp:{className:"moveUp",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M14,5.813V24h2V5.813l6.594,6.594L24,11l-9-9l-9,9l1.406,1.406L14,5.813z M2,26v2h26v-2H2z"})},thinPlus:{className:"thinPlus",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M 7.75 0L 6.25 0L 6.25 6.25L 0 6.25L 0 7.75L 6.25 7.75L 6.25 14L 7.75 14L 7.75 7.75L 14 7.75L 14 6.25L 7.75 6.25L 7.75 0Z"})},onboardingUseCaseBook:{className:"onboardingUseCaseBook",viewBox:"0 0 18 22",svg:r.a.createElement("path",{d:"M3.654 21.535H16.36c.518 0 .918-.4.918-.918 0-.44-.302-.762-.674-.937-1.2-.537-1.435-2.198-.214-3.36.498-.44.879-.927.879-1.914V3.596c0-2.11-1.084-3.213-3.184-3.213H3.674C1.584.383.49 1.477.49 3.596v14.756c0 2.09 1.094 3.183 3.164 3.183zM13.908 2.326c.947 0 1.416.498 1.416 1.397v10.38c0 .479-.273.743-.761.743h-9.59V2.326h8.935zM2.434 15.187V3.723c0-.81.38-1.29 1.152-1.377v12.51a3 3 0 00-1.152.332zM6.72 6.8h6.826c.38 0 .693-.313.693-.694a.696.696 0 00-.693-.693H6.72a.696.696 0 00-.694.693c0 .381.313.694.694.694zm0 2.724h5.175c.381 0 .694-.312.694-.693a.696.696 0 00-.694-.693H6.721a.696.696 0 00-.694.693c0 .38.313.693.694.693zM3.918 19.7c-1.045 0-1.592-.596-1.592-1.514 0-.888.625-1.503 1.66-1.503h9.746c.108 0 .215-.01.313-.03-.488 1.035-.43 2.159.098 3.047H3.918z",fill:"#6E6C62"})},onboardingUseCaseTarget:{className:"onboardingUseCaseTarget",viewBox:"0 0 22 22",svg:r.a.createElement("path",{d:"M10.99 21.047c5.537 0 10.108-4.57 10.108-10.098 0-5.527-4.58-10.097-10.117-10.097C5.452.852.893 5.422.893 10.949c0 5.528 4.57 10.098 10.097 10.098zm0-2.012a8.048 8.048 0 01-8.066-8.086 8.038 8.038 0 018.056-8.076 8.07 8.07 0 018.096 8.076 8.059 8.059 0 01-8.086 8.086zm0-1.924c3.37 0 6.162-2.802 6.162-6.162 0-3.369-2.793-6.162-6.162-6.162-3.369 0-6.152 2.793-6.152 6.162 0 3.36 2.803 6.162 6.152 6.162zm0-1.816c-2.344 0-4.336-1.992-4.336-4.346 0-2.363 1.973-4.345 4.336-4.345 2.354 0 4.346 1.992 4.346 4.345 0 2.364-1.982 4.346-4.346 4.346zM11 13.38a2.445 2.445 0 002.432-2.432A2.45 2.45 0 0011 8.518a2.447 2.447 0 00-2.441 2.431c0 1.338 1.113 2.432 2.441 2.432z",fill:"#6E6C62"})},onboardingUseCaseNotebook:{className:"onboardingUseCaseNotebook",viewBox:"0 0 21 21",svg:r.a.createElement("path",{d:"M19.197 3.127l.733-.772c.37-.39.4-.927.029-1.298l-.254-.264c-.332-.332-.889-.283-1.25.078l-.762.742 1.504 1.514zM7.635 13.517l2.002-.84 8.847-8.847-1.504-1.494-8.847 8.857-.88 1.934c-.097.225.157.478.382.39zM3.924 20.07H15.3c1.875 0 2.978-1.093 2.978-3.183V6.574l-1.953 1.944v8.193c0 .937-.498 1.406-1.152 1.406H4.05c-.899 0-1.387-.469-1.387-1.406V5.86c0-.937.488-1.406 1.387-1.406h8.29l1.944-1.953H3.924C1.814 2.502.71 3.596.71 5.686v11.2c0 2.09 1.103 3.184 3.213 3.184z",fill:"#6E6C62"})},collectionBoard:{className:"collectionBoard",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M12,1.5 L2,1.5 C1.72386,1.5 1.5,1.72386 1.5,2 L1.5,12 C1.5,12.2761 1.72386,12.5 2,12.5 L12,12.5 C12.2761,12.5 12.5,12.2761 12.5,12 L12.5,2 C12.5,1.72386 12.2761,1.5 12,1.5 Z M2,0 L12,0 C13.1046,0 14,0.895431 14,2 L14,12 C14,13.1046 13.1046,14 12,14 L2,14 C0.89543,14 0,13.1046 0,12 L0,2 C0,0.89543 0.895431,0 2,0 Z M3,3 L5,3 L5,9 L3,9 L3,3 Z M6,3 L8,3 L8,11 L6,11 L6,3 Z M9,3 L11,3 L11,7 L9,7 L9,3 Z"})},collectionCalendar:{className:"collectionCalendar",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M2.5638852,4.00389099 C1.97751564,4.00389099 1.85394185,4.02775419 1.73055258,4.09374349 C1.66602937,4.12825089 1.62435989,4.16992036 1.5898525,4.23444358 C1.5238632,4.35783284 1.5,4.48140663 1.5,5.06777619 L1.5,11.4361148 C1.5,12.0224844 1.5238632,12.1460581 1.5898525,12.2694474 C1.62435989,12.3339706 1.66602937,12.3756401 1.73055258,12.4101475 C1.85394185,12.4761368 1.97751564,12.5 2.5638852,12.5 L11.4361148,12.5 C12.0224844,12.5 12.1460581,12.4761368 12.2694474,12.4101475 C12.3339706,12.3756401 12.3756401,12.3339706 12.4101475,12.2694474 C12.4761368,12.1460581 12.5,12.0224844 12.5,11.4361148 L12.5,5.06777619 C12.5,4.48140663 12.4761368,4.35783284 12.4101475,4.23444358 C12.3756401,4.16992036 12.3339706,4.12825089 12.2694474,4.09374349 C12.1460581,4.02775419 12.0224844,4.00389099 11.4361148,4.00389099 L2.5638852,4.00389099 Z M2.5638852,0 L11.4361148,0 C12.3276335,0 12.6509198,0.0928256111 12.9768457,0.267132704 C13.3027716,0.441439796 13.5585602,0.697228371 13.7328673,1.0231543 C13.9071744,1.34908022 14,1.67236646 14,2.5638852 L14,11.4361148 C14,12.3276335 13.9071744,12.6509198 13.7328673,12.9768457 C13.5585602,13.3027716 13.3027716,13.5585602 12.9768457,13.7328673 C12.6509198,13.9071744 12.3276335,14 11.4361148,14 L2.5638852,14 C1.67236646,14 1.34908022,13.9071744 1.0231543,13.7328673 C0.697228371,13.5585602 0.441439796,13.3027716 0.267132704,12.9768457 C0.0928256111,12.6509198 0,12.3276335 0,11.4361148 L0,2.5638852 C0,1.67236646 0.0928256111,1.34908022 0.267132704,1.0231543 C0.441439796,0.697228371 0.697228371,0.441439796 1.0231543,0.267132704 C1.34908022,0.0928256111 1.67236646,0 2.5638852,0 Z M6.60827243,7.88013208 C6.78677948,7.99017068 6.92632446,8.13586302 7.02563114,8.31608625 C7.12516029,8.49671323 7.17444478,8.71027933 7.17444478,8.9554024 C7.17444478,9.26042304 7.09458389,9.55304765 6.93566937,9.83174103 C6.77538519,10.1128364 6.54407932,10.3297606 6.24381138,10.4810861 C5.94540062,10.6314756 5.55879429,10.7056433 5.08405217,10.7056433 C4.62315853,10.7056433 4.25679776,10.6510666 3.98380762,10.5399797 C3.70934324,10.4282929 3.48240403,10.2640606 3.30440443,10.0478329 C3.12805817,9.83361358 2.99343194,9.56612479 2.9000001,9.24612071 L2.98283969,9.11896253 L4.35355,8.93709925 L4.46485161,9.01707949 C4.51509639,9.274584 4.59088114,9.44802427 4.6861205,9.53760584 C4.78031584,9.62620542 4.89992613,9.67041934 5.05037379,9.67041934 C5.20638667,9.67041934 5.33271256,9.61489147 5.43606184,9.50111245 C5.54064959,9.38596997 5.59363096,9.23042835 5.59363096,9.02949485 C5.59363096,8.82421978 5.54282963,8.67133198 5.44386571,8.56577046 C5.34581006,8.46117777 5.21246981,8.40877739 5.03690243,8.40877739 C4.940102,8.40877739 4.8002636,8.43420255 4.61981985,8.48575791 L4.49260711,8.38240774 L4.56333172,7.40236671 L4.67762175,7.31062857 C4.7495572,7.32120731 4.80463865,7.32640368 4.84156779,7.32640368 C4.99603629,7.32640368 5.12107828,7.27863483 5.22217495,7.1822623 C5.32279379,7.08634528 5.37135361,6.97651838 5.37135361,6.84713544 C5.37135361,6.722085 5.33602621,6.62758421 5.26592939,6.55748739 C5.1960994,6.4876574 5.09821525,6.45206316 4.96617782,6.45206316 C4.82951843,6.45206316 4.72325489,6.4915714 4.64164292,6.57046298 C4.55936951,6.64999394 4.49865583,6.80177812 4.4656423,7.0266828 L4.34906155,7.11059121 L3.05244369,6.87821034 L2.97332297,6.75453648 C3.08679789,6.31954925 3.30702416,5.98294325 3.63313024,5.74881581 C3.95868951,5.51508094 4.41255466,5.4 4.99312053,5.4 C5.65877252,5.4 6.14637512,5.52571922 6.45490983,5.78363496 C6.76483892,6.0427163 6.92185689,6.37269938 6.92185689,6.76630731 C6.92185689,6.99943375 6.85758381,7.21202929 6.72960167,7.40154132 C6.63860335,7.53628882 6.51541935,7.65798876 6.36055846,7.76690917 C6.45917626,7.80107221 6.54169576,7.83870598 6.60827243,7.88013208 Z M8.35473185,7.73466014 C8.13924866,7.8429779 7.87085874,7.94598469 7.54923148,8.0440696 L7.42006133,7.94841866 L7.42006133,6.82356057 L7.48940117,6.72837677 C7.94541079,6.58148906 8.29715313,6.40616238 8.54458609,6.20391284 C8.79116591,6.00236063 8.98398529,5.75383787 9.12361714,5.45738873 L9.21408414,5.4 L10.3490457,5.4 L10.4490457,5.5 L10.4490457,10.5214473 L10.3490457,10.6214473 L8.96149625,10.6214473 L8.86149625,10.5214473 L8.86149625,7.42808474 C8.68861763,7.54952106 8.51971893,7.65172546 8.35473185,7.73466014 Z"})},collectionDeleteRule:{className:"collectionDeleteRule",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M12 3.27273L10.7273 2L7 5.72727L3.27273 2L2 3.27273L5.72727 7L2 10.7273L3.27273 12L7 8.27273L10.7273 12L12 10.7273L8.27273 7L12 3.27273Z"})},collectionGallery:{className:"collectionGallery",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M12,1.5 L2,1.5 C1.72386,1.5 1.5,1.72386 1.5,2 L1.5,12 C1.5,12.2761 1.72386,12.5 2,12.5 L12,12.5 C12.2761,12.5 12.5,12.2761 12.5,12 L12.5,2 C12.5,1.72386 12.2761,1.5 12,1.5 Z M2,0 L12,0 C13.1046,0 14,0.895431 14,2 L14,12 C14,13.1046 13.1046,14 12,14 L2,14 C0.89543,14 0,13.1046 0,12 L0,2 C0,0.89543 0.895431,0 2,0 Z M3,3 L6.5,3 L6.5,6.5 L3,6.5 L3,3 Z M7.5,3 L11,3 L11,6.5 L7.5,6.5 L7.5,3 Z M3,7.5 L6.5,7.5 L6.5,11 L3,11 L3,7.5 Z M7.5,7.5 L11,7.5 L11,11 L7.5,11 L7.5,7.5 Z"})},collectionTimeline:{className:"collectionTimeline",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M12 1.5H2a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h10a.5.5 0 00.5-.5V2a.5.5 0 00-.5-.5zM2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2z M10.25 4.75h-3.5a.75.75 0 010-1.5h3.5a.75.75 0 010 1.5zM8.75 7.75h-3.5a.75.75 0 010-1.5h3.5a.75.75 0 010 1.5zM7.25 10.75h-3.5a.75.75 0 010-1.5h3.5a.75.75 0 010 1.5z"})},collectionTimelineArrowLeft:{className:"collectionTimelineArrowLeft",viewBox:"0 0 9 7",svg:r.a.createElement("path",{d:"M0 3.5021C0 3.70786 0.0939831 3.93041 0.237195 4.06479L3.11934 6.76065C3.28493 6.91602 3.48633 7 3.67877 7C4.17106 7 4.48881 6.68506 4.48881 6.27774C4.48881 6.03839 4.37245 5.86203 4.22029 5.72345L3.19095 4.77025L2.56887 4.22855L3.47737 4.27055L8.13625 4.27055C8.6554 4.27055 9 3.96401 9 3.5021C9 3.04019 8.6554 2.73365 8.13625 2.73365L3.47737 2.73365L2.56887 2.77564L3.19095 2.23395L4.22029 1.27654C4.37245 1.13377 4.48881 0.961608 4.48881 0.722255C4.48881 0.314937 4.17106 0 3.67877 0C3.48633 0 3.28493 0.0839832 3.11487 0.239352L0.237195 2.93941C0.0939831 3.07378 0 3.29634 0 3.5021Z"})},collectionTimelineArrowRight:{className:"collectionTimelineArrowRight",viewBox:"0 0 9 7",svg:r.a.createElement("path",{d:"M9 3.4979C9 3.29214 8.90602 3.06959 8.7628 2.93521L5.88066 0.239352C5.71507 0.0839835 5.51368 3.13148e-07 5.32123 2.96324e-07C4.82894 2.53287e-07 4.51119 0.314937 4.51119 0.722256C4.51119 0.961608 4.62755 1.13797 4.77971 1.27654L5.80905 2.22975L6.43113 2.77145L5.52263 2.72945L0.863749 2.72945C0.344604 2.72945 -6.62078e-07 3.03599 -7.02459e-07 3.4979C-7.4284e-07 3.95981 0.344604 4.26635 0.863749 4.26635L5.52263 4.26635L6.43113 4.22436L5.80905 4.76605L4.77971 5.72346C4.62755 5.86623 4.51119 6.03839 4.51119 6.27774C4.51119 6.68506 4.82894 7 5.32123 7C5.51367 7 5.71507 6.91602 5.88513 6.76065L8.7628 4.06059C8.90602 3.92622 9 3.70366 9 3.4979Z"})},collectionTimelineShowTable:{className:"collectionTimelineShowTable",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M2.294 14h11.412c1.5 0 2.294-.755 2.294-2.151V4.145C16 2.749 15.206 2 13.706 2H2.294C.801 2 0 2.749 0 4.145v7.704C0 13.25.8 14 2.294 14zm.142-1.453c-.586 0-.895-.28-.895-.857V4.304c0-.578.31-.85.895-.85h3.122v9.093H2.436zm11.128-9.094c.579 0 .895.273.895.85v7.387c0 .578-.316.857-.895.857H6.997V3.453h6.567zM4.22 5.75c.269 0 .49-.215.49-.45 0-.241-.221-.45-.49-.45H2.893c-.276 0-.498.209-.498.45 0 .235.222.45.498.45H4.22zm0 1.752c.269 0 .49-.21.49-.45 0-.242-.221-.445-.49-.445H2.893c-.276 0-.498.203-.498.444s.222.45.498.45H4.22zm0 1.758c.269 0 .49-.21.49-.45 0-.242-.221-.445-.49-.445H2.893c-.276 0-.498.203-.498.444s.222.45.498.45H4.22z"})},collectionHide:{className:"collectionHide",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M26.6,0 L22.385,4.214 C19.976,2.883 17.337,2 15,2 C8.641,2 0,8.469 0,13 C0,15.455 2.542,18.468 5.878,20.722 L2,24.6 L3.4,26 L28,1.4 L26.6,0 Z M10.837,15.763 C10.31,14.971 9.99999,14.022 9.99999,13 C9.99999,10.239 12.238,8 15,8 C16.022,8 16.972,8.31 17.764,8.836 L10.837,15.763 Z M19.194,7.405 C18.025,6.526 16.576,6 15,6 C11.134,6 8,9.134 8,13 C8,14.576 8.526,16.025 9.40499,17.195 L7.299,19.301 C4.272,17.313 2,14.675 2,13 C2,10.025 9.149,4 15,4 C16.94,4 19.021,4.667 20.938,5.662 L19.194,7.405 Z M15,18 C14.76,18 14.53,17.962 14.299,17.929 L12.644,19.585 C13.381,19.849 14.172,20 15,20 C18.866,20 22,16.866 22,13 C22,12.172 21.849,11.381 21.585,10.643 L19.93,12.299 C19.962,12.53 20,12.76 20,13 C20,15.761 17.762,18 15,18 Z M25.746,6.481 L24.335,7.893 C26.506,9.657 28,11.644 28,13 C28,15.975 20.851,22 15,22 C13.707,22 12.353,21.694 11.024,21.204 L9.50999,22.717 C11.364,23.509 13.264,24.001 14.998,24.001 C21.357,24.001 29.998,17.532 29.998,13.001 C30,10.963 28.247,8.538 25.746,6.481 Z"})},collectionInbox:{className:"collectionInbox",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z"})},collectionList:{className:"collectionList",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M12,1.5 L2,1.5 C1.72386,1.5 1.5,1.72386 1.5,2 L1.5,12 C1.5,12.2761 1.72386,12.5 2,12.5 L12,12.5 C12.2761,12.5 12.5,12.2761 12.5,12 L12.5,2 C12.5,1.72386 12.2761,1.5 12,1.5 Z M2,0 L12,0 C13.1046,0 14,0.895431 14,2 L14,12 C14,13.1046 13.1046,14 12,14 L2,14 C0.89543,14 0,13.1046 0,12 L0,2 C0,0.89543 0.895431,0 2,0 Z M3,3 L9,3 L9,4.5 L3,4.5 L3,3 Z M3,5.5 L11,5.5 L11,7 L3,7 L3,5.5 Z M3,8 L7,8 L7,9.5 L3,9.5 L3,8 Z"})},collectionNumberType:{className:"collectionNumberType",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M1.73457,9.90096 L1.73457,4.54339 L1.65064,4.54339 L0,5.68112 L0,4.37087 L1.73923,3.17252 L3.14274,3.17252 L3.14274,9.90096 L1.73457,9.90096 Z M3.59633,5.22882 C3.59633,3.90925 4.62215,3 6.0956,3 C7.52242,3 8.43633,3.82532 8.43633,4.96304 C8.43633,5.75106 8.09128,6.29195 6.97221,7.34108 L5.57337,8.64667 L5.57337,8.7306 L8.52959,8.7306 L8.52959,9.90096 L3.6756,9.90096 L3.6756,8.91711 L6.03498,6.66031 C6.87429,5.85364 7.05614,5.5459 7.05614,5.0936 C7.05614,4.55738 6.67379,4.13306 6.01633,4.13306 C5.3309,4.13306 4.90192,4.58536 4.90192,5.22882 L3.59633,5.22882 Z M10.4889,6.96805 L10.4889,5.93757 L11.3282,5.93757 C11.967,5.93757 12.4007,5.55988 12.4007,5.00967 C12.4007,4.50609 12.0043,4.12374 11.3469,4.12374 C10.6661,4.12374 10.2464,4.47345 10.1998,5.07495 L8.89888,5.07495 C8.94551,3.83464 9.90139,3 11.4168,3 C12.9089,3 13.7389,3.82532 13.7342,4.80917 C13.7296,5.62516 13.2166,6.16139 12.4939,6.33857 L12.4939,6.42717 C13.4311,6.56239 14,7.15923 14,8.05915 C14,9.23884 12.8903,10.0735 11.3702,10.0735 C9.8501,10.0735 8.81495,9.24351 8.75434,7.97056 L10.1019,7.97056 C10.1439,8.53942 10.6288,8.90312 11.3515,8.90312 C12.0649,8.90312 12.5639,8.51611 12.5639,7.93326 C12.5639,7.33642 12.0976,6.96805 11.3422,6.96805 L10.4889,6.96805 Z"})},collectionSearch:{className:"collectionSearch",viewBox:"0 0 12 12",svg:r.a.createElement("path",{d:"M11,9.92308 L8.04962,6.97308 C8.455,6.36385 8.69231,5.63308 8.69231,4.84615 C8.69231,2.72192 6.96962,1 4.84615,1 C2.72269,1 1,2.72192 1,4.84615 C1,6.97038 2.72231,8.69231 4.84615,8.69231 C5.63269,8.69231 6.36346,8.455 6.97269,8.05 L9.92308,11 L11,9.92308 Z M4.84615,7.15385 C3.57192,7.15385 2.53846,6.12038 2.53846,4.84615 C2.53846,3.57192 3.57231,2.53846 4.84615,2.53846 C6.12,2.53846 7.15385,3.57192 7.15385,4.84615 C7.15385,6.12038 6.12038,7.15385 4.84615,7.15385 Z"})},collectionShow:{className:"collectionShow",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M15,4 C8.641,4 0,10.469 0,15 C0,19.531 8.641,26 15,26 C21.359,26 30,19.531 30,15 C30,10.469 21.359,4 15,4 Z M15,24 C9.149,24 2,17.975 2,15 C2,12.025 9.149,6 15,6 C20.851,6 28,12.025 28,15 C28,17.975 20.851,24 15,24 Z M15,8 C11.134,8 8,11.134 8,15 C8,18.866 11.134,22 15,22 C18.866,22 22,18.866 22,15 C22,11.134 18.866,8 15,8 Z M15,20 C12.238,20 10,17.761 10,15 C10,12.239 12.238,10 15,10 C17.762,10 20,12.239 20,15 C20,17.761 17.762,20 15,20 Z"})},collectionTable:{className:"collectionTable",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M2,2.22044605e-16 L12,0 C13.1045695,7.78148667e-16 14,0.8954305 14,2 L14,12 C14,13.1045695 13.1045695,14 12,14 L2,14 C0.8954305,14 1.11632554e-15,13.1045695 0,12 L0,2 C-1.3527075e-16,0.8954305 0.8954305,2.02906125e-16 2,2.22044605e-16 Z M5.75,5.67000008 L5.75,8.33000016 L12.5,8.33000016 L12.5,5.67000008 L5.75,5.67000008 Z M5.75,9.84000015 L5.75,12.5000002 L11.5,12.5000002 C12.0522847,12.5000002 12.5,12.052285 12.5,11.5000002 L12.5,9.84000015 L5.75,9.84000015 Z M1.5,5.67000008 L1.5,8.33000016 L4.25,8.33000016 L4.25,5.67000008 L1.5,5.67000008 Z M1.5,9.84000015 L1.5,11.5000002 C1.5,12.052285 1.94771525,12.5000002 2.5,12.5000002 L4.25,12.5000002 L4.25,9.84000015 L1.5,9.84000015 Z M2.5,1.5 C1.94771525,1.5 1.5,1.94771525 1.5,2.5 L1.5,4.16000009 L4.25,4.16000009 L4.25,1.5 L2.5,1.5 Z M5.75,1.5 L5.75,4.16000009 L12.5,4.16000009 L12.5,2.5 C12.5,1.94771525 12.0522847,1.5 11.5,1.5 L5.75,1.5 Z"})},trashThick:{className:"trashThick",viewBox:"0 0 24 24",svg:r.a.createElement("path",{d:"M17,5c0-2.2-1.8-4-4-4h-2C8.8,1,7,2.8,7,5H2v2h2v16h16V7h2V5H17z M11,3h2c1.103,0,2,0.897,2,2H9C9,3.897,9.897,3,11,3z M18,21H6V7h12V21z M10,9H8v10h2V9z M13,9h-2v10h2V9z M16,9h-2v10h2V9z"})},archive:{className:"archive",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M4.083 14.585h7.499c1.347 0 2.064-.697 2.064-2.037V5.739c.664-.11 1.019-.608 1.019-1.34V3.36c0-.834-.458-1.36-1.299-1.36H2.3C1.499 2 1 2.526 1 3.36V4.4c0 .73.355 1.23 1.019 1.34v6.808c0 1.347.717 2.037 2.064 2.037zM2.579 4.728c-.342 0-.478-.144-.478-.486v-.724c0-.342.136-.486.478-.486h10.514c.342 0 .472.144.472.486v.724c0 .342-.13.486-.472.486H2.579zm1.49 8.825c-.615 0-.95-.335-.95-.95V5.76h9.427v6.842c0 .616-.342.95-.95.95H4.069zM5.58 8.515h4.512c.287 0 .492-.199.492-.5v-.218c0-.3-.205-.492-.492-.492H5.58c-.287 0-.485.191-.485.492v.219c0 .3.198.499.485.499z"})},inbox:{className:"inbox",viewBox:"0 0 30 30",svg:r.a.createElement("path",{d:"M4.445 25.3h20.532c2.296 0 3.457-1.16 3.457-3.421v-6.715c0-.902-.13-1.324-.563-1.887l-4.406-5.53c-1.195-1.5-1.793-1.934-3.668-1.934H9.625c-1.875 0-2.473.433-3.668 1.933l-4.406 5.531c-.434.563-.563.985-.563 1.887v6.715c0 2.273 1.172 3.422 3.457 3.422zm10.266-6.948c-1.734 0-2.93-1.442-2.93-3v-.059c0-.422-.234-.785-.738-.785h-8.11c-.304 0-.374-.27-.222-.469l4.664-5.93c.574-.726 1.207-1.02 2.121-1.02h10.43c.914 0 1.547.294 2.12 1.02l4.665 5.93c.164.2.094.469-.211.469h-8.121c-.504 0-.738.363-.738.785v.059c0 1.558-1.196 3-2.93 3zM4.469 23.859c-1.313 0-2.028-.703-2.028-2.05v-5.977h7.957c.188 2.25 2.004 3.855 4.313 3.855 2.309 0 4.125-1.617 4.312-3.855h7.957v5.977c0 1.347-.738 2.05-2.027 2.05H4.47z"})},collectionDescriptionSmall:{className:"collectionDescriptionSmall",viewBox:"0 0 14 14",svg:r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})},collectionDescriptionLarge:{className:"collectionDescriptionLarge",viewBox:"0 0 20 20",svg:r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 20C15.5228 20 20 15.5228 20 10C20 4.47715 15.5228 0 10 0C4.47715 0 0 4.47715 0 10C0 15.5228 4.47715 20 10 20ZM11.25 5.25C11.25 5.94036 10.6904 6.5 10 6.5C9.30964 6.5 8.75 5.94036 8.75 5.25C8.75 4.55964 9.30964 4 10 4C10.6904 4 11.25 4.55964 11.25 5.25ZM9 9C9 8.44772 9.44771 8 10 8C10.5523 8 11 8.44772 11 9V15C11 15.5523 10.5523 16 10 16C9.44771 16 9 15.5523 9 15V9Z"})},typesCheckbox:{className:"typesCheckbox",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M0,3 C0,1.34314 1.34326,0 3,0 L11,0 C12.6567,0 14,1.34314 14,3 L14,11 C14,12.6569 12.6567,14 11,14 L3,14 C1.34326,14 0,12.6569 0,11 L0,3 Z M3,1.5 C2.17139,1.5 1.5,2.17157 1.5,3 L1.5,11 C1.5,11.8284 2.17139,12.5 3,12.5 L11,12.5 C11.8286,12.5 12.5,11.8284 12.5,11 L12.5,3 C12.5,2.17157 11.8286,1.5 11,1.5 L3,1.5 Z M2.83252,6.8161 L3.39893,6.27399 L3.57617,6.10425 L3.92334,5.77216 L4.26904,6.10559 L4.44531,6.27582 L5.58398,7.37402 L9.28271,3.81073 L9.45996,3.64008 L9.80664,3.3056 L10.1538,3.63989 L10.3311,3.81067 L10.8936,4.35303 L11.0708,4.52399 L11.4434,4.88379 L11.0708,5.24353 L10.8936,5.41437 L6.1084,10.0291 L5.93115,10.2 L5.58398,10.5344 L5.23682,10.2 L5.05957,10.0292 L2.83057,7.87946 L2.65283,7.70801 L2.27832,7.34674 L2.6543,6.98694 L2.83252,6.8161 Z"})},typesCreatedAt:{className:"typesCreatedAt",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M6.98643729,14.0000972 C5.19579566,14.0000972 3.40419152,13.3106896 2.04245843,11.9323606 C-0.681017475,9.21200555 -0.680780251,4.76029539 2.04293482,2.04012507 C4.76664406,-0.68004331 9.22427509,-0.68004331 11.9480135,2.04013479 C13.272481,3.36277455 14,5.1330091 14,6.99552762 C14,8.87640182 13.2721894,10.6285043 11.9480135,11.9509302 C10.5679344,13.3105924 8.77756503,14.0000972 6.98643729,14.0000972 Z M10.2705296,7.00913883 L10.2705296,8.46099754 L10.2705296,8.65543362 L10.076181,8.65543362 L8.6543739,8.65543362 L5.72059514,8.65543362 L5.52619796,8.65543362 L5.52619796,8.46099754 L5.52619796,5.52541044 L5.52619796,3.37946773 L5.52619796,3.18502193 L5.72059514,3.18502193 L7.17253164,3.18502193 L7.36692883,3.18502193 L7.36692883,3.37946773 L7.36692883,6.81467358 L10.076181,6.81467358 L10.2705296,6.81467358 L10.2705296,7.00913883 Z M12.1601539,6.99552762 C12.1601539,5.61697497 11.6190112,4.32597154 10.6393933,3.34769528 C8.63253764,1.34336744 5.35197452,1.34061603 3.34153136,3.33944106 C3.33868273,3.34219247 3.33607716,3.34494388 3.33322852,3.34769528 C1.32397148,5.35459953 1.32372842,8.63641682 3.33322852,10.6433794 C5.34295224,12.6504489 8.62968901,12.6504489 10.6393933,10.6433794 C11.6190112,9.66506426 12.1601539,8.37408027 12.1601539,6.99552762 Z"})},typesCreatedBy:{className:"typesCreatedBy",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M13.125,10.0354 C12.5536,9.48588 10.801,8.53125 9.625,7.875 L9.625,7.04112 C9.849,6.71912 10.045,6.37 10.1911,5.98588 C10.5849,5.7435 10.9375,5.28412 10.9375,4.8125 C10.9375,4.35488 10.9323,3.94275 10.4668,3.605 C10.3049,1.5575 9.436,0 7,0 C4.564,0 3.69513,1.5575 3.53325,3.605 C3.06775,3.94275 3.0625,4.35488 3.0625,4.8125 C3.0625,5.28412 3.41513,5.7435 3.80888,5.98588 C3.955,6.37 4.151,6.71912 4.375,7.04112 L4.375,7.875 C3.199,8.53125 1.44638,9.48588 0.875,10.0354 C0.1645,10.7188 0,11.8125 0,14 L14,14 C14,11.8125 13.8364,10.7188 13.125,10.0354 Z"})},typesDate:{className:"typesDate",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M10.8889,5.5 L3.11111,5.5 L3.11111,7.05556 L10.8889,7.05556 L10.8889,5.5 Z M12.4444,1.05556 L11.6667,1.05556 L11.6667,0 L10.1111,0 L10.1111,1.05556 L3.88889,1.05556 L3.88889,0 L2.33333,0 L2.33333,1.05556 L1.55556,1.05556 C0.692222,1.05556 0.00777777,1.75556 0.00777777,2.61111 L0,12.5 C0,13.3556 0.692222,14 1.55556,14 L12.4444,14 C13.3,14 14,13.3556 14,12.5 L14,2.61111 C14,1.75556 13.3,1.05556 12.4444,1.05556 Z M12.4444,12.5 L1.55556,12.5 L1.55556,3.94444 L12.4444,3.94444 L12.4444,12.5 Z M8.55556,8.61111 L3.11111,8.61111 L3.11111,10.1667 L8.55556,10.1667 L8.55556,8.61111 Z"})},typesEmail:{className:"typesEmail",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M14,6.22508 C14,7.0471 13.8666,7.79918 13.5999,8.48134 C13.3332,9.16351 12.9563,9.69867 12.4692,10.0868 C11.9821,10.475 11.524,10.6862 10.9764,10.6862 C10.5473,10.6862 10.1676,10.5849 9.83705,10.3823 C9.50653,10.1796 9.2688,9.91274 9.12384,9.58165 C8.51065,10.318 7.56114,10.6862 6.5928,10.6862 C5.56647,10.6862 4.75762,10.3823 4.16618,9.77431 C3.57473,9.16636 3.27902,8.33436 3.27902,7.27829 C3.27902,6.0738 3.66752,5.10337 4.44451,4.36697 C5.2215,3.63058 6.2362,3.26239 7.48867,3.26239 C7.98734,3.26239 9.5206,3.47449 9.74131,3.53033 C10.2518,3.65949 10.6003,4.12335 10.5763,4.6417 C10.5697,4.78537 10.5175,5.88115 10.4198,7.92905 C10.4198,8.72253 10.6401,9.11927 11.0808,9.11927 C11.4519,9.11927 11.7476,8.8524 11.968,8.31865 C12.1883,7.78491 12.2985,7.08706 12.2985,6.22508 C12.2985,5.30601 12.1042,4.49399 11.7157,3.78899 C11.3272,3.08399 10.7808,2.54597 10.0762,2.17492 C9.37173,1.80387 8.56719,1.61835 7.66263,1.61835 C6.49134,1.61835 5.47373,1.85525 4.60976,2.32905 C3.74579,2.80286 3.08332,3.48644 2.62234,4.37981 C2.16136,5.27319 1.93089,6.30499 1.93089,7.47523 C1.93089,9.05077 2.35851,10.2595 3.21378,11.1015 C4.06905,11.9435 5.30847,12.3645 6.93203,12.3645 C7.54667,12.3645 8.22216,12.2975 8.95856,12.1633 C9.18419,12.1222 9.47682,12.0555 9.83645,11.9632 C10.2649,11.8532 10.7081,12.0814 10.8607,12.4905 C11.0082,12.8863 10.802,13.3249 10.4001,13.4701 C10.3865,13.475 10.3728,13.4796 10.359,13.4837 C9.30721,13.7996 8.18808,13.9716 7.00161,14 C4.7982,14 3.08041,13.4292 1.84823,12.2875 C0.616061,11.1458 0,9.55883 0,7.52661 C0,6.11661 0.314555,4.8365 0.943688,3.68624 C1.57282,2.53598 2.46867,1.63405 3.63126,0.980429 C4.79385,0.326807 6.13184,0 7.64524,0 C8.9209,0 10.1589,0.290316 11.0634,0.770643 C11.968,1.25097 12.6374,1.99796 13.1824,2.94557 C13.7275,3.89318 14,4.98634 14,6.22508 Z M5.38462,7.23555 C5.38462,8.44263 5.87335,9.04616 6.85083,9.04616 C7.3623,9.04616 7.75159,8.86452 8.01869,8.50126 C8.28579,8.13799 8.44773,7.54734 8.50456,6.72927 L8.61539,4.83286 C8.32555,4.76993 7.9988,4.73846 7.63509,4.73846 C6.92471,4.73846 6.37204,4.96157 5.97707,5.40779 C5.58211,5.854 5.38462,6.46325 5.38462,7.23555 Z"})},typesFile:{className:"typesFile",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M5.94578,14 C4.62416,14 3.38248,13.4963 2.44892,12.585 C1.514641,11.6736 1,10.4639 1,9.17405 C1.00086108,7.88562 1.514641,6.67434 2.44892,5.76378 L7.45612,0.985988 C8.80142,-0.327216 11.1777,-0.332396 12.5354,0.992848 C13.9369,2.36163 13.9369,4.58722 12.5354,5.95418 L8.03046,10.2414 C7.16278,11.0877 5.73682,11.0894 4.86024,10.2345 C3.98394,9.37789 3.98394,7.98769 4.86024,7.1327 L6.60422,5.4317 L7.87576,6.67196 L6.13177,8.37297 C6.01668,8.48539 6.00003,8.61545 6.00003,8.68335 C6.00003,8.75083 6.01668,8.88103 6.13177,8.99429 C6.36197,9.21689 6.53749,9.21689 6.76768,8.99429 L11.2707,4.70622 C11.9645,4.03016 11.9645,2.91757 11.2638,2.23311 C10.5843,1.57007 9.40045,1.57007 8.72077,2.23311 L3.71342,7.0109 C3.12602,7.58406 2.79837,8.35435 2.79837,9.17405 C2.79837,9.99459 3.12602,10.7654 3.72045,11.3446 C4.90947,12.5062 6.98195,12.5062 8.17096,11.3446 L10.41911,9.15165 L11.6906,10.3919 L9.4425,12.585 C8.50808,13.4963 7.2664,14 5.94578,14 Z"})},typesFormula:{className:"typesFormula",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M7.77892,7.06304 L4.62218,11.2875 C4.58556,11.3416 4.55285,11.4392 4.5504,11.5052 C4.5504,11.7022 4.7047,11.8619 4.89562,11.8619 L11.1383,11.8619 C11.6139,11.8619 11.9996,12.2598 11.9996,12.7507 L11.9996,13.1111 C11.9996,13.602 11.6139,14 11.1383,14 L1.861927,14 C1.385853,14 1.00011061,13.602 1.00011061,13.1111 L1.00011061,12.6858 C0.99718092,12.4783 1.0523567,12.3098 1.176868,12.1466 L4.39269,7.79888 C4.74816,7.31841 4.74572,6.65139 4.38683,6.17354 L1.400013,2.19436 C1.27306,2.03028 1.216419,1.85993 1.219349,1.65006 L1.219349,0.888889 C1.219349,0.397968 1.605091,0 2.08117,0 L10.91906,0 C11.3946,0 11.7804,0.397968 11.7804,0.888889 L11.7804,1.24925 C11.7804,1.74017 11.3946,2.13814 10.91906,2.13814 L5.13634,2.13814 C4.94542,2.13814 4.79064,2.29801 4.79064,2.49522 C4.79308,2.56049 4.82482,2.65709 4.86095,2.71087 L7.78038,6.68628 C7.8297,6.74847 7.84435,6.7934 7.84142,6.87363 C7.84435,6.95493 7.82921,7.00048 7.77892,7.06304 Z"})},typesMultipleSelect:{className:"typesMultipleSelect",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M4,3 C4,2.447715 4.447715,2 5,2 L12,2 C12.5523,2 13,2.447716 13,3 C13,3.55228 12.5523,4 12,4 L5,4 C4.447715,4 4,3.55228 4,3 Z M4,7 C4,6.447715 4.447715,6 5,6 L12,6 C12.5523,6 13,6.447716 13,7 C13,7.55228 12.5523,8 12,8 L5,8 C4.447715,8 4,7.55228 4,7 Z M4,11 C4,10.447715 4.447715,10 5,10 L12,10 C12.5523,10 13,10.447716 13,11 C13,11.55228 12.5523,12 12,12 L5,12 C4.447715,12 4,11.55228 4,11 Z M2,4 C1.44771525,4 1,3.55228475 1,3 C1,2.44771525 1.44771525,2 2,2 C2.55228475,2 3,2.44771525 3,3 C3,3.55228475 2.55228475,4 2,4 Z M2,8 C1.44771525,8 1,7.55228475 1,7 C1,6.44771525 1.44771525,6 2,6 C2.55228475,6 3,6.44771525 3,7 C3,7.55228475 2.55228475,8 2,8 Z M2,12 C1.44771525,12 1,11.5522847 1,11 C1,10.4477153 1.44771525,10 2,10 C2.55228475,10 3,10.4477153 3,11 C3,11.5522847 2.55228475,12 2,12 Z"})},typesNumber:{className:"typesNumber",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M4.46191,0 C3.8667,0 3.38428,0.482422 3.38428,1.07751 L3.38428,3.38425 L1.07764,3.38425 C0.482422,3.38425 0,3.86667 0,4.46179 C0,5.05688 0.482422,5.53931 1.07764,5.53931 L3.38428,5.53931 L3.38428,8.46063 L1.07764,8.46063 C0.482422,8.46063 0,8.94308 0,9.53818 C0,10.1333 0.482422,10.6157 1.07764,10.6157 L3.38428,10.6157 L3.38428,12.9224 C3.38428,13.5175 3.8667,13.9999 4.46191,13.9999 C5.05664,13.9999 5.53906,13.5175 5.53906,12.9224 L5.53906,10.6157 L8.46045,10.6157 L8.46045,12.9224 C8.46045,13.5175 8.94287,13.9999 9.53809,13.9999 C10.1333,13.9999 10.6157,13.5175 10.6157,12.9224 L10.6157,10.6157 L12.9224,10.6157 C13.5176,10.6157 14,10.1333 14,9.53818 C14,8.94308 13.5176,8.46063 12.9224,8.46063 L10.6157,8.46063 L10.6157,5.53931 L12.9224,5.53931 C13.5176,5.53931 14,5.05688 14,4.46179 C14,3.86667 13.5176,3.38425 12.9224,3.38425 L10.6157,3.38425 L10.6157,1.07751 C10.6157,0.482422 10.1333,0 9.53809,0 C8.94287,0 8.46045,0.482422 8.46045,1.07751 L8.46045,3.38425 L5.53906,3.38425 L5.53906,1.07751 C5.53906,0.482422 5.05664,0 4.46191,0 Z M5.53906,8.46063 L5.53906,5.53931 L8.46045,5.53931 L8.46045,8.46063 L5.53906,8.46063 Z"})},typesPerson:{className:"typesPerson",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M9.625,10.8465 C8.91187,10.2891 8.12088,9.926 7,9.26013 L7,8.71938 C7.21175,8.47612 7.392,8.176 7.53813,7.83213 C7.94587,7.7315 8.3125,7.33425 8.3125,7 C8.3125,6.51788 8.1095,6.32713 7.8715,6.17137 C7.8715,6.15562 7.875,6.14162 7.875,6.125 C7.875,5.41362 7.4375,3.5 5.25,3.5 C3.0625,3.5 2.625,5.4145 2.625,6.125 C2.625,6.14162 2.6285,6.15562 2.6285,6.17137 C2.3905,6.32713 2.1875,6.51788 2.1875,7 C2.1875,7.33425 2.55413,7.7315 2.96187,7.833 C3.108,8.176 3.28825,8.47612 3.5,8.71938 L3.5,9.26013 C2.37912,9.92513 1.58812,10.2882 0.875,10.8465 C0.041125,11.4984 0,12.4688 0,14 L10.5,14 C10.5,12.4688 10.4589,11.4984 9.625,10.8465 Z M13.125,7.3465 C12.4119,6.78912 11.6209,6.426 10.5,5.76013 L10.5,5.21938 C10.7118,4.97613 10.892,4.676 11.0381,4.33213 C11.4459,4.2315 11.8125,3.83425 11.8125,3.5 C11.8125,3.01787 11.6095,2.82713 11.3715,2.67138 C11.3715,2.65562 11.375,2.64162 11.375,2.625 C11.375,1.91363 10.9375,0 8.75,0 C6.5625,0 6.125,1.9145 6.125,2.625 C6.125,2.64162 6.1285,2.65562 6.1285,2.67138 C6.11188,2.68275 6.09787,2.69588 6.08125,2.70725 C7.83212,3.066 8.59688,4.54825 8.72813,5.74787 C8.97575,6.00863 9.1875,6.39625 9.1875,7 C9.1875,7.60288 8.771,8.20312 8.18388,8.51462 C8.127,8.624 8.06662,8.729 8.00275,8.82962 C8.155,8.91537 8.30025,8.99675 8.44025,9.07463 C9.08075,9.4325 9.63375,9.74137 10.164,10.1561 C10.3022,10.2638 10.4204,10.3801 10.5289,10.4991 L14,10.4991 C14,8.96875 13.9589,7.99837 13.125,7.3465 Z"})},typesPhoneNumber:{className:"typesPhoneNumber",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M2.20731,0.0127209 C2.1105,-0.0066419 1.99432,-0.00664663 1.91687,0.032079 C0.871279,0.438698 0.212942,1.92964 0.0580392,2.95587 C-0.426031,6.28627 2.20731,9.17133 4.62766,11.0689 C6.77694,12.7534 10.9012,15.5223 13.3409,12.8503 C13.6507,12.5211 14.0186,12.037 13.9993,11.553 C13.9412,10.7397 13.186,10.1588 12.6051,9.71349 C12.1598,9.38432 11.2304,8.47427 10.6495,8.49363 C10.1267,8.51299 9.79754,9.05515 9.46837,9.38432 L8.88748,9.96521 C8.79067,10.062 7.55145,9.24878 7.41591,9.15197 C6.91248,8.8228 6.4284,8.45491 6.00242,8.04829 C5.57644,7.64167 5.18919,7.19632 4.86002,6.73161 C4.7632,6.59607 3.96933,5.41495 4.04678,5.31813 C4.04678,5.31813 4.72448,4.58234 4.91811,4.2919 C5.32473,3.67229 5.63453,3.18822 5.16982,2.45243 C4.99556,2.18135 4.78257,1.96836 4.55021,1.73601 C4.14359,1.34875 3.73698,0.942131 3.27227,0.612963 C3.02055,0.419335 2.59457,0.0708094 2.20731,0.0127209 Z"})},typesRelation:{className:"typesRelation",viewBox:"0 0 14 14",svg:r.a.createElement("polygon",{points:"4.5 1 4.5 3 9.586 3 1 11.586 2.414 13 11 4.414 11 9.5 13 9.5 13 1"})},typesRollup:{className:"typesRollup",viewBox:"0 0 18 18",svg:r.a.createElement("path",{d:"M17,15.6l-5.119-5.119C12.583,9.499,13,8.299,13,7c0-3.314-2.686-6-6-6S1,3.686,1,7s2.686,6,6,6 c1.299,0,2.499-0.417,3.481-1.119L15.6,17L17,15.6z M7,11c-2.209,0-4-1.791-4-4c0-2.209,1.791-4,4-4s4,1.791,4,4 C11,9.209,9.209,11,7,11z"})},typesSelect:{className:"typesSelect",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M7,13 C10.31348,13 13,10.31371 13,7 C13,3.68629 10.31348,1 7,1 C3.68652,1 1,3.68629 1,7 C1,10.31371 3.68652,13 7,13 Z M3.75098,5.32278 C3.64893,5.19142 3.74268,5 3.90869,5 L10.09131,5 C10.25732,5 10.35107,5.19142 10.24902,5.32278 L7.15771,9.29703 C7.07764,9.39998 6.92236,9.39998 6.84229,9.29703 L3.75098,5.32278 Z"})},typesText:{className:"typesText",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M7,4.56818 C7,4.29204 6.77614,4.06818 6.5,4.06818 L0.5,4.06818 C0.223858,4.06818 0,4.29204 0,4.56818 L0,5.61364 C0,5.88978 0.223858,6.11364 0.5,6.11364 L6.5,6.11364 C6.77614,6.11364 7,5.88978 7,5.61364 L7,4.56818 Z M0.5,1 C0.223858,1 0,1.223858 0,1.5 L0,2.54545 C0,2.8216 0.223858,3.04545 0.5,3.04545 L12.5,3.04545 C12.7761,3.04545 13,2.8216 13,2.54545 L13,1.5 C13,1.223858 12.7761,1 12.5,1 L0.5,1 Z M0,8.68182 C0,8.95796 0.223858,9.18182 0.5,9.18182 L11.5,9.18182 C11.7761,9.18182 12,8.95796 12,8.68182 L12,7.63636 C12,7.36022 11.7761,7.13636 11.5,7.13636 L0.5,7.13636 C0.223858,7.13636 0,7.36022 0,7.63636 L0,8.68182 Z M0,11.75 C0,12.0261 0.223858,12.25 0.5,12.25 L9.5,12.25 C9.77614,12.25 10,12.0261 10,11.75 L10,10.70455 C10,10.4284 9.77614,10.20455 9.5,10.20455 L0.5,10.20455 C0.223858,10.20455 0,10.4284 0,10.70455 L0,11.75 Z"})},typesTitle:{className:"typesTitle",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M7.73943662,8.6971831 C7.77640845,8.7834507 7.81338028,8.8943662 7.81338028,9.00528169 C7.81338028,9.49823944 7.40669014,9.89260563 6.91373239,9.89260563 C6.53169014,9.89260563 6.19894366,9.64612676 6.08802817,9.30105634 L5.75528169,8.33978873 L2.05809859,8.33978873 L1.72535211,9.30105634 C1.61443662,9.64612676 1.2693662,9.89260563 0.887323944,9.89260563 C0.394366197,9.89260563 0,9.49823944 0,9.00528169 C0,8.8943662 0.0246478873,8.7834507 0.0616197183,8.6971831 L2.46478873,2.48591549 C2.68661972,1.90669014 3.24119718,1.5 3.90669014,1.5 C4.55985915,1.5 5.12676056,1.90669014 5.34859155,2.48591549 L7.73943662,8.6971831 Z M2.60035211,6.82394366 L5.21302817,6.82394366 L3.90669014,3.10211268 L2.60035211,6.82394366 Z M11.3996479,3.70598592 C12.7552817,3.70598592 14,4.24823944 14,5.96126761 L14,9.07922535 C14,9.52288732 13.6549296,9.89260563 13.2112676,9.89260563 C12.8169014,9.89260563 12.471831,9.59683099 12.4225352,9.19014085 C12.028169,9.6584507 11.3257042,9.95422535 10.5492958,9.95422535 C9.60035211,9.95422535 8.47887324,9.31338028 8.47887324,7.98239437 C8.47887324,6.58978873 9.60035211,6.08450704 10.5492958,6.08450704 C11.3380282,6.08450704 12.040493,6.33098592 12.4348592,6.81161972 L12.4348592,5.98591549 C12.4348592,5.38204225 11.9172535,4.98767606 11.1285211,4.98767606 C10.6602113,4.98767606 10.2411972,5.11091549 9.80985915,5.38204225 C9.72359155,5.43133803 9.61267606,5.46830986 9.50176056,5.46830986 C9.18133803,5.46830986 8.91021127,5.1971831 8.91021127,4.86443662 C8.91021127,4.64260563 9.0334507,4.44542254 9.19366197,4.34683099 C9.87147887,3.90316901 10.6232394,3.70598592 11.3996479,3.70598592 Z M11.1778169,8.8943662 C11.6830986,8.8943662 12.1760563,8.72183099 12.4348592,8.37676056 L12.4348592,7.63732394 C12.1760563,7.29225352 11.6830986,7.11971831 11.1778169,7.11971831 C10.5616197,7.11971831 10.056338,7.45246479 10.056338,8.0193662 C10.056338,8.57394366 10.5616197,8.8943662 11.1778169,8.8943662 Z M0.65625,11.125 L13.34375,11.125 C13.7061869,11.125 14,11.4188131 14,11.78125 C14,12.1436869 13.7061869,12.4375 13.34375,12.4375 L0.65625,12.4375 C0.293813133,12.4375 4.43857149e-17,12.1436869 0,11.78125 C-4.43857149e-17,11.4188131 0.293813133,11.125 0.65625,11.125 Z"})},typesUnknownType:{className:"typesUnknownType",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M8,0 C12.4182,0 16,3.58203 16,8 C16,12.418 12.4182,16 8,16 C3.58185,16 0,12.418 0,8 C0,3.58203 3.58185,0 8,0 Z M6.74139,5.98633 C6.76208,5.31738 7.21722,4.87598 7.87933,4.87598 C8.52759,4.87598 8.98279,5.26221 8.98279,5.8208 C8.98279,6.42773 8.74139,6.71729 7.80347,7.26904 C6.84485,7.8208 6.5,8.44141 6.63104,9.62061 L6.65173,9.89648 L8.80347,9.89648 L8.80347,9.57227 C8.80347,8.92432 9.06549,8.61377 10.0103,8.06885 C11.0241,7.48291 11.5,6.7793 11.5,5.75879 C11.5,4.10352 10.1345,3 8.0379,3 C5.83105,3 4.52069,4.1792 4.5,5.98633 L6.74139,5.98633 Z M9.07239,12.0273 C9.07239,11.3379 8.48621,10.793 7.76898,10.793 C7.0448,10.793 6.46552,11.3379 6.46552,12.0273 C6.46552,12.7241 7.0448,13.269 7.76898,13.269 C8.48621,13.269 9.07239,12.7241 9.07239,12.0273 Z"})},typesUrl:{className:"typesUrl",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M3.73333,3.86667 L7.46667,3.86667 C8.49613,3.86667 9.33333,4.70387 9.33333,5.73333 C9.33333,6.7628 8.49613,7.6 7.46667,7.6 L6.53333,7.6 C6.01813,7.6 5.6,8.0186 5.6,8.53333 C5.6,9.04807 6.01813,9.46667 6.53333,9.46667 L7.46667,9.46667 C9.5284,9.46667 11.2,7.79507 11.2,5.73333 C11.2,3.6716 9.5284,2 7.46667,2 L3.73333,2 C1.6716,2 0,3.6716 0,5.73333 C0,7.124 0.762067,8.33453 1.88953,8.97713 C1.87553,8.83107 1.86667,8.6836 1.86667,8.53333 C1.86667,7.92013 1.98753,7.33447 2.2036,6.7978 C1.99267,6.4954 1.86667,6.12953 1.86667,5.73333 C1.86667,4.70387 2.70387,3.86667 3.73333,3.86667 Z M12.1095,5.28907 C12.1231,5.4356 12.1333,5.58307 12.1333,5.73333 C12.1333,6.34607 12.0101,6.9294 11.7931,7.46513 C12.0059,7.768 12.1333,8.13573 12.1333,8.53333 C12.1333,9.5628 11.2961,10.4 10.2667,10.4 L6.53333,10.4 C5.50387,10.4 4.66667,9.5628 4.66667,8.53333 C4.66667,7.50387 5.50387,6.66667 6.53333,6.66667 L7.46667,6.66667 C7.98187,6.66667 8.4,6.24807 8.4,5.73333 C8.4,5.2186 7.98187,4.8 7.46667,4.8 L6.53333,4.8 C4.4716,4.8 2.8,6.4716 2.8,8.53333 C2.8,10.59507 4.4716,12.2667 6.53333,12.2667 L10.2667,12.2667 C12.3284,12.2667 14,10.59507 14,8.53333 C14,7.14267 13.2375,5.93167 12.1095,5.28907 Z"})},appleLogo:{className:"appleLogo",viewBox:"0 0 170 170",svg:r.a.createElement("path",{d:"m150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.58 6.53-8.33 11.05-11.22 13.56-4.48 4.12-9.28 6.23-14.42 6.35-3.69 0-8.14-1.05-13.32-3.18-5.197-2.12-9.973-3.17-14.34-3.17-4.58 0-9.492 1.05-14.746 3.17-5.262 2.13-9.501 3.24-12.742 3.35-4.929 0.21-9.842-1.96-14.746-6.52-3.13-2.73-7.045-7.41-11.735-14.04-5.032-7.08-9.169-15.29-12.41-24.65-3.471-10.11-5.211-19.9-5.211-29.378 0-10.857 2.346-20.221 7.045-28.068 3.693-6.303 8.606-11.275 14.755-14.925s12.793-5.51 19.948-5.629c3.915 0 9.049 1.211 15.429 3.591 6.362 2.388 10.447 3.599 12.238 3.599 1.339 0 5.877-1.416 13.57-4.239 7.275-2.618 13.415-3.702 18.445-3.275 13.63 1.1 23.87 6.473 30.68 16.153-12.19 7.386-18.22 17.731-18.1 31.002 0.11 10.337 3.86 18.939 11.23 25.769 3.34 3.17 7.07 5.62 11.22 7.36-0.9 2.61-1.85 5.11-2.86 7.51zm-31.26-123.01c0 8.1021-2.96 15.667-8.86 22.669-7.12 8.324-15.732 13.134-25.071 12.375-0.119-0.972-0.188-1.995-0.188-3.07 0-7.778 3.386-16.102 9.399-22.908 3.002-3.446 6.82-6.3113 11.45-8.597 4.62-2.2516 8.99-3.4968 13.1-3.71 0.12 1.0831 0.17 2.1663 0.17 3.2409z"})},androidLogo:{className:"androidLogo",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M14 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zM2 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zm1.5 5.5A1.5 1.5 0 005 13v2c0 .55.45 1 1 1s1-.45 1-1v-2h2v2c0 .55.45 1 1 1s1-.45 1-1v-2a1.5 1.5 0 001.5-1.5V6h-9v5.5zM12.472 5a4.5 4.5 0 00-2.025-3.276l.5-1.001a.5.5 0 00-.895-.447L9.55 1.28l-.13-.052a4.504 4.504 0 00-2.84 0l-.13.052L5.948.276a.5.5 0 00-.895.447l.5 1.001A4.499 4.499 0 003.528 5v.5H12.5V5h-.028zM6.5 4a.5.5 0 01-.001-1h.002A.5.5 0 016.5 4zm3 0a.5.5 0 01-.001-1h.003a.5.5 0 01-.001 1z"})},googleChrome:{className:"googleChrome",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M7,14 C6.80955,14 6.62088,13.9924 6.43428,13.9775 L9.57162,8.54344 C9.5804,8.5288 9.58908,8.51405 9.59766,8.4992 C10.2622,7.34816 10.0773,5.93979 9.23745,5 L13.7101,5 C13.8987,5.63371 14,6.30503 14,7 C14,10.866 10.866,14 7,14 Z M7.09065,4 C6.02314,3.96852 4.97292,4.50947 4.4015,5.4992 C4.29626,5.68148 4.21233,5.87021 4.14892,6.06252 L1.91358,2.19079 C3.18958,0.841703 4.99649,0 7,0 C9.7924,0 12.2029,1.63505 13.3264,4 L7.09065,4 Z M1.23906,3.0225 L4.39037,8.48073 C4.64516,8.93043 5.01959,9.32016 5.49958,9.59728 C6.16481,9.98135 6.916,10.0817 7.61301,9.93584 L5.37591,13.8106 C2.29308,13.0782 0,10.3069 0,7 C0,5.52257 0.457709,4.15205 1.23906,3.0225 Z M9,7 C9,8.10457 8.10457,9 7,9 C5.89543,9 5,8.10457 5,7 C5,5.89543 5.89543,5 7,5 C8.10457,5 9,5.89543 9,7 Z"})},googleLogo:{className:"googleLogo",viewBox:"0 0 15 15",svg:r.a.createElement("path",{d:"M 7.28571 6.4125L 7.28571 9L 11.3929 9C 11.2143 10.0875 10.1429 12.225 7.28571 12.225C 4.78571 12.225 2.78571 10.0875 2.78571 7.5C 2.78571 4.9125 4.82143 2.775 7.28571 2.775C 8.71429 2.775 9.64286 3.4125 10.1786 3.9375L 12.1429 1.9875C 10.8929 0.75 9.25 0 7.28571 0C 3.25 0 0 3.3375 0 7.5C 0 11.6625 3.25 15 7.28571 15C 11.5 15 14.25 11.9625 14.25 7.6875C 14.25 7.2 14.2143 6.825 14.1429 6.45L 7.28571 6.45L 7.28571 6.4125Z"})},googlePlay:{className:"googlePlay",viewBox:"0 0 14 14",svg:r.a.createElement("path",{d:"M3.41741,13.7929001 L13.0843,8.42241009 C14.2002,7.80245009 14.2002,6.19755009 13.0843,5.57759009 L3.41741,0.207109087 C2.33284,-0.395426913 1,0.388821087 1,1.62952009 L1,12.3705001 C1,13.6112001 2.33284,14.3954001 3.41741,13.7929001 Z"})},firefox:{className:"firefox",viewBox:"0 0 18 18",svg:r.a.createElement("path",{d:"M17.3885 8.22741C17.3637 8.06437 17.3388 7.96847 17.3388 7.96847C17.3388 7.96847 17.2751 8.04237 17.1696 8.18172C17.1368 7.7934 17.0667 7.40915 16.9603 7.03426C16.8269 6.56537 16.6499 6.11001 16.4317 5.67412C16.2944 5.38492 16.1329 5.10788 15.9488 4.84596C15.8826 4.74705 15.8151 4.65114 15.7463 4.55825C15.4247 4.03303 15.0558 3.71204 14.6287 3.10502C14.3506 2.63889 14.1611 2.12535 14.0696 1.59031C13.9525 1.9126 13.8627 2.24416 13.8011 2.5815C13.3628 2.13922 12.9814 1.82499 12.7512 1.61062C11.6156 0.550036 11.7476 0 11.7476 0C11.7476 0 9.62648 2.36769 10.5455 4.83411C10.8625 5.67119 11.4102 6.40134 12.1251 6.94004C13.0141 7.67343 13.9715 8.25054 14.4764 9.7252C14.07 8.94911 13.456 8.30125 12.7027 7.85395C12.9295 8.38919 13.0447 8.96508 13.0412 9.54637C13.0408 10.15 12.9044 10.7458 12.6422 11.2894C12.38 11.8331 11.9987 12.3108 11.5265 12.6869C11.0544 13.063 10.5037 13.3279 9.91515 13.4621C9.32662 13.5962 8.71544 13.596 8.12699 13.4615C7.78067 13.3966 7.44539 13.2827 7.13129 13.123C6.66319 12.8397 6.25731 12.4645 5.93813 12.0201L5.93249 12.0105L6.00357 12.0365C6.16934 12.0939 6.33902 12.1393 6.5113 12.1724C7.193 12.3169 7.90328 12.233 8.53261 11.9338C9.16783 11.5812 9.55257 11.32 9.86454 11.4233H9.87019C10.1748 11.5203 10.4151 11.2247 10.1974 10.9155C10.0129 10.6737 9.76538 10.4872 9.48201 10.3766C9.19864 10.266 8.8903 10.2354 8.59072 10.2882C7.95493 10.3807 7.37218 10.8326 6.53894 10.3948C6.48531 10.3669 6.43315 10.3362 6.38267 10.3029C6.32626 10.2707 6.56151 10.352 6.50679 10.3153C6.32482 10.2241 6.14984 10.1197 5.98326 10.0028C5.97085 9.9926 6.10907 10.0422 6.09609 10.0321C5.88005 9.88505 5.6946 9.69749 5.55 9.4798C5.47626 9.34656 5.43451 9.198 5.42804 9.04585C5.42158 8.89371 5.45059 8.74214 5.51277 8.60313C5.59033 8.46489 5.70849 8.35382 5.85126 8.28495C5.95901 8.33798 6.02557 8.37804 6.02557 8.37804C6.02557 8.37804 5.97649 8.28777 5.94998 8.24039C5.95957 8.237 5.96803 8.24039 5.97762 8.23418C6.07183 8.2748 6.28057 8.38086 6.39057 8.44573C6.46542 8.48732 6.53 8.54515 6.57956 8.61497C6.57956 8.61497 6.61736 8.59636 6.58915 8.51738C6.55049 8.41932 6.48227 8.33572 6.39396 8.27818H6.40298C6.4872 8.32108 6.56761 8.37109 6.64331 8.42768C6.71262 8.26767 6.74538 8.09422 6.73921 7.91995C6.74677 7.82422 6.73349 7.72799 6.70029 7.63789C6.67039 7.58147 6.71721 7.55891 6.76967 7.61814C6.76065 7.57165 6.74567 7.52653 6.72511 7.48388V7.47936C6.72511 7.47936 6.75501 7.44044 6.76855 7.42633C6.80584 7.38935 6.84665 7.3561 6.8904 7.32704C7.15382 7.16406 7.43025 7.02311 7.71686 6.90563C7.95042 6.80352 8.14392 6.72567 8.18341 6.70311C8.24182 6.6653 8.2971 6.62285 8.3487 6.57617C8.543 6.41094 8.67448 6.18383 8.72103 5.93306C8.7261 5.89979 8.7293 5.86626 8.73062 5.83264V5.80443V5.78751V5.78074V5.7734C8.69677 5.64647 8.47789 5.55113 7.33381 5.44395C7.13641 5.41245 6.95297 5.32252 6.80717 5.18576C6.66136 5.04901 6.55988 4.8717 6.51581 4.67672V4.68179C6.49945 4.72354 6.48478 4.76585 6.47012 4.80873C6.48478 4.76642 6.49945 4.7241 6.51581 4.68179V4.67277C6.73351 4.10267 7.1256 3.61582 7.63619 3.2816C7.66553 3.25791 7.51885 3.28781 7.54819 3.26355C7.64542 3.21589 7.74524 3.1737 7.84718 3.13718C7.89852 3.11574 7.62717 3.01194 7.38741 3.03733C7.24041 3.04524 7.096 3.07924 6.96092 3.13774C7.01733 3.08923 7.18657 3.02492 7.14652 3.02492C6.83995 3.08426 6.54576 3.19549 6.27662 3.35381C6.2761 3.32653 6.28189 3.2995 6.29354 3.27483C6.0792 3.36566 5.89189 3.51022 5.74971 3.69455C5.75383 3.662 5.75571 3.6292 5.75535 3.59639C5.65724 3.66955 5.56773 3.75358 5.48851 3.84687L5.48344 3.85082C4.85182 3.60603 4.16331 3.5473 3.49936 3.68157L3.49372 3.6765H3.50049C3.36259 3.56457 3.24355 3.43124 3.1479 3.2816L3.13887 3.28386L3.12815 3.27145C3.08472 3.20713 3.04015 3.13436 2.99445 3.05312C2.96173 2.99671 2.92845 2.9307 2.89516 2.86244C2.89516 2.85793 2.89009 2.85624 2.88783 2.85567C2.87429 2.85567 2.8647 2.91829 2.85342 2.90193V2.89855C2.73712 2.59518 2.68283 2.27156 2.69377 1.94685L2.68474 1.95136C2.49771 2.07953 2.35657 2.26416 2.28194 2.47826C2.24753 2.55555 2.22553 2.59786 2.20296 2.64017C2.20296 2.64356 2.20296 2.63453 2.20296 2.62043C2.20804 2.5815 2.22497 2.50139 2.22102 2.5076C2.21707 2.51381 2.21425 2.51832 2.2103 2.52396C2.1542 2.58748 2.1066 2.65803 2.0687 2.73382C2.03428 2.80305 2.00596 2.87516 1.98408 2.94932C1.98069 2.96117 1.98408 2.93917 1.98408 2.91322C1.98408 2.88727 1.98916 2.84101 1.98408 2.8506L1.97167 2.87485C1.72734 3.41661 1.57482 3.99522 1.52036 4.58702C1.5055 4.68746 1.49965 4.78904 1.50287 4.89053V4.89955C1.32821 5.08992 1.17375 5.29789 1.04197 5.52011C0.601898 6.26344 0.273624 7.06749 0.0676967 7.90642C0.213748 7.5865 0.388401 7.28043 0.589526 6.99195C0.200042 7.98004 5.1334e-05 9.03263 0 10.0947C0.0663437 9.78363 0.151114 9.47676 0.253863 9.17573C0.191081 10.4302 0.432629 11.6813 0.957909 12.8223C1.66222 14.4042 2.83374 15.7326 4.3151 16.6291V16.6291C4.91723 17.0368 5.57657 17.3528 6.27154 17.5667C6.36293 17.6 6.45545 17.6327 6.55022 17.6643C6.52032 17.6525 6.49381 17.6395 6.46391 17.6265C7.28751 17.8736 8.14269 17.9994 9.00254 18C12.0455 18 13.0502 16.8413 13.1428 16.7256C13.2931 16.5898 13.4153 16.4257 13.5021 16.2427V16.2427C13.5608 16.2186 13.62 16.1929 13.6798 16.1654L13.7176 16.1485L13.7859 16.1163C14.2445 15.9002 14.6757 15.6301 15.0704 15.3119C15.6626 14.8876 16.0865 14.2685 16.2681 13.563C16.3759 13.3064 16.3818 13.0183 16.2845 12.7575C16.3157 12.7082 16.3478 12.6555 16.3809 12.5995C17.0343 11.5494 17.405 10.3482 17.4567 9.11255V9.10916C17.4567 9.07588 17.4567 9.04259 17.4567 9.00931C17.4575 8.74715 17.4347 8.48546 17.3885 8.22741V8.22741Z"})},notionLogo:{className:"notionLogo",viewBox:"0 0 120 126",svg:r.a.createElement("path",{d:"M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"})},notionLogoStroked:{className:"notionLogo",viewBox:"0 0 41 42",svg:r.a.createElement(o.Fragment,null,r.a.createElement("path",{d:"M4.253 2.903h0-.01c-1.02.09-1.806.481-2.322 1.142-.5.642-.671 1.441-.671 2.21v23.228c0 1.267.47 2.316 1.416 3.577h0l.006.008 4.99 6.477h0l.005.005c.465.593.963 1.017 1.617 1.256.63.23 1.33.26 2.138.221h.01l24.652-1.49h.008c1.137-.08 2.038-.396 2.632-1.071.588-.668.746-1.543.746-2.431V9.904c0-.584-.133-1.05-.508-1.486-.27-.311-.669-.602-1.113-.925a54.305 54.305 0 01-.176-.13l-.007-.004-.005-.004-6.772-4.761c-.838-.609-1.516-1.017-2.365-1.21-.824-.187-1.75-.156-3.047-.044L4.253 2.903z",fill:"#fff",stroke:"#fff",strokeWidth:"1.5"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.257 3.158L5.176 4.637c-1.62.14-2.184 1.197-2.184 2.464v21.971c0 .987.352 1.83 1.198 2.959l4.72 6.126c.776.987 1.48 1.198 2.96 1.127l23.32-1.408c1.973-.14 2.537-1.057 2.537-2.606V10.552c0-.801-.316-1.032-1.25-1.714l-.16-.117-6.41-4.507c-1.55-1.126-2.184-1.268-4.65-1.056zM12.4 10.146c-1.904.129-2.337.158-3.418-.72l-2.75-2.183c-.28-.283-.14-.635.565-.705L26.102 5.13c1.62-.141 2.466.423 3.1.916l3.311 2.394c.141.07.493.492.07.492L12.645 10.13l-.245.016zM10.179 35.06V14.074c0-.916.281-1.338 1.126-1.41l22.898-1.337c.777-.07 1.128.423 1.128 1.338v20.844c0 .916-.14 1.691-1.41 1.761l-21.91 1.268c-1.269.07-1.832-.352-1.832-1.48zm21.63-19.86c.141.635 0 1.268-.635 1.34l-1.056.21v15.492c-.916.493-1.761.775-2.466.775-1.128 0-1.41-.352-2.255-1.408l-6.905-10.845v10.493l2.185.493s0 1.267-1.763 1.267l-4.86.282c-.142-.282 0-.986.492-1.127l1.269-.351V17.947l-1.761-.142c-.141-.634.21-1.549 1.197-1.62l5.214-.351 7.187 10.986V17.1l-1.832-.21c-.14-.776.422-1.339 1.127-1.409l4.863-.283z",fill:"#222"}))},slackLogo:{className:"slackLogo",viewBox:"0 0 16 16",svg:r.a.createElement("g",null,r.a.createElement("path",{d:"M1.68078 11.7915C2.60586 11.7915 3.36156 11.0358 3.36156 10.1107V8.42993H1.68078C0.755701 8.42993 0 9.18563 0 10.1107C0 11.0358 0.755701 11.7915 1.68078 11.7915Z",fill:"#E01E5A"}),r.a.createElement("path",{d:"M5.88928 8.42993C4.9642 8.42993 4.2085 9.18563 4.2085 10.1107V14.3192C4.2085 15.2443 4.9642 16 5.88928 16C6.81436 16 7.57006 15.2443 7.57006 14.3192V10.1107C7.57006 9.18563 6.81436 8.42993 5.88928 8.42993Z",fill:"#E01E5A"}),r.a.createElement("path",{d:"M4.2085 1.68078C4.2085 2.60586 4.9642 3.36156 5.88928 3.36156H7.57006V1.68078C7.57006 0.755701 6.81436 0 5.88928 0C4.9642 0 4.2085 0.755701 4.2085 1.68078Z",fill:"#36C5F0"}),r.a.createElement("path",{d:"M7.57003 5.88928C7.57003 4.9642 6.81433 4.2085 5.88925 4.2085H1.68078C0.755701 4.2085 0 4.9642 0 5.88928C0 6.81436 0.755701 7.57006 1.68078 7.57006H5.88925C6.81433 7.57006 7.57003 6.81436 7.57003 5.88928Z",fill:"#36C5F0"}),r.a.createElement("path",{d:"M10.1107 7.57003C11.0358 7.57003 11.7915 6.81433 11.7915 5.88925V1.68078C11.7915 0.755701 11.0358 0 10.1107 0C9.18563 0 8.42993 0.755701 8.42993 1.68078V5.88925C8.42993 6.81433 9.18563 7.57003 10.1107 7.57003Z",fill:"#2EB67D"}),r.a.createElement("path",{d:"M14.3192 4.2085C13.3941 4.2085 12.6384 4.9642 12.6384 5.88928V7.57006H14.3192C15.2443 7.57006 16 6.81436 16 5.88928C16 4.9642 15.2443 4.2085 14.3192 4.2085Z",fill:"#2EB67D"}),r.a.createElement("path",{d:"M8.42993 10.1107C8.42993 11.0358 9.18563 11.7915 10.1107 11.7915H14.3192C15.2443 11.7915 16 11.0358 16 10.1107C16 9.18563 15.2443 8.42993 14.3192 8.42993H10.1107C9.18563 8.42993 8.42993 9.18563 8.42993 10.1107Z",fill:"#ECB22E"}),r.a.createElement("path",{d:"M11.7915 14.3192C11.7915 13.3941 11.0358 12.6384 10.1107 12.6384H8.42993V14.3192C8.42993 15.2443 9.18563 16 10.1107 16C11.0358 16 11.7915 15.2443 11.7915 14.3192Z",fill:"#ECB22E"}))},unsplashLogo:{className:"unsplashLogo",viewBox:"0 0 12 12",svg:r.a.createElement("path",{d:"M3.75 3.375V0H8.25V3.375H3.75ZM8.25 5.25H12V12H0V5.25H3.75V8.625H8.25V5.25Z"})},windowsLogo:{className:"windowsLogo",viewBox:"0 0 88 88",svg:r.a.createElement("path",{d:"m0,12.402,35.687-4.8602,0.0156,34.423-35.67,0.20313zm35.67,33.529,0.0277,34.453-35.67-4.9041-0.002-29.78zm4.3261-39.025,47.318-6.906,0,41.527-47.318,0.37565zm47.329,39.349-0.0111,41.34-47.318-6.6784-0.0663-34.739z"})},evernoteLogo:{className:"evernoteLogo",viewBox:"0 0 26 26",svg:r.a.createElement("path",{d:"M4.15268 5.05184H6.70899C6.84353 5.05184 6.97807 4.92213 6.97807 4.79242C6.97807 4.79242 6.97807 2.71706 6.97807 2.13337C6.97807 1.67938 7.11262 1.2254 7.24716 0.901122L7.31443 0.706558L2.33636 5.44097C2.4709 5.37612 2.60544 5.31126 2.60544 5.31126C3.00907 5.1167 3.54724 5.05184 4.15268 5.05184ZM23.7959 4.59786C23.5941 3.56018 22.9886 3.10619 22.3832 2.91163C21.7778 2.71706 21.1723 2.45764 19.5578 2.26308C18.2796 2.13337 16.9342 2.06851 15.9924 2.06851C15.7233 1.35511 15.3197 0.576848 13.7725 0.187718C12.6961 -0.0717018 10.7453 -0.00684699 10.1398 0.058008C9.19803 0.187718 8.86167 0.576848 8.59258 0.836268C8.3235 1.09569 8.12169 1.80909 8.12169 2.26308C8.12169 2.5225 8.12169 3.04134 8.12169 3.68989C8.12169 4.27358 8.12169 4.27358 8.12169 4.79242C8.12169 5.57068 7.58352 6.15438 6.64172 6.15438H4.35449C3.81632 6.15438 3.4127 6.21923 3.07634 6.34894C2.80726 6.54351 2.53817 6.80293 2.40363 6.99749C2.06727 7.45148 2 7.97032 2 8.55401C2 8.55401 2 9.008 2.13454 9.85111C2.20181 10.4997 2.9418 14.7801 3.61451 16.2069C3.8836 16.7906 4.08541 16.9852 4.62358 17.2446C5.83446 17.7634 8.59258 18.2823 9.93801 18.4768C11.2162 18.6065 12.0907 18.9957 12.5616 18.0228C12.5616 18.0228 12.6289 17.7634 12.7634 17.4391C13.167 16.2069 13.2343 15.1044 13.2343 14.3261C13.2343 14.2612 13.3688 14.2612 13.3688 14.3261C13.3688 14.9098 13.2343 16.8554 14.7815 17.3743C15.387 17.5689 16.6651 17.7634 17.9433 17.8931C19.0869 18.0228 19.9614 18.4768 19.9614 21.3304C19.9614 23.0815 19.5578 23.3409 17.6069 23.3409C15.9924 23.3409 15.387 23.4058 15.387 22.1087C15.387 21.1359 16.3961 21.2007 17.2033 21.2007C17.5397 21.2007 17.2706 20.9413 17.2706 20.3576C17.2706 19.7091 17.6742 19.3848 17.2706 19.3848C14.647 19.3199 13.0998 19.3848 13.0998 22.5627C13.0998 25.4812 14.2434 26 18.0106 26C20.9705 26 21.9796 25.9351 23.1904 22.3033C23.4595 21.5899 23.9977 19.3848 24.3341 15.7529C24.6031 13.3533 24.1322 6.34894 23.7959 4.59786ZM18.6833 12.3156C18.3469 12.3156 18.1451 12.3156 17.8087 12.3805C17.7415 12.3805 17.7415 12.3805 17.6742 12.3805C17.6742 12.3805 17.6069 12.3805 17.6069 12.3156C17.6069 12.2507 17.6069 12.2507 17.6069 12.2507C17.7415 11.6022 18.0778 10.8239 19.0869 10.8239C20.1632 10.8888 20.4323 11.7968 20.4323 12.5102C20.4323 12.575 20.4323 12.575 20.4323 12.575C20.4323 12.6399 20.3651 12.6399 20.3651 12.6399C20.2978 12.6399 20.2978 12.6399 20.2978 12.575C19.8269 12.4453 19.2887 12.3805 18.6833 12.3156Z"})},logInWeb:{className:"logInWeb",viewBox:"0 0 16 16",svg:r.a.createElement("path",{d:"M8,0C3.582,0,0,3.582,0,8s3.582,8,8,8s8-3.582,8-8S12.418,0,8,0z M8,7L7.938,8h-1L7,7H5v2h1l1,1c0.313-0.333,1.021-1,2-1h1 l1,0.229C11.86,9.437,12.513,9.75,13,10v1l-0.938,1.407C10.993,13.393,9.569,14,8,14v-1l-1-1v-1l-2-1C4.018,9.547,3.25,8.938,3,8 L2.785,6c0-0.187,0.435-0.867,0.55-1L3.278,4.307C4.18,3.154,5.494,2.343,7,2.09V3.5L8,4c0.3,0,0.609-0.045,1-0.417 C9.382,3.22,9.719,3,10,3c0.698,0,1,0.208,1,1l-0.5,1h-0.311C9.612,5.279,9.261,5.506,9,6C8.749,6.475,8.475,6.773,8,7z M13,8 c-0.417-0.25-0.771-0.583-1-1V6l0.797-1.593C13.549,5.409,14,6.65,14,8c0,0.165-0.012,0.326-0.025,0.488L13,8z"})},deviceMobile:{className:"deviceMobile",viewBox:"0 0 24 24",svg:r.a.createElement("path",{d:"M7 0C5.89551 0 5 0.894531 5 2V22C5 23.1055 5.89551 24 7 24H17C18.1045 24 19 23.1055 19 22V2C19 0.894531 18.1045 0 17 0H7ZM6 4H18V20H6V4ZM11 22C11 21.4473 11.4478 21 12 21C12.5522 21 13 21.4473 13 22C13 22.5527 12.5522 23 12 23C11.4478 23 11 22.5527 11 22Z"})},deviceMobileShareSheet:{className:"deviceMobileShareSheet",viewBox:"0 0 24 24",svg:r.a.createElement("path",{d:"M16.5,12.5 L12,17 L7.5,12.5 L8.203,11.797 L11.5,15.094 L11.5,6 L12.5,6 L12.5,15.094 L15.797,11.797 L16.5,12.5 Z M5,2 C5,0.894531 5.89551,0 7,0 L17,0 C18.1045,0 19,0.894531 19,2 L19,22 C19,23.1055 18.1045,24 17,24 L7,24 C5.89551,24 5,23.1055 5,22 L5,2 Z M18,4 L6,4 L6,20 L18,20 L18,4 Z M12,21 C11.4478,21 11,21.4473 11,22 C11,22.5527 11.4478,23 12,23 C12.5522,23 13,22.5527 13,22 C13,21.4473 12.5522,21 12,21 Z"})},deviceDesktop:{className:"deviceDesktop",viewBox:"0 0 24 24",svg:r.a.createElement("path",{d:"M2,3 L22,3 C23.1045,3 24,3.89453 24,5 L24,19 C24,19.3809 23.894,19.7344 23.7104,20.0371 C23.3599,20.6133 22.7251,21 22,21 L2,21 C0.895508,21 0,20.1055 0,19 L0,5 C0,3.89453 0.895508,3 2,3 Z M3.5,5 C2.671625,5 2,5.670905 2,6.5 C2,6.69629 2.03735,6.88379 2.10473,7.05371 C2.16773,7.211915 2.257085,7.358405 2.366945,7.484375 C2.64233,7.800785 3.048095,8 3.5,8 C4.328375,8 5,7.329095 5,6.5 C5,5.670905 4.328375,5 3.5,5 Z M7.5,5 C6.671625,5 6,5.670905 6,6.5 C6,7.00391 6.248295,7.449215 6.629145,7.721675 C6.874515,7.89746 7.175535,8 7.5,8 C8.328375,8 9,7.329095 9,6.5 C9,5.670905 8.328375,5 7.5,5 Z M10.40503,5.474615 C10.15381,5.74121 10,6.104495 10,6.5 C10,7.329095 10.671625,8 11.5,8 C12.328375,8 13,7.329095 13,6.5 C13,5.670905 12.328375,5 11.5,5 C11.0686,5 10.67896,5.181635 10.40503,5.474615 Z"})},playCircle:{className:"playCircle",viewBox:"0 0 48 48",svg:r.a.createElement("path",{d:"M48 24c0 13.255-10.745 24-24 24S0 37.255 0 24 10.745 0 24 0s24 10.745 24 24zm-2 0c0-12.15-9.85-22-22-22S2 11.85 2 24s9.85 22 22 22 22-9.85 22-22zm-10 0L16 34V14l20 10z"})},frontArticle:{className:"frontArticle",viewBox:"0 0 18 20",svg:r.a.createElement("path",{d:"m9 4.4375c-.64844-.79688-2.23438-1.51562-4.00781-1.51562-2.33594 0-4.21094 1.19531-4.671878 2.32812v11.7344c0 .6406.414063.8906.874998.8906.36719 0 .57031-.1094.79688-.2812.54687-.4532 1.45312-.9766 3-.9766 1.5625 0 2.60937.5156 3.0625.9219.21875.1797.48437.3359.94531.3359s.71094-.1797.9375-.3359c.4922-.375 1.5078-.9219 3.0625-.9219s2.4766.5312 3 .9766c.2344.1718.4375.2812.7969.2812.4609 0 .875-.25.875-.8906v-11.7344c-.461-1.13281-2.336-2.32812-4.6719-2.32812-1.7656 0-3.35156.71874-4 1.51562zm-7.32812 1.21094c.1875-.52344 1.41406-1.46094 3.32031-1.46094 1.92187 0 3.16406.94531 3.32812 1.46094v10.65626c-.8125-.6016-2.02343-.9453-3.32812-.9453s-2.51563.3437-3.32031.9765zm14.64842 0v10.68746c-.8047-.6328-2.0156-.9765-3.3203-.9765s-2.5078.3437-3.32812.9453v-10.65626c.16406-.51563 1.41402-1.46094 3.32812-1.46094s3.1328.9375 3.3203 1.46094z"})},frontBook:{className:"frontBook",viewBox:"0 0 18 20",svg:r.a.createElement("path",{d:"m3.56738 18.9053h10.74952c.3652 0 .6641-.2906.6641-.6641 0-.2905-.1993-.5478-.4649-.6391-1.0459-.4151-1.2617-1.7681-.2324-2.8057.3154-.3154.6973-.7222.6973-1.5523v-9.52096c0-1.72656-.855-2.60644-2.5733-2.60644h-8.81541c-1.71827 0-2.57325.87158-2.57325 2.60644v12.61716c0 1.71.86328 2.565 2.54834 2.565zm8.77392-16.45218c.8633 0 1.3032.46485 1.3032 1.29493v9.31345c0 .4483-.2573.7056-.7221.7056h-8.50004v-11.31398zm-9.98583 11.65428v-10.35935c0-.72217.33203-1.16211.97949-1.27002v11.30567c-.38184.0415-.69726.1494-.97949.3237zm1.28662 3.4614c-.83838 0-1.28662-.4482-1.28662-1.2368 0-.747.53125-1.2285 1.36133-1.2285h8.5166c.1079 0 .2075-.0083.2905-.0249-.3901.8633-.3237 1.7764.1162 2.4902z"})},frontChat:{className:"frontChat",viewBox:"0 0 20 20",svg:r.a.createElement("path",{d:"m4.29199 18.7808c1.12061 0 3.41162-1.1289 5.09668-2.3243 5.78563.1578 10.12693-3.1709 10.12693-7.52046 0-4.1753-4.1836-7.54542-9.4131-7.54542-5.22945 0-9.413047 3.37012-9.413047 7.54542 0 2.72266 1.743167 5.13816 4.366207 6.35006-.37353.7305-1.0708 1.71-1.44433 2.1997-.43994.5728-.17432 1.295.68066 1.295zm.87158-1.378c-.0664.0249-.0913-.0249-.0498-.0747.46484-.5727 1.12891-1.436 1.41113-1.9756.23242-.4233.17432-.8051-.35693-1.0542-2.60645-1.2119-4.10059-3.146-4.10059-5.36226 0-3.39502 3.56104-6.16749 8.03512-6.16749 4.4825 0 8.0435 2.77247 8.0435 6.16749 0 3.40336-3.561 6.17576-8.0435 6.17576-.16598 0-.4233-.0083-.75533-.0166-.34863-.0083-.61426.1079-.92969.3569-1.021.7388-2.49853 1.6436-3.25391 1.9507z"})},frontVideo:{className:"frontVideo",viewBox:"0 0 22 20",svg:r.a.createElement("path",{d:"m3.75244 16.8384h8.67436c2.0253 0 3.2373-1.1787 3.2373-3.1958v-1.1455l3.1377 2.6562c.332.2739.6972.4649 1.0376.4649.7304 0 1.2119-.5396 1.2119-1.3116v-8.58297c0-.77197-.4815-1.31152-1.2119-1.31152-.3404 0-.7056.19092-1.0376.46484l-3.1377 2.65625v-1.1372c0-2.02539-1.212-3.20411-3.2373-3.20411h-8.67436c-1.93408 0-3.237303 1.17872-3.237303 3.20411v7.2466c0 2.0171 1.211913 3.1958 3.237303 3.1958zm.23242-1.2451c-1.36132 0-2.1333-.7056-2.1333-2.1499v-6.85649c0-1.43603.77198-2.1416 2.1333-2.1416h8.20944c1.3531 0 2.1333.70557 2.1333 2.1416v6.85649c0 1.4443-.7802 2.1499-2.1333 2.1499zm15.43944-1.5689-3.7602-3.1045v-1.80955l3.7602-3.10449c.0747-.05811.1245-.09131.1992-.09131.0996 0 .1411.07471.1411.19092v7.81933c0 .1162-.0415.1992-.1411.1992-.0747 0-.1245-.0498-.1992-.0996z"})},frontYouTube:{className:"frontYouTube",viewBox:"0 0 26 18",svg:r.a.createElement("path",{clipRule:"evenodd",d:"m23.1729.550588c1.1137.296471 1.9917 1.164702 2.2916 2.265882.5568 2.01177.5354 6.20471.5354 6.20471s0 4.17172-.5354 6.18352c-.2999 1.1012-1.1779 1.9694-2.2916 2.2659-2.0346.5294-10.173.5294-10.173.5294s-8.11689 0-10.17289-.5506c-1.11367-.2965-1.991758-1.1647-2.291592-2.2659-.535418-1.9906-.535418-6.1835-.535418-6.1835s0-4.17176.535418-6.18353c.299834-1.10118 1.199332-1.990588 2.291592-2.287058 2.03458-.529412 10.17289-.529412 10.17289-.529412s8.1384 0 10.173.550588zm-5.9969 8.449522-6.7677 3.85409v-7.7082z",fillRule:"evenodd"})},frontPlayButton:{className:"frontPlayButton",viewBox:"0 0 14 16",svg:r.a.createElement("path",{d:"M1.34699 16C1.73805 16 2.07697 15.8756 2.52017 15.6089L12.8703 9.47556C13.6437 9.01333 14 8.62222 14 8C14 7.37778 13.6437 6.98667 12.8703 6.52444L2.52017 0.391111C2.07697 0.133333 1.73805 0 1.34699 0C0.582247 0 0 0.595556 0 1.57333V14.4356C0 15.4044 0.582247 16 1.34699 16Z"})},shareTwitter:{className:"shareTwitter",viewBox:"0 0 22 18",svg:r.a.createElement("path",{d:"m22 2.12799c-.8083.36413-1.6798.60642-2.5899.71441.9321-.56211 1.6455-1.45374 1.9851-2.514271-.8716.51919-1.8393.899931-2.8648 1.103451-.8248-.883314-1.9974-1.43158-3.2951-1.43158-2.4922 0-4.5102 2.03384-4.5102 4.54257 0 .35444.0385.70057.1154 1.03423-3.75002-.19106-7.07532-1.99923-9.30088-4.750248-.38628.670098-.610352 1.453738-.610352 2.284438 0 1.57557.794552 2.96839 2.005622 3.7811-.73956-.02216-1.43514-.22983-2.045487-.56627v.05677c0 2.20275 1.554737 4.04141 3.620847 4.45671-.37803.1039-.77806.1606-1.19046.1606-.29142 0-.57185-.0304-.85091-.0817.57598 1.8041 2.24207 3.1193 4.2147 3.1581-1.54649 1.2198-3.48888 1.9466-5.60585 1.9466-.365658 0-.721694-.0221-1.07773-.065 2.0015 1.2931 4.37278 2.0421 6.92002 2.0421 8.29878 0 12.84068-6.9267 12.84068-12.9327 0-.19937-.0041-.3932-.0124-.58841.8812-.63549 1.6455-1.43712 2.2503-2.34952z"})},shareFacebook:{className:"shareFacebook",viewBox:"0 0 18 18",svg:r.a.createElement("path",{d:"M16.3125 0H1.6875C0.759375 0 0 0.759375 0 1.6875V16.3125C0 17.2406 0.759375 18 1.6875 18H9V10.125H6.75V7.875H9V6.75C9 4.89038 10.5154 3.375 12.375 3.375H14.625V5.625H12.375C11.7562 5.625 11.25 6.13125 11.25 6.75V7.875H14.625L14.0625 10.125H11.25V18H16.3125C17.2406 18 18 17.2406 18 16.3125V1.6875C18 0.759375 17.2406 0 16.3125 0Z"})},shareLinkedIn:{className:"shareLinkedIn",viewBox:"0 0 20 18",svg:r.a.createElement("path",{clipRule:"evenodd",d:"m2.0769 4.15379c1.14644 0 2.07689-.93045 2.07689-2.07689 0-1.14645-.93045-2.0769-2.07689-2.0769-1.14645 0-2.0769.93045-2.0769 2.0769 0 1.14644.93045 2.07689 2.0769 2.07689zm-2.0769 13.84621v-12.46143h4.15379v12.46143zm6.92371-12.46143h3.83119v1.96336h.0554c.533-.95675 1.8373-1.96336 3.7827-1.96336 4.0444 0 4.7921 2.5172 4.7921 5.79173v6.6697h-3.9946v-5.9123c0-1.4095-.0291-3.22471-2.0769-3.22471-2.0796 0-2.3981 1.53551-2.3981 3.12231v6.0147h-3.99179z",fillRule:"evenodd"})},shareEmail:{className:"shareEmail",viewBox:"0 0 24 18",svg:r.a.createElement("path",{d:"m12.0158 9.96411c.4532 0 .8643-.21201 1.3492-.67639l9.2121-8.782953c-.4216-.333146-1.1489-.504767-2.1713-.504767h-17.0224c-.917 0-1.58103.161526-1.97102.474481l9.24372 8.813239c.4849.46438.8959.67639 1.3597.67639zm-11.710135 6.25909 7.673255-7.29892-7.641634-7.22826c-.221344.35333-.337286.91867-.337286 1.71621v11.16547c0 .7672.105402 1.3124.305665 1.6455zm23.399235-.0101c.1897-.3432.2951-.8783.2951-1.6354v-11.16547c0-.77735-.1159-1.35278-.3373-1.69602l-7.6205 7.20807zm-20.1107 1.7869h17.0224c.9592 0 1.6443-.1817 2.0553-.525l-7.8102-7.4402-.6114.5754c-.7378.6865-1.444 1.0095-2.2345 1.0095-.801 0-1.5072-.323-2.24505-1.0095l-.61133-.5754-7.79974 7.4301c.44269.3534 1.19104.5351 2.23452.5351z"})},genericError:{className:"genericError",viewBox:"0 0 32 32",svg:r.a.createElement("path",{d:"M16.0242 29.0485c7.1251 0 13.0243-5.8992 13.0243-13.0243C29.0485 8.91198 23.1365 3 16.0115 3 8.89922 3 3 8.91198 3 16.0242c0 7.1251 5.91198 13.0243 13.0242 13.0243zm-.0127-11.1089c-.6768 0-1.0471-.3959-1.0726-1.0726l-.1788-6.3078c-.0255-.70232.5108-1.20031 1.2386-1.20031.7151 0 1.2769.51076 1.2514 1.21301l-.1916 6.2951c-.0255.6895-.3958 1.0726-1.047 1.0726zm0 4.6989c-.7406 0-1.4301-.5874-1.4301-1.379 0-.7917.6767-1.3791 1.4301-1.3791.7533 0 1.4301.5746 1.4301 1.3791 0 .8044-.6895 1.379-1.4301 1.379z"})},imageError:{viewBox:"0 0 32 32",className:"imageError",svg:r.a.createElement(o.Fragment,null,r.a.createElement("path",{d:"M6.39515 31.0485c3.44161 0 6.29115-2.8495 6.29115-6.2911 0-3.4355-2.8557-6.2912-6.29732-6.2912-3.43544 0-6.28495 2.8557-6.28495 6.2912 0 3.4416 2.85568 6.2911 6.29112 6.2911zm-.00617-5.366c-.32689 0-.50575-.1912-.51809-.5181l-.08635-3.0468c-.01233-.3393.24671-.5798.59828-.5798.34539 0 .61677.2467.60444.5859l-.09252 3.0407c-.01233.3331-.1912.5181-.50576.5181zm0 2.2698c-.35773 0-.69078-.2838-.69078-.6662s.32689-.6661.69078-.6661c.3639 0 .69079.2776.69079.6661 0 .3886-.33305.6662-.69079.6662z"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 17.5539V3h26v26H12.6862c.4113-.6095.7364-1.282.9578-2H28v-4H13.7749c-.1687-.7106-.4373-1.3825-.7902-2H28V5H6v12.1798c-.69548.0352-1.36626.164-2 .3741zM11.3329 19c-.6875-.5905-1.48192-1.0601-2.35027-1.3757L13 12l2 1 5-5 6 11H11.3329zM12 9c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm3.395 6.434l-1.76-.881L11.887 17h10.744l-3.107-5.695-4.129 4.129z"}))},playbackError:{viewBox:"0 0 32 32",className:"playbackError",svg:r.a.createElement(o.Fragment,null,r.a.createElement("path",{d:"M6.39515 29.0485c3.44161 0 6.29115-2.8495 6.29115-6.2911 0-3.4355-2.8557-6.2912-6.29732-6.2912-3.43544 0-6.28495 2.8557-6.28495 6.2912 0 3.4416 2.85568 6.2911 6.29112 6.2911zm-.00617-5.366c-.32689 0-.50575-.1912-.51809-.5181l-.08635-3.0468c-.01233-.3393.24671-.5798.59828-.5798.34539 0 .61677.2467.60444.5859l-.09252 3.0407c-.01233.3331-.1912.5181-.50576.5181zm0 2.2698c-.35773 0-.69078-.2838-.69078-.6662s.32689-.6661.69078-.6661c.3639 0 .69079.2776.69079.6661 0 .3886-.33306.6662-.69079.6662z"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.1373 16.1987c0 6.7017-5.542 12.2437-12.2436 12.2437-1.622 0-3.1761-.3246-4.6001-.9118.3323-.4107.6226-.8567.8644-1.3316 1.1612.4325 2.4197.6687 3.7357.6687 5.9082 0 10.6689-4.7608 10.6689-10.669-.0122-5.9082-4.7729-10.65671-10.6812-10.65671-5.5497 0-10.08288 4.20726-10.5961 9.62871-.55173.0075-1.08925.0738-1.60656.193.4362-6.32082 5.78156-11.40862 12.20266-11.40862 6.7139 0 12.2559 5.54199 12.2559 12.24362zm-15.4585 4.4372a7.628 7.628 0 00-.0797-.2566.65573.65573 0 01-.0013-.0424v-8.2764c0-.5004.5859-.7202 1.0498-.4516l6.7016 4.0161c.4395.2686.4517.8911 0 1.1597l-6.7016 3.9917c-.3763.2257-.796.1398-.9688-.1405z"}))},addFilterGroup:{viewBox:"0 0 16 16",className:"addFilterGroup",svg:r.a.createElement("path",{d:"M2.374 12.42h1.293v1.157c0 1.557.787 2.344 2.375 2.344h7.591c1.573 0 2.367-.787 2.367-2.344V5.924c0-1.557-.794-2.344-2.367-2.344h-1.3V2.423C12.333.866 11.539.08 9.966.08H2.374C.786.08 0 .866 0 2.423v7.653c0 1.557.786 2.344 2.374 2.344zm.015-1.218c-.756 0-1.172-.408-1.172-1.194V2.49c0-.786.416-1.194 1.172-1.194h7.554c.749 0 1.172.408 1.172 1.194v1.09H6.042c-1.588 0-2.375.778-2.375 2.343v5.278H2.39zm3.668 3.501c-.749 0-1.172-.408-1.172-1.194V5.991c0-.786.423-1.194 1.172-1.194h7.554c.748 0 1.172.408 1.172 1.194v7.516c0 .787-.424 1.195-1.172 1.195H6.057zm3.773-1.565c.4 0 .643-.272.643-.71v-2.042h2.17c.423 0 .718-.227.718-.628 0-.408-.272-.643-.718-.643h-2.17V6.938c0-.447-.242-.719-.643-.719-.4 0-.628.288-.628.719v2.177h-2.17c-.438 0-.718.235-.718.643 0 .4.295.628.718.628h2.17v2.041c0 .424.227.711.628.711z"})},customizePage:{viewBox:"0 0 16 16",className:"customizePage",svg:r.a.createElement("path",{d:"M2 13.517c0 1.428.704 2.14 2.12 2.14h7.259c1.415 0 2.119-.712 2.119-2.14V3.147c0-1.422-.704-2.147-2.12-2.147H4.12C2.704 1 2 1.725 2 3.146v10.37zm1.1-.02V3.166c0-.684.363-1.066 1.074-1.066h7.15c.711 0 1.074.382 1.074 1.066v10.33c0 .683-.363 1.059-1.074 1.059h-7.15c-.711 0-1.073-.376-1.073-1.06zm2.065-8.532h5.182a.419.419 0 00.424-.43.406.406 0 00-.424-.411H5.165c-.246 0-.43.178-.43.41 0 .24.184.43.43.43zm0 2.386h5.182a.419.419 0 00.424-.431.406.406 0 00-.424-.41H5.165c-.246 0-.43.178-.43.41 0 .24.184.43.43.43zm0 2.385h2.454c.24 0 .424-.184.424-.417a.417.417 0 00-.424-.423H5.165a.419.419 0 00-.43.423c0 .233.184.417.43.417z"})},settingsNotifications:{viewBox:"0 0 20 20",className:"settingsNotifications",svg:r.a.createElement("path",{d:"M13.875 7.617c1.477 0 2.71-1.226 2.71-2.71 0-1.485-1.233-2.712-2.71-2.712a2.722 2.722 0 00-2.71 2.711 2.722 2.722 0 002.71 2.711zM3.835 15.57h7.868c-.062 1.055-.734 1.727-1.68 1.727-.937 0-1.617-.672-1.671-1.727h-1.22c.063 1.5 1.243 2.82 2.891 2.82 1.657 0 2.836-1.32 2.899-2.82h3.297c.734 0 1.18-.383 1.18-.945 0-.781-.797-1.484-1.47-2.18-.515-.539-.656-1.648-.718-2.547-.008-.523-.047-1-.094-1.46a3.5 3.5 0 01-1.234.171c.047.414.078.868.086 1.383.07 1.531.336 2.531.89 3.156.414.461.875.915 1.016 1.149v.094H4.172v-.094c.14-.235.61-.688 1.016-1.149.562-.625.828-1.625.898-3.156.062-3.406 1.078-4.5 2.414-4.86.195-.046.305-.148.313-.343.023-.82.492-1.39 1.21-1.39.141 0 .274.023.383.062.149-.36.344-.695.594-.992a2.328 2.328 0 00-.977-.219c-1.148 0-1.992.813-2.25 1.828-2.078.75-2.875 2.742-2.93 5.82-.062.899-.202 2.008-.718 2.547-.68.696-1.469 1.399-1.469 2.18 0 .563.438.945 1.18.945z"})},settingsConnectedApps:{viewBox:"0 0 20 20",className:"settingsConnectedApps",svg:r.a.createElement("path",{d:"M16.492 3.922C15.695 3.125 14.57 3 13.234 3H7.148c-1.312 0-2.437.125-3.234.922C3.117 4.719 3 5.836 3 7.14v6.03c0 1.337.117 2.446.914 3.243.797.797 1.922.922 3.25.922h6.07c1.336 0 2.461-.125 3.258-.922.797-.797.914-1.906.914-3.242V7.164c0-1.336-.117-2.453-.914-3.242zm-.344 3.023v6.438c0 .812-.101 1.64-.578 2.117-.468.469-1.312.578-2.117.578h-6.5c-.805 0-1.648-.11-2.125-.578-.469-.477-.57-1.305-.57-2.117V6.969c0-.82.101-1.664.57-2.133.477-.477 1.328-.578 2.149-.578h6.476c.805 0 1.649.11 2.117.578.477.476.578 1.305.578 2.11zm-3.492 5.149c.344 0 .57-.266.57-.625V7.78c0-.46-.25-.64-.648-.64h-3.71c-.368 0-.602.226-.602.57s.242.57.617.57h1.422l1.156-.125-1.219 1.133-2.875 2.883a.62.62 0 00-.187.422c0 .351.226.578.57.578.188 0 .336-.07.445-.18l2.875-2.875 1.125-1.203-.117 1.219v1.351c0 .368.227.61.578.61z"})},settingsLanguage:{viewBox:"0 0 20 20",className:"settingsLanguage",svg:r.a.createElement("path",{d:"M10 18.3281C14.3594 18.3281 17.9688 14.7109 17.9688 10.3594C17.9688 6 14.3516 2.39062 9.99219 2.39062C5.64062 2.39062 2.03125 6 2.03125 10.3594C2.03125 14.7109 5.64844 18.3281 10 18.3281ZM5.32812 5.29688C6.10938 4.57031 7.0625 4.02344 8.10938 3.71875C7.57031 4.26562 7.10938 5.03906 6.76562 5.99219C6.21094 5.8125 5.72656 5.57812 5.32812 5.29688ZM11.8984 3.72656C12.9375 4.03125 13.8828 4.57812 14.6719 5.30469C14.2734 5.58594 13.7891 5.8125 13.2344 5.99219C12.8906 5.04688 12.4297 4.27344 11.8984 3.72656ZM7.77344 6.25C8.21094 5.05469 8.82031 4.19531 9.49219 3.89844V6.42969C8.875 6.40625 8.30469 6.34375 7.77344 6.25ZM10.5156 3.89844C11.1797 4.19531 11.7891 5.05469 12.2266 6.25C11.6953 6.34375 11.125 6.40625 10.5156 6.42969V3.89844ZM3.10938 9.84375C3.21875 8.42188 3.77344 7.10156 4.63281 6.03906C5.11719 6.40625 5.74219 6.71094 6.46875 6.94531C6.24219 7.82031 6.10156 8.79688 6.0625 9.84375H3.10938ZM13.9375 9.84375C13.8984 8.79688 13.7578 7.82031 13.5312 6.94531C14.2578 6.71094 14.8828 6.40625 15.3594 6.04688C16.2266 7.10156 16.7812 8.42188 16.8906 9.84375H13.9375ZM10.5156 9.84375V7.45312C11.2188 7.42969 11.8906 7.34375 12.5234 7.21094C12.7266 8.01562 12.8516 8.90625 12.8906 9.84375H10.5156ZM7.10938 9.84375C7.14844 8.90625 7.28125 8.01562 7.47656 7.21094C8.10938 7.34375 8.78125 7.42969 9.49219 7.45312V9.84375H7.10938ZM3.10938 10.8672H6.0625C6.10156 11.9375 6.24219 12.9219 6.46875 13.8047C5.75 14.0391 5.13281 14.3438 4.65625 14.7031C3.78125 13.6328 3.21875 12.3047 3.10938 10.8672ZM7.10938 10.8672H9.49219V13.3047C8.78906 13.3281 8.11719 13.4141 7.49219 13.5391C7.28125 12.7266 7.14062 11.8203 7.10938 10.8672ZM10.5156 13.3047V10.8672H12.8906C12.8594 11.8203 12.7188 12.7266 12.5078 13.5391C11.8906 13.4141 11.2109 13.3281 10.5156 13.3047ZM13.5312 13.8047C13.7578 12.9219 13.8984 11.9375 13.9375 10.8672H16.8906C16.7812 12.3047 16.2188 13.6328 15.3438 14.7031C14.8672 14.3438 14.25 14.0391 13.5312 13.8047ZM10.5156 14.3281C11.1172 14.3516 11.6875 14.4062 12.2109 14.5078C11.7734 15.6719 11.1719 16.5312 10.5156 16.8281V14.3281ZM7.78906 14.5078C8.3125 14.4062 8.88281 14.3516 9.49219 14.3281V16.8281C8.82812 16.5312 8.22656 15.6719 7.78906 14.5078ZM13.2266 14.7578C13.7734 14.9375 14.25 15.1641 14.6484 15.4375C13.8672 16.1484 12.9375 16.6875 11.9062 16.9922C12.4297 16.4531 12.8828 15.6875 13.2266 14.7578ZM5.35156 15.4375C5.75 15.1641 6.22656 14.9375 6.77344 14.7578C7.11719 15.6875 7.57031 16.4531 8.10156 16.9922C7.07031 16.6875 6.13281 16.1484 5.35156 15.4375Z"})},settingsAppearance:{viewBox:"0 0 20 20",className:"settingsAppearance",svg:r.a.createElement("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm2.445-4.906c-2.367 0-3.883-1.484-3.883-3.851 0-.493.133-1.188.274-1.555.047-.102.047-.164.047-.203a.246.246 0 00-.25-.25.75.75 0 00-.258.047c-1.617.64-2.703 2.39-2.703 4.226 0 2.57 1.968 4.406 4.53 4.406 1.884 0 3.5-1.156 4.056-2.57a.618.618 0 00.054-.234.269.269 0 00-.258-.274.62.62 0 00-.187.032 4.623 4.623 0 01-1.422.226z"})},settingsSubscription:{viewBox:"0 0 20 20",className:"settingsSubscription",svg:r.a.createElement("path",{d:"M9 18.6191C13.9043 18.6191 17.9648 14.5498 17.9648 9.6543C17.9648 4.75 13.8955 0.689453 8.99121 0.689453C4.0957 0.689453 0.0351562 4.75 0.0351562 9.6543C0.0351562 14.5498 4.10449 18.6191 9 18.6191ZM9 17.125C4.85156 17.125 1.53809 13.8027 1.53809 9.6543C1.53809 5.50586 4.84277 2.18359 8.99121 2.18359C13.1396 2.18359 16.4619 5.50586 16.4707 9.6543C16.4795 13.8027 13.1484 17.125 9 17.125ZM5.07129 10.0586C5.07129 12.2559 6.82031 14.0225 8.99121 14.0225C11.1621 14.0225 12.9111 12.2559 12.9111 10.085C12.9111 9.75977 12.6299 9.49609 12.3047 9.49609C11.9795 9.49609 11.6982 9.75977 11.6982 10.085C11.6982 11.5967 10.4941 12.8096 8.99121 12.8096C7.48828 12.8096 6.28418 11.5967 6.28418 10.085C6.28418 8.58203 7.48828 7.38672 8.99121 7.38672C9.10547 7.38672 9.22852 7.38672 9.31641 7.4043L8.45508 8.24805C8.34961 8.35352 8.28809 8.49414 8.28809 8.65234C8.28809 8.95996 8.53418 9.20605 8.8418 9.20605C8.99121 9.20605 9.13184 9.13574 9.22852 9.03906L10.9336 7.33398C11.1533 7.13184 11.1357 6.73633 10.9336 6.52539L9.24609 4.80273C9.14941 4.69727 9 4.62695 8.8418 4.62695C8.52539 4.62695 8.28809 4.88184 8.28809 5.18945C8.28809 5.34766 8.34961 5.48828 8.44629 5.59375L9.07031 6.22656C9 6.21777 8.90332 6.20898 8.82422 6.20898C6.84668 6.20898 5.07129 7.90527 5.07129 10.0586Z"})},settingsCredit:{viewBox:"0 0 20 20",className:"settingsCredit",svg:r.a.createElement("path",{d:"M5.89062 18.1094H14.1016C15.5703 18.1094 16.3828 17.3359 16.3828 15.8594V11.0625H16.4375C17.125 10.9141 17.5078 10.3594 17.5078 9.5625V7.50781C17.5078 6.55469 16.9766 5.95312 16.0234 5.95312H14.4453C14.8594 5.53906 15.1016 4.97656 15.1016 4.32812C15.1016 2.8125 13.9062 1.73438 12.3906 1.73438C11.2969 1.73438 10.3906 2.33594 9.99219 3.38281C9.59375 2.33594 8.69531 1.73438 7.59375 1.73438C6.08594 1.73438 4.88281 2.8125 4.88281 4.32812C4.88281 4.97656 5.125 5.53906 5.54688 5.95312H3.96875C3.05469 5.95312 2.48438 6.55469 2.48438 7.50781V9.5625C2.48438 10.3594 2.85938 10.9141 3.54688 11.0625H3.60156V15.8594C3.60156 17.3359 4.41406 18.1094 5.89062 18.1094ZM9.35156 5.95312H8.13281C6.90625 5.95312 6.1875 5.25781 6.1875 4.39844C6.1875 3.53906 6.8125 3.03906 7.67188 3.03906C8.60156 3.03906 9.35156 3.74219 9.35156 4.89844V5.95312ZM10.6328 5.95312V4.89844C10.6328 3.74219 11.3828 3.03906 12.3125 3.03906C13.1719 3.03906 13.7969 3.53906 13.7969 4.39844C13.7969 5.25781 13.0859 5.95312 11.8516 5.95312H10.6328ZM9.29688 9.9375H4.28906C3.89844 9.9375 3.74219 9.77344 3.74219 9.38281V7.67969C3.74219 7.28906 3.89844 7.13281 4.28906 7.13281H9.29688V9.9375ZM10.6875 9.9375V7.13281H15.7109C16.1016 7.13281 16.25 7.28906 16.25 7.67969V9.38281C16.25 9.77344 16.1016 9.9375 15.7109 9.9375H10.6875ZM9.29688 16.9375H5.875C5.22656 16.9375 4.85938 16.5703 4.85938 15.9219V11.1172H9.29688V16.9375ZM10.6875 16.9375V11.1172H15.125V15.9219C15.125 16.5703 14.7578 16.9375 14.1094 16.9375H10.6875Z"})},settingsWorkspace:{viewBox:"0 0 20 20",className:"settingsWorkspace",svg:r.a.createElement("path",{d:"M2.3 15.359c0 .819.463 1.327 1.231 1.327H16.43c.768 0 1.231-.508 1.231-1.327V7.507c0-.825-.463-1.333-1.231-1.333h-3.656V4.327C12.774 3.5 12.31 3 11.536 3H3.53C2.763 3 2.3 3.501 2.3 4.327v11.032zm1.25-.248V4.574c0-.216.108-.324.33-.324h7.313c.216 0 .33.108.33.324v10.537c0 .216-.114.324-.33.324H9.81v-1.834c0-.54-.254-.807-.768-.807H6.032c-.514 0-.768.267-.768.807v1.834H3.881c-.223 0-.33-.108-.33-.324zm1.911-8.118h1.213c.146 0 .247-.102.247-.254V5.564c0-.152-.101-.253-.247-.253H5.46c-.152 0-.247.101-.247.253V6.74c0 .152.095.254.247.254zm2.94 0h1.205c.152 0 .254-.102.254-.254V5.564c0-.152-.101-.253-.254-.253H8.4c-.152 0-.247.101-.247.253V6.74c0 .152.095.254.247.254zm4.373 8.366V7.424h3.307c.222 0 .33.115.33.33v7.357c0 .216-.108.324-.33.324h-3.307v-.076zM5.46 9.417h1.213c.146 0 .247-.101.247-.253V7.989c0-.152-.101-.254-.247-.254H5.46c-.152 0-.247.102-.247.254v1.175c0 .152.095.253.247.253zm2.94 0h1.205c.152 0 .254-.101.254-.253V7.989c0-.152-.101-.254-.254-.254H8.4c-.152 0-.247.102-.247.254v1.175c0 .152.095.253.247.253zm5.687.4h1.003a.2.2 0 00.209-.21V8.63c0-.127-.083-.21-.21-.21h-1.002c-.127 0-.204.083-.204.21v.978c0 .12.077.21.204.21zM5.46 11.842h1.213c.146 0 .247-.101.247-.254v-1.174c0-.152-.101-.254-.247-.254H5.46c-.152 0-.247.102-.247.254v1.174c0 .153.095.254.247.254zm2.94 0h1.205c.152 0 .254-.101.254-.254v-1.174c0-.152-.101-.254-.254-.254H8.4c-.152 0-.247.102-.247.254v1.174c0 .153.095.254.247.254zm5.687.311h1.003a.2.2 0 00.209-.21v-.977c0-.127-.083-.21-.21-.21h-1.002c-.127 0-.204.083-.204.21v.978c0 .12.077.21.204.21zm0 2.336h1.003a.2.2 0 00.209-.21v-.977c0-.127-.083-.21-.21-.21h-1.002c-.127 0-.204.083-.204.21v.978c0 .12.077.21.204.21zm-7.846-.552c0-.133.063-.197.197-.197h2.196c.133 0 .197.064.197.197v1.498h-2.59v-1.498z"})},settingsMembers:{viewBox:"0 0 20 20",className:"settingsMembers",svg:r.a.createElement("path",{d:"M13.726 9.989c1.725 0 3.123-1.585 3.123-3.536 0-1.92-1.39-3.453-3.123-3.453-1.712 0-3.124 1.556-3.124 3.468.008 1.943 1.405 3.52 3.123 3.52zm-8.264.171c1.504 0 2.716-1.392 2.716-3.111 0-1.675-1.212-3.03-2.716-3.03-1.49 0-2.724 1.378-2.717 3.037 0 1.72 1.22 3.104 2.717 3.104zm8.264-1.474c-.985 0-1.819-.967-1.819-2.225 0-1.213.827-2.159 1.819-2.159.998 0 1.818.93 1.818 2.151 0 1.25-.827 2.233-1.819 2.233zm-8.264.186c-.806 0-1.49-.803-1.49-1.816 0-.967.677-1.756 1.49-1.756.827 0 1.497.774 1.497 1.749 0 1.02-.684 1.823-1.497 1.823zM1.54 17h5.54c-.392-.238-.656-.782-.606-1.273H1.476c-.136 0-.193-.067-.193-.193 0-1.705 1.911-3.327 4.172-3.327.798 0 1.597.208 2.21.566.242-.365.542-.678.934-.946-.906-.58-2.032-.893-3.144-.893C2.438 10.934 0 13.182 0 15.653 0 16.546.513 17 1.54 17zm7.743 0h8.885C19.4 17 20 16.59 20 15.712c0-2.046-2.453-4.77-6.274-4.77-3.822 0-6.275 2.724-6.275 4.77 0 .879.599 1.288 1.832 1.288zm-.228-1.303c-.164 0-.228-.059-.228-.193 0-1.139 1.761-3.26 4.899-3.26 3.137 0 4.898 2.121 4.898 3.26 0 .134-.064.194-.235.194H9.055z"})},settingsUpgrade:{viewBox:"0 0 20 20",className:"settingsUpgrade",svg:r.a.createElement("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm0-2.734a.562.562 0 00.586-.586V9.383l-.063-1.656.797.945.922.937a.52.52 0 00.414.172c.32 0 .57-.242.57-.562a.566.566 0 00-.164-.406L10.43 6.219c-.149-.149-.29-.227-.461-.227-.164 0-.297.07-.453.227l-2.61 2.593a.555.555 0 00-.148.407c0 .32.242.562.562.562a.572.572 0 00.414-.172l.93-.937.781-.938-.062 1.649v3.906c0 .344.25.586.586.586z"})},settingsUpgradeFilled:{viewBox:"0 0 20 20",className:"settingsUpgradeFilled",svg:r.a.createElement("path",{d:"M10 19c4.935 0 9.009-4.073 9.009-9 0-4.926-4.082-9-9.018-9C5.065 1 1 5.074 1 10c0 4.927 4.074 9 9 9zm0-4.422c-.47 0-.818-.33-.818-.8v-4.23l.087-1.863-.81 1.01-1 1.053a.762.762 0 01-.558.235c-.435 0-.757-.314-.757-.74 0-.218.07-.392.218-.549l2.994-3.029c.2-.217.4-.313.644-.313.261 0 .461.104.662.313l2.976 3.03a.73.73 0 01.227.548c0 .426-.322.74-.758.74a.73.73 0 01-.557-.235l-.992-1.045-.818-1.027.087 1.871v4.23c0 .47-.348.801-.827.801z"})},settingsPlans:{viewBox:"0 0 20 20",className:"settingsPlans",svg:r.a.createElement("path",{d:"M2.75781 17.7656C2.95312 17.7656 3.15625 17.6953 3.40625 17.5547L7.38281 15.4141L11.7031 17.8359C11.9844 17.9922 12.2891 18.0703 12.5781 18.0703C12.8516 18.0703 13.125 18 13.3594 17.8672L17.4453 15.5469C17.9141 15.2891 18.125 14.9141 18.125 14.3906V3.86719C18.125 3.28906 17.8047 2.96875 17.2422 2.96875C17.0469 2.96875 16.8438 3.03125 16.5859 3.17188L12.4453 5.47656L8.20312 2.875C7.96094 2.73438 7.6875 2.65625 7.41406 2.65625C7.13281 2.65625 6.85156 2.73438 6.60938 2.875L2.54688 5.1875C2.08594 5.45312 1.875 5.82812 1.875 6.35156V16.8594C1.875 17.4375 2.19531 17.7656 2.75781 17.7656ZM6.875 14.1719L3.35156 16.1094C3.3125 16.125 3.27344 16.1484 3.23438 16.1484C3.17188 16.1484 3.13281 16.1016 3.13281 16.0234V6.65625C3.13281 6.46875 3.20312 6.33594 3.39062 6.22656L6.59375 4.35156C6.69531 4.29688 6.78125 4.25 6.875 4.19531V14.1719ZM8.13281 14.2969V4.35938C8.21094 4.40625 8.30469 4.45312 8.38281 4.5L11.8672 6.625V16.3906C11.7578 16.3281 11.6406 16.2734 11.5234 16.2109L8.13281 14.2969ZM13.125 16.5312V6.54688L16.6484 4.625C16.6875 4.60156 16.7266 4.58594 16.7578 4.58594C16.8281 4.58594 16.8672 4.63281 16.8672 4.71094V14.0781C16.8672 14.2734 16.7891 14.4062 16.6094 14.5156L13.4766 16.3359C13.3594 16.4062 13.2422 16.4766 13.125 16.5312Z"})},settingsBilling:{viewBox:"0 0 20 20",className:"settingsBilling",svg:r.a.createElement("path",{d:"M3.24219 17.5625H16.7578C18.3984 17.5625 19.2109 16.75 19.2109 15.1406V5.60156C19.2109 3.99219 18.3984 3.17969 16.7578 3.17969H3.24219C1.60938 3.17969 0.789062 3.98438 0.789062 5.60156V15.1406C0.789062 16.7578 1.60938 17.5625 3.24219 17.5625ZM2.04688 5.66406C2.04688 4.85156 2.47656 4.4375 3.25781 4.4375H16.7422C17.5156 4.4375 17.9531 4.85156 17.9531 5.66406V6.84375H2.04688V5.66406ZM3.25781 16.3047C2.47656 16.3047 2.04688 15.8906 2.04688 15.0781V8.61719H17.9531V15.0781C17.9531 15.8906 17.5156 16.3047 16.7422 16.3047H3.25781ZM4.5 14.625H6.41406C6.86719 14.625 7.17969 14.3125 7.17969 13.875V12.4297C7.17969 11.9844 6.86719 11.6797 6.41406 11.6797H4.5C4.03906 11.6797 3.72656 11.9844 3.72656 12.4297V13.875C3.72656 14.3125 4.03906 14.625 4.5 14.625Z"})},settingsSecurity:{viewBox:"0 0 20 20",className:"settingsSecurity",svg:r.a.createElement("path",{d:"M10 18.4609C10.125 18.4609 10.3281 18.4141 10.5234 18.3047C14.9688 15.8125 16.4922 14.7578 16.4922 11.9062V5.92969C16.4922 5.10938 16.1406 4.85156 15.4766 4.57031C14.5547 4.1875 11.5781 3.11719 10.6562 2.79688C10.4453 2.72656 10.2188 2.67969 10 2.67969C9.78125 2.67969 9.55469 2.74219 9.35156 2.79688C8.42969 3.0625 5.44531 4.19531 4.52344 4.57031C3.86719 4.84375 3.50781 5.10938 3.50781 5.92969V11.9062C3.50781 14.7578 5.03906 15.8047 9.47656 18.3047C9.67969 18.4141 9.875 18.4609 10 18.4609ZM10 17.0469C9.875 17.0469 9.75 17 9.51562 16.8594C5.90625 14.6719 4.75 14.0312 4.75 11.6172V6.17188C4.75 5.90625 4.79688 5.80469 5.01562 5.71875C6.20312 5.25 8.50781 4.47656 9.6875 4.00781C9.8125 3.95312 9.91406 3.9375 10 3.9375C10.0859 3.9375 10.1875 3.96094 10.3125 4.00781C11.4922 4.47656 13.7812 5.30469 14.9922 5.71875C15.2031 5.79688 15.25 5.90625 15.25 6.17188V11.6172C15.25 14.0312 14.0938 14.6641 10.4844 16.8594C10.2578 17 10.125 17.0469 10 17.0469ZM9.14844 13.8984C9.40625 13.8984 9.625 13.7734 9.78125 13.5391L13.3516 7.91406C13.4375 7.76562 13.5391 7.59375 13.5391 7.41406C13.5391 7.07031 13.2266 6.84375 12.9062 6.84375C12.7031 6.84375 12.5078 6.96094 12.3594 7.19531L9.11719 12.3984L7.57812 10.4062C7.39062 10.1562 7.21875 10.0859 7.00781 10.0859C6.66406 10.0859 6.39844 10.3594 6.39844 10.7109C6.39844 10.875 6.46875 11.0469 6.57812 11.1953L8.48438 13.5391C8.67969 13.7969 8.89062 13.8984 9.14844 13.8984Z"})},settingsAPI:{viewBox:"0 0 20 20",className:"settingsAPI",svg:r.a.createElement("path",{d:"M0.898766 17.4922L2.25814 18.8594C2.94564 19.5547 3.7347 19.5078 4.47689 18.6875L12.6175 9.71874C12.8285 9.78905 13.0472 9.77343 13.2972 9.72655L14.1488 9.5703L14.68 10.1094L14.6488 10.5547C14.6175 10.9531 14.7191 11.2578 15.1097 11.6406L15.7191 12.2344C16.1019 12.6172 16.5941 12.6406 16.9691 12.2656L19.2972 9.92968C19.6722 9.55468 19.6566 9.07811 19.2738 8.6953L18.6566 8.08593C18.2738 7.70311 17.9769 7.57811 17.5941 7.60936L17.1331 7.64843L16.6175 7.14061L16.8128 6.24218C16.9144 5.78905 16.7894 5.43749 16.3206 4.96874L14.5628 3.21874C11.891 0.562488 8.34408 0.624988 6.03158 2.93749C5.69564 3.26561 5.6722 3.72655 5.8597 4.03905C6.0472 4.32811 6.41439 4.51561 6.93002 4.3828C8.10189 4.10936 9.32064 4.06249 10.4613 4.81249L9.99252 5.97655C9.83627 6.35936 9.81283 6.67968 9.91439 6.96874L1.06283 15.2812C0.273766 16.0156 0.211266 16.7969 0.898766 17.4922ZM7.22689 3.23436C9.1722 1.81249 11.805 2.05468 13.5863 3.83593L15.5316 5.76561C15.7191 5.95311 15.7503 6.10155 15.6956 6.37499L15.4378 7.56249L16.641 8.74999L17.43 8.70311C17.6331 8.6953 17.6956 8.71093 17.8519 8.86718L18.3128 9.32811L16.3597 11.2812L15.8988 10.8203C15.7425 10.6641 15.7191 10.6016 15.7269 10.3906L15.7816 9.60936L14.5863 8.42186L13.3675 8.62499C13.1097 8.67968 12.9925 8.65624 12.7972 8.46874L11.1956 6.86718C10.9925 6.67968 10.9691 6.54686 11.0941 6.24999L11.7972 4.57811C10.5472 3.41405 8.9222 2.91405 7.2972 3.39061C7.1722 3.42186 7.12533 3.3203 7.22689 3.23436ZM2.84408 17.8437L1.90658 16.9141C1.53158 16.5469 1.61752 16.2734 1.93783 15.9844L10.5863 7.84374L11.7581 9.03124L3.76595 17.8203C3.4847 18.1406 3.21908 18.2187 2.84408 17.8437Z"})},helpButtonGuide:{viewBox:"0 0 16 16",className:"helpButtonGuide",svg:r.a.createElement("path",{d:"M8 2.77344C7.39844 2.0625 6.05859 1.42676 4.48633 1.42676C2.3877 1.42676 0.692383 2.51367 0.241211 3.5459V13.8066C0.241211 14.4766 0.678711 14.7363 1.16406 14.7363C1.52637 14.7363 1.73145 14.627 1.96387 14.4561C2.42871 14.0801 3.1875 13.6426 4.48633 13.6426C5.79199 13.6426 6.68066 14.0801 7.07715 14.415C7.2959 14.5791 7.54883 14.7363 8 14.7363C8.45117 14.7363 8.69727 14.5654 8.92285 14.415C9.34668 14.1006 10.208 13.6426 11.5137 13.6426C12.8125 13.6426 13.585 14.0869 14.0361 14.4561C14.2686 14.627 14.4736 14.7363 14.8359 14.7363C15.3213 14.7363 15.7588 14.4766 15.7588 13.8066V3.5459C15.3076 2.51367 13.6191 1.42676 11.5137 1.42676C9.94141 1.42676 8.6084 2.0625 8 2.77344ZM1.72461 4.01758C1.90918 3.56641 2.9209 2.80078 4.48633 2.80078C6.05176 2.80078 7.09766 3.57324 7.26172 4.01758V13.0342C6.55762 12.5283 5.55273 12.2549 4.48633 12.2549C3.41309 12.2549 2.41504 12.5283 1.72461 13.0547V4.01758ZM14.2754 4.01758V13.0547C13.585 12.5283 12.5869 12.2549 11.5137 12.2549C10.4473 12.2549 9.44238 12.5283 8.73828 13.0342V4.01758C8.90234 3.57324 9.94824 2.80078 11.5137 2.80078C13.0791 2.80078 14.0908 3.56641 14.2754 4.01758Z"})},helpButtonMessage:{viewBox:"0 0 16 16",className:"helpButtonMessage",svg:r.a.createElement("path",{d:"M4.74609 15.6934C5.13574 15.6934 5.42285 15.502 5.89453 15.085L8.23926 13.0205H12.3545C14.4121 13.0205 15.5674 11.8311 15.5674 9.80078V4.48926C15.5674 2.45898 14.4121 1.26953 12.3545 1.26953H3.63867C1.58789 1.26953 0.425781 2.45898 0.425781 4.48926V9.80078C0.425781 11.8379 1.62207 13.0205 3.59082 13.0205H3.87109V14.6953C3.87109 15.3037 4.19238 15.6934 4.74609 15.6934ZM5.08789 14.1621V12.2139C5.08789 11.8105 4.91016 11.6533 4.52734 11.6533H3.68652C2.40137 11.6533 1.78613 11.0039 1.78613 9.75977V4.53027C1.78613 3.28613 2.40137 2.63672 3.68652 2.63672H12.3135C13.5918 2.63672 14.207 3.28613 14.207 4.53027V9.75977C14.207 11.0039 13.5918 11.6533 12.3135 11.6533H8.16406C7.74707 11.6533 7.54199 11.7217 7.25488 12.0225L5.08789 14.1621ZM4.70508 8.29004C5.26562 8.29004 5.7168 7.83203 5.7168 7.27148C5.7168 6.71094 5.26562 6.25293 4.70508 6.25293C4.1377 6.25293 3.67969 6.71094 3.67969 7.27148C3.67969 7.83203 4.1377 8.29004 4.70508 8.29004ZM8 8.29004C8.56055 8.29004 9.01855 7.83203 9.01855 7.27148C9.01855 6.71094 8.56055 6.25293 8 6.25293C7.43945 6.25293 6.98145 6.71094 6.98145 7.27148C6.98145 7.83203 7.43945 8.29004 8 8.29004ZM11.3018 8.29004C11.8623 8.29004 12.3203 7.83203 12.3203 7.27148C12.3203 6.71094 11.8623 6.25293 11.3018 6.25293C10.7412 6.25293 10.2832 6.71094 10.2832 7.27148C10.2832 7.83203 10.7412 8.29004 11.3018 8.29004Z"})},helpButtonSales:{viewBox:"0 0 16 16",className:"helpButtonSales",svg:r.a.createElement("path",{d:"M8 8.19c2.009 0 3.636-1.777 3.636-3.952C11.636 2.097 10.009.395 8 .395c-2 0-3.644 1.727-3.636 3.86C4.373 6.42 5.991 8.189 8 8.189zm0-1.453c-1.146 0-2.117-1.088-2.117-2.482C5.875 2.894 6.846 1.848 8 1.848c1.162 0 2.117 1.029 2.117 2.39 0 1.395-.963 2.499-2.117 2.499zm-5.18 9.172h10.351c1.436 0 2.125-.456 2.125-1.436 0-2.283-2.847-5.32-7.296-5.32-4.45 0-7.305 3.037-7.305 5.32 0 .98.69 1.436 2.125 1.436zm-.257-1.453c-.2 0-.274-.066-.274-.215 0-1.27 2.05-3.636 5.711-3.636 3.652 0 5.703 2.366 5.703 3.636 0 .15-.075.216-.274.216H2.563z"})},pageErrorNotFound:{viewBox:"0 0 72 72",className:"pageErrorNotFound",svg:r.a.createElement("path",{d:"M17.0312 64.4375C26.25 64.4375 33.5625 52.9688 33.5625 36.4375C33.5625 19.9062 26.25 8.46875 17.0312 8.46875C7.8125 8.46875 0.5 19.9062 0.5 36.4375C0.5 52.9688 7.8125 64.4375 17.0312 64.4375ZM54.9688 64.4375C64.1875 64.4375 71.5 52.9688 71.5 36.4375C71.5 19.9062 64.1875 8.46875 54.9688 8.46875C45.75 8.46875 38.4375 19.9062 38.4375 36.4375C38.4375 52.9688 45.75 64.4375 54.9688 64.4375ZM10.0625 47.1875C15.125 47.1875 18.4688 43.6562 18.4688 38.3438C18.4688 33.0938 15.125 29.5625 10.0625 29.5625C7.6875 29.5625 5.71875 30.3125 4.25 31.6875C5.375 19.9375 10.6875 11.9375 17.0312 11.9062C24.25 11.875 30.125 22.0312 30.125 36.4375C30.125 50.7812 24.25 60.9688 17.0312 61C11.5312 61.0312 6.78125 54.9688 4.90625 45.5938C6.28125 46.625 8.03125 47.1875 10.0625 47.1875ZM47.9688 47.1875C53 47.1875 56.4062 43.6562 56.4062 38.3438C56.4062 33.0938 53 29.5625 47.9688 29.5625C45.5938 29.5625 43.5938 30.3438 42.1562 31.6875C43.2812 19.9375 48.5938 11.9375 54.9688 11.9375C62.1562 11.9062 68 22.0938 68 36.4375C68 50.7812 62.1562 60.9688 54.9688 60.9688C49.4375 61 44.6875 54.9375 42.7812 45.5938C44.1562 46.5938 45.9375 47.1875 47.9688 47.1875ZM45.5312 37.4062C44.4375 37.25 43.75 35.9688 44.0312 34.6562C44.3125 33.3125 45.3125 32.3438 46.375 32.5312C47.4688 32.75 48.0938 34.0312 47.8438 35.3125C47.5938 36.6562 46.5938 37.5938 45.5312 37.4062ZM7.625 37.4062C6.53125 37.25 5.84375 35.9688 6.09375 34.6562C6.375 33.3125 7.40625 32.3438 8.4375 32.5312C9.5625 32.7812 10.1875 34.0312 9.9375 35.3125C9.6875 36.6562 8.65625 37.5938 7.625 37.4062Z"})},pageErrorUnsafe:{viewBox:"0 0 72 72",className:"pageErrorUnsafe",svg:r.a.createElement("path",{d:"M36 68C36.5 68 37.2812 67.8125 38.0625 67.4062C55.8438 58.0938 61.5625 53.4375 61.5625 42.2188V18.6562C61.5625 15.4375 60.1875 14.4062 57.5625 13.3125C53.9062 11.8125 42.2188 7.5625 38.5938 6.3125C37.75 6.03125 36.875 5.875 36 5.875C35.125 5.875 34.25 6.0625 33.4375 6.3125C29.7812 7.5 18.0938 11.8438 14.4375 13.3125C11.8438 14.375 10.4375 15.4375 10.4375 18.6562V42.2188C10.4375 53.4375 16.4688 57.5625 33.9375 67.4062C34.75 67.8438 35.5 68 36 68ZM36 41.5938C34.375 41.5938 33.5 40.6875 33.4688 39.0312L33.0312 22C33 20.3438 34.2188 19.1562 35.9688 19.1562C37.6875 19.1562 38.9688 20.375 38.9375 22.0312L38.5 39.0312C38.4688 40.7188 37.5625 41.5938 36 41.5938ZM36 52.0625C34.125 52.0625 32.5 50.5625 32.5 48.7188C32.5 46.875 34.0938 45.3438 36 45.3438C37.9062 45.3438 39.5 46.8438 39.5 48.7188C39.5 50.5938 37.875 52.0625 36 52.0625Z"})},membersFilled:{viewBox:"0 0 30 30",className:"membersFilled",svg:r.a.createElement("path",{d:"M20.31 14.731c2.22 0 4.097-1.967 4.097-4.513 0-2.485-1.887-4.391-4.098-4.391-2.2 0-4.097 1.937-4.087 4.411 0 2.526 1.866 4.493 4.087 4.493zm-11.725.233c1.937 0 3.57-1.724 3.57-3.935 0-2.17-1.653-3.823-3.57-3.823-1.917 0-3.57 1.683-3.56 3.844 0 2.19 1.633 3.914 3.56 3.914zm-5.588 9.21h7.606c-1.085-1.552.082-4.615 2.374-6.42-1.116-.72-2.566-1.248-4.392-1.248-4.533 0-7.464 3.337-7.464 6.085 0 1.004.507 1.582 1.876 1.582zm10.994-.01h12.637c1.673 0 2.251-.508 2.251-1.44 0-2.607-3.316-6.198-8.57-6.198-5.263 0-8.57 3.59-8.57 6.197 0 .933.578 1.44 2.252 1.44z"})},sparkles:{viewBox:"0 0 14 17",className:"sparkles",svg:r.a.createElement("path",{d:"M6.417 4.074c.096 0 .157-.061.178-.157.191-1.114.184-1.128 1.36-1.36.096-.02.157-.076.157-.178 0-.096-.061-.157-.157-.171-1.176-.219-1.155-.24-1.36-1.36-.02-.096-.082-.164-.178-.164-.096 0-.157.068-.178.164-.205 1.107-.177 1.12-1.36 1.36-.096.014-.157.075-.157.17 0 .103.061.158.164.179 1.169.225 1.162.232 1.353 1.36.02.096.082.157.178.157zM3.095 8.921c.15 0 .266-.11.287-.253.232-1.798.28-1.812 2.167-2.16a.276.276 0 00.246-.28c0-.15-.11-.267-.253-.28-1.873-.26-1.928-.315-2.16-2.154-.02-.15-.13-.26-.287-.26-.15 0-.26.11-.28.267-.22 1.798-.294 1.798-2.168 2.146-.15.02-.252.13-.252.28 0 .158.102.26.28.28 1.846.288 1.92.35 2.14 2.147.02.158.13.267.28.267zm4.82 7.54c.211 0 .375-.15.41-.376.498-3.67 1.01-4.252 4.655-4.662a.416.416 0 00.39-.41c0-.22-.165-.383-.39-.417-3.61-.431-4.123-.957-4.656-4.662-.04-.22-.198-.37-.41-.37-.212 0-.376.15-.41.37-.5 3.677-1.012 4.258-4.655 4.662-.226.027-.39.198-.39.417 0 .212.164.383.39.41 3.602.492 4.101.964 4.655 4.662.04.226.198.376.41.376z",fill:"#84827E"})},reportPage:{viewBox:"0 0 13 14",className:"reportPage",svg:r.a.createElement("path",{d:"M.832 13.846c.349 0 .636-.28.636-.636V9.47a4.696 4.696 0 011.634-.273c2.488 0 4.156 1.244 6.562 1.244 1.053 0 1.538-.13 2.065-.376.492-.218.779-.622.779-1.25v-6.81c0-.45-.349-.73-.814-.73-.39 0-1.005.26-2.098.26C7.216 1.534 5.515.29 3.033.29 2.001.29 1.53.42.976.666.49.892.189 1.247.189 1.869V13.21c0 .349.294.636.643.636zm8.805-4.703c-2.215 0-3.931-1.238-6.508-1.238-.663 0-1.265.075-1.627.212v-6.07c.123-.198.629-.465 1.552-.465 2.33 0 4.047 1.244 6.514 1.244.657 0 1.21-.075 1.627-.191v6.05c-.116.198-.635.458-1.558.458z",fill:"#ED6A5F"})},loginArrow:{viewBox:"0 0 16 12",className:"loginArrow",svg:r.a.createElement("path",{d:"M8.65 11.116a.615.615 0 00.444-.184l4.546-4.54a.66.66 0 00.205-.39v4.526c0 .349.253.588.608.588.356 0 .615-.239.615-.588V1.361a.59.59 0 00-.615-.608.585.585 0 00-.608.608v4.512a.698.698 0 00-.205-.396L9.094.944a.623.623 0 00-.445-.191.58.58 0 00-.594.588c0 .164.054.328.164.437L9.75 3.33l2.242 2.05-1.456-.054h-9.01c-.355 0-.601.253-.601.609 0 .355.246.615.601.615h9.01L12 6.495 9.75 8.54l-1.531 1.559a.616.616 0 00-.164.43c0 .342.26.588.594.588z",fill:"#373530"})},thanksShield:{viewBox:"0 0 27 32",className:"thanksShield",svg:r.a.createElement("path",{d:"M13.5 31.672c.281 0 .672-.125 1.031-.328 8.75-5.063 11.64-6.969 11.64-12.344V7.125c0-1.672-.624-2.219-2.062-2.797-2.218-.89-7.14-2.719-9.375-3.484-.406-.14-.828-.235-1.234-.235-.422 0-.844.11-1.25.235-2.219.719-7.156 2.61-9.375 3.484C1.437 4.891.812 5.453.812 7.125V19c0 5.375 2.922 7.234 11.641 12.344.36.203.75.328 1.047.328zm0-2.14c-.266 0-.547-.126-.922-.36-7.25-4.5-9.844-5.797-9.844-10.547V7.485c0-.782.141-1.063.735-1.298 2.078-.828 7.187-2.656 9.281-3.468.281-.125.547-.188.75-.188.188 0 .438.078.75.188 2.078.812 7.156 2.703 9.266 3.469.593.218.734.515.734 1.296v11.141c0 4.75-2.625 6.016-9.844 10.547-.375.234-.656.36-.906.36zm-1.688-6.75c.391 0 .72-.188.954-.548l7.593-11.859c.141-.234.282-.5.282-.75 0-.531-.485-.906-.985-.906-.312 0-.61.203-.843.547L11.75 20.437 8.156 16c-.281-.375-.562-.484-.89-.484a.944.944 0 00-.938.953c0 .265.11.531.281.765l4.188 5c.297.391.61.547 1.015.547z",fill:"#636363"})},visa:{viewBox:"0 0 33 23",className:"visa",svg:r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{width:"33",height:"23",rx:"2.5",fill:"#fff",stroke:"#D9D9D9"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.75 15.858H8.69L7.147 9.792c-.073-.279-.229-.525-.458-.642A6.573 6.573 0 004.8 8.508v-.233h3.318c.458 0 .801.35.859.758l.801 4.376 2.059-5.134h2.002l-3.089 7.583zm4.234 0H13.04l1.602-7.583h1.945l-1.602 7.583zm4.119-5.482c.057-.409.4-.642.801-.642a3.535 3.535 0 011.888.35l.344-1.633a4.801 4.801 0 00-1.774-.351c-1.888 0-3.262 1.05-3.262 2.508 0 1.11.973 1.692 1.66 2.042.743.35 1.03.584.972.934 0 .524-.572.758-1.143.758a4.789 4.789 0 01-2.003-.467l-.343 1.633c.687.292 1.43.409 2.117.409 2.117.058 3.432-.992 3.432-2.567 0-1.983-2.69-2.1-2.69-2.974zm9.497 5.482l-1.545-7.583h-1.659a.863.863 0 00-.801.583l-2.86 7h2.002l.4-1.108h2.46l.23 1.108H28.6zm-2.917-5.54l.571 2.857h-1.602l1.03-2.858z",fill:"#172B85"}))},mastercard:{viewBox:"0 0 34 24",className:"mastercard",svg:r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:".5",y:".5",width:"33",height:"23",rx:"2.5",fill:"#fff",stroke:"#D9D9D9"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.179 16.8294c-1.1841.9981-2.72 1.6006-4.3983 1.6006C9.0358 18.43 6 15.4303 6 11.73c0-3.7003 3.0358-6.7 6.7807-6.7 1.6783 0 3.2142.6025 4.3983 1.6005 1.184-.998 2.7199-1.6005 4.3983-1.6005 3.7448 0 6.7807 2.9997 6.7807 6.7 0 3.7003-3.0359 6.7-6.7807 6.7-1.6784 0-3.2143-.6025-4.3983-1.6006z",fill:"#ED0006"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.179 16.8294c1.4579-1.2289 2.3824-3.0575 2.3824-5.0994 0-2.042-.9245-3.8706-2.3824-5.0995 1.184-.998 2.7199-1.6005 4.3983-1.6005 3.7448 0 6.7806 2.9997 6.7806 6.7 0 3.7003-3.0358 6.7-6.7806 6.7-1.6784 0-3.2143-.6025-4.3983-1.6006z",fill:"#F9A000"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.179 16.8294c1.4579-1.2289 2.3824-3.0575 2.3824-5.0994 0-2.042-.9245-3.8706-2.3824-5.0995-1.4579 1.229-2.3824 3.0575-2.3824 5.0995 0 2.0419.9245 3.8705 2.3824 5.0994z",fill:"#FF5E00"}))},amex:{viewBox:"0 0 34 24",className:"amex",svg:r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{width:"34",height:"24",rx:"3",fill:"#1F72CD"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.0954 8.5l-3.1811 7.2467h3.8082l.4721-1.1554h1.0792l.472 1.1554h4.1919v-.8818l.3735.8818h2.1683l.3735-.9005v.9005h8.7178l1.0601-1.1254.9926 1.1254 4.4776.0094-3.1911-3.6125L31.1011 8.5h-4.4082L25.661 9.6046 24.6997 8.5h-9.4838l-.8144 1.8704L13.568 8.5H9.7677v.8519L9.345 8.5H6.0954zm.7369 1.029h1.8563l2.11 4.9141v-4.914h2.0335l1.6298 3.5233 1.502-3.5234h2.0234v5.2001h-1.2312l-.0101-4.0747-1.7949 4.0747h-1.1013l-1.805-4.0747v4.0747H9.512l-.4802-1.1658H6.4378l-.4792 1.1647h-1.357l2.2308-5.199zm17.2875 0h-5.0062v5.197h4.9287l1.5886-1.7224 1.5311 1.7224h1.6006l-2.3264-2.5834 2.3264-2.6136h-1.5311l-1.5805 1.7026-1.5312-1.7026zm-16.3845.8799l-.8547 2.0767H8.589l-.8537-2.0767zM20.35 11.555v-.9502h3.1237l1.363 1.5181-1.4234 1.5264h-3.0633V12.613h2.7311v-1.058h-2.7311z",fill:"#fff"}))},dinersclub:{viewBox:"0 0 34 24",className:"dinersclub",svg:r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:".5",y:".5",width:"33",height:"23",rx:"2.5",fill:"#fff",stroke:"#D9D9D9"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.8384 19.3h2.5961c4.0524 0 7.2817-3.215 7.4084-7.1865v-.0631c-.0634-4.0345-3.356-7.3126-7.4084-7.2495h-2.9127c-3.8624.126-6.9018 3.4041-6.7751 7.3126 0 3.9084 3.1659 7.1234 7.0917 7.1865zm-5.8253-7.2496c0-3.278 2.7227-5.9887 6.0153-5.9887 3.2926 0 6.0153 2.7106 6.0153 5.9887s-2.7227 5.9888-6.0153 5.9888c-3.2926 0-6.0153-2.7107-6.0153-5.9888zm6.9651 4.0345v-8.006c2.2161.5674 3.6092 2.7738 3.0393 4.9801-.3799 1.513-1.5197 2.6477-3.0393 3.0259zm-4.8756-5.0431c-.5699 2.2064.7598 4.4758 2.976 5.0431v-8.006c-1.4563.3783-2.5961 1.513-2.976 2.9629z",fill:"#0079BE"}))},applePay:{viewBox:"0 0 34 24",className:"applePay",svg:r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:".5",y:".5",width:"33",height:"23",rx:"2.5",fill:"#fff",stroke:"#D9D9D9"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.4492 8.3432c-.2854.3519-.742.6294-1.1986.5898-.057-.4758.1665-.9814.428-1.2936.2855-.3619.7849-.6196 1.1892-.6394.0475.4956-.138.9813-.4186 1.3432zm.4138.684c-.4023-.0242-.7693.126-1.0658.2473-.1908.078-.3524.1442-.4753.1442-.138 0-.3062-.0697-.495-.1479-.2476-.1024-.5305-.2196-.8273-.214-.6801.01-1.3127.4114-1.66 1.0508-.7134 1.2787-.1854 3.172.5042 4.2129.3377.5154.742 1.0804 1.2748 1.0606.2343-.0092.4029-.0838.5774-.1609.2008-.0888.4095-.1811.7353-.1811.3145 0 .514.0899.7056.1761.1821.0821.357.1608.6167.156.5517-.0099.8989-.5155 1.2366-1.0309.3645-.5532.5246-1.0932.5489-1.1751l.0029-.0095c-.0006-.0006-.0051-.0027-.0131-.0065-.1218-.0581-1.0529-.5023-1.0619-1.6935-.0089-.9998.7386-1.5063.8563-1.586v-.0001c.0071-.0048.012-.0081.0141-.0098-.4756-.7335-1.2176-.8128-1.4744-.8327zm3.8194 6.2895V7.5898h2.7825c1.4364 0 2.44 1.031 2.44 2.5376 0 1.5067-1.0227 2.5476-2.4781 2.5476h-1.5934v2.6417h-1.151zm1.1509-6.7158h1.327c.9989 0 1.5696.555 1.5696 1.5315 0 .9764-.5707 1.5364-1.5743 1.5364h-1.3223v-3.068zm7.872 5.7889c-.3044.6047-.9751.9863-1.6981.9863-1.0701 0-1.8169-.6641-1.8169-1.6653 0-.9912.723-1.5612 2.0595-1.6455l1.4364-.0892v-.4262c0-.6295-.3947-.9715-1.0987-.9715-.5803 0-1.0036.3123-1.0892.7881h-1.0369c.0333-1.0012.937-1.7298 2.1594-1.7298 1.3175 0 2.1737.7187 2.1737 1.8339v3.8461H22.729v-.9269h-.0237zm-1.389.0694c-.6136 0-1.0036-.3073-1.0036-.7781 0-.4857.3758-.7682 1.094-.8128l1.2794-.0843v.4362c0 .7236-.5897 1.239-1.3698 1.239zm6.0121 1.1598c-.4614 1.3531-.9893 1.7991-2.1118 1.7991-.0856 0-.371-.0099-.4376-.0297v-.9268c.0713.0099.2473.0198.3377.0198.5089 0 .7943-.223.9703-.8029l.1046-.342-1.9501-5.6254h1.2034l1.3555 4.5648h.0238l1.3556-4.5648h1.1701l-2.0215 5.9079z",fill:"#000"}))},googlePay:{viewBox:"0 0 34 24",className:"googlePay",svg:r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:".5",y:".5",width:"33",height:"23",rx:"2.5",fill:"#fff",stroke:"#D9D9D9"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.0578 15.528v-2.9347h1.5147c.6206 0 1.1445-.2079 1.5715-.6181l.1025-.104c.7801-.8492.7289-2.172-.1025-2.9577-.4156-.416-.985-.6413-1.5715-.6297h-2.4314v7.2442h.9167zm.0001-3.8244V9.1734h1.5377c.3303 0 .6435.127.877.3581.4955.4853.5069 1.2941.0285 1.7966a1.1899 1.1899 0 01-.9055.3755h-1.5377zm7.4649-.7451c-.3929-.364-.9281-.5488-1.6057-.5488-.8712 0-1.526.3235-1.9588.9647l.8086.5141c.2961-.439.7004-.6585 1.2128-.6585.3246 0 .6378.1213.8826.3408.2392.208.3758.5084.3758.8261v.2137c-.353-.1964-.7972-.3004-1.3438-.3004-.6377 0-1.1502.1502-1.5317.4564-.3815.3062-.5751.7106-.5751 1.2247a1.5418 1.5418 0 00.5409 1.2132c.3588.3235.8143.4852 1.3495.4852.6321 0 1.1332-.283 1.5147-.8492h.0398v.6875h.8769v-3.056c0-.6412-.1936-1.1496-.5865-1.5135zm-2.4881 3.6567c-.188-.1386-.3019-.3639-.3019-.6065 0-.2715.1253-.4968.3702-.6759.2506-.1791.5638-.2715.934-.2715.5125-.0058.9112.1097 1.1959.3408 0 .3928-.1537.7337-.4556 1.0225a1.4463 1.4463 0 01-1.0308.4333c-.2562.0057-.5068-.0809-.7118-.2427zm5.0448 3.0906l3.0634-7.1344h-.9965L26.7286 14.13h-.0171l-1.452-3.5586h-.9964l2.01 4.6388-1.1388 2.4956h.9452z",fill:"#3C4043"}),r.a.createElement("path",{d:"M12.8929 11.9579c0-.2831-.0228-.5661-.0683-.8434H8.9583v1.6002h2.215c-.0911.5141-.3872.9763-.82 1.2651v1.0398h1.3211c.7744-.7221 1.2185-1.7908 1.2185-3.0617z",fill:"#4285F4"}),r.a.createElement("path",{d:"M8.9585 16.0248c1.1046 0 2.0384-.3697 2.716-1.0052l-1.321-1.0398c-.3701.2542-.8427.3986-1.395.3986-1.0705 0-1.9759-.7336-2.3004-1.7157H5.297v1.0745c.6947 1.4038 2.1126 2.2876 3.6614 2.2876z",fill:"#34A853"}),r.a.createElement("path",{d:"M6.6582 12.6627c-.1708-.5141-.1708-1.0745 0-1.5944V9.9996H5.2971a4.177 4.177 0 000 3.7318l1.3611-1.0687z",fill:"#FBBC04"}),r.a.createElement("path",{d:"M8.9585 9.3525c.5865-.0115 1.1502.2138 1.5715.624l1.173-1.1901c-.7459-.7048-1.7253-1.0918-2.7445-1.0803-1.5488 0-2.9667.8897-3.6613 2.2934L6.658 11.074c.3245-.9878 1.2299-1.7215 2.3004-1.7215z",fill:"#EA4335"}))}},c=s.k(l,({viewBox:e,svg:t,className:n})=>function(o){return r.a.createElement(i,Object.assign({},{svg:t,viewBox:e,style:o,className:n}))});t.a=c},mINO:function(e,t,n){"use strict";n.d(t,"l",(function(){return A})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return V})),n.d(t,"i",(function(){return U})),n.d(t,"d",(function(){return X})),n.d(t,"e",(function(){return H})),n.d(t,"b",(function(){return q})),n.d(t,"m",(function(){return W})),n.d(t,"k",(function(){return G})),n.d(t,"j",(function(){return Z})),n.d(t,"o",(function(){return K})),n.d(t,"h",(function(){return J})),n.d(t,"p",(function(){return Q})),n.d(t,"a",(function(){return $})),n.d(t,"g",(function(){return ee})),n.d(t,"n",(function(){return te}));n("3bBZ");var o,r,a,i,s,l,c,d,u,p,h,m,f,g,b,v,y,S,w,k,C,M,E,_,T,x,I,P,O=n("pFdg"),B=n("nFzZ"),L=n("g90h");function R(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const D=Object(O.a)(e=>O.c.not(o||(o=R(["defined"])))(void 0===e)||O.c.not(r||(r=R(["a string"])))("string"!=typeof e)),A=()=>D;Object(O.b)(D,e=>O.c.not(a||(a=R(["a valid uuid"])))(!Object(L.f)(e)));Object(O.b)(D,e=>O.c.not(i||(i=R(["a valid ISO 8601 date string"])))(!function(e){const t=n("hfHo"),{default:o}=t;return o(e,o.ISO_8601,!0).isValid()}(e)));const j=e=>Object(O.a)(t=>O.c.not(s||(s=R(["defined"])))(void 0===t)||O.c.not(l||(l=R(["",""])),e)(t!==e)),F=Object(O.a)(e=>O.c.not(c||(c=R(["defined"])))(void 0===e)||O.c.not(d||(d=R(["a boolean"])))("boolean"!=typeof e)),V=()=>F,N=Object(O.a)(e=>O.c.not(u||(u=R(["defined"])))(void 0===e)||O.c.not(p||(p=R(["a number"])))("number"!=typeof e)),U=()=>N,z=(Object(O.a)(e=>O.c.not(h||(h=R(["defined"])))(void 0===e)||O.c.not(m||(m=R(["a bigint"])))("bigint"!=typeof e)),Object(O.a)(e=>O.c.not(f||(f=R(["defined"])))(void 0===e)||O.c.not(g||(g=R(["",""])),null)(null!==e))),X=()=>z,Y=Object(O.a)(e=>O.c.not(b||(b=R(["",""])),void 0)(void 0!==e)),H=()=>Y,q=e=>Object(O.a)(t=>O.c.not(v||(v=R(["defined"])))(void 0===t)||O.c.not(y||(y=R(["an array"])))(!Array.isArray(t))||O.c.anyFails(Array.from(t.keys()),n=>O.c.keyIsNot(e,n,t))),W=e=>Object(O.a)(t=>O.c.not(S||(S=R(["defined"])))(void 0===t)||O.c.not(w||(w=R(["an array"])))(!Array.isArray(t))||O.c.anyFails(e,(e,n)=>O.c.keyIsNot(e,n,t))),G=(e,t)=>Object(O.a)(e=>O.c.not(k||(k=R(["defined"])))(void 0===e)||O.c.not(C||(C=R(["an object"])))("object"!=typeof e||null===e)||O.c.anyFails(Object(B.j)(e),n=>O.c.keyIsNot(t,n,e))),Z=({required:e,optional:t,exact:n})=>Object(O.a)(o=>{const r=O.c.not(M||(M=R(["defined"])))(void 0===o)||O.c.not(E||(E=R(["an object"])))("object"!=typeof o||null===o)||O.c.anyFails(Object(B.j)(e),t=>O.c.keyIsNot(e[t],t,o))||O.c.anyFails(Object(B.j)(t),e=>O.c.keyIsNot(K([t[e],Y]),e,o));if(!n||r)return r;const a=[];for(const n of Object(B.j)(o)){n in e||n in t||a.push({claim:"present, but should not be",path:[n]})}return a.length>0?a:null}),K=e=>Object(O.a)(t=>O.c.noneOf(e,t)),J=e=>Object(O.b)(e,e=>O.c.not(_||(_=R(["populated"])))(0===Object.keys(e).length)),Q=(Object(O.b)(N,e=>O.c.not(T||(T=R(["an integer"])))(!Number.isInteger(e))),(e,t)=>Object(O.b)(e,e=>O.c.not(x||(x=R(["without ",""])),t)(e.includes(t)))),$=(Q(Q(J(A()),"{"),"}"),Object(O.a)(e=>O.c.not(I||(I=R(["defined"])))(void 0===e)||O.c.not(P||(P=R(["a function"])))("function"!=typeof e)),()=>Object(O.a)(e=>null)),ee=(...e)=>K(e.map(j)),te=e=>K([e,H()]);Z({required:{},optional:{foo:A()}}),Z({required:{foo:A()},optional:{}}),Z({required:{foo:K([A(),H()])},optional:{}}),Z({required:{foo:$()},optional:{}}),Z({required:{},optional:{foo:A()}}),Z({required:{foo:A()},optional:{}}),Z({required:{foo:A()},optional:{bar:A()}})},mKX5:function(e,t,n){"use strict";var o=n("XWyp"),r=n.n(o),a=n("Tk7a"),i=n.n(a),s=n("T8dS");const l=i()(r.a);l.locale(s.a),l.tz.setDefault(l.tz.guess()),window.moment=l,t.a=l},mUbl:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c}));n("3bBZ");var o=n("q1tI"),r=n("mY49"),a=n("0V5j"),i=n("T+jX");n("VhAz");function s(e,t,n={}){const{debugName:r}=n;Object(o.useDebugValue)(r);const i=Object(o.useRef)(0),s=Object(a.a)(),[l,c]=Object(o.useState)({status:"idle"}),d=Object(o.useCallback)(()=>i.current++,[i]);return[l,Object(o.useMemo)(()=>async function(...t){i.current++;const n=i.current;c(e=>({...e,status:"pending"}));try{const o=await e(...t);return n===i.current&&s()&&c(e=>({...e,status:"resolved",value:o,error:void 0})),o}catch(o){return n===i.current&&s()&&c(e=>({...e,status:"rejected",error:o,value:void 0})),Promise.reject(o)}},[s,...t]),d]}function l(e,t,n={}){const{debounce:a,throttle:i,interval:l,debugName:c}=n;Object(o.useDebugValue)(c);const d=Object(r.b)(t,a,r.a),u=Object(r.e)(d,i,r.a),[p,h,m]=s(e,u,n);return Object(o.useEffect)((function(){function e(){h().catch(e=>function(e,t){console.error("useAsync: promise rejected",t,e)}(e,c))}if(void 0!==l){let o=void 0;function t(){o&&(window.clearInterval(o),o=void 0)}function n(){!document.hidden?o=window.setInterval(e,l):t()}return document.addEventListener("visibilitychange",n),n(),e(),()=>{document.removeEventListener("visibilitychange",n),t(),m()}}return e(),m}),[h,m,l,c]),[p,h,m]}function c({state:e,render:t,spinAfterMs:n=300}){const o="resolved"!==Object(r.c)(e.status,void 0,n,Object.is);return"resolved"!==e.status?Object(i.a)(t(o)):null}},mVDJ:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{recentEmojis:[],loadEmojiCount:r.emojisPerPage}}}r.emojisPerPage=144,t.a=r},mXKa:function(e,t,n){"use strict";n.r(t),n.d(t,"setSessionAnalyticsTags",(function(){return o})),n.d(t,"getSessionAnalyticsTags",(function(){return r})),n.d(t,"setSessionUserId",(function(){return a})),n.d(t,"getSessionUserId",(function(){return i})),n.d(t,"getCombinedExperimentValue",(function(){return l})),n.d(t,"setSessionExperimentExposure",(function(){return c})),n.d(t,"getSessionExperimentExposure",(function(){return d})),n.d(t,"setSessionVisitedEvernotePage",(function(){return u})),n.d(t,"getSessionVisitedEvernotePage",(function(){return p})),n.d(t,"setAppRefreshed",(function(){return h})),n.d(t,"getAppRefreshed",(function(){return m})),n.d(t,"setOauthAuthorizationParams",(function(){return g})),n.d(t,"getOauthAuthorizationParams",(function(){return b}));function o(e){sessionStorage.setItem("sessionTags",JSON.stringify(e))}function r(){const e=sessionStorage.getItem("sessionTags");if(e)return f(e)}function a(e){sessionStorage.setItem("activeUserId",e)}function i(){return sessionStorage.getItem("activeUserId")||void 0}function s(e){return"".concat("experimentExposedMap",":").concat(e)}function l(e,t){return"v".concat(e,":").concat(t)}function c(e,t,n){(t||n)&&sessionStorage.setItem(s(e),l(n,t))}function d(e){const t=sessionStorage.getItem(s(e));if(t)return t}function u(e){sessionStorage.setItem("sessionVisitedEvernotePage",JSON.stringify(e))}function p(){const e=sessionStorage.getItem("sessionVisitedEvernotePage");return!!e&&f(e)}function h(e){sessionStorage.setItem("sessionAppRefreshed",JSON.stringify(e))}function m(){const e=sessionStorage.getItem("sessionAppRefreshed");return!!e&&f(e)}function f(e){try{return JSON.parse(e)}catch(t){return}}function g(e){void 0===e?sessionStorage.removeItem("oauthAuthorizationPage"):sessionStorage.setItem("oauthAuthorizationPage",JSON.stringify(e))}function b(){const e=sessionStorage.getItem("oauthAuthorizationPage");if(e)return f(e)}},mY49:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c}));n("3bBZ");var o=n("q1tI");function r(e,t){return Boolean(e&&t&&e.length===t.length&&e.every((e,n)=>e===t[n]))}function a(e,t){const n=!t(function(e){const t=Object(o.useRef)();return Object(o.useEffect)(()=>{t.current=e},[e]),t.current}(e),e);return Object(o.useDebugValue)(n),n}function i(e,t){const n=Object(o.useRef)(0);return a(e,t)&&n.current++,Object(o.useDebugValue)(n.current),n.current}function s(e,t,n){return Object(o.useDebugValue)(void 0===t?"disabled":"".concat(t,"ms")),l(e,e,t,n)}function l(e,t,n,r){const[a,s]=Object(o.useState)(t),l=i(e,r);return Object(o.useDebugValue)(void 0===n?"disabled":"".concat(n,"ms")),Object(o.useEffect)(()=>{if(void 0===n)return;const t=window.setTimeout(()=>{s(e)},n);return()=>{window.clearTimeout(t)}},[n,l]),void 0===n?e:a}function c(e,t,n){const[r,a]=Object(o.useState)(e),s=Object(o.useRef)(),l=Object(o.useRef)(null),c=Object(o.useRef)(0),d=i(e,n);return Object(o.useDebugValue)(void 0===t?"disabled":"".concat(t,"ms")),Object(o.useEffect)(()=>{if(s.current||void 0===t)l.current=e,c.current=!0;else{a(e);const n=()=>{c.current?(c.current=!1,a(l.current),s.current=window.setTimeout(n,t)):s.current=void 0};s.current=window.setTimeout(n,t)}},[t,d]),Object(o.useEffect)(()=>()=>{s.current&&clearTimeout(s.current)},[]),void 0===t?e:r}},mcFc:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=n("fIr1");n("g90h");const r={"user-mentioned":"mentions",commented:"mentions","user-invited":"mentions",reminder:"mentions","email-edited":"mentions","access-requested":"mentions","block-edited":"following","permissions-edited":"following","permission-group-edited":"following","top-level-block-created":"following","top-level-block-deleted":"following","collection-row-created":"following","collection-row-deleted":"following","collection-edited":"following","collection-property-edited":"following","collection-view-edited":"following","page-locked":"following","page-unlocked":"following"};const a="notification",i={table:a,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,user_id:o.a.String,activity_id:o.a.UUID,received:o.a.Boolean,read:o.a.Boolean,visited:o.a.Boolean,emailed:o.a.Boolean,invalid:o.a.Boolean,space_id:o.a.UUID,navigable_block_id:o.a.UUID,collection_id:o.a.UUID,end_time:o.a.String,type:o.a.String,channel:o.a.String}};t.c=i},meF8:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("LvDl"),l=n.n(s),c=n("wldR"),d=n("5Y2+"),u=n("LEzx");class p extends u.a{getInitialState(){return{}}}var h,m,f=p,g=n("RI9y"),b=n("IzPW"),v=n("VyA+"),y=n("v/t1"),S=n("w5u6"),w=n("DNgp"),k=n("VhAz");function C(e){const{device:t,e:n,action:o,onSubmit:r}=e;if(o===m.Submit)r&&r(n);else if(o===m.Newline){if(!t.isIOS)return;n.preventDefault&&n.preventDefault(),document.execCommand("insertLineBreak")}else Object(k.e)(o)}!function(e){e.Inline="Inline",e.InlineWrap="InlineWrap",e.Textarea="Textarea"}(h||(h={})),function(e){e.Submit="Submit",e.Newline="Newline"}(m||(m={})),n.d(t,"a",(function(){return h}));class M extends c.a{constructor(){super(...arguments),this.storeTypes={store:f},this.handleWindowMouseDown=e=>{const t=i.a.findDOMNode(this);t&&!t.contains(e.target)&&this.props.onBlur&&this.props.onBlur()},this.handleEsc=e=>{this.handleKeyEvent(),this.props.onCancel&&this.props.onCancel(e)},this.handleShiftEnter=e=>{const{device:t}=this.environment;!t.isIOS||"shiftKey"in e?this.handleEnter(e):C({device:t,e:e,action:m.Newline})},this.handleEnter=e=>{const{type:t,onSubmit:n}=this.props,{device:o}=this.environment;this.getDisabled()||C({device:o,e:e,action:function(e){const{device:t,type:n,e:o}=e;return n===h.Inline?m.Submit:n===h.InlineWrap?t.isPhone?m.Submit:"altKey"in o&&o.altKey||"shiftKey"in o&&o.shiftKey?m.Newline:m.Submit:n===h.Textarea?m.Newline:void Object(k.e)(n)}({device:o,type:t,e:e}),onSubmit:n})},this.handleLeft=e=>{this.getDisabled()||(this.handleKeyEvent(),this.props.onLeft&&this.props.onLeft(e))},this.handleRight=e=>{this.getDisabled()||(this.handleKeyEvent(),this.props.onRight&&this.props.onRight(e))},this.handleKeyEvent=()=>{S.default.afterNextFlush(()=>{this.saveSerializedTextSelection()})},this.getDisabled=()=>!!this.props.disabled||!this.props.focus,this.getHtml=()=>{const e=l.a.escape(this.props.value+(this.props.value.length>0?"\n":""));return this.props.getHtml?this.props.getHtml(e):e},this.getSelection=()=>this.stores.store.state.selection,this.handleMutation=e=>{this.saveSerializedTextSelection(),this.props.onChange(e)},this.saveSerializedTextSelection=()=>{const{store:e}=this.stores,t=b.n(this.environment,g.get());t&&(l.a.isEqual(t.selection,e.state.selection)||this.stores.store.setState({selection:t.selection}),t.forceEmitSelectionStore&&w.default.emit())}}willMount(e){super.willMount(e),y.a(window,"mousedown",this.handleWindowMouseDown)}willMountOrUpdate(e){super.willMountOrUpdate(e);const{store:t}=this.stores;e.focus&&!t.state.selection&&(e.selectAll?t.setState({selection:{startIndex:0,endIndex:e.value.length}}):t.setState({selection:{startIndex:e.value.length,endIndex:e.value.length}}))}willUnmount(){super.willUnmount(),y.b(window,"mousedown",this.handleWindowMouseDown)}renderComponent(){const{type:e}=this.props;return r.a.createElement(v.a,{capture:!this.getDisabled(),onDelete:this.handleKeyEvent,onBackspace:this.handleKeyEvent,onEnter:this.handleEnter,onShiftEnter:this.handleShiftEnter,onCommandEnter:this.handleKeyEvent,onCommandShiftEnter:this.handleKeyEvent,onUp:this.handleKeyEvent,onDown:this.handleKeyEvent,onLeft:this.handleLeft,onRight:this.handleRight,onTab:this.handleKeyEvent,onUntab:this.handleKeyEvent,onSelectAll:this.handleKeyEvent,onToggleBold:this.handleKeyEvent,onToggleItalics:this.handleKeyEvent,onToggleStrike:this.handleKeyEvent,onToggleCode:this.handleKeyEvent,onUndo:this.handleKeyEvent,onRedo:this.handleKeyEvent,onEsc:this.handleEsc,onCut:this.handleKeyEvent,onCopy:this.handleKeyEvent,onPaste:this.handleKeyEvent,onKeypress:this.handleKeyEvent,onHome:this.handleKeyEvent,onEnd:this.handleKeyEvent,onGoToBeginningOfLine:this.handleKeyEvent,onGoToEndOfLine:this.handleKeyEvent,onGoForwardOneChar:this.handleKeyEvent,onGoBackwardOneChar:this.handleKeyEvent},r.a.createElement(d.a,{style:{...this.props.style,whiteSpace:"pre-wrap"},placeholder:this.props.placeholder,placeholderStyle:this.props.placeholderStyle,spellCheck:!1,autoCorrect:this.props.autoCorrect,autoCapitalize:this.props.autoCapitalize,getDisabled:this.getDisabled,getHtml:this.getHtml,getSelection:this.getSelection,onMutation:this.handleMutation,suppressNewlineEvents:e===h.Inline}))}}M.Type=h;t.b=M},mego:function(e,t,n){"use strict";n("3bBZ"),n("UxlC");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("i8i4"),l=n.n(s),c=n("VBxf"),d=n("GVKY"),u=n("yFBc"),p=n("dsG5"),h=n("q2qQ"),m=n("mF3+"),f=n("7M94"),g=n("Sb6f"),b=n("M64d"),v=n("jmjn"),y=n("LEzx");class S extends y.a{getInitialState(){return{hovered:!1,isInFrame:!1}}}var w=S,k=n("6rsX"),C=n("n8tN"),M=n("udrG"),E=n("5w/s"),_=n("XBB3"),T=n("wpmu"),x=n("wldR"),I=n("iVjn"),P=n("MBf9"),O=n("VpIZ"),B=n("y6Dp"),L=n("HRSx"),R=n("sjR4"),D=n("3k5a"),A=n("dccM");class j extends y.a{getInitialState(){return{isResizing:!1}}}var F,V,N=new j,U=n("F1uM"),z=n("lBar");!function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e[e.Corner=2]="Corner"}(F||(F={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(V||(V={}));class X extends x.a{constructor(){super(...arguments),this.domElm=null,this.storeTypes={blockResizerStore:v.a},this.handleRef=e=>{this.domElm=e},this.handleDragStart=e=>{e.preventDefault();const t=l.a.findDOMNode(this.props.resizeComponent);if(!(t&&t instanceof Element))return;let n=0;if(this.domElm){const e=Object(z.f)(this.domElm);e&&(n=e.getBoundingClientRect().width)}let o=0;const r=this.props.store.recordStoreParent(),a=r&&r.findRecordStoreAncestor(e=>e instanceof T.a).ancestor;if(a){const e=D.a.getRect(a);e&&(o=e.width)}const s=this.getPageViewWrapWidth()||0,c=R.default.state.stores.filter(e=>this.isResizable(e));let d;d=i.a.includes(c,this.props.store)?c:[this.props.store];const{block_width:u,block_height:p,block_full_width:h,block_page_width:m}=this.props.store.getFormat();this.stores.blockResizerStore.setState({...this.stores.blockResizerStore.state,dragging:!0,temporaryHeight:p,temporaryWidth:u,temporaryFullWidth:h,temporaryPageWidth:m}),N.setState({...N.state,isResizing:!0}),k.e(this.environment);const f=t.getBoundingClientRect();this.dragState={resizingBlocks:d,startWidth:f.width,startHeight:f.height,parentWidth:o,pageWidth:s,isRootChild:this.props.store.isRootChild(),startScrollerWidth:n,didDragMove:!1}},this.handleHorizontalDragMove=({diffX:e})=>{if(!this.dragState)return;this.dragState.didDragMove=!0;const{temporaryHeight:t}=this.stores.blockResizerStore.state,{width:n,isFullWidth:o,isPageWidth:r}=this.getNewWidthStyleValue(e);if(this.props.preserveScale){const e=o?t||U.a:t;this.stores.blockResizerStore.setState({...this.stores.blockResizerStore.state,temporaryWidth:n,temporaryFullWidth:o,temporaryPageWidth:r,temporaryHeight:e})}else this.stores.blockResizerStore.setState({...this.stores.blockResizerStore.state,temporaryWidth:n,temporaryFullWidth:o,temporaryPageWidth:r})},this.handleVerticalDragMove=({diffY:e})=>{if(!this.dragState)return;this.dragState.didDragMove=!0;const{height:t}=this.getNewHeightStyleValue(e);this.stores.blockResizerStore.setState({...this.stores.blockResizerStore.state,temporaryHeight:t})},this.handleCornerDragMove=({diffX:e,diffY:t})=>{if(!this.dragState)return;this.dragState.didDragMove=!0;const{width:n,isFullWidth:o,isPageWidth:r}=this.getNewWidthStyleValue(e),{height:a}=this.getNewHeightStyleValue(t);this.stores.blockResizerStore.setState({...this.stores.blockResizerStore.state,temporaryWidth:n,temporaryHeight:a,temporaryFullWidth:o,temporaryPageWidth:r})},this.handleDragMove=e=>this.props.resizerType===F.Horizontal?this.handleHorizontalDragMove(e):this.props.resizerType===F.Vertical?this.handleVerticalDragMove(e):this.props.resizerType===F.Corner?this.handleCornerDragMove(e):void 0,this.handleDragEnd=e=>{if(!this.dragState)return;const t=this.stores.blockResizerStore.state;if(this.dragState.didDragMove&&t.dragging){const{temporaryPageWidth:e,temporaryFullWidth:t,temporaryWidth:n,temporaryHeight:o}=this.stores.blockResizerStore.state;P.createAndCommit(this.environment,r=>{this.dragState&&E.h({stores:this.dragState.resizingBlocks,update:{block_height:o,block_width:n,block_full_width:t,block_page_width:e},transaction:r})});const r=this.props.store.getType();r&&B.Jb(this.environment,{block_type:r,block_height:o,block_width:n,block_full_width:t,block_page_width:e})}this.endDrag()},this.handleDragCancel=e=>this.endDrag()}renderComponent(){return r.a.createElement(I.a,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,render:e=>r.a.createElement("div",Object.assign({ref:this.handleRef,style:X.style,className:f.i},e),this.props.children)})}isResizable(e){const t=e&&e.getType();return t&&L.p[t]}isCenterAligned(){const e=this.props.store.getValue();return this.props.store.isRootChild()&&e&&O.F(e)}endDrag(){this.stores.blockResizerStore.setState({...this.stores.blockResizerStore.state,dragging:!1,temporaryPageWidth:void 0,temporaryFullWidth:void 0,temporaryWidth:void 0,temporaryHeight:void 0}),k.e(this.environment),N.setState({...N.state,isResizing:!1}),this.dragState=void 0}getNewHeightStyleValue(e){const t=this.getNewPixelHeight(e);return{height:Math.min(t,U.k)}}getNewPixelHeight(e){if(this.dragState){if(this.props.resizeVertically){const t=this.props.store.getType(),n=t&&X.minHeightMap[t]||X.defaultMinHeight;return Math.max(this.dragState.startHeight+e,n)}return this.dragState.startHeight}return 0}getNewWidthStyleValue(e){const t=this.getNewPixelWidth(e),n=this.getRound(t),o=Math.round(t/n)*n,r=this.isPageWidth(t,n);return{width:o,isFullWidth:this.isFullWidth(t,n),isPageWidth:r}}isPageWidth(e,t){return!!this.dragState&&(this.dragState.isRootChild?this.dragState.pageWidth<e+t&&this.dragState.pageWidth>e-t:this.dragState.parentWidth<e+t)}isFullWidth(e,t){if(this.dragState&&this.dragState.isRootChild){let n=this.dragState.startScrollerWidth;const o=this.props.store.getValue();return o&&!O.a(o)&&(n-=2*_.b.defaultPaddingLeftRight(this.environment)),n<e+t}return!1}getNewPixelWidth(e){if(!this.dragState)throw new Error("No start rect.");this.isCenterAligned()&&(e*=2);let t=this.dragState.startWidth;this.props.resizeHorizontally&&(this.props.resizerAlignment===V.Left?t-=e:this.props.resizerAlignment===V.Right&&(t+=e));const n=this.props.store.getType(),o=n&&X.minWidthMap[n]||X.defaultMinWidth;return o&&t<o&&(t=o),t}getRound(e){return e<144?12:48}getPageViewWrapWidth(){const e=this.props.store.getRoot(),t=A.a.findComponent(t=>t.props.store===e);if(t)return t.getContentInnerWidth()}}X.defaultMinWidth=96,X.minWidthMap={[M.a.image]:36,[M.a.video]:96,[M.a.embed]:246,[M.a.maps]:96,[M.a.framer]:96,[M.a.tweet]:250,[M.a.gist]:96,[M.a.audio]:96,[M.a.drive]:300,[M.a.invision]:96,[M.a.pdf]:96},X.defaultMinHeight=96,X.minHeightMap={[M.a.image]:36,[M.a.audio]:24,[M.a.video]:96,[M.a.embed]:96,[M.a.drive]:96,[M.a.tweet]:96,[M.a.framer]:96,[M.a.maps]:96,[M.a.gist]:96,[M.a.invision]:96,[M.a.pdf]:96},X.style={display:"block",height:"100%"};var Y=X,H=n("SGmk"),q=n("6fCZ"),W=n("S26v"),G=n("stZG"),Z=n("yjqD");let K=0;function J(e){const t=Z.c(),n=document.createElement("script");n.type="text/javascript";const o=function(){const e="notion_jsonp_callback_"+K;return K++,e}();window[o]=e=>{delete window[o],n.parentNode&&n.parentNode.removeChild(n),t.resolve(e)};const r=W.a(e,{callback:o});return n.src=r,n.onerror=e=>{delete window[o],n.parentNode&&n.parentNode.removeChild(n),t.reject(e)},document.head&&document.head.appendChild(n),t.promise}class Q extends y.a{getInitialState(){return{loading:!0,error:!1,html:void 0}}}var $=Q,ee=n("ttM1"),te=n("wlCD"),ne=n("DaKt"),oe=n("J9+s");class re extends x.a{constructor(){super(...arguments),this.storeTypes={store:$}}async didMount(){const e="https://gist.github.com/".concat(this.getGistId(),".json");try{const n=await J(e);if(this.stores.store.setState({loading:!1,error:!1,html:n.div}),!document.querySelector('link[href="'.concat(n.stylesheet,'"]'))){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=n.stylesheet,document.head&&document.head.appendChild(t)}}catch(n){this.stores.store.setState({loading:!1,error:!0,html:void 0})}}renderComponent(){return r.a.createElement("div",null,r.a.createElement(G.a,{capture:!0,render:e=>r.a.createElement("div",Object.assign({},e,{ref:this.props.handleEmbedComp,style:this.getStyle()}),this.renderGist())}))}renderGist(){return r.a.createElement(ee.a,{show:this.stores.store.state.loading,showDelay:1e3,showHold:500,render:e=>e||this.stores.store.state.loading?r.a.createElement("div",{style:{marginBottom:"1em"}},r.a.createElement("div",{style:{display:"inline-flex",alignItems:"center",opacity:e?1:0,...re.loadingStyle}},r.a.createElement(te.a,null),r.a.createElement("div",{style:{marginLeft:8}},r.a.createElement(oe.FormattedMessage,{defaultMessage:"Loading gist",description:"A gist is a Github term that doesn't need to be translated.",id:"githubGistRenderer.loading.message"})))):this.stores.store.state.error?r.a.createElement("div",{style:{marginBottom:"1em"}},r.a.createElement("div",{style:re.loadingStyle},r.a.createElement(oe.FormattedMessage,{defaultMessage:"Error loading gist",description:"A gist is a Github term that doesn't need to be translated.",id:"githubGistRenderer.errorLoading.message"}))):r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.stores.store.state.html}})})}getStyle(){return this.stores.store.state.html?{width:"100%",marginBottom:"-1em",overflowY:"auto",height:"100%",pointerEvents:ne.a.state?"none":"auto"}:{width:"100%",marginBottom:"-1em"}}getGistId(){const{source:e}=this.props,{pathname:t}=W.e(e);return(t||"").split("/").pop()}}re.loadingStyle={userSelect:"none",padding:"6px 10px",borderRadius:3,border:"1px solid #dddddd",fontSize:14,width:"100%"};var ae={render:function(e){const{source:t,handleEmbedComp:n}=e;return r.a.createElement(re,{source:t,handleEmbedComp:n})},renderFullScreen:void 0,resizable:!0,embedGhost:!0,hideActions:!0};class ie extends y.a{getInitialState(){return{loading:!0,error:!1}}}var se=ie,le=n("kFin");class ce extends x.a{constructor(){super(...arguments),this.storeTypes={store:se},this.handleRenderTweet=async e=>{if(!e)return;const{source:t}=this.props,{pathname:n}=W.e(t),o=(n||"").split("/")[3];if(o&&window.twttr){if(e.innerHTML="",await window.twttr.widgets.createTweetEmbed(o,e,ce.tweetOpts))return}l.a.render(r.a.createElement("div",{style:ce.loadingStyle},r.a.createElement(oe.FormattedMessage,{defaultMessage:"Error loading Tweet",id:"tweetRenderer.errorLoadingTweet.message"})),e)}}renderComponent(){const{handleEmbedComp:e}=this.props;return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto",maxWidth:420,minWidth:0,width:"100%"}},r.a.createElement(G.a,{capture:!0,render:t=>r.a.createElement("div",Object.assign({},t,{ref:t=>t&&e(t),style:this.getStyle()}),r.a.createElement(le.a,{fetch:()=>n.e(16).then(n.bind(null,"uwlX")),loading:e=>e&&r.a.createElement("div",{style:{display:"inline-flex",alignItems:"center",...ce.loadingStyle}},r.a.createElement(te.a,null),r.a.createElement("div",{style:{marginLeft:8}},r.a.createElement(oe.FormattedMessage,{id:"tweetRenderer.loadingTweet.message",defaultMessage:"Loading Tweet"}))),render:()=>r.a.createElement("div",{ref:this.handleRenderTweet})}))})))}getStyle(){const{fullScreen:e}=this.props,t=!this.stores.store.state.error&&!this.stores.store.state.loading,n={width:e?520:"100%",minWidth:"100%",pointerEvents:ne.a.state?"none":"auto"};return t&&(this.props.fullScreen?n.margin="-10px auto":n.margin="-10px 0"),n}}ce.tweetOpts={dnt:!0,lang:"en",width:"100%"},ce.loadingStyle={userSelect:"none",borderRadius:3,border:"1px solid #dddddd",fontSize:14,width:"100%",padding:"6px 10px"};var de={render:function(e){const{source:t,handleEmbedComp:n}=e;return r.a.createElement(ce,{source:t,handleEmbedComp:n,fullScreen:!1})},renderFullScreen:function(e){const{source:t,handleEmbedComp:n}=e;return r.a.createElement(ce,{source:t,handleEmbedComp:n,fullScreen:!0})},resizable:!1,embedGhost:!0,hideActions:!0},ue=n("2m/B"),pe=n("zmp8"),he=n("fVGD"),me=n("1y3T"),fe=n("VhAz"),ge=n("aEEb"),be=n("5FB0"),ve=n("622O"),ye=n("prF1"),Se=n("A9TN"),we=n("0CAA");function ke(e,t){if(e&&e instanceof be.a){let n=t||e.data.url;return W.c(n)&&(n=W.j({relativeUrl:n,baseUrl:Se.default.baseURL})),e.data.offline?W.c(e.data.url)||e.data.url.startsWith(Se.default.baseURL)?{type:"offline"}:{type:"unknown",source:n}:{type:"http",source:n,statusCode:e.data.status}}}function Ce(e,t){const n=e.error,o=t||e.src;if(n)return n.code===n.MEDIA_ERR_DECODE||n.code===n.MEDIA_ERR_SRC_NOT_SUPPORTED?{type:"unsupported_content_type",extension:o&&Object(ve.e)(o)}:n.code===n.MEDIA_ERR_NETWORK?{type:"offline"}:void 0}function Me(){return r.a.createElement(oe.FormattedMessage,{id:"embedError.extension.unknown",defaultMessage:"unknown",description:"Used in other error messages if the file extension (eg, .txt) cannot be determined"})}function Ee(e){switch(e){case"audio":return Object(we.a)("guides.audioFaqs");case"video":return Object(we.a)("guides.videosFaqs");case"image":return Object(we.a)("guides.imagesFaqs");default:return Object(we.a)("guides.embedsFaqs")}}class _e extends x.a{render(){const{style:e,error:t,family:n,isSmall:o}=this.props,a={background:this.theme.embedPlaceholderBackground,cursor:"default",...e||{},position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",alignContent:"center",alignItems:"center",justifyContent:o?"flex-start":"center",padding:o?"7px 14px":"0.5em 1em",textAlign:"center",flexDirection:o?"row":"column",overflow:"hidden"},i=o?25:48,s=o?"0px 14px 0 0":"0 0 14px 0",l=function(e,t){return"image"===t?"unsupported_content_type"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This image format ({extension}) can't be played on this device.",id:"embedError.image.unsupportedContentType",values:{extension:e.extension||Me()}}):"offline"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"Go online to view this image",id:"embedError.image.offline"}):"unknown"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This image couldn't be loaded.",id:"embedError.image.unknown"}):404===e.statusCode?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This image couldn't be found.",id:"embedError.image.notFound"}):401===e.statusCode||403===e.statusCode?r.a.createElement(oe.FormattedMessage,{id:"embedError.image.permissionDenied",defaultMessage:"Permission denied."}):r.a.createElement(oe.FormattedMessage,{defaultMessage:"This image couldn't be loaded.",id:"embedError.image.serverError"}):"audio"===t?"unsupported_content_type"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This audio format ({extension}) can't be played on this device.",id:"embedError.audio.unsupportedContentType",values:{extension:e.extension||Me()}}):"offline"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"Go online to view this audio",id:"embedError.audio.offline"}):"unknown"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This audio couldn't be loaded.",id:"embedError.audio.unknown"}):404===e.statusCode?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This audio couldn't be found.",id:"embedError.audio.notFound"}):401===e.statusCode||403===e.statusCode?r.a.createElement(oe.FormattedMessage,{id:"embedError.audio.permissionDenied",defaultMessage:"Permission denied."}):r.a.createElement(oe.FormattedMessage,{defaultMessage:"This audio couldn't be loaded.",id:"embedError.audio.serverError"}):"video"===t?"unsupported_content_type"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This video format ({extension}) can't be played on this device.",id:"embedError.video.unsupportedContentType",values:{extension:e.extension||Me()}}):"offline"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"Go online to view this video",id:"embedError.video.offline"}):"unknown"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This video couldn't be loaded.",id:"embedError.video.unknown"}):404===e.statusCode?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This video couldn't be found.",id:"embedError.video.notFound"}):401===e.statusCode||403===e.statusCode?r.a.createElement(oe.FormattedMessage,{id:"embedError.video.permissionDenied",defaultMessage:"Permission denied."}):r.a.createElement(oe.FormattedMessage,{defaultMessage:"This video couldn't be loaded.",id:"embedError.video.serverError"}):"file"===t?"unsupported_content_type"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This file format ({extension}) can't be played on this device.",id:"embedError.file.unsupportedContentType",values:{extension:e.extension||Me()}}):"offline"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"Go online to view this file",id:"embedError.file.offline"}):"unknown"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This file couldn't be loaded.",id:"embedError.file.unknown"}):404===e.statusCode?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This file couldn't be found.",id:"embedError.file.notFound"}):401===e.statusCode||403===e.statusCode?r.a.createElement(oe.FormattedMessage,{id:"embedError.file.permissionDenied",defaultMessage:"Permission denied."}):r.a.createElement(oe.FormattedMessage,{defaultMessage:"This file couldn't be loaded.",id:"embedError.file.serverError"}):"embed"===t?"unsupported_content_type"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This embed format ({extension}) can't be played on this device.",id:"embedError.embed.unsupportedContentType",values:{extension:e.extension||Me()}}):"offline"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"Go online to view this embed",id:"embedError.embed.offline"}):"unknown"===e.type?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This embed couldn't be loaded.",id:"embedError.embed.unknown"}):404===e.statusCode?r.a.createElement(oe.FormattedMessage,{defaultMessage:"This embed couldn't be found.",id:"embedError.embed.notFound"}):401===e.statusCode||403===e.statusCode?r.a.createElement(oe.FormattedMessage,{id:"embedError.embed.permissionDenied",defaultMessage:"Permission denied."}):r.a.createElement(oe.FormattedMessage,{defaultMessage:"This embed couldn't be loaded.",id:"embedError.embed.serverError"}):void Object(fe.e)(t)}(t,n);return r.a.createElement("div",{style:a},function(e){switch(e){case"image":return m.a.imageError;case"audio":case"video":return m.a.playbackError;default:return m.a.genericError}}(n)({fill:this.theme.lightTextColor,width:i,height:i,margin:s}),r.a.createElement(ge.a,{isSecondaryColor:!0,isMultiline:!o,style:{margin:s}},r.a.createElement("div",{style:{display:o?"inline-block":"block",marginRight:o?"14px":void 0}},l),"offline"!==t.type&&r.a.createElement(ye.a,{style:{display:"inline",pointerEvents:"auto",cursor:"auto",borderBottom:"1px solid ".concat(this.theme.lightTextColor)},href:Ee(n),external:!0,onClick:()=>{B.C(this.environment,{from:"embed_error"})}},r.a.createElement(oe.FormattedMessage,{defaultMessage:"Learn more",id:"embedError.learnMore"}))),!o&&"http"===t.type&&r.a.createElement(ge.a,{isSmall:!0,isSecondaryColor:!0},function(e){const{source:t,statusCode:n}=e,o=W.e(t).hostname;return r.a.createElement(oe.FormattedMessage,{defaultMessage:"{hostname} (Error {statusCode})",id:"embedError.hostnameAndStatusCode",description:"Displays the hostname and the HTTP status code number",values:{hostname:o,statusCode:n}})}(t)),!o&&"unknown"===t.type&&t.source&&r.a.createElement(ge.a,{isSmall:!0,isSecondaryColor:!0},W.e(t.source).hostname))}}var Te=_e,xe=n("hU3F");class Ie extends x.a{constructor(){super(...arguments),this.storeTypes={error:xe.a.of(void 0)},this.renderURL=(e,t)=>{const{isFullScreen:n}=this.props,o=ke(e,void 0)||this.stores.error.get();return n?this.renderFullScreen(o,t):this.renderInline(o,t)},this.onImageError=async(e,t)=>{const n=ve.j(this.props.source,Se.default.secureFileS3.url)?t:this.props.source;if(t){const e=await Object(be.b)({url:t,environment:this.environment,method:"HEAD",json:!1});if("failed"===e.type){const t=ke(e.error,n);if(t)return void this.stores.error.set(t)}}this.stores.error.set({type:"unknown",source:n})}}render(){const{store:e,dataURL:t,source:n,isFullWidth:o,dragging:a,blockWidth:i,isFullScreen:s}=this.props;if(t)return this.renderURL(void 0,t);const l=o&&!a?void 0:i,c=window.innerWidth;return r.a.createElement(me.a,{url:n,width:s?c:l,render:this.renderURL,isAuthenticated:!0,permissionRecord:e.pointer})}renderInline(e,t){const{progressPercent:n,disabled:o,isLoading:a,contentStyle:i,contentWrapStyle:s,handleFullScreen:l,handleEmbedComp:c,isFullWidth:d,isRootChild:u,height:p}=this.props;return r.a.createElement("div",{style:s,onClick:o?l:void 0},r.a.createElement(ue.a,{ref:e=>c(e),src:t,style:i,placeholderStyle:this.getPlaceholderStyle(),onDoubleClick:l,height:d&&u?p:void 0,capMaxHeight:d&&u,onError:this.onImageError}),e&&r.a.createElement(Te,{error:e,family:"image"}),a&&r.a.createElement("div",{style:ue.a.loadingContainerStyle},r.a.createElement(te.a,{style:{width:16,height:16,marginRight:4}}),r.a.createElement("div",{style:{width:26,textAlign:"right"}},r.a.createElement(he.a,{percentage:n}))))}renderFullScreen(e,t){const{contentStyle:n}=this.props,o=Math.min(500,window.innerWidth-50);return r.a.createElement("div",{style:{alignSelf:"center",margin:"0 auto",position:"relative",minWidth:e?o:void 0}},r.a.createElement(ue.a,{src:t,style:{...n,background:pe.g.white},placeholderStyle:this.getPlaceholderStyle(),capMaxHeight:!1,onError:this.onImageError}),e&&r.a.createElement(Te,{error:e,family:"image"}))}getPlaceholderStyle(){const{isFullWidth:e,isRootChild:t,aspectRatio:n,height:o}=this.props,r={};return e&&t||!n?o&&(r.height=o,r.background=pe.g.contentGrayBackground):(r.height=0,r.paddingBottom="".concat(100*n,"%"),r.background=pe.g.contentGrayBackground),r}}var Pe={render:e=>r.a.createElement(Ie,Object.assign({},e,{isFullScreen:!1})),renderFullScreen:e=>r.a.createElement(Ie,Object.assign({},e,{isFullScreen:!0})),resizable:!0},Oe=n("WHWW"),Be=n("EZe4"),Le=n("WxaJ");class Re extends x.a{constructor(){super(...arguments),this.storeTypes={played:xe.a.of(!1),error:xe.a.of(void 0)},this.handlePlay=e=>{this.stores.played.set(!0)},this.handlePause=e=>{const{device:t}=this.environment;t.isMobile&&this.stores.played.set(!1)},this.handleEnded=e=>{const{device:t}=this.environment;t.isAndroid&&document.fullscreenElement&&document.exitFullscreen()},this.handleLoadStart=e=>{const{device:t}=this.environment;t.isIOS&&this.video&&this.video.pause()},this.handleError=e=>{const t=Ce(e.currentTarget,this.props.source);t&&this.stores.error.set(t)},this.handleRef=e=>{this.props.handleEmbedComp(e),this.video=e},this.handlePlayVideo=e=>{this.video&&Object(Be.d)({event:e,context:Be.a.EditorClick,callback:()=>{this.video.play()}})}}renderComponent(){const{store:e,source:t,contentWrapStyle:n,handleFullScreen:o,aspectRatio:a,height:i,handleEmbedComp:s,isFullWidth:l,preserveScale:c}=this.props;return r.a.createElement(Le.a,{url:t,permissionRecord:e.pointer,render:(e,d,u)=>{if(!u)return r.a.createElement("div",null);const p=ke(e,void 0)||this.stores.error.get();return d?Object(U.j)({url:t})?r.a.createElement("div",{style:n,onMouseDown:Be.c},r.a.createElement("div",{style:{position:"relative"},onDoubleClick:o},this.renderVideo(d),p&&this.renderError(p),this.renderOverlay())):r.a.createElement("div",{style:n,onDoubleClick:o},r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(Oe.a,{ref:e=>s(e),source:d,height:i,style:this.getContentStyle(),isFullWidth:l,preserveScale:c,aspectRatio:a,background:!0}))):void 0}})}renderPlayButton(){const{device:e}=this.environment;return e.isFirefox||e.isMobile?null:r.a.createElement("div",{style:Re.buttonContainerStyle},r.a.createElement("div",{style:Re.buttonTriangleStyle}))}getContentStyle(){const{isFullWidth:e,isRootChild:t,preserveScale:n,height:o}=this.props,r={...this.props.contentStyle};return e&&t&&n&&(r.height=o),this.stores.played.get()||(r.pointerEvents="none"),r.backgroundColor=this.theme.embedPlaceholderBackground,r}renderVideo(e){return r.a.createElement("video",{ref:this.handleRef,style:this.getContentStyle(),autoPlay:this.environment.device.isIOS,playsInline:!0,controls:!0,preload:"metadata",onPause:this.handlePause,onPlay:this.handlePlay,onEnded:this.handleEnded,onLoadStart:this.handleLoadStart,onError:this.handleError,src:e})}renderError(e){return r.a.createElement(Te,{family:"video",error:e})}renderOverlay(){return this.stores.played.get()||this.stores.error.get()?null:r.a.createElement("div",{onClick:this.handlePlayVideo,style:Re.overlayStyle},this.renderPlayButton())}}Re.overlayStyle={position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},Re.buttonContainerStyle={position:"relative",height:70,width:70,borderWidth:3,borderStyle:"solid",borderColor:pe.g.uiBlack,borderRadius:70},Re.buttonTriangleStyle={position:"absolute",left:"50%",top:"50%",transform:"translate(-30%, -50%)",height:0,width:0,borderStyle:"solid",borderColor:pe.g.uiBlack,borderRightWidth:0,borderLeftWidth:24.5,borderTopWidth:16.1,borderBottomWidth:16.1,borderTopColor:pe.g.transparent,borderBottomColor:pe.g.transparent};var De={render:e=>r.a.createElement(Re,Object.assign({},e)),resizable:!0,embedGhost:!0};var Ae={render:function(e){const{disabled:t,contentStyle:n,contentWrapStyle:o,handleFullScreen:a,handleEmbedComp:i,height:s,preserveScale:l,isFullWidth:c,source:d}=e;return r.a.createElement(Le.a,{url:d,permissionRecord:e.store.pointer,render:(e,d,u)=>u?r.a.createElement("div",{style:o,onClick:t?a:void 0,onMouseDown:Be.c},r.a.createElement("div",{style:{position:"relative"}},d&&r.a.createElement(Oe.a,{ref:e=>i(e),source:d,height:s,style:n,preserveScale:l,isFullWidth:c,background:!0}))):r.a.createElement("div",null)})},embedGhost:!0,renderFullScreen:function(e){const{height:t,source:n,contentStyle:o}=e;return r.a.createElement(Le.a,{url:n,permissionRecord:e.store.pointer,render:(e,a)=>r.a.createElement(Oe.a,{source:n,isFullWidth:!0,isFullHeight:!0,height:t,style:o,background:!0})})},resizable:!0};let je=null;class Fe extends x.a{constructor(){super(...arguments),this.storeTypes={error:xe.a.of(void 0)},this.onPlay=e=>{je&&je.pause(),je=e.currentTarget},this.onPause=e=>{je===e.currentTarget&&(je=null)},this.onError=e=>{const t=Ce(e.currentTarget,this.props.source);t&&this.stores.error.set(t)}}renderComponent(){const{contentWrapStyle:e,source:t,handleEmbedComp:n}=this.props;return r.a.createElement("div",{style:e,onMouseDown:Be.c,onTouchStart:Be.c},r.a.createElement("div",{style:this.getStyle()},r.a.createElement("audio",{ref:e=>n(e),style:this.getStyle(),controls:!0,preload:"none",onError:this.onError,onPlay:this.onPlay,onPause:this.onPause,src:t}),this.renderError()))}renderError(){const e=this.stores.error.get();if(e)return r.a.createElement(Te,{family:"audio",error:e,isSmall:!0})}getStyle(){const{contentStyle:e}=this.props;return{...e,pointerEvents:ne.a.state?"none":"auto",position:"relative"}}}Fe.containerStyle={position:"relative",borderColor:pe.g.contentBorder,borderRadius:3,borderWidth:1,borderStyle:"solid"};var Ve={render:function(e){const{contentStyle:t,contentWrapStyle:n,handleEmbedComp:o}=e;return r.a.createElement(Le.a,{url:e.source,permissionRecord:e.store.pointer,render:(e,a,i)=>i?a?r.a.createElement(Fe,{contentStyle:t,contentWrapStyle:n,source:a,handleEmbedComp:o}):void 0:r.a.createElement("div",null)})},resizable:!1,hideActions:!0};var Ne={render:function(e){const{disabled:t,contentStyle:n,contentWrapStyle:o,handleFullScreen:a,source:i,handleEmbedComp:s,height:l}=e;return r.a.createElement("div",{style:o,onClick:t?a:void 0},r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(Oe.a,{ref:e=>s(e),source:i,height:l,style:n,background:!1})))},renderFullScreen:function(e){const{source:t,height:n,contentStyle:o}=e;return r.a.createElement(Oe.a,{source:t,isFullWidth:!0,height:n,style:o,background:!0})},resizable:!0},Ue=n("cBa6"),ze=n("vX3W"),Xe=n("GEFS"),Ye=n("unoy"),He=n("7TLZ"),qe=n("Cm2F"),We=n("gRnv"),Ge=n("HTHG"),Ze=n("vJXr"),Ke=n("nZ1u"),Je=n("0zNc"),Qe=n("BRCg"),$e=n("MeYt"),et=n("vl8/");const tt=Object(oe.defineMessages)({embedButtonText:{defaultMessage:"Embed link",id:"embedBlock.embedButton.label"},embedCaption:{defaultMessage:"Works with links of PDFs, Google Drive, Google Maps, CodePen…",id:"embedBlock.linkPrompt.caption",description:"Caption for the user to upload or embed a file."},pastePrompt:{defaultMessage:"Paste in https://…",id:"embedBlock.pastePrompt"},validLink:{defaultMessage:"Please enter a valid link.",id:"embedBlock.invalidLinkError.message"},embedTitle:{defaultMessage:"Embed",id:"embedBlock.embedTab.title"}}),nt={tweet:de,gist:ae,video:De,image:Pe,audio:Ve,invision:Ne,maps:Ae,drive:Ae,framer:Ae,figma:Ae,loom:Ae,typeform:Ae,codepen:Ae,embed:Ae,pdf:Xe.b,whimsical:Ae,miro:Ae,abstract:Ae};class ot extends C.a{constructor(){super(...arguments),this.embedComp=null,this.isStoreNavigableAncestorLocked=this.createComputedStore(()=>this.props.store.isNavigableAncestorLocked()),this.openMenu=()=>{const{device:e}=this.environment;if(this.canEdit()){const{popupWidth:t,maxHeight:n}=this.props,o=this.props.mediaMenuCurrentTab||"embed",r=(this.props.mediaMenuTabs||[{type:"embed"},{type:"file",fileUpload:!0,imageUpload:e.isAndroid,videoUpload:e.isAndroid}]).map(e=>this.createTabFromDefinition(e)),a=l.a.findDOMNode(this);if(a&&a instanceof Element){const e=a.getBoundingClientRect();ze.b(this.environment,{originRect:e,originGap:0,isSmallWidth:!1,showArrow:!0,currentTab:o,tabs:r,title:et.default.formatMessage(tt.embedTitle),...t?{popupWidth:t}:{},...n?{maxHeight:n}:{}})}}},this.replace=()=>{this.openMenu();const e=this.props.store.getType();e&&B.Ib(this.environment,{type:"replace",block_type:e})},this.caption=()=>{this.handleEditCaption()},this.getFullScreenNodeRect=()=>{const{isFullWidth:e,aspectRatio:t}=this.getDimensions();if(this.embedComp){const n=l.a.findDOMNode(this.embedComp);if(n&&n instanceof Element){const o=n.getBoundingClientRect();return e&&t?{...i.a.toPlainObject(o),width:o.width,height:o.width*t}:o}}},this.renderFullScreenNode=()=>{const e=this.getSource(),t=this.getRenderer(this.getSource());if(!e)return;const n=this.getRenderArgs(e);return t&&t.renderFullScreen?t.renderFullScreen(n):void 0},this.storeTypes={embedBlockStore:w,blockResizerStore:v.a},this.handleEditCaption=()=>{const e=this.props.store.getPropertyStore("caption");k.f({environment:this.environment,store:this.props.store}),Ye.n({store:e});const t=this.props.store.getType();t&&B.Ib(this.environment,{type:"caption",block_type:t})},this.handleMouseEnter=e=>{Je.a.state.isDragging||Ke.a.state.isActive||this.stores.embedBlockStore.setState({...this.stores.embedBlockStore.state,hovered:!0})},this.handleMouseLeave=e=>{Je.a.state.isDragging||Ke.a.state.isActive||this.stores.embedBlockStore.setState({...this.stores.embedBlockStore.state,hovered:!1})},this.handleFullScreen=()=>{h.g({blocks:[this.props.store]});const e=this.props.store.getType();e&&B.Ib(this.environment,{type:"full_screen",block_type:e})},this.handleOriginalClick=()=>{p.d(this.environment,{store:this.props.store});const e=this.props.store.getType();e&&B.Ib(this.environment,{type:"original",block_type:e})},this.handleUpload=e=>{const{store:t}=this.props,n=Ge.b(this.environment);p.f({environment:this.environment,store:t,file:e,pageWidth:n,preferredType:this.props.store.getType()})},this.fileUploadStore=this.createComputedStore(()=>Qe.default.getKeyState(Qe.default.getBlockKey(this.props.store.id)))}handleCreated(){this.openMenu()}edit(){this.openMenu()}embed(e){this.embedSource(e)}activate(){this.getRenderer(this.getSource())?this.handleFullScreen():this.replace()}canRenderFullScreen(){const e=this.getRenderer(this.getSource());return!(!e||!e.renderFullScreen)}renderPersisted(){const e=this.getSource(),t=this.fileUploadStore.state;return t&&t.dataURL?this.renderSource(t.dataURL):e?this.renderSource(e):this.renderPlaceholder()}renderSource(e){const{device:t}=this.environment,n=this.canEdit(),{preserveScale:o,isFullWidth:a}=this.getDimensions(),i=this.isRootChild(),s=this.getRenderer(e);if(s){const{resizable:l}=s,c=n&&l,d=c&&(!o||a&&i),u=c&&i,p=d&&!a,h=p&&i,{Left:m,Right:g}=V,{Vertical:v,Horizontal:y,Corner:S}=F;return Object(b.a)(n=>r.a.createElement("div",Object.assign({ref:t=>{t&&this.attachGhost(t,e)}},n),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{className:f.s,style:{position:"relative",overflow:l?"hidden":"visible",flexGrow:1},onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},this.renderEmbed(e),u&&this.renderResizer("LeftResizer",y,m,o),c&&this.renderResizer("RightResizer",y,g,o),p&&this.renderResizer("RightCornerResizer",S,g,o),h&&this.renderResizer("LeftCornerResizer",S,m,o),d&&this.renderResizer("BottomResizer",v,null,o),this.renderActions(e)),!a&&!t.isMobile&&this.renderDiscussion()),this.renderCaption()))}}renderPlaceholder(){const{device:e}=this.environment,t=!Ze.a.state.online,n=e.isMobile||this.stores.embedBlockStore.state.hovered,o=this.fileUploadStore.state;return r.a.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:{display:"flex"}},r.a.createElement(H.a,{style:this.getContentWrapStyle(),disabled:!this.canEdit()||t,iconSvg:this.props.iconSvg||m.a.compass,right:n&&this.canEdit()&&r.a.createElement(q.a,{store:this.props.store,fadeIn:!0}),onClick:this.openMenu,isLoading:Boolean(o),progressPercent:o?o.progressPercent:0,file:o?o.file:void 0,name:o?o.name:void 0,size:o?o.size:void 0},this.props.children||r.a.createElement(oe.FormattedMessage,{defaultMessage:"Embed anything (PDFs, Google Docs, Google Maps, Spotify…)",id:"embedBlock.embedAnything.placeholder"})),this.renderDiscussion())}renderEmbed(e){const t=this.getRenderer(e);if(t){const n=this.getRenderArgs(e);return t.render(n)}}renderActions(e){const{device:t}=this.environment;if(!this.props.store.canEdit())return;const n=this.getRenderer(e),o=this.shouldHideActions(),a=this.fileUploadStore.state,i=this.stores.blockResizerStore.state.dragging;if(!a&&!i){if(!n||!n.hideActions){const e=He.h(this.props.store);return this.isStoreNavigableAncestorLocked.state?r.a.createElement("div",{style:this.getActionsStyle()},r.a.createElement($e.a,{style:ot.actionButtonStyle,onClick:this.handleOriginalClick},r.a.createElement(oe.FormattedMessage,{defaultMessage:"View original",id:"embedBlock.viewOriginalLink.button.label"}))):o?r.a.createElement("div",{style:this.getActionsStyle()},r.a.createElement(q.a,{store:this.props.store,fadeIn:!1,iconStyle:{fill:pe.g.white}})):r.a.createElement("div",{style:this.getActionsStyle()},r.a.createElement($e.a,{style:{...ot.actionButtonStyle,...t.isMobile&&{paddingLeft:8,paddingRight:8}},onClick:()=>{k.e(this.environment),e>0?qe.c({environment:this.environment,blockStore:this.props.store,analyticsFrom:"embed_menu",shouldFocusDiscussion:!0}):We.d({environment:this.environment,blockStore:this.props.store})}},m.a.speechBubble({width:12,height:12,marginRight:e>0?4:0,fill:pe.g.white}),e>0&&e),!t.isMobile&&r.a.createElement($e.a,{style:ot.actionButtonStyle,onClick:this.handleEditCaption},r.a.createElement(oe.FormattedMessage,{defaultMessage:"Caption",id:"embedBlock.captionForLink.button"})),!t.isMobile&&r.a.createElement($e.a,{style:ot.actionButtonStyle,onClick:this.handleOriginalClick},r.a.createElement(oe.FormattedMessage,{defaultMessage:"Original",id:"embedBlock.orginalLink.button"})),r.a.createElement(q.a,{store:this.props.store,fadeIn:!1,iconStyle:{fill:pe.g.white}}))}return t.isMobile?r.a.createElement("div",{style:this.getActionsStyle()},r.a.createElement(q.a,{store:this.props.store,fadeIn:!1,iconStyle:{fill:pe.g.white}})):void 0}}renderResizer(e,t,n,o){const a={position:"absolute"},{Vertical:i,Horizontal:s,Corner:l}=F,{Left:c,Right:d}=V;let u;return t===i||t===l?a.bottom=ot.resizerOffset:t===s&&(a.top=ot.resizerOffset),n===c?a.left=ot.resizerOffset:n===d&&(a.right=ot.resizerOffset),u=t===l?m.a.cornerResize({stroke:pe.g.whiteWithAlpha(.5),fill:pe.g.blackWithAlpha(.65),width:ot.cornerResizeSize,height:ot.cornerResizeSize,transition:"opacity ".concat(ot.transition),opacity:this.shouldShowResizer()?1:0,position:"relative",bottom:3,left:n===c?3:-3,transform:n===c?"rotate(90deg)":"none"}):r.a.createElement("div",{style:this.getResizerInnerStyle(t)}),r.a.createElement(Y,{key:e,store:this.props.store,preserveScale:o,resizerType:t,resizerAlignment:n,resizeComponent:this,blockResizerStore:this.stores.blockResizerStore,resizeHorizontally:!0,resizeVertically:!0,disabled:!1},r.a.createElement("div",{style:{...this.getResizeStyle(t,n),...a}},u))}createTabFromDefinition(e){switch(e.type){case"embed":const t=this.props.embedButtonText||et.default.formatMessage(tt.embedButtonText);return{type:"embed",caption:this.props.mediaMenuEmbedCaption||et.default.formatMessage(tt.embedCaption),buttonText:t,inputPlaceholder:this.props.urlInputPlaceholder||et.default.formatMessage(tt.pastePrompt),onChange:e=>{const t=Object(u.a)(e);d.b(t,"url")?(ze.a(),this.embedSource(t)):c.showErrorMessage(et.default.formatMessage(tt.validLink))}};case"file":return{type:"file",fileUpload:Boolean(e.fileUpload),imageUpload:Boolean(e.imageUpload),videoUpload:Boolean(e.videoUpload),onUpload:this.handleUpload};case"unsplash":return{type:"unsplash",onChange:({url:e})=>{ze.a(),this.embedSource(e)}}}}shouldShowResizer(){const{device:e}=this.environment,{hovered:t}=this.stores.embedBlockStore.state,{isMobile:n}=e;return!n&&t}attachGhost(e,t){const n=this.getRenderer(t);e&&n&&n.embedGhost&&e.setAttribute("embed-ghost","")}shouldHideActions(){const{block_width:e}=this.props.store.getFormat(),{temporaryWidth:t}=this.stores.blockResizerStore.state;return void 0!==t?t<=ot.minWidthForActions:void 0!==e&&e<=ot.minWidthForActions}getDimensions(){const{block_height:e,block_width:t,block_preserve_scale:n,block_full_width:o,block_page_width:r,block_aspect_ratio:a}=this.props.store.getFormat(),{dragging:i,temporaryHeight:s,temporaryWidth:l,temporaryFullWidth:c,temporaryPageWidth:d}=this.stores.blockResizerStore.state,u=i?l:t,p=i?s:e,h=Boolean(i?c:o),m=Boolean(i?d:r);return{blockWidth:t,blockHeight:e,width:u,height:p,dragging:i,preserveScale:Boolean(this.props.preserveScale||n),isFullWidth:h,isPageWidth:m,aspectRatio:a}}getSource(){const e=this.props.store.getProperties(),t=e&&e.source,n=Ue.Y(t),{display_source:o}=this.props.store.getFormat();return Object(U.f)(o||n)}getRenderArgs(e){const t=this.fileUploadStore.state,{blockWidth:n,blockHeight:o,width:r,height:a,dragging:i,preserveScale:s,isFullWidth:l,isPageWidth:c,aspectRatio:d}=this.getDimensions(),u=this.isRootChild();return{store:this.props.store,source:e,blockWidth:n,blockHeight:o,aspectRatio:d,width:r,height:a,dragging:i,preserveScale:s,isFullWidth:l,isPageWidth:c,isRootChild:u,dataURL:t?t.dataURL:void 0,disabled:!this.canEdit(),contentStyle:this.getContentStyle(),contentWrapStyle:this.getContentWrapStyle(),isLoading:Boolean(t),progressPercent:t?t.progressPercent:0,handleFullScreen:this.handleFullScreen,handleEmbedComp:e=>this.embedComp=e}}getRenderer(e){const t=this.fileUploadStore.state;if(t&&t.dataURL)return nt.image;if(e){if(e.startsWith("data:")||e.startsWith("<img"))return;const t=Object(U.c)({url:e,baseUrl:Se.default.baseURL,preferredType:this.props.store.getType()});if("embed"!==t)return nt[t]}const n=this.props.store.getType();return n&&e?nt[n]:Ae}embedSource(e){const{store:t}=this.props,n=Ge.b(this.environment);p.c(this.environment,{source:e,isDataURL:!1,store:t,pageWidth:n,preferredType:t.getType()})}static actionButtonBackground(e){const{device:t}=e;return t.isMobile?pe.g.blackWithAlpha(.3):pe.g.blackWithAlpha(.6)}getContentWrapStyle(){const e={position:"relative"};return this.canEdit()&&(e.cursor="pointer"),e}getContentStyle(){const{dragging:e}=this.stores.blockResizerStore.state;return{display:"block",width:"100%",pointerEvents:e?"none":"auto"}}getResizeStyle(e,t){const n={position:"absolute",pointerEvents:this.shouldShowResizer()?"auto":"none",display:"flex",alignItems:"center",justifyContent:"center"};return t===V.Right?n.right=0:t===V.Left&&(n.left=0),e===F.Horizontal?(n.top=0,n.zIndex=1,n.height="100%",n.width=ot.resizerWidth,n.cursor="col-resize"):e===F.Vertical?(n.bottom=0,n.zIndex=1,n.width="100%",n.height=ot.resizerWidth,n.cursor="row-resize"):e===F.Corner&&(n.zIndex=2,n.bottom=0,n.width=n.height=ot.cornerResizeSize,t===V.Left?n.cursor="nesw-resize":t===V.Right&&(n.cursor="nwse-resize")),n}getResizerInnerStyle(e){const{ThemeStore:t}=this.environment,n=t.state.mode,o={opacity:this.shouldShowResizer()?1:0,transition:ot.transition,borderRadius:20,background:pe.q[n].black.alpha(.6).css(),border:"1px solid ".concat(pe.g.whiteWithAlpha(.9))};return e===F.Horizontal?(o.width=6,o.height=48,o.maxHeight="50%"):e===F.Vertical&&(o.height=6,o.width=48,o.maxWidth="50%"),o}getActionsStyle(){const{device:e}=this.environment,{hovered:t}=this.stores.embedBlockStore.state,{isMobile:n}=e;return{position:"absolute",top:4,right:4,borderRadius:3,color:pe.g.white,fill:pe.g.white,fontSize:11.5,background:ot.actionButtonBackground(this.environment),display:"flex",whiteSpace:"nowrap",maxWidth:"calc(100% - 16px)",overflow:"hidden",pointerEvents:t||n?"auto":"none",opacity:t||n?1:0,transition:e.isSafari?void 0:ot.transition,fontFamily:g.a.fontFamily.sans,zIndex:2}}}ot.minWidthForActions=230,ot.resizerWidth=15,ot.resizerOffset=0,ot.cornerResizeSize=20,ot.actionButtonStyle={display:"flex",alignItems:"center",padding:"4px 6px",borderRight:"1px solid ".concat(pe.g.whiteWithAlpha(.2))},ot.centerPromptStyle={color:pe.g.white,fontSize:14,fontFamily:g.a.fontFamily.sans,padding:"0.3em 1.5em 0.3em",background:pe.g.blackWithAlpha(.4),borderRadius:3},ot.transition="opacity 300ms ease-in";t.a=ot},mgru:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("LvDl"),r=n.n(o);function a(e,t){if(l(e,t))return!0;if(r.a.isPlainObject(e)&&r.a.isPlainObject(t)){for(const n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(n.toLowerCase().endsWith("style")||n.toLowerCase().endsWith("props")){if(!a(e[n],t[n]))return!1}else if(!l(e[n],t[n]))return!1}for(const n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}if(r.a.isArray(e)&&r.a.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!l(e[n],t[n]))return!1;return!0}return!1}function i(e){return r.a.isPlainObject(e)&&r.a.isEmpty(e)}function s(e){return r.a.isArray(e)&&r.a.isEmpty(e)}function l(e,t){return e===t||(!(!s(e)||!s(t))||!(!i(e)||!i(t)))}},mjq6:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d}));var o=n("P8+q"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("cBa6");const l=1e3;function c(e,t,n){const o=i.a.compact(t.map(t=>{const o=d(e,n(t));if(o&&o.score>0)return{original:t,score:o.score}}));return i.a.sortBy(o,e=>-e.score).map(e=>e.original)}function d(e,t,n){const o=Object(s.Ib)(e),a=Object(s.Ib)(t),i=r.a.match(o,a,n);if(!i)return;const c=o.toLowerCase(),d=a.toLowerCase();if(d===c)return{...i,score:1e6};const u=d.indexOf(c);return 0===u?{...i,score:1e5}:" "===t[u-1]?{...i,score:1e4}:u>-1?{...i,score:l}:i}},mva1:function(e,t,n){},mxzd:function(e,t,n){"use strict";var o=n("LvDl"),r=n.n(o),a=n("LEzx");class i extends a.a{getInitialState(){return{isActive:!1}}cloneState(){return r.a.clone(this.state)}}t.a=new i},n8tN:function(e,t,n){"use strict";n("3bBZ");var o,r=n("q1tI"),a=n.n(r),i=n("LvDl"),s=n.n(i),l=n("i8i4"),c=n.n(l),d=n("wpmu"),u=n("wldR"),p=n("Cm2F"),h=n("7TLZ"),m=n("mF3+"),f=n("6rsX"),g=n("Sb6f"),b=n("lCCU");!function(e){e[e.PushContent=0]="PushContent",e[e.FloatRight=1]="FloatRight"}(o||(o={}));class v extends u.a{constructor(){super(...arguments),this.handleClick=()=>{f.e(this.environment),p.c({environment:this.environment,blockStore:this.props.store,analyticsFrom:"discussion_indicator",shouldFocusDiscussion:!0})}}renderComponent(){const{store:e}=this.props,t=h.h(e);if(t>0)return this.props.format===o.FloatRight?a.a.createElement("div",{style:{width:0,height:0}},this.renderButton(t)):this.renderButton(t)}renderButton(e){return a.a.createElement(b.a,{icon:m.a.speechBubble,style:{alignSelf:"flex-start",marginLeft:4,marginTop:3},onClick:this.handleClick,caption:this.renderNumberOfComments(e)})}renderNumberOfComments(e){const t=e>9?"9+":e;return a.a.createElement("span",{style:{marginLeft:2,color:this.theme.lightTextColor,fontWeight:g.a.fontWeight.semibold}},t)}}var y=v,S=n("fJHT"),w=n("hbKx"),k=n("VpIZ"),C=n("KcXv"),M=n("DNgp"),E=n("3k5a"),_=n("zmp8"),T=n("2bwL"),x=n("Rtjx"),I=n("vl8/"),P=n("J9+s");const O=Object(P.defineMessages)({imageCaption:{defaultMessage:"Write a caption…",id:"block.imageCaption.placeholder"}});class B extends u.a{constructor(){super(...arguments),this.registries=[E.a],this.blockStore=()=>this.props.store,this.canEditComputedStore=this.createComputedStore(()=>{if(this.props.disabled)return!1;if(T.b.state)return!1;const e=this.pageContext&&this.pageContext.publicEditModeStore.state;return(!e||"edit"===e)&&this.props.store.canEdit()}),this.rootStorePageFont=this.createComputedStore(()=>{const e=this.props.store.getRoot();if(e&&e instanceof d.a){const t=e.getFormat();if(t)return t.page_font}}),this.captionIsEmpty=this.createComputedStore(()=>{const e=this.props.store.getPropertyStore("caption").getValue();return!e||0===e.length}),this.captionIsFocused=this.createComputedStore(()=>{const e=this.props.store.getPropertyStore("caption");return"editing"===M.default.state.mode&&M.default.state.store===e})}getNode(){return c.a.findDOMNode(this)}canEdit(){return this.canEditComputedStore.state}canComment(){return!this.props.disabled&&(!T.b.state&&this.props.store.canComment())}canAdmin(){return!this.props.disabled&&(!T.b.state&&this.props.store.canAdmin())}canView(){const{store:e}=this.props;return e.canRead()}isRootChild(){return this.props.store.depth()<=2}renderComponent(){const{store:e}=this.props;if(e)return this.props.store?this.hasSelfAsAncestor()?void 0:this.renderPersisted():void 0}renderPersisted(){}renderDiscussion(e){const t=h.m(this.props.store);if(!this.props.hideContent)return t.length>0&&a.a.createElement(y,{key:"DiscussionIndicator",store:this.props.store,format:this.getDiscussionIndicatorFormat(),style:e})}renderCaption(){const{disabled:e}=this.props,t=this.props.store.getPropertyStore("caption"),n=this.captionShouldHavePadding(),o={...this.getCaptionStyle(),...n&&{paddingLeft:26,paddingRight:26}};if(!this.captionIsEmpty.state||this.captionIsFocused.state)return a.a.createElement(S.a,{disabled:e,style:o,placeholderStyle:o,placeholder:I.default.formatMessage(O.imageCaption),disableSlashCommands:!0,disableEmbedMenu:!0,store:t})}captionShouldHavePadding(){const{device:e,WindowSizeStore:t}=this.environment,{block_full_width:n,block_width:o,block_page_width:r}=this.props.store.getFormat();return!e.isMobile&&(!r&&(!!n||(o||0)>=t.state.width-Object(x.b)(this.environment)))}hasSelfAsAncestor(){let e=0;return this.props.store.findRecordStoreAncestor(t=>(t!==this.props.store&&this.props.store.id&&t.id===this.props.store.id&&s.a.isEqual(this.props.store.path,t.path)&&e++,!1)),e>1}getColumnListIndexAndCount(){const{store:e}=this.props,t=Object(w.g)(e);let n,o,r;for(const a of t){if(a instanceof d.a&&n){const t=a.getValue();if(t&&Object(k.z)(t)&&t.id!==e.id)break;if(t&&"column_list"===t.type){const e=t.content||[];o=e.indexOf(n.id),r=e.length}}n=a}return{columnListIndex:o,columnListColumnCount:r}}getDiscussionIndicatorFormat(){const{device:e}=this.environment,t=this.getColumnListIndexAndCount();return!e.isMobile&&(void 0===t.columnListIndex||t.columnListColumnCount&&t.columnListIndex===t.columnListColumnCount-1)?o.FloatRight:o.PushContent}getBlockColorStyle(){const e=this.props.store.getFormat().block_color||"default";return Object(_.j)(e,this.theme)}getCaptionStyle(){return{fontSize:14,lineHeight:1.4,color:this.theme.mediumTextColor,paddingTop:6,paddingBottom:6,paddingLeft:C.b.paddingLeft}}}t.a=B},nFzZ:function(e,t,n){"use strict";n.d(t,"s",(function(){return a})),n.d(t,"r",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"l",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"t",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"m",(function(){return p})),n.d(t,"o",(function(){return h})),n.d(t,"n",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return w})),n.d(t,"q",(function(){return k})),n.d(t,"p",(function(){return C})),n.d(t,"i",(function(){return M}));n("3bBZ"),n("SYor");var o=n("LvDl"),r=n.n(o);function a(e){return r.a.uniqWith(e,r.a.isEqual)}function i(e){return Array.from(new Set(e))}const s=function(e){return null==e};function l(e){const t=e;for(const n in t)void 0===t[n]&&(t[n]=null);return t}function c(e){return Object.keys(e)}function d(e){return c(e).map(t=>e[t])}const u=(e,t)=>r.a.mapValues(e,t),p=e=>Object.assign({},...e.map(([e,t])=>({[e]:t})));function h(e,t){return r.a.pick(e,t)}function m(e,t){return r.a.omit(e,t)}function f(e){let t=!1;return(...n)=>{if(t)return e(...n);t=!0}}function g(e,t){return e.filter(e=>!t(e))}const b=1e3,v=60*b,y=60*v,S=24*y,w=1024;function k(e){const t=e.split("\n");return r.a.map(t,e=>e.trim()).join("\n")}function C(e,t){let n=e;if(n.sticky||!n.global){const t=r()(n.flags.split("")).pull("y","g").concat("g").value().join("");n=new RegExp(e.source,t)}const o=n.lastIndex,a=[];let i=null;for(;null!==(i=n.exec(t));)a.push(i);return n.lastIndex=o,a}function M(e){return r.a.isFinite(e)}},nM47:function(e,t,n){"use strict";n.d(t,"h",(function(){return L})),n.d(t,"f",(function(){return R})),n.d(t,"a",(function(){return D})),n.d(t,"i",(function(){return A})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return F})),n.d(t,"g",(function(){return V})),n.d(t,"e",(function(){return N})),n.d(t,"j",(function(){return z})),n.d(t,"d",(function(){return X}));var o=n("q1tI"),r=n.n(o),a=n("y6Dp"),i=n("ju2U"),s=n("A9TN"),l=n("Z0iJ"),c=n("bkwR"),d=n("hvW1"),u=n("VBxf"),p=n("Cycz"),h=n("dlZW"),m=n("r8MX"),f=n("UiOz"),g=n("toub"),b=n("Catn"),v=n("9PHN"),y=n("+fkW"),S=n("5Nka"),w=n("re9x"),k=n("h5Kq"),C=n("vl8/"),M=n("J9+s"),E=n("CNGQ"),_=n("QcDD"),T=n("Mkmb"),x=n("DbeH"),I=n("Ggib");let P,O;const B=Object(M.defineMessages)({updatingSubscription:{id:"subscriptionSettings.updatingSubscriptionMessage",defaultMessage:"Updating your subscription…"},verifyingEligibility:{id:"subscriptionSettings.verifyingEligibilityMessage",defaultMessage:"Verifying eligibility…"},personalFree:{id:"subscriptionSettings.personalFreeMessage",defaultMessage:"You are now subscribed to Notion’s Personal Pro Plan for free."}});async function L(e){const{environment:t,spaceStore:n,plan:o,billing:r,billingEmail:s,creditAmount:l,stripeToken:h,vatId:g,coupon:b,customerName:v,businessName:y,addressLine1:S,addressZip:w,addressCity:k,addressState:C,addressCountry:M}=e,{data:E}=m.default.state;if(!E)throw new Error("Subscription data not loaded.");i.a({bannerStore:f.a}),d.b({message:B.updatingSubscription});const _=await c.updateSubscription(t,{spaceId:n.id,plan:o,billing:r,billingEmail:s,creditAmount:l,stripeToken:h,vatId:g,coupon:b,customerName:v,businessName:y,addressLine1:S,addressZip:w,addressCity:k,addressState:C,addressCountry:M});if("failed"===_.type)u.showError(_);else{const e=p.o(E);if(e){const n=Boolean(r&&r!==e.billing),i=n?{payment_method_changed:n,payment_method_current:r,payment_method_old:e.billing}:{payment_method_changed:n},l=Boolean(o&&o!==e.plan),c={...i,...l?{plan_changed:l,plan_current:o,plan_old:e.plan}:{plan_changed:l},billing_email_changed:Boolean(s&&s!==e.billingEmail),billing_address_changed:!1};a.te(t,c)}else o&&r&&a.mb(t,{plan:o,billing:r,credit_amount:l||0});await N(t)}return d.a(),"success"===_.type}async function R(e){const{environment:t,spaceStore:n,address:o}=e;i.a({bannerStore:f.a}),d.b({message:B.updatingSubscription});const r=await c.updateSubscription(t,{spaceId:n.id,customerName:o.name,businessName:o.businessName,addressLine1:o.addressLine1,addressLine2:o.addressLine2,addressZip:o.zipCode,addressCity:o.city,addressState:o.state,addressCountry:o.country});if("failed"===r.type)throw d.a(),u.showError(r),r.error;a.te(t,{billing_email_changed:!1,payment_method_changed:!1,plan_changed:!1,billing_address_changed:!0}),await N(t),d.a()}async function D(e){const{environment:t,spaceStore:n,planType:o}=e;d.b({message:B.updatingSubscription});const{data:r}=m.default.state;if(!r)throw new Error("Subscription data not loaded.");const i=await c.cancelSubscription(t,{spaceId:n.id,planType:o});"failed"===i.type&&u.showError(i);const s=p.o(r);"subscribed_admin"===r.type&&s&&a.s(t,{plan:s.plan}),await N(t),d.a()}async function A(e){const{environment:t,spaceStore:n,code:o}=e;d.b({message:B.verifyingEligibility});const{data:a}=m.default.state;if(!a)throw new Error("Subscription data not loaded.");const i=await c.updateSubscriptionToEducationPlan(t,{spaceId:n.id,code:o});"failed"===i.type?u.showError(i):i.data.isEligible?U(a,t):w.a.setState({open:!0,handlePromoCode:async e=>{d.b({message:B.updatingSubscription});const o=await c.updateSubscriptionToEducationPlan(t,{spaceId:n.id,code:e});"failed"===o.type?u.showError(o):o.data.isEligible?U(a,t):u.showErrorMessage(r.a.createElement(M.FormattedMessage,{id:"subscriptionSettings.invalidPromoCodeError.message",defaultMessage:"This promo code is not valid."})),d.a()}}),d.a()}async function j(e){const{email:t,name:n,panelLabel:o}=e;return await async function(){await Object(l.b)("https://checkout.stripe.com/checkout.js"),P||(P=StripeCheckout.configure({key:s.default.stripe.key,image:S.a.images.logoForStripePng,locale:"auto",token:function(e){O&&O(e)}}))}(),(await new Promise((e,r)=>{O=e,P.open({name:n,panelLabel:o,email:t,allowRememberMe:!1,billingAddress:!0})})).id}function F(){P&&P.close()}async function V(e){const{environment:t,spaceId:n}=e,o=m.default.state.spaceId;!t.currentUser.isLoggedIn()||o&&o===n?await m.default.waitUntilLoaded():(m.default.setState({...m.default.state,spaceId:n}),await N(t))}async function N(e){const{spaceId:t}=m.default.state,n=e.currentUser.id;if(!t)throw new Error("No spaceId.");{const o="".concat("SubscriptionDataV2",":").concat(t,":v2"),r=b.a.get({userId:n,key:o});r&&m.default.setState({spaceId:t,data:r}),await h.transactionQueue.drain();const i=await c.getSubscriptionData(e,{spaceId:t,version:"v2"});if("success"===i.type){const r=i.data;b.a.set({userId:n,key:o,value:r}),m.default.state.spaceId===t&&(m.default.setState({spaceId:t,data:r}),p.D(r)&&a.qb(e))}await y.a.awaitPublicSpaceData(e,t,!0)}}async function U(e,t){await N(t);const n=()=>{u.showMessage({message:C.default.formatMessage(B.personalFree)}),g.a.setState({...g.a.state,currentTab:"billing"});const n=p.o(e);a.ue(t,{plan:"student_free",old_plan:n?n.plan:void 0})};await async function(e){const{currentUserStore:t}=_.default.state;if(!t)return!1;const n=t.getValue();if(!n)return!1;const o=await E.b({environment:e,userEmail:n.email});if(o.error)throw o.error;const{isSamlEnforced:r,hasPassword:a}=o.value;if(r)return!1;return!a}(t)?E.a({environment:t,onSubmit:n,onCancel:n}):n()}function z(e){const{data:t}=m.default.state;if(e.device.isReactNative)return!0;if(t){const n=p.d(e,t);if(n>=s.default.pricing.team_free.spaceBlockLimit)return a.Id(e),function(e){const{device:t}=e,{isMobile:n,isTablet:a}=t,s=n&&!a;i.b({id:"SubscriptionEditingBlocker",bannerStore:f.a,type:k.a.Red,render:()=>r.a.createElement(o.Fragment,null,s?r.a.createElement(M.FormattedMessage,{id:"subscriptionActions.overFreeBlockLimit.shortMessage",defaultMessage:"You are over the block limit"}):r.a.createElement(M.FormattedMessage,{id:"subscriptionActions.overFreeBlockLimit.longMessage",defaultMessage:"You are over the block limit for the Free plan"}),r.a.createElement(v.a,{onClick:()=>{x.a(e,{from:"block_limit_banner",for:"team"})},style:{marginLeft:12}},s?r.a.createElement(M.FormattedMessage,{id:"subscriptionActions.upgradeForUnlimitedBlocks.shortMessage",defaultMessage:"Upgrade"}):r.a.createElement(M.FormattedMessage,{id:"subscriptionActions.upgradeForUnlimitedBlocks.longMessage",defaultMessage:"Upgrade for unlimited"})))})}(e),!1;n>=T.a*s.default.pricing.team_free.spaceBlockLimit&&a.o(e)}return i.c({bannerStore:f.a,id:"SubscriptionEditingBlocker"}),!0}function X(e,t){a.we(e,{subscriptionTier:t.subscriptionTier,from:t.from}),I.a.open(t.subscriptionTier)}},nObc:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("SR/M"),s=n("mF3+"),l=n("gbGO"),c=n("zmp8"),d=n("AwHX");class u extends a.a{renderComponent(){const e=this.props.isBlue?c.g.blue:this.theme.mediumTextColor;return r.a.createElement(i.a,Object.assign({},this.props,{title:r.a.createElement("div",{style:{color:e,fill:e}},this.props.title),icon:r.a.createElement(d.a,{icon:s.a.plus,styles:{fill:e}})}))}}u.contextTypes={...l.c},t.a=u},nPEg:function(e,t,n){"use strict";n.r(t),n.d(t,"DoneMenuText",(function(){return d})),n.d(t,"CancelMenuText",(function(){return u})),n.d(t,"BackMenuText",(function(){return p}));n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("Sb6f"),s=n("zmp8"),l=n("MeYt"),c=n("J9+s");function d(){return r.a.createElement(c.FormattedMessage,{id:"mobile.modal.doneButton",defaultMessage:"Done",description:"Button that appears in the top-right of most mobile modal menus to confirm the user's selection"})}function u(){return r.a.createElement(c.FormattedMessage,{id:"mobile.modal.cancelButton",defaultMessage:"Cancel",description:"Button that appears in the top-right or top-left of some mobile modal menus to exit the modal without making any changes"})}function p(){return r.a.createElement(c.FormattedMessage,{id:"mobile.modal.backButton",defaultMessage:"Back",description:"Button that appears in the top-left of some mobile modal menus to return to the previous modal menu"})}class h extends a.a{constructor(){super(...arguments),this.renderLeftRightButton=e=>{const{item:t,onClick:n,disabled:o}=e,{leftRightButtonStyle:a}=this.props,i={...h.leftRightButtonStyle,...a};return r.a.createElement(l.a,{mobileFeedback:!0,style:i,onClick:n,disabledFeedback:!0,disabled:o},t)}}renderComponent(){const{WindowSizeStore:e}=this.environment;return r.a.createElement("div",{className:this.props.className,style:this.getWrapStyle()},r.a.createElement("div",{style:{...this.getTopbarStyle(),paddingLeft:e.state.paddingLeftCSS,paddingRight:e.state.paddingRightCSS,...this.props.topbarStyle}},this.renderLeft(),this.renderTitle(),this.renderRight()),this.props.children)}renderTitle(){const{title:e}=this.props;return e&&r.a.createElement("div",{style:h.titleStyle},e)}renderLeft(){const{left:e,onClickLeft:t,leftDisabled:n,shouldRenderLeftDirectly:o,leftOuterStyle:a}=this.props,i={...h.leftStyle,...a};return o?r.a.createElement("div",{style:i},e):r.a.createElement("div",{style:i},this.renderLeftRightButton({item:e,onClick:t,disabled:n}))}renderRight(){const{right:e,shouldRenderRightDirectly:t,onClickRight:n,rightDisabled:o,rightOuterStyle:a}=this.props,i={...h.rightStyle,...a};return t?r.a.createElement("div",{style:i},e):r.a.createElement("div",{style:i},this.renderLeftRightButton({item:e,onClick:n,disabled:o}))}getWrapStyle(){const{WindowSizeStore:e}=this.environment,{isTablet:t}=this.environment.device,{forceFullScreenSlideUp:n}=this.props;return{display:"flex",flexDirection:"column",height:t?"100%":"100vh",paddingTop:t&&!n?0:e.state.paddingTopCSS}}getTopbarStyle(){return{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"center",flexGrow:0,flexShrink:0,height:44,boxShadow:this.props.disableHeaderShadow?void 0:"0 1px 0 ".concat(this.theme.regularDividerColor),fontSize:16,color:this.theme.regularTextColor,zIndex:3,cursor:"pointer"}}}h.leftStyle={display:"flex",alignItems:"center",flex:1},h.rightStyle={display:"flex",alignItems:"center",justifyContent:"flex-end",flex:1},h.titleStyle={flex:1,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:i.a.fontWeight.semibold,whiteSpace:"nowrap"},h.leftRightButtonStyle={display:"flex",alignItems:"center",height:"100%",paddingLeft:16,paddingRight:16,fontWeight:i.a.fontWeight.medium,color:s.g.blue},t.default=h},nWgh:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l}));var o=n("fIr1");const r=["personal_monthly_5","personal_yearly_48","team_monthly_10","team_yearly_96","student_free","personal_free","team_free","enterprise_free","enterprise_trial","nonprofit_free","marketing_team_free","marketing_enterprise_free","personal_monthly_0.50","personal_monthly_1.50","personal_monthly_2.50","personal_monthly_3.50","team_monthly_0.10","team_monthly_0.50","team_monthly_0.80","team_monthly_0.90","team_monthly_1","team_monthly_1.20","team_monthly_1.50","team_monthly_2","team_monthly_2.40","team_monthly_2.50","team_monthly_3","team_monthly_3.20","team_monthly_3.50","team_monthly_4","team_monthly_4.50","team_monthly_5","team_monthly_5.60","team_monthly_6","team_monthly_7","team_monthly_8","personal_yearly_4.80","personal_yearly_14.40","personal_yearly_24","personal_yearly_33.60","team_yearly_1","team_yearly_5","team_yearly_8","team_yearly_9","team_yearly_9.60","team_yearly_12","team_yearly_15","team_yearly_20","team_yearly_24","team_yearly_25","team_yearly_28.80","team_yearly_32","team_yearly_35","team_yearly_40","team_yearly_45","team_yearly_48","team_yearly_56","team_yearly_60","team_yearly_67.20","team_yearly_80","enterprise_monthly_8","enterprise_monthly_10","enterprise_monthly_12","enterprise_monthly_14","enterprise_monthly_16","enterprise_monthly_18","enterprise_monthly_20","enterprise_monthly_25","enterprise_yearly_80","enterprise_yearly_96","enterprise_yearly_120","enterprise_yearly_144","enterprise_yearly_168","enterprise_yearly_180","enterprise_yearly_192","enterprise_yearly_216","enterprise_yearly_240"],a=["personal_monthly_5","personal_yearly_48","team_monthly_10","team_yearly_96","enterprise_monthly_25","enterprise_yearly_240"],i=[["personal_monthly_5","personal_yearly_48"],["team_monthly_10","team_yearly_96"],["enterprise_monthly_25","enterprise_yearly_240"],["personal_monthly_0.50","personal_yearly_4.80"],["personal_monthly_1.50","personal_yearly_14.40"],["personal_monthly_2.50","personal_yearly_24"],["personal_monthly_3.50","personal_yearly_33.60"],["team_monthly_0.10","team_yearly_1"],["team_monthly_0.50","team_yearly_5"],["team_monthly_0.80","team_yearly_8"],["team_monthly_0.90","team_yearly_9"],["team_monthly_1","team_yearly_9.60"],["team_monthly_1.20","team_yearly_12"],["team_monthly_1.50","team_yearly_15"],["team_monthly_2","team_yearly_20"],["team_monthly_2.40","team_yearly_24"],["team_monthly_2.50","team_yearly_25"],["team_monthly_3","team_yearly_28.80"],["team_monthly_3.20","team_yearly_32"],["team_monthly_3.50","team_yearly_35"],["team_monthly_4","team_yearly_40"],["team_monthly_4.50","team_yearly_45"],["team_monthly_5","team_yearly_48"],["team_monthly_5.60","team_yearly_56"],["team_monthly_6","team_yearly_60"],["team_monthly_7","team_yearly_67.20"],["team_monthly_8","team_yearly_80"]],s={personal:{month:"personal_monthly_5",year:"personal_yearly_48"},team:{month:"team_monthly_10",year:"team_yearly_96"},enterprise:{month:"enterprise_monthly_25",year:"enterprise_yearly_240"}},l=["charge_automatically","send_invoice"],c={table:"customer",columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,customer_id:o.a.String}};t.b=c},nYHe:function(e,t,n){"use strict";n.r(t),n.d(t,"EnvironmentModernContext",(function(){return s})),n.d(t,"environmentLegacyContextTypes",(function(){return l}));var o=n("q1tI"),r=n.n(o),a=n("17x9"),i=n.n(a);const s=r.a.createContext(void 0);s.displayName="Environment";const l={environment:i.a.any};class c extends r.a.Component{getChildContext(){return{environment:this.props.environment}}render(){return r.a.createElement(s.Provider,{value:this.props.environment},this.props.children)}}c.childContextTypes={...l},t.default=c},nZ1u:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isActive:!1}}}t.a=new r},naZa:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("Pl3d"),s=n("wpmu"),l=n("bkwR"),c=n("XBB3"),d=n("zK7c"),u=n("LEzx");class p extends u.a{getInitialState(){return{}}}var h=p,m=n("8fuX"),f=n("6WtK"),g=n("wlCD"),b=n("AoM6"),v=n("HRSx"),y=n("cBa6"),S=n("A9TN"),w=n("tvfY"),k=n("lBar"),C=n("X6Ne"),M=n("QcDD"),E=n("vJXr"),_=n("bk3b"),T=n("r8MX"),x=n("tP7q"),I=n("Cycz"),P=n("zgcg"),O=n("aEEb"),B=n("5/h/"),L=n("G+Ai"),R=n("bPtJ"),D=n("J9+s"),A=n("922z"),j=n("pIip");class F extends a.a{constructor(){super(...arguments),this.storeTypes={store:h,templateRecordCacheStore:j.a},this.renderResult=(e,t)=>{const{device:n,WindowSizeStore:o}=this.environment,{navigatedRootId:a}=this.stores.store.state;if(t){let e;return e=a?s.a.createChildStore(t,{table:v.a,id:a}):t,r.a.createElement("div",{style:this.props.style},r.a.createElement("div",{style:{fontSize:14,paddingTop:n.isMobile?4:8,paddingBottom:n.isMobile?4:8,paddingLeft:n.isMobile?10:12,paddingRight:n.isMobile?10:12,height:48,display:"flex",alignItems:"center",flexShrink:0,...n.isMobile?{height:44,borderBottom:"\n\t\t\t\t\t\t\t\t\t\t\t1px solid ".concat(this.theme.regularDividerColor,"\n\t\t\t\t\t\t\t\t\t\t")}:{}}},r.a.createElement(f.a,{store:e,maxAncestorCount:2,ancestorMaxWidth:240,currentPageMaxWidth:240,showCurrentPageControls:!1,isMobile:n.isMobile,style:{flexGrow:1,flexShrink:1,minWidth:0,paddingLeft:o.state.paddingLeftCSS,paddingRight:o.state.paddingRightCSS}}),this.props.topbarRightActionButton),r.a.createElement(d.a,{key:e.id,store:e,isDefaultContainer:!0,render:n=>r.a.createElement(m.b,Object.assign({style:this.getScrollerStyle(),key:e.id,type:this.useSeparateHorizontalScroller(t)?m.a.Y:m.a.All,store:_.a,disableScroll:C.e(this.environment)},n),r.a.createElement(c.b,{store:e,loadingContainerStore:void 0,context:this.props.isFrontPage?c.a.FrontPageTemplatePreview:c.a.InAppTemplatePreview,paddingBottom:c.b.paddingBottom(this.environment),paddingLeft:c.b.defaultPaddingLeftRight(this.environment),paddingRight:c.b.defaultPaddingLeftRight(this.environment),pageCoverHeight:c.b.defaultPageCoverHeight(this.environment),disabled:this.props.disabled}))}))}return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",...this.props.style}},r.a.createElement(g.a,{style:{width:b.a.spinnerSize,height:b.a.spinnerSize}}))},this.handleOverrideLinkClick=e=>{const{device:t}=this.environment,n=Object(x.l)({url:e,isMobile:t.isMobile,baseUrl:S.default.baseURL,protocol:S.default.protocol,currentUrl:window.location.href});"page"===n.name&&(n.peekViewBlockId?this.stores.store.setState({...this.stores.store.state,navigatedRootId:n.peekViewBlockId}):this.stores.store.setState({...this.stores.store.state,navigatedRootId:n.blockId}))},this.performRequest=async e=>{const t=await l.loadBlockSubtree(this.environment,{blockId:e,shallow:!1});if("failed"===t.type)throw t.error;const{currentSpaceStore:n}=M.default.state,{data:o}=T.default.state,{inMemoryRecordCache:r}=this.stores.templateRecordCacheStore.state;r.reset(),r.isTemplatePreview=!0;const a=new Set,i=new Set,c=new A.a(t.data.subtreeRecordMap);for(const{pointer:s,value:l}of c){if(!l)return;if(r.setRecord({pointer:s,userId:this.environment.currentUser.id},{role:"editor",value:l.value}),"block"===s.table){const e=l.value;if(e){const t=e.properties||{};for(const e of Object.keys(t)){const n=Object(y.kb)(t[e]);for(const e of n)a.add(e);const o=Object(y.H)(t[e]);for(const e of o)i.add(e)}e.created_by_table&&e.created_by_id&&(e.created_by_table===B.a?a.add(e.created_by_id):i.add(e.created_by_id)),e.last_edited_by_table&&e.last_edited_by_id&&(e.last_edited_by_table===B.a?a.add(e.last_edited_by_id):i.add(e.last_edited_by_id))}}}if(o)for(const s of Object(I.v)(o))a.add(s.userId);const d=await Promise.all(Array.from(a).map(async e=>{if(n){const t=w.a.createChildStore(n,{table:B.a,id:e});return await t.load(),t.getValue()}{const t=await l.syncRecordValue(this.environment,{pointer:{table:B.a,id:e},userId:this.environment.currentUser.id,version:-1});return t&&t.value}}));for(const s of d)s&&r.setRecord({pointer:{table:B.a,id:s.id},userId:this.environment.currentUser.id},{role:"reader",value:s});const u=await Promise.all(Array.from(i).map(async e=>{if(n){const t=Object(R.c)(n,{table:L.a,id:e});return await t.load(),t.getValue()}{const t=await l.syncRecordValue(this.environment,{pointer:{table:L.a,id:e},userId:this.environment.currentUser.id,version:-1});return t&&t.value}}));for(const s of u)s&&r.setRecord({pointer:{table:L.a,id:s.id},userId:this.environment.currentUser.id},{role:"reader",value:s});const{currentUserStore:p}=M.default.state;return p&&(await p.load(),r.setRecord({pointer:p.pointer,userId:this.environment.currentUser.id},{role:"editor",value:p.getValue()})),new s.a(this.environment,{table:v.a,id:e},{inMemoryRecordCache:r})}}getChildContext(){return{...this.context,overrideLinkClick:this.handleOverrideLinkClick}}renderComponent(){return E.a.state.online?r.a.createElement(i.a,{request:this.props.previewRootId,performRequest:this.performRequest,render:this.renderResult}):r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",...this.props.style}},r.a.createElement(O.a,{isSmall:!0},r.a.createElement(D.FormattedMessage,{defaultMessage:"Please go online to view this template.",id:"pageTemplatePreview.offline.message"})))}useSeparateHorizontalScroller(e){return e.isCollectionView()&&!k.b(this.environment)}getScrollerStyle(){const{device:e}=this.environment;return{flex:1,...e.isSafari&&{zIndex:1}}}}F.contextTypes=a.b,F.childContextTypes=P.a;t.a=F},ndMU:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("fIr1"),r=n("mINO");const a=["view","add","remove","delete"],i=(r.g("unconfigured","disabled"),r.g("configured","enforced"),{table:"saml_config",columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,status:o.a.String,email_domains:o.a.StringArray,idp_metadata_url:o.a.String,idp_public_certificate:o.a.String,idp_sign_in_url:o.a.String,idp_sign_out_url:o.a.String,create_account:o.a.Boolean,last_edited_by:o.a.UUID,last_edited_time:o.a.Number,idp_metadata:o.a.XML,space_ids:o.a.UUIDArray},requiredColumns:{status:!0,create_account:!0,last_edited_by:!0,last_edited_time:!0,space_ids:!0},defaultColumnValues:{status:"unconfigured",create_account:!1}});t.b=i},njgS:function(e,t,n){"use strict";n.d(t,"j",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"k",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"q",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"n",(function(){return y})),n.d(t,"r",(function(){return S})),n.d(t,"g",(function(){return k})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return M})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return _})),n.d(t,"p",(function(){return T})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return I}));n("4Brf"),n("3bBZ");var o=n("D2XV"),r=n("pxbK"),a=n("4bJO"),i=n("5Nka"),s=n("J9+s"),l=n("LvDl"),c=n.n(l);function d(e){return"title"===e||"url"===e||"email"===e||"phone_number"===e}function u(e){return"select"===e.type||"multi_select"===e.type}function p(e){return"created_by"===e||"created_time"===e||"last_edited_by"===e||"last_edited_time"===e}const h=["text","title","url","email","phone_number","number"];function m(e){return h.includes(e)}function f(e){return"formula"===e.type?Boolean(e.formula&&"date"===e.formula.result_type):"rollup"===e.type?Boolean(e.relation_property&&e.target_property&&e.aggregation&&"date"===Object(a.f)(e.aggregation)):"date"===e.type||"created_time"===e.type||"last_edited_time"===e.type}const g=["text","relation","url","select","multi_select","person","number","email","phone_number","title"],b=["created_by","created_time","checkbox","last_edited_by","last_edited_time"],v=Object.keys({ABAP:!0,Arduino:!0,Bash:!0,BASIC:!0,C:!0,Clojure:!0,CoffeeScript:!0,"C++":!0,"C#":!0,CSS:!0,Dart:!0,Diff:!0,Docker:!0,Elixir:!0,Elm:!0,Erlang:!0,Flow:!0,Fortran:!0,"F#":!0,Gherkin:!0,GLSL:!0,Go:!0,GraphQL:!0,Groovy:!0,Haskell:!0,HTML:!0,Java:!0,JavaScript:!0,JSON:!0,Kotlin:!0,LaTeX:!0,Less:!0,Lisp:!0,LiveScript:!0,Lua:!0,Makefile:!0,Markdown:!0,Markup:!0,MATLAB:!0,Mermaid:!0,Nix:!0,"Objective-C":!0,OCaml:!0,Pascal:!0,Perl:!0,PHP:!0,"Plain Text":!0,PowerShell:!0,Prolog:!0,Python:!0,R:!0,Reason:!0,Ruby:!0,Rust:!0,Sass:!0,Scala:!0,Scheme:!0,Scss:!0,Shell:!0,SQL:!0,Swift:!0,TypeScript:!0,"VB.Net":!0,Verilog:!0,VHDL:!0,"Visual Basic":!0,WebAssembly:!0,XML:!0,YAML:!0,"Java/C/C++/C#":!0}),y=v.map(e=>({value:e,id:e})),S=["title","description","caption","link","checked","language","date","person","source","size"],w=Object(s.defineMessages)({title:{id:"block.propertyTypeName.title",defaultMessage:"Title"},description:{id:"block.propertyTypeName.description",defaultMessage:"Description"},caption:{id:"block.propertyTypeName.caption",defaultMessage:"Caption"},link:{id:"block.propertyTypeName.link",defaultMessage:"Link"},checked:{id:"block.propertyTypeName.checked",defaultMessage:"Checked"},language:{id:"block.propertyTypeName.language",defaultMessage:"Language"},date:{id:"block.propertyTypeName.date",defaultMessage:"Date"},person:{id:"block.propertyTypeName.person",defaultMessage:"Person"},source:{id:"block.propertyTypeName.source",defaultMessage:"Source"},size:{id:"block.propertyTypeName.size",defaultMessage:"Size"}}),k=c.a.memoize(e=>{const t={name:e.formatMessage(w.title),type:"title"},n={name:e.formatMessage(w.link),type:"url"};return{title:t,description:{name:e.formatMessage(w.description),type:"text"},caption:{name:e.formatMessage(w.caption),type:"text"},link:n,checked:{name:e.formatMessage(w.checked),type:"checkbox"},language:{name:e.formatMessage(w.language),type:"select",options:y},date:{name:e.formatMessage(w.date),type:"date",date_format:o.v,time_format:o.x},person:{name:e.formatMessage(w.person),type:"person"},source:{name:e.formatMessage(w.source),type:"url"},size:{name:e.formatMessage(w.size),type:"text"}}},e=>e.locale),C="Yes",M=[[C]],E="No",_=[[E]],T=1e3;function x(e){if(!e)return{};const t={...e},n=Object.keys(t);for(const o of n){const e=t[o];if(e)if(u(e)&&e.options){const n=e.options.filter(e=>Boolean(e.value));n.length!==e.options.length&&(t[o]={...e,options:n})}else if("relation"===e.type)e.collection_id?e.property||(t[o]={...e,property:o}):t[o]={name:e.name,type:"text"};else if("formula"===e.type){const n=e.formula?r.d(e.formula):void 0;t[o]={...e,formula:n}}}return t}function I(e,t,n){const o=e[t];if(o)return o;const r=x(n);return e[t]=r,r}i.a.images.icons.titlePng,i.a.images.icons.textPng,i.a.images.icons.numberPng,i.a.images.icons.urlPng,i.a.images.icons.selectPng,i.a.images.icons.multipleSelectPng,i.a.images.icons.personPng,i.a.images.icons.emailPng,i.a.images.icons.phoneNumberPng,i.a.images.icons.datePng,i.a.images.icons.filePng,i.a.images.icons.checkboxPng,i.a.images.icons.formulaPng,i.a.images.icons.relationPng,i.a.images.icons.relationPng,i.a.images.icons.createdAtPng,i.a.images.icons.createdByPng,i.a.images.icons.createdAtPng,i.a.images.icons.createdByPng},nkfK:function(e,t,n){"use strict";n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return T}));n("SYor"),n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("HRSx"),i=n("922z"),s=n("NoAG"),l=n("6SEd"),c=n("bmSz"),d=n("kaWB"),u=n("njgS"),p=n("FWat"),h=n("cBa6"),m=n("wF3w"),f=n("g90h"),g=n("J9+s"),b=n("Agvv"),v=n("5xGH"),y=n("W7EN"),S=n("z22Z"),w=n("xL2i"),k=n("VhAz");const C=Object(g.defineMessages)({copyOf:{defaultMessage:"Copy of {title}",id:"duplicateHelpers.copyOfTextForPageTitle",description:"When copying a page titled 'Hello', this is added to the beginning of the page title, so that the title of the copied page is 'Copy of Hello'."},untitled:{defaultMessage:"Untitled",id:"duplicateHelpers.untitledPageToDuplicate"}});function M(e,t,n){const o=E([h.n(e)],t,n);return h.Y(o)}function E(e,t,n){const o=h.Y(e);if(0===o.trim().length)return[h.n(o)];const r=t.messages["duplicateHelpers.copyOfTextForPageTitle"]||C.copyOf.defaultMessage;if("string"==typeof r){const n=r.split("{title}");if(2===n.length){const r=[],a=n[0],i=n[1],s=Object(b.d)(a),l=Object(b.d)(i),c=Object(b.d)(o);if(c.startsWith(s)&&c.endsWith(l))return e;if(a&&r.push(h.n(a)),e&&o)r.push(...e);else{const e=t.formatMessage(C.untitled);r.push(h.n(e))}return i&&r.push(h.n(i)),r}}return n({from:"duplicateHelpers",level:"error",type:"DuplicateTitleMessageError",error:{message:"Could not interpolate name of duplicated title due to malformed translated message."},data:{rawTranslatedMessage:r.toString(),typeOfRawTranslatedMessage:typeof r}}),e}function _(e){return e===a.a||e===l.a||e===s.a||e===c.a||e===d.a}function T(e){const{sourceBlockId:t,targetBlockId:n,recordMap:o,options:r}=e,s=new i.a;for(const{pointer:a}of o){const e=a.id===t?n:Object(f.b)();s.set(a,e)}const l=new i.a,c=({requested:e})=>s.get(e);for(const{pointer:{table:i},value:d}of o){if(void 0===d)continue;if(!_(i))continue;const e=x(i,d,c,r);if(void 0!==e){if(i===a.a&&e.id===n){const t=e;delete t.parent_id,delete t.parent_table,delete t.alive}l.set({table:i,id:e.id},e)}}return l}function x(e,t,n,o={duplicateDiscussions:!1}){const i=r.a.cloneDeep(t),g=n({requested:{table:e,id:t.id},requester:{table:e,id:t.id}});if(void 0===g)throw new v.a("Failed to duplicate record ".concat(t.id));switch(i.id=g,e){case a.a:!function(e,t,n,o){const r={table:a.a,id:e.id};Object(f.f)(e.id)&&(t.copied_from=e.id);const i=n({requested:{table:t.parent_table,id:t.parent_id},requester:r});i&&(t.parent_id=i);const d=t;d.content&&(d.content=d.content.map(e=>n({requested:{table:a.a,id:e},requester:r})||e));const u=t;u.view_ids&&(u.view_ids=u.view_ids.map(e=>n({requested:{table:s.a,id:e},requester:r})||e));u.collection_id&&(u.collection_id=n({requested:{table:l.a,id:u.collection_id},requester:r})||u.collection_id);t.discussions&&(o.duplicateDiscussions?t.discussions=t.discussions.map(e=>n({requested:{table:c.a,id:e},requester:r})||e):delete t.discussions);t.permissions&&(o.duplicatePermissions?t.permissions=function(e){const{block:t,targetSpaceSettings:n}=e;return(t.permissions||[]).filter(e=>!Object(S.g)(e)&&(!Object(S.i)(e)&&((!n.disablePublicAccess||!Object(S.n)(e))&&!(n.disableGuests&&Object(S.q)(e)&&!Object(w.j)({spacePermissions:n.permissions||[],userId:e.user_id,botId:void 0})))))}({block:t,targetSpaceSettings:o.duplicatePermissions.targetSpaceSettings}):delete t.permissions);t.content_classification&&delete t.content_classification;t.moved&&delete t.moved;t.properties||(t.properties={});for(const a in t.properties){const e=o.duplicateDiscussions?t.properties[a]:h.bb(t.properties[a]);t.properties[a]=e}t.ignore_block_count&&delete t.ignore_block_count;if(t.properties)for(const a of Object.keys(t.properties)){const e=t.properties[a];e&&(t.properties[a]=I({text:e,mapper:n,requester:r}))}if("transclusion_reference"===t.type&&o.deepCopyTransclusionContainers){const e=t;if(e.format&&e.format.transclusion_reference_pointer){const t=e.format.transclusion_reference_pointer,o=n({requested:t,requester:r});o&&(e.format.transclusion_reference_pointer={table:a.a,id:o})}}if("transclusion_container"===t.type&&!o.deepCopyTransclusionContainers){const e=t;e.type="transclusion_reference",e.content=void 0;const n=e.format||{};n.transclusion_reference_pointer=r,e.format=n}if("alias"===t.type&&t.format&&t.format.alias_pointer){const e=t.format.alias_pointer,o=n({requested:e,requester:r});o&&(t.format.alias_pointer={table:a.a,id:o})}const p=Date.now();t.created_time=p,t.last_edited_time=p}(t,i,n,o);break;case l.a:!function(e,t,n){const o={table:l.a,id:e.id};Object(f.f)(e.id)&&(t.copied_from=e.id);const r=n({requested:{table:t.parent_table,id:t.parent_id},requester:o});r&&(t.parent_id=r);const i=u.e(t.schema);for(const a in i){const e=i[a];if(e&&"relation"===e.type&&e.collection_id){const t=n({requested:{table:l.a,id:e.collection_id},requester:o});t?e.collection_id=t:e.property=Object(m.a)()}}t.template_pages&&(t.template_pages=t.template_pages.map(e=>n({requested:{table:a.a,id:e},requester:o})||e))}(t,i,n);break;case s.a:!function(e,t,n){const o={table:s.a,id:e.id},r=n({requested:{table:t.parent_table,id:t.parent_id},requester:o});r&&(t.parent_id=r);t.page_sort&&(t.page_sort=t.page_sort.map(e=>n({requested:{table:a.a,id:e},requester:o})||e));const i=t.query2;i&&i.filter&&function e(t,n){if(p.n(t)){(t.filters||[]).forEach(t=>e(t,n))}if(p.x(t)){if(p.y(t.filter)){const e=t.filter;if("relation_contains"===e.operator||"relation_does_not_contain"===e.operator){const t=e.value.value;e.value.value=t&&n({table:a.a,id:t})||t}}if(p.z(t.filter)){const e=t.filter.subfilter;if(p.y(e)){const t=e;if("relation_contains"===t.operator||"relation_does_not_contain"===t.operator){const e=t.value.value;t.value.value=e&&n({table:a.a,id:e})||e}}}}}(i.filter,e=>n({requested:e,requester:o}))}(t,i,n);break;case c.a:!function(e,t,n){const o={table:c.a,id:e.id},r=n({requested:{table:t.parent_table,id:t.parent_id},requester:o});r&&(t.parent_id=r);t.comments&&(t.comments=t.comments.map(e=>n({requested:{table:d.a,id:e},requester:o})||e));t.context&&(t.context=I({text:t.context,mapper:n,requester:o}))}(t,i,n);break;case d.a:!function(e,t,n){const o={table:d.a,id:e.id},r=n({requested:{table:t.parent_table,id:t.parent_id},requester:o});r&&(t.parent_id=r);t.text=I({text:t.text,mapper:n,requester:o})}(t,i,n);break;default:Object(k.e)(e)}return i}function I(e){const{text:t,mapper:n,requester:o}=e;if(void 0!==t)return t.map(e=>function(e){const{token:t,mapper:n,requester:o}=e,r=h.db(t).map(e=>{if(h.zb(e)){const t=h.V(e);if(t){const e=n({requested:{table:a.a,id:t},requester:o});if(e)return h.i(e)}}if(h.wb(e)){const t=h.R(e),r=Object(y.c)(t);if(r){const e=n({requested:{table:a.a,id:r},requester:o});if(e)return h.g(Object(y.a)({pageId:e}))}}if(h.rb(e)){const t=h.L(e),r=n({requested:{table:c.a,id:t},requester:o});if(r)return h.e(r)}return e});return h.n(h.fb(t),r)}({token:e,mapper:n,requester:o}))}},nld8:function(e,t,n){"use strict";var o=n("Uv1v");class r extends o.a{isInlineAutocompleteOpen(){const e=this.findComponent(e=>e.props.isOpen);return Boolean(e)}}t.a=new r},oDyz:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("LvDl"),l=n("2Yor"),c=n("bFnu"),d=n("iVjn"),u=n("LEzx");class p extends u.a{getInitialState(){return{showFadeInAnimation:!1,isRepositioning:!1}}}var h=p,m=n("NOLh"),f=n("CVgL"),g=n("wldR"),b=n("sjR4"),v=n("6rsX"),y=n("nFzZ"),S=n("zmp8"),w=n("Sb6f"),k=n("J9+s");class C extends g.a{constructor(){super(...arguments),this.storeTypes={mouseStore:c.a,withImageRepositioningStore:h},this.renderDraggable=()=>r.a.createElement(d.a,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,disabled:!this.isRepositioning(),render:e=>r.a.createElement("div",Object.assign({},Object(f.a)(this.getDragContainerStyle()),e),this.props.children({imagePosition:this.getRenderedCoverPosition(),isRepositioning:this.isRepositioning(),showFadeInAnimation:!1}))}),this.shouldBeActiveStore=this.createComputedStore(()=>0===b.default.state.stores.length),this.handleMouseMove=e=>{this.mouseStore.setState({...this.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=e=>{this.mouseStore.setState({...this.mouseStore.state,mouseEntered:!1})},this.handleMouseMoveThrottled=Object(s.throttle)(this.handleMouseMove,100),this.handleMouseLeaveDebounced=Object(s.debounce)(this.handleMouseLeave,100),this.handleWindowMouseDown=e=>{const t=i.a.findDOMNode(this);t&&!t.contains(e.target)&&this.isRepositioning()&&this.props.onFlushTemporaryPosition({imagePosition:this.getRenderedCoverPosition(),reset:()=>{this.mouseStore.reset(),this.stores.withImageRepositioningStore.reset()}})},this.handleRepositionClick=(e,t)=>{Object(v.e)(this.environment);const n=new Image;n.onload=()=>{this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,isRepositioning:!0,image:n})},t&&(n.src=t)},this.handleCancelClick=e=>{this.stores.withImageRepositioningStore.reset()},this.handleSavePositionClick=e=>{this.props.onFlushTemporaryPosition({imagePosition:this.getRenderedCoverPosition(),reset:()=>{this.stores.withImageRepositioningStore.reset()}})},this.handleDragStart=e=>{const t=this.isRepositioning(),{image:n}=this.stores.withImageRepositioningStore.state;if(n&&t){const e=i.a.findDOMNode(this);if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/n.width*n.height,o=this.getRenderedCoverPosition();this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,startDragImageScreenHeight:t,startDragRenderedPosition:o})}}},this.handleDragMove=e=>{if(this.isRepositioning()){const{startDragRenderedPosition:t,startDragImageScreenHeight:n}=this.stores.withImageRepositioningStore.state,o=e.diffY/(n||0)+(t||0);this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,temporaryPosition:Object(s.round)(Object(l.a)(o,0,1),4)})}},this.handleDragEnd=()=>{this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})},this.handleDragCancel=()=>{this.stores.withImageRepositioningStore.setState({...this.stores.withImageRepositioningStore.state,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})}}didMount(){super.didMount(),window.addEventListener("mousedown",this.handleWindowMouseDown)}willUnmount(){super.willUnmount(),window.removeEventListener("mousedown",this.handleWindowMouseDown)}willMountOrUpdate(){this.isRepositioning()&&!this.shouldBeActiveStore.state&&this.stores.withImageRepositioningStore.reset()}renderComponent(){const{device:e}=this.environment,{style:t}=this.props,{isMobile:n}=e,o=this.isRepositioning(),{mouseEntered:a}=this.mouseStore.state;return r.a.createElement("div",Object.assign({onMouseEnter:this.handleMouseMoveThrottled,onMouseMove:this.handleMouseMoveThrottled,onMouseLeave:this.handleMouseLeaveDebounced},Object(f.a)(this.getContainerStyle(),t)),this.renderDraggable(),this.renderDragMessage(),this.props.renderControl({handleRepositionClick:this.handleRepositionClick,handleSavePositionClick:this.handleSavePositionClick,handleCancelClick:this.handleCancelClick,isVisible:n||a||o,isRepositioning:o}))}renderDragMessage(){const{isRepositioning:e}=this.stores.withImageRepositioningStore.state;if(!this.props.small)return r.a.createElement(m.a,{isVisible:!0,animationStyle:{opacity:e?1:0},render:()=>r.a.createElement("div",Object.assign({},Object(f.a)(this.getDragMessageContainerStyle())),r.a.createElement(k.FormattedMessage,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"}))})}isRepositioning(){return this.stores.withImageRepositioningStore.state.isRepositioning}getRenderedCoverPosition(){const{temporaryPosition:e}=this.stores.withImageRepositioningStore.state;return Object(s.isNumber)(e)?e:this.getPersistedCoverPosition()}getPersistedCoverPosition(){const{source:e,store:t}=this.props;if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if(Object(s.isNumber)(e))return e}if(t.isCollectionView()){const e=t.getCollectionViewCollectionStore();if(e){const t=e.getFormat().collection_cover_position;if(!Object(y.h)(t))return t}}else{const e=t.getFormat().page_cover_position;if(Object(s.isNumber)(e))return e}return.5}get mouseStore(){return this.props.mouseStore||this.stores.mouseStore}getContainerStyle(){return{position:"relative",width:"100%"}}getDragContainerStyle(){return{width:"100%",cursor:this.isRepositioning()?"move":"inherit"}}getDragMessageContainerStyle(){return{background:S.g.blackWithAlpha(.4),borderRadius:3,color:S.g.white,fontSize:12,fontFamily:w.a.fontFamily.sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"}}}t.a=C},oFLp:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return v}));var o=n("/YYm"),r=n("wpmu"),a=n("jZoB"),i=n("H4VD"),s=n("g90h"),l=n("N34Z"),c=n("MBf9"),d=n("udrG"),u=n("HRSx"),p=n("QcDD"),h=n("5/h/"),m=n("BrOh");const f=function(e){const{environment:t,store:n,targetStore:o,transaction:r}=e,i=n.recordStoreParent();if(i){if(Object(m.a)()){const e=Object(m.b)({environment:t,parentStore:i,targetStore:o,transaction:r});return a.f({parent:i,oldChild:n,newChild:e,transaction:r}).child}return a.f({parent:i,oldChild:n,newChild:o,transaction:r}).child}throw new Error("Could not create alias block.")};function g(e){const{environment:t,store:n,collectionStore:o,transaction:i}=e,{id:c}=t.currentUser,p=n.recordStoreParent();if(p&&c){const e=Date.now(),m=Object(s.b)(),f={id:Object(s.b)(),version:0,type:"table",parent_id:m,parent_table:"block",alive:!0};l.b({environment:t,table:"collection_view",value:f,inMemoryRecordCache:n.inMemoryRecordCache,transaction:i});const g={id:m,type:d.a.collectionView,collection_id:o.id,view_ids:[f.id],properties:{},parent_id:p.id,parent_table:"block",alive:!0,created_by_table:h.a,created_by_id:c,created_time:e,last_edited_by_table:h.a,last_edited_by_id:c,last_edited_time:e};return l.b({environment:t,table:"block",value:g,inMemoryRecordCache:n.inMemoryRecordCache,transaction:i}),a.f({parent:p,oldChild:n,newChild:r.a.createChildStore(p,{table:u.a,id:m}),transaction:i}).child}}function b(e){const{environment:t,blocks:n,openInNewTab:a}=e,s=n[0];if(a){const e=Object(o.a)({store:s});i.navigate({environment:t,url:e,metaClick:!0})}else{const e=s.recordStoreParentStore instanceof r.a&&s.recordStoreParentStore.isCollectionView(),{currentBlockStore:n}=p.default.state;if(e&&n){const e=Object(o.a)({store:n,fullyQualified:!1,peekViewBlockId:s.id});i.navigate({environment:t,url:e})}else i.navigateToBlock({environment:t,store:s})}}function v(e){const{environment:t,store:n,lock:o}=e,{id:r}=t.currentUser;if(!r)return;const a={block_locked:o,block_locked_by:r};c.createAndCommit(t,e=>{l.d({store:n.getFormatStore(),data:a,transaction:e})})}},oWZM:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("SR/M"),i=n("wldR"),s=n("zmp8"),l=n("IULH"),c=n("mF3+"),d=n("3mOY");class u extends i.a{constructor(){super(...arguments),this.handleClick=()=>{this.props.onClick&&this.props.onClick()}}renderComponent(){const{device:e}=this.environment,t=Boolean(this.props.title);if(e.isMobile)return r.a.createElement(a.a,{showExtensionArrow:!0,focused:!1,title:t?r.a.createElement("div",null,this.props.title):r.a.createElement("div",{style:{color:s.g.uiGray}},this.props.placeholder),onClick:this.props.onClick});{const e="dark"===this.theme.mode?this.theme.lightTextColor:this.theme.mediumTextColor;return r.a.createElement(d.b,{action:this.handleClick,disabled:this.props.disabled,render:n=>r.a.createElement(l.a,Object.assign({},n,{hovered:n.focused,isLarge:!0,backgroundColor:this.theme.buttonBackground,style:{marginRight:8,maxWidth:180,padding:"0 8px",...n.disabled&&{opacity:.5,borderColor:s.g.transparent},...this.props.disableMargins&&{marginRight:0,maxWidth:"100%",justifyContent:"space-between"},...this.props.desktopStyle||{}}}),r.a.createElement("div",{style:{display:"flex",minWidth:0,color:t?this.theme.regularTextColor:e}},t?this.props.title:this.props.placeholder),c.a.chevronDown({width:10,marginLeft:6,fill:this.theme.lightIconColor,...this.props.disabled&&{opacity:0}}))})}}}t.a=u},oXlg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("q1tI"),n("mY49");console.log.bind(console);const o={log:()=>{}}},oYg8:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("6q9u"),s=n("ZQ9l");class l extends a.a{onClick(){const{disabled:e,onClick:t}=this.props;e||t()}renderComponent(){const{device:e}=this.environment,{title:t,caption:n,isSelected:o,disabled:a}=this.props,c=a?.4:1;return e.isMobile?r.a.createElement(s.a,{title:t,right:r.a.createElement(i.a,{isSelected:o}),onClick:()=>this.onClick()}):r.a.createElement("div",{style:{...l.wrapStyle,opacity:c},onClick:()=>this.onClick()},r.a.createElement(i.a,{isSelected:o}),r.a.createElement("div",null,t),n&&r.a.createElement("div",{style:{color:this.theme.mediumTextColor,marginLeft:8}},n))}}l.wrapStyle={display:"flex",alignItems:"center",flex:1,fontSize:14,marginBottom:8,cursor:"pointer"},t.a=l},ocLp:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("3bBZ");var o=n("ddTe"),r=n("Fe7V"),a=n("ckBw"),i=n("yUnD");const s=Object(o.exposeDebugValue)("offlineDebugger",new class{constructor(){this.enableLogging=!1,this.operationLatency={},this.log=(e,...t)=>{this.enableLogging&&(console.groupCollapsed(e,...t),console.trace(),console.groupEnd())},this.generateLocalRecordMap=i.a,this.getLocalRecord=i.b,this.getLocalRecordsWithParent=i.c}async measure(e,t,n){const o="OFFLINE: ".concat(e,":");return this.operationLatency[e]||(this.operationLatency[e]=new a.a((...e)=>this.log(o,...e))),this.operationLatency[e].measureErrors(t,"hit","miss",n)}trace(...e){this.log("OFFLINE:",...e)}debug(...e){this.log("OFFLINE:",...e)}traceMiss(e,t,...n){this.trace("missed: record ".concat(e,":").concat(t),...n)}clearMemory(){Object(r.a)(window.__console.environment)}})},ohKz:function(e,t,n){"use strict";var o=n("g4rC");t.a=new o.a},okm4:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{ready:!1,initialRequestCompleted:!1,loading:!1,endOfResultsReached:!1,error:void 0,currentCursor:void 0,currentChunkNumber:void 0}}}t.a=r},onX9:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},oqYu:function(e,t,n){"use strict";n.r(t),n.d(t,"initializeReactNativeApp",(function(){return u})),n.d(t,"registerPushNotifications",(function(){return p})),n.d(t,"handleTokenRefresh",(function(){return h})),n.d(t,"waitForCssInsets",(function(){return m})),n.d(t,"getInitialTheme",(function(){return g}));var o=n("sgGF"),r=n("yjqD"),a=n("+LO1"),i=n("p0Ff"),s=n("bkwR"),l=n("N34Z"),c=n("MBf9"),d=n("ZoJK");async function u(e){if(e.device.isReactNative&&e.reactNative){await m(e),e.device.isAndroid&&e.reactNative.api.setStatusBarBackgroundColor&&e.reactNative.api.setStatusBarStyle&&!e.reactNative.api.setAppTheme&&(e.reactNative.api.setStatusBarBackgroundColor("black"),e.reactNative.api.setStatusBarStyle("light-content")),e.reactNative.updateReceiveApiHandlers({track:t=>{a.i(e,t.eventName,t.eventData)}});const t=Object(d.a)(e.reactNative);t&&(await t.initializeKeyValueStore(e.reactNative),await t.initializeStorage(e.reactNative),await t.legacyLogSqliteSchema(e.reactNative)),e.reactNative&&e.reactNative.sqliteConnection&&(await e.reactNative.sqliteConnection.ensureMigrated(),e.reactNative.sqliteConnection.optimize()),e.reactNative.api.getTheme&&(f=await e.reactNative.api.getTheme()),e.reactNative.api.ready&&e.reactNative.api.ready()}}async function p(e){const{reactNative:t}=e;if(t&&t.api.registerPushNotifications){const n=await t.api.registerPushNotifications();n&&h(e,n)}}async function h(e,t){const n=e.currentUser.id;if(t&&n){const r=Object(o.c)({user_id:n,token:t}),a=await s.syncRecordValue(e,{pointer:{table:o.a,id:r},userId:n,version:-1});a&&(a.value&&!a.value.invalid||c.createAndCommit(e,a=>{l.b({environment:e,table:o.a,value:{id:r,token:t,user_id:n,invalid:!1},inMemoryRecordCache:i.default,transaction:a})}))}}async function m(e){if(!e.device.isIOS||!e.device.isReactNative)return;const t=document.createElement("div");t.style.width="calc(".concat(["env(safe-area-inset-top)","env(safe-area-inset-bottom)","env(safe-area-inset-left)","env(safe-area-inset-right)"].join(" + "),")"),t.style.visibility="hidden",document.body.appendChild(t);let n=0;for(;n<50&&!(t.offsetWidth>0);)await r.h(1),n++;document.body.removeChild(t),e.WindowSizeStore.updateWindowSize()}let f="light";function g(){return f}},oqx9:function(e,t,n){"use strict";var o=n("bPtJ");class r extends o.d{constructor(e,t,n={}){super({environment:e,pointer:t,userId:n.userId,inMemoryRecordCache:n.inMemoryRecordCache})}static createChildStore(e,t){const n=o.d.getChildStoreKey(t,r.keyName),a=e.getRecordStoreChildStore(n),i=a||new r(e.environment,t,{userId:e.userId,inMemoryRecordCache:e.inMemoryRecordCache});return a||i.setRecordStoreParent(e,n),i}}r.keyName="CommentRecordStore",t.a=r},ouJW:function(e,t,n){"use strict";var o=n("i8i4"),r=n.n(o),a=n("Uv1v");class i extends a.a{findBlockPropertyValue(e,t){return this.findComponent(n=>n.props.store===e&&n.props.property===t)}getRect(e,t){const n=this.findBlockPropertyValue(e,t);if(n){const e=r.a.findDOMNode(n);if(e&&e instanceof Element)return e.getBoundingClientRect()}}}t.a=new i},ov3o:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isOpen:!1,lastPageId:void 0}}}t.a=new r},ovYF:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=n("CZQ9");function r(){o.a.setState({open:!0,submitted:!1,error:void 0})}function a(){o.a.setState({open:!1})}},ox2z:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("SR/M"),i=n("TDb4"),s=n("gbGO"),l=n("wldR");class c extends l.a{renderComponent(){const e=!this.environment.device.isMobile&&this.props.shortcuts&&this.props.shortcuts[0];return r.a.createElement(a.a,Object.assign({},this.props,{style:this.props.style,icon:this.renderSvg(),right:this.props.right||e&&r.a.createElement(i.a,{name:e,style:this.getShortcutStyle()})}))}renderSvg(){const e=this.props.svg;if(e)return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},e({width:this.environment.device.isMobile?20:17,height:this.environment.device.isMobile?20:17}))}getShortcutStyle(){return{color:this.theme.lightTextColor,fontSize:12,whiteSpace:"nowrap"}}}c.contextTypes={...s.c},t.a=c},"p+Y9":function(e,t,n){"use strict";n.d(t,"f",(function(){return M})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return I})),n.d(t,"g",(function(){return P}));n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("yjqD"),l=n("ju2U"),c=n("bkwR"),d=n("Cycz"),u=n("Mht8"),p=n("r8MX"),h=n("UiOz"),m=n("9PHN"),f=n("QhBr"),g=n("szb2"),b=n("h5Kq"),v=n("J9+s"),y=n("vl8/"),S=n("zzAG"),w=n("DbeH"),k=n("1G+a");const C=Object(v.defineMessages)({uploadFileFailed:{defaultMessage:"Upload failed.",id:"uploadActions.uploadFailedError.message"}});function M(e){const t=e.files.map(e=>({file:e,name:e.name,size:"".concat((e.size/1024).toFixed(1),"KB")}));e.onStart&&e.onStart(t);const n={};let o=0;s.b(e.files,B,t=>Promise.all(t.map(t=>new Promise((r,a)=>{E({environment:e.environment,..."secure"===e.bucket?{bucket:e.bucket,record:e.record}:{bucket:e.bucket},file:t,onStart:()=>{},onProgress:({progressPercent:t})=>{e.onProgress&&e.onProgress({progressPercent:t,uploadedFiles:o})},onComplete:e=>{o++,n[t.name]=e,r()},onError:e=>{a(new Error(e))},preventLimitFreeFileSize:e.preventLimitFreeFileSize})})))).then(()=>{const t=e.files.map(e=>n[e.name]);e.onComplete&&e.onComplete(t)}).catch(t=>{e.onError&&e.onError(t)})}async function E(e){const{environment:t,file:n}=e,a=n.type||"text/plain; charset=utf-8",{data:i}=p.default.state;let M=!1;if(t.device.isReactNative){const e="personal"===d.j(t);M=!(Object(k.b)({environment:t})&&e)}if(!e.preventLimitFreeFileSize&&i&&d.E(i)&&!M&&n.size>O)!function(e){const{device:t}=e,{isMobile:n,isTablet:a}=t,i=n&&!a,s=p.default.state.data;let c=!0;const u="personal"===d.j(e),y=s&&d.w(s);Object(k.b)({environment:e})&&u&&!y&&(c=!1);l.b({bannerStore:g.c.state.open?f.a:h.a,id:P,type:b.a.Red,render:()=>r.a.createElement(o.Fragment,null,r.a.createElement(v.FormattedMessage,{id:"uploadLimitExceededBanner.message",defaultMessage:"{shouldShowShortMessage, select, true {Your file is over the {maxFreeAccountFileSize} MB limit} other {Your file is over the {maxFreeAccountFileSize} MB limit of the Free plan}}",values:{shouldShowShortMessage:i,maxFreeAccountFileSize:I}}),c&&r.a.createElement(m.a,{onClick:()=>{w.a(e,{from:"upload_limit_banner",for:d.j(e)||"team"})},style:{marginLeft:12}},r.a.createElement(v.FormattedMessage,{id:"uploadLimitExceededBanner.upgradeButton.label",defaultMessage:"{shouldShowShortMessage, select, true {Upgrade} other {Upgrade for unlimited uploads}}",values:{shouldShowShortMessage:i}})))})}(e.environment);else{e.onStart&&e.onStart({file:n,name:n.name,size:"".concat((n.size/1024).toFixed(1),"KB")});const o="secure"===e.bucket?{bucket:e.bucket,name:n.name,contentType:a,record:e.record}:{bucket:e.bucket,name:n.name,contentType:a},r=await c.getUploadFileUrl(t,o);if("success"===r.type){const{url:t,signedPutUrl:o}=r.data,i=s.c(),l=new XMLHttpRequest;l.open("PUT",o),l.setRequestHeader("Content-type",a),l.upload.addEventListener("progress",t=>{if(t.lengthComputable){const n=Math.round(100*t.loaded/t.total);e.onProgress&&e.onProgress({progressPercent:n,uploadedFiles:0})}}),l.onreadystatechange=function(){4===l.readyState&&(200===l.status?i.resolve({value:t}):(u.log({level:"error",from:"uploadActions",type:"ClientUploadError",data:{miscDataToConvertToString:{status:l.status,responseText:l.responseText}}}),i.resolve({error:y.default.formatMessage(C.uploadFileFailed)})))},l.send(n);const c=await i.promise;c.error?e.onError&&e.onError(c.error):e.onComplete&&e.onComplete(t)}else if(e.onError){const t=Object(S.b)(y.default.getIntl(),r);e.onError(t)}}}function _(e){R(),e.multiple?L.setAttribute("multiple",""):L.removeAttribute("multiple"),e.accept&&L.setAttribute("accept",e.accept),L.addEventListener("change",t=>{const n=i.a.toArray(L.files);M({environment:e.environment,files:n,..."secure"===e.bucket?{bucket:e.bucket,record:e.record}:{bucket:e.bucket},onStart:e.onStart,onProgress:e.onProgress,onComplete:e.onComplete,onError:e.onError,preventLimitFreeFileSize:e.preventLimitFreeFileSize})}),L.click()}async function T(e){R(),e.multiple?L.setAttribute("multiple",""):L.removeAttribute("multiple"),e.accept&&L.setAttribute("accept",e.accept);const t=s.c();return L.addEventListener("change",e=>{const n=i.a.toArray(L.files);t.resolve(n)}),L.addEventListener("blur",e=>{t.resolve([])}),L.click(),t.promise}function x(){l.c({bannerStore:h.a,id:P}),l.c({bannerStore:f.a,id:P})}const I=5,P="SubscriptionEditingBlocker",O=1e6*I,B=5;let L;const R=function(){L&&L.remove(),L=document.createElement("input"),L.type="file",L.style.opacity="0",L.style.pointerEvents="none",L.style.position="fixed",L.style.left="-1000px",L.style.top="-1000px",document.body.appendChild(L)}},p0Ff:function(e,t,n){"use strict";n.r(t);var o=n("lk/1");t.default=new o.a},p0Uu:function(e,t,n){"use strict";t.a={}},p2sz:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var o=n("fIr1");const r="control",a={table:"experiment",columnTypes:{id:o.a.UUID,experiment_id:o.a.String,version:o.a.Number,last_version:o.a.Number,groups:o.a.JSON,overrides:o.a.JSON,experiment_version:o.a.Number,start_time:o.a.Number,end_time:o.a.Number,target_type:o.a.String}};t.a=a},p9C0:function(e,t,n){"use strict";var o=n("bPtJ");class r extends o.d{constructor(e,t,n={}){super({environment:e,pointer:t,userId:n.userId,inMemoryRecordCache:n.inMemoryRecordCache})}static createChildStore(e,t){const n=o.d.getChildStoreKey(t,r.keyName),a=e.getRecordStoreChildStore(n),i=a||new r(e.environment,t,{userId:e.userId,inMemoryRecordCache:e.inMemoryRecordCache});return a||i.setRecordStoreParent(e,n),i}getSettingsStore(){return Object(o.a)(this,this.pointer,"settings")}getSettings(){const e=this.getValue();return e&&e.settings?e.settings:{}}hasUserPinnedToOutliner(e){const{spaceId:t,type:n}=e,r=Object(o.b)(this,this.pointer,["settings","sidebar_outliner_settings",t,n,"has_pinned"]);return Boolean(r.getValue())}}r.keyName="UserSettingsStore",t.a=r},p9gS:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("wpmu"),l=n("bjn0"),c=n("bPtJ"),d=n("tvfY"),u=n("G4cA"),p=n("udrG"),h=n("kaWB"),m=n("bmSz"),f=n("FUUC"),g=n("5/h/"),b=n("7L5k"),v=n("y6Dp"),y=n("qE2X"),S=n("VpIZ"),w=n("IzPW"),k=n("hbKx"),C=n("AXh+"),M=n("cBa6"),E=n("mKX5"),_=n("wldR"),T=n("kdGy"),x=n("aw/t"),I=n("LeVO"),P=n("mF3+"),O=n("NbyO"),B=n("zmp8"),L=n("Sb6f"),R=n("lCCU"),D=n("V1wX"),A=n("58VE"),j=n("7M94"),F=n("J9+s"),V=n("vl8/"),N=n("MeYt"),U=n("6Zdk"),z=n("MBf9"),X=n("JgyA"),Y=n("hU3F"),H=n("t2WN"),q=n("HRSx");class W extends _.a{constructor(){super(...arguments),this.storeTypes={hovered:Y.a.of(!1)},this.handleMouseMove=()=>{this.stores.hovered.set(!0)},this.handleMouseLeave=()=>{this.stores.hovered.set(!1)},this.handleArchive=()=>{const{notification:e,rootStore:t}=this.props;e&&z.createAndCommit(this.environment,n=>{U.b({notification:e,rootStore:t,transaction:n})})},this.handleOpenSnapshot=()=>{if(this.props.navigableBlockId){const e=s.a.createChildStore(this.props.rootStore,{table:q.a,id:this.props.navigableBlockId});O.d({environment:this.environment,blockStore:e,openSnapshotNearTimestamp:this.props.timestamp.toString(),from:"activity"})}}}renderComponent(){const{children:e}=this.props;return i.a.createElement("div",{onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},i.a.createElement("div",{style:{...W.wrapStyle,paddingBottom:e?12:8,paddingLeft:this.environment.device.isMobile?this.environment.WindowSizeStore.state.paddingLeftCSS:0,paddingRight:this.environment.device.isMobile?this.environment.WindowSizeStore.state.paddingRightCSS:0}},i.a.createElement("div",{style:this.getHeaderAndAvatarStyle()},i.a.createElement("div",{className:j.c},this.props.icon),this.renderHeader(),this.renderSnapshotButton(),this.renderArchiveAction(),this.renderPrivate()),e&&this.renderChildren()),this.renderDivider())}renderDivider(){const{isLast:e}=this.props;if(!e)return i.a.createElement("div",{style:this.getBorderBottomStyle()})}renderHeader(){const{timestamp:e,header:t}=this.props,n=Object(E.a)(Math.min(e,Date.now())).calendar();return i.a.createElement("div",{style:W.headerStyle},i.a.createElement("div",{className:j.b},t),i.a.createElement("div",{style:{display:"flex",marginTop:4,marginBottom:this.props.children?8:4}},i.a.createElement("div",{style:this.getTimeStyle(),className:j.d},n),this.props.navigableBlockId&&i.a.createElement(x.a,{isLink:!0,innerStyle:this.getPathStyle(),store:s.a.createChildStore(this.props.rootStore,{table:q.a,id:this.props.navigableBlockId}),left:i.a.createElement("div",{style:this.getSeparatorDotStyle()},"·")})))}renderSnapshotButton(){if(this.props.showSnapshotButton&&!(this.props.timestamp<new Date("2018-10-26").getTime()))return this.props.navigableBlockId?i.a.createElement(I.a,{renderTooltip:()=>i.a.createElement(F.FormattedMessage,{defaultMessage:"View version for this update",id:"activitySection.viewVersionForUpdate.tooltip"}),render:e=>i.a.createElement(R.a,Object.assign({onClick:this.handleOpenSnapshot,icon:P.a.versionHistoryThick},e))}):void 0}renderArchiveAction(){const{notification:e}=this.props,{device:t}=this.environment,{currentTab:n}=X.a.state;if("mentions"===n&&e&&!e.visited)return i.a.createElement(I.a,{renderTooltip:()=>i.a.createElement(F.FormattedMessage,{defaultMessage:"Archive this notification",id:"activitySection.archiveAction.tooltip"}),render:e=>i.a.createElement("div",Object.assign({style:{...W.statusLabelContainerStyle,position:"relative"}},e),!this.isSeen()&&i.a.createElement("div",{style:{...W.statusDotStyle,opacity:this.environment.device.isMobile||this.stores.hovered.get()?0:1}}),i.a.createElement(N.a,{onClick:this.handleArchive,style:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:this.theme.buttonHoveredBackground,width:t.isMobile?24:20,height:t.isMobile?24:20,opacity:this.environment.device.isMobile||this.stores.hovered.get()?1:0},hoveredStyle:{background:this.theme.buttonPressedBackground}},P.a.closeSmall({width:t.isMobile?18:14,fill:this.theme.mediumTextColor})))})}renderPrivate(){if(this.props.isPrivate&&!this.props.notification)return i.a.createElement(H.a,{style:{marginTop:1,marginBottom:4,marginLeft:8}})}renderChildren(){return i.a.createElement("div",{className:j.a},this.props.children)}isSeen(){const{notification:e}=this.props;return!e||e.read}getHeaderAndAvatarStyle(){return{display:"flex",paddingLeft:16,paddingRight:16}}getBorderBottomStyle(){return{borderBottom:"1px solid ".concat(this.theme.regularDividerColor)}}getPathStyle(){return{fontSize:12,color:this.theme.lightTextColor}}getTimeStyle(){return{fontSize:12,color:this.theme.lightTextColor,whiteSpace:"nowrap"}}getSeparatorDotStyle(){return{fontSize:12,color:this.theme.lightTextColor,marginLeft:4,marginRight:4}}}W.wrapStyle={paddingTop:12},W.headerStyle={fontSize:14,lineHeight:1.4,flexGrow:1,minWidth:0},W.statusLabelContainerStyle={display:"flex",alignItems:"flex-start",marginTop:1,marginBottom:4,marginLeft:8},W.statusDotStyle={height:8,width:8,flexShrink:0,marginRight:4,background:B.g.blue,borderRadius:"100%",position:"absolute",top:5.5,left:5.5,pointerEvents:"none"};const G={fontWeight:L.a.fontWeight.semibold},Z={marginTop:2,marginRight:8,flexShrink:0};function K(e){const{authors:t}=e,n=t[0];return n&&Object(D.e)(n)?i.a.createElement(T.a,{botValue:n.value}):i.a.createElement(A.a,{userValue:n&&n.value,style:Z,size:28,avatarShouldShowShadow:!0})}function J(){return i.a.createElement("div",{style:{display:"flex",backgroundColor:B.g.red,height:28,width:28,borderRadius:"100%",...Z}},P.a.alarmClock({height:16,width:16,fill:B.g.white,marginLeft:6,marginTop:5}))}function Q(e){const t=e.map(e=>Object(D.b)(V.default.getIntl(),e));if(1===t.length)return i.a.createElement("span",null,i.a.createElement(F.FormattedMessage,{defaultMessage:"<b>{author}</b>",id:"activitySection.authorPhrase.forOneAuthor.label",values:{author:t[0],b:(...e)=>i.a.createElement("span",{style:G},e)}}));if(2===t.length)return i.a.createElement("span",null,i.a.createElement(F.FormattedMessage,{defaultMessage:"<b>{firstAuthor}</b> and <b>{secondAuthor}</b>",id:"activitySection.authorPhrase.forTwoAuthors.label",values:{firstAuthor:t[0],secondAuthor:t[1],b:(...e)=>i.a.createElement("span",{style:G},e)}}));if(t.length>2){const e=i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfOtherAuthors, plural, one {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, and {numberOfOtherAuthors} other} other {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, and {numberOfOtherAuthors} others}}",id:"activitySection.authorPhrase.forMoreThanTwoAuthors.label",values:{numberOfOtherAuthors:t.length-2,firstAuthor:t[0],secondAuthor:t[1],b:(...e)=>i.a.createElement("span",{style:G},e)}});return i.a.createElement("span",null,e)}return i.a.createElement("span",{style:G},i.a.createElement(F.FormattedMessage,{defaultMessage:"Nobody",id:"activitySection.authorPhrase.forNoAuthors.label"}))}var $=W,ee=n("6d3V"),te=n("IdSf"),ne=n("zEGb"),oe=n("NNnf"),re=n("Oy36"),ae=n("OxuQ"),ie=n("bxQm");class se extends _.a{constructor(){super(...arguments),this.storeTypes={open:Y.a.of(!1)},this.handleOpen=()=>{this.stores.open.set(!0)}}renderComponent(){return this.stores.open.get()?i.a.createElement("div",null,this.props.items):this.props.items.length<=this.props.visible?i.a.createElement("div",null,this.props.items):i.a.createElement("div",null,this.props.items.slice(0,this.props.visible),i.a.createElement(N.a,{onClick:this.handleOpen,style:this.getStyle()},i.a.createElement(F.FormattedMessage,{defaultMessage:"View {moreCount} more",id:"activity.viewMoreButton.label",values:{moreCount:this.props.items.length-this.props.visible}})))}getStyle(){return{display:"flex",alignItems:"center",height:28,fontSize:12,color:this.theme.lightTextColor,padding:0,paddingLeft:52,paddingRight:16}}}var le=se,ce=n("AvkE"),de=n("6SEd"),ue=n("G+Ai"),pe=n("NoAG"),he=n("N34Z"),me=n("RJuv"),fe=n("tzmq"),ge=n("/buO"),be=n("qzno"),ve=n("QKT5"),ye=n("z22Z"),Se=n("Mr7a"),we=n("yisX"),ke=n("aEEb"),Ce=n("VhAz"),Me=n("Cycz"),Ee=n("r8MX");class _e extends _.a{constructor(){super(...arguments),this.storeTypes={role:Y.a.of(void 0)},this.handleGrantAccess=async()=>{const{targetBlockStore:e,accessRequestStore:t}=this.props,n=this.getInviteTargetWithNewPermissionItem();if(!("permissionItem"in n))return;const o=this.environment.currentUser.id;if(!o)return;if("type"in n){let t;if("existingUser"===n.type?t=await Se.c({environment:this.environment,store:e,inviteTargets:[n],inviteRole:n.permissionItem.role,isOnboarding:!1}):"bot"===n.type?t=await Se.c({environment:this.environment,store:e,inviteTargets:[n],inviteRole:n.permissionItem.role,isOnboarding:!1}):Object(Ce.e)(n),!t)return}z.createAndCommit(this.environment,r=>{"type"in n||Se.f({environment:this.environment,transaction:r,store:e,permissionItems:[n.permissionItem]}),he.d({store:t,transaction:r,data:{granted_time:Date.now(),granted_by_table:g.a,granted_by_id:o}})});const r=t.getValue(),a=r&&r.created_time&&r.granted_time?r.granted_time-r.created_time:void 0;v.Tb(this.environment,{requestId:r&&r.id,timeElapsedSinceRequest:a})},this.handleRoleChange=e=>this.stores.role.setState(e),this.handleArchive=()=>{const{notification:e}=this.props;e&&(z.createAndCommit(this.environment,t=>{Object(U.b)({notification:e,rootStore:this.props.accessRequestStore,transaction:t})}),v.Ub(this.environment))}}renderComponent(){const e=this.props.accessRequestStore.getValue();if(!e)return;if(Object(ve.c)(e))return this.renderGrantedAccessRequest(e);if(!this.canGrantAccess())return;const t=this.getCurrentPermissionItem();if(t){const n=this.renderActor(e.for_actor_table,e.for_actor_id),o=t.role===this.getRole();return i.a.createElement(i.a.Fragment,null,i.a.createElement(ke.a,{isSecondaryColor:!0,style:{marginBottom:6}},i.a.createElement(F.FormattedMessage,{defaultMessage:"{requestingUser} already has access.",id:"grantAccessActivityAction.alreadyHasAccess.label",description:"Shown if the user who requested access already has access",values:{requestingUser:n}})),i.a.createElement(we.a,{upgradeButtonName:"user_permission_item",role:this.getRole(),table:q.a,type:e.for_actor_table===g.a?"user_permission":"bot_permission",onChange:this.handleRoleChange,isInvite:!0,buttonStyle:this.getButtonStyle(!0)}),i.a.createElement(ie.a,{onClick:this.handleGrantAccess,style:this.getButtonStyle(o)},i.a.createElement(F.FormattedMessage,{defaultMessage:"Change",id:"grantAccessActivityAction.changePermissionButton.label"})),this.renderArchiveButton())}return i.a.createElement(i.a.Fragment,null,i.a.createElement(we.a,{upgradeButtonName:"user_permission_item",role:this.getRole(),table:q.a,type:e.for_actor_table===g.a?"user_permission":"bot_permission",onChange:this.handleRoleChange,isInvite:!0,buttonStyle:this.getButtonStyle(!1)}),i.a.createElement(ie.a,{onClick:this.handleGrantAccess,style:this.getButtonStyle(!1)},i.a.createElement(F.FormattedMessage,{defaultMessage:"Grant access",id:"grantAccessActivityAction.grantAccessButton.label"})),this.renderArchiveButton())}renderGrantedAccessRequest(e){const t=this.renderActor(e.granted_by_table,e.granted_by_id),n=Object(E.a)(Math.min(e.granted_time,Date.now())).calendar();return i.a.createElement(i.a.Fragment,null,i.a.createElement(ke.a,{isSecondaryColor:!0},i.a.createElement(F.FormattedMessage,{defaultMessage:"Approved by {grantedBy}",id:"grantAccessActivityAction.accessGranted.title",values:{grantedBy:t,time:n}})),i.a.createElement(ke.a,{isSmall:!0,isSecondaryColor:!0},n))}renderArchiveButton(){const{notification:e}=this.props;if(e&&!e.visited)return i.a.createElement(ie.a,{onClick:this.handleArchive,style:{height:26,paddingLeft:8,paddingRight:8}},i.a.createElement(F.FormattedMessage,{defaultMessage:"Ignore",id:"grantAccessActivityAction.ignoreButton.label"}))}getRole(){const e=this.getCurrentPermissionItem(),t=e&&e.role;return this.stores.role.state||t||this.props.initialRole}getNewPermissionItem(){const e=this.props.accessRequestStore.getValue();if(e)return e.for_actor_table===g.a?{type:"user_permission",user_id:e.for_actor_id,role:this.getRole()}:{type:"bot_permission",bot_id:e.for_actor_id,role:this.getRole()}}getInviteTargetWithNewPermissionItem(){const e=this.getNewPermissionItem();if(!e)return{};if(this.getCurrentPermissionItem())return{permissionItem:e};const{data:t}=Ee.default.state;if("user_permission"===e.type){const n=this.rootStore.getRecordValue({table:g.a,id:e.user_id}),o=(t?Me.v(t):[]).some(t=>t.userId===e.user_id);return n&&!o?{type:"existingUser",value:n,permissionItem:e}:{permissionItem:e}}if("bot_permission"===e.type){const n=this.rootStore.getRecordValue({table:ue.a,id:e.bot_id}),o=(t?Me.n(t):[]).some(t=>t.botId===e.bot_id);return n&&!o?{type:"bot",value:n,permissionItem:e}:{permissionItem:e}}Object(Ce.e)(e)}getCurrentPermissionItem(){const e=this.props.accessRequestStore.getValue();if(!e)return;const t=this.props.targetBlockStore.getPermissionItems();for(const n of t){if(e.for_actor_table===g.a&&Object(ye.q)(n)&&n.user_id===e.for_actor_id)return n;if(e.for_actor_table===ue.a&&Object(ye.g)(n)&&n.bot_id===e.for_actor_id)return n}}canGrantAccess(){return this.props.targetBlockStore.canAdmin()}renderActor(e,t){return Q(r.a.compact([this.getActor(e,t)]))}getActor(e,t){if(e===g.a){const n=this.rootStore.getRecordValue({table:e,id:t});if(n)return Object(D.j)(n)}if(e===ue.a){const n=this.rootStore.getRecordValue({table:e,id:t});if(n)return Object(D.g)(n)}}get rootStore(){return this.props.accessRequestStore}getButtonStyle(e){const t={height:26,paddingLeft:8,paddingRight:8,boxShadow:this.theme.plainButtonBoxShadow,fontSize:12,marginRight:10};return e?t:{...t,color:this.theme.regularTextColor,fontWeight:500}}}var Te=_e;const xe=i.a.createElement("div",{style:{width:5,display:"inline-block"}});class Ie extends _.a{constructor(){super(...arguments),this.renderBlockEdit=(e,t,n)=>{const o=this.getRecordValue({table:q.a,id:e.block_id}),r=o?Object(S.j)({table:"block",value:o,getRecordValue:this.getRecordValue}):"/";return"block-deleted"===e.type?e.block_data.block_value.type===p.a.page?i.a.createElement(te.a,{key:t,href:r,onClick:()=>this.track("block_edit"),innerStyle:Ie.editButtonStyle},i.a.createElement(ee.a,{edit:e,rootStore:this.props.rootStore})):i.a.createElement("div",{key:t,style:Ie.editButtonStyle},i.a.createElement(ee.a,{edit:e,rootStore:this.props.rootStore})):i.a.createElement(te.a,{key:t,href:r,onClick:()=>this.track("block_edit"),innerStyle:Ie.editButtonStyle},i.a.createElement(ee.a,{edit:e,rootStore:this.props.rootStore}))},this.handleUnfollow=()=>this.setFollowing(!1),this.handleFollow=()=>this.setFollowing(!0),this.handleUnarchive=()=>{const{notification:e,rootStore:t}=this.props;e&&z.createAndCommit(this.environment,n=>{U.d({notificationId:e.id,visited:!1,rootStore:t,transaction:n})})},this.getUserValue=e=>d.a.createChildStore(this.props.rootStore,{table:g.a,id:e}).getValue(),this.getBotValue=e=>Object(c.c)(this.props.rootStore,{table:ue.a,id:e}).getValue(),this.getAuthorActor=e=>{if(e.table===g.a){const t=this.getUserValue(e.id);if(t)return Object(D.j)(t)}else{const t=this.getBotValue(e.id);if(t)return Object(D.g)(t)}},this.getSpaceValue=e=>u.a.createChildStore(this.props.rootStore,{table:f.a,id:e}).getValue(),this.getDiscussionContextAndId=()=>{const{activity:e}=this.props;if("commented"!==e.type)return;const t=this.getRecordValue({table:m.a,id:e.discussion_id});if(!t)return;if(!t.context)return;const n=Object(M.s)(t.context,e=>!Object(M.rb)(e)||Object(M.L)(e)===t.id);return{id:t.id,context:n}},this.getDiscussionContext=()=>{const e=this.getDiscussionContextAndId();if(e)return e.context}}willMountOrUpdate(){this.warmCommentData(),this.environment.KatexStore.loadIfNeeded(this.getDiscussionContext)}warmCommentData(){if("commented"===this.props.activity.type){const e=Object(c.c)(this.props.rootStore,{table:m.a,id:this.props.activity.discussion_id}).getValue();if(e){const t=e.comments||[];for(const e of t){const t=Object(c.c)(this.props.rootStore,{table:h.a,id:e}).getValue();if(t&&t.created_by_table&&t.created_by_id){Object(c.c)(this.props.rootStore,{table:t.created_by_table,id:t.created_by_id}).getValue()}}}}}renderComponent(){const{activity:e}=this.props;switch(e.type){case"block-edited":return this.renderBlockEditActivity(e);case"collection-row-created":case"collection-row-deleted":return this.renderCollectionRowActivity(e);case"top-level-block-created":case"top-level-block-deleted":return this.renderTopLevelBlockActivity(e);case"permissions-edited":return this.renderPermissionsActivity(e);case"permission-group-edited":return this.renderPermissionGroupActivity(e);case"user-mentioned":return this.renderMentionActivity(e);case"commented":return this.renderCommentActivity(e);case"user-invited":return this.renderUserInvitedActivity(e);case"collection-edited":return this.renderCollectionEdited(e);case"collection-view-edited":return this.renderCollectionViewEdited(e);case"collection-property-edited":return this.renderCollectionPropertyEdited(e);case"reminder":return this.renderReminderActivity(e);case"page-locked":case"page-unlocked":return this.renderPageLockActivity(e);case"email-edited":return this.renderEmailEdited(e);case"access-requested":return this.renderAccessRequested(e)}}renderBlockEditActivity(e){if(!e.edits)return;const t=Object(b.a)(e.edits);if(0===t.length)return;const n=this.getBlockValue(t[0].navigable_block_id);if(!n)return;const o=this.getAuthors(t),r=Q(o),a=this.renderTitle("block",n);return i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited {pageTitle}} other {{authorOrAuthors} edited {pageTitle}}}",id:"activity.blockEdited.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)",values:{numberOfAuthors:o.length,authorOrAuthors:r,pageTitle:a}})),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(n.id,"block"),rootStore:this.props.rootStore,navigableBlockId:n.id,notification:this.props.notification,icon:i.a.createElement(K,{authors:o}),showSnapshotButton:this.props.isTopbarUpdatesMenu},i.a.createElement(le,{visible:5,items:t.map(this.renderBlockEdit)}),this.renderNotificationActions())}renderCollectionRowActivity(e){if(!e.edits)return;const t=e.edits[0],n=this.getBlockValue(e.collection_row_id);if(!n)return;if(!n.properties)return;const o=this.getAuthors(e.edits),r=Q(o),a=this.renderTitle("block",n),s="collection-row-created"===t.type?i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created {pageTitle}} other {{authorOrAuthors} created {pageTitle}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,pageTitle:a},id:"activity.collectionRowCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted {pageTitle}} other {{authorOrAuthors} deleted {pageTitle}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,pageTitle:a},id:"activity.collectionRowDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});return i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,s),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(n.id,"block"),rootStore:this.props.rootStore,navigableBlockId:n.id,notification:this.props.notification,icon:i.a.createElement(K,{authors:o}),showSnapshotButton:this.props.isTopbarUpdatesMenu},this.renderNotificationActions())}renderTopLevelBlockActivity(e){if(!e.edits)return;const t=e.edits[0],n=this.getBlockValue(e.top_level_block_id);if(!n)return;const o=Object(S.n)(n),r=this.getAuthors(e.edits),a=Q(r),s=this.renderTitle("block",n);let l;return l=o?"top-level-block-created"===t.type?i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created workspace page {pageTitle}} other {{authorOrAuthors} created workspace page {pageTitle}}}",values:{numberOfAuthors:r.length,authorOrAuthors:a,pageTitle:s},id:"activity.topLevelBlockWorkspaceCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted workspace page {pageTitle}} other {{authorOrAuthors} deleted workspace page {pageTitle}}}",values:{numberOfAuthors:r.length,authorOrAuthors:a,pageTitle:s},id:"activity.topLevelBlockWorkspaceDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):"top-level-block-created"===t.type?i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created private page {pageTitle}} other {{authorOrAuthors} created private page {pageTitle}}}",values:{numberOfAuthors:r.length,authorOrAuthors:a,pageTitle:s},id:"activity.topLevelBlockPrivateCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted private page {pageTitle}} other {{authorOrAuthors} deleted private page {pageTitle}}}",values:{numberOfAuthors:r.length,authorOrAuthors:a,pageTitle:s},id:"activity.topLevelBlockPrivateDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}),i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,l),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(n.id,"block"),rootStore:this.props.rootStore,notification:this.props.notification,icon:i.a.createElement(K,{authors:r}),showSnapshotButton:!1})}renderPermissionsActivity(e){if(!e.edits)return;const t=Object(b.a)(e.edits);if(0===t.length)return;let n,o;const r=t[0];if(r.navigable_block_id){const e=this.getBlockValue(r.navigable_block_id);if(!e)return;o=this.renderTitle("block",e),n=this.getIsRecordPrivateToUser(e.id,"block")}else{const e=this.getSpaceValue(r.space_id);if(!e)return;o=this.renderTitle("space",e),n=this.getIsRecordPrivateToUser(r.space_id,"space")}const{autojoinEdits:a,inheritanceEdits:s,otherEdits:l}=ce.i(e.edits),c=[];if(a.forEach((e,t)=>{const r=this.getAuthors([e]),a=Q(r);c.push(i.a.createElement($,{key:"autojoin-".concat(t),timestamp:e.timestamp,header:i.a.createElement("span",null,i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} joined {pageOrSpaceName}} other {{authorOrAuthors} joined {pageOrSpaceName}}}",values:{numberOfAuthors:r.length,authorOrAuthors:a,pageOrSpaceName:o},id:"activity.permissionsActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:this.props.isLast,isPrivate:n,rootStore:this.props.rootStore,navigableBlockId:e.navigable_block_id,notification:this.props.notification,icon:i.a.createElement(K,{authors:r}),showSnapshotButton:!1}))}),s.forEach((t,r)=>{const a=this.getAuthors([t]),s=Q(a);let l;"permission-restriction-created"===t.type?l=i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restricted access for {pageOrSpaceName}} other {{authorOrAuthors} restricted access for {pageOrSpaceName}}}",values:{numberOfAuthors:a.length,authorOrAuthors:s,pageOrSpaceName:o},id:"activity.restrictPermissionsForActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):"permission-restriction-deleted"===t.type&&(l=i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restored inherited access for {pageOrSpaceName}} other {{authorOrAuthors} restored inherited access for {pageOrSpaceName}}}",values:{numberOfAuthors:a.length,authorOrAuthors:s,pageOrSpaceName:o},id:"activity.restorePermissionsForActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),c.push(i.a.createElement($,{key:"inheritance-".concat(r),timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,l),isLast:this.props.isLast,isPrivate:n,rootStore:this.props.rootStore,navigableBlockId:t.navigable_block_id,notification:this.props.notification,icon:i.a.createElement(K,{authors:a}),showSnapshotButton:!1},i.a.createElement("div",{style:Ie.editButtonStyle},i.a.createElement(ee.a,{edit:t,rootStore:this.props.rootStore})),this.renderNotificationActions()))}),l.length>0){const t=this.getAuthors(l),a=Q(t);c.push(i.a.createElement($,{key:"others",timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated permission for {pageOrSpaceName}} other {{authorOrAuthors} updated permission for {pageOrSpaceName}}}",values:{numberOfAuthors:t.length,authorOrAuthors:a,pageOrSpaceName:o},id:"activity.updatedPermissionsForActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:this.props.isLast,isPrivate:n,rootStore:this.props.rootStore,navigableBlockId:r.navigable_block_id,notification:this.props.notification,icon:i.a.createElement(K,{authors:t}),showSnapshotButton:!1},l.map((e,t,n)=>i.a.createElement("div",{key:t,style:Ie.editButtonStyle},i.a.createElement(ee.a,{key:t,edit:e,rootStore:this.props.rootStore}))),this.renderNotificationActions()))}return c}renderPermissionGroupActivity(e){if(!e.edits)return;const t=Object(b.a)(e.edits)[0];if(!t)return;const n=this.getSpaceValue(t.space_id);if(!n)return;const o=Object(S.j)({table:"space",value:n,getRecordValue:this.getRecordValue}),r=this.renderPermissionGroupTitle(Object(oe.e)({activity:e,getRecordValue:this.getRecordValue}),e.space_id),a=this.getAuthors(e.edits);return i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,this.renderPermissionGroupEditedHeader({activity:e,authors:a,groupName:r})),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(e.space_id,"space"),rootStore:this.props.rootStore,notification:this.props.notification,icon:i.a.createElement(K,{authors:a}),showSnapshotButton:!1},i.a.createElement(te.a,{href:o,onClick:()=>this.track("group_edit"),innerStyle:Ie.editButtonStyle},i.a.createElement(ee.a,{edit:t,rootStore:this.props.rootStore})),this.renderNotificationActions())}renderMentionActivity(e){if(!e.edits)return;const t=e.edits[0],n=this.getBlockValue(t.navigable_block_id);if(!n)return;const o=this.getBlockValue(e.mentioned_block_id);if(!o)return;const r=Object(S.j)({table:"block",value:o,getRecordValue:this.getRecordValue}),a=this.getAuthors(e.edits),s=Q(a);return i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you in {pageName}} other {{authorOrAuthors} mentioned you in {pageName}}}",values:{numberOfAuthors:a.length,authorOrAuthors:s,pageName:this.renderTitle("block",n)},id:"activity.mentionActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(n.id,"block"),rootStore:this.props.rootStore,navigableBlockId:n.id,notification:this.props.notification,icon:i.a.createElement(K,{authors:a}),showSnapshotButton:!1},i.a.createElement(te.a,{href:r,onClick:()=>this.track("mention_edit"),innerStyle:Ie.editButtonStyle},i.a.createElement(ee.a,{edit:t,rootStore:this.props.rootStore})),this.renderNotificationActions())}renderCommentActivity(e){if(!e.edits)return;const t=Object(c.c)(this.props.rootStore,{table:m.a,id:e.discussion_id}),n=t.getValue();if(!n)return;const o=s.a.createChildStore(this.props.rootStore,{table:q.a,id:n.parent_id}),r=Object(k.g)(o),a=Object(k.l)(r),l=o.getValue();if(!l)return;const d=this.getBlockValue(e.navigable_block_id);if(!d)return;const u=a?Object(S.j)({table:"block",value:l,getRecordValue:this.getRecordValue,discussionId:e.discussion_id}):void 0,p=this.getAuthors(e.edits),h=Q(p),f=e=>{if(this.track("comment_edit"),!a){const n=e.target;Object(y.c)({environment:this.environment,discussionStore:t,rect:n.getBoundingClientRect(),blockStore:o})}};return i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented in {blockName}} other {{authorOrAuthors} commented in {blockName}}}",values:{numberOfAuthors:p.length,authorOrAuthors:h,blockName:this.renderTitle("block",d)},id:"activity.commentActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(e.navigable_block_id,"block"),rootStore:this.props.rootStore,navigableBlockId:e.navigable_block_id,notification:this.props.notification,icon:i.a.createElement(K,{authors:p}),showSnapshotButton:!1},this.renderCommentContext({activity:e,url:u,onClick:f}),i.a.createElement(le,{visible:5,items:e.edits.map((e,t,n)=>i.a.createElement(te.a,{key:t,onClick:f,href:u,innerStyle:Ie.editButtonStyle},i.a.createElement(ee.a,{edit:e,rootStore:this.props.rootStore})))}),this.renderCommentActions(e,a))}renderCommentContext(e){const{url:t,onClick:n}=e,o=this.getDiscussionContextAndId();if(!o)return;const{id:r,context:a}=o,s=0===Object(M.M)(a).length,l=Object(w.l)({environment:this.environment,textValue:a,parentStore:this.props.rootStore,disableHover:!0,disableStyleAnnotations:!1,disableDateStyleAnnotations:!1,disabled:!0,highlightDiscussionId:r,theme:this.theme,emojiType:Object(fe.a)(this.environment),katex:this.environment.KatexStore.getKatex()});return i.a.createElement(te.a,{href:t,onClick:n,innerStyle:{...Ie.editButtonStyle,display:"flex",alignItems:"flex-start",fontSize:14,...s&&{color:this.theme.mediumTextColor},paddingTop:2,paddingBottom:6,marginBottom:0}},s&&i.a.createElement("div",{style:{flexShrink:0,alignSelf:"center",width:3,borderRadius:3,marginLeft:2,marginRight:8,height:20,background:B.e}}),i.a.createElement("div",{style:{...L.a.textOverflowStyle}},l))}renderCommentActions(e,t){const n=this.getRecordValue({table:m.a,id:e.discussion_id});if(!n)return;const o=Object(c.c)(this.props.rootStore,{table:m.a,id:n.id}),r=s.a.createChildStore(this.props.rootStore,{table:q.a,id:n.parent_id});return i.a.createElement("div",{style:{paddingLeft:52,paddingTop:12,paddingBottom:4}},i.a.createElement(ie.a,{onClick:e=>{const t=e.target;Object(y.c)({environment:this.environment,discussionStore:o,rect:t.getBoundingClientRect(),blockStore:r})},style:this.getActionButtonStyle()},i.a.createElement(F.FormattedMessage,{defaultMessage:"Reply",id:"activity.replyButton.label"})),this.canUnarchive()&&i.a.createElement(a.Fragment,null,xe,i.a.createElement(ie.a,{onClick:this.handleUnarchive,style:this.getActionSecondaryButtonStyle()},i.a.createElement(F.FormattedMessage,{defaultMessage:"Unarchive",id:"activity.unarchiveButton.label"}))))}renderAccessRequstedActions(e){const{rootStore:t}=this.props;if(!(e.edits||[])[0])return;const n=Object(c.c)(t,{table:ve.a,id:e.access_request_id}),o=n.getValue();if(!o||o.parent_table!==q.a)return;const r=s.a.createChildStore(t,{table:q.a,id:o.parent_id});return r.canAdmin()?i.a.createElement("div",{style:Ie.actionPrimaryContainerStyle},i.a.createElement(Te,{accessRequestStore:n,targetBlockStore:r,initialRole:"reader",buttonStyle:this.getActionButtonStyle(),notification:this.props.notification})):void 0}renderNotificationActions(){if(this.canUnarchive())return i.a.createElement("div",{style:Ie.actionContainerStyle},i.a.createElement(ie.a,{onClick:this.handleUnarchive,style:this.getActionSecondaryButtonStyle()},i.a.createElement(F.FormattedMessage,{defaultMessage:"Unarchive",id:"activity.actions.unarchiveButton.label"})));const e=this.getFollowStore();if(!e)return;const t=e.getValue();return t?t.following?i.a.createElement("div",{style:Ie.actionPrimaryContainerStyle},i.a.createElement(ie.a,{onClick:this.handleUnfollow,style:this.getActionButtonStyle()},i.a.createElement(F.FormattedMessage,{defaultMessage:"Unfollow this page",id:"activity.unfollowPageButton.label"}))):i.a.createElement("div",{style:Ie.actionPrimaryContainerStyle},i.a.createElement(ie.a,{onClick:this.handleFollow,style:this.getActionButtonStyle()},i.a.createElement(F.FormattedMessage,{defaultMessage:"Re-follow this page",id:"activity.refollowPageButton.label"}))):void 0}renderUserInvitedActivity(e){if(!e.edits)return;let t,n;const o=this.getAuthors(e.edits),r=Q(o),a=0===o.filter(D.f).length,s=e.edits[0];if(s.navigable_block_id){const e=this.getBlockValue(s.navigable_block_id);if(!e)return;const l=this.renderTitle("block",e);n=a?i.a.createElement(F.FormattedMessage,{defaultMessage:"You have been invited to {blockName}",values:{blockName:l},id:"activity.userInvitedActivityNavigableBlockByBot.header"}):i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to {blockName}} other {{authorOrAuthors} invited you to {blockName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,blockName:l},id:"activity.userInvitedActivityNavigableBlock.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}),t=this.getIsRecordPrivateToUser(e.id,"block")}else if(s.permission_group_id){const e=Object(oe.d)({spaceId:s.space_id,permissionGroupId:s.permission_group_id,getRecordValue:this.getRecordValue}),l=this.renderPermissionGroupTitle(e,s.space_id);n=a?i.a.createElement(F.FormattedMessage,{defaultMessage:"You have been added to group {groupName}}}",values:{groupName:l},id:"activity.userInvitedActivityGroupIdByBot.header"}):i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to group {groupName}} other {{authorOrAuthors} added you to group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,groupName:l},id:"activity.userInvitedActivityGroupId.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}),t=this.getIsRecordPrivateToUser(s.space_id,"space")}else{const e=this.getSpaceValue(s.space_id);if(!e)return;const l=this.renderTitle("space",e);n=a?i.a.createElement(F.FormattedMessage,{defaultMessage:"You have been invited to {spaceName}",values:{spaceName:l},id:"activity.userInvitedActivityOtherInviteByBot.header"}):i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to {spaceName}} other {{authorOrAuthors} invited you to {spaceName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,spaceName:l},id:"activity.userInvitedActivityOtherInvite.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}),t=this.getIsRecordPrivateToUser(s.space_id,"space")}const l=a?void 0:i.a.createElement(K,{authors:o});return i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,n),isLast:this.props.isLast,isPrivate:t,rootStore:this.props.rootStore,navigableBlockId:e.navigable_block_id,notification:this.props.notification,icon:l,showSnapshotButton:!1})}renderCollectionEdited(e){if(!e.edits)return;const t=this.getRecordValue({table:de.a,id:e.collection_id});if(!t)return;const n=e.edits[0];if(!n)return;const o=Object(S.j)({table:de.a,value:t,getRecordValue:this.getRecordValue}),r=this.getAuthors(e.edits),a=Q(r),s=this.renderTitle("collection",t),l="collection-created"===n.type?i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created {collectionTitle}} other {{authorOrAuthors} created {collectionTitle}}}",values:{numberOfAuthors:r.length,authorOrAuthors:a,collectionTitle:s},id:"activity.collectionCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited {collectionTitle}} other {{authorOrAuthors} edited {collectionTitle}}}",values:{numberOfAuthors:r.length,authorOrAuthors:a,collectionTitle:s},id:"activity.collectionEdited.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});return i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,l),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(e.collection_id,"collection"),rootStore:this.props.rootStore,navigableBlockId:e.navigable_block_id,notification:this.props.notification,icon:i.a.createElement(K,{authors:r}),showSnapshotButton:this.props.isTopbarUpdatesMenu},ce.e(n)&&this.renderCollectionDescriptionEdit(n,o),this.renderNotificationActions())}renderCollectionDescriptionEdit(e,t){return i.a.createElement(te.a,{href:t,innerStyle:Ie.editButtonStyle},i.a.createElement(ee.a,{edit:e,rootStore:this.props.rootStore}))}renderCollectionViewEdited(e){if(!e.edits)return;const t=this.getRecordValue({table:de.a,id:e.collection_id});if(!t)return;const n=this.getRecordValue({table:pe.a,id:e.collection_view_id});if(!n)return;const o=Object(b.a)(e.edits)[0];if(!o)return;const r=this.renderCollectionViewTitle(n),a=this.renderTitle("collection",t),s=this.getAuthors(e.edits),l=Q(s);let c;return c="collection-view-created"===o.type?i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} created view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:s.length,authorOrAuthors:l,collectionTitle:a,collectionViewTitle:r},id:"activity.collectionViewCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):"collection-view-deleted"===o.type?i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} deleted view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:s.length,authorOrAuthors:l,collectionTitle:a,collectionViewTitle:r},id:"activity.collectionViewDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} edited view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:s.length,authorOrAuthors:l,collectionTitle:a,collectionViewTitle:r},id:"activity.collectionViewEdited.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}),i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,c),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(e.collection_id,"collection"),rootStore:this.props.rootStore,navigableBlockId:e.navigable_block_id,notification:this.props.notification,icon:i.a.createElement(K,{authors:s}),showSnapshotButton:this.props.isTopbarUpdatesMenu},this.renderNotificationActions())}renderCollectionPropertyEdited(e){if(!e.edits)return;const t=Object(b.a)(e.edits)[0];if(!t)return;const n=this.getRecordValue({table:de.a,id:e.collection_id});if(!n)return;const o="collection-property-changed"===t.type?t.collection_property_data.after:t.collection_property_data,r=this.getAuthors(e.edits),a=Q(r),s=this.renderTitle("collection",n),l=this.renderCollectionPropertyTitle(o);let c;return c="collection-property-created"===t.type?i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} created property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:r.length,authorOrAuthors:a,collectionTitle:s,collectionPropertyTitle:l},id:"activity.collectionPropertyCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):"collection-property-deleted"===t.type?i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} deleted property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:r.length,authorOrAuthors:a,collectionTitle:s,collectionPropertyTitle:l},id:"activity.collectionPropertyDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} edited property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:r.length,authorOrAuthors:a,collectionTitle:s,collectionPropertyTitle:l},id:"activity.collectionPropertyEdited.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}),i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,c),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(e.collection_id,"collection"),rootStore:this.props.rootStore,navigableBlockId:e.navigable_block_id,notification:this.props.notification,icon:i.a.createElement(K,{authors:r}),showSnapshotButton:this.props.isTopbarUpdatesMenu},this.renderNotificationActions())}renderReminderActivity(e){if(!e.edits)return;const t=e.edits[0],n=this.getBlockValue(t.navigable_block_id);if(!n)return;const o=this.getBlockValue(e.reminder_block_id);if(!o)return;const r=Object(S.j)({table:"block",value:o,getRecordValue:this.getRecordValue});return i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,i.a.createElement(F.FormattedMessage,{defaultMessage:"Reminder in {pageTitle}",id:"activity.reminderInActivity.header",values:{pageTitle:this.renderTitle("block",n)}})),isLast:this.props.isLast,isPrivate:this.getIsRecordPrivateToUser(n.id,"block"),rootStore:this.props.rootStore,navigableBlockId:n.id,notification:this.props.notification,icon:i.a.createElement(J,null),showSnapshotButton:!1},i.a.createElement(te.a,{href:r,onClick:()=>this.track("reminder_edit"),innerStyle:Ie.editButtonStyle},i.a.createElement(ee.a,{edit:t,rootStore:this.props.rootStore})),this.renderNotificationActions())}renderPageLockActivity(e){if(!e.edits)return;const t=e.edits[0],n=this.getBlockValue(t.navigable_block_id);if(!n)return;const o=this.getAuthors(e.edits),r=Q(o),a=this.renderTitle("block",n),s="page-locked"===e.type?i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} locked {blockTitle}} other {{authorOrAuthors} locked {blockTitle}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,blockTitle:a},id:"activity.pageLocked.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} unlocked {blockTitle}} other {{authorOrAuthors} unlocked {blockTitle}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,blockTitle:a},id:"activity.pageUnlocked.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});return i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,s),isPrivate:this.getIsRecordPrivateToUser(n.id,"block"),isLast:this.props.isLast,rootStore:this.props.rootStore,navigableBlockId:n.id,notification:this.props.notification,icon:i.a.createElement(K,{authors:o}),showSnapshotButton:!1},this.renderNotificationActions())}renderEmailEdited(e){if(!e.edits)return;const t=e.edits[0];if(!t)return;const n=this.getAuthors(e.edits),o=Q(n);return i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} changed email from {oldEmail} to {newEmail}} other {{authorOrAuthors} changed email from {oldEmail} to {newEmail}}}",values:{authorOrAuthors:o,numberOfAuthors:n.length,oldEmail:t.old_email,newEmail:t.new_email},id:"activity.emailEdited.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:this.props.isLast,isPrivate:!1,rootStore:this.props.rootStore,notification:this.props.notification,icon:i.a.createElement(K,{authors:n}),showSnapshotButton:!1})}renderAccessRequested(e){if(!Object(C.f)(this.environment))return;if(!e.edits)return;const t=e.edits[0];if(!t)return;const n=this.getBlockValue(e.navigable_block_id);if(!n)return;const o=this.getAuthors(e.edits),r=Q(o),{message:a}=t;return i.a.createElement($,{timestamp:parseInt(e.end_time),header:i.a.createElement("span",null,i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} requested access to {pageName}} other {{authorOrAuthors} requsted access to {pageName}}}",values:{authorOrAuthors:r,numberOfAuthors:o.length,pageName:this.renderTitle(q.a,n)},id:"activity.accessRequested.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:this.props.isLast,isPrivate:!1,rootStore:this.props.rootStore,notification:this.props.notification,icon:i.a.createElement(K,{authors:o}),showSnapshotButton:!1},a&&i.a.createElement("div",{style:{paddingLeft:52,paddingRight:16,marginTop:8,marginBottom:8}},i.a.createElement(ke.a,{isSmall:!0},i.a.createElement(F.FormattedMessage,{id:"activity.accessRequested.messageLabel",defaultMessage:"Message from {author}",values:{author:r}})),i.a.createElement(ke.a,{isMultiline:!0,style:{whiteSpace:"pre-wrap"}},a)),this.renderAccessRequstedActions(e),this.renderNotificationActions())}renderCollectionPropertyTitle(e){return i.a.createElement("span",{style:{...Ie.boldStyle,whiteSpace:"nowrap"}},i.a.createElement(ne.a,{type:e.type,size:12,style:Ie.svgIconStyle,theme:this.theme,isDark:!0})," ",e.name)}renderCollectionViewTitle(e){const t=Object(S.d)({collectionView:e,getRecordValue:this.getRecordValue});return i.a.createElement(te.a,{href:t,onClick:()=>this.track("click_title"),external:!1,innerStyle:{...Ie.pageLinkStyle,...Ie.boldStyle},inline:!0},this.renderCollectionViewTypeIcon(e.type)," ",i.a.createElement(ge.a,{collectionViewName:e.name,collectionViewType:e.type}))}renderCollectionViewTypeIcon(e){const t=Ie.svgIconStyle;return be.g[e](t)}getStore(e,t){return"collection"===e?l.a.createChildStore(this.props.rootStore,{table:de.a,id:t}):"space"===e?u.a.createChildStore(this.props.rootStore,{table:f.a,id:t}):s.a.createChildStore(this.props.rootStore,{table:q.a,id:t})}renderTitle(e,t){const n=this.getStore(e,t.id),o=Object(S.g)({table:e,value:t,getRecordValue:this.getRecordValue}),r=Object(S.j)({table:e,value:t,getRecordValue:this.getRecordValue});return i.a.createElement(te.a,{href:r,onClick:()=>this.track("click_title"),external:!1,innerStyle:Ie.pageLinkStyle,inline:!0},o&&i.a.createElement(re.a,{disabled:!0,icon:o,isEmptyPage:!1,size:18,style:Ie.recordIconStyle}),i.a.createElement(ae.a,{store:n,style:{display:"inline",whiteSpace:"normal",marginRight:Boolean(o)?3:0,wordBreak:"break-word",...Ie.boldStyle}}))}renderPermissionGroupTitle(e,t){let n,o;return e?(n=e.icon,o=e.name||i.a.createElement(F.FormattedMessage,{defaultMessage:"Untitled group",id:"activity.permissionGroupTitles.untitledGroup"})):o=i.a.createElement(F.FormattedMessage,{defaultMessage:"Deleted group",id:"activity.permissionGroupTitles.deletedGroup"}),i.a.createElement("span",null,n&&i.a.createElement(re.a,{disabled:!0,icon:{icon:n,pointer:{table:"space",id:t}},isEmptyPage:!1,size:18,style:Ie.recordIconStyle}),i.a.createElement("span",{style:{display:"inline",whiteSpace:"normal",marginRight:Boolean(n)?3:0,wordBreak:"break-word",...Ie.boldStyle}},o))}renderPermissionGroupEditedHeader(e){const{activity:t,authors:n,groupName:o}=e,r=Q(n),a=Object(b.a)(t.edits||[])[0];return a?"permission-group-created"===a.type?i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created group {groupName}} other {{authorOrAuthors} created group {groupName}}}",values:{numberOfAuthors:n.length,authorOrAuthors:r,groupName:i.a.createElement("span",{style:Ie.boldStyle},o)},id:"activity.updatedPermissionGroupCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):"permission-group-deleted"===a.type?i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted group {groupName}} other {{authorOrAuthors} deleted group {groupName}}}",values:{numberOfAuthors:n.length,authorOrAuthors:r,groupName:i.a.createElement("span",{style:Ie.boldStyle},o)},id:"activity.updatedPermissionGroupDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited group {groupName}} other {{authorOrAuthors} edited group {groupName}}}",values:{numberOfAuthors:n.length,authorOrAuthors:r,groupName:i.a.createElement("span",{style:Ie.boldStyle},o)},id:"activity.updatedPermissionGroupEditedDefault.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):i.a.createElement(F.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited group {groupName}} other {{authorOrAuthors} edited group {groupName}}}",values:{numberOfAuthors:n.length,authorOrAuthors:r,groupName:i.a.createElement("span",{style:Ie.boldStyle},o)},id:"activity.updatedPermissionGroupEdit.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})}canUnarchive(){const{notification:e}=this.props;return!!e&&!!e.visited}getFollowStore(){if("following"!==X.a.state.currentTab)return;const{notification:e}=this.props;if(!e)return;let t=e.navigable_block_id;if(!t){if(!e.collection_id)return;const n=Object(c.c)(this.props.rootStore,{table:de.a,id:e.collection_id}).getValue();if(!n)return;t=n.parent_id}const n=this.environment.currentUser.id;if(!n)return;const o=Object(me.c)({user_id:n,navigable_block_id:t});return Object(c.c)(this.props.rootStore,{table:me.a,id:o})}setFollowing(e){const t=this.getFollowStore();t&&z.createAndCommit(this.environment,n=>{he.d({store:t,transaction:n,data:{following:e}})})}get getRecordValue(){return this.props.rootStore.getRecordValue}getBlockValue(e){return s.a.createChildStore(this.props.rootStore,{table:q.a,id:e}).getValue()}getAuthors(e){const t=r.a.uniqWith(r.a.flatten(e.map(e=>e.authors||[])),r.a.isEqual);return r.a.compact(t.map(this.getAuthorActor))}track(e){Object(v.h)(this.environment,this.props.analyticsContext,{target:e,type:ce.f(this.props.activity)})}getIsRecordPrivateToUser(e,t){const{source:n}=this.props;if("all_updates"===n){if(!e)return!1;let n;return n="block"===t?s.a.createChildStore(this.props.rootStore,{table:q.a,id:e}):"collection"===t?l.a.createChildStore(this.props.rootStore,{table:de.a,id:e}):u.a.createChildStore(this.props.rootStore,{table:f.a,id:e}),Object(C.e)(this.environment,n)}return!1}getActionButtonStyle(){return{boxShadow:this.theme.plainButtonBoxShadow,height:26,paddingLeft:8,paddingRight:8,fontWeight:500,color:this.theme.regularTextColor}}getActionSecondaryButtonStyle(){return{height:26,paddingLeft:8,paddingRight:8,color:this.theme.mediumTextColor}}}Ie.actionContainerStyle={paddingLeft:44,paddingTop:4},Ie.actionPrimaryContainerStyle={paddingLeft:52,paddingTop:12,paddingBottom:8},Ie.canSelectStyle={userSelect:"text",WebkitUserSelect:"text"},Ie.boldStyle={fontWeight:L.a.fontWeight.semibold},Ie.pageLinkStyle={padding:1,...Ie.canSelectStyle},Ie.recordIconStyle={display:"inline-flex",marginRight:2,verticalAlign:"text-top"},Ie.svgIconStyle={width:12,height:12,display:"inline",verticalAlign:"middle",marginBottom:2,marginLeft:2},Ie.editButtonStyle={padding:0,paddingLeft:52,paddingRight:16,...Ie.canSelectStyle};t.a=Ie},pFdg:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));n("3bBZ"),n("UxlC"),n("E9XD");var o=n("LvDl"),r=n.n(o);function a(e){return new class extends class{}{constructor(){super(...arguments),this.validator=e}}}function i(e,t){const n=e.validator;return a(e=>n(e)||t(e))}class s{constructor(){this.failures=new Set,this.subtree=new Map}}function l(e){const t=void 0===e?"undefined":JSON.stringify(e),n=t.slice(0,55),o=n.length<t.length?"...":"",r=n.replace(/`/g,"\\`");return"`".concat(r).concat(o,"`")}const c={not:(...e)=>t=>{if(!1===t)return null;return[{claim:function(e,...t){let n="";for(const o in e)if(n+=e[o],o in t){n+=l(t[o])}return n}(...e),path:[]}]},noneOf:(e,t)=>{if(0===e.length)throw new Error("No types provided.");const n=[];for(const o of e){const e=o.validator(t);if(!e)return null;n.push(...e)}return n},keyIsNot:(e,t,n)=>{let o=e.validator(n[t]);return o&&(o=o.map(({path:e,...n})=>({...n,path:[t,...e]}))),o},anyFails:(e,t)=>{for(const n of e.keys()){const o=t(e[n],n,e);if(o)return o}return null}};function d(e,t,n){const o=function(e,t){return function e(t,n=[],o=[]){return t.failures.size>0&&(o=o.concat({path:n,isNots:[...t.failures]})),t.subtree.forEach((t,r)=>{o=e(t,n.concat(r),o)}),o}(e,[t])}(function(e){const t=new s;return e.forEach(({claim:e,path:n})=>{n.reduce((e,t)=>{let n=e.subtree.get(t);return void 0===n&&(n=new s,e.subtree.set(t,n)),n},t).failures.add(e)}),t}(t),n),a=o.map(e=>e.path.length),i=Math.max(...a),c=o.filter(e=>e.path.length===i);return[c.length>1?"".concat(n," failed validation. Fix one:"):"".concat(n," failed validation:"),...c.map(({path:t,isNots:n})=>{const o=function(e){let t="";for(const n of e){const e=String(n);let o;if("string"!=typeof n)o="[".concat(e,"]");else{o=""===t?e:".".concat(e)}t+=o}return t}(t),a=(s="or",(i=n).slice(0,-2).concat("").join(", ")+i.slice(-2).join("".concat(i.length>2?",":""," ").concat(s," ")));var i,s;const c=function(e,t){const n=t.slice(1);return l(n.length>0?r.a.get(e,n):e)}(e,t);return"".concat(o," should be ").concat(a,", instead was ").concat(c,".")})].join(" ")}const u=(e,t,n={})=>{const o=e.validator(t);if(o){const e=d(t,o,n.rootVariableName||"payload");return new Error(e)}}},pIip:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("LEzx"),r=n("lk/1");class a extends o.a{getInitialState(){return{inMemoryRecordCache:new r.a}}}},pQrc:function(e,t,n){"use strict";function o(e){if(e){const t=e.split("@",2);if(2===t.length)return t[1]}}n.d(t,"a",(function(){return o}))},pSmD:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isOpen:!1}}}t.a=r},pWI8:function(e,t,n){},pl8j:function(e,t,n){"use strict";var o=n("g4rC");t.a=new o.a},pqiZ:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR");class i extends a.a{renderComponent(){const{className:e,onClick:t}=this.props;return r.a.createElement("div",{style:this.getStyle(),className:e,onClick:t},r.a.createElement("div",{style:this.getInnerStyle()}))}getStyle(){const{size:e,style:t,vertical:n}=this.props;return{display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",width:n?e:"100%",height:n?"100%":e,flexGrow:0,flexShrink:0,flexBasis:"auto",...t}}getInnerStyle(){const{innerStyle:e,isHidden:t,vertical:n}=this.props;return{width:n?1:"100%",height:n?"100%":1,visibility:t?"hidden":"visible",borderBottom:"1px solid ".concat(this.theme.regularDividerColor),...e}}}t.a=i},prF1:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("S26v"),i=n("H4VD"),s=n("wldR"),l=n("zmp8"),c=n("A9TN"),d=n("zgcg");class u extends s.a{constructor(){super(...arguments),this.handleClick=e=>{const{disabled:t,external:n,onClick:o}=this.props,r=this.prepareUrl(this.props.href),a=this.prepareUrl(this.props.metaHref),s=e.metaKey||e.ctrlKey;if(e.shiftKey)return void e.preventDefault();const{device:l}=this.environment;!l.isElectron&&s||(r&&!t&&(n?(e.preventDefault(),Object(i.navigateToExternalURL)({environment:this.environment,url:a||r})):this.context.overrideLinkClick?this.context.overrideLinkClick(a||r):Object(i.navigate)({environment:this.environment,url:s?r:a||r,metaClick:s})),e.preventDefault(),o&&o(e))}}renderComponent(){return r.a.createElement("a",{href:this.prepareUrl(this.props.href),target:this.props.external?"_blank":void 0,rel:"noopener noreferrer",style:this.getLinkStyle(),onClick:this.handleClick,className:this.props.className,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.children)}prepareUrl(e){const t=a.i({str:e,allowNoProtocol:!0});return this.props.external&&t&&a.c(t)?a.j({relativeUrl:t,baseUrl:c.default.baseURL}):t}getLinkStyle(){return{display:"block",textDecoration:"none",userSelect:"none",WebkitUserSelect:"none",cursor:"pointer",color:l.g.inherit,...this.props.style}}}u.contextTypes=d.a,t.a=u},pxbK:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return p}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("4bJO");function i(e){return"title"===e.type||"relation"===e.type||"url"===e.type||"select"===e.type||"multi_select"===e.type||"person"===e.type||"file"===e.type||"email"===e.type||"phone_number"===e.type||"text"===e.type||"created_by"===e.type||"last_edited_by"===e.type?"text":"number"===e.type?"number":"created_time"===e.type||"last_edited_time"===e.type||"date"===e.type?"date":"checkbox"===e.type?"checkbox":"rollup"===e.type?e.aggregation?Object(a.f)(e.aggregation):"text":"formula"===e.type&&e.formula?"number"===e.formula.result_type?"number":"date"===e.formula.result_type?"date":"checkbox"===e.formula.result_type?"checkbox":"text":"text"}function s(e){if(!e)return[];if("conditional"===e.type)return r.a.union(s(e.condition),s(e.true),s(e.false));if("function"===e.type||"operator"===e.type){const t=e.args||[];return r.a.union(...t.map(s))}return"property"===e.type?[e.id]:[]}function l(e){if("conditional"===e.type)return{type:e.type,condition:l(e.condition),true:l(e.true),false:l(e.false),result_type:e.result_type};if("constant"===e.type)return{type:e.type,value:e.value,value_type:e.value_type,result_type:e.result_type};if("function"===e.type){const t=e.args||[];return{type:e.type,name:e.name,args:t.map(l),result_type:e.result_type}}if("operator"===e.type){const t=e.args||[];return{type:e.type,operator:e.operator,name:e.name,args:t.map(l),result_type:e.result_type}}if("symbol"===e.type)return{type:e.type,name:e.name,result_type:e.result_type};if("property"===e.type)return{type:e.type,id:e.id,name:e.name,result_type:e.result_type};if("error"===e.type)return{type:e.type,message:e.message,result_type:e.result_type,size:e.size};throw new Error("Invalid formula type.")}function c(e,t){const n=[];let o=null,r=!1,a=!1;const i=e=>null!==o&&n.push([o,e])&&(o=null);return e.split("").forEach((e,t)=>{var n;"\\"===e?(a=!a,i(t)):'"'===e?(r=a?r:!r,a=!1,i(t)):(n=e,d.test(n)?(r||a||null!==o||(o=t),a=!1):i(t))}),i(e.length),n.find(([e,n])=>t>=e&&t<=n)}const d=/^[a-zA-Z][a-zA-Z0-9]*$/;const u={string:{pattern:/"(?:\\\\|\\"|[^\\"])*?"/,greedy:!0},operator:/[-+%^\*\/]|[!=]=|<=?|>=?|\b(?:or|and|not)\b/,number:/\b[0-9]+(\.[0-9]+)?\b/,boolean:/\b(?:true|false)\b/};function p(e,t){return e.highlight(t,u,"formula")}},q2qQ:function(e,t,n){"use strict";n.d(t,"n",(function(){return P})),n.d(t,"p",(function(){return O})),n.d(t,"o",(function(){return B})),n.d(t,"k",(function(){return L})),n.d(t,"h",(function(){return R})),n.d(t,"i",(function(){return D})),n.d(t,"j",(function(){return A})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return F})),n.d(t,"a",(function(){return V})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return U})),n.d(t,"r",(function(){return z})),n.d(t,"q",(function(){return X})),n.d(t,"s",(function(){return Y})),n.d(t,"m",(function(){return H})),n.d(t,"l",(function(){return q})),n.d(t,"b",(function(){return W})),n.d(t,"f",(function(){return G}));n("3bBZ"),n("Junv");var o=n("LvDl"),r=n.n(o),a=n("wpmu"),i=n("y6Dp"),s=n("qpkC"),l=n("jZoB"),c=n("6rsX"),d=n("nM47"),u=n("unoy"),p=n("Mf5Y"),h=n("MBf9"),m=n("X6Ne"),f=n("ICWk"),g=n("XfKI"),b=n("bkwR"),v=n("H4VD"),y=n("VBxf"),S=n("T1kp"),w=n("sQnJ"),k=n("7TLZ"),C=n("mego"),M=n("sjR4"),E=n("AmMh"),_=n("3k5a"),T=n("w5u6"),x=n("HTHG"),I=n("40tV");function P(e){const{store:t,transaction:n}=e,o=E.a.findSelectablesFromStore(t).find(e=>Boolean(e.props.onRemove));o&&o.props.onRemove&&o.props.onRemove({transaction:n})}function O(e){const{blocks:t,transaction:n}=e;if(1===t.length){const e=t[0];e&&k.o(e)&&P({store:e,transaction:n})}}function B(e){const{environment:t,blocks:n,transaction:o}=e,a=function(e){const t=E.a.getSortedComponents(),n=r.a.findIndex(t,t=>t.props.store===e),o=t[n];if(!o)return;const a=o.getContextSelectableContainer(),i=r.a.slice(t,0,n),s=r.a.findLast(i,e=>e.props.canSelect&&e.getContextSelectableContainer()===a);if(s)return s.props.store;const l=r.a.slice(t,n+1).find(e=>Boolean(e.props.canSelect&&e.getContextSelectableContainer()===a));return l?l.props.store:void 0}(n[0]);for(const r of n)P({store:r,transaction:o});c.e(t),c.p({pivot:a}),(g.j({environment:t,blocks:n})||g.xb({environment:t,blocks:n})||g.X({environment:t,blocks:n}))&&(b.deleteBlocks(t,{blockIds:n.map(e=>e.id),permanentlyDelete:!1}),v.navigateAwayIfCurrentPage({environment:t,blocks:n})),u.f(t)}function L(e){const{environment:t,blocks:n,selection:o,transaction:a}=e,i=x.d();if(!i)throw new Error("No root store.");if(o.length>0){const e=r.a.last(o),s=E.a.findComponent(t=>t.props.store===e&&t.props.canInsertAfter&&t.props.onInsertAfter);let d;if(s&&s.props.onInsertAfter)d=r.a.compact(s.props.onInsertAfter({insertStores:n,transaction:a}));else{d=r.a.clone(n).reverse().map(e=>l.d({parent:i.getContentStore(),prepend:e,transaction:a}).child)}return c.q({environment:t,stores:d}),d}{let e;if(i.isCollectionView()){const t=_.a.findBlockFromStoreWithMethod(i,"insertBlocks");if(!t)throw new Error("No collection view found.");e=t.insertBlocks(n,a)}else{const t=i.getContentStore();e=n.map(e=>l.a({parent:t,append:e,transaction:a}).child)}return c.q({environment:t,stores:e}),e}}const R=function(e){const{blocks:t}=e,n=t[0];if(n){const t=E.a.findSelectableFromStore(n);t&&t.props.onEnter&&t.props.onEnter(e)}};function D(e){const{environment:t,createBlockItem:n,selection:o,transaction:r,analyticsFrom:a}=e,i=M.default.getCurrentRecordCache();let s;if(d.j(t)&&n&&i){s=L({environment:t,blocks:[p.a({environment:t,createBlockItem:n,transaction:r,inMemoryRecordCache:i,from:a})],selection:o,transaction:r})[0]}return s}function A(e){const{environment:t,selection:n,transaction:o}=e,r=D(e);r&&G({environment:t,insertedStores:[r],isCreated:!0}),O({transaction:o,blocks:n})}function j(e){const{environment:t,blocks:n,transaction:o}=e,r=n.map(e=>{const[n,r]=s.a({environment:t,store:e,addCopyName:!0,transaction:o,deepCopyTransclusionContainers:!1});return r.then(e=>{e&&y.showErrorMessage(e)}),n});L({environment:t,blocks:r,selection:n,transaction:o})}const F=function(e){const t=e.blocks[0];_.a;const n=_.a.findComponent(e=>e instanceof C.a&&e.props.store===t);n&&S.b({renderFullScreenNode:n.renderFullScreenNode,fullScreenNodeRect:n.getFullScreenNodeRect()})},V=function(e){let t;e.blocks.find(e=>{const n=_.a.findBlockFromStoreWithMethod(e,"activate");return!!n&&(t=n,!0)}),t&&t.activate()};function N(e){const t=e.blocks[0],n=_.a.findBlockFromStoreWithMethod(t,"configure");n&&(n.configure(),i.V(e.environment,{from:"block_action"}))}const U=function(e){const t=e.blocks[0],n=_.a.findBlockFromStoreWithMethod(t,"caption");n&&n.caption()};function z(e,t){const n=r.a.compact(E.a.findSelectablesFromIds(t)).map(e=>e.props.store);c.q({environment:e,stores:n})}function X(e,t){const n=E.a.findScrollToSelectablesFromIds(t);n[0]&&(m.b({component:n[0],vertical:{reveal:"top"},horizontal:{reveal:"closest"}}),c.q({environment:e,stores:n.map(e=>e.props.store)}))}const Y=function(e){const{blocks:t,method:n}=e,o=t[0].findRecordStoreAncestor(e=>e instanceof a.a&&e.isCollectionView()).ancestor;if(o){const e=_.a.findBlockFromStoreWithMethod(o,n);e&&e[n]()}};function H(e){const{environment:t,blocks:n}=e,o=n[0].findRecordStoreAncestor(e=>e instanceof a.a&&e.isCollectionView()).ancestor;o&&v.navigateToBlock({environment:t,store:o,visitType:I.c.Link})}function q(e){const{blocks:t,transaction:n,environment:o}=e,r=D({environment:o,selection:t,createBlockItem:f.b.text,analyticsFrom:"text_insert_below",transaction:n});r&&(c.f({environment:o,store:r}),u.o({store:r.getBlockTitleStore()}),T.default.afterNextFlush(()=>{w.b({environment:o,blockStore:r})}))}function W(e){const{store:t,environment:n}=e,o=E.a.findSelectablesFromStore(t).find(e=>Boolean(e.props.onInsertRowBelow));k.o(t)?(c.f({environment:n,store:t}),u.o({store:t.getBlockTitleStore()}),w.b({environment:n,blockStore:t})):o&&o.props.onInsertRowBelow?h.createAndCommit(n,e=>{o.props.onInsertRowBelow&&o.props.onInsertRowBelow({transaction:e})}):h.createAndCommit(n,e=>{q({environment:n,blocks:[t],transaction:e})})}function G(e){const{environment:t,insertedStores:n,isCreated:o}=e;o?T.default.afterNextFlush(()=>{const e=n[0];if(!e)return;const o=_.a.findBlockWithMethodFromStore(e,"handleCreated");o?o.handleCreated():(c.k({environment:t,store:e}),c.g(t))}):c.q({environment:t,stores:n})}},q4wu:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return g}));var o=n("g90h");const r={download_desktop_app:!0,download_mobile_app:!0,sign_up:!0,onboarding_show:!0,onboarding_complete:!0,gdpr_consent:!0,create_subscription:!0,subscription_update_plan:!0,subscription_update_billing:!0,subscription_update_billing_email:!0,cancel_subscription:!0,click_upgrade_button:!0,create_space:!0,join_space:!0,leave_space:!0,delete_space:!0,open_support_chat:!0},a=[];let i=!1;const s=function(e,t){if(i)return;i=!0;const n=e.split("-")[0];window.intercomSettings={app_id:t.intercomAppId,user_hash:t.intercomUserHash?t.intercomUserHash:void 0,language_override:n},!t.noIntercomUserId&&t.user_id?window.intercomSettings.user_id=Object(o.k)(t.user_id):t.user_email&&(window.intercomSettings.email=t.user_email);var r=window,s=r.Intercom;if("function"==typeof s)s("reattach_activator"),s("update",window.intercomSettings);else{var l=document,c=function(){c.c(arguments)};c.q=a,c.c=function(e){c.q.push(e)},r.Intercom=c;var d=l.createElement("script");d.type="text/javascript",d.async=!0,d.src="https://widget.intercom.io/widget/".concat(t.intercomAppId);var u=l.getElementsByTagName("script")[0];u.parentNode.insertBefore(d,u)}},l=function(e){if(f()){const{userId:n,traits:o,settings:r}=e;var t={};(o.first_name||o.last_name)&&(t.name=[o.first_name,o.last_name].join(" "));const a={email:r.user_email,user_hash:r.intercomUserHash,...o,...t};!r.noIntercomUserId&&n?a.user_id=n:delete a.user_id,Intercom("update",a)}},c=function(e){if(f()){const{companiesData:t}=e;Intercom("update",{companies:t})}},d=function(e){const{eventName:t,eventData:n}=e;f()&&r[t]&&Intercom("trackEvent",t,n)};let u=!1;function p(e,t){if("undefined"!=typeof Intercom)Intercom(e,t);else{a.push([e,t])}}function h(e){const{prepopulatedContent:t,waitForCssInsets:n}=e;p("showNewMessage",t),!u&&n&&(u=!0,m(()=>n()))}const m=function(e){p("onHide",e)},f=function(){return"undefined"!=typeof Intercom},g=function(){if("undefined"!=typeof Intercom)return Intercom("getVisitorId")}},qDOf:function(e,t,n){"use strict";n.r(t);n("3bBZ");var o=n("LEzx"),r=n("A9TN"),a=n("g90h");class i extends o.a{constructor(){super(...arguments),this.verboseAnalytics=r.default.isAdminMode}getInitialState(){return{isLoaded:!1,isSegmentEnabled:!1,isIntercomEnabled:!1,intercomAppId:void 0,intercomUserHash:void 0,noIntercomUserId:!1}}shouldRefresh(e){return!this.state.isLoaded||Boolean(e)!==Boolean(this.state.user_id)||Boolean(e&&this.state.user_id&&Object(a.k)(this.state.user_id)!==Object(a.k)(e))}}t.default=new i},qE2X:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var o=n("6rsX"),r=n("Uc+B"),a=n("unoy"),i=n("y6Dp"),s=n("w5u6"),l=n("SYQx"),c=n("yjqD");async function d(e){const{environment:t,discussionStore:n,rect:d,blockStore:u}=e,p=new r.a(t);l.a.setState({open:!0,rect:d,discussionStore:n,discussionInputStore:p,blockStore:u}),o.e(t),t.device.isMobile||(await s.default.afterNextFlush(),await Object(c.h)(10),a.n({store:p.state.textStore})),i.hd(t)}function u(e){const t=l.a.state;t.open&&(l.a.setState({open:!1,rect:t.rect}),o.e(e))}function p(e){const t=l.a.state;if(t.open){const n=t.discussionStore.getValue();n&&n.comments&&0!==n.comments.length||u(e)}}},qHvo:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o,r=n("LEzx");!function(e){e[e.Above=0]="Above",e[e.Below=1]="Below",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.Onto=4]="Onto"}(o||(o={}));class a extends r.a{getInitialState(){return{isDragging:!1}}}t.b=new a},qKs6:function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b}));var o=n("N34Z"),r=n("MBf9"),a=n("QcDD"),i=n("D2XV"),s=n("A9TN"),l=n("T8dS"),c=n("bPtJ"),d=n("QuSn");async function u(e){const{currentUserSettingsStore:t}=a.default.state,{device:n}=e;if(t&&!s.default.isAdminMode){await t.load();const o=t.getSettings();if(o){const a={};l.a!==o.locale&&(a.locale=l.a),i.m!==o.time_zone&&(a.time_zone=i.m),n.isDesktopBrowser&&!o.used_desktop_web_app&&(a.used_desktop_web_app=!0),n.isMobileBrowser&&!o.used_mobile_web_app&&(a.used_mobile_web_app=!0),n.isElectron&&n.isMac&&!o.used_mac_app&&(a.used_mac_app=!0),n.isElectron&&n.isWindows&&!o.used_windows_app&&(a.used_windows_app=!0),n.isReactNative&&n.isIOS&&!o.used_ios_app&&(a.used_ios_app=!0),n.isReactNative&&n.isAndroid&&!o.used_android_app&&(a.used_android_app=!0),Object.keys(a).length>0&&Object(r.createAndCommit)(e,e=>{p({userSettingsStore:t,data:a,transaction:e})})}}}const p=function(e){const{userSettingsStore:t,data:n,transaction:r}=e;Object(o.d)({store:t.getSettingsStore(),data:n,transaction:r})};function h(e){Object(r.createAndCommit)(e,e=>{const{currentUserSettingsStore:t}=a.default.state;t&&p({userSettingsStore:t,data:{start_day_of_week:1},transaction:e})})}function m(e){Object(r.createAndCommit)(e,e=>{const{currentUserSettingsStore:t}=a.default.state;t&&p({userSettingsStore:t,data:{start_day_of_week:0},transaction:e})})}function f(e){const{transaction:t,userSettingsStore:n,spaceId:r,type:a}=e;Object(o.c)({store:Object(c.b)(n,n.pointer,["settings","sidebar_outliner_settings",r,a,"has_pinned"]),value:!0,transaction:t})}function g(e){const{environment:t,userSettingsStore:n}=e;Object(r.createAndCommit)(t,e=>{p({userSettingsStore:n,data:{completed_enhanced_sidebar_intro:!0},transaction:e})})}function b(e,t){const n=Object(d.b)();n&&(Object(r.createAndCommit)(e,e=>{p({userSettingsStore:t,data:{click_ids:n},transaction:e})}),Object(d.a)())}},qRmb:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return w})),n.d(t,"g",(function(){return _})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return I})),n.d(t,"d",(function(){return P})),n.d(t,"f",(function(){return O}));n("3bBZ");var o=n("A9TN"),r=n("g90h"),a=n("Mht8"),i=n("u5ao"),s=n("LSDq"),l=n("yjqD"),c=n("nFzZ"),d=n("pFdg"),u=n("zb5D");const p=n("VaV0"),h=4*c.e,m=8*c.e,f=new Map,g=new Map,b=new Map;let v,y="uninitialized";function S(){return"open"===y}function w(){return"uninitialized"===y||"opening"===y}function k(e){switch(e){case"end":y="closed";break;case"open":y="open";break;case"opening":y="opening"}}function C(){if(!v){const e=function(){const e=Object(r.b)(),t="".concat(o.default.messageStore.url,"?sessionId=").concat(encodeURIComponent(e));return new p(t,{reconnect:{max:m,min:h,retries:1e20}})}();e.on("data",R),e.on("open",M),e.on("reconnected",E),e.on("error",e=>{"TransportError"===e.type?a.log({level:"info",from:"messageStoreHelpers",type:"primusTransportError",error:Object(u.a)(e)}):a.log({level:"error",from:"messageStoreHelpers",type:"unknownPrimusError",error:Object(u.a)(e)})}),e.on("readyStateChange",k),e.on("end",()=>{e.off("readyStateChange",k),function(e){if(a.log({level:"info",from:"messageStoreHelpers",type:"messageStoreEnd"}),setTimeout(()=>{e.destroy()},0),e!==v)return;v=void 0,setTimeout(()=>{C()},2*c.e)}(e)}),v=e,window.__primusClient=v}return v}function M(){f.forEach((e,t)=>{const n=g.get(t);T(t,n?n.version:-1).catch(e=>{a.log({level:"warning",from:"messageStoreHelpers",type:"ReconnectSubscriptionError",error:Object(u.a)(e)})})})}function E(){b.clear(),B.cancel(),M()}async function _(e,t,n,o){await L("updateField",{key:e,field:t,updates:n,ttl:o})}async function T(e,t){await L("registerSubscription",{key:e,version:t})}async function x(e,t){await L("registerOnDisconnect",{disconnectId:e,operations:t})}async function I(e){await L("unregisterOnDisconnect",{disconnectId:e})}async function P(e,t,n){let o=f.get(e);if(!o||0===o.length)return o=[{listener:t,listenerId:n}],f.set(e,o),void(await T(e,-1));if(o.find(e=>e.listenerId===n))o=[...o.filter(e=>e.listenerId!==n),{listener:t,listenerId:n}],f.set(e,o);else{o=[...o,{listener:t,listenerId:n}],f.set(e,o);const r=g.get(e);r&&t(e,r.value)}}async function O(e,t){const n=f.get(e);if(!n)return;const o=n.filter(e=>e.listenerId!==t);o.length!==n.length&&(0===o.length?(f.delete(e),g.delete(e),await async function(e){await L("unregisterSubscription",{key:e})}(e)):f.set(e,o))}const B=new s.a(20);async function L(e,t){return B.enqueue(()=>{const n=Object(r.b)(),a=l.c();return b.set(n,{resolve:a.resolve,reject:a.reject}),C().write({type:"".concat(o.default.messageStore.api,"/").concat(e),requestId:n,...t}),a.promise}).catch(e=>{})}function R(e){const t=Object(d.d)(i.a,e);if(t)return void a.rateLimitedLog({level:"warning",from:"messageStoreHelpers",type:"ValidationError",data:{miscDataToConvertToString:e},error:Object(u.a)(t)});const n=e;if("response"===n.type){const{requestId:e,status:t,result:o}=n,r=b.get(e);if(b.delete(e),!r)return;"ok"===t?r.resolve(o):r.reject(new Error(o))}else{const{key:e,value:t,version:r}=n,i=f.get(e);if(!i)return;g.set(e,{version:r,value:t});for(const{listener:n}of i)try{n(e,t)}catch(o){a.log({level:"warning",from:"messageStoreHelpers",type:"ListenerError",error:Object(u.a)(o)})}}}},"qX+M":function(e,t,n){"use strict";n.r(t),n.d(t,"getFirstPageStore",(function(){return L})),n.d(t,"SHARED_VIEW_ALL_LIMIT",(function(){return R})),n.d(t,"getSharedPageContext",(function(){return D})),n.d(t,"getSharedPages",(function(){return A})),n.d(t,"loadUserRedirectData",(function(){return j})),n.d(t,"getSpaceIcon",(function(){return F})),n.d(t,"getSpaceName",(function(){return V})),n.d(t,"getSpacePermissionsStore",(function(){return N})),n.d(t,"getSpacePermissionItems",(function(){return U})),n.d(t,"getSpaceLoadPageIds",(function(){return z})),n.d(t,"getSpaceLoadPageStores",(function(){return X})),n.d(t,"getSpaceInviteLinkUrl",(function(){return Y}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("lKX+"),i=n("3U9E"),s=n("wpmu"),l=n("AXh+"),c=n("hbKx"),d=n("7TLZ"),u=n("tvfY"),p=n("p9C0"),h=n("klxS"),m=n("HSWF"),f=n("HHyf"),g=n("VTj5"),b=n("dDgv"),v=n("bPtJ"),y=n("FUUC"),S=n("+fkW"),w=n("VpIZ"),k=n("9axl"),C=n("7Gak"),M=n("vl8/"),E=n("HRSx"),_=n("8L2b"),T=n("5/h/"),x=n("NCLm"),I=n("2ZkR"),P=n("A9TN"),O=n("guIK"),B=n("mXKa");async function L(e,t){const n=e.currentUser.id,o=t.getSpaceStore();if(await t.load(),o&&n){t.hasRemoteSharedPages()||await Object(O.b)({environment:e,spaceId:o.id,userId:n});const r=i.a.getSharedPagesState({spaceId:o.id,userId:n}),a=(r&&r.currentPageIds?r.currentPageIds:[]).map(e=>s.a.createChildStore(o,{table:E.a,id:e,spaceId:o.id}));return await Promise.all([o.load(),Promise.all(t.getBookmarkedPagesStores().map(e=>e.load())),Promise.all(X(e,o).map(e=>e.load())),Promise.all(t.getSharedPagesStores().map(e=>e.load())),Promise.all(a.map(e=>e.load()))]),[...t.getBookmarkedPages(),...t.getWorkspacePages(),...A(e,t),...t.getPrivatePages(),...a].filter(t=>!Object(l.g)(e,t))[0]}}const R=7;function D(e){const{environment:t,spaceViewStore:n,userSettingsStore:o}=e,r=n.getSpaceId(),a=A(t,n),i=new Set(a.map(({id:e})=>e));return r&&"on"===I.default.getGroup(t,"sidebar-enhancements")?o.hasUserPinnedToOutliner({type:"shared",spaceId:r})?{allSharedPagesStores:a,visibleSharedPagesStores:n.getPinnedSharedPages().filter(({id:e})=>i.has(e))}:{allSharedPagesStores:a,visibleSharedPagesStores:a.slice(0,R)}:{allSharedPagesStores:a,visibleSharedPagesStores:a}}function A(e,t){const n=e.currentUser.id,o=t.getSpaceStore();if(o&&n){const a=i.a.getSharedPagesState({spaceId:o.id,userId:n}),l=a&&a.currentPageIds?a.currentPageIds:[],u=t.getSharedPagesStores(),p=X(e,o),h=p.filter(e=>e.canRead()),m=p.filter(e=>e.isTopLevelSharedPage(o)),f=r.a.compact(l.map(e=>{const t=s.a.createChildStore(o,{table:E.a,id:e,spaceId:o.id}),n=Object(c.e)(t),r=Boolean(n&&h.find(e=>e.id===n.id));if(Object(d.a)(t)&&t.canRead()&&t.isNavigableBlock()&&(t.isSharedWithCurrentUserViaExplicitPermission()||t.isSharedWithCurrentUserViaPermissionGroup(o))&&!Object(c.a)(t)&&!r&&(!t.isTopLevel()||!o.canRead()))return t})),g=r.a.uniqBy(r.a.union(f,m),e=>e.id);return r.a.sortBy(g,e=>{const t=u.findIndex(t=>t.id===e.id);return t>=0?t:1/0})}return[]}async function j(e){const{disableRedirectUrl:t,environment:n}=e;await g.a();const{id:o}=n.currentUser,{route:i}=m.l(),{url:s}=Object(b.a)(n),l=m.j(o),c=m.o(o),d=B.getOauthAuthorizationParams();if(!o)throw new Error("User not logged in.");const v=new u.a(n,{table:T.a,id:o}),y=new h.a(n,{table:k.a,id:o}),S=new p.a(n,{table:x.a,id:o}),[w,C]=await Promise.all([v.awaitNonNullValue(),y.awaitNonNullValue(),S.awaitNonNullValue()]),M=!!w&&Boolean(w.onboarding_completed),E=!!w&&Boolean(w.mobile_onboarding_completed),I=function(e,t){return e.space_views&&e.space_views.length>0?a.a.createChildStore(t,{table:_.a,id:e.space_views[0]}):void 0}(C,y);I&&await I.load();const P=I?I.getSpaceStore():void 0;if(i&&!t){const e=(await Object(f.a)({environment:n,request:{type:"block-space",...i}}).next()).value,t="page"===i.name?i.blockId:void 0;if(e&&!r.a.isEmpty(e)&&(e.canJoinSpace||e.userHasExplicitAccess||!e.hasPublicAccess))return{userStore:v,userSettingsStore:S,userRootStore:y,firstSpace:P,firstSpaceView:I,redirectUrl:s,forkPageBlockId:l,publicAccessPageId:c,oauthAuthorizationParams:d,redirectPageId:t,hasExplicitAccessToRedirectPage:e.userHasExplicitAccess,redirectSpaceName:e.spaceName,redirectSpaceId:e.spaceId,canJoinRedirectSpace:e.canJoinSpace,onboardingCompleted:M,mobileOnboardingCompleted:E}}return{userStore:v,userSettingsStore:S,userRootStore:y,firstSpace:P,firstSpaceView:I,forkPageBlockId:l,publicAccessPageId:c,oauthAuthorizationParams:d,redirectUrl:void 0,redirectPageId:void 0,hasExplicitAccessToRedirectPage:void 0,redirectSpaceId:void 0,canJoinRedirectSpace:void 0,onboardingCompleted:M,mobileOnboardingCompleted:E,redirectSpaceName:void 0}}function F(e,t){const n=t.getValue();if(n)return w.g({table:"space",value:n,getRecordValue:t.getRecordValue});{const n=S.a.getPublicSpaceData(e,t.id);if(n&&n.icon)return{pointer:{table:"space",id:t.id},icon:n.icon}}}function V(e,t){const n=t.getValue(),o=M.default.getIntl().formatMessage({defaultMessage:"Untitled workspace",id:"spaceHelpers.getSpaceName.untitledWorkspace.name"});if(n&&n.name)return n.name||o;{const n=S.a.getPublicSpaceData(e,t.id);if(n)return n.name||o}}function N(e){return Object(v.a)(e,{table:y.a,id:e.id},"permissions")}function U(e){return N(e).getValue()||[]}function z(e,t){const n=t.getValue(),o=e.currentUser.id;if(n&&n.pages&&o){const e=C.a.getSpaceInaccessiblePages(t.id,o);return e?n.pages.filter(t=>!e.has(t)):n.pages}return[]}function X(e,t){const n=t.getPagesStore();return z(e,t).map(e=>s.a.createChildStore(n,{table:E.a,id:e}))}function Y(e,t,n){const o=S.a.getPublicSpaceData(e,t.id),a=r.a.compact([o?o.domain:void 0,"invite",n]).join("/");return"".concat(P.default.baseURL,"/").concat(a)}},qpkC:function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return T})),n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return I}));n("3bBZ");var o=n("nkfK"),r=n("udrG"),a=n("VBxf"),i=n("bkwR"),s=n("y6Dp"),l=n("N34Z"),c=n("Mf5Y"),d=n("/0g+"),u=n("HRSx"),p=n("922z"),h=n("VpIZ"),m=n("6SEd"),f=n("NoAG"),g=n("vJXr"),b=n("p0Ff"),v=n("yjqD"),y=n("Mht8"),S=n("J9+s"),w=n("vl8/"),k=n("zzAG"),C=n("cBa6"),M=n("W7EN");const E=Object(S.defineMessages)({offlineError:{id:"duplicateActions.offlineError.message",defaultMessage:"Please go online to copy this block."}});function _(e){const{environment:t,sourceBlockId:n,targetBlockId:r,sourceBlockSubtree:a,targetInMemoryRecordCache:i,addCopyName:s,deepCopyTransclusionContainers:d,transaction:u}=e,p=c.b({environment:t,sourceBlockId:n,targetBlockId:r,sourceBlockSubtree:a,targetRecordCache:i,transaction:u,deepCopyTransclusionContainers:d});if(s&&p&&p.isNavigableBlock()){const e=p.getTitleStore();if(e){const t=e.getValue(),n=o.c(t,w.default.getIntl(),y.log);l.c({store:e,value:n,transaction:u})}}return p}function T(e){const{environment:t,sourceBlockId:n,targetInMemoryRecordCache:o,snapshotData:a,addCopyName:s,deepCopyTransclusionContainers:c,transaction:u}=e,p=l.a({environment:t,type:r.a.copyIndicator,inMemoryRecordCache:o,transaction:u}),h=v.c();return u.postSubmitCallbacks.push(async e=>{if(e)h.resolve(e.message);else{const{value:e}=await i.duplicateBlock(t,{sourceBlockId:n,targetBlockId:p.id,snapshotData:a,addCopyName:s,deepCopyTransclusionContainers:c}).next();if(e.error){d.c({environment:t,blocks:[p]});const n=Object(k.c)(w.default.getIntl(),e.error);h.resolve(n)}else h.resolve(void 0)}}),[p,h.promise]}function x(e){const{environment:t,store:n,addCopyName:o,deepCopyTransclusionContainers:r,transaction:i}=e,l=n.getRecordStoreAtRootPath().getValue();l&&s.fb(t,{from:"copy",type:l.type});const c=I(t,{blockId:n.id,inMemoryRecordCache:n.inMemoryRecordCache,allowCopyCollections:!1,requireFullSubtree:!0,skipTransclusionContainerChildren:!r});if(c){return[_({environment:t,sourceBlockId:n.id,sourceBlockSubtree:c,targetInMemoryRecordCache:n.inMemoryRecordCache,addCopyName:o,deepCopyTransclusionContainers:r,transaction:i}),Promise.resolve(void 0)]}if(n.inMemoryRecordCache!==b.default)throw new Error("Can only server duplicate from the DefaultInMemoryRecordCache.");return g.a.state.online||a.showErrorMessage(w.default.formatMessage(E.offlineError)),T({environment:t,sourceBlockId:n.id,targetInMemoryRecordCache:n.inMemoryRecordCache,addCopyName:o,transaction:i,deepCopyTransclusionContainers:r})}function I(e,t){const{blockId:n,inMemoryRecordCache:o,allowCopyCollections:r,requireFullSubtree:a,skipTransclusionContainerChildren:i}=t,s=e.currentUser.id,l=new p.a,c=new Set,d=[{pointer:{table:u.a,id:n},parentId:"doesn't matter"}];for(;d.length>0;){const e=d.shift();if(!e)continue;if(c.has(e.pointer.id))continue;c.add(e.pointer.id);const t=n===e.pointer.id;if(Object(p.d)(e.pointer,u.a)){const n=o.getRecord({pointer:e.pointer,userId:s});if(!n||!n.value){if(a)return;continue}const r=n.value;if(!t&&r.parent_id!==e.parentId)continue;if(l.set(e.pointer,r),r.collection_id&&d.push({pointer:{table:m.a,id:r.collection_id},parentId:r.id}),r.view_ids)for(const e of r.view_ids)d.push({pointer:{table:f.a,id:e},parentId:r.id});if(!i||"transclusion_container"!==r.type){const e=h.b(r);for(const t of e)d.push({pointer:{table:u.a,id:t},parentId:r.id})}if(r.properties)for(const e of Object.values(r.properties))if(e)for(const t of e)for(const e of C.db(t)){if(C.zb(e)){const t=C.V(e);d.push({pointer:{table:u.a,id:t},parentId:r.id})}if(C.wb(e)){const t=C.R(e),n=Object(M.c)(t);n&&d.push({pointer:{table:u.a,id:n},parentId:r.id})}}}else if(Object(p.d)(e.pointer,m.a)){if(!r)return;const t=o.getRecord({pointer:e.pointer,userId:s});if(!t||!t.value){if(a)return;continue}if(t.value.parent_id!==e.parentId)continue;l.set(e.pointer,t.value),o.forEachRecord(s,(t,n)=>{if(t.table===u.a){const o=n;o&&o.value&&o.value.parent_id===e.pointer.id&&o.value.alive&&d.push({pointer:t,parentId:e.pointer.id})}})}else if(Object(p.d)(e.pointer,f.a)){const t=o.getRecord({pointer:e.pointer,userId:s});if(!t||!t.value){if(a)return;continue}if(t.value.parent_id!==e.parentId)continue;l.set(e.pointer,t.value)}}return l}},qqdV:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s}));n("3bBZ");const o={onboarding:"/onboarding",login:"/login",loginWithEmail:"/loginwithemail",logout:"/logout",signup:"/signup",unsubscribe:"/unsubscribe",invoice:"/invoice",admin:"/__admin",newPage:"/new",oauthAuthorization:"/install-integration",integrations:"/integrations",community:"/community",help:"/help",templates:"/templates",deprecatedGuideRedirect:"/guide",terms:"/terms",contentPolicy:"/content-policy",downloadMacIntel:"/desktop/mac/download",downloadMacAppleSilicon:"/desktop/apple-silicon/download",downloadWindows:"/desktop/windows/download",scimApiBasePath:"/scim/v2",loginPasswordReset:"/loginpasswordreset",passwordResetCallback:"/passwordresetcallback",applePopupRedirect:"/applepopupredirect",appleAuthCallback:"/appleauthcallback",applePopupCallback:"/applepopupcallback",googlePopupRedirect:"/googlepopupredirect",googleAuthCallback:"/oauth2callback",googlePopupCallback:"/googlepopupcallback",samlAuth:"/sso/saml",samlAuthCallback:"/samlauthcallback",slackPopupRedirect:"/slackpopupredirect",slackAuthCallback:"/slackoauthcallback",trelloPopupRedirect:"/trellopopupredirect",trelloAuthCallback:"/trelloauthcallback",asanaPopupRedirect:"/asanapopupredirect",asanaAuthCallback:"/asanaauthcallback",evernotePopupRedirect:"/evernotepopupredirect",evernoteAuthCallback:"/evernoteoauthcallback",googleDrivePopupRedirect:"/googledrivepopupredirect",googleDrivePickerPopup:"/googledrivepickerpopup"},r={nextJsInternal:"/_next",frontApi:"/front-api",frontStatic:"/front-static"},a={about:"/about",apiBeta:"/api-beta",blog:"/blog",careers:"/careers",confluence:"/confluence",customers:"/customers",desktop:"/desktop",educators:"/educators",enterprise:"/enterprise",evernote:"/evernote",guides:"/guides",mobile:"/mobile",notes:"/notes",pages:"/pages",personal:"/personal",pricing:"/pricing",product:"/product",projects:"/projects",remote:"/remote",startups:"/startups",students:"/students",teams:"/teams",webClipper:"/web-clipper",webinars:"/webinars",wikis:"/wikis",jobsRedirect:"/jobs",joinUsRedirect:"/join-us",wikiRedirect:"/wiki",workRedirect:"/work",toolsAndCraftRedirect:"/tools-and-craft",whyRedirect:"/why",androidRedirect:"/android",sitemap:"/sitemap.xml"},i={frontDev:"/__frontDev",sandboxHelp:"/sandbox/help"};Object.values(r),Object.values(a),function(e){e.map(e=>"".concat(e,"/*"))}(Object.values(a)),Object.values(i);const s={notionTwitter:"https://twitter.com/NotionHQ",appStore:"https://itunes.apple.com/app/notion-notes-tasks-wikis/id1232780281",playStore:"https://play.google.com/store/apps/details?id=notion.id",stagingChromeExtension:"https://chrome.google.com/webstore/detail/plicnlhlnddfonieaidfmagnjmkiiojd",devChromeExtension:"https://chrome.google.com/webstore/detail/ndbjfpdjbfcljfnfhoopkljapcaomhha",prodChromeExtension:"https://chrome.google.com/webstore/detail/knheggckgoiihginacbkhaalnibhilkk",devFirefoxExtension:"https://dev.notion.so/notion/Web-Clipper-fb7489a8ebe64aec987b9b136fa0fafc",prodFirefoxExtension:"https://addons.mozilla.org/en-US/firefox/addon/notion-web-clipper/",devSafariExtension:"https://dev.notion.so/65ce293fa99a4fb0a3302da0e8b09d73#2305488a752c497f80ee810d27454aea",prodSafariExtension:"https://apps.apple.com/us/app/notion-web-clipper/id1559269364?mt=12",statusPage:"https://status.notion.so",notionYouTube:"https://www.youtube.com/channel/UCoSvlWS5XcwaSzIcbuJ-Ysg",termsAndPrivacy:"https://www.notion.so/28ffdd083dc3473e9c2da6ec011b58ac",termsAndConditions:"https://www.notion.so/28ffdd083dc3473e9c2da6ec011b58ac#33378f25e4084c96bb32bbae0cd074c5",privacyPolicy:"https://www.notion.so/28ffdd083dc3473e9c2da6ec011b58ac#cda4143d627b4cf5a6e8c7a4e12c7c3c",whatsNew:"https://www.notion.so/157765353f2c4705bd45474e5ba8b46c",mediaKit:"https://www.notion.so/205535b1d9c4440497a3d7a2ac096286",webClipperGuide:"https://www.notion.so/ba54b19ecaeb466b8070b9e683c5fce1",publicAPISpec:"https://www.notion.so/notion/Notion-API-specification-c29dd39d851543b49a24e1571f63c488",publicApiGetStarted:"https://www.notion.so/notion/Getting-started-98aa2aeeaf0b4836b089cd6fce0b920a",consultants:"https://www.notion.so/Find-a-Certified-Notion-Consultant-344175b8ebfe48fda4edf557826241d0",...i,...a,...o}},qqv4:function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return y}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("mINO"),i=n("VhAz"),s=n("CARr");const l=a.j({required:{type:a.f("select"),value:a.n(a.l())},optional:{}}),c=a.j({required:{type:a.f("multi_select"),value:a.n(a.l())},optional:{}}),d=a.j({required:{type:a.f("person"),value:a.n(a.j({required:{table:a.f("notion_user"),id:a.l()},optional:{}}))},optional:{}}),u=a.o([l,c,d]),p={select:!0,multi_select:!0,person:!0};function h(e){return e.type in p}function m(e){return e?f(e.value):"uncategorized"}function f(e){return"person"===e.type?e.value?e.value.id:"uncategorized":e.value?e.value:"uncategorized"}function g(e,t){return"select"===e.type||"multi_select"===e.type?t.type===e.type&&(void 0!==e.value&&t.value,e.value===t.value):"person"===e.type?t.type===e.type&&(void 0!==e.value&&void 0!==t.value?e.value.table===t.value.table&&e.value.id===t.value.id:e.value===t.value):void Object(i.e)(e)}function b(e,t){for(const n of e)if(g(n.value,t))return n}function v(e){const{block:t,schema:n,property:o}=e,r=n[o];if(r&&"person"===r.type){const e=t.properties||{};return Object(s.s)(e[o]).map(e=>({type:"person",value:e}))}}function y(e){const{schema:t,groupBy:n,resultGroupValues:o}=e,a=[...e.groups];if(!n)return[];const s=t[n];if(!s)return[];if(!h(s))return[];for(const r of o){const e={property:n,value:r,hidden:!1};a.push(e)}return r.a.uniqBy(a.filter(e=>{if(e.property!==n)return!1;const t=e.value;if(t.type!==s.type)return!1;if(void 0===t.value)return!0;if("select"===s.type){return(s.options||[]).some(e=>e.value===t.value)}if("multi_select"===s.type){return(s.options||[]).some(e=>e.value===t.value)}if("person"===s.type)return!0;Object(i.e)(s)}),e=>m(e))}},qxI2:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));n("SYor"),n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("BJyN"),i=n("mjq6");function s(e,t,n){const o=n.trim().toLowerCase();if(!o)return c(e,t);const a=function(e){return e.map(e=>({...e,actions:e.actions.map(t=>{const n=t.searchName&&u(e.searchTitle||e.title||"",t.searchName);return{...t,name:u(e.title||"",t.displayName||""),searchName:n}})}))}(c(function(e,t){const n=[];for(const o of e){const e={...o,actions:[]};for(const r of o.actions)if(r.subActions){const e=r.subActions(t).map(e=>({...e,key:"".concat(o.key," ").concat(r.key," ").concat(e.key),title:e.title||r.displayName,searchTitle:[r.searchName||r.displayName,e.searchTitle||e.title].filter(Boolean).join(" ")}));for(const t of e)n.push(t)}else e.actions.push(r);e.actions.length&&n.push(e)}return n}(e,t),t)),s=[],l=new Map;for(const r of a)for(const e of r.actions)l.set(e,r),s.push(e);const d=Object(i.b)(o,s,e=>e.searchName||e.displayName||""),p=r.a.groupBy(d,e=>{const t=l.get(e);if(t)return t.title}),h=[];for(const r of Object.keys(p)){const e=p[r],t=l.get(e[0]);t&&h.push({...t,actions:e})}return h}function l(e,t){if(!t)return e;let n=0;const o=[];for(const r of e){if(n>=t)break;const e=r.actions.slice(0,t-n);e.length>0&&(n+=e.length,o.push({...r,actions:e}))}return o}function c(e,t){return Object(a.e)(e,e=>d(e,t))}function d(e,t){if(e.validators){return e.validators.every(e=>e(t))}return!0}function u(e,t){return[...e.split(" "),t].join(" ")}},qzno:function(e,t,n){"use strict";n.d(t,"n",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"o",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return S})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return C})),n.d(t,"d",(function(){return M})),n.d(t,"i",(function(){return E})),n.d(t,"k",(function(){return _}));var o=n("J9+s"),r=n("vl8/"),a=n("5Nka"),i=n("mF3+");const s=Object(o.defineMessages)({title:{defaultMessage:"Title",id:"database.propertyTypeName.title"},text:{defaultMessage:"Text",id:"database.propertyTypeName.text"},number:{defaultMessage:"Number",id:"database.propertyTypeName.number"},url:{defaultMessage:"URL",id:"database.propertyTypeName.url"},select:{defaultMessage:"Select",id:"database.propertyTypeName.select"},multi_select:{defaultMessage:"Multi-select",id:"database.propertyTypeName.multi_select"},person:{defaultMessage:"Person",id:"database.propertyTypeName.person"},email:{defaultMessage:"Email",id:"database.propertyTypeName.email"},phone_number:{defaultMessage:"Phone",id:"database.propertyTypeName.phone_number"},date:{defaultMessage:"Date",id:"database.propertyTypeName.date"},file:{defaultMessage:"Files & media",id:"database.propertyTypeName.file"},checkbox:{defaultMessage:"Checkbox",id:"database.propertyTypeName.checkbox"},formula:{defaultMessage:"Formula",id:"database.propertyTypeName.formula"},relation:{defaultMessage:"Relation",id:"database.propertyTypeName.relation"},rollup:{defaultMessage:"Rollup",id:"database.propertyTypeName.rollup"},created_time:{defaultMessage:"Created time",id:"database.propertyTypeName.created_time"},created_by:{defaultMessage:"Created by",id:"database.propertyTypeName.created_by"},last_edited_time:{defaultMessage:"Last edited time",id:"database.propertyTypeName.last_edited_time"},last_edited_by:{defaultMessage:"Last edited by",id:"database.propertyTypeName.last_edited_by"}}),l={title:r.default.formatMessage(s.title),text:r.default.formatMessage(s.text),number:r.default.formatMessage(s.number),url:r.default.formatMessage(s.url),select:r.default.formatMessage(s.select),multi_select:r.default.formatMessage(s.multi_select),person:r.default.formatMessage(s.person),email:r.default.formatMessage(s.email),phone_number:r.default.formatMessage(s.phone_number),date:r.default.formatMessage(s.date),file:r.default.formatMessage(s.file),checkbox:r.default.formatMessage(s.checkbox),formula:r.default.formatMessage(s.formula),relation:r.default.formatMessage(s.relation),rollup:r.default.formatMessage(s.rollup),created_time:r.default.formatMessage(s.created_time),created_by:r.default.formatMessage(s.created_by),last_edited_time:r.default.formatMessage(s.last_edited_time),last_edited_by:r.default.formatMessage(s.last_edited_by)},c=Object(o.defineMessages)({text:{defaultMessage:"A single line of text.",id:"database.propertyTypeDescription.text"},number:{defaultMessage:"A number, with options to format as currency, percent, and more.",id:"database.propertyTypeDescription.number"},url:{defaultMessage:"A link to a page on the web.",id:"database.propertyTypeDescription.url"},select:{defaultMessage:"Select from a list of options.",id:"database.propertyTypeDescription.select"},multi_select:{defaultMessage:"Tag with values from a list of options.",id:"database.propertyTypeDescription.multi_select"},person:{defaultMessage:"Reference a person on your team.",id:"database.propertyTypeDescription.person"},email:{defaultMessage:"Reference an email address.",id:"database.propertyTypeDescription.email"},phone_number:{defaultMessage:"Reference a phone number.",id:"database.propertyTypeDescription.phone_number"},date:{defaultMessage:"A date, with options to format and include time.",id:"database.propertyTypeDescription.date"},file:{defaultMessage:"Upload files and images.",id:"database.propertyTypeDescription.file"},checkbox:{defaultMessage:"Track status with a single checkbox.",id:"database.propertyTypeDescription.checkbox"},formula:{defaultMessage:"Compute a formula using other properties of a page.",id:"database.propertyTypeDescription.formula"},relation:{defaultMessage:"Allow pages in this database to reference pages in another.",id:"database.propertyTypeDescription.relation"},rollup:{defaultMessage:"Display and summarize data from a relation.",id:"database.propertyTypeDescription.rollup"},created_time:{defaultMessage:"Reference the date and time a page was created.",id:"database.propertyTypeDescription.created_time"},created_by:{defaultMessage:"Reference the person that created a page.",id:"database.propertyTypeDescription.created_by"},last_edited_time:{defaultMessage:"Reference the date and time a page was last edited.",id:"database.propertyTypeDescription.last_edited_time"},last_edited_by:{defaultMessage:"Reference the person that last edited a page.",id:"database.propertyTypeDescription.last_edited_by"}});function d(e){return r.default.formatMessage(c[e])}const u={title:"",text:a.a.images.tooltips.types.textPng,number:a.a.images.tooltips.types.numberPng,url:a.a.images.tooltips.types.urlPng,select:a.a.images.tooltips.types.selectPng,multi_select:a.a.images.tooltips.types.multiSelectPng,person:a.a.images.tooltips.types.personPng,email:a.a.images.tooltips.types.emailPng,phone_number:a.a.images.tooltips.types.phoneNumberPng,date:a.a.images.tooltips.types.datePng,file:a.a.images.tooltips.types.filePng,checkbox:a.a.images.tooltips.types.checkboxPng,formula:a.a.images.tooltips.types.formulaPng,relation:"",rollup:"",created_time:"",created_by:"",last_edited_time:"",last_edited_by:""},p=["text","number","select","multi_select","date","person","file","checkbox","url","email","phone_number","formula","relation","rollup","created_time","created_by","last_edited_time","last_edited_by"],h=["select","multi_select","person","date","created_time","created_by","last_edited_time","last_edited_by"],m=function(e){return h.includes(e.type)},f=Object(o.defineMessages)({tableDisplayName:{defaultMessage:"Table",id:"collectionHelpers.table.displayName"},boardDisplayName:{defaultMessage:"Board",id:"collectionHelpers.board.displayName"},calendarDisplayName:{defaultMessage:"Calendar",id:"collectionHelpers.calendar.displayName"},listDisplayName:{defaultMessage:"List",id:"collectionHelpers.list.displayName"},galleryDisplayName:{defaultMessage:"Gallery",id:"collectionHelpers.gallery.displayName"},timelineDisplayName:{defaultMessage:"Timeline",id:"collectionHelpers.timline.displayName"}}),g={table:r.default.formatMessage(f.tableDisplayName),board:r.default.formatMessage(f.boardDisplayName),calendar:r.default.formatMessage(f.calendarDisplayName),list:r.default.formatMessage(f.listDisplayName),gallery:r.default.formatMessage(f.galleryDisplayName),timeline:r.default.formatMessage(f.timelineDisplayName)},b=Object(o.defineMessages)({table:{defaultMessage:"Table with types to store and view any kind of structured data",id:"collectionHelpers.table.caption"},board:{defaultMessage:"Kanban board, great for project planning and bug tracking",id:"collectionHelpers.board.caption"},calendar:{defaultMessage:"Month view, for event planning and scheduling",id:"collectionHelpers.calendar.caption"},list:{defaultMessage:"A simplified page view, great for bookmarks and notes",id:"collectionHelpers.list.caption"},gallery:{defaultMessage:"Grid of cards, use for mood boards, index cards, and recipes",id:"collectionHelpers.gallery.caption"},timeline:{defaultMessage:"A timeline view, great for project scheduling and planning",id:"collectionHelpers.timeline.caption"}}),v={table:r.default.formatMessage(b.table),board:r.default.formatMessage(b.board),calendar:r.default.formatMessage(b.calendar),list:r.default.formatMessage(b.list),gallery:r.default.formatMessage(b.gallery),timeline:r.default.formatMessage(b.timeline)},y={table:i.a.collectionTable,board:i.a.collectionBoard,calendar:i.a.collectionCalendar,list:i.a.collectionList,gallery:i.a.collectionGallery,timeline:i.a.collectionTimeline},S={table:a.a.images.tooltips.views.tablePng,board:a.a.images.tooltips.views.boardPng,calendar:a.a.images.tooltips.views.calendarPng,list:a.a.images.tooltips.views.listPng,gallery:a.a.images.tooltips.views.galleryPng,timeline:a.a.images.tooltips.views.timelinePng},w={table:void 0,board:"board_cover",calendar:void 0,list:void 0,gallery:"gallery_cover",timeline:void 0},k={table:void 0,board:"board_cover_size",calendar:void 0,list:void 0,gallery:"gallery_cover_size",timeline:void 0},C={table:void 0,board:"board_cover_aspect",calendar:void 0,list:void 0,gallery:"gallery_cover_aspect",timeline:void 0},M={table:!0,board:!1,calendar:!1,list:!0,gallery:!0,timeline:!0},E=["table","board","timeline","calendar","list","gallery"];function _(e,t){let n=[];switch(t){case"gallery":e&&e.gallery_properties&&(n=e.gallery_properties);break;case"board":e&&e.board_properties&&(n=e.board_properties)}const o=n.find(({property:e})=>"title"===e);return!!o&&Boolean(o.visible)}},r8MX:function(e,t,n){"use strict";n.r(t);var o=n("LEzx");class r extends o.a{getInitialState(){return{}}waitUntilLoaded(){return this.waitUntil(()=>Boolean(this.state.data))}}t.default=new r},rGsA:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("fHgN"),s=n("zmp8"),l=n("Sb6f"),c=n("MeYt"),d=n("J9+s");class u extends a.a{constructor(){super(...arguments),this.handleBlur=()=>{const e=document.activeElement;e instanceof HTMLInputElement&&e.blur()}}renderComponent(){const{device:e}=this.environment;if(e.isReactNative&&e.isIOS)return r.a.createElement(i.a,{open:!0,render:()=>r.a.createElement("div",{style:{position:"fixed",top:"100vh",width:"100%",height:44,display:"flex",alignItems:"center",justifyContent:"flex-end",backgroundColor:this.theme.keyboardDoneBarBackground,transform:"translateY(".concat(this.props.show?-44:0,"px)"),transition:this.props.show?"ease-out":"ease-in",boxShadow:"\n\t\t\t\t\t\t\t\t0 -1px 0 ".concat(this.theme.darkDividerColor,"\n\t\t\t\t\t\t\t")}},r.a.createElement(c.a,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",marginRight:16,color:s.g.blue,fontWeight:l.a.fontWeight.semibold},onClick:this.handleBlur},r.a.createElement(d.FormattedMessage,{defaultMessage:"Done",id:"mobile.dismissKeyboardBar.button.label"})))})}}t.a=u},rJFj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("E9XD");function o(e){return![".","#","$","[","]"].map(t=>-1!==e.indexOf(t)).reduce((e,t)=>e||t,!1)}},rMzh:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("hU3F");class r{constructor(){this.width=new o.a(0),this.height=new o.a(0),this.recompute=()=>{if(this.el){const e=this.el.getBoundingClientRect();e.width!==this.width.get()&&this.width.set(e.width),e.height!==this.height.get()&&this.height.set(e.height)}else this.width.set(0),this.height.set(0)}}observe(e){this.el=e,"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.recompute),this.resizeObserver.observe(this.el)),this.recompute()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect()}}},"rQb/":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("Sb6f"),i=n("wldR");class s extends i.a{renderComponent(){const{divider:e,large:t,block:n,children:o,small:i,style:s,smallMarginBottom:l}=this.props,c="full"===e;return r.a.createElement("div",{style:{...this.getStyle(),...s,borderBottom:c?"1px solid ".concat(this.theme.regularDividerColor):0,marginBottom:c?16:l?4:8,paddingBottom:c?8:0,fontSize:c?16:t?14:i?12:14,fontWeight:c?a.a.fontWeight.medium:400,width:n?"100%":"auto"}},o)}getStyle(){const{hasMarginTop:e}=this.props,t={color:this.theme.regularTextColor};return e&&(t.marginTop=16),t}}t.a=s},rQgN:function(e,t,n){"use strict";var o=n("LvDl"),r=n.n(o),a=n("bwRH"),i=n("Mht8"),s=n("zb5D");const l=["BlockCache","LocalPreferenceStore","LocalPreferenceStore2","KeyValueStore","LocalTransactionStore","LocalRecordStore","LocalRecordStore2"],c=["amplitude","ajs","intercom","segmentio"];let d=!1;const u=new a.b({get:e=>{const t=localStorage.getItem("LRU:"+e);if(t)return JSON.parse(t)},set:(e,t)=>{try{localStorage.setItem("LRU:"+e,JSON.stringify(t))}catch(n){if(!d){d=!0;const o=Object.keys(localStorage),a=r.a.sortBy(o.map(e=>[e,JSON.stringify(localStorage[e]).length]),e=>-e[1]);i.log({level:"error",from:"LocalStorageStore",type:"set",error:Object(s.a)(n),data:{miscDataToConvertToString:{keysWithSizes:JSON.stringify(a),sessionHeartbeat:localStorage["LRU:KeyValueStore2:NotionSessionHeartbeat3"],setKey:"LRU:"+e,setValueLength:JSON.stringify(t).length}}})}for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);if(t){c.some(e=>t.startsWith(e))&&localStorage.removeItem(t)}}localStorage.setItem("LRU:"+e,JSON.stringify(t))}},remove:e=>localStorage.removeItem("LRU:"+e),scan:e=>{for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n)if(l.some(e=>n.startsWith(e)))localStorage.removeItem(n);else if(n.startsWith("LRU:")){const t=localStorage.getItem(n);if(t){const o=JSON.parse(t);e(n.slice("LRU:".length),o)}}}},getSize:()=>localStorage.length});t.a=class{constructor(e,t){this.lru=u,this.important=t,this.namespace=e}get(e){return this.lru.get(this.makeKey(e))}set(e,t){return this.lru.set(this.makeKey(e),t,this.important)}remove(e){return this.lru.remove(this.makeKey(e))}squeeze(e){return this.lru.squeeze(e)}scan(e){this.lru.scan((t,n)=>{t.startsWith(this.namespace)&&e(t.substring(this.namespace.length+1),n.value)})}makeKey(e){return[this.namespace,e].join(":")}}},rTCD:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("3bBZ");var o,r=n("mKX5"),a=n("LEzx"),i=n("Catn");!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(o||(o={}));class s extends a.a{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,currentlyScrolledMonth:0}}static getLocalViewPreferenceKey(e){return"CalendarView:".concat(e)}static getLocalPreferences({collectionViewId:e,currentUserId:t}){return i.a.get({userId:t,key:s.getLocalViewPreferenceKey(e)})}static getLocalDateRangeStart({collectionViewId:e,currentUserId:t}){const n=this.getLocalPreferences({collectionViewId:e,currentUserId:t});return n&&n.dateRangeStart?Object(r.a)(n.dateRangeStart):Object(r.a)()}static setLocalDateRangeStart({collectionViewId:e,dateRangeStart:t,currentUserId:n}){const o=this.getLocalPreferences({collectionViewId:e,currentUserId:n})||{},r=s.getLocalViewPreferenceKey(e),a={...o,dateRangeStart:t};i.a.set({userId:n,key:r,value:a})}}t.b=s},rXSH:function(e,t,n){"use strict";n("3bBZ"),n("UxlC");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("y6Dp"),l=n("Ng05"),c=n("zmp8"),d=n("meF8"),u=n("J9+s"),p=n("hgQN"),h=n("8lbb"),m=n("mF3+"),f=n("Z1H8"),g=n("prF1"),b=n("wXH4"),v=n("a9+E"),y=n("wldR"),S=n("cBa6"),w=n("Sb6f"),k=n("0CAA");class C extends y.a{constructor(){super(...arguments),this.input=i.a.createRef(),this.renderPopup=()=>{const{isOpen:e}=this.props,t=this.getThemeColors(),n={...this.styles.popupInputForm,...t.popupInputForm},o=i.a.createElement("div",{style:n},this.renderInput(),this.renderPopupSubmitButton());return i.a.createElement(f.a,{capture:e,allowEsc:!0,render:()=>this.getPopupType()===b.c.PopupType.SlideUp?i.a.createElement(i.a.Fragment,null,this.renderMobilePreview(),o):i.a.createElement(i.a.Fragment,null,o,this.renderEquationError())})},this.handleInputChange=e=>{const{isOpen:t,onChange:n,displayMode:o}=this.props;t&&n(e,p.d({environment:this.environment,equation:e,displayMode:o}))},this.handleSubmit=e=>{const{isOpen:t,disabled:n,error:o,onSubmit:r,onDismiss:a}=this.props;e.preventDefault&&e.preventDefault(),n||t&&(o||(r(),a()))},this.getHighlightedHtml=e=>{const{Prism:t}=this.props;return t.highlight(r.a.unescape(e),t.languages[v.PrismLanguages.latex],v.PrismLanguages.latex)},this.styles={popup:{width:400,display:"flex",flexDirection:"column"},popupInputForm:{display:"flex",alignItems:"center",padding:"8px 10px",width:"100%"},mobilePreview:{padding:"4px 8px",height:80,display:"flex",alignItems:"center",justifyContent:"center"},mobilePreviewValue:{overflow:"auto"},equationInput:{fontFamily:w.a.fontFamily.mono,fontSize:14,marginRight:8,flex:1,wordBreak:"break-word",maxHeight:"50vh",overflow:"auto"},equationInputBlock:{minHeight:60},equationInputSlideUp:{height:100},submitButton:{alignSelf:"flex-start"},enterIcon:{height:14,width:14,fill:"currentColor",marginLeft:6,marginTop:2},errorContainer:{color:c.g.redWithAlpha(.8),fontSize:12,padding:"8px 10px"},errorLabel:{fontWeight:600},learnMoreLink:{display:"inline",textDecoration:"underline"}}}didMount(){this.environment.KatexStore.loadIfNeeded(()=>[Object(S.f)("")])}getSelection(){if(this.input&&this.input.current)return this.input.current.getSelection()||void 0}renderComponent(){const{isOpen:e,onDismiss:t,origin:n,originRect:o,originGap:r,popupStyle:a}=this.props,s=this.getPopupType();return i.a.createElement(b.c,{popupType:s,open:e,origin:n,originRect:o,originGap:r,keepFocus:s===b.c.PopupType.SlideUp,onDismiss:t,style:{...this.styles.popup,...a},render:()=>this.renderPopup()})}renderInput(){const{disabled:e,isOpen:t,equationValue:n,onLeft:o,onRight:r,onDismiss:a,displayMode:s}=this.props,l=this.getThemeColors(),c=this.getPopupType()===b.c.PopupType.SlideUp,u=!e&&!c,p=c?{type:d.a.Textarea}:{type:d.a.InlineWrap,onSubmit:this.handleSubmit},h={...this.styles.equationInput,..."block"===s&&this.styles.equationInputBlock,...c&&this.styles.equationInputSlideUp},m={...h,...l.equationInputPlaceholder};return i.a.createElement(d.b,Object.assign({ref:this.input},p,{disabled:e,focus:t,selectAll:u,value:n||"",placeholder:this.getPlaceholderEquation(),getHtml:this.getHighlightedHtml,onChange:this.handleInputChange,onCancel:a,onLeft:o,onRight:r,placeholderStyle:m,style:h,autoCorrect:"off",autoCapitalize:"off"}))}getPlaceholderEquation(){const{displayMode:e}=this.props;return"block"===e?"|x| = \\begin{cases}             \n  x, &\\quad x \\geq 0 \\\\           \n -x, &\\quad x < 0             \n\\end{cases}":"E = mc^2"}renderPopupSubmitButton(){const{error:e,disabled:t}=this.props;if(!t)return i.a.createElement(l.a,{onClick:this.handleSubmit,disabled:t||Boolean(e),style:this.styles.submitButton},i.a.createElement(u.FormattedMessage,{defaultMessage:"Done",id:"equationInput.submitButton.label",description:"Button to submit the equation input field, and update the selected text to the new equation value"}),m.a.enter(this.styles.enterIcon))}renderEquationError(){if(!this.props.isOpen)return;const{error:e}=this.props,t=this.getPopupType()===b.c.PopupType.Popup;if(!e)return;const n=e.message.replace("KaTeX parse error: ",""),o={...this.styles.errorContainer,...t&&this.getThemeColors().errorContainerDesktop};return i.a.createElement("div",{role:"alert",style:o},i.a.createElement("span",{style:this.styles.errorLabel},i.a.createElement(u.FormattedMessage,{defaultMessage:"Invalid equation:",id:"equationInput.inputError.label",description:"Label preceding the error message returned by the equation parser"}))," ",n,". ",i.a.createElement(g.a,{href:Object(k.a)("guides.equations"),external:!0,onClick:()=>{s.C(this.environment,{from:"equation_input"})},style:this.styles.learnMoreLink},i.a.createElement(u.FormattedMessage,{defaultMessage:"Learn more",id:"equationInput.inputError.learnMore",description:"Link to help center guide on equations"})))}renderMobilePreview(){const{equationValue:e,error:t,displayMode:n}=this.props;if(e)return i.a.createElement("div",{style:this.styles.mobilePreview},t?this.renderEquationError():"block"===n?i.a.createElement(h.a,{display:n,equation:e,style:this.styles.mobilePreviewValue,theme:this.theme}):i.a.createElement(h.a,{display:n,equation:e,style:this.styles.mobilePreviewValue,theme:this.theme,index:0,isTemporary:!1}))}getPopupType(){const{device:e}=this.environment,t=e.isPhone&&e.isIOS&&e.isMobileBrowser;return e.isPhone&&!t?b.c.PopupType.SlideUp:b.c.PopupType.Popup}getThemeColors(){return{popupInputForm:{background:this.theme.inputBackground},errorContainerDesktop:{boxShadow:"0 -1px ".concat(this.theme.lightDividerColor)},equationInputPlaceholder:{color:this.theme.lightTextColor}}}}t.a=C},rXc8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("3bBZ");var o=n("bwRH"),r=n("ZoJK"),a=n("JU1L");class i{constructor(e){this.asyncStorageStore=e}async initialize(e){}async set(e,t,n,o,r){const i=Object(a.b)(e);return this.asyncStorageStore.set(i,t)}async get(e,t){const n=Object(a.b)(e);return await this.asyncStorageStore.get(n)}deleteRecord(e,t){const n=Object(a.b)(e);this.asyncStorageStore.remove(n)}async getRecordsWithParent(e){const{parent:t}=e,n=[];return await this.asyncStorageStore.scan((o,r)=>{if((-1===o.indexOf(":")?o:Object(a.a)(o))!==e.table)return;const i=r.value;i&&i.parent_table===t.table&&i.parent_id===t.id&&n.push(r)}),n}getPageBlocksByParent(e){return Promise.resolve([])}async reset(){}}t.b=class{constructor(e,t,n){this.lru=function(e){const t=Object(r.a)(e);if(!t)throw new Error("This codepath is deprecated, use executeSqliteTransaction instead.");return new o.a({get:(...n)=>t.getItem(e,...n),set:(...n)=>t.setItem(e,...n),remove:(...n)=>t.removeItem(e,...n),scan:(...n)=>t.scanItems(e,...n),getSize:(...n)=>t.getSize(e,...n)})}(e),this.namespace=t,this.important=n}async get(e){return await this.lru.get(this.makeKey(e))}async set(e,t){return await this.lru.set(this.makeKey(e),t,this.important)}async remove(e){return await this.lru.remove(this.makeKey(e))}squeeze(e){return this.lru.squeeze(e)}async scan(e){await this.lru.scan((t,n)=>{t&&n&&n.value&&t.startsWith(this.namespace)&&e(t.substring(this.namespace.length+1),n.value)})}makeKey(e){return[this.namespace,e].join(":")}}},raUL:function(e,t,n){"use strict";var o=n("ClNu");t.a=new o.a},re9x:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},rlmE:function(e,t,n){"use strict";var o=n("LvDl"),r=n.n(o),a=n("3zPy"),i=n.n(a);t.a=function e(t,n,o){if(r.a.isArray(o))return o.some(o=>e(t,n,o));{const e=o.toLowerCase().split("+");if(t.device.isWindows||t.device.isLinux){if((r.a.includes(e,"command")||r.a.includes(e,"ctrl"))!==n.ctrlKey)return!1}else{if(r.a.includes(e,"command")!==n.metaKey)return!1;if(r.a.includes(e,"ctrl")!==n.ctrlKey)return!1}return r.a.includes(e,"shift")===n.shiftKey&&(r.a.includes(e,"alt")===n.altKey&&r.a.every(e,e=>"command"===e||"shift"===e||"ctrl"===e||"alt"===e||i()(n.keyCode)===e))}}},"rro+":function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return k})),n.d(t,"a",(function(){return M})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return _}));n("3bBZ");var o=n("RqMp"),r=n("bB9B"),a=n("MBf9"),i=n("mF3+"),s=n("9uZX"),l=n("30UQ"),c=n("H4VD"),d=n("Rd/G"),u=n("vl8/"),p=n("J9+s"),h=n("yioD"),m=n("hbKx"),f=n("MOs8");const g=Object(p.defineMessages)({emptyWithIcon:{defaultMessage:"Empty with icon",id:"templatePickerHelpers.basicTemplateItems.emptyWithIcon",description:"When creating a new page, this button creates an empty page with a random icon for you"},empty:{defaultMessage:"Empty",id:"templatePickerHelpers.basicTemplateItems.empty",description:"When creating a new page, this button creates a completely empty page for you"},templates:{defaultMessage:"Templates",id:"templatePickerHelpers.basicTemplateItems.templates",description:"When creating a new page, this button opens up the template picker."},import:{defaultMessage:"Import",id:"templatePickerHelpers.basicTemplateItems.import",description:"When creating a new page, this button opens up a dialog for importing content from text/CSV/HTML/Word documents or external services like Evernote."}}),b=[{name:u.default.formatMessage(g.emptyWithIcon),type:"page_with_icon",shouldShow:()=>!0,onClick:(e,t)=>{a.createAndCommit(e,n=>{r.c({environment:e,store:t,transaction:n})})}},{name:u.default.formatMessage(g.empty),type:"empty_page",shouldShow:()=>!0,onClick:(e,t)=>{a.createAndCommit(e,n=>{r.a({environment:e,store:t,transaction:n})})}}],v={name:u.default.formatMessage(g.templates),type:"templates",shouldShow:()=>!0,onClick:(e,t)=>{l.g({environment:e,createNewPage:!1,isPrivate:!1})}},y={name:u.default.formatMessage(g.import),type:"import",shouldShow:()=>!0,onClick:(e,t)=>{o.a.setState({open:!0,pageStore:t})}},S=(e,t)=>{const n=Object(m.j)(t)&&h.a.getMode(e,t);return[...b,...n&&"edit"===n?[]:[v,y]]},w=Object(p.defineMessages)({pageWithIcon:{defaultMessage:"Page with icon",id:"templatePickerHelpers.mobileBasicTemplateItems.pageWithIcon"},emptyPage:{defaultMessage:"Empty page",id:"templatePickerHelpers.mobileBasicTemplateItems.emptyPage"}}),k=[{name:u.default.formatMessage(w.pageWithIcon),type:"page_with_icon",shouldShow:()=>!0,onClick:(e,t)=>{a.createAndCommit(e,n=>{r.c({environment:e,store:t,transaction:n})})}},{name:u.default.formatMessage(w.emptyPage),type:"empty_page",shouldShow:()=>!0,onClick:(e,t)=>{a.createAndCommit(e,n=>{r.a({environment:e,store:t,transaction:n})})}}],C=Object(p.defineMessages)({table:{defaultMessage:"Table",id:"templatePickerHelpers.databaseTemplateNames.table"},board:{defaultMessage:"Board",id:"templatePickerHelpers.databaseTemplateNames.board"},list:{defaultMessage:"List",id:"templatePickerHelpers.databaseTemplateNames.list"},calendar:{defaultMessage:"Calendar",id:"templatePickerHelpers.databaseTemplateNames.calendar"},gallery:{defaultMessage:"Gallery",id:"templatePickerHelpers.databaseTemplateNames.gallery"},timeline:{defaultMessage:"Timeline",id:"templatePickerHelpers.databaseTemplateNames.timeline"}}),M=[{name:u.default.formatMessage(C.table),type:"table",icon:i.a.collectionTable({height:17,width:17}),shouldShow:()=>!0,onClick:(e,t)=>{a.createAndCommit(e,n=>{r.b({environment:e,store:t,template:s.f(!1),transaction:n}),c.navigateToBlock({environment:e,store:t})})}},{name:u.default.formatMessage(C.board),type:"board",icon:i.a.collectionBoard({height:17,width:17}),shouldShow:()=>!0,onClick:(e,t)=>{a.createAndCommit(e,n=>{r.b({environment:e,store:t,template:s.a(!1),transaction:n}),c.navigateToBlock({environment:e,store:t})})}},{name:u.default.formatMessage(C.list),type:"list",icon:i.a.collectionList({height:17,width:17}),shouldShow:()=>!0,onClick:(e,t)=>{a.createAndCommit(e,n=>{r.b({environment:e,store:t,template:s.e(!1),transaction:n}),c.navigateToBlock({environment:e,store:t})})}},{name:u.default.formatMessage(C.calendar),type:"calendar",icon:i.a.collectionCalendar({height:17,width:17}),shouldShow:()=>!0,onClick:(e,t)=>{a.createAndCommit(e,n=>{r.b({environment:e,store:t,template:s.b(!1),transaction:n}),c.navigateToBlock({environment:e,store:t})})}},{name:u.default.formatMessage(C.gallery),type:"gallery",icon:i.a.collectionGallery({height:17,width:17}),shouldShow:()=>!0,onClick:(e,t)=>{a.createAndCommit(e,n=>{r.b({environment:e,store:t,template:s.d(!1),transaction:n}),c.navigateToBlock({environment:e,store:t})})}},{name:u.default.formatMessage(C.timeline),type:"timeline",icon:i.a.collectionTimeline({height:17,width:17}),shouldShow:()=>!0,onClick:(e,t)=>{a.createAndCommit(e,n=>{r.b({environment:e,store:t,template:s.g(!1),transaction:n}),c.navigateToBlock({environment:e,store:t})})}}];function E(e){if(Array.from(f.b).includes(e)){const t=Object(d.c)(u.default.getIntl()).find(t=>t.sectionName===e);if(t)return"personal"===e||"student"===e?t.items.slice(0,5):t.items}return[]}function _(e){const t=Object(d.d)(u.default.getIntl());if(!e&&t&&t.length>0)return t[0].items;const n=t.find(t=>t.sectionName===e);return n?n.items:[]}},s65R:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("SR/M"),i=n("wldR"),s=n("AlLG"),l=n("QkuB"),c=n("J9+s"),d=n("oWZM");class u extends i.a{renderComponent(){const{device:e}=this.environment;if(e.isMobile)return this.props.propertySchema?r.a.createElement(l.b,{propertySchema:this.props.propertySchema,onClick:this.props.onClick,focused:!1,format:l.b.DisplayFormat.Name,showExtensionArrow:!0}):r.a.createElement(a.a,{focused:!1,title:r.a.createElement(c.FormattedMessage,{defaultMessage:"Property",id:"database.mobileFilterAndSortMenu.property.buttonMenuItem.label"})});{const e=this.props.propertySchema&&r.a.createElement(s.a,{propertySchema:this.props.propertySchema,showIcon:!0,style:{lineHeight:1.4}}),t=r.a.createElement(c.FormattedMessage,{defaultMessage:"Property",id:"database.filterAndSortMenu.propertyButton.label"});return r.a.createElement(d.a,{title:e,placeholder:t,onClick:this.props.onClick,disabled:this.props.disabled,disableMargins:this.props.disableMargins})}}}t.a=u},sPNb:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));n("3bBZ"),n("Junv");var o=n("LvDl"),r=n.n(o),a=n("jZoB"),i=n("N34Z"),s=n("nM47"),l=n("HRSx"),c=n("Mf5Y"),d=n("MBf9"),u=n("z22Z"),p=n("Mr7a"),h=n("xL2i");function m(e){const{environment:t,block:n,blockType:o,transaction:m}=e,f=n.getValue(),g=n.recordStoreParentStore;if(s.j(t)&&f&&f.type!==o){const e=f.type;if(i.d({store:n,data:{type:o},transaction:m}),l.r[e]&&!l.r[o]){Object(h.h)(f).some(u.o)&&Object(p.d)({environment:t,store:n,transaction:m})}if(g&&!l.i[o]){(async()=>{const e=n.getContentStores();await Promise.all(e.map(e=>e.load())),Object(d.createAndCommit)(t,t=>{const o=r.a.clone(e).reverse();for(const e of o)a.e({parent:n.getContentStore(),remove:e,transaction:t}),a.b({parent:g,insert:e,after:n,transaction:t})})})()}c.c({store:n,transaction:m})}return n}function f(e){const{environment:t,blocks:n,blockType:o,transaction:r}=e;for(const a of n)m({environment:t,block:a,blockType:o,transaction:r});return n}},sQnJ:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"d",(function(){return w}));n("3bBZ");var o=n("cBa6"),r=n("RI9y"),a=n("Ajfl"),i=n("unoy"),s=n("6rsX"),l=n("y6Dp"),c=n("AmMh"),d=n("WaiN"),u=n("GKeo"),p=n("7IvN"),h=n("wllP"),m=n("onX9"),f=n("T8dS");const g=new Set(["/","／"]),b={"ja-JP":new Set(["；"])};function v(e){const{environment:t,textStore:n,oldSelection:a,oldTextValue:i}=e,s=o.I(n.getValue()||[])[a.startIndex],c=b[f.a]||new Set;if(!g.has(s)&&!c.has(s))return;if(u.a.state.open||m.a.state.open||d.a.state.open||p.a.state.open)return;if(t.device.isPhone)return;const h=r.get();if(!h)return;const v=r.getRect(h);v&&(u.a.setState({open:!0,isAddMenu:!1,textStore:n,oldTextValue:i,oldSelection:a,selectionRect:v}),l.kd(t))}function y(e){const{environment:t,blockStore:n}=e;if(!u.a.state.open&&!t.device.isPhone){const e=n.getBlockTitleStore(),t=c.a.getRectFromStore(n);t&&u.a.setState({open:!0,isAddMenu:!0,textStore:e,oldTextValue:e.getValue(),oldSelection:{startIndex:0,endIndex:0},selectionRect:t})}}function S(e){const{transaction:t,environment:n}=e,o=u.a.state;if(o.open){const{textStore:e,oldTextValue:r,oldSelection:l}=o;a.s({environment:n,store:e,value:r,transaction:t}),w();const c=Object(h.c)(e);c&&s.f({environment:n,store:c}),i.m({store:e,selection:l})}}function w(){u.a.setState({open:!1})}},sSHh:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("prF1"),s=n("mF3+"),l=n("y6Dp"),c=n("d9nj");class d extends a.a{renderComponent(){return r.a.createElement(i.a,{style:{display:"flex",marginLeft:-6},className:"notion-print-ignore",href:this.props.href,external:!0,onClick:()=>l.C(this.environment,{from:this.props.analyticsFrom})},r.a.createElement(c.a,{icon:s.a.help,isSmall:!0,isLightGray:!0,shouldShrink:this.props.shouldShrink},this.props.title))}}t.a=d},sUh3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("3bBZ");var o=n("6BF4");function r(e,t){const n=o.create({arrays:{detectMove:!1,includeValueOnMove:!0}}).diff(e,t);if(!n)return{beforeOps:{},removeOps:new Set};let r=[],a=[];for(const o in n)"_t"!==o&&("_"===o[0]?r.push(parseInt(o.slice(1),10)):1===n[o].length&&a.push({index:parseInt(o,10),value:n[o][0]}));const i={},s=new Set,l=[...e];r=r.sort((e,t)=>e-t);for(let o=r.length-1;o>=0;o--){const e=r[o],t=l.splice(e,1)[0];s.add(t)}a=a.sort((e,t)=>e.index-t.index);for(let o=0;o<a.length;o++){const e=a[o];i[e.value]=l[e.index],l.splice(e.index,0,e.value)}return{beforeOps:i,removeOps:s}}},sV9r:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("M64d"),l=n("tvfY"),c=n("NOLh"),d=n("vio7"),u=n("wldR"),p=n("AmMh"),h=n("fbat"),m=n("8SB7"),f=n("58VE"),g=n("5/h/");class b extends u.a{constructor(){super(...arguments),this.handleContainerMount=e=>{e&&(this.containerEl=e)},this.renderStateStore=this.createComputedStore(()=>{const{pageVisitStore:e,presenceStore:t}=this.props;if(!this.containerEl)return[];const n=this.environment.currentUser.id,o=Object(m.a)(e,t).filter(e=>e.userId!==n&&Object(m.c)(this.environment,e)),{rootStore:r}=t.state;if(!r)return[];if(o.length>0){const e={},t=h.a.state,n=p.a.getSortedComponents(),a=this.containerEl.getBoundingClientRect();return i.a.compact(o.map(o=>{const i=Object(m.b)(o);if(i){const s=n.find(e=>{const t=e.props.store;return Boolean(t&&t.id===i&&r.contains(t)&&e.props.shouldShowHalo)});if(s){e.hasOwnProperty(i)||(e[i]=0),e[i]++;const n=s.getNode();if(!n)return;if(!(n instanceof Element))return;const r=n.getBoundingClientRect(),l=t.isOpen&&t.currentStore.id===i?b.selectableHoverMenuTargetOffset:0;if(r)return{userId:o.userId,left:r.left-a.left-l,top:r.top-a.top+(e[i]-1)*b.iconStackOffset}}}}))}return[]},!0),this.updateAvatars=()=>{this.renderStateStore.recompute()},this.updateAvatarsDebounced=i.a.debounce(this.updateAvatars,100)}didMount(){super.didMount(),window.addEventListener("resize",this.updateAvatarsDebounced),this.interval=setInterval(this.updateAvatarsDebounced,b.updateInterval)}willUnmount(){super.willUnmount(),window.removeEventListener("resize",this.updateAvatarsDebounced),clearInterval(this.interval)}renderComponent(){return r.a.createElement("div",{className:"notion-presence-container",style:b.containerStyle,ref:this.handleContainerMount},r.a.createElement(d.a,{render:()=>i.a.compact(this.renderStateStore.state.map(({userId:e,left:t,top:n})=>this.renderAvatar(e,t,n)))}))}renderAvatar(e,t,n){const{device:o}=this.environment,{rootStore:a}=this.props.presenceStore.state;if(!a)return;const i=this.getAvatarWrapEnterExitStyle(t,n),d=l.a.createChildStore(a,{table:g.a,id:e}).getValue();return d?r.a.createElement(c.a,{isVisible:!0,key:e,enterAnimationStyle:i,exitAnimationStyle:i,animationStyle:this.getAvatarWrapAnimationStyle(t,n),render:()=>Object(s.a)(t=>r.a.createElement("div",Object.assign({key:e,style:this.getAvatarWrapStyle()},t),r.a.createElement(f.a,{userValue:d,style:this.getAvatarStyle(),size:o.isMobile?b.avatarMobileSize:b.avatarSize,avatarShouldShowShadow:!0})))}):void 0}getAvatarWrapAnimationStyle(e,t){const{device:n}=this.environment;return n.isMobile?(e-=21,t+=5):(e-=28,t+=3),{translateX:e,translateY:t,scale:1,opacity:1}}getAvatarWrapEnterExitStyle(e,t){return{...this.getAvatarWrapAnimationStyle(e,t),scale:.5,opacity:0}}getAvatarWrapStyle(){const{device:e}=this.environment;let t;return t=e.isMobile?b.avatarMobileSize:b.avatarSize,{position:"absolute",top:0,left:0,width:t,height:t}}getAvatarStyle(){const{device:e}=this.environment;let t;return t=e.isMobile?b.avatarMobileSize:b.avatarSize,{width:t,height:t}}}b.updateInterval=1e3,b.iconStackOffset=15,b.selectableHoverMenuTargetOffset=44,b.avatarSize=24,b.avatarMobileSize=20,b.containerStyle={position:"absolute",top:0,left:0,pointerEvents:"none",zIndex:1},t.a=b},sZEU:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("y6Dp"),r=n("q4wu"),a=n("oqYu"),i=n("bkwR"),s=n("HTHG");function l(e){const{environment:t,from:n,prepopulatedContent:l}=e;o.nd(t,{from:n});const c=Object(s.c)();let d=0;r.e({prepopulatedContent:l,waitForCssInsets:()=>Object(a.waitForCssInsets)(t)}),setTimeout((async function e(){d++;const n=await function(){if(c)return Object(i.annotateRecentIntercomConversation)(t,{pageId:c})}();n&&"success"===n.type&&"not_found"===n.data.status&&d<3&&setTimeout(e,60)}),6e4)}},sbdd:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("SR/M"),i=n("wpmu"),s=n("G4cA"),l=n("OxuQ"),c=n("Oy36"),d=n("wldR"),u=n("aw/t"),p=n("gbGO"),h=n("mF3+"),m=n("qX+M");class f extends d.a{renderComponent(){const{store:e,placeholder:t,hidePath:n,caption:o}=this.props,i=o||!n&&Object(u.b)(e)&&r.a.createElement(u.a,{store:e,showFullPathInTooltip:!0});return r.a.createElement(a.a,Object.assign({},this.props,{title:r.a.createElement(l.a,{store:e,placeholder:t}),icon:this.renderIcon(),caption:i,className:"notranslate"}))}renderIcon(){const{store:e}=this.props,{isMobile:t}=this.environment.device;return this.props.isSubpage?r.a.createElement(o.Fragment,null,h.a.sub({width:t?17:14,fill:this.theme.lightIconColor,marginLeft:4,marginRight:t?12:8}),r.a.createElement(c.a,{disabled:!0,icon:e instanceof s.a?Object(m.getSpaceIcon)(this.environment,e):e.getIcon(),isEmptyPage:e instanceof i.a&&e.isEmptyPage(),title:e instanceof s.a?Object(m.getSpaceName)(this.environment,e):void 0,size:this.environment.device.isMobile?24:20})):r.a.createElement(c.a,{disabled:!0,icon:e instanceof s.a?Object(m.getSpaceIcon)(this.environment,e):e.getIcon(),isEmptyPage:e instanceof i.a&&e.isEmptyPage(),title:e instanceof s.a?Object(m.getSpaceName)(this.environment,e):void 0,size:this.environment.device.isMobile?24:20})}}f.contextTypes={...p.c},t.a=f},sdlW:function(e,t,n){"use strict";n.d(t,"e",(function(){return ee})),n.d(t,"m",(function(){return te})),n.d(t,"f",(function(){return ne})),n.d(t,"i",(function(){return oe})),n.d(t,"v",(function(){return re})),n.d(t,"o",(function(){return ae})),n.d(t,"n",(function(){return ie})),n.d(t,"p",(function(){return se})),n.d(t,"b",(function(){return le})),n.d(t,"a",(function(){return ce})),n.d(t,"c",(function(){return de})),n.d(t,"z",(function(){return ue})),n.d(t,"A",(function(){return he})),n.d(t,"y",(function(){return me})),n.d(t,"t",(function(){return fe})),n.d(t,"k",(function(){return ge})),n.d(t,"l",(function(){return be})),n.d(t,"h",(function(){return ve})),n.d(t,"r",(function(){return ye})),n.d(t,"s",(function(){return Se})),n.d(t,"q",(function(){return we})),n.d(t,"d",(function(){return ke})),n.d(t,"x",(function(){return Ce})),n.d(t,"w",(function(){return Me})),n.d(t,"g",(function(){return Ee})),n.d(t,"u",(function(){return _e})),n.d(t,"j",(function(){return xe})),n.d(t,"B",(function(){return Ie}));n("3bBZ"),n("UxlC");var o=n("LvDl"),r=n.n(o),a=n("Mht8"),i=n("udrG"),s=n("FUUC"),l=n("wpmu"),c=n("G4cA"),d=n("lKX+"),u=n("bkwR"),p=n("jZoB"),h=n("Mr7a"),m=n("N34Z"),f=n("H4VD"),g=n("MBf9"),b=n("hODJ"),v=n("HSWF"),y=n("Fe7V"),S=n("y6Dp"),w=n("nM47"),k=n("cBa6"),C=n("p+Y9"),M=n("ju2U"),E=n("VBxf"),_=n("g90h"),T=n("hvW1"),x=n("QcDD"),I=n("UiOz"),P=n("p0Ff"),O=n("A9TN"),B=n("8L2b"),L=n("vJXr"),R=n("qpkC"),D=n("Ripq"),A=n("UQxX"),j=n("9axl"),F=n("qX+M"),V=n("Rd/G"),N=n("30UQ"),U=n("HRSx"),z=n("J9+s"),X=n("vl8/"),Y=n("h2IJ"),H=n("6dM0"),q=n("SiBm"),W=n("2ZkR"),G=n("mXKa"),Z=n("922z"),K=n("mgru"),J=n("+fkW"),Q=n("zb5D");const $=Object(z.defineMessages)({deletingWorkspace:{id:"spaceActions.deletingWorkspace.loadingMessage",defaultMessage:"Deleting workspace…"},goOnlineCreateSpace:{defaultMessage:"Please go online to create your workspace.",id:"spaceActions.dialogError.createWorkspaceError.goOnline.message"},createSpaceError:{defaultMessage:"Sorry! We could not create your workspace. Please try again.",id:"spaceActions.dialogError.createWorkspaceError.message"},loginToCreateSpace:{defaultMessage:"Must be logged in.",id:"spaceActions.dialogError.createWorkspaceError.notLoggedIn.message"},moveToSpaceOnlineError:{defaultMessage:"Please go online to move content to another space.",id:"spaceActions.dialogError.moveContentError.goOnline.message"},cannotMoveShardRestriction:{defaultMessage:"Cannot move these pages at once.",id:"spaceActions.dialogError.moveContentError.cannotMovePages.message"},cannotMoveContent:{defaultMessage:"Sorry! We could not move this content. Please try again.",id:"spaceActions.dialogError.couldNotMoveContentError.message"},loginToMoveContent:{defaultMessage:"Must be logged in.",id:"spaceActions.dialogError.movetoWorkspace.notLoggedIn.message"},invalidSpaceStore:{defaultMessage:"Invalid space data.",id:"spaceActions.dialogError.createTemplatesInSpace.invalidStorage.message",description:"Space data refers to the data we store on the user's machine about the workspace these templates are being created in."},forkPageError:{defaultMessage:"Could not fork page.",id:"spaceActions.dialogError.forkPageError.message"},invalidSpaceStoreOnNavigate:{defaultMessage:"Invalid space data.",id:"spaceActions.dialogError.navigateToWorkspace.invalidStorage.message",description:"Space data refers to the data we store on the user's machine about the workspace that the user is attempting to navigate to."},clientCopyError:{defaultMessage:"Client copy could not be created.",id:"spaceActions.createGettingStartedPage.copyNotCreated.error",description:"Client refers to the user's Notion application."},invalidSpaceStoreOnCreateTemplate:{defaultMessage:"Invalid space view data.",id:"spaceActions.dialogError.createTemplatesInWorkspace.invalidStorage.message",description:"Space view data refers to the data we store on the user's machine about the workspace that the user is creating templates in."},invalidUserSettings:{defaultMessage:"Invalid user settings data.",id:"spaceActions.dialogError.createTemplatesInWorkspace.invalidUserSettings.message",description:"User settings data refers to the data we store on the user's machine about the current logged in user's settings."},noSpaceViewOnJoin:{defaultMessage:"No space view data was created.",id:"spaceActions.dialogError.joinWorkspace.invalidWorkspaceStorage.message",description:"Space view data refers to the data we store on the user's machine about the workspace that the user is attempting to join."},noLocalDataForPermissionGroup:{defaultMessage:"No local data about this workspace.",id:"spaceActions.dialogError.createOrUpdatePermissionGroup.invalidWorkspaceStorage.message",description:"Local data refers to the data we store on the user's machine about the workspace that the user is attempting to create or update a permission group in."}});async function ee(e){const{environment:t,name:n,domain:o,userRootStore:r,emailDomains:a,analyticsFrom:i,icon:l,planType:h,initialUseCases:f}=e,{id:b}=t.currentUser;if(b){const e=await u.createSpace(t,{name:n,domain:o,emailDomains:a,icon:l,planType:h,initialUseCases:f});if("failed"===e.type){if(e.offline)throw new Error(X.default.formatMessage($.goOnlineCreateSpace));throw new Error(X.default.formatMessage($.createSpaceError))}const{spaceId:v,inviteLinkCode:y}=e.data,w=new c.a(t,{table:s.a,id:v}),k=g.create(t),C=m.b({environment:t,table:B.a,value:{space_id:w.id,notify_mobile:!0,notify_desktop:!0,notify_email:!0,parent_id:b,parent_table:j.a,alive:!0,joined:!0},inMemoryRecordCache:r.inMemoryRecordCache,transaction:k}),M=new d.a(t,C.pointer);p.a({parent:r.getSpaceViewsStore(),append:C,transaction:k}),S.lb(t,{from:i,spaceId:v,planType:h});const E=k.awaitDone();return g.commit({environment:t,transaction:k}),await E,{spaceViewStore:M,spaceStore:w,inviteLinkCode:y}}throw new Error(X.default.formatMessage($.loginToCreateSpace))}async function te(e){const{environment:t,blockStores:n,spaceId:o}=e,{id:i}=t.currentUser;if(i){if(!L.a.state.online)return{error:X.default.formatMessage($.moveToSpaceOnlineError)};const e=n.map(e=>e.id);if(r.a.uniq(n.map(e=>{const t=e.getValue();return t?t.space_id:void 0})).length>1)return{error:X.default.formatMessage($.cannotMoveShardRestriction)};const s=u.moveToSpace(t,{blockIds:e,spaceId:o});for await(const t of s)if(t.error)return a.log({level:"error",from:"spaceActions",type:"moveSpaceError",error:Object(Q.a)(t.error),data:{userId:i,blockIds:e,spaceId:o}}),{error:X.default.formatMessage($.cannotMoveContent)};return{value:void 0}}return{error:X.default.formatMessage($.loginToMoveContent)}}async function ne(e){const{environment:t,spaceViewStore:n,templates:o,isPrivate:r,userSettingsStore:a,redirectData:i,userRootStore:s,planType:l,spaceJoinOrCreate:c}=e,d=n.getSpaceStore();if(!d)throw new Error(X.default.formatMessage($.invalidSpaceStore));a&&d&&o&&await async function(e){const{spaceStore:t,spaceViewStore:n,userSettingsStore:o,templates:r}=e;if(await Promise.all([t.load(),n.load(),o.load()]),t.canEdit()){const t=n.getValue();if(!t)throw new Error(X.default.formatMessage($.invalidSpaceStoreOnCreateTemplate));if(!o.getValue())throw new Error(X.default.formatMessage($.invalidUserSettings));t.created_onboarding_templates||await async function(e){const{environment:t,spaceStore:n,spaceViewStore:o,templates:r,isPrivate:a}=e,i=r.map(e=>N.c({environment:t,item:e,isPrivate:a,spaceStore:n,spaceViewStore:o,useMinimalTemplates:!0}));await Promise.all(i),g.createAndCommit(t,e=>{const t={created_onboarding_templates:!0};m.d({store:o,data:t,transaction:e})})}({...e,templates:r})}}({environment:t,isPrivate:r,templates:o,userSettingsStore:a,spaceStore:d,spaceViewStore:n});let u=void 0;if(a&&(u=await async function(e){const{environment:t,spaceStore:n,spaceViewStore:o,userSettingsStore:r,planType:a,spaceJoinOrCreate:i}=e;if(await Promise.all([n.load(),o.load(),r.load()]),n.canEdit()){const e=o.getValue();if(!e)throw new Error(X.default.formatMessage($.invalidSpaceStoreOnCreateTemplate));if(!r.getValue())throw new Error(X.default.formatMessage($.invalidUserSettings));let s;if(s=t.device.isMobile?"mobile":"personal"===a?"desktopPersonal":"create"===i?"new"===W.default.getGroup(t,"desktop-team-create-page")?"desktopTeamCreateNew":"desktopTeamCreate":"desktopTeamJoin",!e.created_getting_started)return de({environment:t,spaceStore:n,spaceViewStore:o,type:s,userSettingsStore:r})}}({environment:t,spaceStore:d,spaceViewStore:n,userSettingsStore:a,planType:l,spaceJoinOrCreate:c})),"fork_page"===i.type){return await oe({environment:t,userRootStore:s,isPrivate:r,forkedPageId:i.pageId,spaceStore:d,spaceViewStore:n})}return u}async function oe(e){const{environment:t,userRootStore:n,isPrivate:o,forkedPageId:r,spaceStore:a,spaceViewStore:i}=e;if(a.canEdit()){const e=l.a.createChildStore(n,{table:U.a,id:r});v.w({currentUserId:t.currentUser.id,blockId:void 0});const s=await D.b({environment:t,store:e,spaceStore:a,spaceViewStore:i,isPrivate:o});if(void 0===s.error)return s.value}throw new Error(X.default.formatMessage($.forkPageError))}async function re(e){const{environment:t,spaceViewStore:n,metaClick:o}=e;await n.awaitNonNullValue();const r=n.getSpaceStore();if(!r)throw new Error(X.default.formatMessage($.invalidSpaceStoreOnNavigate));o||(M.c({bannerStore:I.a,id:C.g}),x.default.setState({...x.default.state,currentSpaceStore:r,currentSpaceViewStore:n}));const a=t.currentUser.id,i=n.userRootParentId();if(i&&a!==i){const e=await A.a({environment:t,newCurrentUserId:i}),{currentUserSettingsStore:n,currentUserRootStore:o}=x.default.state;return{switchedUser:!0,newEnvironment:e,newUserRootStore:o,newUserSettingsStore:n}}return{switchedUser:!1}}async function ae(e){const{spaceViewStore:t,redirectPageId:n,metaClick:o}=e;let{environment:r,userSettingsStore:a,userRootStore:i}=e;const s=t.getSpaceStore();if(!s)throw new Error(X.default.formatMessage($.invalidSpaceStoreOnNavigate));const c=await re({environment:r,spaceViewStore:t,metaClick:o});let d;c.switchedUser&&(r=c.newEnvironment,a=c.newUserSettingsStore,i=c.newUserRootStore);const u=Object(G.getSessionVisitedEvernotePage)();if(a){const e=a.getSettings();s.canEdit()&&u&&!e.created_evernote_getting_started&&(Object(G.setSessionVisitedEvernotePage)(!1),d=await de({environment:r,type:"evernote",spaceStore:s,spaceViewStore:t,userSettingsStore:a}))}const p=await Object(F.getFirstPageStore)(r,t),h=i&&i.getSpaceViewStores();if(n)f.navigateToBlock({environment:r,store:new l.a(r,{table:U.a,id:n}),metaClick:o});else if(d)f.navigateToBlock({environment:r,store:d,metaClick:o});else if(p)f.navigateToBlock({environment:r,store:p,metaClick:o});else if(s.canEdit()){const e=g.create(r),n=le({environment:r,spaceStore:s,spaceViewStore:t,isPrivate:!0,transaction:e,prepend:!1});g.commit({environment:r,transaction:e}),f.navigateToBlock({environment:r,store:n,metaClick:o})}else a&&i&&h&&h.length>0&&h[0]&&h[0].id!==t.id?(v.C(),await ie({environment:r,userRootStore:i,userSettingsStore:a,metaClick:o})):(v.C(),await b.a(r))}async function ie(e){const{environment:t,userRootStore:n,ignoreSpaceId:o,userSettingsStore:r,metaClick:a}=e;await n.load();const i=n.getSpaceViewStores();await Promise.all(i.map(e=>e.load()));const s=i.find(e=>!!e.getValue()&&(!o||e.getSpaceId()!==o));s?await ae({environment:t,spaceViewStore:s,userSettingsStore:r,userRootStore:n,metaClick:a}):(v.C(),await b.a(t))}async function se(e){const{environment:t,index:n,userRootStore:o,userSettingsStore:r}=e,a=q.a.getAllSpaceViewStores(t)[n];a&&await ae({environment:t,spaceViewStore:a,userSettingsStore:r,userRootStore:o})}function le(e){const{environment:t,spaceViewStore:n,spaceStore:o,isPrivate:r,prepend:a,title:s,transaction:l,loading:c}=e,d=m.a({environment:t,type:c?i.a.copyIndicator:i.a.page,properties:{title:s?k.m(s):void 0},inMemoryRecordCache:o.inMemoryRecordCache,transaction:l});return ce({environment:t,spaceStore:o,spaceViewStore:n,pageStore:d,isPrivate:r,prepend:a,transaction:l}),d}function ce(e){const{environment:t,spaceStore:n,pageStore:o,isPrivate:r,prepend:a,transaction:i}=e,{id:s}=t.currentUser;let l;r?s&&(l={type:"user_permission",role:"editor",user_id:s}):l={type:"space_permission",role:"editor"},m.d({store:o,data:{permissions:l?[l]:[]},transaction:i}),a?p.d({parent:n.getPagesStore(),prepend:o,transaction:i}):p.a({parent:n.getPagesStore(),append:o,transaction:i})}async function de(e){const{environment:t,type:n,spaceStore:o,spaceViewStore:r,userSettingsStore:a}=e;if(!L.a.state.online)return;const i=Object(V.e)(n,X.default.getIntl()).rootId,s=await u.loadBlockSubtree(t,{blockId:i,shallow:!1});if("failed"===s.type)return;const l=g.create(t),c=le({environment:t,spaceStore:o,spaceViewStore:r,isPrivate:!0,prepend:!0,transaction:l}),d=new Z.a(s.data.subtreeRecordMap);y.g({environment:t,inMemoryRecordCache:c.inMemoryRecordCache,recordMap:d});const p=R.b(t,{blockId:i,inMemoryRecordCache:c.inMemoryRecordCache,allowCopyCollections:!0,requireFullSubtree:!1,skipTransclusionContainerChildren:!0});if(!p)throw new Error(X.default.formatMessage($.clientCopyError));R.c({environment:t,sourceBlockId:i,targetBlockId:c.id,sourceBlockSubtree:p,targetInMemoryRecordCache:c.inMemoryRecordCache,transaction:l,deepCopyTransclusionContainers:!1});const h={},f={};return"evernote"===n?f.created_evernote_getting_started=!0:h.created_getting_started=!0,Object.keys(h).length>0&&m.d({store:r,data:h,transaction:l}),Object.keys(f).length>0&&m.d({store:a.getSettingsStore(),data:f,transaction:l}),g.commit({environment:t,transaction:l}),S.Sb(t,{getting_started_page_type:n,getting_started_page_id:i}),c}async function ue(e){const{environment:t,spaceStore:n}=e,o=g.create(t),a=n.getValue();a&&!Object(K.a)(a.email_domains,e.emailDomains)&&S.l(t,{domains:e.emailDomains||[],confirmed:!0});const i=n.getValue(),s={email_domains:e.emailDomains};e.name&&(s.name=e.name);const l={};for(const c of Object.keys(s)){const e=i?i[c]:void 0,t=s[c];r.a.isEqual(e,t)||(l[c]=t||null)}r.a.isEmpty(l)||(m.d({store:n,data:l,transaction:o}),g.commit({environment:t,transaction:o}),await new Promise((e,t)=>{o.postSubmitCallbacks.push(n=>{n?t(n):e()})}))}async function pe(e){const{environment:t,spaceStore:n,domain:o}=e;await u.updateSpaceDomain(t,{spaceId:n.id,domain:o}),J.a.getPublicSpaceData(t,n.id,!0)}async function he(e){const{environment:t,spaceStore:n,spaceBasicSettingsStore:o}=e,{name:r,domain:a,emailDomains:i}=o.state;await Promise.all([ue({environment:t,spaceStore:n,name:r,emailDomains:i}),pe({environment:t,spaceStore:n,domain:a})])}const me=function(e){const{environment:t,transaction:n,spaceStore:o,disablePublicAccess:r,disableGuests:a,disableMoveToSpace:i,disableExport:s,disableSpacePageEdits:l,disablePublicAccessRequests:c}=e;m.d({store:o,data:{disable_public_access:r,disable_guests:a,disable_move_to_space:i,disable_export:s,disable_space_page_edits:l,disable_public_access_requests:c},transaction:n}),c&&S.Se(t,{disable_public_access_requests:c})},fe=function(e){const{transaction:t,spaceStore:n,inviteLinkEnabled:o}=e;m.d({store:n,data:{invite_link_enabled:o},transaction:t})};async function ge(e){const{environment:t,spaceId:n,userRootStore:o,navigate:r,analyticsFrom:a,userSettingsStore:i,redirectPageId:s,inviteCode:l}=e,c=o.getSpaceViewStores().find(e=>{const t=e.getValue();return Boolean(t&&t.space_id===n)});if(O.default.isAdminMode||u.setSpaceNotificationsAsRead(t,{timestamp:Date.now(),spaceId:n}),c)return!0!==c.getJoined()&&g.createAndCommit(t,e=>{Te({spaceViewStore:c,transaction:e})}),r&&await ae({environment:t,spaceViewStore:c,userSettingsStore:i,redirectPageId:s,userRootStore:o}),{spaceViewStore:c};{const c=await u.addUsersToSpace(t,{userIds:[o.id],spaceId:e.spaceId,inviteCode:l});if("failed"===c.type)throw c.body&&c.body.clientData&&"invite_link_disabled"===c.body.clientData.type&&Y.a.remove(H.z),c.error;const d=o.getSpaceViewStores();await Promise.all(d.map(e=>e.load()));const p=d.find(e=>{const t=e.getValue();return Boolean(t&&t.space_id===n)});if(!p)throw new Error(X.default.formatMessage($.noSpaceViewOnJoin));return!0!==p.getJoined()&&g.createAndCommit(t,e=>{Te({spaceViewStore:p,transaction:e})}),r&&await ae({environment:t,spaceViewStore:p,userSettingsStore:i,redirectPageId:s,userRootStore:o}),w.g({environment:t,spaceId:e.spaceId}).then(()=>{S.gc(t,{from:a})}),Y.a.remove(H.z),{spaceViewStore:p}}}async function be(e){const{environment:t,spaceId:n,userSettingsStore:o}=e,{currentUserRootStore:r,currentUserStore:a}=x.default.state;if(r&&a){const e=await u.removeUsersFromSpace(t,{userIds:[a.id],spaceId:n,removePagePermissions:!0,revokeUserTokens:!1});return"success"===e.type?(ie({environment:t,userRootStore:r,ignoreSpaceId:n,userSettingsStore:o}),!0):(E.showError(e),!1)}}async function ve(e){const{environment:t,spaceId:n,userSettingsStore:o}=e,{currentUserRootStore:r,currentUserStore:a}=x.default.state;if(r&&a){T.b({message:$.deletingWorkspace});try{const{value:e}=await u.deleteSpace(t,{spaceId:n}).next();if(e.error)throw e.error;await y.e({environment:t,inMemoryRecordCache:P.default,pointer:{table:j.a,id:r.id},userId:t.currentUser.id}),ie({environment:t,userRootStore:r,ignoreSpaceId:n,userSettingsStore:o})}finally{T.a()}}}function ye(e){const{environment:t,blocks:n,transaction:o}=e,r=t.currentUser.id;if(r)for(const a of n)m.d({store:a,data:{permissions:[{type:"user_permission",role:"editor",user_id:r}]},transaction:o})}function Se(e){const{environment:t,blocks:n,transaction:o}=e;if(t.currentUser.id)for(const r of n){r.getPermissionItems().find(e=>"space_permission"===e.type)||h.f({environment:t,store:r,permissionItems:[{type:"space_permission",role:"editor"}],transaction:o})}}function we(e){const{blocks:t,transaction:n}=e;for(const o of t)m.d({store:o,data:{permissions:null},transaction:n})}function ke(e){const{spaceStore:t,transaction:n}=e,o=t.getValue();if(!o)throw new Error(X.default.formatMessage($.noLocalDataForPermissionGroup));const r={id:Object(_.b)()},a=[r,...o.permission_groups||[]];return m.d({store:t,data:{permission_groups:a},transaction:n}),r}function Ce(e){const{spaceStore:t,groups:n,transaction:o}=e;m.d({store:t,data:{permission_groups:n},transaction:o})}function Me(e){const{spaceStore:t,group:n,transaction:o}=e,r=t.getValue();if(!r)throw new Error(X.default.formatMessage($.noLocalDataForPermissionGroup));const a=r.permission_groups||[];let i;i=a.findIndex(e=>e.id===n.id)>=0?a.map(e=>e.id===n.id?n:e):[...a,n],m.d({store:t,data:{permission_groups:i},transaction:o})}async function Ee(e){const{environment:t,spaceStore:n,group:o,transaction:r}=e,a=n.getValue();if(!a)throw new Error(X.default.formatMessage($.noLocalDataForPermissionGroup));const i=(a.permission_groups||[]).filter(e=>e.id!==o.id);m.d({store:n,data:{permission_groups:i},transaction:r}),await u.transferPermissionGroup(t,{spaceId:n.id,groupId:o.id})}const _e=function(e){const{userRootStore:t,spaceViewIds:n,transaction:o}=e;m.d({store:t,data:{space_views:n},transaction:o})};function Te(e){m.d({store:e.spaceViewStore,data:{joined:!0},transaction:e.transaction})}function xe(e){const t=e.getDomain();return t?"".concat(window.location.host,"/").concat(t):null}function Ie(e){return e=(e=e.toLowerCase()).replace(/[^a-z0-9]/g,"")}},sgGF:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var o=n("fIr1"),r=n("g90h");function a(e){const{user_id:t,token:n}=e;return Object(r.c)([t,n].join(""))}const i="firebase_token",s={table:i,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,token:o.a.String,user_id:o.a.UUID,invalid:o.a.Boolean}};t.b=s},sjR4:function(e,t,n){"use strict";n.r(t),n.d(t,"SelectionPhase",(function(){return o}));var o,r=n("LvDl"),a=n.n(r),i=n("LEzx"),s=n("AmMh");!function(e){e[e.Selected=0]="Selected",e[e.Editing=1]="Editing"}(o||(o={}));class l extends i.a{getInitialState(){return{stores:[],phase:o.Selected}}cloneState(){return{stores:a.a.clone(this.state.stores),phase:this.state.phase}}getEditing(){if(this.state.phase===o.Editing)return this.state.stores[0]}isSelected(){return this.state.stores.length>0&&this.state.phase===o.Selected}getNodes(){return a.a.compact(a.a.map(this.state.stores,e=>s.a.findNodeFromStore(e)))}getCurrentRootStore(){const{defaultContainer:e}=this.state;if(e)return e.props.store}getCurrentRecordCache(){const e=this.getCurrentRootStore();if(e)return e.inMemoryRecordCache}}const c=new l;t.default=c},sotD:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return w}));n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("922z"),i=n("HRSx"),s=n("fO5X"),l=n("cBa6"),c=n("kaWB"),d=n("6SEd"),u=n("ezkE"),p=n("VhAz"),h=n("bmSz"),m=n("VpIZ"),f=n("xL2i");async function g(e){const{loadRecordValue:t,operationPointers:n,initialRecordMap:o,finalRecordMap:l}=e,u=[],p=[];return await Promise.all(n.map(async e=>{if(Object(a.d)(e,i.a)){const n=o.get(e),a=l.get(e),c=Object(s.a)(b(n),b(a));if(await Promise.all([...c.deleted.map(async n=>{await async function(e){const t=e.initialRecordMap.get({table:i.a,id:e.blockId});if(t&&t.parent_id!==e.parentId)return!0;const n=e.finalRecordMap.get({table:i.a,id:e.blockId});if(n&&n.parent_id!==e.parentId)return!0;if(!n){const t=await e.loadRecordValue({table:i.a,id:e.blockId});if(t&&t.parent_id!==e.parentId)return!0}return!1}({loadRecordValue:t,blockId:n,parentId:e.id,initialRecordMap:o,finalRecordMap:l})&&p.push({block_id:n,mentioned_from:{type:"reference",parent_block_id:e.id}})}),...c.created.map(async n=>{await async function(e){const t=e.finalRecordMap.get({table:i.a,id:e.blockId});if(t&&t.parent_id!==e.parentId)return!0;if(!t){const t=await e.loadRecordValue({table:i.a,id:e.blockId});if(t&&t.parent_id!==e.parentId)return!0}return!1}({loadRecordValue:t,blockId:n,parentId:e.id,finalRecordMap:l})&&u.push({block_id:n,mentioned_from:{type:"reference",parent_block_id:e.id}})})]),n&&a&&n.parent_id!==a.parent_id){if(n.parent_table===i.a){let o=l.get({table:i.a,id:n.parent_id});o||(o=await t({table:i.a,id:n.parent_id})),o&&o.content&&o.content.includes(e.id)&&u.push({block_id:e.id,mentioned_from:{type:"reference",parent_block_id:n.parent_id}})}if(a.parent_table===i.a){let n=l.get({table:i.a,id:a.parent_id});n||(n=await t({table:i.a,id:a.parent_id})),n&&n.content&&!n.content.includes(e.id)&&u.push({block_id:e.id,mentioned_from:{type:"reference",parent_block_id:a.parent_id}})}}if((!n||n&&!n.collection_id)&&a&&a.collection_id){let e=l.get({table:d.a,id:a.collection_id});e||(e=await t({table:d.a,id:a.collection_id})),e&&e.parent_id!==a.id&&u.push({block_id:e.parent_id,mentioned_from:{type:"collection_reference",block_id:a.id}})}const h=Object(s.b)(y(n),y(a),v);for(const{blockId:t,propertyId:o}of h.created)u.push({block_id:t,mentioned_from:{type:"property_mention",block_id:e.id,property_id:o}});for(const{blockId:t,propertyId:o}of h.deleted)p.push({block_id:t,mentioned_from:{type:"property_mention",block_id:e.id,property_id:o}});const m=k(n),f=k(a);m&&!r.a.isEqual(m,f)&&p.push({block_id:m.id,mentioned_from:{type:"alias",pointer:e}}),f&&!r.a.isEqual(m,f)&&u.push({block_id:f.id,mentioned_from:{type:"alias",pointer:e}});const g=C(n),S=C(a);g&&!r.a.isEqual(g,S)&&p.push({block_id:g.id,mentioned_from:{type:"transclusion_reference",pointer:e}}),S&&!r.a.isEqual(g,S)&&u.push({block_id:S.id,mentioned_from:{type:"transclusion_reference",pointer:e}})}else if(Object(a.d)(e,c.a)){const t=o.get(e),n=l.get(e),r=Object(s.a)(S(t),S(n));for(const o of r.created)u.push({block_id:o,mentioned_from:{type:"comment_mention",comment_id:e.id}});for(const o of r.deleted)p.push({block_id:o,mentioned_from:{type:"comment_mention",comment_id:e.id}})}})),{createdBacklinks:u,deletedBacklinks:p}}function b(e){return e&&e.content||[]}function v(e){return"".concat(e.blockId).concat(e.propertyId)}function y(e){const t=[];if(!e)return t;if(!e.properties)return t;for(const n in e.properties){const o=l.W(e.properties[n]);for(const e of o)t.push({propertyId:n,blockId:e})}return t}function S(e){return e&&e.alive?l.W(e.text):[]}function w(e){const{actor:t,blockId:n,backlinks:o,getRecordValue:a}=e,s=Object(u.c)({table:i.a,id:n},a);if(!r.a.last(s))return[];const l=Object(f.o)({actor:t,ancestors:s});return o.filter(e=>{const n=function(e){return"comment_mention"===e.mentioned_from.type?{table:c.a,id:e.mentioned_from.comment_id}:"reference"===e.mentioned_from.type?{table:i.a,id:e.mentioned_from.parent_block_id}:"property_mention"===e.mentioned_from.type?{table:i.a,id:e.mentioned_from.block_id}:"collection_reference"===e.mentioned_from.type?{table:i.a,id:e.mentioned_from.block_id}:"alias"===e.mentioned_from.type?e.mentioned_from.pointer:"transclusion_reference"===e.mentioned_from.type?e.mentioned_from.pointer:void Object(p.e)(e.mentioned_from)}(e),o=Object(u.c)(n,a);if(!Object(u.k)(o))return!1;const r=Object(f.o)({actor:t,ancestors:o});if(r){if(!l)return!1;if(r.blockId!==l.blockId)return!1}if(o.some(e=>e.table===h.a&&e.value.resolved))return!1;if("property_mention"===e.mentioned_from.type){const t=a({table:i.a,id:e.mentioned_from.block_id});if(!t)return!1;if("collection"===t.parent_table){if("title"!==e.mentioned_from.property_id){const n=a({table:d.a,id:t.parent_id});if(!n)return!1;const o=(n.schema||{})[e.mentioned_from.property_id];if(!o)return!1;if("title"!==o.type&&"text"!==o.type)return!1}}else if("title"===e.mentioned_from.property_id){if(!Object(m.G)(t))return!1}else{if("caption"!==e.mentioned_from.property_id)return!1;if(!Object(m.p)(t))return!1}}const s=Object(u.a)(o)[0],g=Object(u.b)({table:i.a,id:e.block_id},a)[1];return!s||!g||s.id!==g.id})}function k(e){if(e&&"alias"===e.type&&e.format&&e.format.alias_pointer)return e.format.alias_pointer}function C(e){if(e&&"transclusion_reference"===e.type&&e.format&&e.format.transclusion_reference_pointer)return e.format.transclusion_reference_pointer}},sr17:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n("LvDl"),r=n.n(o),a=n("bPtJ"),i=n("kaWB"),s=n("wpmu"),l=n("VhAz"),c=n("sotD"),d=n("V1wX"),u=n("5/h/"),p=n("HRSx");function h(e,t){const n=r.a.compact(e.map(e=>function(e,t){if("comment_mention"===e.mentioned_from.type){const n=Object(a.c)(t,{table:i.a,id:e.mentioned_from.comment_id}).getValue();if(!n)return;const o=Object(a.c)(t,{table:n.parent_table,id:n.parent_id}),r=o.getValue();if(!r)return;const l=s.a.createChildStore(t,{table:p.a,id:r.parent_id}),c=l.getNavigableBlockStore();if(!c)return;return l.id===c.id?{backlinkStore:c,timestamp:n.last_edited_time||0}:{backlinkStore:c,scrollToBlockId:l.id,discussionId:o.id,timestamp:n.last_edited_time||0}}if("reference"===e.mentioned_from.type){const n=s.a.createChildStore(t,{table:p.a,id:e.mentioned_from.parent_block_id}).getNavigableBlockStore();if(!n)return;const o=n.getValue();return{backlinkStore:n,scrollToBlockId:e.block_id,timestamp:o&&o.last_edited_time||0}}if("property_mention"===e.mentioned_from.type){const{block_id:n}=e.mentioned_from,o=s.a.createChildStore(t,{table:p.a,id:n}),r=o.getValue();if(!r)return;const a=o.getNavigableBlockStore();if(!a)return;return a.id===r.id?{backlinkStore:a,timestamp:r.last_edited_time||0}:{backlinkStore:a,scrollToBlockId:r.id,timestamp:r.last_edited_time||0}}if("collection_reference"===e.mentioned_from.type){const{block_id:n}=e.mentioned_from,o=s.a.createChildStore(t,{table:p.a,id:n}),r=o.getValue();if(!r)return;const a=o.getNavigableBlockStore();if(!a)return;return a.id===r.id?{backlinkStore:a,timestamp:r.last_edited_time||0}:{backlinkStore:a,scrollToBlockId:r.id,timestamp:r.last_edited_time||0}}if("alias"===e.mentioned_from.type||"transclusion_reference"===e.mentioned_from.type){const n=s.a.createChildStore(t,{table:p.a,id:e.mentioned_from.pointer.id}),o=n.getNavigableBlockStore();if(!o)return;const r=o.getValue();return{backlinkStore:o,scrollToBlockId:n.id,timestamp:r&&r.last_edited_time||0}}Object(l.e)(e.mentioned_from)}(e,t))),o=r.a.groupBy(n,({backlinkStore:e})=>e.id),c=Object.values(o).map(e=>r.a.sortBy(e,e=>e.discussionId?2:e.scrollToBlockId?1:0)[0]);return c.sort((e,t)=>t.timestamp-e.timestamp),c}function m(e,t){const{id:n}=t.currentUser;let o;if(n){const t=e.getRecordValue({table:u.a,id:n});t&&(o=Object(d.j)(t))}const r=t.LocalBacklinkStore.getBacklinks({blockId:e.id,currentUserId:t.currentUser.id}),a=Object(c.a)({actor:o,blockId:e.id,backlinks:r,getRecordValue:e.getRecordValue});return 0===a.length?[]:h(a,e)}},stZG:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("EZe4"),i=n("wldR");class s extends i.a{constructor(){super(...arguments),this.handleMouseDown=e=>{this.props.capture&&Object(a.d)({event:e,context:a.a.EditorMouseDown,callback:r.a.identity})},this.handleClick=e=>{this.props.capture&&Object(a.d)({event:e,context:a.a.EditorClick,callback:r.a.identity})},this.handleDoubleClick=e=>{this.props.capture&&Object(a.d)({event:e,context:a.a.EditorDoubleClick,callback:r.a.identity})},this.handleContextMenu=e=>{this.props.capture&&Object(a.d)({event:e,context:a.a.EditorContextMenu,callback:r.a.identity})}}renderComponent(){return this.props.render({onMouseDown:this.handleMouseDown,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu})}}t.a=s},szb2:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=n("LEzx");const r="modal",a="detail";class i extends o.a{getInitialState(){return{open:!1,mode:a}}}t.c=new i},t2WN:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("LeVO"),s=n("J9+s"),l=n("Sb6f"),c=n("mF3+"),d=n("zmp8");class u extends a.a{constructor(){super(...arguments),this.storeTypes={}}renderComponent(){return r.a.createElement(i.a,{renderTooltip:()=>r.a.createElement(s.FormattedMessage,{defaultMessage:"Only you can see this page",id:"privatePageBadge.tooltip"}),render:e=>r.a.createElement("div",Object.assign({style:{display:"flex",alignItems:"flex-start",...this.props.style||{}}},e),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{flexShrink:0,marginTop:-1,marginRight:4,fill:d.g.red}},c.a.locked({width:12})),r.a.createElement("span",{style:{fontSize:12,fontWeight:l.a.fontWeight.semibold,color:d.g.red}},r.a.createElement(s.FormattedMessage,{defaultMessage:"Private",id:"privatePageBadge.label"}))))})}}u.style={},t.a=u},t3i2:function(e,t,n){"use strict";var o=n("J9+s"),r=n("5Nka");const a=Object(o.defineMessages)({gradientCategory:{defaultMessage:"Color & Gradient",id:"pageCover.gradientCategory.header"},nasaCategory:{defaultMessage:"NASA Archive",id:"pageCover.nasaCategory.header"},metPatternsCategory:{defaultMessage:"The MET Museum – Patterns",id:"pageCover.metPatternsCategory.header"},rijksmuseumCategory:{defaultMessage:"Rijksmuseum",id:"pageCover.rijksmuseumCategory.header"},metWoodcutsCategory:{defaultMessage:"The MET Museum – Japanese Prints",id:"pageCover.metWoodcutsCategory.header"},metCategory:{defaultMessage:"The MET Museum",id:"pageCover.metCategory.header"},solidRedTitle:{id:"pageCover.solidRed.title",defaultMessage:"Red"},solidYellowTitle:{id:"pageCover.solidYellow.title",defaultMessage:"Yellow"},solidBlueTitle:{id:"pageCover.solidBlue.title",defaultMessage:"Blue"},solidBeigeTitle:{id:"pageCover.solidBeige.title",defaultMessage:"Beige"},gradients8Title:{id:"pageCover.gradients8.title",defaultMessage:"Gradient 8"},gradients4Title:{id:"pageCover.gradients4.title",defaultMessage:"Gradient 4"},gradients2Title:{id:"pageCover.gradients2.title",defaultMessage:"Gradient 2"},gradients11Title:{id:"pageCover.gradients11.title",defaultMessage:"Gradient 11"},gradients10Title:{id:"pageCover.gradients10.title",defaultMessage:"Gradient 10"},gradients5Title:{id:"pageCover.gradients5.title",defaultMessage:"Gradient 5"},gradients3Title:{id:"pageCover.gradients3.title",defaultMessage:"Gradient 3"},nasaTheBlueMarbleTitle:{id:"pageCover.nasaTheBlueMarble.title",defaultMessage:"The Blue Marble"},nasaTheBlueMarbleSubtitle:{id:"pageCover.nasaTheBlueMarble.subtitle",defaultMessage:"1972"},nasaTransonicTunnelTitle:{id:"pageCover.nasaTransonicTunnel.title",defaultMessage:"Transonic Tunnel"},nasaTransonicTunnelSubtitle:{id:"pageCover.nasaTransonicTunnel.subtitle",defaultMessage:"1990"},nasaMultiAxisGimbleRigTitle:{id:"pageCover.nasaMultiAxisGimbleRig.title",defaultMessage:"Multi-Axis Gimble Rig"},nasaMultiAxisGimbleRigSubtitle:{id:"pageCover.nasaMultiAxisGimbleRig.subtitle",defaultMessage:"1959"},nasaEvaDuringSkylab3Title:{id:"pageCover.nasaEvaDuringSkylab3.title",defaultMessage:"EVA During Skylab 3"},nasaEvaDuringSkylab3Subtitle:{id:"pageCover.nasaEvaDuringSkylab3.subtitle",defaultMessage:"1973"},nasaEagleInLunarOrbitTitle:{id:"pageCover.nasaEagleInLunarOrbit.title",defaultMessage:"Eagle In Lunar Orbit"},nasaEagleInLunarOrbitSubtitle:{id:"pageCover.nasaEagleInLunarOrbit.subtitle",defaultMessage:"1969"},nasaBuzzAldrinOnTheMoonTitle:{id:"pageCover.nasaBuzzAldrinOnTheMoon.title",defaultMessage:"Buzz Aldrin on the Moon"},nasaBuzzAldrinOnTheMoonSubtitle:{id:"pageCover.nasaBuzzAldrinOnTheMoon.subtitle",defaultMessage:"1969"},nasaIbmType704Title:{id:"pageCover.nasaIbmType704.title",defaultMessage:"IBM Type 704"},nasaIbmType704Subtitle:{id:"pageCover.nasaIbmType704.subtitle",defaultMessage:"1957"},nasaWrightsFirstFlightTitle:{id:"pageCover.nasaWrightsFirstFlight.title",defaultMessage:"Wright's First Flight"},nasaWrightsFirstFlightSubtitle:{id:"pageCover.nasaWrightsFirstFlight.subtitle",defaultMessage:"1903"},nasaGreatSandyDesertAustraliaTitle:{id:"pageCover.nasaGreatSandyDesertAustralia.title",defaultMessage:"Great Sandy Desert, Australia"},nasaGreatSandyDesertAustraliaSubtitle:{id:"pageCover.nasaGreatSandyDesertAustralia.subtitle",defaultMessage:"2013"},nasaSpaceShuttleColumbiaTitle:{id:"pageCover.nasaSpaceShuttleColumbia.title",defaultMessage:"Space Shuttle Columbia"},nasaSpaceShuttleColumbiaSubtitle:{id:"pageCover.nasaSpaceShuttleColumbia.subtitle",defaultMessage:"1986"},nasaRobertStewartSpacewalkTitle:{id:"pageCover.nasaRobertStewartSpacewalk.title",defaultMessage:"Robert Stewart Spacewalk"},nasaRobertStewartSpacewalkSubtitle:{id:"pageCover.nasaRobertStewartSpacewalk.subtitle",defaultMessage:"1984"},nasaSpaceShuttleChallengerTitle:{id:"pageCover.nasaSpaceShuttleChallenger.title",defaultMessage:"Space Shuttle Challenger"},nasaSpaceShuttleChallengerSubtitle:{id:"pageCover.nasaSpaceShuttleChallenger.subtitle",defaultMessage:"1985"},nasaRobertStewartSpacewalk2Title:{id:"pageCover.nasaRobertStewartSpacewalk2.title",defaultMessage:"Robert Stewart Spacewalk 2"},nasaRobertStewartSpacewalk2Subtitle:{id:"pageCover.nasaRobertStewartSpacewalk2.subtitle",defaultMessage:"1984"},nasaSpaceShuttleColumbiaAndSunriseTitle:{id:"pageCover.nasaSpaceShuttleColumbiaAndSunrise.title",defaultMessage:"Space Shuttle Columbia and Sunrise"},nasaSpaceShuttleColumbiaAndSunriseSubtitle:{id:"pageCover.nasaSpaceShuttleColumbiaAndSunrise.subtitle",defaultMessage:"1983"},nasaTimPeakeSpacewalkTitle:{id:"pageCover.nasaTimPeakeSpacewalk.title",defaultMessage:"Tim Peake Spacewalk"},nasaTimPeakeSpacewalkSubtitle:{id:"pageCover.nasaTimPeakeSpacewalk.subtitle",defaultMessage:"2015"},nasaBruceMccandlessSpacewalkTitle:{id:"pageCover.nasaBruceMccandlessSpacewalk.title",defaultMessage:"Bruce McCandless Spacewalk"},nasaBruceMccandlessSpacewalkSubtitle:{id:"pageCover.nasaBruceMccandlessSpacewalk.subtitle",defaultMessage:"1984"},nasaNewYorkCityGridTitle:{id:"pageCover.nasaNewYorkCityGrid.title",defaultMessage:"New York City Grid"},nasaNewYorkCityGridSubtitle:{id:"pageCover.nasaNewYorkCityGrid.subtitle",defaultMessage:"2015"},nasaFingerprintsOfWaterOnTheSandTitle:{id:"pageCover.nasaFingerprintsOfWaterOnTheSand.title",defaultMessage:"Water on the Sand"},nasaFingerprintsOfWaterOnTheSandSubtitle:{id:"pageCover.nasaFingerprintsOfWaterOnTheSand.subtitle",defaultMessage:"2015"},nasaCarinaNebulaTitle:{id:"pageCover.nasaCarinaNebula.title",defaultMessage:"Carina Nebula"},nasaCarinaNebulaSubtitle:{id:"pageCover.nasaCarinaNebula.subtitle",defaultMessage:"2015"},nasaOrionNebulaTitle:{id:"pageCover.nasaOrionNebula.title",defaultMessage:"Orion Nebula"},nasaOrionNebulaSubtitle:{id:"pageCover.nasaOrionNebula.subtitle",defaultMessage:"1994"},nasaReducedGravityWalkingSimulatorTitle:{id:"pageCover.nasaReducedGravityWalkingSimulator.title",defaultMessage:"Reduced Gravity Walking Simulator"},nasaReducedGravityWalkingSimulatorSubtitle:{id:"pageCover.nasaReducedGravityWalkingSimulator.subtitle",defaultMessage:"1963"},nasaEarthGridTitle:{id:"pageCover.nasaEarthGrid.title",defaultMessage:"Earth Grid"},metWilliamMorris1877WillowTitle:{id:"pageCover.metWilliamMorris1877Willow.title",defaultMessage:"William Morris"},metWilliamMorris1877WillowSubtitle:{id:"pageCover.metWilliamMorris1877Willow.subtitle",defaultMessage:"1875, Willow Bough"},metWilliamMorris1875Title:{id:"pageCover.metWilliamMorris1875.title",defaultMessage:"William Morris"},metWilliamMorris1875Subtitle:{id:"pageCover.metWilliamMorris1875.subtitle",defaultMessage:"1875, Marigold"},metWilliamMorris1878Title:{id:"pageCover.metWilliamMorris1878.title",defaultMessage:"William Morris"},metWilliamMorris1878Subtitle:{id:"pageCover.metWilliamMorris1878.subtitle",defaultMessage:"1878, Bird"},metSilkKashanCarpetTitle:{id:"pageCover.metSilkKashanCarpet.title",defaultMessage:"Silk Kashan Carpet"},metSilkKashanCarpetSubtitle:{id:"pageCover.metSilkKashanCarpet.subtitle",defaultMessage:"16th century"},rijksmuseumVermeerTheMilkmaidTitle:{id:"pageCover.rijksmuseumVermeerTheMilkmaid.title",defaultMessage:"Johannes Vermeer"},rijksmuseumVermeerTheMilkmaidSubtitle:{id:"pageCover.rijksmuseumVermeerTheMilkmaid.subtitle",defaultMessage:"1660, The Milkmaid"},rijksmuseumJansz1649Title:{id:"pageCover.rijksmuseumJansz1649.title",defaultMessage:"Pieter Jansz"},rijksmuseumJansz1649Subtitle:{id:"pageCover.rijksmuseumJansz1649.subtitle",defaultMessage:"1649, Interior of the Sint-Odulphuskerk in Assendelft"},rijksmuseumRembrandt1642Title:{id:"pageCover.rijksmuseumRembrandt1642.title",defaultMessage:"Rembrandt van Rijn"},rijksmuseumRembrandt1642Subtitle:{id:"pageCover.rijksmuseumRembrandt1642.subtitle",defaultMessage:"1642, Night Watch"},rijksmuseumJansz1636Title:{id:"pageCover.rijksmuseumJansz1636.title",defaultMessage:"Pieter Jansz"},rijksmuseumJansz1636Subtitle:{id:"pageCover.rijksmuseumJansz1636.subtitle",defaultMessage:"1636, Interior of the Church of St Bavo in Haarlem"},rijksmuseumJansz1641Title:{id:"pageCover.rijksmuseumJansz1641.title",defaultMessage:"Pieter Jansz"},rijksmuseumJansz1641Subtitle:{id:"pageCover.rijksmuseumJansz1641.subtitle",defaultMessage:"1641, The Nave and Choir of the Mariakerk in Utrecht"},rijksmuseumJanLievens1627Title:{id:"pageCover.rijksmuseumJanLievens1627.title",defaultMessage:"Jan Lievens"},rijksmuseumJanLievens1627Subtitle:{id:"pageCover.rijksmuseumJanLievens1627.subtitle",defaultMessage:"1627, Still Life with Books"},rijksmuseumJansz1637Title:{id:"pageCover.rijksmuseumJansz1637.title",defaultMessage:"Pieter Jansz"},rijksmuseumJansz1637Subtitle:{id:"pageCover.rijksmuseumJansz1637.subtitle",defaultMessage:"1637, The Transept of the Mariakerk in Utrecht"},rijksmuseumMignons1660Title:{id:"pageCover.rijksmuseumMignons1660.title",defaultMessage:"Abraham Mignons"},rijksmuseumMignons1660Subtitle:{id:"pageCover.rijksmuseumMignons1660.subtitle",defaultMessage:"1660, Still Life with Flowers and a Watch"},rijksmuseumAvercamp1620Title:{id:"pageCover.rijksmuseumAvercamp1620.title",defaultMessage:"Hendrick Avercamp"},rijksmuseumAvercamp1620Subtitle:{id:"pageCover.rijksmuseumAvercamp1620.subtitle",defaultMessage:"1620, Enjoying the Ice near a Town"},rijksmuseumAvercamp1608Title:{id:"pageCover.rijksmuseumAvercamp1608.title",defaultMessage:"Hendrick Avercamp"},rijksmuseumAvercamp1608Subtitle:{id:"pageCover.rijksmuseumAvercamp1608.subtitle",defaultMessage:"1608, Winter Landscape with Ice Skaters"},rijksmuseumClaesz1628Title:{id:"pageCover.rijksmuseumClaesz1628.title",defaultMessage:"Pieter Claesz"},rijksmuseumClaesz1628Subtitle:{id:"pageCover.rijksmuseumClaesz1628.subtitle",defaultMessage:"1628, Vanitas Still Life with the Spinario"},woodcuts1Title:{id:"pageCover.woodcuts1.title",defaultMessage:"Katsushika Hokusai"},woodcuts1Subtitle:{id:"pageCover.woodcuts1.subtitle",defaultMessage:"1830, The Great Wave off Kanagawa"},woodcuts2Title:{id:"pageCover.woodcuts2.title",defaultMessage:"Katsushika Hokusai"},woodcuts2Subtitle:{id:"pageCover.woodcuts2.subtitle",defaultMessage:"1830, Storm Below Mount Fuji"},woodcuts3Title:{id:"pageCover.woodcuts3.title",defaultMessage:"Katsushika Hokusai"},woodcuts3Subtitle:{id:"pageCover.woodcuts3.subtitle",defaultMessage:"1830, South Wind, Clear Sky"},woodcuts4Title:{id:"pageCover.woodcuts4.title",defaultMessage:"Keisai Eisen"},woodcuts4Subtitle:{id:"pageCover.woodcuts4.subtitle",defaultMessage:"1842, Koi"},woodcuts5Title:{id:"pageCover.woodcuts5.title",defaultMessage:"Kobayashi Kiyochika"},woodcuts5Subtitle:{id:"pageCover.woodcuts5.subtitle",defaultMessage:"1878, Street Scene in the Outskirts of Edo on an Evening in Winter"},woodcuts6Title:{id:"pageCover.woodcuts6.title",defaultMessage:"Katsushika Hokusai"},woodcuts6Subtitle:{id:"pageCover.woodcuts6.subtitle",defaultMessage:"1850, View of Mt. Asama from the Usui Pass"},woodcuts7Title:{id:"pageCover.woodcuts7.title",defaultMessage:"Katsushika Hokusai"},woodcuts7Subtitle:{id:"pageCover.woodcuts7.subtitle",defaultMessage:"1833, Kyoto, Sanjo Ohashi"},woodcuts8Title:{id:"pageCover.woodcuts8.title",defaultMessage:"Katsushika Hokusai"},woodcuts8Subtitle:{id:"pageCover.woodcuts8.subtitle",defaultMessage:"1830, Mishima Pass in Kai Province"},woodcuts9Title:{id:"pageCover.woodcuts9.title",defaultMessage:"Katsushika Hokusai"},woodcuts9Subtitle:{id:"pageCover.woodcuts9.subtitle",defaultMessage:"1830, Kajikazawa in Kai Province"},woodcuts10Title:{id:"pageCover.woodcuts10.title",defaultMessage:"Katsushika Hokusai"},woodcuts10Subtitle:{id:"pageCover.woodcuts10.subtitle",defaultMessage:"1840, Kameyama"},woodcuts11Title:{id:"pageCover.woodcuts11.title",defaultMessage:"Ito Jakuchu"},woodcuts11Subtitle:{id:"pageCover.woodcuts11.subtitle",defaultMessage:"1900, Swallow and Camellia"},woodcuts13Title:{id:"pageCover.woodcuts13.title",defaultMessage:"Utagawa Hiroshige"},woodcuts13Subtitle:{id:"pageCover.woodcuts13.subtitle",defaultMessage:"1858, Mount Yuga in Bizen Province"},woodcuts14Title:{id:"pageCover.woodcuts14.title",defaultMessage:"Katsushika Hokusai"},woodcuts14Subtitle:{id:"pageCover.woodcuts14.subtitle",defaultMessage:"1830, Fuji from Inume Pass"},woodcuts15Title:{id:"pageCover.woodcuts15.title",defaultMessage:"Katsushika Hokusai"},woodcuts15Subtitle:{id:"pageCover.woodcuts15.subtitle",defaultMessage:"1842, Kusatsu Station"},woodcuts16Title:{id:"pageCover.woodcuts16.title",defaultMessage:"Katsushika Hokusai"},woodcuts16Subtitle:{id:"pageCover.woodcuts16.subtitle",defaultMessage:"Sunset at Seta"},woodcutsSekka1Title:{id:"pageCover.woodcutsSekka1.title",defaultMessage:"Kamisaka Sekka"},woodcutsSekka1Subtitle:{id:"pageCover.woodcutsSekka1.subtitle",defaultMessage:"1909, Dwarrelende sneeuw"},woodcutsSekka2Title:{id:"pageCover.woodcutsSekka2.title",defaultMessage:"Kamisaka Sekka"},woodcutsSekka2Subtitle:{id:"pageCover.woodcutsSekka2.subtitle",defaultMessage:"1903, Wierook benodigdheden"},woodcutsSekka3Title:{id:"pageCover.woodcutsSekka3.title",defaultMessage:"Kamisaka Sekka"},woodcutsSekka3Subtitle:{id:"pageCover.woodcutsSekka3.subtitle",defaultMessage:"1909, Lente"},metVincentVanGoghGinouxTitle:{id:"pageCover.metVincentVanGoghGinoux.title",defaultMessage:"Vincent van Gogh"},metVincentVanGoghGinouxSubtitle:{id:"pageCover.metVincentVanGoghGinoux.subtitle",defaultMessage:"1890, L'Arlésienne: Madame Joseph-Michel Ginouxs"},metWinslowHomerMaineCoastTitle:{id:"pageCover.metWinslowHomerMaineCoast.title",defaultMessage:"Winslow Homer"},metWinslowHomerMaineCoastSubtitle:{id:"pageCover.metWinslowHomerMaineCoast.subtitle",defaultMessage:"1896, Maine Coast"},metFredericEdwinChurch1871Title:{id:"pageCover.metFredericEdwinChurch1871.title",defaultMessage:"Frederic Edwin Church"},metFredericEdwinChurch1871Subtitle:{id:"pageCover.metFredericEdwinChurch1871.subtitle",defaultMessage:"1871, The Parthenon"},metJosephHidley1870Title:{id:"pageCover.metJosephHidley1870.title",defaultMessage:"Joseph Hidley"},metJosephHidley1870Subtitle:{id:"pageCover.metJosephHidley1870.subtitle",defaultMessage:"1870, View of Poestenkill, New York"},metJulesTavernier1878Title:{id:"pageCover.metJulesTavernier1878.title",defaultMessage:"Jules Tavernier"},metJulesTavernier1878Subtitle:{id:"pageCover.metJulesTavernier1878.subtitle",defaultMessage:"1878, Dance in a Subterranean Roundhouse at Clear Lake, California"},metHenryLerolle1885Title:{id:"pageCover.metHenryLerolle1885.title",defaultMessage:"Henry Lerolle"},metHenryLerolle1885Subtitle:{id:"pageCover.metHenryLerolle1885.subtitle",defaultMessage:"1885, The Organ Rehearsal"},metGeorgesSeurat1884Title:{id:"pageCover.metGeorgesSeurat1884.title",defaultMessage:"Georges Seurat"},metGeorgesSeurat1884Subtitle:{id:"pageCover.metGeorgesSeurat1884.subtitle",defaultMessage:"1884, Study for 'A Sunday on La Grande Jatte'"},metJohnSingerSargentMoroccoTitle:{id:"pageCover.metJohnSingerSargentMorocco.title",defaultMessage:"John Singer Sargent"},metJohnSingerSargentMoroccoSubtitle:{id:"pageCover.metJohnSingerSargentMorocco.subtitle",defaultMessage:"1879, Morocco"},metPaulSignacTitle:{id:"pageCover.metPaulSignac.title",defaultMessage:"Paul Signac"},metPaulSignacSubtitle:{id:"pageCover.metPaulSignac.subtitle",defaultMessage:"1891, Evening Calm, Concarneau"},metVincentVanGoghOleandersTitle:{id:"pageCover.metVincentVanGoghOleanders.title",defaultMessage:"Vincent van Gogh"},metVincentVanGoghOleandersSubtitle:{id:"pageCover.metVincentVanGoghOleanders.subtitle",defaultMessage:"1888, Oleanders"},metEmanuelLeutzeTitle:{id:"pageCover.metEmanuelLeutze.title",defaultMessage:"Emanuel Leutze"},metEmanuelLeutzeSubtitle:{id:"pageCover.metEmanuelLeutze.subtitle",defaultMessage:"1851, Washington Crossing the Delaware"},metFitzHenryLaneTitle:{id:"pageCover.metFitzHenryLane.title",defaultMessage:"Fitz Henry Lane"},metFitzHenryLaneSubtitle:{id:"pageCover.metFitzHenryLane.subtitle",defaultMessage:"1854, The Golden State Entering New York Harbor"},metVincentVanGoghCradleTitle:{id:"pageCover.metVincentVanGoghCradle.title",defaultMessage:"Vincent van Gogh"},metVincentVanGoghCradleSubtitle:{id:"pageCover.metVincentVanGoghCradle.subtitle",defaultMessage:"1889, Woman Rocking a Cradle"},metCamillePissarro1896Title:{id:"pageCover.metCamillePissarro1896.title",defaultMessage:"Camille Pissarro"},metCamillePissarro1896Subtitle:{id:"pageCover.metCamillePissarro1896.subtitle",defaultMessage:"1896, Morning, An Overcast Day, Rouen"},metGerome1890Title:{id:"pageCover.metGerome1890.title",defaultMessage:"Jean-Léon Gérôme"},metGerome1890Subtitle:{id:"pageCover.metGerome1890.subtitle",defaultMessage:"1890, Pygmalion and Galatea"},metArnoldBocklin1880Title:{id:"pageCover.metArnoldBocklin1880.title",defaultMessage:"Arnold Böcklin"},metArnoldBocklin1880Subtitle:{id:"pageCover.metArnoldBocklin1880.subtitle",defaultMessage:"1880, Island of the Dead"},metHenriTl1892Title:{id:"pageCover.metHenriTl1892.title",defaultMessage:"Henri de Toulouse-Lautrec"},metHenriTl1892Subtitle:{id:"pageCover.metHenriTl1892.subtitle",defaultMessage:"1892, Divan Japonais"},metHoracePippinTitle:{id:"pageCover.metHoracePippin.title",defaultMessage:"Horace Pippin"},metHoracePippinSubtitle:{id:"pageCover.metHoracePippin.subtitle",defaultMessage:"1945, Victorian Interior I"},metJeanBeraudTitle:{id:"pageCover.metJeanBeraud.title",defaultMessage:"Jean Béraud"},metJeanBeraudSubtitle:{id:"pageCover.metJeanBeraud.subtitle",defaultMessage:"1877, unday at the Church of Saint-Philippe-du-Roule, Paris"},metCezanne1890Title:{id:"pageCover.metCezanne1890.title",defaultMessage:"Paul Cézanne"},metCezanne1890Subtitle:{id:"pageCover.metCezanne1890.subtitle",defaultMessage:"1890, Still Life with Apples and a Pot of Primroses"},metEdgarDegas1874Title:{id:"pageCover.metEdgarDegas1874.title",defaultMessage:"Edgar Degas"},metEdgarDegas1874Subtitle:{id:"pageCover.metEdgarDegas1874.subtitle",defaultMessage:"1874, The Dance Class"},metHenriRousseau1907Title:{id:"pageCover.metHenriRousseau1907.title",defaultMessage:"Henri Rousseau"},metHenriRousseau1907Subtitle:{id:"pageCover.metHenriRousseau1907.subtitle",defaultMessage:"1907, The Repast of the Lion"},metVincentVanGoghIrisesTitle:{id:"pageCover.metVincentVanGoghIrises.title",defaultMessage:"Vincent van Gogh"},metVincentVanGoghIrisesSubtitle:{id:"pageCover.metVincentVanGoghIrises.subtitle",defaultMessage:"1890, Irises"},metTerracottaFuneraryPlaqueTitle:{id:"pageCover.metTerracottaFuneraryPlaque.title",defaultMessage:"Terracotta funerary plaque"},metTerracottaFuneraryPlaqueSubtitle:{id:"pageCover.metTerracottaFuneraryPlaque.subtitle",defaultMessage:"ca. 520–510 B.C."},metWilliamTurner1835Title:{id:"pageCover.metWilliamTurner1835.title",defaultMessage:"William Turner"},metWilliamTurner1835Subtitle:{id:"pageCover.metWilliamTurner1835.subtitle",defaultMessage:"1835, Venice, from the Porch of Madonna della Salute"},metTheUnicornInCaptivityTitle:{id:"pageCover.metTheUnicornInCaptivity.title",defaultMessage:"The Unicorn in Captivity"},metTheUnicornInCaptivitySubtitle:{id:"pageCover.metTheUnicornInCaptivity.subtitle",defaultMessage:"ca. 1495–1505"},metGoya1789Title:{id:"pageCover.metGoya1789.title",defaultMessage:"Goya"},metGoya1789Subtitle:{id:"pageCover.metGoya1789.subtitle",defaultMessage:"1787"},metBruegel1565Title:{id:"pageCover.metBruegel1565.title",defaultMessage:"Pieter Bruegel the Elder"},metBruegel1565Subtitle:{id:"pageCover.metBruegel1565.subtitle",defaultMessage:"1565"},metCanaletto1720Title:{id:"pageCover.metCanaletto1720.title",defaultMessage:"Canaletto"},metCanaletto1720Subtitle:{id:"pageCover.metCanaletto1720.subtitle",defaultMessage:"1720s"},metKlimt1912Title:{id:"pageCover.metKlimt1912.title",defaultMessage:"Gustav Klimt"},metKlimt1912Subtitle:{id:"pageCover.metKlimt1912.subtitle",defaultMessage:"1912"}}),i=[{coverUrl:r.a.images.pageCover.nasaTheBlueMarbleJpg,position:.5,title:{...a.nasaTheBlueMarbleTitle},subtitle:{...a.nasaTheBlueMarbleSubtitle}},{coverUrl:r.a.images.pageCover.nasaTransonicTunnelJpg,position:.4,title:{...a.nasaTransonicTunnelTitle},subtitle:{...a.nasaTransonicTunnelSubtitle}},{coverUrl:r.a.images.pageCover.nasaMultiAxisGimbleRigJpg,position:.2,title:{...a.nasaMultiAxisGimbleRigTitle},subtitle:{...a.nasaMultiAxisGimbleRigSubtitle}},{coverUrl:r.a.images.pageCover.nasaEvaDuringSkylab3Jpg,position:.6,title:{...a.nasaEvaDuringSkylab3Title},subtitle:{...a.nasaEvaDuringSkylab3Subtitle}},{coverUrl:r.a.images.pageCover.nasaEagleInLunarOrbitJpg,position:.6,title:{...a.nasaEagleInLunarOrbitTitle},subtitle:{...a.nasaEagleInLunarOrbitSubtitle}},{coverUrl:r.a.images.pageCover.nasaBuzzAldrinOnTheMoonJpg,position:1,title:{...a.nasaBuzzAldrinOnTheMoonTitle},subtitle:{...a.nasaBuzzAldrinOnTheMoonSubtitle}},{coverUrl:r.a.images.pageCover.nasaIbmType704Jpg,position:.8,title:{...a.nasaIbmType704Title},subtitle:{...a.nasaIbmType704Subtitle}},{coverUrl:r.a.images.pageCover.nasaWrightsFirstFlightJpg,position:.6,title:{...a.nasaWrightsFirstFlightTitle},subtitle:{...a.nasaWrightsFirstFlightSubtitle}},{coverUrl:r.a.images.pageCover.nasaGreatSandyDesertAustraliaJpg,position:.3,title:{...a.nasaGreatSandyDesertAustraliaTitle},subtitle:{...a.nasaGreatSandyDesertAustraliaSubtitle}},{coverUrl:r.a.images.pageCover.nasaSpaceShuttleColumbiaJpg,position:.7,title:{...a.nasaSpaceShuttleColumbiaTitle},subtitle:{...a.nasaSpaceShuttleColumbiaSubtitle}},{coverUrl:r.a.images.pageCover.nasaRobertStewartSpacewalkJpg,position:.6,title:{...a.nasaRobertStewartSpacewalkTitle},subtitle:{...a.nasaRobertStewartSpacewalkSubtitle}},{coverUrl:r.a.images.pageCover.nasaSpaceShuttleChallengerJpg,position:1,title:{...a.nasaSpaceShuttleChallengerTitle},subtitle:{...a.nasaSpaceShuttleChallengerSubtitle}},{coverUrl:r.a.images.pageCover.nasaRobertStewartSpacewalk2Jpg,position:.6,title:{...a.nasaRobertStewartSpacewalk2Title},subtitle:{...a.nasaRobertStewartSpacewalk2Subtitle}},{coverUrl:r.a.images.pageCover.nasaSpaceShuttleColumbiaAndSunriseJpg,position:1,title:{...a.nasaSpaceShuttleColumbiaAndSunriseTitle},subtitle:{...a.nasaSpaceShuttleColumbiaAndSunriseSubtitle}},{coverUrl:r.a.images.pageCover.nasaTimPeakeSpacewalkJpg,position:.5,title:{...a.nasaTimPeakeSpacewalkTitle},subtitle:{...a.nasaTimPeakeSpacewalkSubtitle}},{coverUrl:r.a.images.pageCover.nasaBruceMccandlessSpacewalkJpg,position:.5,title:{...a.nasaBruceMccandlessSpacewalkTitle},subtitle:{...a.nasaBruceMccandlessSpacewalkSubtitle}},{coverUrl:r.a.images.pageCover.nasaNewYorkCityGridJpg,position:.5,title:{...a.nasaNewYorkCityGridTitle},subtitle:{...a.nasaNewYorkCityGridSubtitle}},{coverUrl:r.a.images.pageCover.nasaFingerprintsOfWaterOnTheSandJpg,position:.4,title:{...a.nasaFingerprintsOfWaterOnTheSandTitle},subtitle:{...a.nasaFingerprintsOfWaterOnTheSandSubtitle}},{coverUrl:r.a.images.pageCover.nasaCarinaNebulaJpg,position:1,title:{...a.nasaCarinaNebulaTitle},subtitle:{...a.nasaCarinaNebulaSubtitle}},{coverUrl:r.a.images.pageCover.nasaOrionNebulaJpg,position:1,title:{...a.nasaOrionNebulaTitle},subtitle:{...a.nasaOrionNebulaSubtitle}},{coverUrl:r.a.images.pageCover.nasaReducedGravityWalkingSimulatorJpg,position:.5,title:{...a.nasaReducedGravityWalkingSimulatorTitle},subtitle:{...a.nasaReducedGravityWalkingSimulatorSubtitle}},{coverUrl:r.a.images.pageCover.nasaEarthGridJpg,position:.7,title:{...a.nasaEarthGridTitle}}],s=[{coverUrl:r.a.images.pageCover.metVincentVanGoghGinouxJpg,position:.3,title:{...a.metVincentVanGoghGinouxTitle},subtitle:{...a.metVincentVanGoghGinouxSubtitle}},{coverUrl:r.a.images.pageCover.metWinslowHomerMaineCoastJpg,position:.4,title:{...a.metWinslowHomerMaineCoastTitle},subtitle:{...a.metWinslowHomerMaineCoastSubtitle}},{coverUrl:r.a.images.pageCover.metFredericEdwinChurch1871Jpg,position:.7,title:{...a.metFredericEdwinChurch1871Title},subtitle:{...a.metFredericEdwinChurch1871Subtitle}},{coverUrl:r.a.images.pageCover.metJosephHidley1870Jpg,position:.4,title:{...a.metJosephHidley1870Title},subtitle:{...a.metJosephHidley1870Subtitle}},{coverUrl:r.a.images.pageCover.metJulesTavernier1878Jpg,position:.5,title:{...a.metJulesTavernier1878Title},subtitle:{...a.metJulesTavernier1878Subtitle}},{coverUrl:r.a.images.pageCover.metHenryLerolle1885Jpg,position:.9,title:{...a.metHenryLerolle1885Title},subtitle:{...a.metHenryLerolle1885Subtitle}},{coverUrl:r.a.images.pageCover.metGeorgesSeurat1884Jpg,position:1,title:{...a.metGeorgesSeurat1884Title},subtitle:{...a.metGeorgesSeurat1884Subtitle}},{coverUrl:r.a.images.pageCover.metJohnSingerSargentMoroccoJpg,position:.6,title:{...a.metJohnSingerSargentMoroccoTitle},subtitle:{...a.metJohnSingerSargentMoroccoSubtitle}},{coverUrl:r.a.images.pageCover.metPaulSignacJpg,position:.7,title:{...a.metPaulSignacTitle},subtitle:{...a.metPaulSignacSubtitle}},{coverUrl:r.a.images.pageCover.metVincentVanGoghOleandersJpg,position:1,title:{...a.metVincentVanGoghOleandersTitle},subtitle:{...a.metVincentVanGoghOleandersSubtitle}},{coverUrl:r.a.images.pageCover.metEmanuelLeutzeJpg,position:.7,title:{...a.metEmanuelLeutzeTitle},subtitle:{...a.metEmanuelLeutzeSubtitle}},{coverUrl:r.a.images.pageCover.metFitzHenryLaneJpg,position:.5,title:{...a.metFitzHenryLaneTitle},subtitle:{...a.metFitzHenryLaneSubtitle}},{coverUrl:r.a.images.pageCover.metVincentVanGoghCradleJpg,position:.2,title:{...a.metVincentVanGoghCradleTitle},subtitle:{...a.metVincentVanGoghCradleSubtitle}},{coverUrl:r.a.images.pageCover.metCamillePissarro1896Jpg,position:.6,title:{...a.metCamillePissarro1896Title},subtitle:{...a.metCamillePissarro1896Subtitle}},{coverUrl:r.a.images.pageCover.metGerome1890Jpg,position:.3,title:{...a.metGerome1890Title},subtitle:{...a.metGerome1890Subtitle}},{coverUrl:r.a.images.pageCover.metArnoldBocklin1880Jpg,position:0,title:{...a.metArnoldBocklin1880Title},subtitle:{...a.metArnoldBocklin1880Subtitle}},{coverUrl:r.a.images.pageCover.metHenriTl1892Jpg,position:.3,title:{...a.metHenriTl1892Title},subtitle:{...a.metHenriTl1892Subtitle}},{coverUrl:r.a.images.pageCover.metHoracePippinJpg,position:.5,title:{...a.metHoracePippinTitle},subtitle:{...a.metHoracePippinSubtitle}},{coverUrl:r.a.images.pageCover.metJeanBeraudJpg,position:.6,title:{...a.metJeanBeraudTitle},subtitle:{...a.metJeanBeraudSubtitle}},{coverUrl:r.a.images.pageCover.metCezanne1890Jpg,position:.3,title:{...a.metCezanne1890Title},subtitle:{...a.metCezanne1890Subtitle}},{coverUrl:r.a.images.pageCover.metEdgarDegas1874Jpg,position:.7,title:{...a.metEdgarDegas1874Title},subtitle:{...a.metEdgarDegas1874Subtitle}},{coverUrl:r.a.images.pageCover.metHenriRousseau1907Jpg,position:.7,title:{...a.metHenriRousseau1907Title},subtitle:{...a.metHenriRousseau1907Subtitle}},{coverUrl:r.a.images.pageCover.metVincentVanGoghIrisesJpg,position:.5,title:{...a.metVincentVanGoghIrisesTitle},subtitle:{...a.metVincentVanGoghIrisesSubtitle}},{coverUrl:r.a.images.pageCover.metTerracottaFuneraryPlaqueJpg,position:.9,title:{...a.metTerracottaFuneraryPlaqueTitle},subtitle:{...a.metTerracottaFuneraryPlaqueSubtitle}},{coverUrl:r.a.images.pageCover.metWilliamTurner1835Jpg,position:.4,title:{...a.metWilliamTurner1835Title},subtitle:{...a.metWilliamTurner1835Subtitle}},{coverUrl:r.a.images.pageCover.metTheUnicornInCaptivityJpg,position:.7,title:{...a.metTheUnicornInCaptivityTitle},subtitle:{...a.metTheUnicornInCaptivitySubtitle}},{coverUrl:r.a.images.pageCover.metGoya1789Jpg,position:.2,title:{...a.metGoya1789Title},subtitle:{...a.metGoya1789Subtitle}},{coverUrl:r.a.images.pageCover.metBruegel1565Jpg,position:.5,title:{...a.metBruegel1565Title},subtitle:{...a.metBruegel1565Subtitle}},{coverUrl:r.a.images.pageCover.metCanaletto1720Jpg,position:0,title:{...a.metCanaletto1720Title},subtitle:{...a.metCanaletto1720Subtitle}},{coverUrl:r.a.images.pageCover.metKlimt1912Jpg,position:1,title:{...a.metKlimt1912Title},subtitle:{...a.metKlimt1912Subtitle}}],l=[{coverUrl:r.a.images.pageCover.metWilliamMorris1877WillowJpg,position:.1,title:{...a.metWilliamMorris1877WillowTitle},subtitle:{...a.metWilliamMorris1877WillowSubtitle}},{coverUrl:r.a.images.pageCover.metWilliamMorris1875Jpg,position:1,title:{...a.metWilliamMorris1875Title},subtitle:{...a.metWilliamMorris1875Subtitle}},{coverUrl:r.a.images.pageCover.metWilliamMorris1878Jpg,position:1,title:{...a.metWilliamMorris1878Title},subtitle:{...a.metWilliamMorris1878Subtitle}},{coverUrl:r.a.images.pageCover.metSilkKashanCarpetJpg,position:.5,title:{...a.metSilkKashanCarpetTitle},subtitle:{...a.metSilkKashanCarpetSubtitle}}],c=[{coverUrl:r.a.images.pageCover.solidRedPng,position:.6,title:{...a.solidRedTitle}},{coverUrl:r.a.images.pageCover.solidYellowPng,position:.6,title:{...a.solidYellowTitle}},{coverUrl:r.a.images.pageCover.solidBluePng,position:.6,title:{...a.solidBlueTitle}},{coverUrl:r.a.images.pageCover.solidBeigePng,position:.6,title:{...a.solidBeigeTitle}},{coverUrl:r.a.images.pageCover.gradients8Png,position:.3,title:{...a.gradients8Title}},{coverUrl:r.a.images.pageCover.gradients4Png,position:.1,title:{...a.gradients4Title}},{coverUrl:r.a.images.pageCover.gradients2Png,position:.8,title:{...a.gradients2Title}},{coverUrl:r.a.images.pageCover.gradients11Jpg,position:.6,title:{...a.gradients11Title}},{coverUrl:r.a.images.pageCover.gradients10Jpg,position:.6,title:{...a.gradients10Title}},{coverUrl:r.a.images.pageCover.gradients5Png,position:.6,title:{...a.gradients5Title}},{coverUrl:r.a.images.pageCover.gradients3Png,position:.4,title:{...a.gradients3Title}}],d=[{coverUrl:r.a.images.pageCover.rijksmuseumVermeerTheMilkmaidJpg,position:.4,title:{...a.rijksmuseumVermeerTheMilkmaidTitle},subtitle:{...a.rijksmuseumVermeerTheMilkmaidSubtitle}},{coverUrl:r.a.images.pageCover.rijksmuseumJansz1649Jpg,position:.3,title:{...a.rijksmuseumJansz1649Title},subtitle:{...a.rijksmuseumJansz1649Subtitle}},{coverUrl:r.a.images.pageCover.rijksmuseumRembrandt1642Jpg,position:.4,title:{...a.rijksmuseumRembrandt1642Title},subtitle:{...a.rijksmuseumRembrandt1642Subtitle}},{coverUrl:r.a.images.pageCover.rijksmuseumJansz1636Jpg,position:.5,title:{...a.rijksmuseumJansz1636Title},subtitle:{...a.rijksmuseumJansz1636Subtitle}},{coverUrl:r.a.images.pageCover.rijksmuseumJansz1641Jpg,position:.2,title:{...a.rijksmuseumJansz1641Title},subtitle:{...a.rijksmuseumJansz1641Subtitle}},{coverUrl:r.a.images.pageCover.rijksmuseumJanLievens1627Jpg,position:.4,title:{...a.rijksmuseumJanLievens1627Title},subtitle:{...a.rijksmuseumJanLievens1627Subtitle}},{coverUrl:r.a.images.pageCover.rijksmuseumJansz1637Jpg,position:.4,title:{...a.rijksmuseumJansz1637Title},subtitle:{...a.rijksmuseumJansz1637Subtitle}},{coverUrl:r.a.images.pageCover.rijksmuseumMignons1660Jpg,position:.5,title:{...a.rijksmuseumMignons1660Title},subtitle:{...a.rijksmuseumMignons1660Subtitle}},{coverUrl:r.a.images.pageCover.rijksmuseumAvercamp1620Jpg,position:.4,title:{...a.rijksmuseumAvercamp1620Title},subtitle:{...a.rijksmuseumAvercamp1620Subtitle}},{coverUrl:r.a.images.pageCover.rijksmuseumAvercamp1608Jpg,position:.3,title:{...a.rijksmuseumAvercamp1608Title},subtitle:{...a.rijksmuseumAvercamp1608Subtitle}},{coverUrl:r.a.images.pageCover.rijksmuseumClaesz1628Jpg,position:0,title:{...a.rijksmuseumClaesz1628Title},subtitle:{...a.rijksmuseumClaesz1628Subtitle}}],u=[{coverUrl:r.a.images.pageCover.woodcuts1Jpg,position:.1,title:{...a.woodcuts1Title},subtitle:{...a.woodcuts1Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts2Jpg,position:.8,title:{...a.woodcuts2Title},subtitle:{...a.woodcuts2Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts3Jpg,position:.8,title:{...a.woodcuts3Title},subtitle:{...a.woodcuts3Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts4Jpg,position:.4,title:{...a.woodcuts4Title},subtitle:{...a.woodcuts4Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts5Jpg,position:0,title:{...a.woodcuts5Title},subtitle:{...a.woodcuts5Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts6Jpg,position:1,title:{...a.woodcuts6Title},subtitle:{...a.woodcuts6Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts7Jpg,position:.3,title:{...a.woodcuts7Title},subtitle:{...a.woodcuts7Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts8Jpg,position:1,title:{...a.woodcuts8Title},subtitle:{...a.woodcuts8Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts9Jpg,position:1,title:{...a.woodcuts9Title},subtitle:{...a.woodcuts9Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts10Jpg,position:.1,title:{...a.woodcuts10Title},subtitle:{...a.woodcuts10Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts11Jpg,position:0,title:{...a.woodcuts11Title},subtitle:{...a.woodcuts11Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts13Jpg,position:0,title:{...a.woodcuts13Title},subtitle:{...a.woodcuts13Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts14Jpg,position:.4,title:{...a.woodcuts14Title},subtitle:{...a.woodcuts14Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts15Jpg,position:.7,title:{...a.woodcuts15Title},subtitle:{...a.woodcuts15Subtitle}},{coverUrl:r.a.images.pageCover.woodcuts16Jpg,position:0,title:{...a.woodcuts16Title},subtitle:{...a.woodcuts16Subtitle}},{coverUrl:r.a.images.pageCover.woodcutsSekka1Jpg,position:.9,title:{...a.woodcutsSekka1Title},subtitle:{...a.woodcutsSekka1Subtitle}},{coverUrl:r.a.images.pageCover.woodcutsSekka2Jpg,position:.2,title:{...a.woodcutsSekka2Title},subtitle:{...a.woodcutsSekka2Subtitle}},{coverUrl:r.a.images.pageCover.woodcutsSekka3Jpg,position:.8,title:{...a.woodcutsSekka3Title},subtitle:{...a.woodcutsSekka3Subtitle}}],p={gradient:{title:{...a.gradientCategory},url:"https://images.superfamous.com/36-Gradients",items:c},nasa:{title:{...a.nasaCategory},url:"https://www.flickr.com/photos/nasacommons/",items:i},metPatterns:{title:{...a.metPatternsCategory},url:"https://www.metmuseum.org/art/collection",items:l},rijksmuseum:{title:{...a.rijksmuseumCategory},url:"https://www.rijksmuseum.nl/en/rijksstudio",items:d},metWoodcuts:{title:{...a.metWoodcutsCategory},url:"https://www.metmuseum.org/art/collection",items:u},met:{title:{...a.metCategory},url:"https://www.metmuseum.org/art/collection",items:s}};t.a=p},t96T:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{forceShowProperties:!1}}}t.a=new r},tP7q:function(e,t,n){"use strict";n("3bBZ"),n("E9XD");var o=n("S26v"),r=n("vRGJ"),a=n.n(r),i=n("qqdV"),s=n("aqBw"),l=n.n(s),c=n("8d11"),d=n.n(c);function u(e){var t=l.a.decode(e);return d.a.decode(t)}var p=n("g90h");var h={bot:!0,api:!0,login:!0,logincallback:!0,[i.d.appleAuthCallback.substring(1)]:!0,[i.d.googleAuthCallback.substring(1)]:!0,[i.d.samlAuthCallback.substring(1)]:!0,[i.d.trelloAuthCallback.substring(1)]:!0,[i.d.asanaAuthCallback.substring(1)]:!0,[i.d.slackAuthCallback.substring(1)]:!0,logoutcallback:!0,desktop:!0,mobile:!0,android:!0,signup:!0,product:!0,logout:!0,"join-us":!0,pricing:!0,about:!0,hiring:!0,why:!0,investors:!0,server:!0,invoice:!0,invite:!0,native:!0,onboarding:!0,unsubscribe:!0,space:!0,"tools-and-craft":!0,getStatus:!0,status:!0,jobs:!0,security:!0,join:!0,students:!0,educators:!0,work:!0,startups:!0,wiki:!0,wikis:!0,projects:!0,remote:!0,notes:!0,press:!0,blog:!0,"about-us":!0,guide:!0,help:!0,faq:!0,faqs:!0,media:!0,"media-kit":!0,install:!0,download:!0,template:!0,templates:!0,mac:!0,windows:!0,linux:!0,ios:!0,sso:!0,saml:!0,auth:!0,docs:!0,developers:!0,signed:!0,image:!0,images:!0,front:!0,tutorial:!0,customers:!0,setlocale:!0,new:!0},m=n("Fv2F"),f=n("mADk"),g=n("HRSx"),b=n("FUUC"),v=n("5/h/");n.d(t,"k",(function(){return w})),n.d(t,"a",(function(){return k})),n.d(t,"l",(function(){return C})),n.d(t,"b",(function(){return T})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return I})),n.d(t,"j",(function(){return P})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return B})),n.d(t,"f",(function(){return L})),n.d(t,"e",(function(){return R})),n.d(t,"i",(function(){return D}));const y={credit:!0,intercom:!0,import:!0,billing:!0},S=[g.a,b.a,v.a],w={front:!0,invoiceRedirect:!0,unsubscribe:!0,upcomingInvoice:!0,invoiceById:!0,templatesRedirect:!0,communityRedirect:!0,guideRedirect:!0},k={appleAuthCallback:!0,googleAuthCallback:!0,loginWithEmailCallback:!0,samlAuthCallback:!0,trelloAuthCallback:!0,asanaAuthCallback:!0,slackAuthCallback:!0,passwordResetCallback:!0};function C(e){let t=o.e(e.url);if(!(t.protocol||t.host||t.hostname||t.pathname)){const n=t.hash,r=t.query,a=t.search;t=o.e(e.currentUrl||e.baseUrl),a&&(t.query=r,t.search=a),n&&(t.hash=n)}if(t.protocol&&t.host&&t.hostname){let n=!1;e.baseUrl==="".concat(t.protocol,"//").concat(t.host)&&(n=!0);let o=!1;if(e.protocol){m.c({httpUrl:e.baseUrl,protocol:e.protocol})==="".concat(t.protocol,"//").concat(t.hostname)&&(o=!0)}if(!n&&!o)return{name:"external"}}if(t.pathname&&t.pathname.startsWith("/www.notion.so")&&(t.pathname=t.pathname.slice("/www.notion.so".length)),t.pathname||(t.pathname="/"),"/"!==t.pathname&&t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),"/"===t.pathname){return{name:"root",target:y[t.query.target]?t.query.target:void 0,template:t.query.template}}if(t.pathname===i.d.appleAuthCallback){const{code:e,error:n,encryptedUserObject:o}=t.query;let r,a,i;try{const e=JSON.parse(u(t.query.state));r=e.callbackType,a=e.encryptedToken,i=e.encryptedNonce}catch{}return{name:"appleAuthCallback",code:e,encryptedToken:a,encryptedNonce:i,callbackType:r,encryptedUserObject:o,error:n}}if(t.pathname===i.d.googleAuthCallback){const{code:e,error:n}=t.query;let o,r,a;try{const e=JSON.parse(u(t.query.state));o=e.callbackType,r=e.encryptedToken,a=e.drive}catch(w){}return a?{name:"googleDriveAuthCallback",code:e,error:n}:{name:"googleAuthCallback",code:e,callbackType:o,encryptedToken:r,error:n}}if(t.pathname===i.d.logout)return{name:"logout"};if(t.pathname.startsWith("/native/"))return{name:"nativeRedirect",redirect:o.f(e.url).slice("/native".length)};if(t.pathname===i.d.login)return{name:"login",email:t.query.email};if(t.pathname===i.d.signup)return{name:"signup",email:t.query.email};if(t.pathname===i.d.loginWithEmail){const e=t.query,{state:n,password:o,redirectURL:r}=e;return{name:"loginWithEmailCallback",state:n,password:o,isSignup:"true"===t.query.isSignup,redirectURL:r}}if(t.pathname===i.d.loginPasswordReset){const e=t.query,{state:n,password:o}=e;return{name:"passwordResetCallback",state:n,password:o}}if(t.pathname===i.d.samlAuthCallback){const{userId:e,error:n,isNewSignup:o,token:r,previousUserId:a,csrfState:i}=t.query;return{name:"samlAuthCallback",userId:e,previousUserId:a,error:n,isNewSignup:Boolean(o),token:r,csrfState:i}}const n=Object(f.b)(t.pathname,!1);if(n)return{name:"front",type:n,alreadyRedirected:Boolean(t.query[f.a])};if(t.pathname===i.d.templates)return{name:"templatesRedirect"};if(t.pathname===i.d.help)return{name:"guideRedirect"};if(t.pathname===i.d.community)return{name:"communityRedirect"};if(t.pathname===i.d.deprecatedGuideRedirect)return{name:"guideRedirect"};if(t.pathname===i.d.unsubscribe)return{name:"unsubscribe",payload:t.query.payload};if(t.pathname===i.d.onboarding)return{name:"onboarding"};if(t.pathname===i.d.invoice)return{name:"invoiceRedirect"};if(t.pathname===i.d.terms)return{name:"termsRedirect"};if(t.pathname===i.d.contentPolicy)return{name:"contentPolicyRedirect"};const r=M({pattern:"/:spaceDomain?/invite/:inviteCode",pathname:t.pathname});if(r){const{inviteCode:e,spaceDomain:t}=r;return{name:"teamInvite",inviteCode:e,spaceDomain:t}}const a=M({pattern:"/invoice/:id",pathname:t.pathname});if(a){const{id:e}=a;return"upcoming"===e?{name:"upcomingInvoice",spaceId:t.query.spaceId}:{name:"invoiceById",invoiceId:e}}const s=M({pattern:"/design/:page?",pathname:t.pathname});if(s){const{page:e}=s;return{name:"uiDoc",page:e}}const l=M({pattern:"/__export/:maybeBlockId/:blockExportType?",pathname:t.pathname});if(l){const{maybeBlockId:e,blockExportType:t}=l,n=E(e);if(n&&("markdown"===t||"pdf"===t||"html"===t||void 0===t))return{name:"exportPreview",blockId:n,blockExportType:t||"html"}}if(t.pathname===i.d.admin)return{name:"admin"};const c=M({pattern:"".concat(i.d.admin,"/:table/:id"),pathname:t.pathname});if(c){const{table:e}=c;let{id:t}=c;const n="user"===e?"notion_user":e;if("block"===n&&(t=E(t)||"unknown"),S.includes(n))return{name:"adminSingleRecord",table:n,id:t}}if(t.pathname===i.d.newPage){const e=t.query.spaceId;return{name:"new",spaceId:p.h(e)}}if(t.pathname===i.d.oauthAuthorization)return{name:"oauthAuthorization",responseType:t.query.response_type,redirectUri:t.query.redirect_uri,integrationId:t.query.client_id,state:t.query.state};if(t.pathname===i.d.integrations)return{name:"integrations"};const d=M({pattern:"".concat(i.d.integrations,"/:id"),pathname:t.pathname});if(d){const{id:e}=d;return{name:"integrations",integrationId:p.h(e)}}if(t.pathname.startsWith("/space/")){const e=t.pathname.slice("/space/".length),n=p.h(e);return n?{name:"space",spaceId:n,spaceDomain:void 0}:{name:"unknown"}}const g=(t.pathname||"/").substring(1),[b,v]=g.split("/");if(v){const n=E(v);return n?{name:"page",blockId:n,spaceId:void 0,spaceDomain:h[b]?void 0:b,peekViewBlockId:void 0,collectionViewId:void 0,scrollToBlockId:void 0,discussionId:void 0,showMoveTo:void 0,saveParent:void 0,..._(t,e.isMobile)}:{name:"unknown"}}{const n=E(b);return n?{name:"page",blockId:n,spaceId:void 0,spaceDomain:void 0,peekViewBlockId:void 0,collectionViewId:void 0,scrollToBlockId:void 0,discussionId:void 0,showMoveTo:void 0,saveParent:void 0,..._(t,e.isMobile)}:h[b]?{name:"unknown"}:{name:"space",spaceId:void 0,spaceDomain:b}}}function M(e){const t=[],n=a()(e.pattern,t).exec(e.pathname);if(n)return t.reduce((e,t,o)=>(e[t.name]=n[o+1],e),{})}function E(e){const t=e.substring(e.length-p.i);return p.h(t)}function _(e,t){const n=e.hash?e.hash.substring(1):"",o=p.h(n),r=p.h(e.query.v),a=p.h(e.query.p),i=e.query.d,s=Boolean(e.query.showMoveTo),l=Boolean(e.query.saveParent);return t&&a?{blockId:a,scrollToBlockId:o,collectionViewId:r,discussionId:i,showMoveTo:s,saveParent:l}:{scrollToBlockId:o,collectionViewId:r,peekViewBlockId:a,discussionId:i,showMoveTo:s,saveParent:l}}function T(e,t){const n={callbackType:t.authType.callbackType};return t.authType.redirectToAuth&&(n.redirectToAuth="true"),o.d({url:"".concat(e).concat(i.d.applePopupRedirect),query:n})}function x(e,t){const n={callbackType:t.authType.callbackType};return t.email&&(n.email=t.email),t.contacts&&(n.contacts="true"),t.authType.redirectToAuth&&(n.redirectToAuth="true"),o.d({url:"".concat(e).concat(i.d.googlePopupRedirect),query:n})}function I(e,t){const n={callbackType:t.authType.callbackType,blockId:t.blockId,userId:t.userId};return t.authType.redirectToAuth&&(n.redirectToAuth="true"),o.d({url:"".concat(e).concat(i.d.slackPopupRedirect),query:n})}function P(e,t){const n={callbackType:t.authType.callbackType,userId:t.userId};return t.authType.redirectToAuth&&(n.redirectToAuth="true"),o.d({url:"".concat(e).concat(i.d.trelloPopupRedirect),query:n})}function O(e,t){const n={callbackType:t.authType.callbackType,userId:t.userId};return t.authType.redirectToAuth&&(n.redirectToAuth="true"),o.d({url:"".concat(e).concat(i.d.asanaPopupRedirect),query:n})}function B(e,t){const n={callbackType:t.authType.callbackType,userId:t.userId};return t.authType.redirectToAuth&&(n.redirectToAuth="true"),o.d({url:"".concat(e).concat(i.d.evernotePopupRedirect),query:n})}function L(e,t){const n={callbackType:t.authType.callbackType};return t.authType.redirectToAuth&&(n.redirectToAuth="true"),o.d({url:"".concat(e).concat(i.d.googleDrivePopupRedirect),query:n})}function R(e,t){return o.d({url:"".concat(e).concat(i.d.googleDrivePickerPopup),query:t})}function D(e){const{route:t}=e;if("space"===t.name)return t.spaceId?"/space/".concat(p.k(t.spaceId)):"/".concat(t.spaceDomain);throw new Error("This should never happen")}},tUBP:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("hfHo");function r(e){const t=Object(o.default)(e.startUnixTimestampMS),n=e.endUnixTimestampMS?Object(o.default)(e.endUnixTimestampMS):void 0,r=Object(o.default)(e.startOfWeekUnixTimestampMS),a=Object(o.default)(e.endOfWeekUnixTimestampMS),i=t.clone().startOf("day"),s=o.default.max(r,i),l=s.diff(r,"days");let c=1;if(n){const e=n.clone().endOf("day");c=o.default.min(a,e).diff(s,"days")+1}return{start:t,end:n,startOfWeek:r,endOfWeek:a,startColumn:l,columnCount:c}}},toub:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g}));var o=n("q1tI"),r=n.n(o),a=n("LEzx"),i=n("Cycz"),s=n("r8MX"),l=n("58VE"),c=n("HTHG"),d=n("J9+s"),u=n("vl8/"),p=n("mF3+");const h=Object(d.defineMessages)({accountTab:{id:"spaceSettingsSidebar.accountTab.title",defaultMessage:"My account"},notificationsTab:{id:"spaceSettingsSidebar.notificationsTab.title",defaultMessage:"My notifications"},settingsTab:{id:"spaceSettingsSidebar.settingsTab.title",defaultMessage:"Settings"},membersTab:{id:"spaceSettingsSidebar.membersTab.title",defaultMessage:"Members"},plansTab:{id:"spaceSettingsSidebar.plansTab.title",defaultMessage:"Plans"},upgradeTab:{id:"spaceSettingsSidebar.upgradeTab.title",defaultMessage:"Upgrade"},billingTab:{id:"spaceSettingsSidebar.billingTab.title",defaultMessage:"Billing"},subscriptionTab:{id:"spaceSettingsSidebar.subscriptionTab.title",defaultMessage:"Subscription"},connectedAppsTab:{id:"spaceSettingsSidebar.connectedAppsTab.title",defaultMessage:"My connected apps"},creditTab:{id:"spaceSettingsSidebar.creditTab.title",defaultMessage:"Earn credit"},appearanceTab:{id:"spaceSettingsSidebar.appearanceTab.title",defaultMessage:"Appearance"},botsTab:{id:"spaceSettingsSidebar.api.title",defaultMessage:"API"},securitySAMLTab:{id:"spaceSettingsSidebar.securityAndSAMLTab.title",defaultMessage:"Security & identity"},languageAndRegionTab:{id:"spaceSettingsSidebar.languageAndRegionTab.title",defaultMessage:"Language & region"}}),m={width:20,height:20},f={profile:e=>r.a.createElement(l.a,{size:20,avatarShouldShowShadow:!0,userValue:Object(c.g)(e)}),notifications:()=>p.a.settingsNotifications(m),connected_apps:()=>p.a.settingsConnectedApps(m),language_and_region:()=>p.a.settingsLanguage(m),appearance:()=>p.a.settingsAppearance(m),credit:()=>p.a.settingsCredit(m),settings:()=>p.a.settingsWorkspace(m),members:()=>p.a.settingsMembers(m),plans:()=>{const{data:e}=s.default.state;return e&&i.D(e)?p.a.settingsPlans(m):p.a.settingsUpgrade(m)},billing:()=>p.a.settingsBilling(m),subscription:()=>p.a.settingsSubscription(m),security_saml:()=>p.a.settingsSecurity(m),bots:()=>p.a.settingsAPI(m)},g={profile:()=>u.default.formatMessage(h.accountTab),notifications:()=>u.default.formatMessage(h.notificationsTab),settings:()=>u.default.formatMessage(h.settingsTab),members:()=>u.default.formatMessage(h.membersTab),plans:()=>{const{data:e}=s.default.state;return e&&i.D(e)?u.default.formatMessage(h.plansTab):u.default.formatMessage(h.upgradeTab)},billing:()=>u.default.formatMessage(h.billingTab),subscription:()=>u.default.formatMessage(h.subscriptionTab),connected_apps:()=>u.default.formatMessage(h.connectedAppsTab),appearance:()=>u.default.formatMessage(h.appearanceTab),credit:()=>u.default.formatMessage(h.creditTab),bots:()=>u.default.formatMessage(h.botsTab),security_saml:()=>u.default.formatMessage(h.securitySAMLTab),language_and_region:()=>u.default.formatMessage(h.languageAndRegionTab)};class b extends a.a{getInitialState(){return{open:!1,currentTab:"settings"}}}t.a=new b},ttM1:function(e,t,n){"use strict";n("3bBZ");var o=n("wldR"),r=n("hU3F");class a extends o.a{constructor(){super(...arguments),this.storeTypes={shown:r.a.of(!1)}}didMountOrUpdate(){this.props.show?(this.hideTimerId&&clearTimeout(this.hideTimerId),this.hideTimerId=void 0):(this.showTimerId&&clearTimeout(this.showTimerId),this.showTimerId=void 0),!this.props.show||this.stores.shown.get()||this.showTimerId?this.props.show||!this.stores.shown.get()||this.hideTimerId||(this.hideTimerId=window.setTimeout(()=>{this.hideTimerId=void 0,this.stores.shown.set(!1)},this.props.showHold)):this.showTimerId=window.setTimeout(()=>{this.showTimerId=void 0,this.stores.shown.set(!0),this.hideTimerId=window.setTimeout(()=>{this.hideTimerId=void 0,!this.props.show&&this.stores.shown.get()&&this.stores.shown.set(!1)},this.props.showHold)},this.props.showDelay)}renderComponent(){return this.props.render(this.stores.shown.get())}}t.a=a},tvfY:function(e,t,n){"use strict";var o=n("bPtJ");class r extends o.d{constructor(e,t,n={}){super({environment:e,pointer:t,userId:n.userId,inMemoryRecordCache:n.inMemoryRecordCache})}static createChildStore(e,t){const n=o.d.getChildStoreKey(t,r.keyName),a=e.getRecordStoreChildStore(n),i=a||new r(e.environment,t,{userId:e.userId,inMemoryRecordCache:e.inMemoryRecordCache});return a||i.setRecordStoreParent(e,n),i}hasName(){const e=this.getValue();return!!e&&(e.given_name||e.family_name)}getName(){const e=this.getValue();if(e)return{given:e.given_name,family:e.family_name}}getEmail(){const e=this.getValue();if(e)return e.email}}r.keyName="UserStore",t.a=r},tw5M:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s}));var o=n("LEzx"),r=n("HRSx");function a(e){return"existingUser"===e.type}function i(e){return"newUser"===e.type}function s(e){const t=e.inviteTargets[0];return!(!t||"bot"!==t.type)}class l extends o.a{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"editor",isInviteTargetsEmpty:!0,table:r.a}}}t.a=l},tzV5:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("njgS"),i=n("H4VD"),s=n("NoAG"),l=n("wF3w"),c=n("wpmu"),d=n("bkwR"),u=n("N34Z"),p=n("MBf9"),h=n("09Jm"),m=n("IdIf"),f=n("RvCr"),g=n("WzNb"),b=n("p+Y9"),v=n("hvW1"),y=n("VBxf"),S=n("XDBA"),w=n("D2XV"),k=n("QcDD"),C=n("vJXr"),M=n("3k5a"),E=n("w5u6"),_=n("dlZW"),T=n("Owea"),x=n("Fe7V"),I=n("922z"),P=n("HRSx"),O=n("6SEd"),B=n("yUnD"),L=n("yjqD"),R=n("HTHG"),D=n("rTCD"),A=n("p0Ff"),j=n("+NSf"),F=n("vl8/"),V=n("J9+s");const N=new class{constructor(){this.cache=new Map}get(e){const t=this.cache.get(e);return t||[]}set(e,t){for(this.cache.delete(e),this.cache.set(e,t.slice(0,1e3));this.cache.size>25;){const e=this.cache.keys().next().value;this.cache.delete(e)}}};var U=n("y2NV");n.d(t,"l",(function(){return X})),n.d(t,"e",(function(){return Y})),n.d(t,"m",(function(){return H})),n.d(t,"i",(function(){return q})),n.d(t,"o",(function(){return W})),n.d(t,"n",(function(){return G})),n.d(t,"r",(function(){return Z})),n.d(t,"a",(function(){return K})),n.d(t,"c",(function(){return J})),n.d(t,"q",(function(){return Q})),n.d(t,"p",(function(){return $})),n.d(t,"h",(function(){return ee})),n.d(t,"d",(function(){return te})),n.d(t,"j",(function(){return ne})),n.d(t,"k",(function(){return oe})),n.d(t,"f",(function(){return re})),n.d(t,"b",(function(){return ie})),n.d(t,"g",(function(){return se}));const z=Object(V.defineMessages)({importingCSV:{id:"databaseViewActions.importingCSV.loadingMessage",defaultMessage:"Importing"},uploadingCSV:{id:"databaseViewActions.uploadingCSV.loadingMessage",defaultMessage:"Uploading"},importFailed:{id:"databaseViewActions.importFailedError.message",defaultMessage:"Import failed."}});function X(e){const{environment:t,collectionViewBlockStore:n,collectionViewStore:o,collectionStore:r,collectionViewLocalStore:a,emitRender:s,isFullScreen:l,isRootChild:d}=e;Y({collectionViewLocalStore:a});const u=_.transactionQueue.isPendingTransactionForRecord(r.pointer);l&&(i.resetPageState(t),i.resetSidebarState(t),i.resetEditorState(t));const{remoteRequestStore:p,localResultStore:h}=a;if(o){const e=D.b.getLocalDateRangeStart({collectionViewId:o.id,currentUserId:t.currentUser.id}),i=()=>{E.default.afterNextFlush(()=>{re(t,a)})};p.addListener(i);const m=()=>{if(Object(U.b)(1)){const e=j.default.createMetric("database_update_lag");E.default.afterNextFlush(()=>{j.default.emit(t,e)})}};h.addListener(m),a.emitRender=s;const f=N.get(o.id),g=f.every(e=>c.a.createChildStore(r,{table:P.a,id:e}).isReady());a.resultSet.set(new Set(g?f:[])),a.remoteResult.set(void 0),a.searchQuery.set(""),a.viewSelectMenuOpen.set(!1),a.filterMenuOpen.set(!1),a.sortMenuOpen.set(!1),a.groupMenuOpen.set(!1),a.propertiesMenuOpen.set(!1),a.addItemMenuOpen.set(!1),a.searchOpen.set(!1),a.calendarByMenuOpen.set(!1),a.timelineByMenuOpen.set(!1),a.noDateMenuOpen.set(!1),a.isFullScreen.set(l),a.isRootChild.set(d),a.currentLimit.set(S.n({collectionViewStore:o,isFullScreen:l,environment:t})),a.dateRangeStart.set(Object(w.M)(e.clone().startOf("month"),R.q.state).valueOf()),a.dateRangeEnd.set(l&&!t.device.isMobile?Object(w.J)(e.clone().endOf("month").add(1,"month"),R.q.state).valueOf():Object(w.J)(e.clone().endOf("month"),R.q.state).valueOf()),a.isReady.set(u||f.length>0),a.collectionViewBlockStore.set(n),a.collectionStore.set(r),a.collectionViewStore.set(o),a.remoteRequestStoreCallback=i,a.localResultStoreCallback=m}}function Y(e){const{collectionViewLocalStore:t}=e,{localResultStore:n,remoteRequestStore:o,remoteRequestStoreCallback:r,localResultStoreCallback:a}=t;r&&o.removeListener(r),a&&n.removeListener(a)}function H(e){const{collectionViewLocalStore:t,isFullScreen:n,environment:o}=e,r=t.collectionViewStore.get();r&&t.currentLimit.set(S.n({collectionViewStore:r,isFullScreen:n,environment:o}))}function q(e){const{collectionViewLocalStore:t,isFullScreen:n,environment:o}=e,r=t.collectionViewStore.get();if(!r)return;const a=t.getCurrentTableResultCount(),i=t.currentLimit.get()+S.m({collectionViewStore:r,isFullScreen:n,currentResultCount:a,environment:o});t.currentLimit.set(i)}function W(e){const{collectionViewLocalStore:t,newLimit:n}=e;n>t.currentLimit.get()&&t.currentLimit.set(n)}function G(e){const{dateRangeStart:t,dateRangeEnd:n,collectionViewLocalStore:o}=e;o.dateRangeStart.set(t),o.dateRangeEnd.set(n)}function Z(e){const{searchQuery:t,collectionViewLocalStore:n,isFullScreen:o,environment:r}=e,a=n.collectionViewStore.get();a&&(n.searchQuery.set(t||""),n.currentLimit.set(S.n({collectionViewStore:a,isFullScreen:o,environment:r})),n.reachedEndOfSearchResults.set(!1))}function K(e){const{collectionViewLocalStore:t,blockId:n}=e;if(!t.collectionStore.get())return;const o=t.resultSet.get();o.has(n)||(o.add(n),t.resultSet.emit())}function J(e){const{environment:t,collectionViewBlockStore:n,collectionView:o,transaction:r}=e;u.b({environment:t,table:s.a,value:o,inMemoryRecordCache:n.inMemoryRecordCache,transaction:r});const a=n.getValue();if(a){const e=[...a.view_ids||[],o.id];u.d({store:n,data:{view_ids:e},transaction:r})}}function Q(e){const{collectionViewStore:t,update:n,transaction:o}=e;u.d({store:t,data:n,transaction:o})}function $(e){const{environment:t,collectionStore:n,update:o,transaction:r}=e,a=n.getSchema();u.d({store:n,data:o,transaction:r}),o.schema&&ee({environment:t,collectionStore:n,oldSchema:a,newSchema:o.schema,transaction:r})}function ee(e){const{environment:t,collectionStore:n,oldSchema:o,newSchema:i,transaction:s}=e,c=Object.keys(i);for(const m of c){const e=o[m],s=i[m];!s||e&&a.l(e)||!a.l(s)||d.getSelectPropertyValues(t,{collectionId:n.id,property:m}).then(e=>{if("failed"===e.type)throw e.error;const{results:o}=e.data,a=s.options||[],i=n.getSchema(),c=r.a.uniqBy([...a,...o.map(e=>({id:Object(l.a)(),value:e}))],e=>e.value),d={...s,options:c},h={...i,[m]:d};p.createAndCommit(t,e=>{u.d({store:n,data:{schema:h},transaction:e})})})}const h=r.a.uniq([...Object.keys(o),...Object.keys(i)]);for(const l of h){const e=o[l],c=i[l];if(e&&c&&a.l(e)&&a.l(c)&&e.type===c.type){const o=c,a=e.options||[],i=o.options||[],d=r.a.uniq([...a.map(e=>e.id),...i.map(e=>e.id)]);for(const r of d){const o=a.find(e=>e.id===r),c=i.find(e=>e.id===r);o&&c&&o.value!==c.value&&f.l({environment:t,collectionStore:n,property:l,oldValue:{type:e.type,value:o.value},newValue:{type:e.type,value:c.value},transaction:s})}}}}function te(e){const{environment:t,collectionViewLocalStore:n,transaction:o,formatKey:r,uniqueNamePrefix:a,beforeProperty:i,afterProperty:s}=e,c=n.collectionStore.get(),d=n.collectionViewStore.get();if(!c||!d)return;const u=c.getSchema(),p=n.normalizedFormatStore.state;if(!p)return;const m=p[r]||[],f=Object.keys(u),g=Object(h.a)(a,e=>!f.find(t=>{const n=u[t];return Boolean(n&&n.name===e)})),b=Object(l.a)(),v={property:b,visible:!0},y={name:g,type:"text"};let S;if(i){const e=m.findIndex(e=>e.property===i);S=[...m],S.splice(e,0,v)}else if(s){const e=m.findIndex(e=>e.property===s);S=[...m],S.splice(e+1,0,v)}else S=[...m,v];const w={...u,[b]:y};return Q({collectionViewStore:d,update:{format:{...p,[r]:S}},transaction:o}),$({environment:t,collectionStore:c,update:{schema:w},transaction:o}),b}function ne(e){const{store:t,environment:n}=e;let o;b.c({environment:n,bucket:"temporary",onStart:e=>{o=e,v.b({message:z.uploadingCSV})},onComplete:e=>{(async(e,o)=>{v.b({message:z.importingCSV});const r=t.getCollectionViewCollectionStore();if(!r)return;if(!M.a.findCollectionViewBlockFromStore(t))return;const{value:a}=await d.importFile(n,{importType:"MergeIntoCollection",fileURL:e,fileName:o,collectionId:r.id,spaceId:r.pointer.spaceId}).next();a.error&&y.showErrorMessage(F.default.formatMessage(z.importFailed)),v.a()})(e[0],o[0].name)},onError:e=>{v.a(),y.showErrorMessage(F.default.formatMessage(z.importFailed))}})}async function oe(e,t,n){const{collectionId:o,collectionViewId:i,query:l,loader:c}=t;let d;const{currentUserStore:u}=k.default.state;u&&(d=u.getValue());const p=Date.now(),h=await B.b({environment:e,pointer:{table:O.a,id:o},inMemoryRecordCache:n});if(!h)throw new Error("Collection not found.");const m=h.value,f=a.e(m.schema),b=await B.b({environment:e,pointer:{table:s.a,id:i},inMemoryRecordCache:n});if(!b)throw new Error("Collection view not found.");const v=I.f.fromPlainFunctionUnsafe(async t=>{const n=await B.b({environment:e,pointer:t});return n?n.value:void 0}),y=b.value,S=new I.a,w=I.c.fromRecordMap(S),C={},M={collectionValue:m,pageSort:y.page_sort||[],collectionViewId:i,query:l,loader:c,userId:d?d.id:void 0,currentTime:p,getRecordValue:w,intl:F.default.getIntl(),normalizedSchemaCache:C},E=g.i(M),_=(await B.c({environment:e,table:P.a,parent:{id:o,table:O.a},inMemoryRecordCache:n})).filter(({value:e})=>e&&e.alive),T=r.a.compact(_.map(({value:e})=>e)),x=("table"===c.type||"board"===c.type)&&c.loadContentCover;await g.j({collectionId:o,schema:f,query:l,loadAllProperties:Boolean(c.searchQuery),blocks:T,loadContentCover:x,recordMap:S,loadRecordValue:v});for(const r of T)g.h(r,M,E,C);const L=g.b(M,E),R=new I.a,D=g.e(L);return await Promise.all(D.map(async t=>{const o=await B.b({environment:e,pointer:{table:P.a,id:t},inMemoryRecordCache:n});o&&R.set({table:P.a,id:t},o)})),R.set({table:O.a,id:o},h),R.set({table:s.a,id:i},b),{result:L,recordMap:R.toJson()}}async function re(e,t){const n=t.collectionStore.get(),{remoteRequestStore:o}=t;if(!o||!n)return;const r=o.state;if(!r)return;const a=t.createUpdateCounter(),i=t.remoteResult.get();C.a.state.online&&i&&await _.transactionQueue.drain();const s=_.transactionQueue.getLastTaskTimestamp(),l=n.inMemoryRecordCache;let c;if(t.shouldUpdate(a)&&t.isLoading.set(!0),l===A.default&&C.a.state.online){c=d.queryCollection(e,r);const n=await Object(L.e)(1e4,[c]);if(!n.timeout&&"success"===n.result.type)return void ae({environment:e,lastTaskTimestamp:s,collectionViewLocalStore:t,response:n.result.data,updateCounter:a})}try{const n=await oe(e,r,l);x.g({environment:e,inMemoryRecordCache:l,recordMap:new I.a(n.recordMap)}),ae({environment:e,lastTaskTimestamp:s,collectionViewLocalStore:t,response:n,updateCounter:a})}catch(u){}c&&c.then(n=>{"success"===n.type&&ae({environment:e,lastTaskTimestamp:s,collectionViewLocalStore:t,response:n.data,updateCounter:a})}).catch(e=>{})}function ae(e){const{environment:t,lastTaskTimestamp:n,collectionViewLocalStore:o,response:a,updateCounter:i}=e,s=o.remoteResult.get(),l=o.collectionViewStore.get();if(_.transactionQueue.getLastTaskTimestamp()!==n)o.isLoading.set(!1),re(t,o);else if(s&&r.a.isEqual(s,a.result))o.shouldUpdate(i)&&(o.isLoading.set(!1),o.isReady.set(!0));else{const e=new Set,t=g.e(a.result);for(const n of t)e.add(n);o.shouldUpdate(i)&&(o.isLoading.set(!1),o.isReady.set(!0),o.resultSet.set(e),o.remoteResult.set(a.result),l&&N.set(l.id,Array.from(e)))}}function ie(e,t){const n=t.collectionStore.get(),o=t.resultSet.get(),r=t.collectionViewStore.get(),a=t.currentLimit.get(),i=t.dateRangeStart.get(),s=t.dateRangeEnd.get(),l=t.searchQuery.get(),d=t.isFullScreen.get(),u=t.isRootChild.get(),p=e.currentUser.id,h=R.q.state,f=n?T.a.getEditedBlocksForCollection(n.id):new Set;if(!(n&&n.getValue()&&r&&r.getValue()))return;const b=Date.now(),v=n.getValue(),y=r.getValue(),w=n.getSchema(),C=g.g(r.getValue(),w);if(v&&y){const t=m.i(r.getFormat(),w,"board"===y.type?C.group_by:void 0,[],m.h(y.type)),M=S.b({environment:e,collectionViewValue:y,currentLimit:a,dateRangeStart:i,dateRangeEnd:s,format:t,searchQuery:l,startDayOfWeek:h,isFullScreen:d,isRootChild:u}),E={},_={collectionValue:v,pageSort:y.page_sort||[],query:C,loader:M,userId:p,currentTime:b,getRecordValue:k.default.getCurrentBlockValueFn(),intl:F.default.getIntl(),normalizedSchemaCache:E},T=g.i(_);return o.forEach(e=>{const t=c.a.createChildStore(n,{table:P.a,id:e}).getValue();t&&g.h(t,_,T,E)}),f.forEach(e=>{if(!o.has(e)){const t=c.a.createChildStore(n,{table:P.a,id:e}).getValue();t&&g.h(t,_,T,E)}}),g.b(_,T)}}function se(e,t){const n=t.collectionStore.get(),o=t.collectionViewStore.get(),r=t.currentLimit.get(),a=t.searchQuery.get(),i=t.dateRangeStart.get(),s=t.dateRangeEnd.get(),l=t.isFullScreen.get(),c=t.isRootChild.get(),d=R.q.state;if(!n||!o)return;const u=o.getValue(),p=n.getSchema(),h=o.getFormat();if(!u)return;const f=g.g(u,p),b=m.i(h,p,"board"===u.type?f.group_by:void 0,[],m.h(u.type)),v=S.b({environment:e,collectionViewValue:u,currentLimit:r,dateRangeStart:i,dateRangeEnd:s,format:b,searchQuery:a,startDayOfWeek:d,isFullScreen:l,isRootChild:c});return{collectionId:n.id,collectionViewId:o.id,query:f,loader:v}}},tzmq:function(e,t,n){"use strict";function o(e){const{device:t}=e;return t.isAndroid&&t.browserVersion.startsWith("73.")&&t.browserName.startsWith("Chrome")?"google":t.isAndroid?"google":t.isWindows||t.isLinux?"twitter":"raw"}n.d(t,"a",(function(){return o}))},u5ao:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return E}));var o=n("mINO");const r=o.o([o.i(),o.l(),o.c(),o.d()]),a=o.n(r),i=o.o([r,o.k(o.l(),r)]),s=o.o([a,o.k(o.l(),a)]),l=o.o([s,o.k(o.l(),s)]),c=o.p(o.p(o.h(o.l()),"{"),"}");o.j({required:{key:c,value:i,ttl:o.n(o.i())},optional:{}}),o.j({required:{key:c,value:s,version:o.i()},optional:{}}),o.j({required:{key:c,value:o.i(),ttl:o.n(o.i())},optional:{}}),o.j({required:{key:c,value:o.i(),version:o.i()},optional:{}}),o.j({required:{key:c,amount:o.i(),ttl:o.n(o.i())},optional:{}}),o.j({required:{key:c,value:o.i(),version:o.i()},optional:{}}),o.j({required:{key:c,field:o.l(),value:s,ttl:o.n(o.i())},optional:{}}),o.j({required:{key:c,field:o.l(),value:l,version:o.i()},optional:{}}),o.j({required:{key:c,field:o.l(),updates:o.k(o.l(),a),ttl:o.n(o.i())},optional:{}}),o.j({required:{key:c,field:o.l(),value:l,version:o.i()},optional:{}}),o.j({required:{key:c},optional:{}}),o.j({required:{key:c,value:s,version:o.i()},optional:{}});const d=o.j({required:{operation:o.f("setValue"),key:c,value:o.l(),ttl:o.n(o.i())},optional:{}}),u=o.j({required:{operation:o.f("setValue"),key:c,value:s,version:o.i()},optional:{}}),p=o.j({required:{operation:o.f("increment"),key:c,amount:o.i(),ttl:o.n(o.i())},optional:{}}),h=o.j({required:{operation:o.f("increment"),key:c,value:o.i(),version:o.i()},optional:{}}),m=o.j({required:{operation:o.f("setIfGreater"),key:c,value:o.i(),ttl:o.n(o.i())},optional:{}}),f=o.j({required:{operation:o.f("setIfGreater"),key:c,value:o.i(),version:o.i()},optional:{}}),g=o.j({required:{operation:o.f("setField"),key:c,field:o.l(),value:s,ttl:o.n(o.i())},optional:{}}),b=o.j({required:{operation:o.f("setField"),key:c,field:o.l(),value:l,version:o.i()},optional:{}}),v=o.j({required:{operation:o.f("updateField"),key:c,field:o.l(),updates:o.k(o.l(),a),ttl:o.n(o.i())},optional:{}}),y=o.j({required:{operation:o.f("updateField"),key:c,field:o.l(),value:l,version:o.i()},optional:{}}),S={setValue:d,increment:p,setIfGreater:m,setField:g,updateField:v},w=o.o(Object.values(S)),k={setValue:u,increment:h,setIfGreater:f,setField:b,updateField:y},C=o.o(Object.values(k)),M=(o.j({required:{operations:o.b(w)},optional:{}}),o.j({required:{responses:o.b(C)},optional:{}}),o.j({required:{key:c,version:o.i()},optional:{}}),o.j({required:{key:c,wasNotified:o.c()},optional:{}}),o.j({required:{key:c},optional:{}}),o.j({required:{key:c},optional:{}}),o.j({required:{disconnectId:o.l(),operations:o.b(w)},optional:{}}),o.j({required:{disconnectId:o.l(),hadDisconnect:o.c()},optional:{}}),o.j({required:{disconnectId:o.l()},optional:{}}),o.j({required:{disconnectId:o.l(),wasRemoved:o.c()},optional:{}}),o.o([o.j({required:{type:o.f("notification"),key:c,value:l,version:o.i()},optional:{}}),o.j({required:{type:o.f("response"),status:o.g("ok","error"),requestId:o.l(),result:o.a()},optional:{}})])),E=o.j({required:{userId:o.l(),present:o.c()},optional:{activityTimestamp:o.i(),blockId:o.o([o.d(),o.l()])}})},u8ur:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));n("3bBZ");var o=n("hJ5A"),r=n("vJXr"),a=n("yjqD"),i=n("glAM"),s=n("nFzZ"),l=n("Gam4"),c=n("Mht8"),d=n("W75l"),u=n("VBxf"),p=n("zUsb"),h=n("J9+s"),m=n("vl8/"),f=n("922z"),g=n("zb5D");const b=Object(h.defineMessages)({saveEditsError:{id:"saveEditsError.message",defaultMessage:"There was an issue persisting your edits. Please message us for help."}}),v="SqliteTransactionQueue";class y{constructor(e,t){this.connection=e,this.environment=t,this.isProcessingTask=!1,this.lastTaskTimestamp=0,this.tasks=new Map,this.events=new i.a,this.transactionBackoffController=new d.a,this.sessionId="00000000-0000-0000-0000-000000000000",this.debugLogger=new c.BatchedLogger({from:v,type:"BulkDebug",level:"info",maxLength:250}),c.log({from:v,level:"debug",type:"SqliteTransactionQueueCreated"})}startLoop(){setTimeout(()=>this.txLoop(),1),setTimeout(()=>this.healthcheckLoop(),1)}async enqueueTask(e){this.lastTaskTimestamp=Math.max(e.timestamp,this.lastTaskTimestamp);const t=0===this.tasks.size;this.tasks.set(e.id,{...e,sessionId:this.sessionId});try{await p.x(this.connection,e)}catch(n){throw u.showErrorMessage(m.default.formatMessage(b.saveEditsError)),n}this.debugLogger.log({from:v,type:"saveTask",level:"debug",data:{message:"save task ".concat(e.id," in memory (").concat(this.tasks.size," total now)"),sessionId:this.sessionId,taskId:e.id,isNewSession:t}}),this.getWaitable(!1).trigger()}unpause(){this.transactionBackoffController.reset(),this.getWaitable(!1).trigger()}pause(){}getLastTaskTimestamp(){return this.lastTaskTimestamp}hasTasks(){return this.tasks.size>0}async hasTasksForUser(e){return await p.e(this.connection,e)>0}async getTotalNumberOfTasks(){return await p.d(this.connection)}async anySessionHasTasks(){return await this.getTotalNumberOfTasks()>0}async drain(){return this.hasTasks()||this.isProcessingTask?new Promise(e=>{this.events.addOnceListener("drain",e)}):void 0}async awaitRecordTransaction(e){this.isPendingTransactionForRecord(e)&&await this.drain()}isPendingTransactionForRecord(e){return Array.from(this.tasks.values()).some(t=>t.operations.some(t=>Object(f.g)(t.pointer,e)))}async reset(){await p.g(this.connection),this.tasks.clear()}async clearForUser(e){const t=await p.j(this.connection,e);for(const n of t)this.tasks.delete(n)}updateEnvironment(e){this.environment=e}async txLoop(){for(;;)try{await this.txLoopIteration()}catch(e){this.debugLogger.flush(),c.log({level:"error",from:v,type:"txLoopIteration",error:Object(g.a)(e)}),await a.h(15e3)}}async txLoopIteration(){const e=this.hasTasks();e||(this.doneSyncing(),this.events.emit("drain")),await this.wait(y.minLoopDelay,e?y.minLoopDelay:y.maxLoopDelay);const t=await p.l(this.connection);for(const o of t)Object(l.a)(o.operations);const n=Array.from(t).sort((e,t)=>e.timestamp-t.timestamp).map(e=>{const t=this.tasks.get(e.id);if(t){return{...t,...e,callback:t.callback}}return e});0!==n.length&&(this.startSyncing(),await this.useSaveTransactionsApi(n))}async useSaveTransactionsApi(e){const t=await Object(o.a)({environment:this.environment,tasks:e});if(t.error){const{savedTasks:e,failedTasks:n,message:o,retryDelay:r}=t.error;e.length>0&&(this.debugLogger.log({level:"debug",from:v,type:"handlePartialSaveTransactionsSuccess",data:{message:"will delete ".concat(e.length," saved tasks"),taskIds:e.map(e=>e.id)}}),await this.cleanupTasks(e,void 0)),n.length>0?(this.debugLogger.flush(),c.log({level:"warning",from:v,type:"handleSaveTransactionsError",data:{message:o,taskIds:n.map(e=>e.id)},error:Object(g.a)(t.error)}),await this.cleanupTasks(n,t.error)):this.debugLogger.log({level:"debug",from:v,type:"handleSaveTransactionsRetryableError",data:{message:o},error:Object(g.a)(t.error)}),r>0?await this.transactionBackoffController.backOffOnFailure(r-y.minLoopDelay):this.transactionBackoffController.reset()}else{const e=t.value;this.debugLogger.log({level:"debug",from:v,type:"handleSaveTransactionsSuccess",data:{message:"will delete ".concat(e.length," saved tasks"),taskIds:e.map(e=>e.id)}}),await this.cleanupTasks(e,void 0),this.transactionBackoffController.reset()}}async cleanupTasks(e,t){for(const o of e)if(o.callback)try{o.callback(t)}catch(n){this.debugLogger.flush(),c.log({level:"error",from:"SQLiteTransactionQueue",type:"cleanupTask",data:{taskId:o.id},error:Object(g.a)(n)})}for(const o of e)this.debugLogger.log({from:v,type:"deleteTasksDeleteTask",level:"debug",data:{message:"delete task ".concat(o.id),taskId:o.id}}),this.tasks.delete(o.id);await p.w(this.connection,e.map(e=>e.id))}getWaitable(e){return this.waiter&&!e?this.waiter:(this.waiter=new a.a,this.waiter)}async wait(e,t){await this.getWaitable(!1).wait(e,t),this.getWaitable(!0)}startSyncing(){r.a.setState({...r.a.state,syncing:!0})}doneSyncing(){r.a.setState({...r.a.state,syncing:!1})}async healthcheckLoop(){for(;;){const e=await this.getTotalNumberOfTasks();e>y.transactionSizeHealthcheckThreshold&&(this.debugLogger.flush(),c.log({level:"info",from:"SqliteTransactionQueue",type:"transactionSizeHealthcheck",data:{miscDataToConvertToString:{queueSize:e}}})),await a.h(y.healthcheckInterval)}}}y.maxLoopDelay=5*s.e,y.minLoopDelay=2*s.e,y.healthcheckInterval=15*s.d,y.transactionSizeHealthcheckThreshold=1e3},uLZi:function(e,t,n){"use strict";n("3bBZ");var o=n("LEzx");class r extends o.a{getInitialState(){return{openPopups:new Set}}hasOpenMouseCapturePopup(){const{openPopups:e}=this.state;return e.size>0&&Array.from(e.values()).some(e=>!e.props.disableMouseCapture)}}t.a=new r},uN94:function(e,t,n){"use strict";n.r(t),n.d(t,"InAppOnboardingStages",(function(){return i})),n.d(t,"onboardingPreferenceKey",(function(){return s}));var o=n("LEzx"),r=n("Catn"),a=n("LqYT");const i=["template_optout"],s="lastOnboardingStateKey";class l extends o.a{constructor(){super(),this.isOnboarding=new a.a(()=>this.state.isOnboarding);const e={isOnboarding:!1,isLoading:!1,currentUserId:void 0};super.setState(e)}setState(e){super.setState(e),function(e){if(e.isOnboarding)if("profile"===e.stage){const{onboardingData:t,isLoading:n,password:o,passwordErrorData:a,currentUserId:i,...l}=e;r.a.set({userId:i,key:s,value:l})}else{const{onboardingData:t,isLoading:n,currentUserId:o,...a}=e;delete a.password,r.a.set({userId:o,key:s,value:a})}else{const{currentUserId:t,...n}=e;r.a.set({userId:t,key:s,value:n})}}(e)}}t.default=new l},uRvc:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var o=n("q1tI"),r=n.n(o),a=n("wldR");const i={s:620,m:940,l:1260};class s extends a.a{renderComponent(){return r.a.createElement("div",{style:this.limitStyle()},this.props.children)}limitStyle(){const e={width:"100%",maxWidth:i[this.props.size],margin:"0 auto"};return this.props.style?{...e,...this.props.style}:e}}t.a=s},uSCg:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("3bBZ");var o=n("LvDl"),r=n.n(o);function a(e,t){return Object.keys(t).forEach(n=>{const o=t[n],a=e[n];a&&n.startsWith("on")&&r.a.isFunction(o)?e[n]=(...e)=>{a(...e),o(...e)}:a||(e[n]=o)}),e}},uUOz:function(e,t,n){"use strict";var o=n("g4rC");t.a=new o.a},udrG:function(e,t,n){"use strict";t.a={image:"image",video:"video",bookmark:"bookmark",file:"file",page:"page",link_to_page:"link_to_page",link_to_collection:"link_to_collection",text:"text",header:"header",subHeader:"sub_header",subSubHeader:"sub_sub_header",toDo:"to_do",bulletedList:"bulleted_list",numberedList:"numbered_list",toggle:"toggle",code:"code",factory:"factory",divider:"divider",columnList:"column_list",column:"column",copyIndicator:"copy_indicator",breadcrumb:"breadcrumb",equation:"equation",quote:"quote",collectionView:"collection_view",collectionViewPage:"collection_view_page",embed:"embed",framer:"framer",tweet:"tweet",gist:"gist",drive:"drive",figma:"figma",loom:"loom",typeform:"typeform",codepen:"codepen",audio:"audio",maps:"maps",invision:"invision",pdf:"pdf",callout:"callout",table_of_contents:"table_of_contents",whimsical:"whimsical",miro:"miro",abstract:"abstract",alias:"alias",transclusionContainer:"transclusion_container",transclusionReference:"transclusion_reference"}},"ui+/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l}));var o=n("Rd/G"),r=n("2ZkR"),a=n("QcDD");function i(e,t){return e.filter(e=>{const n=e.getValue();return Boolean(n&&n.copied_from&&Object(o.k)(n.copied_from)&&Boolean(t&&t(n.copied_from)))})}function s(e){const{currentSpaceStore:t}=a.default.state,n=t&&t.getValue();return!!n&&("on"===r.default.getGroup(e,"heath-ceramics")&&"team"===n.plan_type)}function l(e,t){return s(e)?Object(o.d)(t):Object(o.c)(t)}},unoy:function(e,t,n){"use strict";n.d(t,"m",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"p",(function(){return y})),n.d(t,"l",(function(){return S})),n.d(t,"g",(function(){return w})),n.d(t,"o",(function(){return k})),n.d(t,"n",(function(){return C})),n.d(t,"k",(function(){return M})),n.d(t,"h",(function(){return _})),n.d(t,"q",(function(){return T})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return I})),n.d(t,"d",(function(){return P})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return L})),n.d(t,"i",(function(){return R}));var o=n("LvDl"),r=n.n(o),a=n("cBa6"),i=n("IzPW"),s=n("RI9y"),l=n("6rsX"),c=n("MBf9"),d=n("DNgp"),u=n("43ch"),p=n("w5u6"),h=n("wiBh"),m=n("wllP"),f=n("Rnyl"),g=n("GQP/");function b(e){const{store:t,selection:n,readOnly:o}=e;if(t&&n){const a=d.default.state;("empty"===a.mode||o&&"readOnly"!==a.mode||!o&&"readOnly"===a.mode||a.store!==t||!r.a.isEqual(a.selection,e.selection))&&(o?d.default.setState({mode:"readOnly",store:t,selection:n,savedSelectionXPosition:"empty"!==a.mode?a.savedSelectionXPosition:void 0}):d.default.setState({mode:"editing",store:t,selection:n,forceExtendAnnotations:"editing"===a.mode&&a.store===t?a.forceExtendAnnotations:{},savedSelectionXPosition:"empty"!==a.mode?a.savedSelectionXPosition:void 0}))}else t&&!n?o?d.default.setState({mode:"readOnly",store:t,selection:{startIndex:0,endIndex:0},savedSelectionXPosition:0}):d.default.setState({mode:"editing",store:t,selection:{startIndex:0,endIndex:0},forceExtendAnnotations:{},savedSelectionXPosition:0}):"empty"!==d.default.state.mode&&d.default.setState({mode:"empty"})}function v(e){const{store:t}=e,n=d.default.state;"editing"===n.mode&&n.store===t&&b({store:t,selection:n.selection})}function y(e){const{annotation:t}=e;if(a.Hb[t[0]])return;const n=a.F(t),o=Object(h.c)().find(e=>a.F(e)===n);S(o?{annotation:o,extend:!1}:{annotation:t,extend:!0})}function S(e){const{annotation:t,extend:n}=e,o=d.default.state,r=a.F(t);"editing"===o.mode&&d.default.setState({...o,forceExtendAnnotations:{...o.forceExtendAnnotations,[r]:{annotation:t,extend:n}}})}function w(){const e=d.default.state;"editing"===e.mode&&d.default.setState({...e,forceExtendAnnotations:{}})}function k(e){const{store:t}=e;b({store:t,selection:{startIndex:0,endIndex:0}})}function C(e){const{store:t}=e;b({store:t,selection:Object(h.d)(t)})}function M(e){w();const{environment:t,store:n,canSelectAllBlocks:o}=e,r=Object(h.d)(n),a={startIndex:0,endIndex:r?r.endIndex:0};o&&"empty"!==d.default.state.mode&&Object(h.n)(d.default.state.selection,a)?l.l(t):b({store:n,selection:a})}function E(e){const t=d.default.state;"empty"===t.mode||t.savedSelectionXPosition||d.default.setState({...t,savedSelectionXPosition:e.savedSelectionXPosition})}function _(){"empty"!==d.default.state.mode&&d.default.setState({...d.default.state,savedSelectionXPosition:void 0})}function T(e){const{store:t,environment:n}=e;p.default.afterNextFlush(()=>{const e=i.n(n);b({store:t,selection:e&&e.selection}),e&&e.forceEmitSelectionStore&&d.default.emit()})}function x(){const e=document.activeElement;e instanceof HTMLElement&&e.blur()}function I(e){s.clear(e),b({store:void 0,selection:void 0})}function P(e){const{environment:t,store:n,event:o,topBottomPadding:r}=e,a=s.get();if(!a)return;w();const c=s.getRect(a),p=u.a.findNodeFromStore(n),f=d.default.state;if(!p)return;if(!(p instanceof Element))return;if("empty"===f.mode)return;const g=p.getBoundingClientRect(),b=Object(h.h)(n);if(c&&g){const e=Math.abs(c.top-g.top),p={startIndex:f.selection.startIndex,endIndex:f.selection.startIndex},v=Object(m.c)(n);if(!o.altKey&&o.shiftKey&&Object(h.l)(p)&&(s.selectionIsBackwards()||a.collapsed)&&v)l.q({environment:t,stores:[v]});else if(!o.altKey&&!o.shiftKey&&e<=r&&b){o.preventDefault();const e=Math.max(f.savedSelectionXPosition||0,c.left);E({savedSelectionXPosition:e});const n=u.a.findNodeFromStore(b);if(n&&n instanceof Element){const o=n.getBoundingClientRect(),a=Math.min(Math.max(e,o.left),o.right),l=o.bottom-r,c=s.rangeFromPoint(a,l),u=i.n(t,c);u&&(D({environment:t,store:b,selection:u.selection}),u.forceEmitSelectionStore&&d.default.emit())}}else T({environment:t,store:n})}}function O(e){const{environment:t,store:n,event:o,topBottomPadding:r}=e,a=s.get();if(!a)return;w();const c=s.getRect(a),p=u.a.findNodeFromStore(n),f=d.default.state;if(!p)return;if(!(p instanceof Element))return;if("empty"===f.mode)return;const g=p.getBoundingClientRect();if(c&&g){const e=Object(h.g)(n),p=Math.abs(c.bottom-g.bottom),b={startIndex:f.selection.endIndex,endIndex:f.selection.endIndex},v=Object(m.c)(n);if(!o.altKey&&o.shiftKey&&Object(h.k)(n,b)&&(!s.selectionIsBackwards()||a.collapsed)&&v)l.q({environment:t,stores:[v]});else if(!o.altKey&&!o.shiftKey&&p<=r&&e){o.preventDefault();const n=Math.max(f.savedSelectionXPosition||0,c.left);E({savedSelectionXPosition:n});const a=u.a.findNodeFromStore(e);if(a&&a instanceof Element){const o=a.getBoundingClientRect(),l=Math.min(Math.max(n,o.left),o.right),c=o.top+r,u=s.rangeFromPoint(l,c),p=i.n(t,u);p&&(D({environment:t,store:e,selection:p.selection}),p.forceEmitSelectionStore&&d.default.emit())}}else T({environment:t,store:n})}}function B(e){p.default.afterNextFlush(()=>{_()}),w();const{environment:t,store:n,event:o}=e,r=s.get(),i=d.default.state;if("empty"===i.mode)return;const c={startIndex:i.selection.startIndex,endIndex:i.selection.startIndex},u=Object(m.c)(n);if(!o.altKey&&o.shiftKey&&r&&Object(h.l)(c)&&(s.selectionIsBackwards()||r.collapsed)&&u)l.q({environment:t,stores:[u]});else if(o.altKey||o.shiftKey||i.store!==n||!Object(h.l)(i.selection))if(o.altKey||o.shiftKey||o.ctrlKey||o.metaKey||!r||!r.collapsed)T({environment:t,store:n});else{const e=a.gb(n.getValue(),c.startIndex-1);if(e&&a.ub(e)){o.preventDefault();const r={startIndex:c.startIndex-1,endIndex:c.startIndex};b({store:n,selection:r}),a.tb(e)&&p.default.afterNextFlush(()=>{f.b({environment:t,selectedToken:{token:e,position:r},analyticsFrom:"arrow_keys"})})}const r=a.Mb(n.getValue(),c.startIndex-1,(e,t)=>{const n=a.S(e);return t?Boolean(n&&a.S(t)===n):Boolean(n)});r&&g.c({focus:!1,selection:r})}else{o.preventDefault();const e=Object(h.h)(n);if(e){const n=Object(h.d)(e);n&&D({environment:t,store:e,selection:n})}}}function L(e){p.default.afterNextFlush(()=>{_()}),w();const{environment:t,store:n,event:o}=e,r=s.get(),i=d.default.state;if("empty"===i.mode)return;const c={startIndex:i.selection.endIndex,endIndex:i.selection.endIndex},u=Object(m.c)(n);if(!o.altKey&&o.shiftKey&&r&&Object(h.k)(n,c)&&(!s.selectionIsBackwards()||r.collapsed)&&u)l.q({environment:t,stores:[u]});else if(o.altKey||o.shiftKey||i.store!==n||!Object(h.k)(n,i.selection))if(o.altKey||o.shiftKey||o.ctrlKey||o.metaKey||!r||!r.collapsed)T({environment:t,store:n});else{const e=a.gb(n.getValue(),c.startIndex);if(e&&a.ub(e)){o.preventDefault();const r={startIndex:c.startIndex,endIndex:c.startIndex+1};b({store:n,selection:r}),a.tb(e)&&p.default.afterNextFlush(()=>{f.b({environment:t,selectedToken:{token:e,position:r},analyticsFrom:"arrow_keys"})})}const r=a.Mb(n.getValue(),c.startIndex+1,(e,t)=>{const n=a.S(e);return t?Boolean(n&&a.S(t)===n):Boolean(n)});r&&g.c({focus:!1,selection:r})}else{o.preventDefault();const e=Object(h.g)(n);e&&D({environment:t,store:e,selection:{startIndex:0,endIndex:0}})}}function R(e,t){const{x:n,y:o}=t,r=Object(h.a)(n,o);r&&r.selectable.props.onEditText&&c.createAndCommit(e,e=>{r.selectable.props.onEditText&&r.selectable.props.onEditText({isAtStart:n<=r.rect.left,transaction:e})})}function D(e){const{environment:t,store:n,selection:o}=e;b({store:n,selection:o});const r=Object(m.c)(n);r&&l.f({environment:t,store:r})}},"v/t1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));let o=!1;try{const e=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",()=>{},e)}catch(i){}const r=function(e,t,n,r){o?e.addEventListener(t,n,{passive:!0,capture:Boolean(r)}):e.addEventListener(t,n,Boolean(r))},a=function(e,t,n,o){e.removeEventListener(t,n,Boolean(o))}},v9FK:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("NOLh"),s=n("MeYt"),l=n("CVgL"),c=n("WPWl"),d=n("Sb6f"),u=n("LeVO"),p=n("VhAz");class h extends a.a{renderComponent(){const{children:e,isVisible:t,position:n,style:o}=this.props,a=r.a.Children.toArray(e).filter(p.a),s=a.length;return r.a.createElement(i.a,{isVisible:!0,animationStyle:{opacity:t?1:0},render:()=>r.a.createElement("div",Object.assign({},Object(l.a)(this.getContainerStyle(),o,t&&this.getHoveredContainerStyle(),"top"===n&&this.getTopContainerStyle())),a.map((e,t)=>this.renderChild(e,t===s-1)))})}renderButton(e,t){return r.a.cloneElement(e,{...Object(l.a)(e.props.style,this.getButtonStyle(),t&&this.getButtonLastStyle()),hoveredStyle:Object(l.a)(this.getButtonHoveredStyle(),t&&this.getButtonLastStyle()).style,pressedStyle:this.getButtonPressedStyle()})}renderChild(e,t){if(e&&"object"==typeof e&&"type"in e){if(e.type===u.a&&r.a.isValidElement(e))return r.a.cloneElement(e,{render:n=>{const o=e.props.render(n);return this.renderButton(o,t)}});if(e.type===s.a&&r.a.isValidElement(e))return this.renderButton(e,t)}}getContainerStyle(){return{color:this.theme.actionMenuButtonTextColor,fill:this.theme.actionMenuButtonTextColor,fontSize:12,background:this.theme.whiteButtonBackground,boxShadow:this.theme.lightBoxShadow,display:"flex",whiteSpace:"nowrap",borderRadius:c.a.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:this.environment.device.isMobile?"auto":"none",opacity:this.environment.device.isMobile?1:0,fontFamily:d.a.fontFamily.sans,position:"absolute",right:c.a.horizontal.small,bottom:c.a.vertical.small,zIndex:2}}getHoveredContainerStyle(){return{pointerEvents:"auto",opacity:1}}getTopContainerStyle(){return{top:c.a.vertical.small,bottom:void 0}}getButtonLastStyle(){return{borderRight:"none"}}getButtonStyle(){return{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:d.a.fontWeight.medium,borderRight:"1px solid ".concat(this.theme.regularDividerColor),color:this.theme.actionMenuButtonTextColor,fill:this.theme.actionMenuButtonTextColor}}getButtonHoveredStyle(){return{background:this.theme.whiteButtonHoveredBackground}}getButtonPressedStyle(){return{background:this.theme.whiteButtonPressedBackground}}}t.a=h},vBRW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("3bBZ");function o(e){let t,n,o;return async(...r)=>t?(o=r,n||(n=t.then(()=>(n=void 0,t=e(...o),t)),n)):(t=e(...r),t)}},vDOa:function(e,t,n){"use strict";function o(e){return"none"===e.role}function r(e){return"none"!==e.role}function a(e,t){return t?t.percent_off?{amount:e*t.percent_off/100,monthsRemaining:t.duration_in_months}:t.amount_off?{amount:t.amount_off}:{amount:0}:{amount:0}}n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}))},vJXr:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{online:!0,syncing:!1}}}t.a=new r},vTDQ:function(e,t,n){"use strict";n("3bBZ");var o=n("mKX5"),r=n("HRSx"),a=n("njgS"),i=n("IdIf"),s=n("wpmu"),l=n("LqYT"),c=n("hU3F"),d=n("tzV5"),u=n("WzNb"),p=n("qqv4"),h=n("vl8/");class m{constructor(e){this.environment=e,this.collectionViewBlockStore=new c.a(void 0),this.collectionStore=new c.a(void 0),this.collectionViewStore=new c.a(void 0),this.resultSet=new c.a(new Set),this.remoteResult=new c.a(void 0),this.searchQuery=new c.a(""),this.reachedEndOfSearchResults=new c.a(!1),this.isLoading=new c.a(!1),this.isReady=new c.a(!1),this.viewSelectMenuOpen=new c.a(!1),this.filterMenuOpen=new c.a(!1),this.sortMenuOpen=new c.a(!1),this.groupMenuOpen=new c.a(!1),this.propertiesMenuOpen=new c.a(!1),this.addItemMenuOpen=new c.a(!1),this.searchOpen=new c.a(!1),this.currentLimit=new c.a(0),this.dateRangeStart=new c.a(Object(o.a)().valueOf()),this.dateRangeEnd=new c.a(Object(o.a)().valueOf()),this.calendarByMenuOpen=new c.a(!1),this.timelineByMenuOpen=new c.a(!1),this.noDateMenuOpen=new c.a(!1),this.isFullScreen=new c.a(!1),this.isRootChild=new c.a(!1),this.updateCounter=0,this.localResultStore=new l.a(()=>Object(d.b)(this.environment,this),!0),this.normalizedFormatStore=new l.a(()=>{const{localResultStore:e}=this,t=this.collectionViewStore.get();if(!t||!e)return{};const n=e.state,o=t.getValue(),r=this.normalizedQueryStore.state;if(!o||!r)return{};const a=this.normalizedSchemaStore.state,s=n&&"board"===n.type?n.groupResults.map(e=>e.value):[];return i.i(t.getFormat(),a,"board"===o.type?r.group_by:void 0,s,i.h(o.type))},!0),this.normalizedSchemaStore=new l.a(()=>{const e=this.collectionStore.get();return e?e.getSchema():a.g(h.default.getIntl())},!0),this.normalizedQueryStore=new l.a(()=>{const e=this.collectionViewStore.get();if(e){const t=e.getValue();if(t){const e=this.normalizedSchemaStore.state;return Object(u.g)(t,e)}}},!0),this.remoteRequestStore=new l.a(()=>Object(d.g)(e,this),!0)}getInitialState(){return{dateRangeStart:Object(o.a)().valueOf(),dateRangeEnd:Object(o.a)().valueOf(),resultSet:new Set,localCreatedResultSet:new Set}}static getLocalViewPreferenceKey(e){return"CollectionView:".concat(e)}getCurrentResults(){const e=this.collectionStore.get();if(e){return Array.from(this.resultSet.get().values()).map(t=>s.a.createChildStore(e,{table:r.a,id:t}))}return[]}createUpdateCounter(){return this.updateCounter++,this.updateCounter}shouldUpdate(e){return this.updateCounter===e}getViewType(){const e=this.collectionViewStore.get();if(e){const t=e.getValue();if(t)return t.type}}reachedEndOfResults(){const e=this.remoteResult.get(),t=this.searchQuery.get(),n=this.reachedEndOfSearchResults.get();return!(!t||!n)||(!(!e||"table"!==e.type||e.blockIds.length!==e.total)||!(!e||"board"!==e.type||!e.groupResults.every(e=>e.blockIds.length===e.total)))}reachedEndOfTableResults(){return this.getRemainingTableResultCount()<=0}getCurrentTableResultCount(){const e=this.remoteResult.get();return e&&"board"!==e.type&&"calendar"!==e.type&&"reducer"!==e.type?e.blockIds.length:0}getRemainingTableResultCount(){const e=this.remoteResult.get(),t=this.searchQuery.get(),n=this.reachedEndOfSearchResults.get();return t&&n?0:e&&"board"!==e.type&&"calendar"!==e.type&&"reducer"!==e.type?e.total-e.blockIds.length:0}reachedEndOfBoardGroupResults(e){return this.getRemainingBoardGroupResultCount(e)<=0}getRemainingBoardGroupResultCount(e){const t=this.remoteResult.get(),n=this.searchQuery.get(),o=this.reachedEndOfSearchResults.get();if(n&&o)return 0;if(!t||"board"!==t.type)return 0;if(e&&e.hidden)return 0;const r=t.groupResults.find(t=>Object(p.g)(e.value,t.value));return r?r.total-r.blockIds.length:0}getCurrentAggregationValueResult(){const{localResultStore:e}=this,t=this.remoteResult.get();return this.reachedEndOfResults()?e?e.state:void 0:t}currentViewHasSort(){const e=this.normalizedQueryStore.state;return Boolean(e&&e.sort&&e.sort.length>0)}}m.incrementScrollOffset=600,t.a=m},vX3W:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var o=n("6rsX"),r=n("cX/5");function a(e,t){o.e(e),r.a.setState({...t,isActive:!0})}function i(){const e=r.a.state;e.isActive&&e.onCancel&&e.onCancel(),r.a.reset()}},vio7:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("wldR");var l=function(e,t){if(e.ref&&t.ref){const n=t.ref;t.ref=t=>{e.ref(t),n(t)}}return r.a.cloneElement(e,t)};class c extends s.a{constructor(){super(...arguments),this.renderedItems=[],this.removedItems=[]}willMountOrUpdate(e){const t=e.render();this.removedItems=i.a.reject(this.removedItems,e=>t.findIndex(t=>e.key===t.key)>=0);for(const n of this.renderedItems){if(!(t.findIndex(e=>n.key===e.key)>=0)){const e=l(n,{isVisible:!1,onAnimationEnd:()=>{this.cleanupItemFromRemovedItems(e)}});this.removedItems.push(e)}}this.renderedItems=t}renderComponent(){return r.a.createElement("div",null,this.removedItems.concat(this.renderedItems))}cleanupItemFromRemovedItems(e){this.removedItems=this.removedItems.filter(t=>t.key!==e.key),this.enqueueForceUpdate()}}t.a=c},"vl8/":function(e,t,n){"use strict";n.r(t);var o=n("J9+s"),r=n("T8dS");const a=new class{constructor(){const e=Object(o.createIntlCache)();this.intl=Object(o.createIntl)({locale:r.a,defaultLocale:"en-US",messages:r.c},e)}formatMessage(e,t){return this.intl.formatMessage(e,t)}formatNumber(e,t){return this.intl.formatNumber(e,t)}getIntl(){return this.intl}};t.default=a},vmS8:function(e,t,n){"use strict";n("3bBZ"),n("UxlC");function o(e){return"Error"===e.type||"ErrorBefore"===e.type||"PreconditionFailed"===e.type}var r=n("VhAz"),a=n("nFzZ"),i=n("yjqD");async function s(e){const{fn:t,handleError:n,retryAttemptsMS:o,retryAttemptRandomOffsetMS:r}=e;let a,s=e.initialInput;for(let c=0;c<=o.length;c+=1)try{return await t(s)}catch(l){const e=c>=o.length,t=n(l,e,c,s);if("throw"===t.status){a=t.error;break}if(e){a=l;break}const d=o[c]+Math.random()*r;await i.h(d),t.input&&(s=t.input)}throw a}n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return m}));const l=999;async function c(e,t,n){const o={sql:t,args:n,getData:!0},[r]=await u(e,[o]);return r.data}async function d(e,t,n){const o={sql:t,args:n};await u(e,[o])}async function u(e,t){const n=async()=>{const n={body:[{sql:"BEGIN",getData:!1},...t.map(e=>({...e,sql:Object(a.q)(e.sql)})),{sql:"COMMIT",getData:!1}],onError:{sql:"ROLLBACK",getData:!1}},i=n,s=await e.execSqliteBatch(i),l=s.body.slice(1,-1),c=function(e,t){const n=t.body.findIndex(o);if(n<0)return;const a=t.body[n];let i="SqliteError",s="Unknown sqlite error";switch(a.type){case"Error":const{sql:t}=e.body[n];s="".concat(a.message," (sql: `").concat(t,"`)"),i=a.name;break;case"ErrorBefore":s="ErrorBefore before first Error",i="SqliteInvalidResult";break;case"PreconditionFailed":s="The precondition SQL query did not pass, the batch execution was not attempted.",i="SqlitePreconditionFail";break;default:Object(r.e)(a)}const l=new Error(s);return Object.assign(l,a,{name:i,message:s,batch:e,result:t,errorSql:e.body[n].sql,errorArgs:e.body[n].args,errorIndex:n}),l}(n,s);if(c||l.some(o))throw c;return l};return await s({initialInput:void 0,fn:()=>n(),handleError:(e,t)=>"SqlitePreconditionFail"!==e.name||t?{status:"throw",error:e}:{status:"retry"},retryAttemptsMS:[10,100,1e3],retryAttemptRandomOffsetMS:50})}function p(e){const t=e.data[0];if(0===e.data.length||!t)throw new Error("Expected >1 result rows, instead had none.");return t}function h(e){return JSON.stringify(e).replace(/\u2028/g,"").replace(/\u2029/g,"")}function m(e){return e?1:0}},"vo/r":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("LvDl"),l=n.n(s),c=n("8fuX"),d=n("HRSx"),u=n("tzV5"),p=n("N34Z"),h=n("zok3"),m=n("n8tN"),f=n("g8hj"),g=n("njgS"),b=n("wldR"),v=n("G4GV"),y=(n("UxlC"),n("SYor"),n("DrHl")),S=n("yNyh"),w=n("Z1H8"),k=n("O93e"),C=n("OWVv"),M=n("Pl3d"),E=n("4HCU"),_=n("f0kS"),T=n("mF3+"),x=n("LeVO"),I=n("2Y+N"),P=n("WgIs"),O=n("zTdN"),B=n("gbGO"),L=n("VBxf"),R=n("rGsA"),D=n("MeYt"),A=n("RQ1t"),j=n("qqv4"),F=n("VhAz"),V=n("Sb6f"),N=n("58VE"),U=n("V1wX"),z=n("JMnu"),X=n("J9+s");class Y extends b.a{constructor(){super(...arguments),this.storeTypes={inputStore:v.a,menuListStore:A.a},this.handleSelectValueClick=()=>{const{groupFormat:e}=this.props,{inputStore:t}=this.stores;"person"!==e.value.type&&t.setState({focus:!0,inputValue:e.value.value||""})},this.handlePersonValueClick=()=>{const{inputStore:e}=this.stores;e.setState({focus:!0,inputValue:""})},this.handleRenameInputChange=e=>{const{inputStore:t,menuListStore:n}=this.stores;t.setState({...t.state,inputValue:e.target.value}),n.setState({...n.state,focus:{section:0,indexLocal:0,indexGlobal:0}})},this.handleAutocompleteQueryUpdate=({query:e})=>{const{inputStore:t,menuListStore:n}=this.stores;t.setState({...t.state,inputValue:e}),n.setState({...n.state,focus:{section:0,indexLocal:0,indexGlobal:0}})},this.handleRenameInputKeydown=e=>{if(13===e.keyCode)this.acceptSelectInputValue();else if(27===e.keyCode){const{inputStore:e}=this.stores;e.setState({...e.state,focus:!1})}},this.handleRenameInputBlur=()=>{this.acceptSelectInputValue()},this.performUserSearchRequest=async e=>(await E.l({environment:this.environment,query:e,membersOnly:!1})).slice(0,20)}renderComponent(){const{groupFormat:e,schema:t,isHiddenGroup:n}=this.props,o=void 0===e.value.value,{focus:a}=this.stores.inputStore.state,i=t[e.property];if(!i)return;if(!Object(j.h)(i))return;const{name:s}=i;return o&&!a?n?r.a.createElement("div",{style:{...Y.uncategorizedLabelStyle,paddingLeft:0}},T.a.collectionInbox({width:14,marginLeft:6,marginRight:6}),r.a.createElement("span",{style:{...V.a.textOverflowStyle}},r.a.createElement(X.FormattedMessage,{defaultMessage:"No {name}",values:{name:s},id:"database.boardView.uncategorizedColumnTitle"}))):r.a.createElement(x.a,{renderTooltip:()=>r.a.createElement(X.FormattedMessage,{defaultMessage:"Any items with an empty <b>{name}</b> property will go here. This column cannot be removed.",values:{name:s,b:(...e)=>r.a.createElement("span",{style:{fontWeight:V.a.fontWeight.semibold}},e)},id:"database.boardView.uncategorizedColumnTooltip"}),style:{width:240},textWrap:!0,render:e=>r.a.createElement("div",Object.assign({style:Y.uncategorizedLabelStyle},e),T.a.collectionInbox({width:14,marginLeft:6,marginRight:6}),r.a.createElement("span",{style:{...V.a.textOverflowStyle}},r.a.createElement(X.FormattedMessage,{defaultMessage:"No {name}",values:{name:s},id:"database.boardView.uncategorizedColumnTitle"})))}):g.l(i)?this.renderSelectValue():"person"===i.type?this.renderPersonValue():void Object(F.e)(i)}renderSelectValue(){const{device:e}=this.environment,{groupFormat:t,disabled:n,schema:o,isHiddenGroup:a}=this.props,{focus:i,inputValue:s}=this.stores.inputStore.state,l=o[t.property];if(!l)return;if(!g.l(l))return;const c=l.options||[],d=t.value;if(d.type!==l.type)return;const u=this.getSelectTypePlaceholder(l.type);return i?r.a.createElement(w.a,{capture:!0,render:t=>r.a.createElement("div",Object.assign({},t,{style:Y.inputWrapStyle}),r.a.createElement(S.b,{focus:!0,selectAll:!0,value:s,placeholder:u,onChange:this.handleRenameInputChange,onBlur:this.handleRenameInputBlur,onKeyDown:this.handleRenameInputKeydown,style:{height:26,padding:"4px 7px"}}),e.isMobile&&r.a.createElement(R.a,{show:!0}))}):void 0!==d.value?r.a.createElement(D.a,{style:{...Y.selectStyle,...n&&a&&{cursor:"pointer"}},onClick:this.handleSelectValueClick,disabled:n},r.a.createElement(y.a,{format:y.a.Format.Medium,isSingle:!0,value:d.value,options:c,showRemoveButton:!1})):void 0}renderPersonValue(){const{device:e}=this.environment,{groupFormat:t,disabled:n,currentGroups:o,isHiddenGroup:a,intl:i}=this.props,{focus:s,inputValue:c}=this.stores.inputStore.state,d=t.value;if("person"===d.type){if(s)return r.a.createElement(M.a,{request:c,performRequest:this.performUserSearchRequest,debounce:E.b,render:(t,n,a)=>{n||(n=[]);const s=l.a.compact(n.map(e=>({key:e.id,render:t=>r.a.createElement(_.a,Object.assign({user:e},t)),action:()=>{const{onChange:t}=this.props;if(!t)return;const n={type:"person",value:{table:"notion_user",id:e.id}};if(!l.a.isEqual(d,n)){if(d.value&&o.some(e=>Object(j.g)(n,e.value)))return void Object(L.showErrorMessage)(r.a.createElement(X.FormattedMessage,{defaultMessage:"Column already exists.",id:"database.columnExistsAlreadyError.message"}));t(n)}this.stores.inputStore.setState({...this.stores.inputStore.state,focus:!1})}}))),c=r.a.createElement(X.FormattedMessage,{defaultMessage:"Select a person",id:"database.selectPerson.menuItem"});return r.a.createElement(C.b,{alignment:C.a.Center,left:r.a.createElement(N.a,{userValue:void 0,size:18})},r.a.createElement(k.a,{isOpen:!0,loading:!a,queryUpdateDebounce:E.b,inputPlaceholder:i.formatMessage({defaultMessage:"Search for a person…",id:"database.searchPerson.placeholder"}),onQueryUpdate:this.handleAutocompleteQueryUpdate,focus:!0,renderPopup:()=>{let t,o;return t=n&&0===s.length?r.a.createElement(I.a,{title:c,loading:!a},r.a.createElement(O.a,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"No results",id:"database.noPersonSearchResults.message"})})):r.a.createElement(P.a,{type:P.a.Type.Vertical,initialFocus:0,sections:[{key:0,render:e=>r.a.createElement(I.a,Object.assign({},e,{title:c,loading:!a})),items:s}],store:this.stores.menuListStore}),o=e.isMobile?{menuType:B.b.MenuType.ActionSheet}:{menuType:B.b.MenuType.Popup,width:460},r.a.createElement(B.b,Object.assign({},o),t)},onBgClick:this.handleRenameInputBlur}))}});if(d.value){const e=Object(U.a)({pointer:d.value,getRecordValue:this.props.parentStore.getRecordValue});return r.a.createElement(D.a,{style:{...n&&a&&{cursor:"pointer"},...Y.personTokenStyle},onClick:this.handlePersonValueClick,disabled:n},e.value&&r.a.createElement(z.c,{format:z.c.Format.Medium,actor:e,showRemoveButton:!1,isSingle:!0,disableAvatarTooltip:this.props.isHiddenGroup,shouldShrink:!0}))}}}getSelectTypePlaceholder(e){const{intl:t}=this.props;return"select"===e?t.formatMessage({id:"database.boardView.selectLabel.placeholder",defaultMessage:"New select"}):t.formatMessage({id:"database.boardView.multiSelectLabel.placeholder",defaultMessage:"New multi-select"})}acceptSelectInputValue(){const{groupFormat:e,onChange:t,currentGroups:n}=this.props,{inputStore:o}=this.stores,a=o.state.inputValue.trim().replace(/,/g,""),i=e.value,s="select"===i.type||"multi_select"===i.type,c=a&&a!==i.value;if(s&&c){const e={type:i.type,value:a};l.a.isEqual(e,i)||(n.some(t=>Object(j.g)(e,t.value))?Object(L.showErrorMessage)(r.a.createElement(X.FormattedMessage,{id:"database.columnAlreadyExistsOnRenameError.message",defaultMessage:"Column already exists."})):t&&t(e))}o.setState({...o.state,focus:!1})}}Y.inputWrapStyle={fontSize:14,overflow:"hidden",padding:3},Y.selectStyle={overflow:"hidden",padding:3,borderRadius:3},Y.personTokenStyle={overflow:"hidden",padding:3,paddingRight:6,borderRadius:3},Y.uncategorizedLabelStyle={display:"flex",alignItems:"center",fontSize:14,lineHeight:1.2,paddingLeft:2,paddingRight:4,whiteSpace:"nowrap",overflow:"hidden"};var H=Object(X.injectIntl)(Y),q=n("g90h"),W=n("y6Dp"),G=n("d9nj"),Z=n("zmp8");class K extends b.a{constructor(){super(...arguments),this.storeTypes={inputStore:v.a},this.handleClick=()=>{const{inputStore:e}=this.stores;e.setState({focus:!0,inputValue:""})},this.handleCollectionGroupValueChange=e=>{const{groupBy:t,schema:n,boardGroups:o,onAccept:a}=this.props,i=n[t];if(i&&Object(j.h)(i))if(o.some(t=>Object(j.g)(t.value,e)))L.showErrorMessage(r.a.createElement(X.FormattedMessage,{id:"database.boardView.addGroupButton.columnAlreadyExistsError.message",defaultMessage:"This column already exists."}));else if(W.W(this.environment,{view_type:"board",action:"board_add_group"}),g.l(i)){if(i.type!==e.type)return;if(void 0===e.value)return;const r=i.options||[],s={id:Object(q.b)(),value:e.value,color:Object(Z.n)(r)},l=[...r,s],c={...i,options:l},d={...n,[t]:c},u={property:t,value:e,hidden:!1};a({newBoardGroups:[...o,u],newSchema:d})}else if("person"!==i.type)Object(F.e)(i);else{const n={property:t,value:e,hidden:!1};a({newBoardGroups:[...o,n]})}}}renderComponent(){const{groupBy:e,boardGroups:t,schema:n}=this.props,{inputStore:o}=this.stores,{focus:a}=o.state,i=n[e];if(i&&Object(j.h)(i)){if(a){const a={property:e,value:{type:i.type,value:void 0},hidden:!1};return r.a.createElement("div",{style:K.wrapStyle},r.a.createElement(H,{groupFormat:a,currentGroups:t,schema:n,inputStore:o,disabled:!1,isHiddenGroup:!1,onChange:this.handleCollectionGroupValueChange,parentStore:this.props.parentStore}))}return r.a.createElement("div",{style:K.wrapStyle},r.a.createElement(G.a,{isLightGray:!0,icon:T.a.plus,onClick:this.handleClick},r.a.createElement(X.FormattedMessage,{defaultMessage:"Add a group",id:"database.boardView.addGroupButtonTitle"})))}}}K.wrapStyle={display:"flex"};var J=K,Q=n("vTDQ"),$=n("IdIf"),ee=n("0lqH"),te=n("IdSf"),ne=n("/YYm"),oe=n("fJHT"),re=n("bFnu"),ae=n("Oy36"),ie=n("H4VD"),se=n("hi+p"),le=n("6rsX"),ce=n("BJyN"),de=n("D2XV"),ue=n("7TLZ"),pe=n("wpmu"),he=n("2m/B"),me=n("1y3T"),fe=n("QTGx"),ge=n("CARr"),be=n("F1uM"),ve=n("udrG"),ye=n("XDBA"),Se=n("WPWl"),we=n("MCLT");class ke extends b.a{constructor(){super(...arguments),this.renderContentBlock=e=>{const{store:t}=this.props,n=pe.a.createChildStore(t,{table:d.a,id:e}),o=Object(fe.a)(n);if(o)return r.a.createElement(o,{key:e,store:n,disabled:!0,hideContent:!0,style:{fontSize:12,opacity:.8,pointerEvents:"none"},isQuickFind:!0,numberedListCounterStore:this.createComputedStore(()=>this.createNumberedListCounterStore(e))})},this.coverStore=this.createComputedStore(()=>{const{store:e}=this.props,t=Object(ye.f)(e);return t.image?t.image:t.blockIds}),this.numberedLists=this.createComputedStore(()=>{const{store:e}=this.props,t=this.coverStore.state,n=[];if(l.a.isArray(t)){let o=0;for(;o<t.length;){let r=t[o],a=pe.a.createChildStore(e,{table:d.a,id:r});if(a.getType()===ve.a.numberedList){const i=[r];for(;o<t.length&&(o+=1,r=t[o],a=pe.a.createChildStore(e,{table:d.a,id:r}),a.getType()===ve.a.numberedList);)i.push(r);n.push(i)}else o+=1}}return n})}didUpdate(e){this.props.coverFormat.type!==e.coverFormat.type&&this.props.onLoadProxiedImage()}renderComponent(){const{coverFormat:e}=this.props;return"page_cover"===e.type?this.renderPageCover():"page_content"===e.type?this.renderPageContent():"property"===e.type?this.renderProperty(e.property):void 0}renderPageCover(){const{store:e}=this.props,t=e.getValue();return t&&t.format&&t.format.page_cover?r.a.createElement("div",{style:this.getImageCoverWrapStyle()},r.a.createElement(me.a,{url:t.format.page_cover,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:this.getCoverWidth(),onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),render:(e,t)=>{if(t)return r.a.createElement(he.a,{style:{...this.getImageStyle(),...this.getCoverStyle(),...this.getCoverAspectStyle(),objectPosition:"center ".concat(100*(1-this.imagePosition),"%")},src:t})}}),this.renderImageBorder()):this.props.isGallery?this.renderEmptyGalleryCover():void 0}renderPageContent(){const e=this.coverStore.state;if(e){if(!l.a.isArray(e))return r.a.createElement("div",{style:this.getImageCoverWrapStyle()},r.a.createElement(me.a,{url:e.url,onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),isAuthenticated:!0,permissionRecord:e.pointer,width:this.getCoverWidth(),render:(e,t)=>{if(t)return r.a.createElement(he.a,{style:{...this.getImageStyle(),...this.getPageContentImageStyle(),...this.getCoverAspectStyle(),objectPosition:"center ".concat(100*(1-this.imagePosition),"%")},src:t})}}),this.renderImageBorder());if(e.length>0)return r.a.createElement("div",{style:this.getContentWrapStyle()},e.map(this.renderContentBlock));if(this.props.isGallery)return this.renderEmptyGalleryCover()}else if(this.props.isGallery)return this.renderEmptyGalleryCover()}renderProperty(e){const{store:t}=this.props,n=Object(ge.p)(t.getPropertyValue(e)).find(e=>Object(be.h)({url:e.url}));return n?r.a.createElement("div",{style:this.getImageCoverWrapStyle()},r.a.createElement(me.a,{onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),url:n.url,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:this.getCoverWidth(),render:(e,t)=>{if(t)return r.a.createElement(he.a,{style:{...this.getImageStyle(),...this.getCoverStyle(),...this.getCoverAspectStyle(),objectPosition:"center ".concat(100*(1-this.imagePosition),"%")},src:t})}}),this.renderImageBorder()):this.props.isGallery?this.renderEmptyGalleryCover():void 0}renderEmptyGalleryCover(){return r.a.createElement("div",{style:{height:this.getCoverHeight()}})}renderImageBorder(){return r.a.createElement("div",{style:{position:"absolute",left:0,right:0,bottom:0,borderBottom:"1px solid ".concat(this.theme.regularDividerColor)}})}get imagePosition(){const{coverPosition:e,store:t}=this.props;if(Object(we.isNumber)(e))return e;const n=t.getValue();if(n&&n.format){const{page_cover_position:e,card_cover_position:t}=n.format;if(Object(we.isNumber)(t))return t;if(Object(we.isNumber)(e))return e}return.5}createNumberedListCounterStore(e){const t=this.numberedLists.state;for(const n of t)if(n.includes(e))return n;return[]}getImageStyle(){return this.props.style||{}}getCoverHeight(){const{coverHeight:e,coverSizeFormat:t}=this.props;if(e)return e;switch(t){case"large":return Se.a.card.desktop.large.height;case"small":return Se.a.card.desktop.small.height;case"medium":default:return Se.a.card.desktop.medium.height}}getCoverWidth(){const{coverWidth:e,coverSizeFormat:t}=this.props;if(e)return e;switch(t){case"large":return Se.a.card.desktop.large.width;case"small":return Se.a.card.desktop.small.width;case"medium":default:return Se.a.card.desktop.medium.width}}getImageCoverWrapStyle(){return{height:this.getCoverHeight(),position:"relative",pointerEvents:"none",overflow:"hidden"}}getContentWrapStyle(){const{ThemeStore:e}=this.environment,t="dark"===e.state.mode;return{height:this.getCoverHeight(),pointerEvents:"none",overflow:"hidden",background:t?"rgba(255, 255, 255, 0.05)":"rgba(55, 53, 47, 0.025)",boxShadow:"inset 0 -1px 0 0 ".concat(this.theme.regularDividerColor),padding:"8px 8px 0"}}getCoverStyle(){return{width:"100%",height:this.getCoverHeight(),objectPosition:"center",borderRadius:0,borderTopLeftRadius:1,borderTopRightRadius:1}}getCoverAspectStyle(){const{coverAspectFormat:e}=this.props;return{objectFit:void 0===e?"cover":e}}getPageContentImageStyle(){return{...this.getCoverStyle(),objectPosition:"center center"}}}var Ce=ke,Me=n("QcDD"),Ee=n("sjR4"),_e=n("qHvo"),Te=n("DNgp"),xe=n("iICV"),Ie=n("oDyz"),Pe=n("MBf9"),Oe=n("5w/s"),Be=n("v9FK"),Le=n("mego"),Re=n("DaKt"),De=n("vl8/");const Ae=Object(X.defineMessages)({untitledBlock:{defaultMessage:"Untitled",id:"collectionBoardItem.untitledBlock"},typeAName:{defaultMessage:"Type a name…",id:"collectionBoardItem.itemName.placeholder"}});class je extends m.a{constructor(){super(...arguments),this.storeTypes={mouseStore:re.a},this.renderControl=({isVisible:e,isRepositioning:t,handleCancelClick:n,handleRepositionClick:o,handleSavePositionClick:a})=>{const{device:i}=this.environment,s=this.lastProxiedUrl&&this.props.coverFormat&&"contain"!==this.props.coverAspectFormat,{isMobile:l}=i;if(this.shouldShowActionButton.state)return r.a.createElement(Be.a,{isVisible:e,position:"top"},s&&!t&&!l&&r.a.createElement(D.a,{style:Le.a.actionButtonStyle,onClick:e=>o(e,this.lastProxiedUrl)},r.a.createElement(X.FormattedMessage,{defaultMessage:"Reposition",id:"collectionBoardItem.actions.reposition"})),s&&t&&!l&&r.a.createElement(D.a,{style:Le.a.actionButtonStyle,onClick:a},r.a.createElement(X.FormattedMessage,{defaultMessage:"Save position",id:"collectionBoardItem.actions.savePosition"})),s&&t&&!l&&r.a.createElement(D.a,{style:Le.a.actionButtonStyle,onClick:n},r.a.createElement(X.FormattedMessage,{defaultMessage:"Cancel",id:"collectionBoardItem.actions.cancel"})),!t&&r.a.createElement(x.a,{renderTooltip:()=>r.a.createElement(X.FormattedMessage,{defaultMessage:"Rename, delete, move to and more…",id:"collectionBoardItem.reposition.tooltip"}),render:e=>r.a.createElement(D.a,Object.assign({style:Le.a.actionButtonStyle,onClick:this.handleActionButtonClick},e),T.a.dots({width:14,height:14}))}))},this.renderProperty=(e,t)=>{const{store:n,schema:o,disabled:a,blockPropertyValueOverlayStore:i,locked:s}=this.props;return r.a.createElement(ee.b,{key:e,store:n,property:e,schema:o,disabled:a||!n.canEdit(),locked:s,format:ee.a.Board,tableWrap:!1,blockPropertyValueOverlayStore:i})},this.renderDiscussionIndicator=()=>{const{store:e}=this.props,t=ue.h(e);if(t>0)return r.a.createElement("div",{style:{display:"flex",alignItems:"center",color:this.theme.lightTextColor,fill:this.theme.lightTextColor,fontWeight:V.a.fontWeight.semibold,fontSize:12,paddingBottom:8,paddingLeft:10,paddingRight:10}},T.a.speechBubble({width:14,height:14,marginRight:4,fill:this.theme.mediumIconColor}),t)},this.handleFlushTemporaryPosition=({imagePosition:e,reset:t})=>{Object(Pe.createAndCommit)(this.environment,n=>{Object(Oe.i)({store:this.props.store,coverPosition:e,transaction:n}),t()})},this.handleClick=()=>{W.Nb(this.environment,{is_peek:!0,from:"board"})},this.handleActionButtonClick=e=>{le.k({environment:this.environment,store:this.props.store}),se.c({environment:this.environment,stores:Ee.default.state.stores,left:e.clientX,top:e.clientY,showInput:!0,actions:ce.c,analyticsFrom:"block_more_menu"})},this.handleTextEnter=()=>{const{store:e,onTextEnter:t}=this.props;t&&t(e)},this.handleTextEsc=()=>{const{store:e,onTextEsc:t}=this.props;t&&t(e)},this.handleMouseMove=()=>{if(!Re.a.state){const{mouseStore:e}=this.stores;e.setState({...e.state,mouseEntered:!0})}},this.handleMouseLeave=()=>{const{mouseStore:e}=this.stores;e.setState({...e.state,mouseEntered:!1})},this.isEditingTitle=this.createComputedStore(()=>{const e=Te.default.state;return"editing"===e.mode&&e.store===this.props.store.getBlockTitleStore()}),this.shouldShowActionButton=this.createComputedStore(()=>{const{device:e}=this.environment,{isKeyboardMode:t}=xe.a.state;return!e.isMobile&&this.canEdit()&&!t}),this.mouseIsEntered=this.createComputedStore(()=>this.stores.mouseStore.state.mouseEntered&&!_e.b.state.isDragging)}activate(){const e=this.getPeekURL();e&&ie.navigate({environment:this.environment,url:e})}renderComponent(){const{device:e}=this.environment,{store:t,schema:n,isSingleGroup:o,coverFormat:a,coverAspectFormat:i,coverSizeFormat:s,shouldShowTitle:l}=this.props,c=this.getPageURL(),d=this.getPeekURL(),u=this.isEditingTitle.state,p=this.mouseIsEntered.state;return r.a.createElement(te.a,{style:{...this.getStyle(),position:p?"relative":"static",...o&&{display:"flex"}},innerStyle:{userSelect:u?void 0:"none",WebkitUserSelect:u?void 0:"none",height:"100%",minHeight:40},hoveredStyle:{background:this.theme.cardHoveredBackground},pressedStyle:{background:this.theme.cardPressedBackground},href:c,metaHref:e.isMobile?c:d,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},r.a.createElement(Ie.a,{mouseStore:this.stores.mouseStore,onFlushTemporaryPosition:this.handleFlushTemporaryPosition,renderControl:this.renderControl,source:"board",small:"small"===s,store:t},({imagePosition:e})=>a&&r.a.createElement(Ce,{store:t,coverFormat:a,coverAspectFormat:i,coverSizeFormat:s,coverPosition:e,schema:n,isGallery:!1,onLoadProxiedImage:e=>{this.lastProxiedUrl=e}})),l&&this.renderTitle(),this.renderProperties(),this.renderDiscussionIndicator())}renderTitle(){const{device:e}=this.environment,{store:t}=this.props,n=t.getBlockTitleStore(),o=t.hasIcon()||!t.isEmptyPage(),a=this.isEditingTitle.state;return r.a.createElement("div",{style:je.desktopTitleWrapStyle},o&&r.a.createElement(ae.a,{disabled:!0,style:e.isMobile?je.mobileTitleIconStyle:je.desktopTitleIconStyle,icon:t.getIcon(),size:e.isMobile?24:18,isEmptyPage:t.isEmptyPage()}),r.a.createElement(oe.a,{store:n,disabled:!a,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableEmbedMenu:!0,onEnter:this.handleTextEnter,onEsc:this.handleTextEsc,onTab:l.a.identity,placeholder:a?De.default.formatMessage(Ae.typeAName):De.default.formatMessage(Ae.untitledBlock),style:{...e.isMobile?je.mobileTitleTextStyle:je.desktopTitleTextStyle,pointerEvents:a?void 0:"none",cursor:a?"text":void 0},disableSelectAllBlocks:!0}))}renderProperties(){const e=this.getShowProperties(),{shouldShowTitle:t}=this.props;if(e.length>0)return r.a.createElement("div",{style:{lineHeight:1.5,paddingBottom:4,paddingTop:t?0:8}},e.map(this.renderProperty))}getShowProperties(){const{store:e,format:t,schema:n}=this.props,o=t.board_properties||[];return e.getValue()?o.filter(t=>t.visible&&$.e({blockValue:e.getValue(),property:t.property,schema:n,getRecordValue:this.props.store.getRecordValue,userTimeZone:de.m,intl:De.default.getIntl()})).map(e=>e.property):[]}getPeekURL(){const{store:e}=this.props,{currentBlockStore:t}=Me.default.state;if(t)return Object(ne.a)({store:t,fullyQualified:!1,peekViewBlockId:e.id})}getPageURL(){const{store:e}=this.props;return Object(ne.a)({store:e,fullyQualified:!1})}getStyle(){return{boxShadow:this.theme.lightBoxShadow,borderRadius:3,marginBottom:8,background:this.theme.popoverBackground,overflow:"hidden",transition:"background 100ms ease-out"}}}je.desktopTitleWrapStyle={paddingTop:8,paddingBottom:10,paddingLeft:10,paddingRight:10},je.desktopTitleIconStyle={float:"left",marginTop:2,marginRight:4,marginLeft:-2},je.mobileTitleIconStyle={float:"left",marginTop:0,marginRight:4,marginLeft:-2},je.desktopTitleTextStyle={fontSize:14,lineHeight:1.5,minHeight:21,fontWeight:V.a.fontWeight.medium,width:"auto"},je.mobileTitleTextStyle={fontSize:16,lineHeight:1.5,minHeight:24,fontWeight:V.a.fontWeight.medium,width:"auto"};var Fe=je,Ve=n("RvCr"),Ne=n("AOw3"),Ue=n("7M94");class ze extends b.a{constructor(){super(...arguments),this.handleInsertAfter=e=>{const{insertStores:t,transaction:n}=e,{store:o,collectionViewLocalStore:r,results:a,group:i,parentStore:s}=this.props;return Ve.g({environment:this.environment,parentStore:s,collectionViewLocalStore:r,group:i,results:a.state,insertStores:t,store:o,before:!1,transaction:n})},this.handleInsertBefore=e=>{const{insertStores:t,transaction:n}=e,{store:o,collectionViewLocalStore:r,results:a,group:i,parentStore:s}=this.props;return Ve.g({environment:this.environment,parentStore:s,collectionViewLocalStore:r,group:i,results:a.state,insertStores:t,store:o,before:!0,transaction:n})},this.handleRemove=e=>{const{store:t,collectionViewLocalStore:n,group:o}=this.props,{transaction:r}=e,a=n.collectionStore.state;a&&(o&&Ve.k({collectionStore:a,store:t,transaction:r,group:o,collectionViewLocalStore:n,environment:this.environment}),Ve.j({collectionStore:a,store:t,transaction:r}))},this.handleDrop=e=>{const{droppedDirection:t,droppedStores:n,duplicate:o}=e,{store:r,collectionViewLocalStore:a,results:i,group:s,parentStore:l}=this.props;Pe.createAndCommit(this.environment,e=>{Ve.e({environment:this.environment,parentStore:l,targetStore:r,droppedDirection:t,collectionViewLocalStore:a,group:s,droppedStores:n,results:i.state,duplicate:o,transaction:e})})},this.handleNativeDrop=e=>{const{files:t,droppedDirection:n}=e,{store:o,collectionViewLocalStore:r,results:a,group:i,parentStore:s}=this.props;Pe.createAndCommit(this.environment,e=>{Ve.f({environment:this.environment,parentStore:s,targetStore:o,droppedDirection:n,collectionViewLocalStore:r,group:i,files:t,results:a.state,transaction:e})})},this.handleInsertRowBelow=({transaction:e})=>{this.insertBlock(e,!1)},this.canEditStore=this.createComputedStore(()=>this.props.store.canEdit()),this.shouldShowCommentMenuStore=this.createComputedStore(()=>("comment_only"===this.props.store.getRole()||this.pageContext&&"comment"===this.pageContext.publicEditModeStore.state)&&this.environment.currentUser.isLoggedIn())}renderComponent(){const{store:e,resultProps:t,resultComponent:n,canDrag:o,canDrop:a,getItemSelectableStyle:i,belowDropZoneMargin:s,analyticsName:l,disabled:c,direction:d,onSelectableEnter:u,disableScrollToRevealHorizontal:p,touchDragOnly:h,isLast:m}=this.props,f=!c&&this.canEditStore.state,g=this.props.shouldShowHoverMenu&&f,b=this.shouldShowCommentMenuStore.state,v=d!==Xe.Vertical&&a,y=d!==Xe.Vertical&&a,S=d===Xe.Vertical&&a;return r.a.createElement(Ne.a,{style:i?i(m):void 0,store:e,canSelect:f,shouldShowHalo:!0,canDrag:o,canDropBelow:S,canDropLeft:v,canDropRight:y,canNativeDropBelow:S,canNativeDropLeft:v,canNativeDropRight:y,canDropOnto:a,canTriggerContextMenu:f,showBlockMenuInput:!0,shouldShowHoverMenu:g,shouldShowCommentMenu:b,onSelectableDrop:this.handleDrop,onNativeDrop:this.handleNativeDrop,onInsertAfter:this.handleInsertAfter,onInsertBefore:this.handleInsertBefore,onRemove:this.handleRemove,canInsertBefore:a,canInsertAfter:a,onInsertRowBelow:this.handleInsertRowBelow,belowDropZoneMargin:s,dropzoneShouldNeverUseOrigin:!0,dropzoneMustBeWithinHorizontalBound:!0,analyticsName:l,shouldShowDropZone:a,dropzoneGap:this.props.dropzoneGap,onEnter:u,className:Ue.p,disableScrollToRevealHorizontal:p,touchDragOnly:h},r.a.createElement(n,{...t,store:e,isLast:m}))}insertBlock(e,t){const{store:n,collectionViewLocalStore:o,results:r,format:a}=this.props,{localResultStore:i}=o;if(!i)return;const s=i.state;let l;if(a.board_groups2&&s&&"board"===s.type){const e=s.groupResults.findIndex(e=>e.blockIds.indexOf(n.id)>=0);l=a.board_groups2[e]}Ve.h({environment:this.environment,collectionViewLocalStore:o,group:l,results:r.state,store:n,before:t,transaction:e})}}var Xe,Ye=ze;!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(Xe||(Xe={}));class He extends b.a{constructor(){super(...arguments),this.renderResult=(e,t,n)=>{const o=t===n.length-1,{parentStore:a,collectionViewLocalStore:i,resultProps:s,resultComponent:l,group:c,shouldShowHoverMenu:d,canDrag:u,disabled:p,format:h,getItemSelectableStyle:m,belowDropZoneMargin:f,analyticsName:g,direction:b,onSelectableEnter:v,canDrop:y,disableScrollToRevealHorizontal:S,touchDragOnly:w}=this.props;return r.a.createElement(Ye,{parentStore:a,key:e.id,getItemSelectableStyle:m,store:e,canDrag:u,resultProps:s,resultComponent:l,results:this.resultStores,collectionViewLocalStore:i,group:c,shouldShowHoverMenu:d,canDrop:y&&!p,format:h,belowDropZoneMargin:f,analyticsName:g,disabled:p,direction:b,dropzoneGap:this.props.dropzoneGap,onSelectableEnter:v,disableScrollToRevealHorizontal:S,touchDragOnly:w,isLast:o})},this.handleEmptyDroppableDrop=e=>{const{droppedDirection:t,droppedStores:n,duplicate:o}=e,{collectionViewLocalStore:r,group:a,parentStore:i}=this.props,s=r.collectionViewBlockStore.get();s&&Pe.createAndCommit(this.environment,e=>{Ve.e({environment:this.environment,parentStore:i,targetStore:s,droppedDirection:t,collectionViewLocalStore:r,group:a,droppedStores:n,results:this.resultStores.state,duplicate:o,transaction:e})})},this.handleEmptyDroppableNativeDrop=e=>{const{files:t,droppedDirection:n}=e,{collectionViewLocalStore:o,group:r,parentStore:a}=this.props,i=o.collectionViewBlockStore.get();i&&Pe.createAndCommit(this.environment,e=>{Ve.f({environment:this.environment,parentStore:a,targetStore:i,droppedDirection:n,collectionViewLocalStore:o,group:r,files:t,results:this.resultStores.state,transaction:e})})},this.resultStores=this.createComputedStore(()=>{const{parentStore:e,group:t,collectionViewLocalStore:n,results:o}=this.props;return o||ye.l({environment:this.environment,group:t,collectionViewLocalStore:n,parentStore:e})})}getNode(){return i.a.findDOMNode(this)}willMount(e){super.willMount(e);const t=e.collectionViewLocalStore.collectionViewBlockStore.get();t&&(this.instanceCollectionViewBlockStore=new pe.a(this.environment,t.pointer))}didMountOrUpdate(){const{emitRender:e}=this.props.collectionViewLocalStore;e&&e()}renderComponent(){const{emptyDroppableStyle:e,direction:t}=this.props,n=this.props.emptyDroppableSize||"none",a=t===Xe.Vertical;return r.a.createElement(o.Fragment,null,r.a.createElement("div",{style:{...a?{height:n}:{width:n},...e}},this.renderEmptyDroppable()),this.resultStores.state.map(this.renderResult))}renderEmptyDroppable(){const{disabled:e,analyticsName:t,direction:n,onSelectableEnter:o,canDrop:a}=this.props;if(this.instanceCollectionViewBlockStore){const i=n!==Xe.Vertical&&(!e&&0===this.resultStores.state.length),s=n===Xe.Vertical&&!e;return r.a.createElement(Ne.a,{store:this.instanceCollectionViewBlockStore,canSelect:!1,canEditText:!1,shouldShowHalo:!0,canDrag:!1,canDropLeft:a&&i,canNativeDropLeft:a&&i,canDropBelow:a&&s,canNativeDropBelow:a&&s,canTriggerContextMenu:!1,showBlockMenuInput:!1,shouldShowHoverMenu:!1,dropzoneShouldNeverUseOrigin:!0,dropzoneMustBeWithinHorizontalBound:!0,onSelectableDrop:this.handleEmptyDroppableDrop,onNativeDrop:this.handleEmptyDroppableNativeDrop,analyticsName:t,shouldShowDropZone:a,onEnter:o,style:n===Xe.Vertical?void 0:{width:"100%",height:"100%"}})}}}var qe=He,We=n("EZe4"),Ge=n("FmD2"),Ze=n("unoy"),Ke=n("nM47");class Je extends b.a{constructor(){super(...arguments),this.handleClick=()=>{const{device:e}=this.environment;if(!Ke.j(this.environment))return;const{group:t,collectionViewLocalStore:n,parentStore:o,isFullScreen:r}=this.props;n.searchQuery.get()&&u.r({searchQuery:"",collectionViewLocalStore:n,isFullScreen:r,environment:this.environment});const a=n.collectionStore.get();if(a){const r=ye.l({environment:this.environment,group:t,collectionViewLocalStore:n,parentStore:a});Pe.createAndCommit(this.environment,t=>{const{coercionSucceeded:a,newStore:i}=Ve.b({environment:this.environment,parentStore:o,collectionViewLocalStore:n,group:this.props.group,results:r,insertAtStart:!1,coerce:!0,transaction:t});if(e.isMobile)ie.navigateToBlock({environment:this.environment,store:i});else if(a){const e=i.getBlockTitleStore();le.f({environment:this.environment,store:i}),Ze.o({store:e})}else ie.peekBlock({environment:this.environment,store:i});W.fb(this.environment,{from:"board_group_add_item_bottom",type:"page"})})}}}renderComponent(){return r.a.createElement(G.a,{icon:T.a.plus,isLightGray:!0,isLarge:!0,style:{width:"100%"},onClick:this.handleClick,onMouseDown:We.c},r.a.createElement(X.FormattedMessage,{defaultMessage:"New",id:"database.boardView.addItemButtonTitle"}))}}var Qe=Je,$e=n("qzno"),et=n("cBa6"),tt=n("cYwG");class nt extends b.a{constructor(){super(...arguments),this.isLocked=this.createComputedStore(()=>this.props.store.isLocked()),this.handleGroupMouseDown=e=>{const{device:t}=this.environment;t.isMobile||Object(We.d)({event:e,context:We.a.EditorMouseDown,callback:()=>{e.preventDefault(),Ge.c({environment:this.environment,target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[this.props.store],allowVerticalEdgeScroll:!0,allowHorizontalEdgeScroll:!0})}})},this.handleGroupClick=e=>{Object(We.d)({event:e,context:We.a.EditorClick,callback:()=>{}})},this.handleItemTextEsc=e=>{const{collectionViewLocalStore:t}=this.props,n=t.collectionStore.get(),o=e.getTitleStore();o&&(et.Y(o.getValue())?le.k({environment:this.environment,store:e}):n&&Pe.createAndCommit(this.environment,t=>{Ve.j({collectionStore:n,store:e,transaction:t})}))},this.handleScrollOffsetChange=e=>{const{collectionViewLocalStore:t,groupFormat:n,isFullScreen:o}=this.props,r=t.isLoading.get();e<Q.a.incrementScrollOffset&&!r&&(n?!t.reachedEndOfBoardGroupResults(n):!t.reachedEndOfTableResults())&&u.i({collectionViewLocalStore:t,isFullScreen:o,environment:this.environment})}}renderComponent(){const{groupFormat:e,collectionViewLocalStore:t,disabled:n,format:o,isLast:a,instanceCollectionStore:i,schema:s,blockPropertyValueOverlayStore:l,isFullScreen:c}=this.props,d=!e,u=d?nt.singleGroupStyle:a?{...this.getStyle(),paddingRight:0}:this.getStyle();return r.a.createElement("div",{style:u,onMouseDown:this.handleGroupMouseDown,onClick:this.handleGroupClick,className:Ue.j},e&&r.a.createElement("div",{style:nt.boardGroupHeaderPlaceholderStyle}),r.a.createElement(qe,{parentStore:i,collectionViewLocalStore:t,group:e,format:o,canDrag:!n,resultProps:{format:o,schema:s,isSingleGroup:d,onTextEnter:this.handleItemTextEsc,coverFormat:this.getCoverFormat(),coverAspectFormat:this.getCoverAspectFormat(),coverSizeFormat:this.getCoverSizeFormat(),shouldShowTitle:$e.k(this.props.format,"board"),onTextEsc:this.handleItemTextEsc,disabled:n,blockPropertyValueOverlayStore:l,locked:this.isLocked.state},canDrop:!0,resultComponent:Fe,disabled:n,direction:Xe.Vertical,shouldShowHoverMenu:!1,belowDropZoneMargin:2,emptyDroppableSize:4,analyticsName:"board"}),!n&&r.a.createElement(Qe,{parentStore:i,group:e,collectionViewLocalStore:t,isFullScreen:c}),r.a.createElement(tt.a,{onChange:this.handleScrollOffsetChange}))}getCoverFormat(){const{format:e}=this.props;return e?e.board_cover:void 0}getCoverAspectFormat(){const{format:e}=this.props;return e?e.board_cover_aspect:void 0}getCoverSizeFormat(){const{format:e}=this.props;return e?e.board_cover_size:void 0}getGallerycardWidth(){const{format:e}=this.props;switch((e||{}).board_cover_size){case"large":return Se.a.card.desktop.large.width;case"small":return Se.a.card.desktop.small.width;case"medium":default:return Se.a.card.desktop.medium.width}}getStyle(){return{flex:"none",paddingRight:16,boxSizing:"content-box",width:this.getGallerycardWidth()}}}nt.singleGroupStyle={flexGrow:1},nt.boardGroupHeaderPlaceholderStyle={height:44};var ot=Object(X.injectIntl)(nt),rt=n("SR/M"),at=n("B22C"),it=n("i3uR"),st=n("wXH4"),lt=n("uSCg"),ct=n("4bJO"),dt=n("7bRZ"),ut=n("nPEg");class pt extends b.a{constructor(){super(...arguments),this.renderMenu=e=>{const{device:t}=this.environment;let n;return n=t.isMobile?{menuType:B.b.MenuType.Modal,title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Aggregation",id:"database.mobileBoardAggregationMenu.title"}),right:r.a.createElement(ut.DoneMenuText,null),onClickRight:e.close}:{menuType:B.b.MenuType.Popup,width:200},r.a.createElement(B.b,Object.assign({},n),r.a.createElement(P.a,{type:P.a.Type.Vertical,initialFocus:0,sections:[{key:"aggregation section",render:e=>r.a.createElement(I.a,Object.assign({},e)),items:this.getAggregationActions()}],onAccept:e.close}))},this.handleChangeAggregation=e=>{this.props.onChange(e),W.W(this.environment,{view_type:"board",action:"board_change_aggregation"})},this.renderAggregationMenuItem=(e,t,n)=>r.a.createElement(x.a,{key:n.key,placement:st.a.Placement.Right,delayThreshold:0,render:e=>r.a.createElement(rt.a,Object.assign({title:t},Object(lt.a)(e,n))),renderTooltip:()=>r.a.createElement("div",{style:{width:140,whiteSpace:"normal"}},r.a.createElement("img",{src:dt.c[e],style:{borderRadius:3,width:140,marginTop:4}}),dt.a[e])})}renderComponent(){const{device:e}=this.environment;return r.a.createElement(x.a,{renderTooltip:()=>this.renderTooltipText(),render:t=>r.a.createElement(it.a,{popupType:e.isMobile?it.a.PopupType.SlideUp:it.a.PopupType.Popup,renderOrigin:e=>r.a.createElement(G.a,Object.assign({disabled:this.props.disabled,style:{fontWeight:V.a.fontWeight.medium,color:this.theme.lightTextColor,height:24}},Object(lt.a)(t,e)),this.renderValue()),disabled:this.props.disabled,render:this.renderMenu})})}renderTooltipText(){const{aggregationData:e,schema:t}=this.props;if(e){const{aggregation:n}=e,o=dt.b[n.aggregator];if(Object(ct.o)(n)){const e=t[n.property];if(e){const t=e.name;return"".concat(o," in ").concat(t)}}return o}return r.a.createElement(X.FormattedMessage,{defaultMessage:"Aggregate",id:"database.boardAggregation.tooltip"})}renderValue(){const{schema:e,aggregationData:t}=this.props;if(!t)return;const{aggregation:n,aggregationResult:o}=t;let r;if(Object(ct.o)(n)){const t=e[n.property];!t||"formula"!==t.type&&"number"!==t.type||(r=t.number_format)}return Object(dt.e)({numberFormat:r,aggregationType:n.aggregator,userTimeZone:de.m,value:o,roundDecimal:5})}getAggregationActions(){const e=[];for(const a of ct.c)e.push(this.createCountAggregationAction(a));const t=this.getDefaultProperties();if(t.length>0)for(const a of ct.e)"show_unique"!==a&&e.push(this.getAggregationGroupAction(a,t));const n=this.getNumericProperties();if(n.length>0)for(const a of ct.q)e.push(this.getAggregationGroupAction(a,n));const o=this.getDateProperties();if(o.length>0)for(const a of ct.d)e.push(this.getAggregationGroupAction(a,o));const r=this.getCheckboxProperties();if(r.length>0)for(const a of ct.a)e.push(this.getAggregationGroupAction(a,r));return e}getAggregationGroupAction(e,t){const{device:n}=this.environment,o=dt.b[e],a=l.a.compact(t.map(t=>this.createPropertyAggregationAction(t,e)));return{key:e+o,render:(e,t)=>r.a.createElement(at.a,Object.assign({},e,{onFocus:t.onFocus,renderOrigin:e=>r.a.createElement(rt.a,Object.assign({},e,{title:o})),renderExtension:(e,i)=>{let s;return s=n.isMobile?{menuType:B.b.MenuType.Modal,title:o,right:r.a.createElement(ut.DoneMenuText,null),onClickRight:i.close,...e}:{menuType:B.b.MenuType.Popup,width:200,...e},r.a.createElement(B.b,Object.assign({},s),r.a.createElement(P.a,{type:P.a.Type.Vertical,initialFocus:0,sections:[{key:"results",render:e=>r.a.createElement(I.a,Object.assign({},e)),items:a}],onAccept:t.onAccept}))}})),action:()=>null}}getDefaultProperties(){const{schema:e}=this.props;return Object.keys(e).filter(t=>{const n=e[t];return n&&Object(dt.h)(n)})}getNumericProperties(){const{schema:e}=this.props;return Object.keys(e).filter(t=>{const n=e[t];return n&&Object(dt.i)(n)})}getDateProperties(){const{schema:e}=this.props;return Object.keys(e).filter(t=>{const n=e[t];return n&&Object(dt.g)(n)})}getCheckboxProperties(){const{schema:e}=this.props;return Object.keys(e).filter(t=>{const n=e[t];return n&&Object(dt.f)(n)})}createCountAggregationAction(e){const t=dt.b[e];return{key:e,render:n=>this.renderAggregationMenuItem(e,t,n),action:()=>{this.handleChangeAggregation({aggregator:e})}}}createPropertyAggregationAction(e,t){const n=this.props.schema[e];if(!n)return;const o=n.name;return{key:"".concat(e," ").concat(t),render:e=>this.renderAggregationMenuItem(t,o,e),action:()=>{this.handleChangeAggregation({aggregator:t,property:e})}}}}var ht=pt,mt=n("g4rC"),ft=n("ox2z"),gt=n("GUcd");class bt extends b.a{constructor(){super(...arguments),this.storeTypes={inputStore:v.a},this.handleSelectPropertyColorPickerChange=e=>{const{groupFormat:t,schema:n,collectionViewLocalStore:o}=this.props,r=n[t.property];if(!r)return;if(!g.l(r))return;const a=t.value;if(a.type!==r.type)return;const i=(r.options||[]).map(t=>t.value===a.value?{...t,color:e}:t),s={...r,options:i},l={...n,[t.property]:s};Pe.createAndCommit(this.environment,e=>{Ve.m({environment:this.environment,collectionViewLocalStore:o,groupFormat:t,newSchema:l,transaction:e})}),W.W(this.environment,{view_type:"board",action:"board_group_change_color"})},this.handleHide=()=>{const{groupFormat:e,collectionViewLocalStore:t}=this.props,n={...e,hidden:!0};Pe.createAndCommit(this.environment,o=>{Ve.m({environment:this.environment,collectionViewLocalStore:t,groupFormat:e,newGroupFormat:n,transaction:o})}),W.W(this.environment,{view_type:"board",action:"board_hide_group"})},this.handleShow=()=>{const{groupFormat:e,collectionViewLocalStore:t}=this.props,n={...e,hidden:!1};Pe.createAndCommit(this.environment,o=>{Ve.m({environment:this.environment,collectionViewLocalStore:t,groupFormat:e,newGroupFormat:n,transaction:o})}),W.W(this.environment,{view_type:"board",action:"board_hide_group"})},this.handleDelete=()=>{const{groupFormat:e}=this.props;L.showDialog({message:r.a.createElement(X.FormattedMessage,{defaultMessage:"Are you sure? All blocks inside this column will be deleted.",id:"database.boardView.columnActionMenu.deleteDialogMessage"}),showCancel:!0,keepFocus:!1,items:[{label:"Delete",color:"red",onAccept:()=>{const t=Pe.create(this.environment),{collectionViewLocalStore:n,schema:o,format:r}=this.props,a=n.collectionStore.get(),i=o[e.property],s=(r&&r.board_groups2||[]).filter(t=>!Object(j.g)(e.value,t.value));Ve.n({collectionViewLocalStore:n,newGroups:s,transaction:t});const l=e.value;if(i&&g.l(i)&&l.type===i.type&&a){const n=(i.options||[]).filter(e=>e.value!==l.value),r={...i,options:n},s={...o,[e.property]:r};u.p({environment:this.environment,collectionStore:a,update:{schema:s},transaction:t})}a&&void 0!==l.value&&Ve.c({environment:this.environment,collectionStore:a,property:e.property,value:l,transaction:t}),Pe.commit({environment:this.environment,transaction:t}),W.W(this.environment,{view_type:"board",action:"board_delete_group"})}}]})}}renderComponent(){const{device:e}=this.environment,{parent:t}=this.props,n=l.a.compact([this.getBoardActionsSection(),this.getBoardColorSection()]);let o;return o=e.isMobile?{menuType:B.b.MenuType.Modal,title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Action",id:"database.boardView.columnActionMenu.title"}),right:r.a.createElement(ut.DoneMenuText,null),onClickRight:t.close}:{menuType:B.b.MenuType.Popup},r.a.createElement(B.b,Object.assign({},o),r.a.createElement(P.a,{type:P.a.Type.Vertical,initialFocus:0,sections:n,onAccept:e=>{"string"==typeof e.key&&e.key.indexOf(bt.colorActionKeyPrefix)>=0||t.close()}}))}getBoardActionsSection(){const{groupFormat:e,hidden:t}=this.props,n=[],o=e.value;return t?n.push({key:"hide",render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Show",id:"database.boardView.columnActionMenu.showButtonTitle"}),svg:T.a.collectionShow})),action:this.handleShow}):n.push({key:"hide",render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Hide",id:"database.boardView.columnActionMenu.hideButtonTitle"}),svg:T.a.collectionHide})),action:this.handleHide}),void 0!==o.value&&n.push({key:"delete",render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Delete",id:"database.boardView.columnActionMenu.deleteButtonTitle"}),svg:T.a.trash})),action:this.handleDelete}),{key:"board group",render:e=>r.a.createElement(I.a,Object.assign({},e)),items:n}}getBoardColorSection(){const{schema:e,groupFormat:t}=this.props,n=t.value;if(void 0===n.value)return;const o=e[t.property];if(!o)return;if("select"!==o.type&&"multi_select"!==o.type)return;if(n.type!==o.type)return;const a=(o.options||[]).find(e=>e.value===n.value);return a?{key:"board color section",render:e=>r.a.createElement(I.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Colors",id:"database.boardView.columnActionMenu.colorSectionTitle"}),topBorder:!0})),items:Z.r.map(e=>({key:"".concat(bt.colorActionKeyPrefix,"_").concat(e),render:t=>r.a.createElement(gt.a,Object.assign({},t,{color:e,checkState:a.color===e})),action:()=>{this.handleSelectPropertyColorPickerChange(e)}}))}:void 0}}bt.colorActionKeyPrefix="color";var vt=bt,yt=n("lCCU"),St=n("zgcg");class wt extends b.a{constructor(){super(...arguments),this.storeTypes={inputStore:v.a},this.renderActionMenu=e=>{const{groupFormat:t,currentGroups:n,format:o,schema:a,collectionViewLocalStore:i,hidden:s}=this.props;return r.a.createElement(vt,{parent:e,groupFormat:t,currentGroups:n,format:o,schema:a,collectionViewLocalStore:i,hidden:s})},this.handleCollectionGroupValueChange=e=>{const{groupFormat:t,schema:n,collectionViewLocalStore:o}=this.props,r=n[t.property];if(!r)return;if(!Object(j.h)(r))return;W.W(this.environment,{view_type:"board",action:"board_rename_group"});const a=t.value;if(g.l(r)){if(a.type!==r.type)return;if(e.type!==r.type)return;if(void 0===e.value)return;const i=r.options||[],s=e.value,l=i.map(e=>e.value===a.value?{...e,value:s}:e),c={...r,options:l},d={...n,[t.property]:c},u={...t,value:{...a,value:s}};Pe.createAndCommit(this.environment,e=>{Ve.m({environment:this.environment,collectionViewLocalStore:o,groupFormat:t,newSchema:d,newGroupFormat:u,transaction:e})})}else if("person"!==r.type)Object(F.e)(r);else{if(a.type!==r.type)return;if(e.type!==r.type)return;const n={...t,value:e};Pe.createAndCommit(this.environment,e=>{Ve.m({environment:this.environment,collectionViewLocalStore:o,groupFormat:t,newGroupFormat:n,transaction:e})})}},this.handleAddItemClick=()=>{const{device:e}=this.environment;if(!Ke.j(this.environment))return;const{groupFormat:t,instanceCollectionStore:n,onAddItem:o,collectionViewLocalStore:r,isFullScreen:a}=this.props;r.searchQuery.get()&&u.r({searchQuery:"",collectionViewLocalStore:r,isFullScreen:a,environment:this.environment});const i=r.collectionStore.get();if(i){const a=ye.l({environment:this.environment,group:t,collectionViewLocalStore:r,parentStore:i});Pe.createAndCommit(this.environment,i=>{if(n){const{coercionSucceeded:s,newStore:l}=Ve.b({environment:this.environment,parentStore:n,collectionViewLocalStore:r,group:t,results:a,insertAtStart:!0,coerce:!0,transaction:i});if(e.isMobile){const e=Object(ne.a)({store:l});this.navigate(e)}else if(s){const e=l.getBlockTitleStore();le.f({environment:this.environment,store:l}),Ze.o({store:e})}else ie.peekBlock({environment:this.environment,store:l});o&&o(l),W.fb(this.environment,{from:"board_group_add_item_top",type:"page"})}})}},this.handleAggregationChange=e=>{const{collectionViewLocalStore:t,query:n}=this.props,o=t.collectionViewStore.get(),r={...n,aggregations:e?[e]:[]};o&&Pe.createAndCommit(this.environment,e=>{u.q({collectionViewStore:o,update:{query2:r},transaction:e})})},this.getAggregationData=this.createComputedStore(()=>{const{groupFormat:e,collectionViewLocalStore:t,query:n}=this.props;return ye.g({aggregations:n.aggregations,result:t.getCurrentAggregationValueResult(),groupFormat:e})})}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):ie.navigate({environment:this.environment,url:e})}renderComponent(){const{disabled:e,locked:t}=this.props;return r.a.createElement("div",{style:this.getStyle()},this.renderValue(),this.renderAggregation(),r.a.createElement("div",{style:{flexGrow:1}}),!e&&!t&&this.renderActionButton(),!e&&this.renderAddButton())}renderAggregation(){const{disabled:e,locked:t,schema:n}=this.props,o=this.getAggregationData.state;return r.a.createElement(ht,{disabled:e||t,aggregationData:o,schema:n,onChange:this.handleAggregationChange})}renderValue(){const{groupFormat:e,schema:t,disabled:n,locked:o,currentGroups:a,instanceCollectionStore:i}=this.props,{inputStore:s}=this.stores;return r.a.createElement(H,{groupFormat:e,currentGroups:a,schema:t,inputStore:s,disabled:n||o,isHiddenGroup:!1,onChange:this.handleCollectionGroupValueChange,parentStore:i})}renderActionButton(){const{device:e}=this.environment;return r.a.createElement(it.a,{popupType:e.isMobile?it.a.PopupType.SlideUp:it.a.PopupType.Popup,renderOrigin:e=>r.a.createElement(yt.a,Object.assign({icon:T.a.dots},e)),render:this.renderActionMenu})}renderAddButton(){return r.a.createElement(x.a,{renderTooltip:()=>r.a.createElement(X.FormattedMessage,{defaultMessage:"Create new page",id:"database.boardView.actions.addNewPage.tooltip"}),render:e=>r.a.createElement(yt.a,Object.assign({icon:T.a.plus,onClick:this.handleAddItemClick},e))})}getCardWidth(){const{format:e}=this.props;switch((e||{}).board_cover_size){case"large":return Se.a.card.desktop.large.width;case"small":return Se.a.card.desktop.small.width;case"medium":default:return Se.a.card.desktop.medium.width}}getStyle(){const{device:e}=this.environment,t=this.getCardWidth();return{display:"flex",alignItems:"center",fontSize:14,width:t,paddingRight:16,boxSizing:"content-box",flexShrink:0,...this.props.isPopup&&{padding:e.isMobile?"6px 16px":"8px 12px 4px",width:"none",minWidth:t}}}}wt.contextTypes=St.a;var kt=wt,Ct=n("LEzx");class Mt extends Ct.a{getInitialState(){return{searchQuery:"",limit:Mt.defaultLimit}}}Mt.defaultLimit=20,Mt.loadMoreScrollOffset=200,Mt.loadMoreIncrement=20;var Et=Mt,_t=n("bkwR"),Tt=n("wlCD"),xt=n("WzNb"),It=n("dXb3"),Pt=n("zK7c"),Ot=n("CSYU"),Bt=n("stZG"),Lt=n("p0Ff");const Rt=Object(X.defineMessages)({searchPlaceholder:{defaultMessage:"Search for a page…",id:"boardHiddenGroup.searchPlaceholder"}});class Dt extends b.a{constructor(){super(...arguments),this.createdStores=new Set,this.storeTypes={buttonPopupStore:mt.a,boardHiddenGroupStore:Et,requestStore:Ot.a},this.renderPopup=()=>{const{device:e}=this.environment,{groupFormat:t,schema:n,currentGroups:o}=this.props,{searchQuery:a,limit:i}=this.stores.boardHiddenGroupStore.state;let s;s=e.isMobile?{menuType:B.b.MenuType.Modal,title:r.a.createElement(H,{groupFormat:t,currentGroups:o,schema:n,disabled:!0,isHiddenGroup:!0,parentStore:this.selectableBlockStore}),left:r.a.createElement(it.a,{popupType:st.b.SlideUp,renderOrigin:e=>r.a.createElement("div",Object.assign({},e),T.a.dots({width:18,height:18,color:this.theme.lightTextColor})),render:this.renderActionButtonPopup}),right:r.a.createElement(ut.DoneMenuText,null),onClickRight:this.handlePopupClose,header:this.renderHeader()}:{menuType:B.b.MenuType.Popup,header:this.renderHeader()};const l={request:{query:a,limit:i},performRequest:this.performRequest,render:this.renderResults,debounce:E.b};return r.a.createElement(Pt.a,{store:this.selectableBlockStore,isDefaultContainer:!0,render:e=>r.a.createElement(B.b,Object.assign({},s,e),r.a.createElement(M.a,Object.assign({},l,{requestStore:this.stores.requestStore})),r.a.createElement(tt.a,{onChange:this.handleScrollOffsetChange}))})},this.renderResults=(e,t,n)=>{const{device:o}=this.environment,{query:a,groupFormat:i,disabled:s,format:l,instanceCollectionStore:c,collectionViewLocalStore:u,schema:p,blockPropertyValueOverlayStore:h}=this.props,{searchQuery:m,limit:f}=this.stores.boardHiddenGroupStore.state;t||(t=[]);const{id:g}=this.environment.currentUser,b=u.collectionStore.get(),v=u.collectionViewStore.get();if(!b||!v||!g)return;const y=b.getValue(),S=v.getValue();if(!y||!S)return;const w=Me.default.getCurrentBlockValueFn(),k={collectionValue:y,pageSort:S.page_sort||[],collectionViewId:v.id,query:a,loader:this.getCollectionLoader(m,f),userId:g,currentTime:Date.now(),getRecordValue:w,intl:De.default.getIntl(),normalizedSchemaCache:{}},C=xt.i(k),M=t.map(e=>pe.a.createChildStore(c,{table:d.a,id:e})),E={};for(const r of M){const e=r.getValue();e&&xt.h(e,k,C,E)}this.createdStores.forEach(e=>{if(!M.find(t=>t.id===e.id)){const t=e.getValue();t&&xt.h(t,k,C,E)}});const _=xt.b(k,C);if("board"!==_.type)return;const T=_.groupResults[0];if(!T)return;const x=T.blockIds.map(e=>pe.a.createChildStore(c,{table:d.a,id:e}));if(0!==x.length||n){if(0===x.length)return r.a.createElement(I.a,null,r.a.createElement(O.a,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"No results",id:"database.boardView.searchResults.noResults.label"})}));{const e=!i;return r.a.createElement("div",{style:{padding:o.isMobile?"8px 16px":"6px 14px 8px"}},r.a.createElement(qe,{parentStore:c,collectionViewLocalStore:u,results:x,group:i,format:l,canDrag:!s,resultProps:{format:l,schema:p,isSingleGroup:e,disabled:s,coverFormat:this.getCoverFormat(),coverAspectFormat:this.getCoverAspectFormat(),coverSizeFormat:this.getCoverSizeFormat(),shouldShowTitle:$e.k(this.props.format,"board"),blockPropertyValueOverlayStore:h,onTextEnter:this.handleBoardItemTextEsc,onTextEsc:this.handleBoardItemTextEsc,locked:this.selectableBlockStore.isLocked()},resultComponent:Fe,canDrop:!0,disabled:s,shouldShowHoverMenu:!1,direction:Xe.Vertical,belowDropZoneMargin:2,emptyDroppableSize:4,analyticsName:"board"}))}}return r.a.createElement(I.a,null,r.a.createElement(O.a,{title:r.a.createElement(Tt.a,null)}))},this.renderActionButtonPopup=e=>{const{groupFormat:t,currentGroups:n,format:o,schema:a,collectionViewLocalStore:i}=this.props;return r.a.createElement(vt,{parent:e,groupFormat:t,currentGroups:n,format:o,schema:a,collectionViewLocalStore:i,hidden:!0})},this.handlePopupClose=()=>{this.stores.buttonPopupStore.setState({open:!1})},this.handleSearchInputChange=e=>{this.stores.boardHiddenGroupStore.setState({searchQuery:e.target.value,limit:Et.defaultLimit}),this.clearSelectionIfBlockIsSelected()},this.handleSearchClearButtonClick=()=>{this.stores.boardHiddenGroupStore.reset(),this.clearSelectionIfBlockIsSelected()},this.handleButtonPopupClick=()=>{this.stores.requestStore.reset(),this.stores.boardHiddenGroupStore.reset(),this.clearSelectionIfBlockIsSelected()},this.handleDrop=e=>{const{droppedStores:t,duplicate:n}=e,{collectionViewLocalStore:o,groupFormat:r}=this.props,a=i.a.findDOMNode(this);a&&a instanceof Element&&Pe.createAndCommit(this.environment,e=>Ve.d({environment:this.environment,collectionViewLocalStore:o,group:r,droppedStores:t,duplicate:n,transaction:e}))},this.handleBoardAggregationChange=e=>{const{collectionViewLocalStore:t,query:n}=this.props,o=t.collectionViewStore.get(),r={...n,aggregations:e?[e]:[]};o&&Pe.createAndCommit(this.environment,e=>{u.q({collectionViewStore:o,update:{query2:r},transaction:e})})},this.handleBoardGroupHeaderAddItem=e=>{this.createdStores.add(e)},this.handleScrollOffsetChange=e=>{const{boardHiddenGroupStore:t,requestStore:n}=this.stores,o=t.state,r=n.state.result;e<Et.loadMoreScrollOffset&&!n.state.loading&&r&&o.limit<=r.length&&t.setState({...o,limit:o.limit+Et.loadMoreIncrement})},this.handleBoardItemTextEsc=e=>{const{collectionViewLocalStore:t}=this.props,n=t.collectionStore.get(),o=e.getTitleStore();et.Y(o.getValue())?le.k({environment:this.environment,store:e}):n&&Pe.createAndCommit(this.environment,t=>{Ve.j({collectionStore:n,store:e,transaction:t})})},this.performRequest=async e=>{const{collectionViewLocalStore:t,query:n}=this.props,o=t.collectionStore.get(),r=t.collectionViewStore.get();if(!o||!r)return[];const{inMemoryRecordCache:a}=o;let i;if(a===Lt.default){const t=await _t.queryCollection(this.environment,{collectionId:o.id,collectionViewId:r.id,query:n,loader:this.getCollectionLoader(e.query,e.limit)});if("failed"===t.type)throw t.error;i=t.data}else i=await u.k(this.environment,{collectionId:o.id,collectionViewId:r.id,query:n,loader:this.getCollectionLoader(e.query,e.limit)},a);return"board"===i.result.type&&i.result.groupResults[0]?i.result.groupResults[0].blockIds:[]}}willMount(e){super.willMount(e);const t=e.collectionViewLocalStore.collectionViewBlockStore.get();t&&(this.selectableBlockStore=new pe.a(this.environment,{table:d.a,id:t.id}))}renderComponent(){const{device:e}=this.environment,{groupFormat:t,disabled:n,schema:o,aggregationData:a,currentGroups:i}=this.props;return r.a.createElement(Ne.a,{store:this.selectableBlockStore,canDropOnto:!n,onSelectableDrop:this.handleDrop,dropzoneShouldNeverUseOrigin:!0,dropzoneMustBeWithinHorizontalBound:!0,analyticsName:"board_hidden_group",shouldShowDropZone:!0},r.a.createElement(it.a,{popupType:e.isMobile?st.b.SlideUp:st.b.Popup,renderOrigin:e=>r.a.createElement(D.a,Object.assign({key:Object(j.b)(t),style:Dt.buttonStyle},e),r.a.createElement(H,{groupFormat:t,currentGroups:i,schema:o,disabled:!0,isHiddenGroup:!0,parentStore:this.selectableBlockStore}),r.a.createElement(ht,{aggregationData:a,schema:o,onChange:this.handleBoardAggregationChange,disabled:!0})),render:this.renderPopup,buttonPopupStore:this.stores.buttonPopupStore,onClick:this.handleButtonPopupClick}))}renderHeader(){const{device:e}=this.environment,{groupFormat:t,disabled:n,format:a,schema:i,query:s,currentGroups:l,instanceCollectionStore:c,collectionViewLocalStore:d,locked:u,isFullScreen:p}=this.props,{searchQuery:h}=this.stores.boardHiddenGroupStore.state;return r.a.createElement(o.Fragment,null,!e.isMobile&&r.a.createElement(kt,{key:Object(j.b)(t),currentGroups:l,groupFormat:t,query:s,schema:i,format:a,collectionViewLocalStore:d,instanceCollectionStore:c,disabled:n||Boolean(h),locked:u,hidden:!0,isPopup:!0,onAddItem:this.handleBoardGroupHeaderAddItem,isFullScreen:p}),r.a.createElement("div",{style:{margin:e.isMobile?0:"6px 0"}},r.a.createElement(Bt.a,{capture:!0,render:t=>r.a.createElement(It.a,Object.assign({value:h,placeholder:De.default.formatMessage(Rt.searchPlaceholder),autoFocus:!e.isMobile,showClearButton:!0,onChange:this.handleSearchInputChange,onClearButtonClick:this.handleSearchClearButtonClick},t))})))}clearSelectionIfBlockIsSelected(){Ee.default.state.stores.length>0&&le.e(this.environment)}getCoverFormat(){const{format:e}=this.props;return e?e.board_cover:void 0}getCoverAspectFormat(){const{format:e}=this.props;return e?e.board_cover_aspect:void 0}getCoverSizeFormat(){const{format:e}=this.props;return e?e.board_cover_size:void 0}getCollectionLoader(e,t){const{groupFormat:n,format:o}=this.props;return{type:"board",limit:t,groups:[{property:n.property,value:n.value,hidden:!1}],searchQuery:e,loadContentCover:Boolean(o&&o.board_cover&&"page_content"===o.board_cover.type),userTimeZone:de.m}}}Dt.buttonStyle={display:"flex",alignItems:"center",justifyContent:"flex-start",height:32,padding:4,borderRadius:3};var At=Dt,jt=n("ttM1"),Ft=n("M64d"),Vt=n("ikHm"),Nt=n("wF3w");class Ut extends m.a{constructor(){super(...arguments),this.headerEl=null,this.groupCollectionStoreMap=new Map,this.renderGroupHeader=(e,t)=>{const{schema:n,collectionViewLocalStore:o,format:a,query:i,disabled:s,isFullScreen:l}=this.props;return r.a.createElement(kt,{key:Object(j.b)(e),currentGroups:t,groupFormat:e,query:i,schema:n,format:a,collectionViewLocalStore:o,instanceCollectionStore:this.getGroupCollectionStore(e.value),disabled:s||!this.canEdit(),locked:this.isLocked(),hidden:!1,isPopup:!1,isFullScreen:l})},this.renderGroup=(e,t,n)=>{const{store:o,collectionViewLocalStore:a,isFullScreen:i,collectionViewScrollStore:s,query:l,schema:c,format:d,disabled:u,blockPropertyValueOverlayStore:p,collectionViewStore:h}=this.props,m=0!==this.getCurrentGroups().filter(e=>e.hidden).length;return r.a.createElement(ot,{store:o,key:Object(j.b)(e),query:l,schema:c,format:d,groupFormat:e,instanceCollectionStore:this.getGroupCollectionStore(e.value),collectionViewStore:h,collectionViewLocalStore:a,collectionViewScrollStore:s,isFullScreen:i,isInPeekRenderer:this.props.isInPeekRenderer,disabled:u||!this.canEdit(),isLast:n&&!m,blockPropertyValueOverlayStore:p})},this.renderHiddenGroup=e=>{const{collectionViewLocalStore:t,query:n,schema:o,format:a,disabled:i,blockPropertyValueOverlayStore:s,isFullScreen:l}=this.props,c=this.getCurrentGroups(),d=ye.g({aggregations:n.aggregations,result:t.getCurrentAggregationValueResult(),groupFormat:e});return r.a.createElement(At,{key:Object(j.b)(e),query:n,schema:o,format:a,groupFormat:e,aggregationData:d,currentGroups:c,collectionViewLocalStore:t,disabled:i||!this.canEdit(),locked:this.isLocked(),blockPropertyValueOverlayStore:s,instanceCollectionStore:this.getGroupCollectionStore(e.value),isFullScreen:l})},this.handleGroupReorder=(e,t)=>{const{collectionViewLocalStore:n}=this.props,o=this.getCurrentGroups(),r=o.filter(t=>e.indexOf(Object(j.b)(t))<0),a=o.filter(t=>e.indexOf(Object(j.b)(t))>=0),i=l.a.sortBy(a,t=>{const n=e.indexOf(Object(j.b)(t));return n>=0?n:1/0}),s=t?[...r,...i]:[...i,...r];Pe.createAndCommit(this.environment,e=>{Ve.n({collectionViewLocalStore:n,newGroups:s,transaction:e})}),W.W(this.environment,{view_type:"board",action:t?"board_reorder_hidden_groups":"board_reorder_groups"})},this.handleBoardAddGroupButtonAccept=e=>{const{collectionViewLocalStore:t}=this.props,n=Pe.create(this.environment);if(e.newBoardGroups&&Ve.n({collectionViewLocalStore:t,newGroups:e.newBoardGroups,transaction:n}),e.newSchema){const{collectionViewLocalStore:t}=this.props,o=t.collectionStore.get();o&&u.p({environment:this.environment,collectionStore:o,update:{schema:e.newSchema},transaction:n})}Pe.commit({environment:this.environment,transaction:n})},this.handleEditorMouseDown=e=>{const{device:t}=this.environment;t.isMobile||Object(We.d)({event:e,context:We.a.EditorMouseDown,callback:()=>{e.preventDefault(),Ge.c({environment:this.environment,target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[this.props.store],allowVerticalEdgeScroll:!0,allowHorizontalEdgeScroll:!0})}})},this.handleHeaderMount=e=>{this.headerEl=e},this.handleScrollStoreChange=()=>{const{collectionViewScrollStore:e,isInPeekRenderer:t}=this.props,{offsetTop:n}=e.state;this.headerEl&&(t?this.headerEl.style.transform="":(this.headerEl.style.transform="translate3D(0, ".concat(n,"px, 0)"),this.headerEl.style.zIndex=Vt.d.toString(),this.headerEl.style.borderTop=0!==n?"none":"1px solid ".concat(this.theme.tableDividerColor)))}}willMount(e){e.collectionViewScrollStore.addListener(this.handleScrollStoreChange)}willUnmount(){this.props.collectionViewScrollStore.removeListener(this.handleScrollStoreChange)}didMount(){this.handleScrollStoreChange()}willMountOrUpdate(e){const{query:t,store:n}=e;!t.group_by&&n.getValue()&&n.canEdit()&&this.updateOrCreateGroupedProperty(e)}renderPersisted(){const{query:e}=this.props;if(e.group_by)return this.renderBoard()}renderBoard(){const{store:e,isFullScreen:t}=this.props,n=this.getCurrentGroups(),o=n.filter(e=>!e.hidden),a=n.filter(e=>e.hidden);return Object(Ft.a)(i=>r.a.createElement("div",{style:this.getBoardStyle(),className:Ue.k},r.a.createElement(Ne.a,Object.assign({style:this.getColumnsWrapStyle(),store:e,shouldShowHalo:!t,canSelect:!t,onMouseDown:this.handleEditorMouseDown,analyticsName:"board"},i),this.renderHeader(n,o,a),this.renderBoardGroups(o),a.length>0&&this.renderHiddenGroups(a),this.canEdit()&&!this.isLocked()&&r.a.createElement("div",{style:Ut.addGroupButtonPlaceholderStyle})),this.renderLoadingSpinner()))}renderHeader(e,t,n){const{device:o}=this.environment,a=t.map(e=>Object(j.b)(e));return r.a.createElement("div",{style:this.getHeaderStyle(),ref:this.handleHeaderMount},o.isMobile||this.isLocked()?a.map((n,o)=>this.renderGroupHeader(t[o],e)):r.a.createElement(f.b,{direction:f.a.Horizontal,keys:a,renderKey:(n,o)=>this.renderGroupHeader(t[o],e),onDrop:e=>this.handleGroupReorder(e,!1)}),n.length>0&&r.a.createElement("div",{style:this.getHiddenGroupsCaptionStyle()},r.a.createElement(X.FormattedMessage,{defaultMessage:"Hidden columns",id:"collection.boardView.hiddenColumns.label"})),this.canEdit()&&!this.isLocked()&&this.renderAddGroupButton())}renderBoardGroups(e){const t=e.map(e=>Object(j.b)(e));return r.a.createElement("div",{style:f.b.horizontalStyle},t.map((n,o)=>{const r=t.length-1===o;return this.renderGroup(e[o],o,r)}))}renderHiddenGroups(e){const{device:t}=this.environment,n=this.canEdit(),o=e.map(e=>Object(j.b)(e));return r.a.createElement("div",{style:Ut.hiddenGroupsWrapStyle},e.length>0&&(!n||t.isMobile||this.isLocked()?r.a.createElement("div",null,e.map(this.renderHiddenGroup)):r.a.createElement(f.b,{direction:f.a.Vertical,keys:o,renderKey:(t,n)=>this.renderHiddenGroup(e[n]),onDrop:e=>this.handleGroupReorder(e,!0)})))}renderAddGroupButton(){const{query:e,schema:t}=this.props;if(!e.group_by)return;const n=this.getCurrentGroups();return r.a.createElement("div",{style:Ut.addGroupButtonWrapStyle},r.a.createElement(J,{groupBy:e.group_by,schema:t,boardGroups:n,onAccept:this.handleBoardAddGroupButtonAccept,parentStore:this.props.store}))}renderLoadingSpinner(){const e=this.props.collectionViewLocalStore.isLoading.get();return r.a.createElement(jt.a,{show:e,showDelay:500,showHold:200,render:e=>e?r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(Tt.a,{style:{margin:8,width:18,height:18}})):void 0})}getCurrentGroups(){const{format:e}=this.props;return e&&e.board_groups2||[]}getGroupCollectionStore(e){const{collectionStore:t}=this.props,n=Object(j.c)(e);let o=this.groupCollectionStoreMap.get(n);return o||(o=t.clone(),this.groupCollectionStoreMap.set(n,o)),o.recordStoreParentStore=t,o}updateOrCreateGroupedProperty(e){const{query:t,schema:n,collectionStore:o,collectionViewStore:r}=e;Pe.createAndCommit(this.environment,e=>{let a,i=ye.e(n);if(!i){i=Object(Nt.a)();const e={name:this.props.intl.formatMessage({id:"collection.boardView.selectProperty.defaultName",defaultMessage:"Status"}),type:"select",options:[]};a={...n,[i]:e}}const s={...t,group_by:i};u.q({collectionViewStore:r,update:{query2:s},transaction:e}),a&&u.p({environment:this.environment,collectionStore:o,update:{schema:a},transaction:e})})}isLocked(){return ye.p(this.props.collectionStore)}getBoardStyle(){return{paddingLeft:this.props.paddingLeft,paddingRight:this.props.paddingRight,float:"left",minWidth:"100%"}}getHeaderStyle(){return{position:"absolute",background:this.theme.contentBackground,height:44,zIndex:Vt.d,display:"flex",width:"100%",borderTop:"1px solid ".concat(this.theme.tableDividerColor),boxShadow:"-3px 0 0 ".concat(this.theme.contentBackground),paddingTop:4}}getColumnsWrapStyle(){return{display:"flex",position:"relative",flexGrow:1,paddingBottom:this.props.paddingBottom}}getHiddenGroupsCaptionStyle(){return{width:220,flexShrink:0,display:"flex",alignItems:"center",marginLeft:4,fontSize:14,color:this.theme.lightTextColor,background:this.theme.contentBackground}}}Ut.hiddenGroupsWrapStyle={width:220,flexShrink:0,marginTop:44},Ut.addGroupButtonWrapStyle={width:180,whiteSpace:"nowrap",flexShrink:0,display:"flex",alignItems:"center"},Ut.addGroupButtonPlaceholderStyle={width:180,flexShrink:0};var zt=Object(X.injectIntl)(Ut),Xt=n("NOLh"),Yt=n("nkfK"),Ht=n("6sah"),qt=n("Pqcg"),Wt=n("Mht8"),Gt=n("/buO"),Zt=n("0KcA");const Kt=Object(X.defineMessages)({renameButtonTitle:{defaultMessage:"Rename",id:"database.collectionEditViewButtonPopup.renameButtonTitle"},statusName:{defaultMessage:"Status",id:"database.collectionEditViewButtonPopup.statusNameProperty"},dateName:{defaultMessage:"Date",id:"database.collectionEditViewButtonPopup.dateNameProperty"}});class Jt extends b.a{constructor(){super(...arguments),this.storeTypes={nameInputStore:v.a},this.renderDuplicateViewMenuItem=e=>{const{device:t}=this.environment;return r.a.createElement(rt.a,Object.assign({title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Duplicate",id:"collectionEditViewButtonPopup.duplicate.buttonText"}),icon:T.a.duplicate({width:t.isMobile?22:17})},e))},this.renderDeleteViewMenuItem=e=>{const{device:t}=this.environment;return r.a.createElement(rt.a,Object.assign({title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Delete",id:"collectionEditViewButtonPopup.delete.buttonText"}),icon:T.a.trashThick({width:t.isMobile?22:17})},e))},this.renderOverlay=e=>{const{device:t}=this.environment,n=()=>{this.updateTitleIfChanged(),e.close()},{intl:o,viewValue:a}=this.props;let i;return i=t.isMobile?{menuType:B.b.MenuType.Modal,title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Edit view",id:"collectionEditViewButtonPopup.mobileEditViewModal.title"}),right:r.a.createElement(X.FormattedMessage,{defaultMessage:"Done",id:"collectionEditViewButtonPopup.mobileEditViewModal.doneButtonText"}),onClickRight:n}:{menuType:B.b.MenuType.Popup,width:280},r.a.createElement(B.b,Object.assign({},i),r.a.createElement(I.a,{isInput:!0},r.a.createElement(It.a,{focus:!t.isMobile||void 0,value:this.stores.nameInputStore.state.inputValue,onChange:this.handleInputChange,onSubmit:n,placeholder:o.formatMessage(Gt.b[a.type]),mobileEditLabel:o.formatMessage(Kt.renameButtonTitle)})),r.a.createElement(P.a,{type:P.a.Type.Vertical,sections:this.getMenuListSections(),initialFocus:void 0,disableKeyboard:!0}))},this.renderTooltip=(e,t)=>r.a.createElement(qt.a,{imageURL:e,imageWidth:300,imageHeight:200,caption:t}),this.handleButtonClick=e=>{Object(We.d)({event:e,context:We.a.MenuListClick,callback:()=>{}})},this.handleclose=()=>{this.updateTitleIfChanged()},this.handleInputChange=e=>{this.stores.nameInputStore.setState({...this.stores.nameInputStore.state,inputValue:e.target.value})},this.handleDeleteView=()=>{Object(L.showDialog)({showCancel:!0,keepFocus:!1,message:r.a.createElement(X.FormattedMessage,{defaultMessage:"Are you sure you want to delete this view?",id:"collectionEditViewButtonPopup.deleteViewConfirm.text"}),items:[{label:r.a.createElement(X.FormattedMessage,{defaultMessage:"Remove",id:"collectionEditViewButtonPopup.removeButton.text"}),color:"red",onAccept:()=>{const{onChange:e,viewValue:t,views:n}=this.props,o=n.map(e=>e.id),r=o.indexOf(t.id),a=o.filter(e=>e!==t.id);e({viewIds:a,currentViewId:a[r-1]||a[0],updateViewId:t.id,updateView:{alive:!1}}),W.xb(this.environment,{view_type:t.type})}}]})},this.handleDuplicateView=()=>{const{viewValue:e,views:t,onChange:n,intl:o}=this.props,r={},a={...e,id:Object(q.b)(),name:Object(Yt.b)(e.name||o.formatMessage(Gt.b[e.type]),o,Wt.log)};r.updateViewId=a.id,r.updateView=a,r.currentViewId=a.id;const i=t.map(({id:e})=>e),s=i.indexOf(e.id),l=[...i];l.splice(s+1,0,a.id),r.viewIds=l,n(r),W.W(this.environment,{view_type:a.type,action:"duplicate"})}}willMount(e){super.willMount(e);const{viewValue:t}=e;this.stores.nameInputStore.setState({...this.stores.nameInputStore.state,inputValue:t.name||""})}renderComponent(){const{device:e}=this.environment;return r.a.createElement(it.a,{popupType:e.isMobile?it.a.PopupType.SlideUp:it.a.PopupType.Popup,renderOrigin:t=>r.a.createElement(x.a,{renderTooltip:()=>r.a.createElement(X.FormattedMessage,{defaultMessage:"Rename, delete, and more…",id:"collectionEditViewButtonPopup.tooltip"}),render:n=>r.a.createElement(Ht.a,Object.assign({isMobile:e.isMobile},Object(lt.a)(t,{onClick:this.handleButtonClick,tooltipEvents:n})))}),render:this.renderOverlay,onClose:this.handleclose})}renderViewTypeMenuItem(e,t){const{device:n}=this.environment,o=$e.f[t],a=$e.e[t],i=$e.h[t];return r.a.createElement(x.a,{key:o,placement:x.a.Placement.Right,renderTooltip:()=>this.renderTooltip(i,a),render:i=>r.a.createElement(rt.a,Object.assign({title:r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("span",{style:{marginRight:6}},o),"timeline"===t&&r.a.createElement(Zt.a,{margin:!1})),caption:a,icon:$e.g[t]({width:n.isMobile?16:14,backfaceVisibility:void 0}),checkState:this.props.viewValue.type===t,shouldWrapCaption:!0},e,i))})}getMenuListSections(){return[{key:"view_type",render:e=>r.a.createElement(I.a,Object.assign({},e)),items:l.a.compact($e.i.map(e=>({key:e,render:t=>this.renderViewTypeMenuItem(t,e),action:()=>{this.updateType(e)}})))},{key:"actions",render:e=>r.a.createElement(I.a,Object.assign({},e,{topBorder:!0})),items:[{key:"duplicate",render:this.renderDuplicateViewMenuItem,action:this.handleDuplicateView},{key:"delete",render:this.renderDeleteViewMenuItem,action:this.handleDeleteView}]}]}updateType(e){const{schema:t,viewValue:n,onChange:o,query:r,intl:a}=this.props,i={};if(i.updateViewId=n.id,i.updateView={},"table"===e){const e={...r,aggregations:[{property:"title",aggregator:"count"}]};i.updateView.query2=e}else if("board"===e){let e,n=ye.e(t);if(!n){n=Object(Nt.a)();const o={name:a.formatMessage(Kt.statusName),type:"select",options:[]};e={...t,[n]:o}}const o={...r,aggregations:[],group_by:n};i.updateView.query2=o,e&&(i.newSchema=e)}else if("calendar"===e){let e,n=ye.c(t);if(!n){n=Object(Nt.a)();const o={name:a.formatMessage(Kt.dateName),type:"date"};e={...t,[n]:o}}const o={...r,aggregations:[],calendar_by:n};i.updateView.query2=o,e&&(i.newSchema=e)}else if("gallery"===e){i.updateView.format={...n.format,gallery_cover:{type:"page_content"}};const e={...r,aggregations:[]};i.updateView.query2=e}else if("list"===e){const e=Object.keys(t).find(e=>{const n=t[e];return Boolean(n&&$e.l(n))});i.updateView.format={...n.format,list_properties:e?[{property:e,visible:!0}]:[]};const o={...r,aggregations:[]};i.updateView.query2=o}else if("timeline"===e){let e,n=ye.d(t);if(!n){n=Object(Nt.a)();const o={name:a.formatMessage(Kt.dateName),type:"date"};e={...t,[n]:o}}const o={...r,aggregations:[{property:"title",aggregator:"count"}],timeline_by:n};i.updateView.query2=o,e&&(i.newSchema=e)}i.updateView.type=e,o(i),W.W(this.environment,{view_type:e,action:"change_type"})}updateTitleIfChanged(){const{inputValue:e}=this.stores.nameInputStore.state,{viewValue:t,onChange:n}=this.props;e!==t.name&&(n({updateViewId:t.id,updateView:{name:e}}),W.W(this.environment,{view_type:t.type,action:"rename"}))}}var Qt=Object(X.injectIntl)(Jt);class $t extends Ct.a{getInitialState(){return{name:"",viewType:"table"}}}var en=$t,tn=n("T4gQ"),nn=n("F9et"),on=n("KTXS"),rn=n("0CAA");const an=Object(X.defineMessages)({inputPlaceholder:{defaultMessage:"View name",id:"database.collectionEditViewButtonPopup.inputPlaceholder"}});class sn extends b.a{constructor(){super(...arguments),this.storeTypes={store:en},this.renderTooltip=(e,t)=>r.a.createElement(qt.a,{imageURL:e,imageWidth:300,imageHeight:200,caption:t}),this.handleRenameCurrentView=e=>{this.stores.store.setState({...this.stores.store.state,name:e.target.value})},this.handleAccept=()=>{const{collectionViewBlockStore:e,onAccept:t,schema:n,currentViewValue:o,currentFormat:r}=this.props,{name:a,viewType:i}=this.stores.store.state;t(ye.h({collectionViewBlockId:e.id,schema:n,currentViewValue:o,currentFormat:r,name:a,viewType:i})),W.nb(this.environment,{view_type:i})}}renderViewTypeMenuItem(e,t){const{device:n}=this.environment,o=$e.f[t],a=$e.e[t],i=$e.h[t];return r.a.createElement(x.a,{key:o,placement:x.a.Placement.Right,renderTooltip:()=>this.renderTooltip(i,a),render:i=>r.a.createElement(rt.a,Object.assign({title:r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("span",{style:{marginRight:6}},o),"timeline"===t&&r.a.createElement(Zt.a,{margin:!1})),caption:a,icon:$e.g[t]({width:n.isMobile?16:14,fill:this.theme.regularIconColor,backfaceVisibility:void 0}),checkState:this.stores.store.state.viewType===t,shouldWrapCaption:!0},e,i))})}getMenuListSections(){const{device:e}=this.environment,t=[{key:"view type section",render:e=>r.a.createElement(I.a,Object.assign({},e)),items:l.a.compact($e.i.map(e=>({key:e,render:t=>this.renderViewTypeMenuItem(t,e),action:()=>{this.stores.store.setState({...this.stores.store.state,viewType:e})}})))}];return e.isMobile||t.push({key:"create section",render:e=>r.a.createElement(I.a,Object.assign({},e,{isSubmitButton:!0})),items:[{key:"create",render:e=>r.a.createElement(tn.a,Object.assign({title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Create",id:"database.createNewViewMobileView.menuItem"}),fullWidth:!0},e)),action:this.handleAccept}]}),t}renderComponent(){const{device:e}=this.environment;return r.a.createElement(nn.a,{capture:!e.isMobile,render:t=>{let n;return n=e.isMobile?{menuType:B.b.MenuType.Modal,title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Create view",id:"database.createNewView.mobileMenuTitle"}),left:r.a.createElement(ut.CancelMenuText,null),onClickLeft:this.props.onCancel,right:r.a.createElement("div",{style:{color:Z.g.blue}},r.a.createElement(X.FormattedMessage,{defaultMessage:"Create",id:"database.createNewView.createButton"})),onClickRight:this.handleAccept,...t}:{menuType:B.b.MenuType.Popup,width:280,footer:this.renderHelpButtonMenuItem(),...t},r.a.createElement(B.b,Object.assign({},n),r.a.createElement(I.a,{isInput:!0},r.a.createElement(It.a,{value:this.stores.store.state.name,onChange:this.handleRenameCurrentView,focus:!e.isIOS||void 0,focusInitial:!!e.isIOS||void 0,focusAfterAnimation:!0,placeholder:De.default.formatMessage(an.inputPlaceholder),onSubmit:this.handleAccept})),r.a.createElement(P.a,{type:P.a.Type.Vertical,sections:this.getMenuListSections(),initialFocus:void 0,disableKeyboard:!0}),e.isMobile&&this.renderHelpButtonMenuItem())}})}renderHelpButtonMenuItem(){return r.a.createElement(I.a,{topBorder:!0,disableDesktopPadding:!0},r.a.createElement(on.a,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Learn how to use database views",id:"database.createNewView.learnMorePrompt"}),href:Object(rn.a)("guides.databaseView"),analyticsFrom:"collection_create_view"}))}}var ln=sn,cn=n("nObc"),dn=n("aEEb"),un=n("ZQ9l"),pn=n("GZ8e"),hn=n("Fco/");const mn=Object(X.defineMessages)({addViewButtonTitle:{defaultMessage:"Add a view",id:"database.collectionViewSelect.addViewButtonTitle"}});class fn extends b.a{constructor(){super(...arguments),this.storeTypes={createViewButtonPopupStore:mt.a,menuListStore:A.a},this.renderViewsSection=e=>{if(this.isDraggable()){const t=this.props.views.map(e=>e.id);return r.a.createElement(I.a,Object.assign({},e,{children:r.a.createElement(f.b,{direction:f.a.Vertical,keys:t,renderKey:n=>e.children[t.indexOf(n)],onDrop:this.handleViewsDrop})}))}return r.a.createElement(I.a,Object.assign({},e))},this.renderViewMenuItem=(e,t)=>r.a.createElement(rt.a,Object.assign({title:r.a.createElement(Gt.a,{collectionViewType:e.type,collectionViewName:e.name}),icon:this.renderViewIcon(e.type),showDragHandle:this.isDraggable(),right:!this.props.disabled&&r.a.createElement(Qt,{schema:this.props.schema,query:this.props.query,viewValue:e,collectionViewBlockStore:this.props.collectionViewBlockStore,views:this.props.views,onChange:this.props.onChange})},t)),this.renderCreateCollectionViewMenuItem=e=>{const{device:t}=this.environment;return r.a.createElement(st.c,{popupType:t.isMobile?st.c.PopupType.SlideUp:st.c.PopupType.Popup,placementToOrigin:st.c.Placement.Right,key:e.key,open:this.stores.createViewButtonPopupStore.state.open,onDismiss:()=>this.stores.createViewButtonPopupStore.setState({open:!1}),origin:r.a.createElement(cn.a,Object.assign({isBlue:this.environment.device.isDesktop,title:De.default.formatMessage(mn.addViewButtonTitle)},e)),render:()=>r.a.createElement(ln,{disabled:this.props.disabled,schema:this.props.schema,collectionViewBlockStore:this.props.collectionViewBlockStore,currentViewValue:this.props.currentViewValue,currentFormat:this.props.currentFormat,onAccept:this.handleCollectionCreateViewMenuAccept,onCancel:()=>{this.stores.createViewButtonPopupStore.setState({open:!1})}})})},this.getMenuListSections=()=>{const e=[];return e.push({key:"views",render:this.renderViewsSection,items:this.props.views.map(e=>({key:e.id,render:t=>this.renderViewMenuItem(e,t),action:({event:t})=>{const n=t.ctrlKey||t.metaKey;this.props.onChange({currentViewId:e.id,metaClick:n})}}))}),this.props.disabled||e.push({key:"create section",render:e=>r.a.createElement(I.a,Object.assign({},e,{topBorder:!0})),items:[{key:"create button",render:this.renderCreateCollectionViewMenuItem,action:()=>{this.stores.createViewButtonPopupStore.setState({open:!0})}}]}),e},this.renderPopup=()=>{const{device:e}=this.environment;return r.a.createElement(w.a,{capture:!0,allowEsc:!0,render:t=>{let n;return n=e.isMobile?{menuType:B.b.MenuType.Modal,title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Select view",id:"database.mobileSelectViewMenu.title"}),right:r.a.createElement(ut.DoneMenuText,null),onClickRight:this.props.onEditViewMenuClose,...t}:{menuType:B.b.MenuType.Popup,minWidth:340,maxWidth:400,...t},r.a.createElement(B.b,Object.assign({},n,{header:this.renderTitle()}),r.a.createElement(P.a,{type:P.a.Type.Vertical,initialFocus:this.initialMenuListFocus,sections:this.getMenuListSections(),store:this.stores.menuListStore}))}})},this.handleClick=()=>{W.Rc(this.environment,{view_type:this.props.currentViewValue.type}),this.props.onViewSelectMenuOpen()},this.handleViewsDrop=e=>{const{onChange:t}=this.props;t({viewIds:e}),this.stores.menuListStore.reset()},this.handleCollectionCreateViewMenuAccept=e=>{const{onChange:t}=this.props;t(e),this.stores.createViewButtonPopupStore.setState({...this.stores.createViewButtonPopupStore.state,open:!1})}}willMount(e){this.initialMenuListFocus=l.a.findIndex(e.views,e=>e.id===this.props.currentViewValue.id)}renderComponent(){const{device:e}=this.environment,{viewSelectMenuOpen:t,onEditViewMenuClose:n}=this.props;return r.a.createElement(st.c,{popupType:e.isMobile?st.c.PopupType.SlideUp:st.c.PopupType.Popup,open:t,onDismiss:n,origin:this.renderOrigin(),originGap:8,render:this.renderPopup})}renderOrigin(){const{device:e}=this.environment;return r.a.createElement(G.a,{onClick:this.handleClick,isSmall:!0,shouldShrink:!0,mobileFeedback:e.isMobile,style:{marginRight:8,paddingRight:6,minWidth:46},className:Ue.r},!e.isMobile&&this.renderViewIcon(this.props.currentViewValue.type),r.a.createElement(dn.a,{style:{marginLeft:e.isMobile?-4:6,marginRight:4,fontWeight:V.a.fontWeight.semibold}},r.a.createElement(Gt.a,{collectionViewType:this.props.currentViewValue.type,collectionViewName:this.props.currentViewValue.name})),T.a.chevronDown({width:10}))}isDraggable(){const{device:e}=this.environment;return!e.isMobile&&!this.props.disabled}renderTitle(){if(!this.environment.device.isMobile)return r.a.createElement(un.a,{style:{marginTop:6},title:r.a.createElement(pn.a,{prefix:r.a.createElement(X.FormattedMessage,{id:"database.collectionViewSelect.viewsFor",defaultMessage:"Views for",description:"Followed by the name of the database"}),viewName:this.props.collectionName}),right:r.a.createElement(hn.a,{helpButtonContext:"collection_views_menu",href:Object(rn.a)("guides.databaseView")})})}renderViewIcon(e){const{device:t}=this.environment;return $e.g[e]({width:t.isMobile?16:14,backfaceVisibility:void 0})}}var gn=fn,bn=n("17x9"),vn=n.n(bn);class yn extends Ct.a{getInitialState(){return{isUploading:!1,viewSelectMenuAnimatingOut:!1,filterMenuAnimatingOut:!1,sortMenuAnimatingOut:!1,groupMenuAnimatingOut:!1,propertiesMenuAnimatingOut:!1,searchAnimatingOut:!1,calendarByMenuAnimatingOut:!1,timelineByMenuAnimatingOut:!1,noDateMenuAnimatingOut:!1,addItemMenuAnimatingOut:!1}}}var Sn=yn;const wn=Object(X.defineMessages)({none:{defaultMessage:"None",id:"database.viewPropertiesMenu.coverFormat.none"},page_content:{defaultMessage:"Page content",id:"database.viewPropertiesMenu.coverFormat.pageContent"},page_cover:{defaultMessage:"Page cover",id:"database.viewPropertiesMenu.coverFormat.pageCover"}}),kn=Object(X.defineMessages)({small:{defaultMessage:"Small",id:"database.viewPropertiesMenu.coverSize.small"},medium:{defaultMessage:"Medium",id:"database.viewPropertiesMenu.coverSize.medium"},large:{defaultMessage:"Large",id:"database.viewPropertiesMenu.coverSize.large"}}),Cn=function(e){return e?"page_content"===e.type?De.default.formatMessage(wn.page_content):"page_cover"===e.type?De.default.formatMessage(wn.page_cover):void 0:De.default.formatMessage(wn.none)},Mn=e=>{switch(e){case"small":return De.default.formatMessage(kn.small);case"medium":return De.default.formatMessage(kn.medium);case"large":return De.default.formatMessage(kn.large)}};var En=n("09Jm");class _n extends Ct.a{getInitialState(){return{propertyOpen:!1}}}var Tn=_n,xn=n("MHAS"),In=n("AlLG"),Pn=n("QkuB");class On extends b.a{renderComponent(){const{device:e}=this.environment,{currentCoverFormat:t,onAccept:n,schema:o,onClose:a}=this.props;let i=Object.keys(o);i=l.a.sortBy(i,e=>{const t=o[e];return t?t.name:""});const s=i.filter(e=>{const t=o[e];return t&&"file"===t.type}).map(e=>({type:"property",property:e})),c=[void 0,{type:"page_cover"},{type:"page_content"}].map(e=>({key:e?e.type:"none",render:n=>r.a.createElement(rt.a,Object.assign({},n,{disabled:!1,title:Cn(e),checkState:l.a.isEqual(e,t)})),action:()=>n(e)})),d=l.a.compact(s.map(e=>{const a=o[e.property];if(a){return{key:e.property,render:n=>r.a.createElement(Pn.b,Object.assign({},n,{propertySchema:a,format:Pn.b.DisplayFormat.Name,checkState:t&&"property"===t.type&&t.property===e.property})),action:()=>n(e)}}})),u=[{key:0,render:e=>r.a.createElement(I.a,Object.assign({},e)),items:c}];let p;return d.length>0&&u.push({key:1,render:e=>r.a.createElement(I.a,Object.assign({topBorder:!0},e)),items:d}),p=e.isMobile?{menuType:B.b.MenuType.ActionSheet}:{menuType:B.b.MenuType.Popup,width:200},r.a.createElement(B.b,Object.assign({},p),0===c.length?r.a.createElement(I.a,null,r.a.createElement(O.a,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"No results",id:"pageCover.formatSelectMenu.noResults.message"})})):r.a.createElement(P.a,{type:P.a.Type.Vertical,sections:u,onAccept:a,initialFocus:void 0}))}}var Bn=On;class Ln extends b.a{renderComponent(){const{currentCoverSize:e,onAccept:t,onClose:n}=this.props,{device:o}=this.environment,a=[{key:0,render:e=>r.a.createElement(I.a,Object.assign({},e)),items:l.a.compact(["small","medium","large"].map(n=>({key:n||"medium",render:t=>r.a.createElement(rt.a,Object.assign({},t,{disabled:!1,title:Mn(n),checkState:e===n})),action:()=>t(n)})))}];let i;return i=o.isMobile?{menuType:B.b.MenuType.ActionSheet}:{menuType:B.b.MenuType.Popup,width:200},r.a.createElement(B.b,Object.assign({},i),r.a.createElement(P.a,{type:P.a.Type.Vertical,sections:a,onAccept:n,initialFocus:void 0}))}}var Rn=Ln,Dn=n("lEhh"),An=n("j3Jm"),jn=n("JQ0b");class Fn extends b.a{constructor(){super(...arguments),this.handleSwitcherClick=()=>{const e=this.getPropertyFormat();e&&this.setVisibility(!e.visible)},this.handleDuplicate=()=>{const{property:e,onChange:t,format:n,formatKey:o,schema:r}=this.props,a=n[o]||[],i=ye.j({schema:r,property:e,properties:a});i&&t({newSchema:i.newSchema,newFormat:{...n,[o]:i.newProperties}})},this.handleDelete=()=>{L.showDialog({message:r.a.createElement(X.FormattedMessage,{defaultMessage:"Are you sure you want to delete this property?",id:"database.propertiesMenu.confirmActionDialog.deleteProperty.message"}),showCancel:!0,keepFocus:!1,items:[{label:r.a.createElement(X.FormattedMessage,{defaultMessage:"Delete",id:"database.propertiesMenu.confirmActionDialog.deletePropertyButton.label"}),color:"red",onAccept:async()=>{const{collectionValue:e,schema:t,property:n,onChange:o}=this.props,r=await ye.i({environment:this.environment,collectionId:e.id,schema:t,property:n});if(!r)return;o(r);const a=t[n];a&&W.tb(this.environment,{property_type:a.type,from:"view_properties"})}}]})},this.handleShow=()=>{this.setVisibility(!0)},this.handleHide=()=>{this.setVisibility(!1)},this.handleEditPropertyOpen=()=>{this.props.store.setState({propertyOpen:!0,property:this.props.property,formatKey:this.props.formatKey})},this.handleEditPropertyClose=()=>{this.props.store.setState({propertyOpen:!1})}}renderComponent(){const{collectionValue:e,canEditCollection:t,disabled:n,property:o,schema:a,intl:i}=this.props,s=this.getProperties().find(e=>e.property===o);if(!s)return;const l=a[o];if(!l)return;const c=this.allowHiding(),d=[];if(!s.visible){const e=i.formatMessage({defaultMessage:"Show",id:"database.propertiesMenuActions.showSearchText.label",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."});d.push({key:"show",displayName:e,analyticsName:e,searchName:e,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Show",id:"database.propertiesMenuActions.showMenuItem.label"}),svg:T.a.collectionShow})),closeParentMenu:!0,action:this.handleShow})}if(s.visible&&c){const e=i.formatMessage({defaultMessage:"Hide",id:"database.propertiesMenuActions.hideSearchText.label",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."});d.push({key:"hide",displayName:e,analyticsName:e,searchName:e,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Hide",id:"database.propertiesMenuActions.hideMenuItem.label"}),svg:T.a.collectionHide})),closeParentMenu:!0,action:this.handleHide})}if($e.o.includes(l.type)&&"relation"!==l.type&&t){const e=i.formatMessage({defaultMessage:"Duplicate",id:"database.propertiesMenuActions.duplicateSearchText.label",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."});d.push({key:"Duplicate",displayName:e,analyticsName:e,searchName:e,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Duplicate",id:"database.propertiesMenuActions.duplicateMenuItem.label"}),svg:T.a.duplicate})),closeParentMenu:!0,action:this.handleDuplicate})}if($e.o.includes(l.type)&&t){const e=i.formatMessage({defaultMessage:"Delete",id:"database.propertiesMenuActions.deleteSearchText.label",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."});d.push({key:"delete",displayName:e,analyticsName:e,searchName:e,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Delete",id:"database.propertiesMenuActions.deleteMenuItem.label"}),svg:T.a.trash})),closeParentMenu:!0,action:this.handleDelete})}return r.a.createElement(jn.a,{collectionId:e.id,canEditCollection:t,open:this.propertyIsOpen(),property:o,schema:a,onChange:this.props.onChange,actions:d,disabled:n,from:"view_properties",renderOrigin:e=>r.a.createElement(Pn.b,Object.assign({focused:!1,showDragHandle:!this.environment.device.isMobile,showExtensionArrow:this.environment.device.isMobile,propertySchema:l,format:Pn.b.DisplayFormat.Name,disabled:n,dontShrinkRight:!0,right:!this.environment.device.isMobile&&r.a.createElement(Dn.a,{on:Boolean(s.visible),disabled:!c&&s.visible,onClick:this.handleSwitcherClick})},e)),onOpen:this.handleEditPropertyOpen,onClose:this.handleEditPropertyClose})}getProperties(){const{format:e,formatKey:t}=this.props;return e&&e[t]||[]}getPropertyFormat(){const{property:e}=this.props;return this.getProperties().find(t=>t.property===e)}setVisibility(e){const{property:t,onChange:n,format:o,viewType:r,formatKey:a}=this.props;n({newFormat:{...o,[a]:this.getProperties().map(n=>n.property===t?{...n,visible:e}:n)}}),W.W(this.environment,{view_type:r,action:e?"show_property":"hide_property"})}propertyIsOpen(){const{property:e,formatKey:t,store:n}=this.props,o=n.state;return Boolean(o.propertyOpen&&o.property===e&&o.formatKey===t)}allowHiding(){const{property:e,allowHidingTitle:t}=this.props;return"title"!==e||t}}Fn.contextTypes=B.c;var Vn=Object(X.injectIntl)(Fn);class Nn extends b.a{constructor(){super(...arguments),this.handleDraggableDrop=e=>{const{onChange:t,format:n,viewType:o,formatKey:r}=this.props,a=this.getProperties();t({newFormat:{...n,[r]:e.map(e=>a.find(t=>t.property===e))}}),W.W(this.environment,{view_type:o,action:"reorder_properties"})}}renderComponent(){const{device:e}=this.environment,{collectionValue:t,canEditCollection:n,formatKey:a,topBorder:i,title:s,allowHidingTitle:l}=this.props,c=this.getProperties();if(e.isMobile){const e=c.filter(e=>e.visible).map(e=>r.a.createElement(Vn,{collectionValue:t,canEditCollection:n,key:e.property,disabled:this.props.disabled,viewType:this.props.viewType,format:this.props.format,formatKey:a,query:this.props.query,schema:this.props.schema,onChange:this.props.onChange,property:e.property,store:this.props.store,allowHidingTitle:l})),i=c.filter(e=>!e.visible).map(e=>r.a.createElement(Vn,{collectionValue:t,canEditCollection:n,key:e.property,disabled:this.props.disabled,viewType:this.props.viewType,format:this.props.format,formatKey:a,query:this.props.query,schema:this.props.schema,onChange:this.props.onChange,property:e.property,store:this.props.store,allowHidingTitle:l}));return r.a.createElement(o.Fragment,null,e.length>0&&r.a.createElement(I.a,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Visible properties",id:"database.propertiesMenu.visibleProperties"})},e),i.length>0&&r.a.createElement(I.a,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Hidden properties",id:"database.propertiesMenu.hiddenProperties"})},i))}return r.a.createElement(I.a,{topBorder:i,title:s,isTitleUppercase:!0},r.a.createElement(f.b,{direction:f.a.Vertical,keys:c.map(e=>e.property),renderKey:e=>r.a.createElement(Vn,{collectionValue:t,canEditCollection:n,key:e,disabled:this.props.disabled,viewType:this.props.viewType,format:this.props.format,formatKey:a,query:this.props.query,schema:this.props.schema,onChange:this.props.onChange,property:e,store:this.props.store,allowHidingTitle:l}),onDrop:this.handleDraggableDrop}))}getProperties(){const{format:e,formatKey:t}=this.props;return e&&e[t]||[]}}var Un=Object(X.injectIntl)(Nn),zn=n("9YMM");class Xn extends b.a{renderComponent(){const{limit:e}=this.props;return"load_all"===e.type?r.a.createElement(X.FormattedMessage,{defaultMessage:"All",id:"database.FirstLoadLimitSelectOption.showAllTitle"}):r.a.createElement(X.FormattedMessage,{defaultMessage:"{limit} pages",values:{limit:e.limit},id:"database.FirstLoadLimitSelectOption.limitPagesTitle"})}}var Yn=Object(X.injectIntl)(Xn);class Hn extends b.a{renderComponent(){const{device:e}=this.environment,{currentLimit:t,onAccept:n,onClose:o,showTitle:a}=this.props,i=[{key:0,render:e=>r.a.createElement(I.a,Object.assign({enableActionSheetTitle:!0,title:a&&r.a.createElement(X.FormattedMessage,{defaultMessage:"Show on first load",id:"database.firstLoadLimitSelectMenu.firstLoadLimitSetting"})},e)),items:l.a.compact($.k.map((e,o)=>({key:o,render:n=>r.a.createElement(rt.a,Object.assign({},n,{disabled:!1,title:r.a.createElement(Yn,{limit:e}),checkState:l.a.isEqual(t,e)})),action:()=>n(e)})))}];let s;return s=e.isMobile?{menuType:B.b.MenuType.ActionSheet}:{menuType:B.b.MenuType.Popup,width:200},r.a.createElement(B.b,Object.assign({},s),r.a.createElement(P.a,{type:P.a.Type.Vertical,sections:i,onAccept:o,initialFocus:void 0}))}}var qn=Object(X.injectIntl)(Hn);class Wn extends b.a{constructor(){super(...arguments),this.storeTypes={store:Tn},this.renderCoverAspectFormatToggle=()=>r.a.createElement(rt.a,{focused:!1,title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Fit image",id:"database.viewPropertiesMenu.fitImageButtonTitle"}),onClick:this.handleCoverAspectFormatToggle,right:r.a.createElement(Dn.a,{on:"contain"===this.getCoverAspectFormat(),onClick:this.handleCoverAspectFormatToggle})}),this.renderCoverSizePopup=e=>{const t=this.getCoverSizeFormat();return r.a.createElement(Rn,{currentCoverSize:t,schema:this.props.schema,onAccept:this.handleCoverSizeFormatAccept,onClose:e.close})},this.renderCoverFormatPopup=e=>r.a.createElement(Bn,{currentCoverFormat:this.getCoverFormat(),schema:this.props.schema,onAccept:this.handleCoverFormatAccept,onClose:e.close}),this.renderFirstLoadLimitPopup=e=>r.a.createElement(qn,{currentLimit:this.getCurrentFirstLoadLimit(),onAccept:this.handleFirstLoadLimitAccept,onClose:e.close,showTitle:!1}),this.handleAddPropertyClick=()=>{const{schema:e,onChange:t,intl:n}=this.props,o=Object.keys(e),r=Object(En.a)(n.formatMessage({defaultMessage:"Property",id:"database.addNewProperty.property.defaultNamePrefix",description:"When a new property is added in a database from the view properties menu, the property will be assigned a unique name like 'Property', 'Property 1', or 'Property 2'."}),t=>!o.find(n=>{const o=e[n];return Boolean(o&&o.name===t)})),a=Object(Nt.a)(),i={name:r,type:"text"};t({newSchema:{...e,[a]:i}}),W.kb(this.environment,{from:"view_properties"}),this.stores.store.setState({propertyOpen:!0,property:a,formatKey:this.getPrimaryPropertyFormatKeyForView()})},this.handleCoverFormatAccept=e=>{const{format:t,onChange:n,viewType:o}=this.props,r=this.getCoverFormatKey();if(r){n({newFormat:{...t,[r]:e}})}W.W(this.environment,{view_type:o,action:"set_cover_format"})},this.handleFirstLoadLimitAccept=e=>{const{format:t,onChange:n,viewType:o}=this.props;n({newFormat:{...t,inline_collection_first_load_limit:e},resetLimit:!0}),W.W(this.environment,{view_type:o,action:"set_first_load_limit"})},this.handleCoverSizeFormatAccept=e=>{const{format:t,onChange:n,viewType:o}=this.props,r=this.getCoverSizeFormatKey();if(r){n({newFormat:{...t,[r]:e}})}W.W(this.environment,{view_type:o,action:"set_cover_size_format"})},this.handleCoverAspectFormatToggle=()=>{const{format:e,onChange:t,viewType:n}=this.props,o=this.getCoverAspectFormatKey();if(o){t({newFormat:{...e,[o]:"contain"===e[o]?"cover":"contain"}})}W.W(this.environment,{view_type:n,action:"set_cover_aspect_format"})},this.handleTimelineShowTableToggle=()=>{const{format:e,onChange:t,viewType:n}=this.props,o=!this.timelineShouldShowTable(),r=Object(zn.t)(e,o);t({newFormat:{...e,...r}}),W.W(this.environment,{view_type:n,action:"timeline_toggle_show_table"})}}renderComponent(){const{canEditCollection:e,isFullScreen:t,viewType:n}=this.props,o=this.shouldShowCardSettings(),a=!t&&"board"!==n&&"calendar"!==n,i=this.timelineCanShowTable();return r.a.createElement(An.d,{title:this.renderTitle(),onCancel:this.props.onDismiss,helpButton:r.a.createElement(hn.a,{helpButtonContext:"collection_properties_menu",href:Object(rn.a)("guides.databaseProperties")}),desktopMinWidth:400},(o||a||i)&&r.a.createElement(I.a,null,o&&this.renderCardSettings(),a&&this.renderFirstLoadLimitSetting(),i&&this.renderTimelineShowTableToggle()),this.timelineShouldShowTable()&&this.renderTimelineTablePropertyFormatList(),this.renderPrimaryPropertyFormatList(),e&&this.renderAddProperty())}renderTimelineTablePropertyFormatList(){return this.renderPropertyFormatList({formatKey:"timeline_table_properties",topBorder:!0,title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Show in table",id:"database.propertiesMenu.showInTableTitle"}),allowHidingTitle:!0})}renderPrimaryPropertyFormatList(){const e=this.getCoverFormatKey(),t=this.isTimeline(),n=this.timelineShouldShowTable();return this.renderPropertyFormatList({formatKey:this.getPrimaryPropertyFormatKeyForView(),topBorder:Boolean(e||t),title:t&&n?r.a.createElement(X.FormattedMessage,{defaultMessage:"Show in timeline",id:"database.propertiesMenu.showInTimelineTitle"}):void 0,allowHidingTitle:this.primaryPropertyFormatAllowsHidingTitle()})}renderPropertyFormatList(e){const{formatKey:t,topBorder:n,title:o,allowHidingTitle:a}=e,{disabled:i,collectionValue:s,canEditCollection:l,viewType:c,format:d,schema:u,query:p,onChange:h,onDismiss:m}=this.props;return r.a.createElement(Un,{disabled:i,collectionValue:s,canEditCollection:l,formatKey:t,viewType:c,format:d,schema:u,query:p,onChange:h,onDismiss:m,store:this.stores.store,topBorder:n,title:o,allowHidingTitle:a})}renderTitle(){return this.environment.device.isMobile?r.a.createElement(X.FormattedMessage,{defaultMessage:"Properties",id:"database.mobileViewPropertiesMenu.title"}):r.a.createElement(pn.a,{prefix:r.a.createElement(X.FormattedMessage,{id:"database.propertiesMenu.propertiesFor",defaultMessage:"Properties for",description:"Will be followed by the name of the current database view"}),viewType:this.props.viewType,viewName:r.a.createElement(Gt.a,{collectionViewName:this.props.collectionViewName,collectionViewType:this.props.viewType})})}renderCardSettings(){const{device:e}=this.environment,t=this.getCoverFormat(),n=this.getCoverSizeFormat(),o=!e.isMobile||"board"===this.props.viewType;return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a,{popupType:e.isMobile?st.b.SlideUp:st.b.Popup,alignmentToOrigin:it.a.Alignment.End,placementToOrigin:it.a.Placement.Bottom,originGap:8,renderOrigin:e=>this.renderCoverFormatOrigin(t,e),render:this.renderCoverFormatPopup}),o&&r.a.createElement(it.a,{popupType:e.isMobile?st.b.SlideUp:st.b.Popup,renderOrigin:e=>this.renderCoverSizeFormatOrigin(n,e),alignmentToOrigin:it.a.Alignment.End,placementToOrigin:it.a.Placement.Bottom,originGap:8,render:this.renderCoverSizePopup}),t&&this.renderCoverAspectFormatToggle())}renderFirstLoadLimitSetting(){const{disabled:e}=this.props,{device:t}=this.environment,n=this.getCurrentFirstLoadLimit();return r.a.createElement(it.a,{popupType:t.isMobile?st.b.SlideUp:st.b.Popup,renderOrigin:o=>r.a.createElement(xn.a,Object.assign({},o,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Show on first load",id:"database.viewPropertiesMenu.firstLoadLimitSetting"}),focused:!1,showExtensionArrow:t.isMobile,right:r.a.createElement(Yn,{limit:n}),disabled:e})),alignmentToOrigin:it.a.Alignment.End,placementToOrigin:it.a.Placement.Bottom,originGap:8,render:this.renderFirstLoadLimitPopup})}renderTimelineShowTableToggle(){return r.a.createElement(rt.a,{focused:!1,title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Show table",id:"database.viewPropertiesMenu.timelineShowTableTitle"}),onClick:this.handleTimelineShowTableToggle,right:r.a.createElement(Dn.a,{on:this.timelineShouldShowTable(),onClick:this.handleTimelineShowTableToggle})})}renderCoverSizeFormatOrigin(e,t){const{device:n}=this.environment,{disabled:o}=this.props;return r.a.createElement(xn.a,Object.assign({},t,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Card size",id:"database.viewPropertiesMenu.cardSizeButtonTitle"}),focused:!1,showExtensionArrow:n.isMobile,right:Mn(e),disabled:o}))}renderCoverFormatOrigin(e,t){const{device:n}=this.environment,{disabled:o,schema:a}=this.props;let i;if(e&&"property"===e.type){const t=a[e.property];t&&(i=r.a.createElement(In.a,{propertySchema:t,showIcon:!0}))}else i=Cn(e);return r.a.createElement(xn.a,Object.assign({},t,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Card preview",id:"database.viewPropertiesMenu.cardPreviewButtonTitle"}),focused:!1,showExtensionArrow:n.isMobile,right:i,disabled:o}))}renderAddProperty(){return r.a.createElement(I.a,{topBorder:!0},r.a.createElement(cn.a,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Add a property",id:"database.propertiesMenu.addPropertyButtonTitle"}),focused:!1,onClick:this.handleAddPropertyClick,isBlue:this.environment.device.isDesktop}))}getCoverFormatKey(){return $e.b[this.props.viewType]}shouldShowCardSettings(){return Boolean(this.getCoverFormatKey())}getCoverSizeFormatKey(){return $e.c[this.props.viewType]}getCoverAspectFormatKey(){return $e.a[this.props.viewType]}getCoverFormat(){const{format:e}=this.props,t=this.getCoverFormatKey();if(t&&e)return e[t]}getCoverSizeFormat(){const{format:e}=this.props,t=this.getCoverSizeFormatKey();if(t&&e){const n=e[t];if(n)return n}return $.f}getCoverAspectFormat(){const{format:e}=this.props,t=this.getCoverAspectFormatKey();if(t&&e)return e[t]}isTimeline(){return"timeline"===this.props.viewType}timelineCanShowTable(){return Object(zn.H)({environment:this.environment,isFullScreen:this.props.isFullScreen,isRootChild:this.props.isRootChild})&&this.isTimeline()}timelineShouldShowTable(){return Object(zn.J)({environment:this.environment,isFullScreen:this.props.isFullScreen,isRootChild:this.props.isRootChild,format:this.props.format})&&this.isTimeline()}primaryPropertyFormatAllowsHidingTitle(){const{viewType:e,format:t}=this.props;return"board"===e?$.d(t.board_cover):"gallery"===e?$.d(t.gallery_cover):"timeline"===e&&$.n(Boolean(t.timeline_show_table),t.timeline_table_properties||[])}getCurrentFirstLoadLimit(){const{format:e}=this.props;return $.j(e.inline_collection_first_load_limit)}getPrimaryPropertyFormatKeyForView(){const{viewType:e}=this.props;return"table"===e?"table_properties":"board"===e?"board_properties":"calendar"===e?"calendar_properties":"gallery"===e?"gallery_properties":"list"===e?"list_properties":"timeline"===e?"timeline_properties":void Object(F.e)(e)}}var Gn=Object(X.injectIntl)(Wn),Zn=n("vJXr"),Kn=n("prF1");class Jn extends b.a{renderComponent(){return r.a.createElement("div",{style:Jn.wrapStyle,className:Ue.q},r.a.createElement(D.a,{style:Jn.newButtonStyle,onClick:this.props.onAddItem,disabledFeedback:!0,hoveredStyle:{background:this.theme.blueButtonHoveredBackground},pressedStyle:{background:this.theme.blueButtonPressedBackground}},r.a.createElement(X.FormattedMessage,{defaultMessage:"New",id:"database.actionBar.newButton"})),r.a.createElement(D.a,{disabledFeedback:!0,style:this.getTemplateButtonStyle(),hoveredStyle:{background:this.theme.blueButtonHoveredBackground},pressedStyle:{background:this.theme.blueButtonPressedBackground},onClick:this.props.onOpenAddItemMenu},T.a.chevronDown({width:10,fill:Z.g.white})),this.renderButtonBorder())}renderButtonBorder(){return r.a.createElement("div",{style:{position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset, rgba(15, 15, 15, 0.1) 0px 1px 2px"}})}getTemplateButtonStyle(){return{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,background:Z.g.blue,alignSelf:"stretch",boxShadow:"inset 1px 0 0 ".concat(this.theme.darkDividerColor),borderTopRightRadius:3,borderBottomRightRadius:3}}}Jn.wrapStyle={position:"relative",display:"inline-flex",flexShrink:0,height:24,marginLeft:10,borderRadius:3,overflow:"hidden"},Jn.newButtonStyle={display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderTopLeftRadius:3,borderBottomLeftRadius:3,color:Z.g.white,lineHeight:1.2,background:Z.g.blue,paddingLeft:8,paddingRight:8,fontSize:14,fontWeight:V.a.fontWeight.medium};var Qn=Jn,$n=n("Rwql"),eo=n("FWat"),to=n("hU3F"),no=n("KJyx"),oo=n("5zFd"),ro=n("oWZM"),ao=n("s65R"),io=n("T1td"),so=n("+btH");class lo extends b.a{constructor(){super(...arguments),this.handleAccept=e=>{const{sort:t}=this.props,n={...t,property:e};this.props.onChange(this.props.index,n),W.W(this.environment,{view_type:this.props.collectionViewType,action:"set_sort_property"})}}renderComponent(){const{schema:e,sort:t}=this.props,n=e[t.property];if(n)return r.a.createElement(o.Fragment,null,this.renderPropertyDropdown(n),this.renderSortDirection())}renderPropertyDropdown(e){const{device:t}=this.environment;return r.a.createElement(it.a,{popupType:t.isMobile?it.a.PopupType.SlideUp:it.a.PopupType.Popup,renderOrigin:t=>r.a.createElement(ao.a,Object.assign({},t,{propertySchema:e})),render:e=>r.a.createElement(io.a,{isRelationProperty:!1,schema:this.props.schema,onAccept:this.handleAccept,onClose:e.close})})}renderSortDirection(){const{sort:e,index:t,onChange:n,collectionViewType:o,intl:a}=this.props,i=e.direction,s={menuTitle:a.formatMessage({id:"collectionSortMenuRow.sortDirectionSelectMenu.title",defaultMessage:"Sort",description:"Title of menu where users select sort order (Ascending or Descending)"}),items:so.a,getKey:e=>e,selectedItem:i,onSelect:r=>{const a={...e,direction:r};n(t,a),W.W(this.environment,{view_type:o,action:"set_sort_direction"})},renderItem:e=>r.a.createElement(rt.a,Object.assign({title:lo.sortDirectionMessage[e.value]},e)),renderOrigin:e=>r.a.createElement(ro.a,Object.assign({},e,{placeholder:a.formatMessage({id:"collectionSortMenuRow.sortDirectionSelectMenu.placeholder",defaultMessage:"Empty",description:"Default placeholder for an empty sort direction (Ascending or Descending)"}),title:i&&lo.sortDirectionMessage[i]}))};return r.a.createElement(oo.a,Object.assign({key:"direction"},s,{mobileActionSheet:!0}))}}lo.sortDirectionMessage={ascending:r.a.createElement(X.FormattedMessage,{defaultMessage:"Ascending",id:"collectionSortMenuRow.sortDirectionSelectMenu.ascending",description:"Indicates that the database will be sorted by the selected property, in ascending order"}),descending:r.a.createElement(X.FormattedMessage,{defaultMessage:"Descending",id:"collectionSortMenuRow.sortDirectionSelectMenu.descending",description:"Indicates that the database will be sorted by the selected property, in descending order"})};var co=Object(X.injectIntl)(lo),uo=n("AwHX");class po extends b.a{constructor(){super(...arguments),this.storeTypes={query:to.a.of("")},this.handleChangeSort=(e,t)=>{const{sorts:n}=this.props,o=n.map((n,o)=>o===e?t:n);this.props.onChange(o)},this.handleDeleteSort=e=>{const{sorts:t}=this.props,n=t.filter((t,n)=>n!==e);this.props.onChange(n),W.W(this.environment,{view_type:this.props.collectionViewType,action:"delete_filter"})},this.handleAddSortClick=()=>{const{sorts:e}=this.props,t=[...e,{property:"title",direction:"ascending"}];this.props.onChange(t),W.W(this.environment,{view_type:this.props.collectionViewType,action:"add_sort"})}}renderComponent(){const e=0===this.props.sorts.length;return r.a.createElement(An.d,{title:this.renderTitle(),onCancel:this.props.onCancel,helpButton:r.a.createElement(hn.a,{helpButtonContext:"collection_sort_menu",href:Object(rn.a)("guides.databaseSort")}),desktopMinWidth:400},e&&this.renderEmptyState(),this.renderSorts(),r.a.createElement(I.a,{topBorder:e,desktopStyle:{padding:"6px 0"}},r.a.createElement(cn.a,{isBlue:this.environment.device.isDesktop,focused:!1,onClick:this.handleAddSortClick,title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Add a sort",id:"database.sortMenu.addSortButtonTitle"})})))}renderTitle(){return this.environment.device.isMobile?r.a.createElement(X.FormattedMessage,{defaultMessage:"Sort",id:"database.sortMenu.mobileMenuTitle"}):r.a.createElement(pn.a,{prefix:r.a.createElement(X.FormattedMessage,{id:"database.sortMenu.sortFor",defaultMessage:"Sort for",description:"Will be followed by the name of the current database view"}),viewType:this.props.collectionViewType,viewName:r.a.createElement(Gt.a,{collectionViewName:this.props.collectionViewName,collectionViewType:this.props.collectionViewType})})}renderSorts(){const{device:e}=this.environment,{sorts:t}=this.props;if(e.isMobile)return t.map((e,t)=>this.renderSort(e,t));{const e=t.map((e,t)=>t.toString());return e.length>0&&r.a.createElement("div",{style:{marginBottom:2}},r.a.createElement(f.b,{direction:f.a.Vertical,keys:e,renderKey:e=>this.renderSort(t[parseInt(e)],parseInt(e)),onDrop:e=>{const n=l.a.compact(e.map(e=>t[parseInt(e)]));this.props.onChange(n)}}))}}renderEmptyState(){return r.a.createElement(I.a,null,r.a.createElement(no.a,null,r.a.createElement("div",{style:this.getEmptyTextWrapStyle()},r.a.createElement("div",null,r.a.createElement(X.FormattedMessage,{defaultMessage:"Use a sort to:",id:"database.sortMenu.emptyState1",description:"Part 1 of Sort menu empty state message."})),r.a.createElement(X.FormattedMessage,{defaultMessage:"Order tasks by priority.",id:"database.sortMenu.emptyState2",description:"Part 2 of Sort menu empty state message."}),r.a.createElement("br",null),r.a.createElement(X.FormattedMessage,{defaultMessage:"Show notes by creation date.",id:"database.sortMenu.emptyState3",description:"Part 3 of Sort menu empty state message."}),r.a.createElement("br",null),r.a.createElement(X.FormattedMessage,{defaultMessage:"Show recently contacted customers.",id:"database.sortMenu.emptyState4",description:"Part 4 of Sort menu empty state message."}))))}renderSort(e,t){const{device:n}=this.environment;return n.isMobile?r.a.createElement(I.a,{key:t,title:"Sort ".concat(t+1)},r.a.createElement(co,{index:t,sort:e,schema:this.props.schema,parentStore:this.props.parentStore,collectionViewType:this.props.collectionViewType,onChange:this.handleChangeSort}),this.renderMobileDeleteButtonMenuItem(t)):r.a.createElement(I.a,{key:t,extraTopPadding:!0,desktopStyle:{padding:"8px 0 0"}},r.a.createElement(un.a,{showDragHandle:!n.isMobile,title:r.a.createElement("div",{style:po.captureWrapStyle,onMouseDown:We.c},r.a.createElement(co,{index:t,sort:e,schema:this.props.schema,parentStore:this.props.parentStore,collectionViewType:this.props.collectionViewType,onChange:this.handleChangeSort})),right:this.renderDesktopDeleteButton(t)}))}renderMobileDeleteButtonMenuItem(e){return r.a.createElement(rt.a,{title:r.a.createElement("div",{style:{color:Z.g.red}},r.a.createElement(X.FormattedMessage,{defaultMessage:"Delete",id:"database.sortMenu.mobileDeleteButtonTitle"})),icon:r.a.createElement(uo.a,{icon:T.a.trash,styles:{color:Z.g.red}}),onClick:()=>this.handleDeleteSort(e),focused:!1})}renderDesktopDeleteButton(e){return r.a.createElement(x.a,{render:t=>r.a.createElement(yt.a,Object.assign({icon:T.a.collectionDeleteRule,onClick:()=>this.handleDeleteSort(e),style:{marginRight:-6}},t)),renderTooltip:()=>r.a.createElement(X.FormattedMessage,{defaultMessage:"Remove sort rule",id:"database.sortMenu.deleteButtonTooltip"})})}getEmptyTextWrapStyle(){return{color:this.theme.lightTextColor,lineHeight:1.5,whiteSpace:"nowrap"}}}po.buttonStyle={fontSize:14,height:30,minWidth:0,paddingLeft:6,paddingRight:6,marginRight:8},po.captureWrapStyle={display:"flex",alignItems:"center",flexGrow:1,whiteSpace:"nowrap"};var ho=po,mo=n("MaHM"),fo=n("WI3x"),go=n("3mOY");const bo=[fo.b,fo.d,fo.c,fo.e,An.c],vo=l.a.sum(bo)+(bo.length+1)*An.a;class yo extends b.a{constructor(){super(...arguments),this.handleChangeCombinator=(e,t)=>{this.props.onChange(t)}}renderComponent(){return r.a.createElement(An.d,{title:this.renderTitle(),onCancel:this.props.onCancel,helpButton:this.renderHelpButton(),desktopMinWidth:vo},r.a.createElement(go.a,{onClose:this.props.onCancel},r.a.createElement(fo.a,{index:0,level:0,combinatorFilter:this.props.combinatorFilter,schema:this.props.schema,onChange:this.handleChangeCombinator,collectionViewType:this.props.collectionViewType,collectionViewId:this.props.collectionViewId,parentStore:this.props.parentStore})))}renderHelpButton(){return r.a.createElement(Kn.a,{href:Object(rn.a)("guides.databaseFilter"),external:!0,onClick:()=>W.C(this.environment,{from:"collection_filter_menu"})},r.a.createElement(yt.a,{icon:T.a.help,style:{height:32,width:32,marginRight:-5,fill:this.theme.mediumIconColor}}))}renderTitle(){const{device:e}=this.environment;return e.isMobile?r.a.createElement(mo.b,null):r.a.createElement(pn.a,{prefix:r.a.createElement(X.FormattedMessage,{id:"database.filterMenu.filtersFor",defaultMessage:"Filters for",description:"Will be followed by the name of the current database view"}),viewType:this.props.collectionViewType,viewName:r.a.createElement(Gt.a,{collectionViewType:this.props.collectionViewType,collectionViewName:this.props.collectionViewName})})}}var So=Object(X.injectIntl)(yo);class wo extends Ct.a{getInitialState(){return{query:"",limit:20}}}var ko=wo,Co=n("sbdd"),Mo=n("NoAG");const Eo=Object(X.defineMessages)({searchPlaceholder:{defaultMessage:"Search for a page…",id:"collectionNoDateMenu.searchPlaceholder"}});class _o extends b.a{constructor(){super(...arguments),this.storeTypes={store:ko,requestStore:Ot.a},this.renderResults=(e,t,n)=>{const{collectionViewType:o}=this.props,{store:a}=this.stores,{query:i}=a.state,s="calendar"===o?r.a.createElement(X.FormattedMessage,{defaultMessage:"Click to add to the calendar",id:"collectionNoDateMenu.addResultToCalendar.prompt"}):r.a.createElement(X.FormattedMessage,{defaultMessage:"Click to add to the timeline",id:"collectionNoDateMenu.addResultToTimeline.prompt"});return e?r.a.createElement(I.a,{title:s,loading:!n},r.a.createElement(O.a,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Something went wrong.",id:"collectionNoDateMenu.resultsMenu.errorMessage"})})):t&&0===t.length?r.a.createElement(I.a,{title:s,loading:!n},r.a.createElement(O.a,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"No results",id:"collectionNoDateMenu.noResults.title"})})):t?r.a.createElement(P.a,{type:P.a.Type.Vertical,sections:[{key:"results",render:e=>r.a.createElement(I.a,Object.assign({},e,{title:s,loading:!n})),items:this.getMenuListItems(t||[])}],initialFocus:i?0:void 0}):r.a.createElement(I.a,{title:s,loading:!n},r.a.createElement(O.a,{title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Loading…",id:"collectionNoDateMenu.loading.message"})}))},this.handleQueryChange=e=>{this.stores.store.setState({query:e.target.value,limit:_o.loadMoreIncrement})},this.handleScrollOffsetChange=e=>{const{store:t,requestStore:n}=this.stores,o=n.state.result;e<_o.loadMoreScrollOffset&&!n.state.loading&&o&&t.state.limit<=o.length&&t.setState({...t.state,limit:t.state.limit+_o.loadMoreIncrement})},this.performRequest=async e=>{const{collectionStore:t,collectionViewId:n,property:o}=this.props,r=h.a.createChildStore(t,{table:Mo.a,id:n});await r.load();const a=r.getValue(),i={operator:"and",filters:l.a.compact([{property:o,filter:{operator:"is_empty"}},a&&a.query2&&a.query2.filter])},s=await _t.queryCollection(this.environment,{collectionId:t.id,collectionViewId:n,query:{filter:i},loader:{type:"table",limit:e.limit,searchQuery:e.query,userTimeZone:de.m,loadContentCover:!1}});if("failed"===s.type)throw s.error;return"table"===s.data.result.type?s.data.result.blockIds:[]}}renderComponent(){const{device:e}=this.environment,{store:t,requestStore:n}=this.stores,{query:o,limit:a}=t.state;return r.a.createElement(An.d,{title:this.renderTitle(),onCancel:this.props.onClose,helpButton:r.a.createElement(hn.a,{helpButtonContext:"collection_no_date_menu",href:Object(rn.a)("guides.databaseCalendar")}),desktopWidth:450},r.a.createElement(I.a,{isInput:!0},r.a.createElement(It.a,{placeholder:De.default.formatMessage(Eo.searchPlaceholder),focus:!e.isMobile||void 0,focusAfterAnimation:!0,value:o,onChange:this.handleQueryChange})),r.a.createElement(M.a,{request:{query:o,limit:a},requestStore:n,performRequest:this.performRequest,render:this.renderResults,debounce:E.b}),r.a.createElement(tt.a,{onChange:this.handleScrollOffsetChange}))}renderTitle(){const{noDateTotal:e}=this.props;return this.environment.device.isMobile?r.a.createElement(X.FormattedMessage,{defaultMessage:"Pages with no date",id:"collectionNoDateMenu.mobileMenuTitle"}):r.a.createElement(pn.a,{prefix:r.a.createElement(X.FormattedMessage,{defaultMessage:"{noDateTotal, plural, one {{noDateTotal} page with no date in} other {{noDateTotal} pages with no date in}}",id:"collectionNoDateMenu.pagesWithNoDateInPrefix",values:{noDateTotal:e}}),viewType:this.props.collectionViewType,viewName:r.a.createElement(Gt.a,{collectionViewName:this.props.collectionViewName,collectionViewType:this.props.collectionViewType})})}renderMenuListItem(e,t,n){const{device:o}=this.environment;return r.a.createElement(Co.a,Object.assign({},e,{store:t,hidePath:!0,right:r.a.createElement(te.a,{key:t.id,href:n,innerStyle:{display:"flex",alignItems:"center",borderRadius:3,paddingLeft:o.isMobile?8:6,paddingRight:o.isMobile?8:6,height:o.isMobile?44:22},onClick:()=>{W.N(this.environment)}},r.a.createElement(X.FormattedMessage,{defaultMessage:"View",id:"collectionNoDateMenu.view.button.label"})),dontShrinkRight:!0}))}getMenuListItems(e){const{collectionStore:t,property:n}=this.props,o=e.map(e=>pe.a.createChildStore(t,{table:d.a,id:e})).filter(e=>!ge.o(e.getPropertyStore(n).getValue())).map(e=>{const{currentBlockStore:t}=Me.default.state;if(!t)return;const n=Object(ne.a)({store:t,peekViewBlockId:e.id});return{key:e.id,render:t=>this.renderMenuListItem(t,e,n),action:()=>{this.props.onAddPage(e),W.M(this.environment)}}});return l.a.compact(o)}}_o.loadMoreScrollOffset=200,_o.loadMoreIncrement=20;var To=_o;class xo extends b.a{constructor(){super(...arguments),this.toggleStartAndEnd=()=>{const{currentViewId:e,query:t,onChange:n}=this.props,o=t.timeline_by,r=t.timeline_by_end;o&&(n({updateViewId:e,updateView:{query2:{...t,timeline_by_end:r?void 0:o}}}),W.W(this.environment,{view_type:"timeline",action:"set_timeline_by"}))}}renderComponent(){const{onDismiss:e}=this.props,{device:t}=this.environment;return r.a.createElement(w.a,{capture:!0,allowEsc:!0,allowUndo:!0,render:n=>{let o;return o=t.isMobile?{menuType:B.b.MenuType.Modal,title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Timeline by",id:"database.timelineByMenu.title"}),right:r.a.createElement(ut.DoneMenuText,null),onClickRight:e,...n}:{menuType:B.b.MenuType.Popup,minWidth:250,...n},r.a.createElement(B.b,Object.assign({},o),this.renderMenu())}})}renderMenu(){const{currentViewId:e,schema:t,query:n,onChange:o}=this.props,a=Object.keys(t).filter(e=>{const n=t[e];return n&&Object(g.i)(n)}),i=n.timeline_by,s=n.timeline_by_end,c=l.a.compact([{key:"dateRange",render:e=>r.a.createElement(I.a,Object.assign({title:s?r.a.createElement(X.FormattedMessage,{defaultMessage:"Start date",id:"database.timelineByMenu.startDate"}):r.a.createElement(X.FormattedMessage,{defaultMessage:"Date range",id:"database.timelineByMenu.dateRange"})},e)),items:l.a.compact(a.map(a=>{const s=t[a];if(s)return{key:a,render:e=>r.a.createElement(Pn.b,Object.assign({},e,{propertySchema:s,format:Pn.b.DisplayFormat.Name,checkState:i===a})),action:()=>{o({updateViewId:e,updateView:{query2:{...n,timeline_by:a}}}),W.W(this.environment,{view_type:"timeline",action:"set_timeline_by"})}}}))},s?{key:"endDate",render:e=>r.a.createElement(I.a,Object.assign({title:r.a.createElement(X.FormattedMessage,{defaultMessage:"End date",id:"database.timelineByMenu.endDate"})},e)),items:l.a.compact(a.map(a=>{const i=t[a];if(i)return{key:a,render:e=>r.a.createElement(Pn.b,Object.assign({},e,{propertySchema:i,format:Pn.b.DisplayFormat.Name,checkState:s===a})),action:()=>{o({updateViewId:e,updateView:{query2:{...n,timeline_by_end:a}}}),W.W(this.environment,{view_type:"timeline",action:"set_timeline_by"})}}}))}:void 0,{key:"startAndEndToggle",render:e=>r.a.createElement(I.a,Object.assign({topBorder:!0},e)),items:[{key:"toggle",render:e=>r.a.createElement(rt.a,Object.assign({title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Use separate start and end dates",id:"database.timelineByMenu.useSeparatePropertiesToggle"}),right:r.a.createElement(Dn.a,{on:Boolean(s),onClick:this.toggleStartAndEnd})},e)),action:this.toggleStartAndEnd}]}]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{type:P.a.Type.Vertical,sections:c,initialFocus:void 0}))}}var Io=Object(X.injectIntl)(xo),Po=n("szb2");const Oo=Object(X.defineMessages)({searchInputPlaceholder:{defaultMessage:"Type to search...",id:"database.actionBar.searchInputPlaceholder"}});class Bo extends b.a{constructor(){super(...arguments),this.storeTypes={store:Sn,searchInputStore:v.a,linkButtonPopupStore:mt.a},this.renderPropertiesMenuOverlay=()=>{const{disabled:e,currentViewId:t,currentViewType:n,currentViewFormat:o,currentViewQuery:a,collectionValue:i,onChange:s}=this.props;return r.a.createElement(c.b,{type:c.a.Y,style:{height:"100%"}},r.a.createElement(Gn,{collectionValue:i,collectionViewName:this.props.currentViewName,isFullScreen:this.props.isFullScreen,isRootChild:this.props.isRootChild,canEditCollection:this.canEditCollection(),disabled:e,viewType:n,format:o,query:a,schema:g.e(i.schema),onDismiss:this.props.onClosePropertiesMenu,onChange:e=>{const n={};e.newFormat&&(n.updateViewId=t,n.updateView={format:e.newFormat}),e.newSchema&&(n.newSchema=e.newSchema),e.otherCollectionId&&(n.otherCollectionId=e.otherCollectionId),e.otherCollectionSchema&&(n.otherCollectionSchema=e.otherCollectionSchema),e.resetLimit&&(n.resetLimit=!0),s(n)}}))},this.renderFilterMenuOverlay=()=>r.a.createElement(So,{combinatorFilter:this.props.currentViewQuery.filter||eo.g,schema:this.props.schema,onChange:this.handleFilterChange,onCancel:this.handleCloseFilterMenuOverlay,parentStore:this.props.collectionStore,collectionViewType:this.props.currentViewType,collectionViewId:this.props.currentViewId,collectionViewName:this.props.currentViewName}),this.renderSortMenuOverlay=()=>{const{currentViewQuery:e}=this.props;return r.a.createElement(ho,{sorts:e.sort||[],schema:this.props.schema,onChange:this.handleSortChange,onCancel:this.handleCloseSortMenuOverlay,parentStore:this.props.collectionStore,collectionViewType:this.props.currentViewType,collectionViewName:this.props.currentViewName})},this.renderAddItemMenuOverlay=()=>Zn.a.state.online?r.a.createElement($n.a,{isOverlay:!0,collectionStore:this.props.collectionStore,onEmptyPageClick:this.props.onTemplateEmptyPageClick,onTemplateClick:this.props.onTemplateClick,onCancelClick:this.props.onTemplateCancelClick,locked:this.props.locked}):r.a.createElement("div",{style:{fontSize:14,color:this.theme.mediumTextColor,width:280,padding:8}},r.a.createElement(X.FormattedMessage,{defaultMessage:"Please go online to use a template.",id:"database.actionBar.offlineTemplatePicker.message"})),this.renderNoDateMenuOverlay=()=>{const{collectionStore:e,currentViewId:t,onCloseNoDateMenu:n,onNoDateAddPage:o,currentViewType:a,currentViewName:i,noDateTotal:s}=this.props,l=this.getNoDateProperty();if(l&&("calendar"===a||"timeline"===a)&&void 0!==s)return r.a.createElement(To,{collectionStore:e,collectionViewId:t,property:l,onClose:n,onAddPage:o,collectionViewType:a,collectionViewName:i,noDateTotal:s})},this.handleSearchQueryChange=e=>{const{onChange:t}=this.props;t({searchQuery:e.target.value}),W.O(this.environment,{view_type:this.props.currentViewType})},this.handleSearchButtonClick=()=>{const{onChange:e,onOpenSearch:t}=this.props;e({searchQuery:""}),this.stores.searchInputStore.setState({...this.stores.searchInputStore.state,focus:!0}),t(),W.L(this.environment,{view_type:this.props.currentViewType,item:"search"})},this.handleSearchBlur=()=>{const{searchQuery:e,onChange:t,onCloseSearch:n}=this.props;e?this.stores.searchInputStore.setState({...this.stores.searchInputStore.state,focus:!1}):(this.stores.searchInputStore.setState({...this.stores.searchInputStore.state,focus:!1}),t({searchQuery:""}),n())},this.handleSearchInputClick=e=>{Object(We.d)({event:e,context:We.a.EditorClick,callback:()=>{this.stores.searchInputStore.setState({...this.stores.searchInputStore.state,focus:!0})}})},this.handleClearSearchClick=()=>{const{onChange:e,onCloseSearch:t}=this.props;this.stores.searchInputStore.setState({...this.stores.searchInputStore.state,focus:!1}),e({searchQuery:""}),t()},this.handleSearchKeyDown=e=>{if(27===e.keyCode){const{onChange:e,onCloseSearch:t}=this.props;this.stores.searchInputStore.setState({...this.stores.searchInputStore.state,focus:!1}),e({searchQuery:void 0}),t()}},this.handleActionMenuButtonClick=e=>{se.c({environment:this.environment,stores:[this.props.collectionViewBlockStore],actions:this.props.isFullScreen?this.props.locked?ce.j:ce.f:this.props.locked?ce.k:ce.g,left:e.clientX,top:e.clientY,showInput:!1,analyticsFrom:"collection_view_more_menu"}),Ze.f(this.environment),W.L(this.environment,{view_type:this.props.currentViewType,item:"actions"})},this.handlePropertiesMenuButtonClick=()=>{this.props.onOpenPropertiesMenu(),W.L(this.environment,{view_type:this.props.currentViewType,item:"properties"})},this.handlePropertiesMenuOverlayBgClick=()=>{this.props.onClosePropertiesMenu()},this.handleFilterMenuButtonClick=()=>{this.props.onOpenFilterMenu(),W.L(this.environment,{view_type:this.props.currentViewType,item:"filter"})},this.handleCloseFilterMenuOverlay=()=>{this.props.onCloseFilterMenu()},this.handleSortMenuButtonClick=()=>{this.props.onOpenSortMenu(),W.L(this.environment,{view_type:this.props.currentViewType,item:"sort"})},this.handleCloseSortMenuOverlay=()=>{this.props.onCloseSortMenu()},this.handleGroupMenuButtonClick=()=>{this.props.onOpenGroupMenu(),W.L(this.environment,{view_type:this.props.currentViewType,item:"group"})},this.handleGroupMenuOverlayBgClick=()=>{this.props.onCloseGroupMenu()},this.handleCalendarByMenuButtonClick=()=>{this.props.onOpenCalendarByMenu(),W.L(this.environment,{view_type:this.props.currentViewType,item:"calendar_by"})},this.handleTimelineByMenuButtonClick=()=>{this.props.onOpenTimelineByMenu(),W.L(this.environment,{view_type:this.props.currentViewType,item:"timeline_by"})},this.handleCalendarByMenuOverlayBgClick=()=>{this.props.onCloseCalendarByMenu()},this.handleTimelineByMenuOverlayBgClick=()=>{this.props.onCloseTimelineByMenu()},this.handlenoDateMenuOverlayBgClick=()=>{this.props.onCloseNoDateMenu()},this.handleAddItemMenuOverlayBgClick=()=>{this.props.onCloseAddItemMenu()},this.handlenoDateMenuButtonClick=()=>{this.props.onOpenNoDateMenu(),W.L(this.environment,{view_type:this.props.currentViewType,item:"calendar_no_date"})},this.handleFilterChange=e=>{const{currentViewId:t,onChange:n,currentViewQuery:o}=this.props;n({updateViewId:t,updateView:{query2:{...o,filter:e}}})},this.handleSortChange=e=>{const{currentViewId:t,onChange:n,currentViewQuery:o}=this.props;n({updateViewId:t,updateView:{query2:{...o,sort:e}}})},this.handleFilterMenuAnimationEnd=()=>{this.stores.store.setState({...this.stores.store.state,filterMenuAnimatingOut:!1})},this.handleSortMenuAnimationEnd=()=>{this.stores.store.setState({...this.stores.store.state,sortMenuAnimatingOut:!1})},this.handleGroupMenuAnimationEnd=()=>{this.stores.store.setState({...this.stores.store.state,groupMenuAnimatingOut:!1})},this.handlePropertiesMenuAnimationEnd=()=>{this.stores.store.setState({...this.stores.store.state,propertiesMenuAnimatingOut:!1})},this.handleCalendarByMenuAnimationEnd=()=>{this.stores.store.setState({...this.stores.store.state,calendarByMenuAnimatingOut:!1})},this.handleTimelineByMenuAnimationEnd=()=>{this.stores.store.setState({...this.stores.store.state,timelineByMenuAnimatingOut:!1})},this.handlenoDateMenuAnimationEnd=()=>{this.stores.store.setState({...this.stores.store.state,noDateMenuAnimatingOut:!1})},this.handleAddItemMenuAnimationEnd=()=>{this.stores.store.setState({...this.stores.store.state,addItemMenuAnimatingOut:!1})},this.handleOpenAsPageClick=()=>{W.Qc(this.environment,{view_type:this.props.currentViewType})},this.isOnline=this.createComputedStore(()=>Zn.a.state.online)}willMountOrUpdate(e){super.willMountOrUpdate(e),!e.filterMenuOpen&&this.props.filterMenuOpen&&this.stores.store.setState({...this.stores.store.state,filterMenuAnimatingOut:!0}),!e.sortMenuOpen&&this.props.sortMenuOpen&&this.stores.store.setState({...this.stores.store.state,sortMenuAnimatingOut:!0}),!e.groupMenuOpen&&this.props.groupMenuOpen&&this.stores.store.setState({...this.stores.store.state,groupMenuAnimatingOut:!0}),!e.propertiesMenuOpen&&this.props.propertiesMenuOpen&&this.stores.store.setState({...this.stores.store.state,propertiesMenuAnimatingOut:!0}),!e.calendarByMenuOpen&&this.props.calendarByMenuOpen&&this.stores.store.setState({...this.stores.store.state,calendarByMenuAnimatingOut:!0}),!e.timelineByMenuOpen&&this.props.timelineByMenuOpen&&this.stores.store.setState({...this.stores.store.state,timelineByMenuAnimatingOut:!0}),!e.noDateMenuOpen&&this.props.noDateMenuOpen&&this.stores.store.setState({...this.stores.store.state,noDateMenuAnimatingOut:!0}),!e.addItemMenuOpen&&this.props.addItemMenuOpen&&this.stores.store.setState({...this.stores.store.state,addItemMenuAnimatingOut:!0})}renderComponent(){const{device:e}=this.environment,{isFullScreen:t,disabled:n}=this.props,o=this.canEditCollection();return r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:"auto"},onMouseDown:We.c},this.shouldShowPropertiesMenu()&&this.renderPropertiesMenu(),this.shouldShowCalendarByMenu()&&this.renderCalendarByMenu(),this.shouldShowTimelineByMenu()&&this.renderTimelineByMenu(),this.shouldShowNoDateMenu()&&this.renderNoDateMenuButton(),this.shouldShowGroupMenu()&&this.renderGroupMenu(),this.shouldShowFilterMenu()&&this.renderFilterMenu(),this.shouldShowSortMenu()&&this.renderSortMenu(),!e.isMobile&&this.renderSearch(),!t&&this.renderFullScreenButton(),this.shouldShowActionMenuButton()&&this.renderActionMenuButton(),!n&&o&&this.renderAddItemButton())}renderPropertiesMenu(){const{device:e}=this.environment,{propertiesMenuOpen:t}=this.props;return r.a.createElement(st.c,{popupType:e.isMobile?st.c.PopupType.SlideUp:st.c.PopupType.Popup,open:t,origin:r.a.createElement(G.a,{isSmall:!0,isGray:!0,onClick:this.handlePropertiesMenuButtonClick},r.a.createElement(X.FormattedMessage,{defaultMessage:"Properties",id:"database.actionBar.propertiesButtonTitle"})),originGap:8,render:this.renderPropertiesMenuOverlay,onDismiss:this.handlePropertiesMenuOverlayBgClick,onAnimationEnd:this.handlePropertiesMenuAnimationEnd})}renderFilterMenu(){const{device:e}=this.environment,{filterMenuOpen:t,currentViewQuery:n}=this.props,o=n.filter,a=(o&&o.filters||[]).length,i=this.renderFilterMenuOverlay;return r.a.createElement(st.c,{popupType:e.isMobile?st.c.PopupType.SlideUp:st.c.PopupType.Popup,open:t,origin:r.a.createElement(G.a,{isSmall:!0,isGray:!Boolean(a),isBlue:Boolean(a),style:{marginLeft:4},onClick:this.handleFilterMenuButtonClick},r.a.createElement(X.FormattedMessage,{defaultMessage:"Filter",id:"database.actionBar.filterButtonTitle"})),originGap:8,render:i,onDismiss:this.handleCloseFilterMenuOverlay,onAnimationEnd:this.handleFilterMenuAnimationEnd})}renderSortMenu(){const{device:e}=this.environment,{sortMenuOpen:t,currentViewQuery:n}=this.props,o=(n.sort||[]).length;return r.a.createElement(st.c,{popupType:e.isMobile?st.c.PopupType.SlideUp:st.c.PopupType.Popup,open:t,origin:r.a.createElement(G.a,{isSmall:!0,isGray:!Boolean(o),isBlue:Boolean(o),style:{marginLeft:4},onClick:this.handleSortMenuButtonClick},r.a.createElement(X.FormattedMessage,{defaultMessage:"Sort",id:"database.actionBar.sortButtonTitle"})),originGap:8,render:this.renderSortMenuOverlay,onDismiss:this.handleCloseSortMenuOverlay,style:{minWidth:250},onAnimationEnd:this.handleSortMenuAnimationEnd})}renderSearch(){const{searchQuery:e,searchOpen:t}=this.props,{focus:n}=this.stores.searchInputStore.state,o=this.isOnline.state;return t&&o?r.a.createElement(Xt.a,{isVisible:!0,animationStyle:{width:150},enterAnimationStyle:{width:24},exitAnimationStyle:{width:24},render:()=>r.a.createElement(w.a,{capture:n,allowEsc:!0,render:t=>r.a.createElement("div",Object.assign({},t),r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:8}},r.a.createElement("div",{style:{marginRight:4}},T.a.collectionSearch(this.getIconStyle())),r.a.createElement(S.b,{style:this.getSearchInputStyle(),format:S.b.Format.Transparent,value:e,onChange:this.handleSearchQueryChange,placeholder:this.props.intl.formatMessage(Oo.searchInputPlaceholder),focus:n,showClearButton:!0,onBlur:this.handleSearchBlur,onCancel:this.handleSearchBlur,onClick:this.handleSearchInputClick,onClearButtonClick:this.handleClearSearchClick,onKeyDown:this.handleSearchKeyDown})))})}):r.a.createElement(x.a,{renderTooltip:()=>r.a.createElement(X.FormattedMessage,{defaultMessage:"Please go online to search.",id:"database.actionBar.searchButtonTooltip"}),disableTooltip:o,render:e=>r.a.createElement(G.a,Object.assign({isSmall:!0,isGray:!0,icon:T.a.collectionSearch,style:{marginLeft:4},disabled:!o,onClick:this.handleSearchButtonClick},e),r.a.createElement(X.FormattedMessage,{defaultMessage:"Search",id:"database.actionBar.searchButtonTitle"}))})}renderAddItemButton(){const{device:e}=this.environment,{onAddItem:t,onOpenAddItemMenu:n,addItemMenuOpen:o}=this.props;return r.a.createElement(st.c,{popupType:e.isMobile?st.c.PopupType.SlideUp:st.c.PopupType.Popup,open:o,origin:r.a.createElement(Qn,{onAddItem:t,onOpenAddItemMenu:n}),originGap:8,render:this.renderAddItemMenuOverlay,onDismiss:this.handleAddItemMenuOverlayBgClick,onAnimationEnd:this.handleAddItemMenuAnimationEnd,disableMouseCapture:Po.c.state.open&&!this.isInsidePeekView()})}renderFullScreenButton(){const{collectionViewBlockStore:e}=this.props,t=Object(ne.a)({store:e,fullyQualified:!1});return r.a.createElement(x.a,{renderTooltip:()=>r.a.createElement(X.FormattedMessage,{defaultMessage:"Open as page",id:"database.actionBar.openFullscreenPageButton.tooltip"}),render:e=>r.a.createElement(Kn.a,Object.assign({href:t,onClick:this.handleOpenAsPageClick,style:{marginLeft:4}},e),r.a.createElement(yt.a,{icon:T.a.openAsPageThick}))})}renderActionMenuButton(){return r.a.createElement(yt.a,{onClick:this.handleActionMenuButtonClick,icon:T.a.dots,style:{marginLeft:4}})}renderNoDateMenuButton(){const{device:e}=this.environment,{noDateMenuOpen:t,collectionValue:n,noDateTotal:o}=this.props,a=this.getNoDateProperty();if(a)return g.e(n.schema)[a]?r.a.createElement(st.c,{popupType:e.isMobile?st.c.PopupType.SlideUp:st.c.PopupType.Popup,open:t,origin:r.a.createElement(x.a,{renderTooltip:()=>r.a.createElement(X.FormattedMessage,{defaultMessage:"Show pages without a date",id:"database.actionBar.noDate.tooltip"}),render:e=>r.a.createElement(G.a,Object.assign({isSmall:!0,isGray:!0,onClick:this.handlenoDateMenuButtonClick},e),r.a.createElement("span",null,r.a.createElement(X.FormattedMessage,{defaultMessage:"No date ({noDateTotal})",id:"database.actionBar.noDateButton.noProperty.label",values:{noDateTotal:o}})))}),originGap:8,render:this.renderNoDateMenuOverlay,onDismiss:this.handlenoDateMenuOverlayBgClick,onAnimationEnd:this.handlenoDateMenuAnimationEnd}):void 0}renderGroupMenu(){const{currentViewQuery:e,collectionValue:t,onChange:n,currentViewId:o,currentViewType:a}=this.props,i=g.e(t.schema),s=Object.keys(i).filter(e=>{const t=i[e];return t&&Object(j.h)(t)}),l=r.a.createElement(X.FormattedMessage,{defaultMessage:"Group by",id:"database.actionBar.groupByButton.label"});return this.renderPropertyByMenu({open:this.props.groupMenuOpen,label:l,overlayMenuLabel:l,currentProperty:e.group_by,validProperties:s,onClick:this.handleGroupMenuButtonClick,onClose:this.handleGroupMenuOverlayBgClick,onAnimationEnd:this.handleGroupMenuAnimationEnd,onAccept:t=>{n({updateViewId:o,updateView:{query2:{...e,group_by:t}}}),W.W(this.environment,{view_type:a,action:"set_group_by"}),this.handleGroupMenuOverlayBgClick()}})}renderCalendarByMenu(){const{currentViewQuery:e,collectionValue:t,onChange:n,currentViewId:o,currentViewType:a}=this.props,i=g.e(t.schema),s=Object.keys(i).filter(e=>{const t=i[e];return t&&g.i(t)});return this.renderPropertyByMenu({open:this.props.calendarByMenuOpen,label:r.a.createElement(X.FormattedMessage,{defaultMessage:"By",id:"database.actionBar.calendarByPropertyMenu.button.label",description:"Shown to the user to indicate which database property is used to show events on the calendar, e.g. 'By Date' for a property called Date."}),overlayMenuLabel:r.a.createElement(X.FormattedMessage,{defaultMessage:"Calendar by",id:"database.actionBar.mobileCalendarByPropertyMenu.title"}),currentProperty:e.calendar_by,validProperties:s,onClick:this.handleCalendarByMenuButtonClick,onClose:this.handleCalendarByMenuOverlayBgClick,onAnimationEnd:this.handleCalendarByMenuAnimationEnd,onAccept:t=>{n({updateViewId:o,updateView:{query2:{...e,calendar_by:t}}}),W.W(this.environment,{view_type:a,action:"set_calendar_by"}),this.handleCalendarByMenuOverlayBgClick()}})}renderTimelineByMenu(){const{currentViewQuery:e,collectionValue:t,onChange:n,currentViewId:o,disabled:a,timelineByMenuOpen:i}=this.props,{device:s}=this.environment,l=g.e(t.schema);let c,d;if(e.timeline_by){const t=l[e.timeline_by];t&&(c=t.name)}if(e.timeline_by_end){const t=l[e.timeline_by_end];t&&(d=t.name)}return r.a.createElement(st.c,{popupType:s.isMobile?st.c.PopupType.SlideUp:st.c.PopupType.Popup,open:i,origin:r.a.createElement(G.a,{isSmall:!0,isGray:!0,style:{marginLeft:4},onClick:this.handleTimelineByMenuButtonClick},r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement(X.FormattedMessage,{defaultMessage:"By",id:"database.actionBar.timelineByPropertyMenu.button.label",description:"Shown to the user to indicate which database property is used to show events on the timeline, e.g. 'By Date' for a property called Date."})),r.a.createElement("span",{style:{color:this.theme.regularTextColor,marginLeft:4}},c&&d&&c!==d?"".concat(c,", ").concat(d):c))),originGap:8,render:()=>r.a.createElement(Io,{currentViewId:o,disabled:a,schema:l,query:e,onChange:n,onDismiss:this.handleTimelineByMenuOverlayBgClick}),onDismiss:this.handleTimelineByMenuOverlayBgClick,onAnimationEnd:this.handleTimelineByMenuAnimationEnd})}renderPropertyByMenu(e){const{open:t,currentProperty:n,validProperties:o,label:a,overlayMenuLabel:i,onClick:s,onClose:l,onAnimationEnd:c,onAccept:d}=e,{device:u}=this.environment,{collectionValue:p}=this.props;let h;if(n){const e=g.e(p.schema)[n];e&&(h=e.name)}return r.a.createElement(st.c,{popupType:u.isMobile?st.c.PopupType.SlideUp:st.c.PopupType.Popup,open:t,origin:r.a.createElement(G.a,{isSmall:!0,isGray:!0,style:{marginLeft:4},onClick:s},r.a.createElement("span",null,r.a.createElement("span",null,a," "),r.a.createElement("span",{style:{color:this.theme.regularTextColor}},h||""))),originGap:8,render:()=>this.renderPropertyByOverlay({validProperties:o,currentProperty:n,overlayMenuLabel:i,onClose:l,onAccept:d}),onDismiss:l,onAnimationEnd:c})}renderPropertyByOverlay(e){const{validProperties:t,currentProperty:n,onClose:o,onAccept:a,overlayMenuLabel:i}=e,{device:s}=this.environment,{collectionValue:c}=this.props,d=g.e(c.schema),u=[{key:"section",render:e=>r.a.createElement(I.a,Object.assign({},e)),items:l.a.compact(t.map(e=>{const t=d[e];if(t)return{key:e,render:o=>r.a.createElement(Pn.b,Object.assign({},o,{propertySchema:t,format:Pn.b.DisplayFormat.Name,checkState:n===e})),action:()=>{a(e)}}}))}];return r.a.createElement(w.a,{capture:!0,allowEsc:!0,render:e=>{let a;return a=s.isMobile?{menuType:B.b.MenuType.Modal,title:i,right:r.a.createElement(ut.DoneMenuText,null),onClickRight:o,...e}:{menuType:B.b.MenuType.Popup,...e},r.a.createElement(B.b,Object.assign({},a),r.a.createElement(P.a,{type:P.a.Type.Vertical,sections:u,initialFocus:l.a.findIndex(t,e=>n===e)}))}})}canEditCollection(){const{collectionStore:e}=this.props;return e.canEdit()}shouldShowPropertiesMenu(){const{device:e}=this.environment,{propertiesMenuOpen:t,isFullScreen:n,disabled:o,locked:r}=this.props,{propertiesMenuAnimatingOut:a}=this.stores.store.state;return!o&&!r&&(e.isMobile?t||a:t||a||n)}shouldShowFilterMenu(){const{device:e}=this.environment,{filterMenuOpen:t,currentViewQuery:n,isFullScreen:o,disabled:r,locked:a}=this.props,{filterMenuAnimatingOut:i}=this.stores.store.state,s=n.filter,l=s&&s.filters||[];return!r&&!a&&(e.isMobile?t||i:t||i||o||l.length>0)}shouldShowSortMenu(){const{device:e}=this.environment,{sortMenuOpen:t,currentViewQuery:n,isFullScreen:o,disabled:r,locked:a}=this.props,{sortMenuAnimatingOut:i}=this.stores.store.state,s=n.sort||[];return!r&&!a&&(e.isMobile?t||i:t||i||o||s.length>0)}shouldShowGroupMenu(){const{device:e}=this.environment,{groupMenuOpen:t,currentViewType:n,isFullScreen:o,disabled:r,locked:a}=this.props,{groupMenuAnimatingOut:i}=this.stores.store.state;return!r&&!a&&"board"===n&&(e.isMobile?t||i:t||i||o)}shouldShowCalendarByMenu(){const{device:e}=this.environment,{calendarByMenuOpen:t,currentViewType:n,isFullScreen:o,disabled:r,locked:a,collectionValue:i}=this.props,{calendarByMenuAnimatingOut:s}=this.stores.store.state;if(r||a||"calendar"!==n)return!1;if(e.isMobile)return t||s;{const e=g.e(i.schema),n=Object.keys(e).filter(t=>{const n=e[t];return n&&g.i(n)});return t||s||o&&n.length>1}}shouldShowTimelineByMenu(){const{device:e}=this.environment,{timelineByMenuOpen:t,currentViewType:n,isFullScreen:o,disabled:r,locked:a,collectionValue:i}=this.props,{timelineByMenuAnimatingOut:s}=this.stores.store.state;if(r||a||"timeline"!==n)return!1;if(e.isMobile)return t||s;{const e=g.e(i.schema),n=Object.keys(e).filter(t=>{const n=e[t];return n&&g.i(n)});return t||s||o&&n.length>1}}getNoDateProperty(){const{currentViewType:e,currentViewQuery:t}=this.props;return"calendar"===e?t.calendar_by:t.timeline_by}shouldShowNoDateMenu(){const{device:e}=this.environment,{noDateMenuOpen:t,currentViewType:n,disabled:o,noDateTotal:r,collectionValue:a,currentViewFormat:i}=this.props,{noDateMenuAnimatingOut:s}=this.stores.store.state,l=g.e(a.schema);if(o)return!1;if(t||s)return!0;if("calendar"===n||"timeline"===n){const t=this.getNoDateProperty(),o=t?l[t]:void 0;if(o&&"date"===o.type&&!e.isMobile&&("timeline"!==n||!Object(zn.J)({environment:this.environment,format:i,isFullScreen:this.props.isFullScreen,isRootChild:this.props.isRootChild}))&&void 0!==r&&r>0)return!0}return!1}shouldShowActionMenuButton(){const{isFullScreen:e,disabled:t}=this.props;return!t||!e}isInsidePeekView(){const e=Po.c.state;if(!e.open)return;const t=this.context.selectableContainer;return t?t.props.store===e.target:void 0}getSearchInputStyle(){return{fontSize:14,lineHeight:1,paddingRight:4,color:this.theme.regularTextColor,fontWeight:V.a.fontWeight.medium,marginBottom:1}}getIconStyle(){return{width:14,height:14,fill:this.theme.mediumIconColor}}}Bo.contextTypes={selectableContainer:vn.a.any,...b.b};var Lo=Object(X.injectIntl)(Bo),Ro=n("fbat");class Do extends m.a{constructor(){super(...arguments),this.renderColumn=(e,t,n)=>{const{store:o,onPropertyTab:a,onPropertyUntab:i,onPropertyEnter:s,onPropertyClick:l,onPropertyEsc:c,onPropertyBgClick:d,onOpenProperty:u,schema:p,onPropertyContextMenu:h,disabled:m,blockPropertyValueOverlayStore:f,locked:g,disableHorizontalEdgeScroll:b,disableLastCellBorderRight:v}=this.props,y=t===n.length-1,{width:S,property:w}=e;return r.a.createElement(ee.b,{key:w,store:o,property:w,schema:p,disabled:m||!this.canEditStore.state,locked:g,width:S,format:ee.a.Table,onTab:a,onUntab:i,onEnter:s,onClick:l,onEsc:c,onBgClick:d,onOpenProperty:u,forceMouseEntered:"title"===w&&this.canEditStore.state?this.isShowingHoverMenu.state:void 0,tableWrap:this.tableWrapStore.state,onContextMenu:h,isLast:y,disableTableBorderRight:y&&v,blockPropertyValueOverlayStore:f,disableHorizontalEdgeScroll:b})},this.canEditStore=this.createComputedStore(()=>!this.props.disabled&&this.props.store.canEdit()),this.isShowingHoverMenu=this.createComputedStore(()=>{const{store:e}=this.props,t=Ro.a.state;return Boolean(t.isOpen&&t.currentStore===e)}),this.tableWrapStore=this.createComputedStore(()=>Boolean(!this.props.disableTableWrap&&this.props.collectionViewStore.getFormat().table_wrap))}activate(){const{currentBlockStore:e}=Me.default.state;if(e){const t=Object(ne.a)({store:e,fullyQualified:!1,peekViewBlockId:this.props.store.id});ie.navigate({environment:this.environment,url:t})}}renderPersisted(){const{propertyFormats:e,locked:t,showAddColumnSpacer:n}=this.props;return r.a.createElement(o.Fragment,null,e.map(this.renderColumn),this.canEditStore.state&&!t&&n&&this.renderAddColumn())}renderAddColumn(){return r.a.createElement("div",{style:xr})}}var Ao=Do,jo=n("wweX"),Fo=n("w5u6"),Vo=n("JZPr"),No=n("bjn0"),Uo=n("Kl92"),zo=n("6SEd");const Xo=Object(X.defineMessages)({defaultProperty:{defaultMessage:"Property",id:"database.addNewProperty.tableHeaderCell.namePrefix",description:"When a new property column is added from a table header column cell, the property will be assigned a unique name like 'Property', 'Property 1', or 'Property 2'. This is the prefix for that name."}});class Yo extends b.a{constructor(){super(...arguments),this.handleEditPropertyOpen=()=>{this.props.tableHeaderRowStore.setState({...this.props.tableHeaderRowStore.state,openProperty:this.props.property}),Vo.e()},this.handleEditPropertyClose=()=>{this.props.tableHeaderRowStore.setState({...this.props.tableHeaderRowStore.state,openProperty:void 0})},this.handleEditPropertyButtonPopupChange=e=>{const{collectionStore:t}=this.props;Pe.createAndCommit(this.environment,n=>{u.p({environment:this.environment,collectionStore:t,update:{schema:e.newSchema},transaction:n}),e.otherCollectionId&&e.otherCollectionSchema&&u.p({environment:this.environment,collectionStore:No.a.createChildStore(this.props.collectionStore,{table:zo.a,id:e.otherCollectionId}),update:{schema:e.otherCollectionSchema},transaction:n})})},this.handleHide=()=>{this.updatePropertyFormat({visible:!1}),W.W(this.environment,{view_type:"table",action:"table_hide_column"})},this.handleDuplicate=()=>{const{property:e,format:t,schema:n,collectionStore:o,collectionViewStore:r,formatKey:a}=this.props,i=t[a]||[],s=ye.j({schema:n,property:e,properties:i});s&&Pe.createAndCommit(this.environment,e=>{u.p({environment:this.environment,collectionStore:o,update:{schema:s.newSchema},transaction:e});const n={...t,[a]:s.newProperties};u.q({collectionViewStore:r,update:{format:n},transaction:e})})},this.handleDelete=()=>{L.showDialog({message:r.a.createElement(X.FormattedMessage,{id:"database.tableHeaderCell.deleteProperty.modal.prompt",defaultMessage:"Are you sure you want to delete this property?"}),showCancel:!0,keepFocus:!0,items:[{label:r.a.createElement(X.FormattedMessage,{id:"database.tableHeaderCell.deleteProperty.modal.confirmButton",defaultMessage:"Delete"}),color:"red",onAccept:async()=>{const{property:e,schema:t,collectionStore:n}=this.props,o=n.getValue();if(!o)return;const r=Pe.create(this.environment),a=await ye.i({environment:this.environment,collectionId:o.id,schema:t,property:e});if(!a)return;u.p({environment:this.environment,collectionStore:n,update:{schema:a.newSchema},transaction:r}),a.otherCollectionId&&a.otherCollectionSchema&&u.p({environment:this.environment,collectionStore:No.a.createChildStore(this.props.collectionStore,{table:zo.a,id:a.otherCollectionId}),update:{schema:a.otherCollectionSchema},transaction:r}),Pe.commit({environment:this.environment,transaction:r});const i=t[e];i&&W.tb(this.environment,{property_type:i.type,from:"table"})}}]})},this.handleAddFilter=()=>{const{property:e,collectionViewLocalStore:t,schema:n,collectionViewStore:o}=this.props,r=t.normalizedQueryStore.state;if(!r)return;if(!n[e])return;const a={property:e,filter:Object(Uo.a)({schema:n,property:e,getRecordValue:this.props.collectionViewStore.getRecordValue})},i=r.filter||{operator:"and",filters:[]},s=i.filters||[],l={...i,filters:[...s,a]},c={...r,filter:l};Pe.createAndCommit(this.environment,e=>{u.q({collectionViewStore:o,update:{query2:c},transaction:e})}),t.filterMenuOpen.set(!0),W.W(this.environment,{view_type:"table",action:"add_filter"})},this.handleSortAscending=()=>{this.createSort(!0)},this.handleSortDescending=()=>{this.createSort(!1)},this.handleAddColumnLeft=()=>{Pe.createAndCommit(this.environment,e=>{const{property:t,intl:n,formatKey:o}=this.props;u.d({environment:this.environment,collectionViewLocalStore:this.props.collectionViewLocalStore,formatKey:o,uniqueNamePrefix:n.formatMessage(Xo.defaultProperty),beforeProperty:t,transaction:e}),W.kb(this.environment,{from:"table_column"})})},this.handleAddColumnRight=()=>{Pe.createAndCommit(this.environment,e=>{const{property:t,intl:n,formatKey:o}=this.props;u.d({environment:this.environment,collectionViewLocalStore:this.props.collectionViewLocalStore,formatKey:o,uniqueNamePrefix:n.formatMessage(Xo.defaultProperty),afterProperty:t,transaction:e}),W.kb(this.environment,{from:"table_column"})})},this.handleConfigure=()=>{this.props.onConfigureFirstRow(this.props.property)}}getConfigureOptions(e){const{intl:t}=this.props;return Object(g.l)(e)?{name:t.formatMessage({defaultMessage:"Configure Options",id:"actionSearch.tableHeaderCell.configureOptions",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."}),title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.configureOptions",defaultMessage:"Configure options",description:"Label for button that opens a menu to configure options for the selected 'select' or 'multi select' column in the current table"})}:"rollup"===e.type?{name:t.formatMessage({defaultMessage:"Configure Rollup",id:"actionSearch.tableHeaderCell.configureRollup",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."}),title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.configureRollup",defaultMessage:"Configure rollup",description:"Label for button that opens a menu to configure the selected rollup column in the current table"})}:"date"===e.type?{name:t.formatMessage({defaultMessage:"Format Date",id:"actionSearch.tableHeaderCell.formatDate",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."}),title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.formatDate",defaultMessage:"Format date",description:"Label for button that opens a menu to edit the format of the selected date column in the current table"})}:"formula"===e.type?{name:t.formatMessage({defaultMessage:"Edit Formula",id:"actionSearch.tableHeaderCell.editFormula",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."}),title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.editFormula",defaultMessage:"Edit formula",description:"Label for button that opens a menu to configure the selected formula column in the current table"})}:"number"===e.type?{name:t.formatMessage({defaultMessage:"Format Number",id:"actionSearch.tableHeaderCell.formatNumber",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."}),title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.formatNumber",defaultMessage:"Format number",description:"Label for button that opens a menu to edit the format of the selected number column in the current table"})}:void 0}renderComponent(){const{property:e,schema:t,disabled:n,tableHeaderRowStore:o,collectionStore:a,renderSpacer:i,paddingTop:s,isLast:l}=this.props,c=t[e];if(c)return r.a.createElement("div",{style:{...this.getStyle()},className:Ue.Hb},r.a.createElement(jn.a,{collectionId:a.id,canEditCollection:a.canEdit(),open:o.state.openProperty===e,property:e,schema:t,disabled:n,actions:this.getActions(),onChange:this.handleEditPropertyButtonPopupChange,from:"table",renderOrigin:e=>r.a.createElement(D.a,Object.assign({style:{display:"flex",width:"100%",height:"100%",paddingLeft:8,paddingRight:8,paddingTop:s},disabled:n},e),i&&i(l),r.a.createElement(In.a,{propertySchema:c,showIcon:!0,style:{fontSize:14}})),onOpen:this.handleEditPropertyOpen,onClose:this.handleEditPropertyClose}))}getActions(){const e=[],{property:t,schema:n,allowHidingTitle:o,intl:a}=this.props,i=n[t];if(!i)return[];const s=this.getConfigureOptions(i);s&&e.push({key:s.name,displayName:s.name,analyticsName:s.name,searchName:s.name,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:s.title,svg:T.a.settings})),closeParentMenu:!0,action:this.handleConfigure});const l=a.formatMessage({defaultMessage:"Add Filter",id:"actionSearch.tableHeaderCell.addFilter",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."});e.push({key:"Add Filter",displayName:l,analyticsName:l,searchName:l,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.addFilter",defaultMessage:"Add filter",description:"Label for button that creates a filter for the current table view based on the selected column"}),svg:T.a.filter})),closeParentMenu:!0,action:this.handleAddFilter});const c=a.formatMessage({defaultMessage:"Sort Ascending",id:"actionSearch.tableHeaderCell.sortAscending",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."});e.push({key:"Sort Ascending",displayName:c,analyticsName:c,searchName:c,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.sortAscending",defaultMessage:"Sort ascending",description:"Label for button that sorts the current table's rows by ascending order of the values of the selected column"}),svg:T.a.arrowUp})),closeParentMenu:!0,action:this.handleSortAscending});const d=a.formatMessage({defaultMessage:"Sort Descending",id:"actionSearch.tableHeaderCell.sortDescending",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."});e.push({key:"Sort Descending",displayName:d,analyticsName:d,searchName:d,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.sortDescending",defaultMessage:"Sort descending",description:"Label for button that sorts the current table's rows by descending order of the values of the selected column"}),svg:T.a.arrowDown})),closeParentMenu:!0,action:this.handleSortDescending});const u=a.formatMessage({defaultMessage:"Insert Left",id:"actionSearch.tableHeaderCell.insertLeft",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."});e.push({key:"Insert Left",displayName:u,analyticsName:u,searchName:u,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.insertLeft",defaultMessage:"Insert left",description:"Label for button that inserts a new table column to the left of the selected column"}),svg:T.a.arrowLeft})),closeParentMenu:!0,action:this.handleAddColumnLeft});const p=a.formatMessage({defaultMessage:"Insert Right",id:"actionSearch.tableHeaderCell.insertRight",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."});if(e.push({key:"Insert Right",displayName:p,analyticsName:p,searchName:p,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.insertRight",defaultMessage:"Insert right",description:"Label for button that inserts a new table column to the right of the selected column"}),svg:T.a.arrowRight})),closeParentMenu:!0,action:this.handleAddColumnRight}),o||"title"!==i.type){const t=a.formatMessage({defaultMessage:"Hide",id:"actionSearch.tableHeaderCell.hide",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."});e.push({key:"hide",displayName:t,analyticsName:t,searchName:t,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.hide",defaultMessage:"Hide",description:"Label for button that hides the selected column in the current table view"}),svg:T.a.collectionHide})),closeParentMenu:!0,action:this.handleHide})}if($e.o.includes(i.type)&&"relation"!==i.type){const t=a.formatMessage({defaultMessage:"Duplicate",id:"actionSearch.tableHeaderCell.duplicate",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."});e.push({key:"Duplicate",displayName:t,analyticsName:t,searchName:t,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.duplicate",defaultMessage:"Duplicate",description:"Label for button that duplicates the selected column in the current table view"}),svg:T.a.duplicate})),closeParentMenu:!0,action:this.handleDuplicate})}if($e.o.includes(i.type)){const t=a.formatMessage({defaultMessage:"Delete",id:"actionSearch.tableHeaderCell.delete",description:"Keywords used when filtering menus via fuzzy search. These words should be translated separately, as individual words, and not a phrase. They are not shown to the user."});e.push({key:"Delete",displayName:t,analyticsName:t,searchName:t,render:e=>r.a.createElement(ft.a,Object.assign({},e,{title:r.a.createElement(X.FormattedMessage,{id:"action.tableHeaderCell.delete",defaultMessage:"Delete",description:"Label for button that deletes the selected column in the current table view"}),svg:T.a.trash})),closeParentMenu:!0,action:this.handleDelete})}return e}createSort(e){const{property:t,collectionViewLocalStore:n,schema:o,query:r,collectionViewStore:a}=this.props;if(!o[t])return;const i={property:t,direction:e?"ascending":"descending"},s=[...(r.sort||[]).filter(e=>e.property!==t),i],l={...r,sort:s};Pe.createAndCommit(this.environment,e=>{u.q({collectionViewStore:a,update:{query2:l},transaction:e})}),n.sortMenuOpen.set(!0),W.W(this.environment,{view_type:"table",action:"add_sort"})}updatePropertyFormat(e){const{property:t,collectionViewStore:n,format:o,formatKey:r}=this.props,a=(o[r]||[]).map(n=>n.property===t?{...n,...e}:n),i={...o,[r]:a};Pe.createAndCommit(this.environment,e=>{u.q({collectionViewStore:n,update:{format:i},transaction:e})})}getStyle(){const{disabled:e,isLast:t,width:n,disableLastCellRightBorder:o}=this.props;return{display:"flex",flexShrink:0,overflow:"hidden",fontSize:14,padding:0,width:n,borderRight:o||e&&t?void 0:"1px solid ".concat(this.theme.regularDividerColor)}}}var Ho=Object(X.injectIntl)(Yo),qo=n("iVjn");class Wo extends b.a{constructor(){super(...arguments),this.storeTypes={mouseStore:re.a},this.handleDragStart=e=>{e.preventDefault(),this.resizeStartLeftFormat=this.props.leftFormat,this.stores.mouseStore.setState({...this.stores.mouseStore.state,mousePressed:!0})},this.handleDragMove=e=>{const t=this.getNewFormat(e);t&&this.props.onTemporaryResize(t)},this.handleDragEnd=e=>{const t=this.getNewFormat(e);t&&this.props.onAccept(t),this.stores.mouseStore.setState({...this.stores.mouseStore.state,mousePressed:!1})},this.handleDragCancel=()=>{this.props.onCancel(),this.resizeStartLeftFormat=void 0,this.stores.mouseStore.setState({...this.stores.mouseStore.state,mousePressed:!1})}}renderComponent(){const{device:e}=this.environment,{mouseEntered:t,mousePressed:n}=this.stores.mouseStore.state,o=(n||t)&&!e.isPhone;return r.a.createElement("div",{style:Wo.style,onMouseMove:()=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0}),onMouseLeave:()=>this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},r.a.createElement(qo.a,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>r.a.createElement("div",Object.assign({style:o?this.getInnerActiveStyle():this.getInnerStyle()},e))}))}getInnerStyle(){return{width:5,marginLeft:-3,marginTop:-1,height:this.props.height,transition:"background 200ms ease-out",background:Z.g.blueWithAlpha(0),cursor:"col-resize"}}getInnerActiveStyle(){return{...this.getInnerStyle(),background:Z.g.blueWithAlpha(.8)}}getNewFormat(e){if(this.resizeStartLeftFormat&&this.resizeStartLeftFormat.width){const t=Math.max(this.resizeStartLeftFormat.width+e.diffX,$.m);return{...this.resizeStartLeftFormat,width:t}}}}Wo.style={position:"absolute",right:0,width:0,flexGrow:0,zIndex:1};var Go,Zo=Wo;!function(e){e[e.Regular=0]="Regular",e[e.Fixed=1]="Fixed",e[e.Sticky=2]="Sticky"}(Go||(Go={}));class Ko extends Ct.a{getInitialState(){return{topPosition:Go.Regular,bottomPosition:Go.Regular,offsetTop:0,offsetBottom:0}}}var Jo=Ko,Qo=n("ouJW");class $o extends Ct.a{getInitialState(){return{}}}var er=$o;class tr extends b.a{constructor(){super(...arguments),this.headerRowEl=null,this.storeTypes={tableHeaderRowStore:er},this.renderHeaderRowCells=(e,t,n)=>{const{device:o}=this.environment,{store:a,collectionViewLocalStore:i,schema:s,query:l,collectionStore:c,collectionViewStore:d,disabled:u,formatKey:p,disableLastCellRightBorder:h,renderSpacer:m,allowHidingTitle:f,paddingTop:g}=this.props,{tableHeaderRowStore:b}=this.stores,v=this.getCurrentFormat(),y=this.props.showPropertyFormatsStore.state[t],S=t===n.length-1;return r.a.createElement("div",{key:e,style:this.getHeaderCellWrapStyle()},y&&y.width&&r.a.createElement(Ho,{format:v,schema:s,query:l,property:e,width:y.width,collectionViewBlockStore:a,collectionStore:c,collectionViewStore:d,collectionViewLocalStore:i,disabled:u,onConfigureFirstRow:this.handleConfigureFirstRow,tableHeaderRowStore:b,formatKey:p,isLast:S,disableLastCellRightBorder:h,allowHidingTitle:f,renderSpacer:m,paddingTop:g}),!u&&!o.isPhone&&r.a.createElement(Zo,{leftFormat:y,onTemporaryResize:this.handleTemporaryColumnResize,onAccept:this.handleColumnResizeAccept,onCancel:this.handleTemporaryColumnResizeCancel,height:this.props.height}))},this.handleColumnReorder=e=>{const{collectionViewLocalStore:t,formatKey:n}=this.props,o=t.collectionViewStore.get();if(!o)return;const r={...this.getCurrentFormat(),[n]:l.a.sortBy(this.getProperties(),t=>{const n=e.indexOf(t.property);return n>=0?n:1/0})};Pe.createAndCommit(this.environment,e=>{u.q({collectionViewStore:o,update:{format:r},transaction:e})}),W.W(this.environment,{view_type:"table",action:"table_reorder_columns"})},this.handleTemporaryColumnResize=e=>{this.props.tableStore.setState({...this.props.tableStore.state,temporaryFormat:this.getNewResizeFormat(e)})},this.handleColumnResizeAccept=e=>{const{collectionViewLocalStore:t,formatKey:n}=this.props,o=t.collectionViewStore.get();if(!o)return;const r={...this.getCurrentFormat(),[n]:this.getProperties().map(t=>t.property===e.property?e:t)};Pe.createAndCommit(this.environment,e=>{u.q({collectionViewStore:o,update:{format:r},transaction:e})}),this.props.tableStore.setState({...this.props.tableStore.state,temporaryFormat:void 0}),W.W(this.environment,{view_type:"table",action:"table_resize_columns"})},this.handleTemporaryColumnResizeCancel=()=>{this.props.tableStore.setState({...this.props.tableStore.state,temporaryFormat:void 0})},this.handleAddColumnClick=()=>{const{intl:e}=this.props;Ze.f(this.environment),le.e(this.environment),Vo.e(),Pe.createAndCommit(this.environment,t=>{const n=u.d({environment:this.environment,collectionViewLocalStore:this.props.collectionViewLocalStore,formatKey:"table_properties",uniqueNamePrefix:e.formatMessage({defaultMessage:"Column",id:"database.addNewProperty.tableProperty.namePrefix",description:"When a new property is added in a database from a table view, the property will be assigned a unique name like 'Column', 'Column 1', or 'Column 2'. This is the prefix for that name."}),transaction:t});W.kb(this.environment,{from:"table"}),this.stores.tableHeaderRowStore.setState({...this.props.tableStore.state,openProperty:n})})},this.captureEditorMouseDown=e=>{Object(We.d)({event:e,context:We.a.EditorMouseDown,callback:()=>{}})},this.handleHeaderRowMount=e=>{this.headerRowEl=e},this.handleScrollStoreChange=()=>{const{collectionViewScrollStore:e}=this.props,{topPosition:t,offsetTop:n}=e.state,{headerRowEl:o}=this;o&&(t===Go.Regular||this.props.isInPeekRenderer?(o.style.transform="",o.style.bottom=""):t===Go.Fixed&&(o.style.transform="translate3d(0, ".concat(n,"px, 0)"),o.style.bottom=""))},this.handleConfigureFirstRow=e=>{const{schema:t,collectionViewLocalStore:n,currentRowsStore:o,disabled:r}=this.props,a=n.collectionStore.get(),i=t[e];if(!i||!a)return;const s=o.state;let l=s[0];l||Pe.createAndCommit(this.environment,e=>{const{newStore:t}=Ve.b({environment:this.environment,parentStore:a,collectionViewLocalStore:n,group:void 0,results:s,insertAtStart:!0,coerce:!0,transaction:e});l=t}),r||Fo.default.afterNextFlush(()=>{if("number"===i.type){const t=Qo.a.findBlockPropertyValue(l,e);t&&t.openNumberFormat()}else jo.h({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,store:l,property:e,format:ee.a.Table});Vo.e()})}}willMount(e){super.willMount(e),e.collectionViewScrollStore.addListener(this.handleScrollStoreChange)}willUnmount(){super.willUnmount(),this.props.collectionViewScrollStore.removeListener(this.handleScrollStoreChange)}didMount(){super.didMount(),this.handleScrollStoreChange()}renderComponent(){const{disabled:e,showAddColumn:t,disableHorizontalEdgeScroll:n}=this.props,o=this.props.showPropertyFormatsStore.state.map(e=>e.property);return r.a.createElement("div",{style:this.getHeaderRowStyle(),ref:this.handleHeaderRowMount},e?r.a.createElement("div",{style:f.b.horizontalStyle},o.map(this.renderHeaderRowCells)):r.a.createElement(f.b,{direction:f.a.Horizontal,keys:o,renderKey:this.renderHeaderRowCells,onDrop:this.handleColumnReorder,isFullWidth:!1,disableHorizontalEdgeScroll:n}),!e&&t&&this.renderAddColumnButton(),this.props.children)}renderAddColumnButton(){return r.a.createElement(D.a,{style:tr.addColumnStyle,onMouseDown:this.captureEditorMouseDown,onClick:this.handleAddColumnClick,className:Ue.Fb},r.a.createElement("div",{style:tr.addColumnIconWrapStyle},T.a.plus({width:12,fill:this.theme.mediumIconColor})))}getCurrentFormat(){const{format:e}=this.props,{temporaryFormat:t}=this.props.tableStore.state;return t||e}getNewResizeFormat(e){const{formatKey:t}=this.props;return{...this.getCurrentFormat(),[t]:this.getProperties().map(t=>t.property===e.property?e:t)}}getProperties(){const{formatKey:e}=this.props;return this.getCurrentFormat()[e]||[]}getHeaderCellWrapStyle(){return{display:"flex",position:"relative"}}getHeaderRowStyle(){return{display:"flex",position:"absolute",background:this.theme.contentBackground,zIndex:Vt.d,height:this.props.height-1,color:this.theme.mediumTextColor,borderTop:"1px solid ".concat(this.theme.tableDividerColor),boxShadow:"\n\t\t\t\t-3px 0 0 ".concat(this.theme.contentBackground,",\n\t\t\t\t0 1px 0 ").concat(this.theme.tableDividerColor,"\n\t\t\t"),minWidth:this.props.minWidth}}}tr.addColumnIconWrapStyle={display:"flex",width:32,height:"100%",alignItems:"center",justifyContent:"center"},tr.addColumnStyle={display:"flex",justifyContent:"flex-start",flexGrow:1,width:32};var nr=Object(X.injectIntl)(tr),or=n("Ijt+");class rr extends b.a{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:mt.a},this.handleClosePopup=()=>{this.stores.buttonPopupStore.setState({...this.stores.buttonPopupStore.state,open:!1})},this.handlePropertyAggregationMenuChange=e=>{const{property:t,aggregationData:n,onChange:o}=this.props,r=n?n.index:void 0;e?(o(r,{aggregator:e,property:t}),W.W(this.environment,{view_type:"table",action:"table_change_aggregation"})):(o(r,void 0),W.W(this.environment,{view_type:"table",action:"table_remove_aggregation"}))}}renderComponent(){const{device:e}=this.environment,{disabled:t,property:n,schema:o}=this.props,{buttonPopupStore:a}=this.stores;return r.a.createElement(it.a,{popupType:e.isMobile?it.a.PopupType.SlideUp:it.a.PopupType.Popup,buttonPopupStore:a,disabled:t,renderOrigin:e=>r.a.createElement(D.a,Object.assign({disabled:t,style:rr.buttonStyle},e),this.renderButtonContent()),render:()=>r.a.createElement(or.a,{property:n,schema:o,onChange:this.handlePropertyAggregationMenuChange,onClose:this.handleClosePopup,source:"tableAggregation"})})}renderButtonContent(){const{device:e}=this.environment,{buttonPopupStore:t}=this.stores,{aggregationData:n,schema:o,property:a,isHovered:i,disabled:s}=this.props,l=e.isMobile;if(n){const{aggregation:e,aggregationResult:t}=n,i=dt.d[e.aggregator],s=o[a];let l;!s||"formula"!==s.type&&"number"!==s.type||(l=s.number_format);const c=Object(dt.e)({numberFormat:l,aggregationType:e.aggregator,value:t,userTimeZone:de.m,roundDecimal:5});return[r.a.createElement("span",{key:"type",style:this.getAggregationTypeNameStyle()},i),r.a.createElement("span",{key:"value",style:rr.valueStyle},c)]}if(!s&&(l||i||t.state.open))return r.a.createElement(Xt.a,{isVisible:!0,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:()=>r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("span",{key:"placeholder",style:this.getPlaceholderStyle()},r.a.createElement(X.FormattedMessage,{defaultMessage:"Calculate",id:"database.tableView.aggregationPlaceholder"})),T.a.chevronDown({width:10,marginLeft:4,fill:this.theme.lightIconColor}))})}getAggregationTypeNameStyle(){return{fontSize:10,textTransform:"uppercase",letterSpacing:1,color:this.theme.mediumTextColor,marginTop:2,marginRight:4,userSelect:"none",WebkitUserSelect:"none"}}getPlaceholderStyle(){return{marginBottom:2,color:this.theme.lightTextColor}}}rr.buttonStyle={display:"flex",alignItems:"center",justifyContent:"flex-end",width:"100%",height:32,paddingRight:8,overflow:"hidden",whiteSpace:"nowrap",userSelect:"auto",WebkitUserSelect:"auto"},rr.valueStyle={display:"flex",alignItems:"center",height:"100%",fontSize:14};var ar=rr;class ir extends b.a{renderComponent(){const e=this.props.collectionViewLocalStore.isLoading.get();return r.a.createElement(jt.a,{show:e,showDelay:500,showHold:200,render:e=>e?r.a.createElement("div",{style:ir.loadingSpinnerWrapStyle},r.a.createElement(Tt.a,{style:ir.loadingSpinnerStyle})):void 0})}}ir.loadingSpinnerWrapStyle={display:"flex",alignItems:"center",flexDirection:"column",position:"absolute",zIndex:1},ir.loadingSpinnerStyle={margin:7,width:18,height:18};var sr=ir;class lr extends b.a{constructor(){super(...arguments),this.aggregationRowEl=null,this.storeTypes={mouseStore:re.a},this.renderAggregation=e=>{const{collectionViewLocalStore:t,query:n,schema:o,disabled:a}=this.props,{mouseEntered:i}=this.stores.mouseStore.state,s=ye.o({aggregations:n.aggregations||[],result:t.getCurrentAggregationValueResult(),property:e.property});return r.a.createElement("div",{key:e.property,style:{display:"flex",width:e.width}},r.a.createElement(ar,{disabled:a,isHovered:i&&!a,aggregationData:s,property:e.property,schema:o,onChange:this.handleTableAggregationChange}))},this.handleTableAggregationChange=(e,t)=>{const{collectionViewLocalStore:n,query:o}=this.props,r=n.collectionViewStore.get();if(!r)return;let a=o.aggregations?[...o.aggregations]:[];a=void 0===e?l.a.compact([...a,t]):l.a.compact(a.map((n,o)=>e===o?t:n));const i={...o,aggregations:a};Pe.createAndCommit(this.environment,e=>{u.q({collectionViewStore:r,update:{query2:i},transaction:e})})},this.captureEditorMouseDown=e=>{Object(We.d)({event:e,context:We.a.EditorMouseDown,callback:()=>{}})},this.handleAggregationRowMount=e=>{this.aggregationRowEl=e},this.handleScrollStoreChange=()=>{const{collectionViewScrollStore:e}=this.props,{bottomPosition:t,offsetBottom:n}=e.state,{aggregationRowEl:o}=this;o&&(t===Go.Regular||this.props.isInPeekRenderer?(o.style.transform="",o.style.top="",o.style.borderTop="1px solid ".concat(this.theme.tableDividerColor)):t===Go.Fixed&&(o.style.transform="translate3d(0, ".concat(n,"px, 0)"),o.style.top="",o.style.borderTop="1px solid ".concat(this.theme.tableDividerColor)))},this.handleAggregationRowEnter=()=>{this.stores.mouseStore.enter()},this.handleAggregationRowLeave=()=>{this.stores.mouseStore.exit()}}willMount(e){super.willMount(e),e.collectionViewScrollStore.addListener(this.handleScrollStoreChange),this.environment.ThemeModeStore.addListener(this.handleScrollStoreChange)}willUnmount(){super.willUnmount(),this.props.collectionViewScrollStore.removeListener(this.handleScrollStoreChange),this.environment.ThemeModeStore.removeListener(this.handleScrollStoreChange)}didMount(){super.didMount(),this.handleScrollStoreChange()}renderComponent(){const e=this.props.showPropertyFormatsStore.state;return r.a.createElement("div",{style:this.getAggregationsRowStyle(),onMouseMove:this.handleAggregationRowEnter,onMouseLeave:this.handleAggregationRowLeave,ref:this.handleAggregationRowMount,onMouseDown:this.captureEditorMouseDown},r.a.createElement(sr,{collectionViewLocalStore:this.props.collectionViewLocalStore}),e.map(this.renderAggregation))}getAggregationsRowStyle(){const{device:e}=this.environment;return{display:"flex",position:"absolute",background:this.theme.contentBackground,zIndex:Vt.d,fontSize:14,height:Ir+(this.props.isFullScreen?e.scrollbarWidth:0)+1,minWidth:this.props.minWidth,paddingRight:!this.props.disabled&&this.props.showAddColumnSpacer?32:0,clipPath:"polygon(0% -20%, 100% -20%, 100% 100%, 0% 100%)",...this.props.style}}}var cr,dr=lr,ur=n("nFzZ"),pr=n("RPv2"),hr=n("DkKf"),mr=n("VyA+"),fr=n("X6Ne"),gr=n("2Yor"),br=n("lBar"),vr=n("AmMh"),yr=n("mxzd");!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down"}(cr||(cr={}));class Sr extends b.a{constructor(){super(...arguments),this.rowsWrapEl=null,this.handleDragStart=e=>{e.preventDefault(),this.dragVerticalScrollableAncestor=Object(br.f)(i.a.findDOMNode(this)),this.dragVerticalScrollableAncestor&&(this.dragStartScrollTop=this.dragVerticalScrollableAncestor.scrollTop),this.dragHorizontalScrollableAncestor=Object(br.d)(i.a.findDOMNode(this)),this.dragHorizontalScrollableAncestor&&(this.dragStartScrollLeft=this.dragHorizontalScrollableAncestor.scrollLeft)},this.handleDragMove=e=>{if(hr.d()&&this.dragVerticalScrollableAncestor&&this.dragHorizontalScrollableAncestor&&!ur.h(this.dragStartScrollTop)&&!ur.h(this.dragStartScrollLeft)){const t=this.dragVerticalScrollableAncestor.scrollTop,n=this.dragHorizontalScrollableAncestor.scrollLeft,o=this.getCellPosition(e.startX+(this.dragStartScrollLeft-n),e.startY+(this.dragStartScrollTop-t)),r=this.getCellPosition(e.currentX,e.currentY);Vo.j({environment:this.environment,collectionViewBlock:this.props.store,selection:{start:o,end:r}})}},this.handleDragEnd=()=>{this.dragVerticalScrollableAncestor=void 0,this.dragStartScrollTop=void 0},this.handleDragCancel=()=>{this.dragVerticalScrollableAncestor=void 0,this.dragStartScrollTop=void 0,Vo.e()},this.handleLeft=e=>{e.preventDefault&&e.preventDefault(),xe.a.setKeyboardMode(!0);const t=this.normalizedTableSelectionStore.state;t&&(Vo.b({environment:this.environment,collectionViewBlock:this.props.store,selection:t,shiftKey:"shiftKey"in e&&e.shiftKey||!1,columnCount:this.getCurrentColumnCount()}),this.updateSelectionScroll(cr.Left))},this.handleRight=e=>{e.preventDefault&&e.preventDefault(),xe.a.setKeyboardMode(!0);const t=this.normalizedTableSelectionStore.state;t&&(Vo.c({environment:this.environment,collectionViewBlock:this.props.store,selection:t,columnCount:this.getCurrentColumnCount(),rowCount:this.props.currentRowsStore.state.length,shiftKey:"shiftKey"in e&&e.shiftKey||!1}),this.updateSelectionScroll(cr.Right))},this.handleUp=e=>{e.preventDefault&&e.preventDefault(),xe.a.setKeyboardMode(!0);const t=this.normalizedTableSelectionStore.state;t&&(Vo.d({environment:this.environment,collectionViewBlock:this.props.store,selection:t,shiftKey:"shiftKey"in e&&e.shiftKey||!1}),this.updateSelectionScroll(cr.Up))},this.handleDown=e=>{e.preventDefault&&e.preventDefault(),xe.a.setKeyboardMode(!0);const t=this.normalizedTableSelectionStore.state;t&&(Vo.a({environment:this.environment,collectionViewBlock:this.props.store,selection:t,rowCount:this.props.currentRowsStore.state.length,shiftKey:"shiftKey"in e&&e.shiftKey||!1}),this.updateSelectionScroll(cr.Down))},this.handleEnter=e=>{e.preventDefault&&e.preventDefault(),xe.a.setKeyboardMode(!0);const{schema:t}=this.props,n=this.normalizedTableSelectionStore.state;if(!n)return;const o=this.props.currentRowsStore.state,r=o[n.start.y],a=this.props.showPropertyFormatsStore.state[n.start.x].property,i=t[a];if(i&&!this.props.disabled)if(g.q.includes(i.type)){if("checkbox"===i.type){const e=r.getPropertyStore(a),t=ge.n(e.getValue()),i=o.slice(n.start.y,n.end.y+1);Pe.createAndCommit(this.environment,e=>{for(const n of i)p.c({store:n.getPropertyStore(a),value:ge.a(!t),transaction:e})})}}else jo.h({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,store:r,property:a,format:ee.a.Table,disableHorizontalEdgeScroll:this.props.disableHorizontalEdgeScroll}),Vo.e()},this.handleTab=e=>{e.preventDefault(),xe.a.setKeyboardMode(!0);const t=this.normalizedTableSelectionStore.state;t&&(Vo.c({environment:this.environment,collectionViewBlock:this.props.store,selection:t,columnCount:this.getCurrentColumnCount(),rowCount:this.props.currentRowsStore.state.length,shiftKey:!1}),this.updateSelectionScroll(cr.Right))},this.handleUntab=e=>{e.preventDefault(),xe.a.setKeyboardMode(!0);const t=this.normalizedTableSelectionStore.state;t&&(Vo.b({environment:this.environment,collectionViewBlock:this.props.store,selection:t,shiftKey:!1,columnCount:this.getCurrentColumnCount()}),this.updateSelectionScroll(cr.Left))},this.handleEsc=e=>{const{device:t}=this.environment;if(t.isMobile)return;e.preventDefault(),xe.a.setKeyboardMode(!0);const n=this.normalizedTableSelectionStore.state;if(Vo.e(),n){const e=Object(pr.a)(n),t=this.props.currentRowsStore.state.slice(e.minY,e.maxY+1);le.q({environment:this.environment,stores:t})}},this.handleDelete=e=>{const t=this.normalizedTableSelectionStore.state;t&&!this.props.disabled&&Pe.createAndCommit(this.environment,e=>{Vo.h({selection:t,currentPropertyFormats:this.props.showPropertyFormatsStore.state,currentRows:this.props.currentRowsStore.state,transaction:e})})},this.handleCut=e=>{const t=this.normalizedTableSelectionStore.state,n=this.props.collectionViewLocalStore.normalizedSchemaStore.state;t&&!this.props.disabled&&Pe.createAndCommit(this.environment,o=>{Vo.g({collectionViewBlock:this.props.store,schema:n,selection:t,currentPropertyFormats:this.props.showPropertyFormatsStore.state,currentRows:this.props.currentRowsStore.state,event:e,transaction:o})})},this.handleCopy=e=>{const t=this.normalizedTableSelectionStore.state,n=this.props.collectionViewLocalStore.normalizedSchemaStore.state;t&&Vo.f({collectionViewBlock:this.props.store,schema:n,selection:t,currentPropertyFormats:this.props.showPropertyFormatsStore.state,currentRows:this.props.currentRowsStore.state,event:e})},this.handlePaste=e=>{const{collectionStore:t,collectionViewLocalStore:n}=this.props,o=this.normalizedTableSelectionStore.state;o&&!this.props.disabled&&Pe.createAndCommit(this.environment,r=>{Vo.i({environment:this.environment,collectionViewLocalStore:n,collectionStore:t,collectionViewBlock:this.props.store,selection:o,currentPropertyFormats:this.props.showPropertyFormatsStore.state,currentRows:this.props.currentRowsStore.state,event:e,transaction:r})})},this.handleCommandEnter=e=>{const{device:t}=this.environment;if(t.isMobile)return;const n=this.normalizedTableSelectionStore.state,{currentBlockStore:o}=Me.default.state;if(n&&o){const e=this.props.currentRowsStore.state[n.start.y],t=Object(ne.a)({store:o,fullyQualified:!1,peekViewBlockId:e.id});this.navigate(t)}},this.handleCommandShiftEnter=e=>{const{device:t}=this.environment;if(t.isMobile)return;const n=this.normalizedTableSelectionStore.state;if(n){const e=this.props.currentRowsStore.state[n.start.y],t=Object(ne.a)({store:e,fullyQualified:!1});ie.navigateToExternalURL({environment:this.environment,url:t})}},this.handleKeypress=e=>{if(!e.key||e.metaKey||e.ctrlKey)return;e.preventDefault(),xe.a.setKeyboardMode(!0);const{schema:t}=this.props,n=this.normalizedTableSelectionStore.state;if(!n)return;const o=this.props.currentRowsStore.state[n.start.y],r=this.props.showPropertyFormatsStore.state[n.start.x].property,a=t[r];a&&!this.props.disabled&&g.h.includes(a.type)&&e.key&&1===e.key.length&&(jo.h({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,store:o,property:r,format:ee.a.Table,disableHorizontalEdgeScroll:this.props.disableHorizontalEdgeScroll,insertChar:e.key}),Vo.e())},this.handlePropertyTab=()=>{const e=this.props.blockPropertyValueOverlayStore.state;if(e.isOpen){const{store:t,property:n}=e,o=this.getCellPositionOfStore(t,n),r=this.props.showPropertyFormatsStore.state,a={x:Math.min(o.x+1,r.length-1),y:o.y};Vo.j({environment:this.environment,collectionViewBlock:this.props.store,selection:{start:a,end:a}}),this.updateSelectionScroll(cr.Right),jo.a({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore})}},this.handlePropertyUntab=()=>{const e=this.props.blockPropertyValueOverlayStore.state;if(e.isOpen){const{store:t,property:n}=e,o=this.getCellPositionOfStore(t,n),r={x:Math.max(o.x-1,0),y:o.y};Vo.j({environment:this.environment,collectionViewBlock:this.props.store,selection:{start:r,end:r}}),this.updateSelectionScroll(cr.Left),jo.a({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore})}},this.handlePropertyEnter=()=>{const{collectionViewLocalStore:e}=this.props,t=this.props.blockPropertyValueOverlayStore.state;if(t.isOpen){const{store:n,property:o}=t,r=this.getCellPositionOfStore(n,o),a=this.props.currentRowsStore.state;if(r.y+1>=a.length&&Ke.j(this.environment)){const t=this.props.currentRowsStore.state;Pe.createAndCommit(this.environment,n=>{const o=e.collectionStore.get();o&&Ve.b({environment:this.environment,parentStore:o,collectionViewLocalStore:e,group:void 0,results:t,insertAtStart:!1,coerce:!0,transaction:n})})}const i={x:r.x,y:r.y+1};Fo.default.afterNextFlush(()=>{Vo.j({environment:this.environment,collectionViewBlock:this.props.store,selection:{start:i,end:i}})}),this.updateSelectionScroll(cr.Down),jo.a({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore})}},this.handlePropertyClick=()=>{Vo.e()},this.handlePropertyEsc=()=>{const{device:e}=this.environment,t=this.props.blockPropertyValueOverlayStore.state;if(t.isOpen){const{store:n,property:o}=t,r=this.getCellPositionOfStore(n,o);e.isMobile?Vo.e():Vo.j({environment:this.environment,collectionViewBlock:this.props.store,selection:{start:r,end:r}}),this.updateSelectionScroll(cr.Down),jo.a({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore})}},this.handlePropertyOpenProperty=e=>{const t=this.props.blockPropertyValueOverlayStore.state;if(t.isOpen){const{store:n}=t;jo.h({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,store:n,property:e,format:ee.a.Table,disableHorizontalEdgeScroll:this.props.disableHorizontalEdgeScroll})}},this.handlePropertyContextMenu=e=>{e.preventDefault();const t=this.props.currentRowsStore.state,n=this.normalizedTableSelectionStore.state,o=this.getCellPosition(e.clientX,e.clientY);let r=!1;if(n){const a=Math.min(n.start.y,n.end.y),i=Math.max(n.start.y,n.end.y);if(o.y>=a&&o.y<=i){const n=t.slice(a,i+1);n.length>0&&(le.q({environment:this.environment,stores:n}),le.k({environment:this.environment,store:n[0]}),se.c({environment:this.environment,stores:Ee.default.state.stores,left:e.clientX,top:e.clientY,actions:ce.c,showInput:!0,analyticsFrom:"content_block_menu"}),r=!0)}}if(!r){const n=t[o.y];n&&(le.k({environment:this.environment,store:n}),se.c({environment:this.environment,stores:Ee.default.state.stores,left:e.clientX,top:e.clientY,actions:ce.c,showInput:!0,analyticsFrom:"content_block_menu"}))}},this.handleRowSelectableEnter=e=>{const t=this.props.currentRowsStore.state,n=e.blocks.map(e=>t.indexOf(e)),o=l.a.min(n)||0,r=l.a.max(n)||0;o>=0&&r>=0&&Vo.j({environment:this.environment,collectionViewBlock:this.props.store,selection:{start:{x:0,y:o},end:{x:0,y:r}}})},this.handleRowsWrapMount=e=>{this.rowsWrapEl=e},this.handleRowsObserverChange=()=>{this.selectionStartRectStore.recompute(),this.selectionEndRectStore.recompute()},this.normalizedTableSelectionStore=this.createComputedStore(()=>{const e=yr.a.state;if(e.isActive&&e.collectionViewBlock===this.props.store){const t=this.getCurrentColumnCount(),n=this.props.currentRowsStore.state.length,{selection:o}=e;return{start:{x:Object(gr.a)(o.start.x,0,t-1),y:Object(gr.a)(o.start.y,0,n-1)},end:{x:Object(gr.a)(o.end.x,0,t-1),y:Object(gr.a)(o.end.y,0,n-1)}}}},!0),this.isTableSelectedStore=this.createComputedStore(()=>{const e=yr.a.state;return e.isActive&&e.collectionViewBlock===this.props.store}),this.currentTopPositionStore=this.createComputedStore(()=>this.props.collectionViewScrollStore.state.topPosition),this.selectionStartRectStore=this.createComputedStore(()=>{const e=this.normalizedTableSelectionStore.state;if(e)return this.getCellRect(e.start)},!0),this.selectionEndRectStore=this.createComputedStore(()=>{const e=this.normalizedTableSelectionStore.state;if(e)return this.getCellRect(e.end)},!0)}willUnmount(){super.willUnmount(),this.observer&&this.observer.disconnect()}didMount(){super.didMount(),this.rowsWrapEl&&(this.observer=new MutationObserver(this.handleRowsObserverChange),this.observer.observe(this.rowsWrapEl,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):ie.navigate({environment:this.environment,url:e})}renderComponent(){const e=this.props.render({onPropertyTab:this.handlePropertyTab,onPropertyUntab:this.handlePropertyUntab,onPropertyEnter:this.handlePropertyEnter,onPropertyClick:this.handlePropertyClick,onPropertyEsc:this.handlePropertyEsc,onPropertyBgClick:this.handlePropertyEsc,onPropertyContextMenu:this.handlePropertyContextMenu,onOpenProperty:this.handlePropertyOpenProperty,onSelectableEnter:this.handleRowSelectableEnter});return r.a.createElement(mr.a,{capture:this.isTableSelectedStore.state,onLeft:this.handleLeft,onRight:this.handleRight,onUp:this.handleUp,onDown:this.handleDown,onEnter:this.handleEnter,onTab:this.handleTab,onUntab:this.handleUntab,onEsc:this.handleEsc,onDelete:this.handleDelete,onBackspace:this.handleDelete,onCut:this.handleCut,onCopy:this.handleCopy,onPaste:this.handlePaste,onCommandEnter:this.handleCommandEnter,onCommandShiftEnter:this.handleCommandShiftEnter,onKeypress:this.handleKeypress},r.a.createElement(qo.a,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,disableHorizontalEdgeScroll:this.props.disableHorizontalEdgeScroll,render:t=>r.a.createElement("div",Object.assign({style:{position:"relative",minWidth:this.props.minWidth}},t,{ref:this.handleRowsWrapMount}),e,this.renderOverlay())}))}renderOverlay(){const e=this.normalizedTableSelectionStore.state,t=this.currentTopPositionStore.state,n=this.selectionStartRectStore.state,o=this.selectionEndRectStore.state;if(e&&n&&o){const e=Math.min(n.left,o.left),a=Math.min(n.top,o.top),i=Math.max(n.right,o.right),s=Math.max(n.top+n.height,o.top+o.height);return r.a.createElement("div",{style:{position:"absolute",top:0,left:0,pointerEvents:"none"}},r.a.createElement("div",{style:{position:"absolute",left:e,top:a,width:i-e,height:s-a,background:Z.g.blueWithAlpha(.15)}}),r.a.createElement("div",{style:{position:"absolute",left:n.left,top:n.top,width:n.width,height:n.height,border:"1px solid ".concat(Z.g.blueWithAlpha(.6)),zIndex:t===Go.Regular?Vt.d:"auto"}}))}}getRowsWrapRect(){return this.rowsWrapEl?this.rowsWrapEl.getBoundingClientRect():void 0}getRowRect(e){const{rowsWrapEl:t}=this;if(!t)return;const n=vr.a.findSelectablesFromStore(e).map(e=>e.getNode()).find(e=>t.contains(e));return n?n.getBoundingClientRect():void 0}getCellPosition(e,t){const n=this.getRowsWrapRect();if(!n)return{x:0,y:0};const o=this.props.currentRowsStore.state,r=this.props.showPropertyFormatsStore.state,a=e-n.left,i=t-n.top;let s=0,l=0;for(let u=0;u<o.length;u++){const e=o[u],t=this.getRowRect(e);if(!t)return{x:0,y:0};if(l>=i)break;s=u,l+=t.height}s=Math.max(s,0),s=Math.min(s,o.length-1);let c=0,d=0;for(let u=0;u<r.length;u++){const e=r[u];if(d>=a)break;c=u,e.width&&(d+=e.width)}return c=Math.max(c,0),c=Math.min(c,r.length-1),{x:c,y:s}}getCurrentColumnCount(){return this.props.showPropertyFormatsStore.state.length}getCellPositionOfStore(e,t){const n=this.props.currentRowsStore.state;return{x:this.props.showPropertyFormatsStore.state.findIndex(e=>e.property===t),y:n.findIndex(t=>e===t)}}updateSelectionScroll(e){const t=this.normalizedTableSelectionStore.state;if(t){let n;n=e===cr.Down?t.start.y>t.end.y?t.start:t.end:e===cr.Up?t.start.y<t.end.y?t.start:t.end:e===cr.Right?t.start.x>t.end.y?t.start:t.end:t.start.x<t.end.y?t.start:t.end;const o=this.props.currentRowsStore.state[n.y],r=this.props.showPropertyFormatsStore.state[n.x].property,a=Qo.a.findBlockPropertyValue(o,r);a&&fr.b({component:a,vertical:{reveal:"closest",paddingToTopEdge:96,paddingToBottomEdge:48},horizontal:this.props.disableHorizontalEdgeScroll?void 0:{reveal:"closest"}})}}getCellRect(e){const{rowsWrapEl:t}=this;if(!t)return;const n=this.props.showPropertyFormatsStore.state,o=this.props.currentRowsStore.state[e.y],r=this.getRowRect(o);if(!r)return;const a=t.getBoundingClientRect(),i=r.height,s=r.top-a.top-1,l=n[e.x].width||0,c=i+1;let d=0;for(let u=0;u<e.x;u++){const e=n[u];e.width&&(d+=e.width)}return{left:d-1,top:s,width:l+1,height:c,bottom:s+c,right:d+l}}}Sr.contextTypes=St.a;var wr=Sr;class kr extends Ct.a{getInitialState(){return{}}}var Cr=kr;class Mr extends b.a{constructor(){super(...arguments),this.loadMoreCountStore=this.createComputedStore(()=>{const{collectionViewStore:e,collectionViewLocalStore:t,isFullScreen:n}=this.props,o=t.getCurrentTableResultCount(),r=t.getRemainingTableResultCount(),a=Object(ye.m)({collectionViewStore:e,isFullScreen:n,currentResultCount:o,environment:this.environment});return Math.min(a,r)})}renderComponent(){return r.a.createElement(X.FormattedMessage,{id:"database.loadMoreButtonTitle",defaultMessage:"Load <regular>{count} more</regular>",values:{count:this.loadMoreCountStore.state,regular:(...e)=>r.a.createElement("span",{style:{color:this.theme.regularTextColor}},e)}})}}var Er=Object(X.injectIntl)(Mr);class _r extends b.a{constructor(){super(...arguments),this.renderPopup=e=>r.a.createElement(qn,{currentLimit:this.getCurrentFirstLoadLimit(),onAccept:this.handleFirstLoadLimitAccept,onClose:e.close,showTitle:!0}),this.handleFirstLoadLimitAccept=e=>{const{collectionViewStore:t,collectionViewLocalStore:n}=this.props,o=t.getValue();o&&(Object(Pe.createAndCommit)(this.environment,n=>{Object(Oe.h)({stores:[t],update:{inline_collection_first_load_limit:e},transaction:n})}),Object(u.m)({collectionViewLocalStore:n,isFullScreen:!1,environment:this.environment}),W.W(this.environment,{view_type:o.type,action:"set_first_load_limit"}))}}renderComponent(){const{device:e}=this.environment;return r.a.createElement(it.a,{popupType:e.isMobile?st.b.SlideUp:st.b.Popup,renderOrigin:e=>r.a.createElement(yt.a,Object.assign({icon:T.a.dots,style:{marginLeft:4}},e)),alignmentToOrigin:it.a.Alignment.End,placementToOrigin:it.a.Placement.Bottom,originGap:8,render:this.renderPopup})}getCurrentFirstLoadLimit(){const{format:e}=this.props;return Object($.j)(e.inline_collection_first_load_limit)}}var Tr=_r;const xr={display:"flex",justifyContent:"flex-start",flexGrow:1,width:32},Ir=32;class Pr extends m.a{constructor(){super(...arguments),this.storeTypes={tableStore:Cr},this.handleScrollOffsetChange=e=>{const{collectionViewLocalStore:t,isFullScreen:n}=this.props,o=t.isLoading.get();e<Q.a.incrementScrollOffset&&!o&&!t.reachedEndOfTableResults()&&u.i({collectionViewLocalStore:t,isFullScreen:n,environment:this.environment})},this.handleAddRowClick=()=>{const{collectionViewLocalStore:e,isFullScreen:t}=this.props,{device:n}=this.environment;if(!Ke.j(this.environment))return;e.searchQuery.get()&&u.r({searchQuery:"",collectionViewLocalStore:e,isFullScreen:t,environment:this.environment});const o=this.currentRowsStore.state;Pe.createAndCommit(this.environment,t=>{const r=e.collectionStore.get();if(r){const{coercionSucceeded:a,newStore:i}=Ve.b({environment:this.environment,parentStore:r,collectionViewLocalStore:e,group:void 0,results:o,insertAtStart:!1,coerce:!0,transaction:t});if(n.isMobile){const e=Object(ne.a)({store:i,fullyQualified:!1});this.navigate(e)}else Fo.default.afterNextFlush(()=>{Fo.default.afterNextFlush(()=>{a?jo.h({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,store:i,property:"title",format:ee.a.Table}):ie.peekBlock({environment:this.environment,store:i})})});W.fb(this.environment,{from:"table_add_item_bottom",type:"page"})}})},this.handleLoadMoreClick=e=>{const{collectionViewLocalStore:t}=this.props;Object(We.b)(e),Object(le.e)(this.environment),u.i({collectionViewLocalStore:t,isFullScreen:this.props.isFullScreen,environment:this.environment}),W.Wb(this.environment)},this.isLocked=this.createComputedStore(()=>{const e=this.props.collectionStore.getParentBlockStore();return Boolean(e&&e.isLocked())}),this.showPropertyFormatsStore=this.createComputedStore(()=>this.getTableProperties().filter(e=>e.visible),!0),this.currentRowsStore=this.createComputedStore(()=>{const{collectionViewLocalStore:e}=this.props,t=e.collectionStore.get();if(t){return ye.l({environment:this.environment,group:void 0,collectionViewLocalStore:e,parentStore:t})}return[]}),this.getItemSelectableStyle=e=>({display:"flex",borderBottom:"1px solid ".concat(e?"transparent":this.theme.tableDividerColor)})}renderPersisted(){const{store:e,paddingBottom:t,paddingLeft:n,paddingRight:o,isFullScreen:a,collectionViewStore:i,collectionViewLocalStore:s}=this.props,l=ye.q(i,a),c=Object(Ft.a)(i=>r.a.createElement("div",{style:{...Pr.style,paddingBottom:t,paddingLeft:n,paddingRight:o},className:Ue.Eb},r.a.createElement(Ne.a,Object.assign({store:e,shouldShowHalo:!a,canSelect:!a,analyticsName:"table"},i),this.renderHeaderRow(),r.a.createElement("div",{style:{height:34}}),this.renderRows(),this.canEdit()&&this.renderAddRowButton(),!a&&!s.reachedEndOfTableResults()&&l&&this.renderLoadMoreButton(),this.renderAggregationRow(),r.a.createElement("div",{style:{height:Ir}}))));return l?c:r.a.createElement(tt.a,{onChange:this.handleScrollOffsetChange},c)}renderHeaderRow(){const{store:e,schema:t,query:n,disabled:o,collectionStore:a,collectionViewLocalStore:i,collectionViewStore:s,collectionViewScrollStore:l,minWidth:c,paddingBottom:d,isInPeekRenderer:u,blockPropertyValueOverlayStore:p}=this.props;return r.a.createElement(nr,{store:e,format:this.getCurrentFormat(),schema:t,query:n,collectionStore:a,collectionViewStore:s,collectionViewLocalStore:i,isInPeekRenderer:u,minWidth:c,paddingBottom:d,collectionViewScrollStore:l,blockPropertyValueOverlayStore:p,currentRowsStore:this.currentRowsStore,showPropertyFormatsStore:this.showPropertyFormatsStore,showAddColumn:!0,allowHidingTitle:!1,tableStore:this.stores.tableStore,formatKey:"table_properties",disabled:o||!this.canEdit()||this.isLocked.state,height:34})}renderRows(){const{device:e}=this.environment,{store:t,schema:n,query:o,disabled:a,collectionStore:i,collectionViewLocalStore:s,collectionViewStore:l,minWidth:c,blockPropertyValueOverlayStore:d}=this.props;if(!i)return;const u=this.showPropertyFormatsStore.state;return r.a.createElement(wr,{store:t,format:this.getCurrentFormat(),schema:n,query:o,collectionStore:i,collectionViewStore:l,collectionViewLocalStore:s,minWidth:c,blockPropertyValueOverlayStore:d,showPropertyFormatsStore:this.showPropertyFormatsStore,currentRowsStore:this.currentRowsStore,disabled:!this.canEdit(),collectionViewScrollStore:this.props.collectionViewScrollStore,render:t=>r.a.createElement(qe,{parentStore:i,collectionViewLocalStore:s,group:void 0,format:this.getCurrentFormat(),canDrag:this.canEdit()&&e.isMobile,resultProps:{schema:n,collectionViewStore:l,collectionViewBlockStore:this.props.store,collectionStore:i,propertyFormats:u,onPropertyTab:t.onPropertyTab,onPropertyUntab:t.onPropertyUntab,onPropertyEnter:t.onPropertyEnter,onPropertyClick:t.onPropertyClick,onPropertyEsc:t.onPropertyEsc,onPropertyBgClick:t.onPropertyBgClick,onPropertyContextMenu:t.onPropertyContextMenu,onOpenProperty:t.onOpenProperty,disabled:a,blockPropertyValueOverlayStore:d,locked:this.isLocked.state,showAddColumnSpacer:!0,disableHorizontalEdgeScroll:!1,disableLastCellBorderRight:!1,disableTableWrap:!1},canDrop:!0,resultComponent:Ao,disabled:a,direction:Xe.Vertical,getItemSelectableStyle:this.getItemSelectableStyle,shouldShowHoverMenu:!0,analyticsName:"table",emptyDroppableSize:0,touchDragOnly:!0,onSelectableEnter:t.onSelectableEnter})})}renderAggregationRow(){const{store:e,schema:t,query:n,disabled:o,collectionStore:a,collectionViewLocalStore:i,collectionViewStore:s,collectionViewScrollStore:l,minWidth:c,paddingBottom:d,isInPeekRenderer:u,blockPropertyValueOverlayStore:p,isFullScreen:h}=this.props;return r.a.createElement(dr,{store:e,disabled:o||!this.canEdit()||this.isLocked.state,format:this.getCurrentFormat(),schema:t,query:n,collectionStore:a,collectionViewStore:s,collectionViewLocalStore:i,isInPeekRenderer:u,isFullScreen:h,minWidth:c,paddingBottom:d,collectionViewScrollStore:l,blockPropertyValueOverlayStore:p,currentRowsStore:this.currentRowsStore,showPropertyFormatsStore:this.showPropertyFormatsStore,showAddColumnSpacer:!0})}renderLoadMoreButton(){const{collectionViewLocalStore:e,collectionViewStore:t,isFullScreen:n,format:o}=this.props;return r.a.createElement(D.a,{onMouseDown:We.c,onClick:this.handleLoadMoreClick,style:{display:"flex",alignItems:"center",height:33,width:"100%",paddingLeft:8,paddingBottom:2,fontSize:14,lineHeight:V.a.lineHeight.UIRegular.desktop,background:this.theme.contentBackground,boxShadow:"0 -1px 0 ".concat(this.theme.tableDividerColor),whiteSpace:"break-spaces"}},T.a.arrowDown(this.getNewRowButtonIconStyle()),r.a.createElement("span",{style:{color:this.theme.lightTextColor}},r.a.createElement(Er,{collectionViewLocalStore:e,collectionViewStore:t,isFullScreen:n,groupFormat:void 0})),this.canEdit()&&r.a.createElement(Tr,{collectionViewLocalStore:e,collectionViewStore:t,format:o}))}renderAddRowButton(){return r.a.createElement(D.a,{onClick:this.handleAddRowClick,onMouseDown:We.c,style:{display:"flex",alignItems:"center",height:32,width:"100%",paddingLeft:8,fontSize:14,lineHeight:V.a.lineHeight.UIRegular.desktop,borderTop:"1px solid ".concat(this.theme.tableDividerColor),background:this.theme.contentBackground},className:Ue.Gb},T.a.plus(this.getNewRowButtonIconStyle()),r.a.createElement("span",{style:{color:this.theme.lightTextColor}},r.a.createElement(X.FormattedMessage,{defaultMessage:"New",id:"database.tableView.addRowButton"})))}getCurrentFormat(){const{format:e}=this.props,{temporaryFormat:t}=this.stores.tableStore.state;return t||e}getTableProperties(){const e=this.getCurrentFormat();return e&&e.table_properties?e.table_properties:[]}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):ie.navigate({environment:this.environment,url:e})}getNewRowButtonIconStyle(){return{width:14,height:14,marginLeft:-1,marginRight:6,fill:this.theme.lightIconColor}}}Pr.contextTypes=St.a,Pr.style={position:"relative",float:"left",minWidth:"100%",WebkitUserSelect:"none"},Pr.addColumnStyle={display:"flex",justifyContent:"flex-start",flexGrow:1,width:32};var Or=Object(X.injectIntl)(Pr),Br=n("XBB3"),Lr=n("WM0W"),Rr=n("v/t1"),Dr=n("mKX5"),Ar=n("1QGs"),jr=n("rTCD"),Fr=n("OxuQ"),Vr=n("tUBP");class Nr extends m.a{constructor(){super(...arguments),this.handleDraggableDragMove=e=>{const{calendarBy:t}=this.props;Ar.d({calendarStore:this.props.calendarStore,x:e.currentX,y:e.currentY,calendarBy:t})},this.handleDraggableDragEnd=()=>{const{calendarBy:e,schema:t}=this.props,n=t[e];n&&"date"===n.type&&Pe.createAndCommit(this.environment,t=>{Ar.c({calendarStore:this.props.calendarStore,calendarBy:e,transaction:t})})},this.handleDraggableDragCancel=()=>{Ar.b({calendarStore:this.props.calendarStore})},this.handleInsertAfter=e=>{const{store:t,calendarBy:n,collectionStore:o,collectionViewLocalStore:r}=this.props;return Ar.g({environment:this.environment,collectionStore:o,collectionViewLocalStore:r,store:t,insertStores:e.insertStores,calendarBy:n,transaction:e.transaction})},this.handleRemove=e=>{const{store:t,collectionViewLocalStore:n}=this.props,{transaction:o}=e,r=n.collectionStore.state;r&&Ve.j({collectionStore:r,store:t,transaction:o})}}activate(){const e=this.getPeekURL();e&&ie.navigate({environment:this.environment,url:e})}renderComponent(){const{store:e,row:t,schema:n,format:o,disabled:a,calendarBy:i}=this.props,s=n[i];if(!s||!g.i(s))return;const c="date"===s.type,d=this.getPageURL(),u=this.getPeekURL(),p=o.calendar_properties?o.calendar_properties.filter(e=>e.visible).map(e=>e.property):[],h=p.filter(t=>$.e({blockValue:e.getValue(),property:t,schema:n,getRecordValue:this.props.store.getRecordValue,userTimeZone:de.m,intl:De.default.getIntl()})),m=h.concat(l.a.difference(p,h)),{start:f,end:b,startOfWeek:v,endOfWeek:y,startColumn:S,columnCount:w}=Object(Vr.a)({startUnixTimestampMS:this.props.start,endUnixTimestampMS:this.props.end,startOfWeekUnixTimestampMS:this.props.startOfWeek,endOfWeekUnixTimestampMS:this.props.endOfWeek}),k=f.isBefore(v),C=b&&b.isAfter(y),M=p.length+1,E=Jr*M+2*Zr+2*Kr,_=Gr+E*t;return r.a.createElement(Ne.a,{store:e,key:e.id,style:{...Nr.style,paddingLeft:k?0:6,paddingRight:C?0:6,width:"calc(100% / 7 * ".concat(w,C?" - 1px)":")"),left:"calc(100% / 7 * ".concat(S,")"),height:E,top:_},canSelect:!a,shouldShowHalo:!a,canTriggerContextMenu:!a,showBlockMenuInput:!0,canDrag:!a,onInsertBefore:this.handleInsertAfter,onInsertAfter:this.handleInsertAfter,onRemove:this.handleRemove,canInsertBefore:!a&&c,canInsertAfter:!a&&c,analyticsName:"calendar",shouldShowDropZone:!0,className:Ue.p},r.a.createElement(te.a,{style:{...this.getLinkStyle(),...k&&Nr.buttonLeftBleedStyle,...C&&Nr.buttonRightBleedStyle},innerStyle:this.getButtonStyle(),href:d,metaHref:u},r.a.createElement("div",{style:{...Nr.startWrapStyle,...k&&{paddingLeft:12},...C&&{paddingRight:11},width:this.props.includeTime?"".concat(100/w,"%"):"100%"}},this.renderTitleRow(f,b,v,y,s,w)),r.a.createElement("div",{style:{...Nr.startWrapStyle,width:"100%",...k&&{paddingLeft:12}}},m.map(e=>this.renderProperty(e))),!a&&c&&this.renderLeftDraggable(f,v),!a&&c&&this.renderRightDraggable(b,y)))}renderTitleRow(e,t,n,o,a,i){const{store:s,includeTime:l}=this.props,c=s.hasIcon()||!s.isEmptyPage();return r.a.createElement("div",{style:Nr.titleRowWrapStyle},c&&r.a.createElement(ae.a,{disabled:!0,icon:s.getIcon(),isEmptyPage:s.isEmptyPage(),size:12,style:{flexShrink:0,marginRight:4,marginTop:2}}),r.a.createElement(Fr.a,{style:Nr.titleStyle,store:s}),this.renderDiscussionIndicator(),l&&e.isBetween(n,o,void 0,"[]")&&r.a.createElement("div",{style:this.getTimeStyle()},e.format(this.getTimeFormat(a))),this.renderEndTime(e,t,n,o,a,i))}renderDiscussionIndicator(){const{store:e}=this.props,t=ue.h(e);if(t>0)return r.a.createElement("div",{style:{display:"flex",alignItems:"center",color:this.theme.mediumTextColor,fontSize:12,marginLeft:4,flexShrink:0}},T.a.speechBubble({width:12,height:12,marginRight:4,fill:this.theme.mediumIconColor}),t)}renderProperty(e){const{store:t,schema:n,disabled:o,blockPropertyValueOverlayStore:a,locked:i}=this.props;if(n[e])return r.a.createElement(ee.b,{key:e,store:t,property:e,schema:n,disabled:o||!t.canEdit(),locked:i,format:ee.a.Calendar,tableWrap:!1,blockPropertyValueOverlayStore:a})}renderEndTime(e,t,n,o,a,i){const{includeTime:s}=this.props;if(s&&t&&t.isBetween(n,o,void 0,"[]")&&e.date()!==t.date())return r.a.createElement("div",{style:i>1?this.endTimeAbsoluteStyle():this.getEndTimeStyle()},r.a.createElement(X.FormattedMessage,{defaultMessage:"ends {endTime}",id:"calendarItem.endsTime.message",description:"Message for when this calendar item ends. endTime is a translated message that represents the time of the item's end.",values:{endTime:t.format(this.getTimeFormat(a))}}))}renderLeftDraggable(e,t){const{store:n}=this.props;if(!e.isBefore(t))return r.a.createElement(qo.a,{render:e=>r.a.createElement("div",Object.assign({style:Nr.leftDragHandleStyle},e)),onDraggableDragStart:()=>{Ar.h({calendarStore:this.props.calendarStore,target:n,direction:jr.a.Left})},onDraggableDragMove:this.handleDraggableDragMove,onDraggableDragEnd:this.handleDraggableDragEnd,onDraggableDragCancel:this.handleDraggableDragCancel})}renderRightDraggable(e,t){const{store:n}=this.props;if(!e||e&&!e.isAfter(t))return r.a.createElement(qo.a,{render:e=>r.a.createElement("div",Object.assign({style:Nr.rightDragHandleStyle},e)),onDraggableDragStart:e=>{Ar.h({calendarStore:this.props.calendarStore,target:n,direction:jr.a.Right})},onDraggableDragMove:this.handleDraggableDragMove,onDraggableDragEnd:this.handleDraggableDragEnd,onDraggableDragCancel:this.handleDraggableDragCancel})}getTimeFormat(e){return"date"===e.type&&e.time_format?e.time_format:de.x}getPeekURL(){const{store:e}=this.props,{currentBlockStore:t}=Me.default.state;if(t)return Object(ne.a)({store:t,fullyQualified:!1,peekViewBlockId:e.id})}getPageURL(){const{store:e}=this.props;return Object(ne.a)({store:e,fullyQualified:!1})}getLinkStyle(){return{height:"100%",background:this.theme.popoverBackground,borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomLeftRadius:3,borderBottomRightRadius:3,boxShadow:this.theme.lightBoxShadow}}getButtonStyle(){return{display:"flex",position:"relative",paddingTop:2,paddingBottom:2,height:"100%",alignItems:"flex-start",flexDirection:"column"}}getTimeStyle(){return{color:this.theme.mediumTextColor,flexShrink:0,fontSize:10,marginLeft:4,height:14}}getEndTimeStyle(){return{marginLeft:"auto",paddingLeft:4,marginRight:4,color:this.theme.mediumTextColor,fontSize:10,whiteSpace:"nowrap",marginTop:-1}}endTimeAbsoluteStyle(){return{...this.getEndTimeStyle(),position:"absolute",right:4,top:6}}}Nr.style={position:"absolute",paddingTop:3,paddingBottom:3},Nr.buttonRightBleedStyle={borderTopRightRadius:0,borderBottomRightRadius:0},Nr.buttonLeftBleedStyle={borderTopLeftRadius:0,borderBottomLeftRadius:0},Nr.startWrapStyle={paddingLeft:6,paddingRight:6,overflow:"hidden"},Nr.titleRowWrapStyle={display:"flex",alignItems:"center",height:20},Nr.titleStyle={flexGrow:1,fontSize:12,fontWeight:V.a.fontWeight.semibold},Nr.leftDragHandleStyle={position:"absolute",top:0,left:-4,height:"100%",width:12,cursor:"col-resize"},Nr.rightDragHandleStyle={position:"absolute",top:0,right:-4,height:"100%",width:12,cursor:"col-resize"};var Ur=Nr,zr=n("x0lk"),Xr=n("Ucj+"),Yr=n("HTHG"),Hr=n("lpTC"),qr=n("T8dS"),Wr=n("gHFd");const Gr=30,Zr=2,Kr=3,Jr=20;class Qr extends m.a{constructor(){super(...arguments),this.storeTypes={calendarStore:jr.b},this.updateScrollStyles=()=>{const{device:e}=this.environment,{collectionViewScrollStore:t}=this.props,{topPosition:n,offsetTop:o}=t.state,{headerEl:r}=this;r&&(n===Go.Regular||this.props.isInPeekRenderer?(r.style.transform="",r.style.bottom="",e.isMobile||(r.style.boxShadow="inset 0 1px 0 ".concat(this.theme.tableDividerColor))):n===Go.Fixed&&(r.style.transform="translate3d(0, ".concat(o,"px, 0)"),r.style.bottom="",r.style.boxShadow=""))},this.handleHeaderMount=e=>{this.headerEl=e},this.handleScrollOffsetChange=e=>{const{collectionViewLocalStore:t}=this.props,n=t.isLoading.get(),o=this.shouldInfinitelyLoad();if(e<Q.a.incrementScrollOffset&&!n&&o){const{collectionViewLocalStore:e}=this.props,t=e.dateRangeStart.get(),n=e.dateRangeEnd.get(),o=Object(de.J)(Object(Dr.a)(n).clone().add(2,"month"),Yr.q.state);u.n({dateRangeStart:t,dateRangeEnd:o.valueOf(),collectionViewLocalStore:e})}},this.handleScroll=()=>{if(!this.headerEl)return;if(!this.shouldInfinitelyLoad())return;const{calendarStore:e}=this.stores,t=e.state,n=this.headerEl.getBoundingClientRect();let o=[];t.dayStoreMap.forEach((e,t)=>{o.push({store:e,timestamp:t})}),o=l.a.sortBy(o,({timestamp:e})=>e);const r=o.find(({store:e})=>{const t=vr.a.getRectFromStore(e);return Boolean(t&&t.top<=n.top+n.height&&t.top+t.height>=n.top+n.height)});if(r){const n=Object(de.J)(Object(Dr.a)(r.timestamp),Yr.q.state).add(1,"day").startOf("month").valueOf();n!==t.currentlyScrolledMonth&&e.setState({...e.state,currentlyScrolledMonth:n})}},this.handleScrollThrottled=l.a.throttle(this.handleScroll,100),this.handleMouseMove=e=>{const{calendarStore:t}=this.stores,n=t.state;if(!n.isDragging&&!Re.a.state){const o=this.findHoveredDay(e.clientX,e.clientY);n.hoveredDay!==o&&t.setState({...n,hoveredDay:o})}},this.handleMouseMoveThrottled=l.a.throttle(this.handleMouseMove,50),this.handleCalendarLeftClick=()=>{const{currentlyScrolledMonth:e}=this.stores.calendarStore.state,t=Object(de.M)(Object(Dr.a)(e).subtract(1,"month").startOf("month"),Yr.q.state);this.setNewCalendarStart(t)},this.handleTodayClick=()=>{const e=Object(de.M)(Object(Dr.a)().startOf("month"),Yr.q.state);this.setNewCalendarStart(e)},this.handleCalendarRightClick=()=>{const{currentlyScrolledMonth:e}=this.stores.calendarStore.state,t=Object(de.M)(Object(Dr.a)(e).add(1,"month").startOf("month"),Yr.q.state);this.setNewCalendarStart(t)},this.handleEditorMouseDown=e=>{const{device:t}=this.environment;t.isMobile||Object(We.d)({event:e,context:We.a.EditorMouseDown,callback:()=>{e.preventDefault(),Ge.c({environment:this.environment,target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[this.props.store],allowVerticalEdgeScroll:!0,allowHorizontalEdgeScroll:!1})}})},this.isLocked=this.createComputedStore(()=>ye.p(this.props.collectionStore))}willMount(e){super.willMount(e);const{ThemeStore:t}=this.environment;e.collectionViewScrollStore.addListener(this.updateScrollStyles),t.addListener(this.updateScrollStyles),this.stores.calendarStore.setState({...this.stores.calendarStore.state,currentlyScrolledMonth:jr.b.getLocalDateRangeStart({collectionViewId:e.collectionViewStore.id,currentUserId:this.environment.currentUser.id}).startOf("month").valueOf()})}didMount(){super.didMount(),this.updateScrollStyles()}willMountOrUpdate(e){super.willMountOrUpdate(e),Re.a.state&&(this.stores.calendarStore.state.isDragging||this.stores.calendarStore.setState({...this.stores.calendarStore.state,hoveredDay:void 0}));const{query:t}=e;t.calendar_by||this.updateOrCreateCalendarProperty(e)}didMountOrUpdate(){this.handleScrollThrottled(),this.root||(this.root=i.a.findDOMNode(this),this.root&&(this.verticalScrollableAncestor=Object(br.f)(this.root),this.verticalScrollableAncestor&&Rr.a(this.verticalScrollableAncestor,"scroll",this.handleScrollThrottled),Rr.a(this.root,"mousemove",this.handleMouseMoveThrottled)))}willUnmount(){super.willUnmount();const{ThemeStore:e}=this.environment;this.props.collectionViewScrollStore.removeListener(this.updateScrollStyles),e.removeListener(this.updateScrollStyles),this.verticalScrollableAncestor&&Rr.b(this.verticalScrollableAncestor,"scroll",this.handleScrollThrottled),this.root&&Rr.b(this.root,"mousemove",this.handleMouseMoveThrottled)}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):ie.navigate({environment:this.environment,url:e})}renderPersisted(){const{device:e}=this.environment,{store:t,paddingBottom:n,paddingLeft:o,paddingRight:a,query:i,schema:s,collectionViewLocalStore:l,isFullScreen:c}=this.props,{calendar_by:d}=i;if(!d)return;const u=this.stores.calendarStore.state,p=s[d];if(!p||!g.i(p))return;const{localResultStore:h}=l,m=l.isLoading.get();if(!h)return;const f=h.state;if(!f||"calendar"!==f.type)return;const b=Object(Dr.a)(u.currentlyScrolledMonth);return Object(Ft.a)(i=>r.a.createElement(tt.a,{onChange:this.handleScrollOffsetChange},r.a.createElement("div",{style:{paddingBottom:n,paddingLeft:o,paddingRight:a},className:Ue.m},r.a.createElement(Ne.a,Object.assign({style:Qr.style,store:t,shouldShowHalo:!c,canSelect:!c,onMouseDown:this.handleEditorMouseDown,analyticsName:"calendar"},i),this.renderHeader(b),r.a.createElement("div",{style:e.isMobile?Qr.mobileHeaderSpacerStyle:Qr.headerSpacerStyle}),r.a.createElement("div",{style:e.isMobile?Qr.mobileRowsWrapStyle:this.getRowsWrapStyle()},f.groups.map(t=>e.isMobile?this.renderMobileWeek(Object(Dr.a)(t.start),Object(Dr.a)(t.end),f,t.items,d,p):this.renderWeek(Object(Dr.a)(t.start),Object(Dr.a)(t.end),t.items,d,p))),m&&r.a.createElement(Tt.a,{style:Qr.loadingSpinnerStyle})))))}renderHeader(e){const{device:t}=this.environment,n=Object(Hr.a)(qr.a).month;return r.a.createElement("div",{style:t.isMobile?this.getHeaderMobileStyle():this.getHeaderStyle(),ref:this.handleHeaderMount},r.a.createElement("div",{style:{display:"flex",height:42,alignItems:"center"}},r.a.createElement("div",{style:{...Qr.headerMonthNameStyle,fontSize:t.isMobile?16:14}},e.format(n)),r.a.createElement(yt.a,{mobileFeedback:t.isMobile,icon:T.a.chevronLeft,onClick:this.handleCalendarLeftClick}),r.a.createElement(G.a,{isSmall:!0,onClick:this.handleTodayClick},r.a.createElement(X.FormattedMessage,{defaultMessage:"Today",id:"database.calendarView.todayButton.label"})),r.a.createElement(yt.a,{mobileFeedback:t.isMobile,icon:T.a.chevronRight,onClick:this.handleCalendarRightClick})),r.a.createElement("div",{style:{display:"flex",marginTop:t.isMobile?8:0,boxShadow:"0 1px 0 ".concat(this.theme.tableDividerColor)},className:Ue.l},l.a.range(0,7).map(t=>r.a.createElement("div",{key:t,style:this.getWeekDayNameStyle()},Object(de.M)(e.clone(),Yr.q.state).add(t,"days").format("ddd")))))}renderWeek(e,t,n,o,a){const{collectionStore:i,collectionViewLocalStore:s,format:l,schema:c,blockPropertyValueOverlayStore:u}=this.props,p=this.canEdit(),{calendarStore:h}=this.stores,m=h.state,f=[];for(let r=0;r<7;r++)f.push(this.renderDay(e.clone().add(r,"days"),o,a));const g=[];let b=0;for(const k of n){const n=pe.a.createChildStore(i,{table:d.a,id:k.id});m.isDragging&&m.target===n&&m.temporaryValue||g.push(r.a.createElement(Ur,{collectionStore:i,collectionViewLocalStore:s,key:n.id,store:n,startOfWeek:e.valueOf(),endOfWeek:t.valueOf(),start:k.start,end:k.end,row:k.row,includeTime:k.includeTime,format:l,schema:c,calendarBy:o,disabled:!p,calendarStore:h,blockPropertyValueOverlayStore:u,locked:this.isLocked.state})),k.row>b&&(b=k.row)}const v=m.isDragging&&m.temporaryValue&&Object(de.K)(m.temporaryValue,de.m);if(m.isDragging&&m.temporaryValue&&v&&Object(de.lb)(e.valueOf(),t.valueOf(),v.start.valueOf(),v.end?v.end.valueOf():void 0)){const{target:a,temporaryValue:d}=m,f=n.find(e=>e.id===a.id);g.push(r.a.createElement(Ur,{collectionStore:i,collectionViewLocalStore:s,key:a.id,store:a,startOfWeek:e.valueOf(),endOfWeek:t.valueOf(),start:v.start.valueOf(),end:v.end?v.end.valueOf():void 0,row:f?f.row:0,includeTime:"datetime"===d.type||"datetimerange"===d.type,format:l,schema:c,calendarBy:o,disabled:!p,calendarStore:h,blockPropertyValueOverlayStore:u,locked:this.isLocked.state}))}const y=(l.calendar_properties?l.calendar_properties.filter(e=>e.visible).map(e=>e.property):[]).length+1,S=Jr*y+2*Zr+2*Kr,w=Math.max((b+1)*S+Gr+4,124);return r.a.createElement("div",{style:{...Qr.weekWrapStyle,height:w},key:e.valueOf().toString()},f,g)}renderDay(e,t,n){const{store:o,collectionStore:a,collectionViewLocalStore:i}=this.props,{calendarStore:s}=this.stores,{dayStoreMap:l}=s.state,c=e.valueOf(),d=s.state,u="date"===n.type;let p=l.get(c);p||(p=new pe.a(this.environment,o.pointer,{userId:o.userId,inMemoryRecordCache:o.inMemoryRecordCache}),l.set(c,p));const h=!d.isDragging&&d.hoveredDay===e.valueOf(),m=this.isCurrentMonth(e),f=this.isToday(e),g=6===e.isoWeekday()||7===e.isoWeekday();return r.a.createElement(Ne.a,{style:g?this.getWeekendDayStyle():this.getDayStyle(),key:e.valueOf().toString(),store:p,canDropOnto:this.canEdit()&&u,onSelectableDrop:n=>{Pe.createAndCommit(this.environment,o=>{Ar.f({...n,environment:this.environment,startOfDay:e,calendarBy:t,collectionStore:a,collectionViewLocalStore:i,transaction:o})})},onDoubleClick:()=>{this.canEdit()&&Ke.j(this.environment)&&(this.createBlockInDay(c,t),W.fb(this.environment,{type:"page",from:"calendar_day_double_click"}))},analyticsName:"calendar_day",shouldShowDropZone:!0},h&&u&&this.canEdit()&&r.a.createElement(x.a,{renderTooltip:()=>r.a.createElement(X.FormattedMessage,{defaultMessage:"Add an item",id:"database.calendarView.addItemButtonTooltip"}),render:e=>r.a.createElement(yt.a,Object.assign({icon:T.a.plus,showShadow:!0,hasBackground:!0,style:{position:"absolute",top:6,left:6,width:20,height:20},onClick:()=>{Ke.j(this.environment)&&(this.createBlockInDay(c,t),W.fb(this.environment,{type:"page",from:"calendar_day_add_button"}))}},Object(lt.a)(e,{onMouseDown:We.c})))}),r.a.createElement("div",{style:{...f?Qr.todayNumberStyle:Qr.dayNumberStyle,...!m&&!f&&{color:this.theme.lightTextColor}},className:Ue.n},1!==e.date()||f?void 0:"".concat(e.format("MMM")," "),e.date()))}renderMobileWeek(e,t,n,o,a,i){const s=[];for(let r=0;r<7;r++){const l=e.clone().add(r,"days"),c=l.clone().endOf("day");s.push(this.renderMobileDay(e,t,l,c,n,o,a,i))}return r.a.createElement("div",{style:this.getMobileWeekStyle(),key:e.valueOf().toString()},s)}renderMobileDay(e,t,n,o,a,i,s,l){const{collectionViewLocalStore:c,collectionStore:d,collectionViewStore:u,query:p,format:h,schema:m,blockPropertyValueOverlayStore:f}=this.props,g=this.canEdit(),b=i.find(e=>Object(de.lb)(n.valueOf(),o.valueOf(),e.start,e.end?e.end:void 0)),v=n.date(),y=this.isCurrentMonth(n),S=this.isToday(n);return r.a.createElement(it.a,{popupType:it.a.PopupType.SlideUp,key:v.toString(),renderOrigin:e=>r.a.createElement(D.a,Object.assign({style:Qr.mobileDayButtonStyle},e),r.a.createElement("div",{style:{...S?Qr.mobileTodayNumberStyle:Qr.mobileDayNumberStyle,...!y&&!S&&{color:this.theme.lightTextColor}}},v),b&&r.a.createElement("div",{style:this.getMobileDayEventDotStyle()})),render:e=>r.a.createElement(Wr.LazyMobileCalendarDayMenu,{collectionViewLocalStore:c,collectionStore:d,collectionViewStore:u,initialStartOfDay:n.valueOf(),format:h,schema:m,query:p,calendarBy:s,disabled:!g,onDismiss:e.close,blockPropertyValueOverlayStore:f})})}setDateRange(e,t){const{collectionViewLocalStore:n}=this.props,{calendarStore:o}=this.stores;u.n({dateRangeStart:e,dateRangeEnd:t,collectionViewLocalStore:n}),o.setState({...o.state,currentlyScrolledMonth:Object(de.J)(Object(Dr.a)(e),Yr.q.state).startOf("month").valueOf()})}findHoveredDay(e,t){const{dayStoreMap:n}=this.stores.calendarStore.state,{selectableRectMap:o}=Xr.a.state,r=Array.from(n.keys()),a=Array.from(n.values()),i=o.keys();let s=i.next();for(;!s.done;){const l=s.value,c=o.get(l);if(c&&zr.g(c,e,t)&&a.indexOf(l.props.store)>=0)return r.find(e=>n.get(e)===l.props.store);s=i.next()}}createBlockInDay(e,t){const{collectionStore:n,collectionViewLocalStore:o}=this.props,{currentBlockStore:r}=Me.default.state;Pe.createAndCommit(this.environment,a=>{const i=Ar.e({environment:this.environment,calendarBy:t,collectionStore:n,collectionViewLocalStore:o,startOfDay:e,transaction:a}),s=r?Object(ne.a)({store:r,peekViewBlockId:i.id}):Object(ne.a)({store:i});this.navigate(s)})}setNewCalendarStart(e){const{collectionViewStore:t}=this.props,n=this.shouldInfinitelyLoad(),o=Yr.q.state,r=Object(de.J)(e.clone(),o);jr.b.setLocalDateRangeStart({collectionViewId:t.id,dateRangeStart:r.valueOf(),currentUserId:this.environment.currentUser.id});const a=n?Object(de.J)(r.add(1,"month"),o):Object(de.J)(r,o);this.setDateRange(e.valueOf(),a.endOf("month").valueOf()),this.verticalScrollableAncestor&&n&&(this.verticalScrollableAncestor.scrollTop=0)}shouldInfinitelyLoad(){const{device:e}=this.environment;return this.props.isFullScreen&&!e.isMobile}isCurrentMonth(e){const t=this.stores.calendarStore.state,n=Object(Dr.a)(t.currentlyScrolledMonth),o=n.clone().endOf("month");return e.isBetween(n,o,void 0,"[]")}isToday(e){const t=Object(Dr.a)().startOf("day"),n=Object(Dr.a)().endOf("day");return e.isBetween(t,n,void 0,"[]")}updateOrCreateCalendarProperty(e){const{query:t,schema:n,collectionStore:o,collectionViewStore:r}=e;Pe.createAndCommit(this.environment,e=>{let a,i=ye.c(n);if(!i){i=Object(Nt.a)();const e={name:this.props.intl.formatMessage({id:"database.calendarView.dateProperty.defaultName",defaultMessage:"Date"}),type:"date"};a={...n,[i]:e}}const s={...t,calendar_by:i};u.q({collectionViewStore:r,update:{query2:s},transaction:e}),a&&u.p({environment:this.environment,collectionStore:o,update:{schema:a},transaction:e})})}getHeaderStyle(){return{position:"absolute",left:0,right:0,background:this.theme.contentBackground,zIndex:Vt.d}}getHeaderMobileStyle(){return{position:"absolute",left:0,right:0,background:this.theme.contentBackground,zIndex:Vt.d}}getRowsWrapStyle(){return{boxShadow:"-1px 0 0 ".concat(this.theme.tableDividerColor),marginTop:1,overflow:"hidden"}}getWeekDayNameStyle(){return{flexGrow:1,flexBasis:0,textAlign:"center",fontSize:12,height:24,color:this.theme.lightTextColor}}getDayStyle(){return{position:"relative",flexGrow:1,flexShrink:0,flexBasis:0,borderRight:"1px solid ".concat(this.theme.tableDividerColor),borderBottom:"1px solid ".concat(this.theme.tableDividerColor),cursor:"default",background:this.theme.contentBackground}}getWeekendDayStyle(){return{...this.getDayStyle(),background:this.theme.sidebarBackground}}getMobileWeekStyle(){return{display:"flex",boxShadow:"0 -1px 0 ".concat(this.theme.tableDividerColor),paddingTop:8,paddingBottom:8,fontSize:14}}getMobileDayEventDotStyle(){return{width:8,height:8,background:this.theme.mediumIconColor,borderRadius:"100%",marginTop:2,marginLeft:"auto",marginRight:"auto"}}}Qr.contextTypes=St.a,Qr.style={position:"relative",paddingLeft:1},Qr.headerMonthNameStyle={fontWeight:V.a.fontWeight.semibold,marginRight:"auto",marginLeft:8,lineHeight:1},Qr.headerSpacerStyle={height:66},Qr.mobileHeaderSpacerStyle={height:74},Qr.mobileRowsWrapStyle={},Qr.weekWrapStyle={position:"relative",display:"flex"},Qr.dayNumberStyle={position:"absolute",fontSize:14,top:4,right:10,height:24,lineHeight:"24px",textAlign:"right",transition:"color 100ms ease-out"},Qr.todayNumberStyle={position:"absolute",fontSize:14,top:4,right:4,height:24,width:24,lineHeight:"24px",borderRadius:"100%",textAlign:"center",color:Z.g.white,background:Z.g.red},Qr.mobileDayButtonStyle={width:"100%",height:44,borderRadius:3},Qr.mobileDayNumberStyle={height:28,display:"flex",alignItems:"center",justifyContent:"center"},Qr.mobileTodayNumberStyle={height:28,width:28,lineHeight:"28px",borderRadius:"100%",textAlign:"center",color:Z.g.white,background:Z.g.red,marginLeft:"auto",marginRight:"auto"},Qr.loadingSpinnerStyle={margin:"8px auto"};var $r=Object(X.injectIntl)(Qr),ea=n("TmDR");class ta extends m.a{constructor(){super(...arguments),this.renderProperty=e=>{const{store:t,schema:n,disabled:o,blockPropertyValueOverlayStore:a,locked:i}=this.props;return r.a.createElement(ee.b,{key:e,store:t,property:e,schema:n,disabled:o||!t.canEdit(),locked:i,format:ee.a.ListView,tableWrap:!1,blockPropertyValueOverlayStore:a})},this.renderDiscussionIndicator=()=>{const{store:e}=this.props,t=ue.h(e);if(t>0)return r.a.createElement("div",{style:{display:"inline-flex",alignItems:"center",color:this.theme.lightTextColor,fontWeight:V.a.fontWeight.semibold,fontSize:12,paddingLeft:10,paddingRight:10}},T.a.speechBubble({width:14,height:14,marginRight:4,fill:this.theme.mediumIconColor}),t)},this.handleRecordIconChange=e=>{const{store:t}=this.props,n=t.getIconStore();n&&Pe.createAndCommit(this.environment,t=>{p.c({store:n,value:e,transaction:t})})}}activate(){const e=this.getPeekUrl();e&&ie.navigate({environment:this.environment,url:e})}renderComponent(){const{device:e}=this.environment,{showProperties:t}=this.props;return e.isPhone&&this.props.showProperties.length>0?r.a.createElement(te.a,{href:this.getBlockUrl(),metaHref:this.getPeekUrl(),external:!1,style:this.getTwoLineMobileWrapStyle(),innerStyle:{paddingRight:4,marginTop:10,marginBottom:10}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},this.renderTitle()),r.a.createElement("div",{style:{display:"flex",alignItems:"center",paddingLeft:6,marginTop:4}},t.map(this.renderProperty))):r.a.createElement(te.a,{href:this.getBlockUrl(),metaHref:this.getPeekUrl(),external:!1,style:ta.oneLineWrapStyle,innerStyle:{display:"flex",alignItems:"center",paddingRight:4}},this.renderTitle(),t.map(this.renderProperty))}renderTitle(){const{store:e,disabled:t}=this.props,n=Boolean(!e.canEdit()||t)?r.a.createElement(ae.a,{disabled:!1,bucket:"secure",store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:22,style:ta.iconStyle,onChange:this.handleRecordIconChange}):r.a.createElement(ae.a,{disabled:!0,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),size:22,style:ta.iconStyle});return r.a.createElement(o.Fragment,null,n,r.a.createElement("div",{style:this.getTitleWrapStyle()},r.a.createElement(Fr.a,{store:e,style:this.getTitleStyle()}),this.renderDiscussionIndicator()))}getPeekUrl(){const{currentBlockStore:e}=Me.default.state;if(e)return Object(ne.a)({store:e,fullyQualified:!1,peekViewBlockId:this.props.store.id})}getBlockUrl(){return Object(ne.a)({store:this.props.store,fullyQualified:!1})}getTwoLineMobileWrapStyle(){return{textDecoration:"none",overflow:"hidden",borderBottom:"1px solid ".concat(this.theme.tableDividerColor)}}getTitleWrapStyle(){const{device:e}=this.environment;return{display:"flex",marginRight:"auto",minWidth:e.isMobile?0:240}}getTitleStyle(){return{fontWeight:V.a.fontWeight.medium,borderBottom:"1px solid ".concat(this.theme.tableDividerColor),lineHeight:1.3}}}ta.oneLineWrapStyle={display:"flex",textDecoration:"none",height:30,overflow:"hidden",borderRadius:3},ta.iconStyle={marginLeft:2,marginRight:6};var na=ta;class oa extends b.a{constructor(){super(...arguments),this.handleScrollOffsetChange=e=>{const{collectionViewLocalStore:t,isFullScreen:n}=this.props,o=t.isLoading.get();e<Q.a.incrementScrollOffset&&!o&&!t.reachedEndOfTableResults()&&u.i({collectionViewLocalStore:t,isFullScreen:n,environment:this.environment})},this.handleAddItemClick=()=>{if(!Ke.j(this.environment))return;const{collectionViewLocalStore:e}=this.props,t=e.collectionStore.get();if(!t)return;const n=ye.l({environment:this.environment,group:void 0,collectionViewLocalStore:e,parentStore:t});Pe.createAndCommit(this.environment,t=>{const{currentBlockStore:o}=Me.default.state,r=e.collectionStore.get();if(r){const{newStore:a}=Ve.b({environment:this.environment,parentStore:r,collectionViewLocalStore:e,group:void 0,results:n,insertAtStart:!1,coerce:!0,transaction:t}),i=o?Object(ne.a)({store:o,peekViewBlockId:a.id}):Object(ne.a)({store:a});this.navigate(i),W.fb(this.environment,{from:"list_view_add_item_bottom",type:"page"})}})},this.handleLoadMoreClick=e=>{const{collectionViewLocalStore:t}=this.props;Object(We.b)(e),Object(le.e)(this.environment),u.i({collectionViewLocalStore:t,isFullScreen:this.props.isFullScreen,environment:this.environment}),W.Wb(this.environment)},this.isLocked=this.createComputedStore(()=>ye.p(this.props.collectionStore)),this.getItemSelectableStyle=()=>oa.itemSelectableStyle}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):ie.navigate({environment:this.environment,url:e})}renderComponent(){const{store:e,collectionStore:t,format:n,paddingBottom:o,paddingLeft:a,paddingRight:i,isFullScreen:s,disabled:l,collectionViewLocalStore:c,collectionViewStore:d,schema:u,blockPropertyValueOverlayStore:p}=this.props,h=this.getShowProperties(),m=ye.q(d,s),f=Object(Ft.a)(f=>r.a.createElement("div",{style:{paddingBottom:o,paddingLeft:a,paddingRight:i},className:Ue.H},r.a.createElement(Ne.a,Object.assign({store:e,shouldShowHalo:!s,canSelect:!s,analyticsName:"list",style:this.getWrapStyle()},f),r.a.createElement(qe,{parentStore:t,collectionViewLocalStore:c,group:void 0,format:n,canDrag:!l&&e.canEdit(),resultProps:{schema:u,collectionViewStore:d,collectionViewBlockStore:this.props.store,collectionStore:t,showProperties:h,disabled:l,blockPropertyValueOverlayStore:p,locked:this.isLocked.state},canDrop:!0,resultComponent:na,disabled:l,shouldShowHoverMenu:!0,direction:Xe.Vertical,analyticsName:"list",getItemSelectableStyle:this.getItemSelectableStyle,emptyDroppableSize:0}),!l&&e.canEdit()&&this.renderAddItemButton(),!s&&!c.reachedEndOfTableResults()&&m&&this.renderLoadMoreButton())));return m?f:r.a.createElement(tt.a,{onChange:this.handleScrollOffsetChange},f)}renderLoadMoreButton(){const{device:e}=this.environment,{store:t,format:n,collectionViewLocalStore:o,collectionViewStore:a,isFullScreen:i}=this.props;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%",borderTop:"1px solid ".concat(this.theme.tableDividerColor),marginTop:4,marginBottom:4}}),r.a.createElement(D.a,{onClick:this.handleLoadMoreClick,onMouseDown:We.c,style:{display:"flex",alignItems:"center",height:30,borderRadius:3,whiteSpace:"break-spaces",...e.isMobile&&{marginTop:6}}},T.a.arrowDown(this.getNewItemButtonIconStyle()),r.a.createElement("div",{style:{color:this.theme.lightTextColor}},r.a.createElement(Er,{collectionViewLocalStore:o,collectionViewStore:a,isFullScreen:i,groupFormat:void 0})),t.canEdit()&&r.a.createElement(Tr,{collectionViewLocalStore:o,collectionViewStore:a,format:n})))}renderAddItemButton(){const{device:e}=this.environment;return r.a.createElement(D.a,{onClick:this.handleAddItemClick,onMouseDown:We.c,style:{display:"flex",alignItems:"center",height:30,borderRadius:3,...e.isMobile&&{marginTop:6}}},T.a.plus(this.getNewItemButtonIconStyle()),r.a.createElement("div",{style:{color:this.theme.lightTextColor}},r.a.createElement(X.FormattedMessage,{defaultMessage:"New",id:"database.listView.addItemButtonTitle"})))}getShowProperties(){const{format:e}=this.props;return(e.list_properties?e.list_properties:[]).filter(e=>e.visible).map(({property:e})=>e)}getWrapStyle(){const{device:e}=this.environment;return{display:"flex",flexDirection:"column",borderTop:"1px solid ".concat(this.theme.tableDividerColor),paddingTop:e.isMobile?4:8}}getNewItemButtonIconStyle(){return{width:14,height:14,marginLeft:4,marginRight:12,fill:this.theme.lightIconColor}}}oa.contextTypes=St.a,oa.itemSelectableStyle={marginTop:1,marginBottom:1};var ra=oa;const aa=Object(X.defineMessages)({untitledBlock:{defaultMessage:"Untitled",id:"collectionGalleryViewItem.untitledBlock"},typeAName:{defaultMessage:"Type a name…",id:"collectionGalleryViewItem.itemName.placeholder"}});class ia extends m.a{constructor(){super(...arguments),this.storeTypes={mouseStore:re.a},this.renderControl=({isVisible:e,isRepositioning:t,handleCancelClick:n,handleRepositionClick:o,handleSavePositionClick:a})=>{const{device:i}=this.environment,{isMobile:s}=i,l=this.lastProxiedUrl&&this.props.coverFormat&&"contain"!==this.props.coverAspectFormat;if(this.shouldShowActionButton.state)return r.a.createElement(Be.a,{isVisible:e,position:"top"},l&&!t&&!s&&r.a.createElement(D.a,{style:Le.a.actionButtonStyle,onClick:e=>o(e,this.lastProxiedUrl)},r.a.createElement(X.FormattedMessage,{defaultMessage:"Reposition",id:"collectionGalleryViewItem.action.reposition"})),l&&t&&!s&&r.a.createElement(D.a,{style:Le.a.actionButtonStyle,onClick:a},r.a.createElement(X.FormattedMessage,{defaultMessage:"Save position",id:"collectionGalleryViewItem.action.savePosition"})),l&&t&&!s&&r.a.createElement(D.a,{style:Le.a.actionButtonStyle,onClick:n},r.a.createElement(X.FormattedMessage,{defaultMessage:"Cancel",id:"collectionGalleryViewItem.action.cancel"})),!t&&r.a.createElement(x.a,{renderTooltip:()=>r.a.createElement(X.FormattedMessage,{defaultMessage:"Rename, delete, move to and more…",id:"collectionGalleryViewItem.repositionAction.tooltip",description:"Tooltip appears when hovering over the action menu button for collection gallery view items."}),render:e=>r.a.createElement(D.a,Object.assign({style:Le.a.actionButtonStyle,onClick:this.handleActionButtonClick},e),T.a.dots({width:14,height:14}))}))},this.renderProperty=e=>{const{store:t,schema:n,disabled:o,blockPropertyValueOverlayStore:a,locked:i}=this.props;return r.a.createElement(ee.b,{key:e,store:t,property:e,schema:n,disabled:o||!t.canEdit(),locked:i,format:ee.a.GalleryView,tableWrap:!1,blockPropertyValueOverlayStore:a})},this.renderDiscussionIndicator=()=>{const{store:e}=this.props,t=ue.h(e);if(t>0)return r.a.createElement("div",{style:this.getDiscussionIndicatorWrapStyle()},T.a.speechBubble({width:14,height:14,marginRight:4,fill:this.theme.mediumIconColor}),t)},this.handleFlushTemporaryPosition=({imagePosition:e,reset:t})=>{Object(Pe.createAndCommit)(this.environment,n=>{Object(Oe.i)({store:this.props.store,coverPosition:e,transaction:n}),t()})},this.handleClick=()=>{W.Nb(this.environment,{is_peek:!0,from:"board"})},this.handleActionButtonClick=e=>{le.k({environment:this.environment,store:this.props.store}),se.c({environment:this.environment,stores:Ee.default.state.stores,left:e.clientX,top:e.clientY,showInput:!0,actions:ce.c,analyticsFrom:"block_more_menu"})},this.handleTextEnter=()=>{const{store:e,onTextEnter:t}=this.props;t&&t(e)},this.handleTextEsc=()=>{const{store:e,onTextEsc:t}=this.props;t&&t(e)},this.handleMouseMove=()=>{const{mouseStore:e}=this.stores;e.setState({...e.state,mouseEntered:!0})},this.handleMouseLeave=()=>{const{mouseStore:e}=this.stores;e.setState({...e.state,mouseEntered:!1})},this.isEditingTitle=this.createComputedStore(()=>{const e=Te.default.state;return"editing"===e.mode&&e.store===this.props.store.getBlockTitleStore()}),this.shouldShowActionButton=this.createComputedStore(()=>{const{device:e}=this.environment,{isKeyboardMode:t}=xe.a.state;return!e.isMobile&&this.canEdit()&&!t}),this.mouseIsEntered=this.createComputedStore(()=>this.stores.mouseStore.state.mouseEntered&&!Re.a.state)}activate(){const e=this.getPeekURL();e&&ie.navigate({environment:this.environment,url:e})}renderComponent(){const{device:e}=this.environment,{store:t,schema:n,coverFormat:o,coverAspectFormat:a,coverWidth:i,coverHeight:s,coverSizeFormat:l,shouldShowTitle:c}=this.props,d=this.getPageURL(),u=this.getPeekURL(),p=this.isEditingTitle.state,h=this.mouseIsEntered.state,m=this.getShowPropertiesWithValue();return r.a.createElement(te.a,{style:{...this.getStyle(),position:h?"relative":"static",height:"100%"},innerStyle:{display:"flex",flexDirection:"column",userSelect:p?void 0:"none",WebkitUserSelect:p?void 0:"none",height:"100%"},hoveredStyle:{background:this.theme.cardHoveredBackground},pressedStyle:{background:this.theme.cardPressedBackground},href:d,metaHref:e.isMobile?d:u,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},r.a.createElement(Ie.a,{mouseStore:this.stores.mouseStore,onFlushTemporaryPosition:this.handleFlushTemporaryPosition,source:"gallery",small:"small"===l,store:this.props.store,renderControl:this.renderControl},({imagePosition:e})=>o&&r.a.createElement(Ce,{store:t,coverWidth:i,coverHeight:s,coverFormat:o,coverAspectFormat:a,coverSizeFormat:l,coverPosition:e,schema:n,isGallery:!0,onLoadProxiedImage:e=>{this.lastProxiedUrl=e}})),c&&this.renderTitle(),m.length>0&&r.a.createElement("div",{style:this.getPropertiesWrapStyle()},m.map(this.renderProperty)),this.renderDiscussionIndicator())}renderTitle(){const{device:e}=this.environment,{store:t}=this.props,n=t.getBlockTitleStore(),o=t.hasIcon()||!t.isEmptyPage(),a=this.isEditingTitle.state;return r.a.createElement("div",{style:this.getTitleWrapStyle()},o&&r.a.createElement(ae.a,{disabled:!0,style:e.isMobile?ia.mobileTitleIconStyle:ia.desktopTitleIconStyle,icon:t.getIcon(),size:e.isMobile?24:18,isEmptyPage:t.isEmptyPage()}),r.a.createElement(oe.a,{store:n,disabled:!a,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableEmbedMenu:!0,onEnter:this.handleTextEnter,onEsc:this.handleTextEsc,onTab:l.a.identity,placeholder:a?De.default.formatMessage(aa.typeAName):De.default.formatMessage(aa.untitledBlock),style:{...e.isMobile?ia.mobileTitleTextStyle:ia.desktopTitleTextStyle,pointerEvents:a?void 0:"none"},disableSelectAllBlocks:!0}))}getPeekURL(){const{store:e}=this.props,{currentBlockStore:t}=Me.default.state;if(t)return Object(ne.a)({store:t,fullyQualified:!1,peekViewBlockId:e.id})}getPageURL(){const{store:e}=this.props;return Object(ne.a)({store:e,fullyQualified:!1})}getShowPropertiesWithValue(){const{showProperties:e,store:t,schema:n}=this.props;return e.filter(e=>$.e({blockValue:t.getValue(),property:e,schema:n,getRecordValue:this.props.store.getRecordValue,userTimeZone:de.m,intl:De.default.getIntl()}))}hasNoProperties(){return 0===this.getShowPropertiesWithValue().length}getStyle(){return{boxShadow:this.theme.lightBoxShadow,borderRadius:3,background:this.theme.popoverBackground,overflow:"hidden",transition:"background 100ms ease-out"}}getTitleWrapStyle(){return{width:"100%",paddingTop:8,paddingLeft:10,paddingRight:10,paddingBottom:this.hasNoProperties()?10:6}}getDiscussionIndicatorWrapStyle(){return{display:"flex",alignItems:"center",color:this.theme.lightTextColor,fontWeight:V.a.fontWeight.semibold,fontSize:12,paddingTop:this.hasNoProperties()&&!this.props.shouldShowTitle?8:0,paddingLeft:10,paddingRight:10,paddingBottom:8}}getPropertiesWrapStyle(){const{shouldShowTitle:e}=this.props;return{paddingTop:e?0:8,paddingLeft:10,paddingBottom:10}}}ia.desktopTitleIconStyle={float:"left",marginTop:2,marginRight:4,marginLeft:-2},ia.mobileTitleIconStyle={float:"left",marginTop:0,marginRight:4,marginLeft:-2},ia.desktopTitleTextStyle={fontSize:14,lineHeight:1.5,minHeight:21,fontWeight:V.a.fontWeight.medium,width:"auto",...V.a.textOverflowStyle},ia.mobileTitleTextStyle={fontSize:16,lineHeight:1.5,minHeight:24,fontWeight:V.a.fontWeight.medium,width:"auto",...V.a.textOverflowStyle};var sa=ia;class la extends Ct.a{getInitialState(){return{}}}var ca=la;class da extends b.a{constructor(){super(...arguments),this.storeTypes={collectionGalleryViewStore:ca},this.selectableContainer=null,this.handleResize=()=>{const{collectionGalleryViewStore:e}=this.stores,t=this.getGalleryCardCoverHeight(),n=this.getGalleryCardActualWidth();e.state.coverHeight!==t&&this.setCardCoverHeight(t),e.state.coverWidth!==n&&this.setCardCoverWidth(n)},this.handleResizeDebounced=Object(s.debounce)(this.handleResize,1e3),this.handleResizeThrottled=Object(s.throttle)(this.handleResize,100),this.handleScrollOffsetChange=e=>{const{collectionViewLocalStore:t,isFullScreen:n}=this.props,o=t.isLoading.get();e<Q.a.incrementScrollOffset&&!o&&!t.reachedEndOfTableResults()&&u.i({collectionViewLocalStore:t,isFullScreen:n,environment:this.environment})},this.handleLoadMoreClick=e=>{const{collectionViewLocalStore:t}=this.props;Object(We.b)(e),le.e(this.environment),u.i({collectionViewLocalStore:t,isFullScreen:this.props.isFullScreen,environment:this.environment}),W.Wb(this.environment)},this.handleItemTextEsc=e=>{const{collectionViewLocalStore:t}=this.props,n=t.collectionStore.get(),o=e.getTitleStore();o&&(et.Y(o.getValue())?le.k({environment:this.environment,store:e}):n&&Pe.createAndCommit(this.environment,t=>{Ve.j({collectionStore:n,store:e,transaction:t})}))},this.handleAddItemClick=()=>{if(!Ke.j(this.environment))return;const{collectionViewLocalStore:e}=this.props,t=e.collectionStore.get();if(!t)return;const n=ye.l({environment:this.environment,group:void 0,collectionViewLocalStore:e,parentStore:t});Pe.createAndCommit(this.environment,t=>{const o=e.collectionStore.get(),{currentBlockStore:r}=Me.default.state;if(o){const{newStore:a}=Ve.b({environment:this.environment,parentStore:o,collectionViewLocalStore:e,group:void 0,results:n,insertAtStart:!1,coerce:!0,transaction:t}),i=r?Object(ne.a)({store:r,peekViewBlockId:a.id}):Object(ne.a)({store:a});this.navigate(i),W.fb(this.environment,{from:"list_view_add_item_bottom",type:"page"})}})},this.isSingleColumnStore=this.createComputedStore(()=>this.environment.WindowSizeStore.state.width<=da.singleColumnScreenWidth),this.isLocked=this.createComputedStore(()=>this.props.store.isLocked())}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):ie.navigate({environment:this.environment,url:e})}didUpdate(e){(e.format||{}).gallery_cover_size!==(this.props.format||{}).gallery_cover_size&&(this.setCardCoverHeight(),this.setCardCoverWidth())}didMount(){this.setCardCoverWidth(),this.setCardCoverHeight(),Object(Rr.a)(window,"resize",this.handleResizeThrottled),this.environment.device.isMobile&&Object(Rr.a)(window,"orientationchange",this.handleResizeDebounced)}willUnmount(){Object(Rr.b)(window,"resize",this.handleResizeThrottled),this.environment.device.isMobile&&Object(Rr.b)(window,"orientationchange",this.handleResizeDebounced)}renderComponent(){const{store:e,collectionStore:t,format:n,paddingBottom:o,paddingLeft:a,paddingRight:i,isFullScreen:s,disabled:l,collectionViewLocalStore:c,schema:d,blockPropertyValueOverlayStore:u,collectionViewStore:p}=this.props,{collectionGalleryViewStore:h}=this.stores,m=this.isSingleColumnStore.state,f=ye.q(p,s),g=Object(Ft.a)(p=>r.a.createElement("div",{style:{paddingBottom:o,paddingLeft:a,paddingRight:i},className:Ue.D},r.a.createElement(Ne.a,Object.assign({store:e,shouldShowHalo:!s,canSelect:!s,analyticsName:"gallery"},p,{style:this.getWrapStyle(),ref:e=>this.selectableContainer=e}),r.a.createElement(qe,{parentStore:t,collectionViewLocalStore:c,format:n,canDrag:!l&&e.canEdit(),resultProps:{schema:d,onTextEnter:this.handleItemTextEsc,onTextEsc:this.handleItemTextEsc,disabled:l,coverFormat:this.getCoverFormat(),coverAspectFormat:this.getCoverAspectFormat(),coverSizeFormat:this.getCoverSizeFormat(),coverHeight:h.state.coverHeight,coverWidth:h.state.coverWidth,shouldShowTitle:$e.k(this.props.format,"gallery"),blockPropertyValueOverlayStore:u,showProperties:this.getShowProperties(),locked:this.isLocked.state},resultComponent:sa,canDrop:!0,disabled:l,shouldShowHoverMenu:!1,group:void 0,direction:m?Xe.Vertical:Xe.Horizontal,belowDropZoneMargin:6,emptyDroppableSize:4,dropzoneGap:10,analyticsName:"gallery",emptyDroppableStyle:this.getEmptyDroppableStyle()}),!l&&e.canEdit()&&this.renderAddItemButton()),!s&&!c.reachedEndOfTableResults()&&f&&this.renderLoadMoreButton()));return f?g:r.a.createElement(tt.a,{onChange:this.handleScrollOffsetChange},g)}renderLoadMoreButton(){const{device:e}=this.environment,{store:t,collectionViewLocalStore:n,collectionViewStore:o,isFullScreen:a,format:i}=this.props;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%",borderTop:"1px solid ".concat(this.theme.tableDividerColor),marginTop:8,marginBottom:4}}),r.a.createElement(D.a,{onClick:this.handleLoadMoreClick,onMouseDown:We.c,style:{display:"flex",alignItems:"center",height:30,borderRadius:3,paddingLeft:8,...e.isMobile&&{marginTop:6},whiteSpace:"break-spaces"}},T.a.arrowDown(this.getNewItemButtonIconStyle()),r.a.createElement("div",{style:{color:this.theme.lightTextColor}},r.a.createElement(Er,{collectionViewLocalStore:n,collectionViewStore:o,isFullScreen:a,groupFormat:void 0})),t.canEdit()&&r.a.createElement(Tr,{collectionViewLocalStore:n,collectionViewStore:o,format:i})))}renderAddItemButton(){return r.a.createElement(D.a,{onClick:this.handleAddItemClick,onMouseDown:We.c,style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,borderRadius:3,boxShadow:"".concat(this.theme.regularDividerColor," 0px 0px 0px 1px inset"),minHeight:40}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:-6}},T.a.plus(this.getNewItemButtonIconStyle()),r.a.createElement("div",{style:{color:this.theme.lightIconColor}},r.a.createElement(X.FormattedMessage,{defaultMessage:"New",id:"database.galleryView.addItemButtonTitle"}))))}setCardCoverHeight(e){const{collectionGalleryViewStore:t}=this.stores;t.setState({...t.state,coverHeight:e||this.getGalleryCardCoverHeight()})}setCardCoverWidth(e){const{collectionGalleryViewStore:t}=this.stores;t.setState({...t.state,coverWidth:e||this.getGalleryCardWidth()})}getShowProperties(){const{format:e}=this.props;return(e.gallery_properties?e.gallery_properties:[]).filter(e=>e.visible).map(({property:e})=>e)}getCoverFormat(){const{format:e}=this.props;return e?e.gallery_cover:void 0}getCoverAspectFormat(){const{format:e}=this.props;return e?e.gallery_cover_aspect:void 0}getCoverSizeFormat(){const{format:e}=this.props;return e?e.gallery_cover_size:void 0}getGalleryCardWidth(){const{format:e}=this.props;switch((e||{}).gallery_cover_size){case"large":return Se.a.card.desktop.large.width;case"small":return Se.a.card.desktop.small.width;case"medium":default:return Se.a.card.desktop.medium.width}}getGalleryCardActualWidth(){if(this.selectableContainer){const e=this.selectableContainer.getNode();if(e){const{childNodes:t}=e;if(t&&t.length>0){const e=t[1];if(e)return e.offsetWidth}}}return this.getGalleryCardWidth()}getGalleryCardCoverHeight(){return this.getGalleryCardActualWidth()*(9/16)}getWrapStyle(){const e=this.isSingleColumnStore.state;return{display:"grid",position:"relative",gridTemplateColumns:"repeat(auto-fill, minmax(".concat(e?"100%":"".concat(this.getGalleryCardWidth(),"px"),", 1fr))"),gridAutoRows:"1fr",gridRowGap:16,gridColumnGap:16,borderTop:"1px solid ".concat(this.theme.tableDividerColor),paddingTop:16,paddingBottom:4}}getEmptyDroppableStyle(){return this.isSingleColumnStore.state?{position:"absolute",top:6,left:0,right:0,height:4}:{position:"absolute",top:16,bottom:0,width:4,height:"none"}}getNewItemButtonIconStyle(){return{width:14,height:14,marginLeft:-1,marginRight:6,fill:this.theme.lightIconColor}}}da.contextTypes=St.a,da.singleColumnScreenWidth=480;var ua=da,pa=n("Catn"),ha=n("PuL6"),ma=n("EmAo"),fa=n("JuT7"),ga=n("Hz2r"),ba=n("+NSf"),va=n("Ko8Q"),ya=n("yjqD"),Sa=n("vBRW"),wa=n("Rtjx");n("E9XD");class ka extends b.a{constructor(){super(...arguments),this.renderZoomLevelMenu=e=>{const{zoomLevel:t,onChange:n}=this.props,{device:o}=this.environment,a=[{key:"calendar by section",render:e=>r.a.createElement(I.a,Object.assign({},e)),items:$.o.map(t=>({key:t,render:e=>r.a.createElement(rt.a,Object.assign({},e,{title:this.renderZoomLevelText(t)})),action:()=>{n(t),e.close()}}))}];return r.a.createElement(w.a,{capture:!0,allowEsc:!0,render:n=>{let i;return i=o.isMobile?{menuType:B.a.Modal,title:r.a.createElement(X.FormattedMessage,{defaultMessage:"Select a zoom level",id:"database.timelineView.mobileTimelineZoomPicker.title"}),right:r.a.createElement(ut.DoneMenuText,null),onClickRight:e.close,...n}:{menuType:B.a.Popup,width:180,...n},r.a.createElement(B.b,Object.assign({},i),r.a.createElement(P.a,{type:P.a.Type.Vertical,sections:a,initialFocus:$.o.indexOf(t)}))}})}}renderComponent(){const{zoomLevel:e}=this.props,{device:t}=this.environment;return r.a.createElement(it.a,{popupType:t.isMobile?st.b.SlideUp:st.b.Popup,renderOrigin:t=>r.a.createElement(G.a,Object.assign({isSmall:!0,isGray:!0},t),this.renderZoomLevelText(e),T.a.chevronDown({width:10,marginLeft:4,fill:this.theme.mediumIconColor})),originGap:8,render:this.renderZoomLevelMenu})}renderZoomLevelText(e){return"hours"===e?r.a.createElement(X.FormattedMessage,{id:"database.timelineView.zoomLevel.hours",defaultMessage:"Hours",description:"Sets the timeline zoom level to hours."}):"day"===e?r.a.createElement(X.FormattedMessage,{id:"database.timelineView.zoomLevel.day",defaultMessage:"Day",description:"Sets the timeline zoom level to day."}):"week"===e?r.a.createElement(X.FormattedMessage,{id:"database.timelineView.zoomLevel.week",defaultMessage:"Week",description:"Sets the timeline zoom level to week."}):"bi_week"===e?r.a.createElement(X.FormattedMessage,{id:"database.timelineView.zoomLevel.biWeek",defaultMessage:"Bi-week",description:"Sets the timeline zoom level to Bi-week."}):"month"===e?r.a.createElement(X.FormattedMessage,{id:"database.timelineView.zoomLevel.month",defaultMessage:"Month",description:"Sets the timeline zoom level to month."}):"quarter"===e?r.a.createElement(X.FormattedMessage,{id:"database.timelineView.zoomLevel.quarter",defaultMessage:"Quarter",description:"Sets the timeline zoom level to quarter."}):"year"===e?r.a.createElement(X.FormattedMessage,{id:"database.timelineView.zoomLevel.year",defaultMessage:"Year",description:"Sets the timeline zoom level to year."}):void Object(F.e)(e)}}var Ca=ka,Ma=n("R3bO");class Ea extends b.a{constructor(){super(...arguments),this.renderedEl=null,this.handleLeftArrowClick=()=>{const{timelineState:e,paddingLeft:t,format:n,isFullScreen:o,isRootChild:r,collectionViewLocalStore:a}=this.props,i=e.zoomLevel.get(),s=(e.outerSizeObserver.width.get()-Object(zn.s)({environment:this.environment,paddingLeft:t,format:n,isFullScreen:o,isRootChild:r}))/2,l=Object(zn.l)(e)-Object(zn.B)(i,s);Object(Ma.g)({timelineState:e,environment:this.environment,zoomLevel:i,centerTimestamp:l}),Object(W.Ge)(this.environment,{...Object(zn.v)({environment:this.environment,collectionViewLocalStore:a,timelineState:e,isFullScreen:o,isRootChild:r}),type:"left"})},this.handleRightArrowClick=()=>{const{timelineState:e,paddingLeft:t,format:n,isFullScreen:o,isRootChild:r,collectionViewLocalStore:a}=this.props,i=e.zoomLevel.get(),s=(e.outerSizeObserver.width.get()-Object(zn.s)({environment:this.environment,paddingLeft:t,format:n,isFullScreen:o,isRootChild:r}))/2,l=Object(zn.l)(e)+Object(zn.B)(i,s);Object(Ma.g)({timelineState:e,environment:this.environment,zoomLevel:i,centerTimestamp:l}),Object(W.Ge)(this.environment,{...Object(zn.v)({environment:this.environment,collectionViewLocalStore:a,timelineState:e,isFullScreen:o,isRootChild:r}),type:"right"})},this.handleTodayClick=()=>{const{timelineState:e,paddingLeft:t,format:n,collectionViewLocalStore:o,isFullScreen:r,isRootChild:a}=this.props,i=e.zoomLevel.get(),s=Object(zn.p)({timestamp:Date.now(),environment:this.environment,timelineState:e,paddingLeft:t,format:n});Object(Ma.g)({timelineState:e,environment:this.environment,zoomLevel:i,centerTimestamp:s}),Object(W.He)(this.environment,Object(zn.v)({environment:this.environment,collectionViewLocalStore:o,timelineState:e,isFullScreen:r,isRootChild:a}))},this.handleZoomLevelChange=e=>{const{timelineState:t,collectionViewLocalStore:n,isFullScreen:o,isRootChild:r}=this.props;Object(Ma.g)({timelineState:t,environment:this.environment,zoomLevel:e,centerTimestamp:Object(zn.l)(t)}),Object(W.Ne)(this.environment,Object(zn.v)({environment:this.environment,collectionViewLocalStore:n,timelineState:t,isFullScreen:o,isRootChild:r}))},this.handleMount=e=>{this.renderedEl=e},this.handleScrollStoreChange=()=>{const{collectionViewScrollStore:e}=this.props,{topPosition:t,offsetTop:n}=e.state,{renderedEl:o}=this;o&&(t===Go.Regular||this.props.isInPeekRenderer?(o.style.transform="",o.style.bottom=""):t===Go.Fixed&&(o.style.transform="translate3d(0, ".concat(n,"px, 0)"),o.style.bottom=""))},this.handleShowTableClick=()=>{const{format:e,collectionViewStore:t,timelineState:n,collectionViewLocalStore:o,isFullScreen:r,isRootChild:a}=this.props;Object(Pe.createAndCommit)(this.environment,n=>{const o=Object(zn.t)(e,!0);Object(Oe.h)({stores:[t],update:o,transaction:n})}),Object(W.Ie)(this.environment,{...Object(zn.v)({environment:this.environment,collectionViewLocalStore:o,timelineState:n,isFullScreen:r,isRootChild:a}),show:!0})},this.currentScrolledSecondaryDisplayUnitStore=this.createComputedStore(()=>{const{timelineState:e,scrollerLeftOffset:t,paddingLeft:n,showTable:o,isFullScreen:r}=this.props,a=e.zoomLevel.get(),{primaryDisplayUnit:i,secondaryDisplayUnit:s}=zn.L[a],l=e.scrollLeft.get(),{startTimestamp:c}=e.currentRange.get();if(void 0!==l){const e=c+Object(zn.B)(a,l+t+(!o&&r?n:0));return Object(zn.F)(Object(Dr.a)(e),i).startOf(s).valueOf()}})}willMount(e){super.willMount(e),e.collectionViewScrollStore.addListener(this.handleScrollStoreChange)}willUnmount(){super.willUnmount(),this.props.collectionViewScrollStore.removeListener(this.handleScrollStoreChange)}didMount(){super.didMount(),this.handleScrollStoreChange()}renderComponent(){const{timelineState:e,showTable:t,isFullScreen:n,isRootChild:o}=this.props,{device:a}=this.environment,i=e.zoomLevel.get(),{secondaryDisplayUnit:s}=zn.L[i],l=this.currentScrolledSecondaryDisplayUnitStore.state,c=Object(zn.H)({environment:this.environment,isFullScreen:n,isRootChild:o}),d=!t&&c;return r.a.createElement("div",{style:this.getStyle(),ref:this.handleMount},l&&r.a.createElement("div",{style:this.getCurrentScrolledSecondaryDisplayUnitStyle()},d&&r.a.createElement(x.a,{render:e=>r.a.createElement(G.a,Object.assign({isSmall:!0,onClick:this.handleShowTableClick,style:{paddingLeft:4,paddingRight:4,marginLeft:2,marginRight:4,marginTop:a.isIOS?0:1,height:22,fill:this.theme.lightIconColor}},e),T.a.doubleChevronRight({width:12})),renderTooltip:()=>r.a.createElement(X.FormattedMessage,{id:"database.timelineView.controlHeader.showTableButton.title",defaultMessage:"Show table"})}),r.a.createElement("span",{style:{paddingLeft:d||this.environment.device.isPhone?0:n||t?16:2}},Object(zn.j)(Object(Dr.a)(l),s)),r.a.createElement("div",{style:{width:30,marginRight:-30,height:"100%",backgroundImage:"linear-gradient(to right, ".concat(this.theme.contentBackground," 20%, ").concat(this.theme.contentBackgroundTransparent," 100%)")}})),r.a.createElement("div",{style:this.getControlBarRightStyle()},r.a.createElement("div",{style:{width:30,marginLeft:-30,height:"100%",backgroundImage:"linear-gradient(to left, ".concat(this.theme.contentBackground," 20%, ").concat(this.theme.contentBackgroundTransparent," 100%)")}}),r.a.createElement(Ca,{zoomLevel:i,onChange:this.handleZoomLevelChange}),r.a.createElement(G.a,{isSmall:!0,isGray:!0,onClick:this.handleLeftArrowClick,style:{marginLeft:4,paddingLeft:4,paddingRight:4}},T.a.chevronLeft({width:12,fill:this.theme.mediumIconColor})),r.a.createElement(G.a,{isSmall:!0,onClick:this.handleTodayClick},r.a.createElement(X.FormattedMessage,{id:"database.timelineView.controlHeader.todayButton.title",defaultMessage:"Today",description:"Scrolls the timeline to today."})),r.a.createElement(G.a,{isSmall:!0,isGray:!0,onClick:this.handleRightArrowClick,style:{paddingLeft:4,paddingRight:4}},T.a.chevronRight({width:12,fill:this.theme.mediumIconColor}))))}getStyle(){const{timelineState:e}=this.props,{outerSizeObserver:t}=e;return{position:"sticky",left:0,width:t.width.get(),zIndex:Vt.t,height:0}}getCurrentScrolledSecondaryDisplayUnitStyle(){const{scrollerLeftOffset:e,paddingLeft:t,isFullScreen:n,showTable:o}=this.props;return{position:"absolute",top:1,left:0,paddingLeft:n&&!o?e+t:e,display:"flex",alignItems:"center",height:32,paddingTop:6+(this.environment.device.isMobile?2:0),background:this.theme.contentBackground,fontSize:14,fontWeight:V.a.fontWeight.medium}}getControlBarRightStyle(){const{paddingRight:e}=this.props;return{position:"absolute",top:1,right:0,paddingRight:e,display:"flex",alignItems:"center",height:32,paddingTop:7,background:this.theme.contentBackground}}}var _a=Ea;class Ta extends b.a{constructor(){super(...arguments),this.renderedEl=null,this.handleSeconds=()=>{0===(new Date).getSeconds()&&this.enqueueForceUpdate()},this.handleMount=e=>{this.renderedEl=e},this.handleScrollStoreChange=()=>{const{collectionViewScrollStore:e}=this.props,{topPosition:t,offsetTop:n}=e.state,{renderedEl:o}=this;o&&(t===Go.Regular||this.props.isInPeekRenderer?(o.style.transform="",o.style.bottom=""):t===Go.Fixed&&(o.style.transform="translate3d(0, ".concat(n,"px, 0)"),o.style.bottom=""))},this.activeRangeStore=this.createComputedStore(()=>{const{timelineState:e,query:t,schema:n,collectionStore:o,intl:r}=this.props,a=e.dragState.get(),i=e.zoomLevel.get(),s=e.hoveredItem.get(),c=e.dateRangePlaceholder.get(),{activeRangeType:d}=zn.L[i];if(!d)return;let u;if(a)u=a.temporaryValues.map(e=>Object(zn.e)(e,"day"));else if(c.active)u=[Object(zn.e)(c.date,"day")];else{const{stores:e}=Ee.default.state,a=e.filter(e=>e.getParentCollectionId()===o.id),i=l.a.uniq(l.a.compact([...a,s]));u=l.a.compact(i.map(e=>{const o=Object(zn.u)({store:e,query:t,schema:n,intl:r});if(o)return Object(zn.e)(o,"day")}))}const p=l.a.minBy(u,({start:e})=>e.valueOf()),h=l.a.maxBy(u,({end:e})=>e.valueOf());return p&&h?{start:p.start.valueOf(),end:h.end.valueOf()}:void 0},!0)}willMount(e){super.willMount(e),e.collectionViewScrollStore.addListener(this.handleScrollStoreChange)}didMount(){super.didMount(),this.handleScrollStoreChange(),this.interval=setInterval(this.handleSeconds,1e3)}willUnmount(){super.willUnmount(),this.props.collectionViewScrollStore.removeListener(this.handleScrollStoreChange),clearInterval(this.interval)}renderComponent(){const{timelineState:e}=this.props,t=e.zoomLevel.get(),n=zn.L[t],{primaryDisplayUnit:o,activeRangeType:a}=n,i=Object(zn.K)(o)?Object(Dr.a)().startOf("minute"):Object(Dr.a)().startOf("day"),s=Object(Dr.a)().startOf("minute"),{device:l}=this.environment;return r.a.createElement("div",{style:this.getStyle(),ref:this.handleMount},r.a.createElement("div",{style:{height:32,position:"relative",overflow:"hidden"}},!l.isPhone&&this.renderSecondaryIndicators()),r.a.createElement("div",{style:{height:32,position:"relative",overflow:"hidden"}},this.renderPrimaryIndicators(i),"highlight_days"===a&&this.renderActiveRange(),this.renderNowIndicator(i),"display_range"===a&&this.renderActiveRange()),this.renderNowCircle(s))}renderPrimaryIndicators(e){const{timelineState:t}=this.props,n=t.zoomLevel.get(),{startTimestamp:o,endTimestamp:r}=t.currentRange.get(),a=zn.L[n],{primaryDisplayUnit:i,hidePrimaryIndicatorIntersectionOffset:s}=a,l=s||0,c=this.getPrimaryDisplayUnitPosition(e,!1),d=c.left+l,u=c.left+c.width-l,p=[];let h=Object(zn.F)(Object(Dr.a)(o),i);for(;h.valueOf()<r;){const e=this.getPrimaryDisplayUnitPosition(h,!1),t=e.left+l,n=e.left+e.width-l;void 0!==s&&(d>=t&&d<=n||u>=t&&u<=n)||p.push(this.renderPrimaryIndicator(h,!1)),h=Object(zn.x)(h,i)}return p}renderSecondaryIndicators(){const{timelineState:e}=this.props,t=e.zoomLevel.get(),{startTimestamp:n,endTimestamp:o}=e.currentRange.get(),r=zn.L[t],{primaryDisplayUnit:a,secondaryDisplayUnit:i}=r,s=[];let l=Object(zn.F)(Object(Dr.a)(n),i);for(;l.valueOf()<o;){s.push(this.renderSecondaryIndicator(l));const e=Object(zn.x)(l,i);l=Object(zn.b)(e,a)}return s}renderActiveRange(){const{timelineState:e}=this.props,t=e.zoomLevel.get(),{startTimestamp:n,endTimestamp:o}=e.currentRange.get(),a=zn.L[t],{activeRangeType:i}=a,s=this.activeRangeStore.state;if(s){const e=Object(zn.F)(Object(Dr.a)(s.start),"day"),a=Object(zn.G)(t,e.valueOf()-n);if("highlight_days"===i){const i=[];let l=Object(Dr.a)(Math.max(e.valueOf(),Object(zn.F)(Object(Dr.a)(n),"day").valueOf()));for(;l.valueOf()<s.end&&l.valueOf()<o;){i.push(l),l=Object(zn.x)(l,"day")}const c=Object(zn.G)(t,l.valueOf()-n)-a+8,d=i.map((e,t)=>this.renderPrimaryIndicator(e,0===t||t===i.length-1));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"absolute",left:a-4,width:c,marginTop:3,height:22,background:this.theme.timelineDarkerBackground,borderRadius:11}}),d)}{const o=Object(zn.F)(Object(Dr.a)(s.end),"day"),i=Object(zn.f)(Object(Dr.a)(s.end),"day"),l=Object(zn.G)(t,o.valueOf()-n)-a+8;return r.a.createElement("div",{style:{display:"flex",alignItems:"center",position:"absolute",left:a-4,minWidth:l,marginTop:3,height:22,background:this.theme.timelineDarkerBackground,borderRadius:11,paddingLeft:6,paddingRight:6}},this.renderActiveDisplayRangeIndicator(e,e.valueOf()!==i.valueOf()?i:void 0,l))}}}renderPrimaryIndicator(e,t){const{timelineState:n}=this.props,o=n.zoomLevel.get(),{primaryDisplayUnit:a}=zn.L[o],{left:i,width:s}=this.getPrimaryDisplayUnitPosition(e,!1);return r.a.createElement("div",{key:i,style:{position:"absolute",left:i,width:s,height:28,display:"flex",alignItems:"start",lineHeight:"".concat(28,"px")}},r.a.createElement("div",{style:{fontSize:12,margin:"0 auto"}},this.formatPrimaryDisplayUnit(e,o,a,t)))}renderNowIndicator(e){const{timelineState:t}=this.props,n=t.zoomLevel.get(),{primaryDisplayUnit:o}=zn.L[n],{left:a,width:i}=this.getPrimaryDisplayUnitPosition(e,!0);return r.a.createElement("div",{key:a,style:{position:"absolute",left:a,width:i,height:28,display:"flex",alignItems:"center",fontWeight:500}},r.a.createElement("div",{style:{fontSize:12,margin:"0 auto",display:"flex"}},this.formatNowIndicator(e,n,o)))}renderNowCircle(e){const{timelineState:t}=this.props,n=t.zoomLevel.get(),{startTimestamp:o}=t.currentRange.get(),a=Math.floor(Object(zn.G)(n,e.valueOf()-o));return r.a.createElement("div",{style:{position:"absolute",left:a-3.5,top:Math.floor(60.5),width:7,height:7,background:this.theme.timelineRed,borderRadius:"100%"}})}renderSecondaryIndicator(e){const{timelineState:t}=this.props,n=t.zoomLevel.get(),{startTimestamp:o}=t.currentRange.get(),{secondaryDisplayUnit:a}=zn.L[n],i=Object(zn.G)(n,e.valueOf()-o);return r.a.createElement("div",{key:i,style:{position:"absolute",left:i,height:32,color:this.theme.regularTextColor,fontSize:14,fontWeight:V.a.fontWeight.medium,verticalAlign:"middle",paddingTop:6+(this.environment.device.isMobile?2:0),display:"flex",alignItems:"center"}},Object(zn.k)(e,a))}renderActiveDisplayRangeIndicator(e,t,n){return e&&t?n>=110?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:this.getActiveDisplayRangeIndicatorStyle()},Object(de.B)(e)),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement("div",{style:this.getActiveDisplayRangeIndicatorStyle()},Object(de.B)(t))):r.a.createElement("div",{style:this.getActiveDisplayRangeIndicatorStyle()},Object(de.B)(e)," – ",e.month()===t.month()?Object(de.A)(t):Object(de.B)(t)):r.a.createElement("div",{style:this.getActiveDisplayRangeIndicatorStyle()},e.format("MMM D"))}formatPrimaryDisplayUnit(e,t,n,o){const a=Object(zn.z)(),i=o?this.theme.regularTextColor:this.theme.lightTextColor,s=o?this.theme.regularTextColor:this.theme.mediumTextColor,l=o?this.theme.mediumTextColor:this.theme.lightTextColor,c=e.format("LT").startsWith(e.format("A"));if("fifteen_minutes"===n){if(a)return r.a.createElement("span",{style:{color:i}},e.format("H:mm"));{const t=r.a.createElement("span",{style:{color:s,paddingRight:c?void 0:3}},e.format("h:mm")),n=r.a.createElement("span",{style:{color:l,paddingRight:c?3:void 0}},e.format("A"));return c?r.a.createElement(r.a.Fragment,null,n,t):r.a.createElement(r.a.Fragment,null,t,n)}}if("hour"===n){if(a)return r.a.createElement("span",{style:{color:i}},e.format("H:mm"));{const t=r.a.createElement("span",{style:{color:s,paddingRight:c?void 0:3}},e.format("h")),n=r.a.createElement("span",{style:{color:l,paddingRight:c?3:void 0}},e.format("A"));return c?r.a.createElement(r.a.Fragment,null,n,t):r.a.createElement(r.a.Fragment,null,t,n)}}if("day"===n||"week"===n)return"week"===t||"bi_week"===t?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{color:l,paddingRight:3}},e.format("dd").substring(0,1)),r.a.createElement("span",{style:{color:s,padding:"2px 7px"}},e.format("D"))):r.a.createElement("span",{style:{color:i}},e.format("D"));Object(F.e)(n)}formatNowIndicator(e,t,n){const o=Object(zn.K)(n),a=Object(zn.z)();return o?a?r.a.createElement("span",{style:{color:this.theme.timelineRed}},e.format("H:mm")):r.a.createElement("span",{style:{color:this.theme.timelineRed,paddingRight:3}},e.format("LT")):"week"===t||"bi_week"===t?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{color:this.theme.lightTextColor,paddingRight:3}},e.format("dd").substring(0,1)),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{style:this.getNowIndicatorCircleStyle()}),r.a.createElement("span",{style:{position:"relative",color:"white",padding:"2px 7px"}},e.format("D")))):r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{style:this.getNowIndicatorCircleStyle()}),r.a.createElement("span",{style:{position:"relative",color:"white",padding:"2px 7px"}},e.format("D")))}getPrimaryDisplayUnitPosition(e,t){const{timelineState:n}=this.props,o=n.zoomLevel.get(),{startTimestamp:r}=n.currentRange.get(),{primaryDisplayUnit:a,primaryDisplayUnitAlignment:i}=zn.L[o],s=Object(zn.F)(e,a),l=Object(zn.x)(e,a),c=Object(zn.G)(o,s.valueOf()-r),d=Object(zn.G)(o,e.valueOf()-r),u=Object(zn.G)(o,l.valueOf()-r)-c,p=t?4:0;return{left:("range_start"===i?d-u/2:d)-p,width:u+2*p}}getStyle(){return{position:"absolute",left:0,top:0,width:"100%",background:this.theme.contentBackground,borderTop:"1px solid ".concat(this.theme.tableDividerColor),borderBottom:"1px solid ".concat(this.theme.tableDividerColor)}}getActiveDisplayRangeIndicatorStyle(){return{color:this.theme.regularTextColor,fontSize:12}}getNowIndicatorCircleStyle(){return{background:this.theme.timelineRed,width:22,height:22,borderRadius:11,position:"absolute",left:"calc(50% - ".concat(11,"px)"),top:"calc(50% - ".concat(11,"px)")}}}var xa,Ia=Object(X.injectIntl)(Ta);!function(e){e[e.Hidden=0]="Hidden",e[e.VisibleInItem=1]="VisibleInItem",e[e.VisibleOutOfItem=2]="VisibleOutOfItem",e[e.NotDefined=3]="NotDefined"}(xa||(xa={}));class Pa extends b.a{constructor(){super(...arguments),this.lastVisibilityState=xa.NotDefined,this.buttonRef=r.a.createRef(),this.wrapRef=r.a.createRef(),this.arrowButtonHovered=new to.a(!1),this.handleIsVisibleChange=()=>{const e=this.buttonRef.current,t=this.wrapRef.current;if(e&&t){const n=this.isVisibleStore.state,o=n===xa.VisibleInItem||n===xa.VisibleOutOfItem;e.style.opacity="".concat(o?1:0),e.style.transform="scale(".concat(o?1:.3,")"),t.style.pointerEvents=n===xa.VisibleOutOfItem?"":"none",this.lastVisibilityState!==xa.NotDefined&&n!==xa.NotDefined&&!e.style.transition&&(e.style.transition="transform 160ms ease-in-out, opacity 160ms ease-in-out"),this.lastVisibilityState=n}},this.handleClick=()=>{const{store:e,type:t,timelineState:n,dateValueStore:o,paddingLeft:r,format:a,collectionViewLocalStore:i,isFullScreen:s,isRootChild:l}=this.props,c=o.state,d=n.zoomLevel.get(),{snapUnit:u}=zn.L[d],p=Object(zn.B)(d,200);if(c)if("left"===t){const{start:e}=Object(zn.e)(c,u),t=Object(zn.q)({timestamp:e.valueOf(),environment:this.environment,timelineState:n,paddingLeft:r,format:a})-p;Object(Ma.g)({timelineState:n,environment:this.environment,zoomLevel:d,centerTimestamp:t})}else{const{end:e}=Object(zn.e)(c,u),t=Object(zn.r)({timestamp:e.valueOf(),timelineState:n})+p;Object(Ma.g)({timelineState:n,environment:this.environment,zoomLevel:d,centerTimestamp:t})}this.arrowButtonHovered.set(!1),Object(le.k)({environment:this.environment,store:e}),Object(W.Fe)(this.environment,{...Object(zn.v)({environment:this.environment,collectionViewLocalStore:i,timelineState:n,isFullScreen:s,isRootChild:l}),type:t})},this.handleMouseOver=()=>{this.environment.device.isPhone||Re.a.state||this.arrowButtonHovered.set(!0)},this.handleMouseOut=()=>{this.environment.device.isPhone||this.arrowButtonHovered.set(!1)},this.isVisibleStore=this.createComputedStore(()=>{const{type:e,timelineState:t,scrollerLeftOffset:n,itemPositionStore:o,isDraggingViaTimelineItemStore:r}=this.props,a=o.state;if(a){const{left:o,right:i}=a;if(r.state)return xa.Hidden;const s=t.scrollLeft.get();if(void 0!==s){if("left"===e){const e=s+n;if(e-i>0)return xa.VisibleOutOfItem;if(e-o>0)return xa.VisibleInItem}else{const{outerSizeObserver:e}=t,n=s+e.width.get();if(o-n>0)return xa.VisibleOutOfItem;if(i-n>0)return xa.VisibleInItem}return xa.Hidden}}return xa.NotDefined})}didMount(){super.didMount(),this.isVisibleStore.addListener(this.handleIsVisibleChange),this.handleIsVisibleChange()}willUnmount(){super.willUnmount(),this.isVisibleStore.removeListener(this.handleIsVisibleChange)}willUpdate(){this.isVisibleStore.enqueueRecompute()}renderComponent(){const{type:e}=this.props,t=this.arrowButtonHovered.get(),n="left"===e?T.a.collectionTimelineArrowLeft:T.a.collectionTimelineArrowRight;return r.a.createElement("div",{style:this.getWrapStyle(),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onMouseDown:We.c,onClick:this.handleClick,ref:this.wrapRef},r.a.createElement("div",{style:this.getArrowStyle(),ref:this.buttonRef},n({height:6,fill:this.theme.contentBackground})),t&&this.renderDateRange())}renderDateRange(){const{dateValueStore:e,timelineState:t}=this.props,n=e.state;if(!n)return;const o=t.zoomLevel.get();return r.a.createElement("span",{style:this.getDateRangeStyle()},Object(zn.h)(n,o))}getWrapStyle(){const{type:e,scrollerLeftOffset:t,timelineState:n}=this.props,{outerSizeObserver:o}=n;return{position:"sticky",left:"left"===e?t:o.width.get()-220,width:220,height:28,marginTop:2,display:"flex",alignItems:"center",cursor:"pointer",flexDirection:"right"===e?"row-reverse":void 0,whiteSpace:"nowrap",textOverflow:"ellipsis",zIndex:2}}getArrowStyle(){const{type:e}=this.props;return{display:"flex",alignItems:"center",width:16,height:16,flexShrink:0,pointerEvents:"auto",background:this.arrowButtonHovered.get()?this.theme.regularIconColor:this.theme.mediumIconColor,borderRadius:3,border:"1px solid ".concat(this.theme.contentBackground),backdropFilter:"blur(5px)",..."left"===e&&{marginLeft:8,marginRight:4},..."right"===e&&{marginRight:8,marginLeft:4}}}getDateRangeStyle(){return{fontSize:12,paddingLeft:4,paddingRight:4,borderRadius:4,background:this.theme.timelineBackground,pointerEvents:"none"}}}var Oa=Pa;class Ba extends b.a{constructor(){super(...arguments),this.storeTypes={hovered:to.a.of(!1)},this.renderDraggableInner=e=>{const{type:t,timelineState:n,dateValueStore:o}=this.props,a="left"===t,i=o.state,s=n.zoomLevel.get(),l=this.isActiveStore.state;if(i)return r.a.createElement("div",Object.assign({style:a?Ba.leftDraggableStyle:Ba.rightDraggableStyle,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},e),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:a?this.getLeftDraggableIndicatorStyle():this.getRightDraggableIndicatorStyle()}),r.a.createElement("span",{style:a?this.getLeftDraggableLabelStyle():this.getRightDraggableLabelStyle()},r.a.createElement("span",{style:{background:this.theme.timelineBackground,padding:4,borderRadius:4}},a?Object(zn.i)(i,s):Object(zn.g)(i,s)))))},this.handleLeftResizerDragStart=e=>{e.preventDefault();const{type:t,store:n,timelineState:o,query:r,schema:a,intl:i}=this.props;Object(Ma.j)({timelineState:o,store:n,startX:e.startX,type:"left"===t?zn.a.LeftResizer:zn.a.RightResizer,query:r,schema:a,intl:i,environment:this.environment})},this.handleDraggableDragMove=e=>{const{timelineState:t}=this.props;Object(Ma.e)({timelineState:t,currentX:e.currentX})},this.handleDraggableDragEnd=()=>{const{timelineState:e,query:t,schema:n,intl:o,collectionViewLocalStore:r,isFullScreen:a,isRootChild:i,type:s}=this.props;Object(Pe.createAndCommit)(this.environment,r=>{Object(Ma.d)({timelineState:e,query:t,schema:n,intl:o,environment:this.environment,transaction:r})}),Object(W.Ee)(this.environment,{...Object(zn.v)({environment:this.environment,collectionViewLocalStore:r,timelineState:e,isFullScreen:a,isRootChild:i}),type:s})},this.handleDraggableDragCancel=e=>{const{timelineState:t}=this.props;Object(Ma.b)({timelineState:t,environment:this.environment})},this.handleMouseMove=()=>{this.stores.hovered.set(!0)},this.handleMouseLeave=()=>{this.stores.hovered.set(!1)},this.isActiveStore=this.createComputedStore(()=>{const{store:e,type:t,timelineState:n}=this.props,o=this.stores.hovered.get(),r=n.dragState.get();return r?r.stores[0]===e&&("left"===t?r.type===zn.a.LeftResizer:r.type===zn.a.RightResizer):o&&!Re.a.state})}renderComponent(){return r.a.createElement(qo.a,{render:this.renderDraggableInner,onDraggableDragStart:this.handleLeftResizerDragStart,onDraggableDragMove:this.handleDraggableDragMove,onDraggableDragEnd:this.handleDraggableDragEnd,onDraggableDragCancel:this.handleDraggableDragCancel})}getLeftDraggableIndicatorStyle(){return{position:"absolute",left:Math.ceil(3.5)+1,top:6,borderRadius:3,width:3,bottom:6,background:this.theme.regularTextColor}}getRightDraggableIndicatorStyle(){return{position:"absolute",left:Math.floor(.5),top:6,borderRadius:3,width:3,bottom:6,background:this.theme.regularTextColor}}getLeftDraggableLabelStyle(){return{fontSize:12,position:"absolute",right:12,textAlign:"right",width:200,lineHeight:"".concat(ee.b.cellHeight,"px"),pointerEvents:"none"}}getRightDraggableLabelStyle(){return{fontSize:12,position:"absolute",left:12,width:200,lineHeight:"".concat(ee.b.cellHeight,"px"),pointerEvents:"none"}}}Ba.leftDraggableStyle={position:"absolute",top:0,left:-6,width:8,height:"100%",zIndex:1,cursor:"col-resize"},Ba.rightDraggableStyle={position:"absolute",top:0,right:-6,width:8,height:"100%",zIndex:1,cursor:"col-resize"};var La=Ba,Ra=n("/mqF");const Da=Object(X.defineMessages)({typeAName:{defaultMessage:"Type a name…",id:"timelineItem.itemName.placeholder"}});var Aa;!function(e){e[e.Absolute=0]="Absolute",e[e.Sticky=1]="Sticky"}(Aa||(Aa={}));class ja extends b.a{constructor(){super(...arguments),this.propertiesWrapEl=r.a.createRef(),this.renderProperty=(e,t)=>{const{showProperties:n,store:o,schema:a,disabled:i,blockPropertyValueOverlayStore:s,clonedStore:l}=this.props,c=t===n.length-1;return"title"===e?this.renderTitle(c):o&&l?r.a.createElement(ee.b,{key:e,store:l,property:e,schema:a,disabled:i||!o.canEdit(),locked:!1,format:ee.a.Timeline,tableWrap:!1,isLast:c,blockPropertyValueOverlayStore:s,enablePointerEventsForInteractiveTypes:!0}):void 0},this.handleSelectableDragStart=e=>{e.preventDefault()},this.handleSelectableDragMove=e=>{const{store:t,timelineState:n,query:o,schema:r,intl:a}=this.props;t&&(n.dragState.get()||Object(Ma.j)({timelineState:n,store:t,startX:e.startX,type:zn.a.ItemDrag,query:o,schema:r,intl:a,environment:this.environment}),Object(Ma.e)({timelineState:n,currentX:e.currentX}))},this.handleSelectableDragEnd=()=>{const{timelineState:e,query:t,schema:n,intl:o}=this.props;Object(Pe.createAndCommit)(this.environment,r=>{Object(Ma.d)({timelineState:e,query:t,schema:n,intl:o,environment:this.environment,transaction:r})})},this.handleSelectableDragCancel=()=>{const{timelineState:e}=this.props;Object(Ma.b)({timelineState:e,environment:this.environment})},this.handleDateRangeButtonMouseMove=()=>{const{store:e,timelineState:t}=this.props,n=t.dragState.get();Re.a.state||n||this.environment.device.isPhone||t.hoveredItem.set(e)},this.handleDateRangeButtonMouseLeave=()=>{const{timelineState:e}=this.props,t=e.dragState.get();Re.a.state||t||e.hoveredItem.set(void 0)},this.handleGetGhostElement=e=>{const t=vr.a.findSelectablesFromStore(e),n=l.a.compact(t.map(e=>e.getNode())),o=l.a.compact(n.map(e=>e.closest(".".concat(Ue.Lb))))[0];if(o){const e=Object(Ra.b)(o),t=e.cloned.querySelector(".".concat(Ue.Jb)),n=e.cloned.querySelector(".".concat(Ue.Kb));return t&&n&&"sticky"===n.style.position&&(n.style.position="absolute",n.style.left=t.style.left),[e]}return n.map(Ra.b)},this.handleTextEnterOrEsc=()=>{const{store:e}=this.props;e&&Object(le.k)({environment:this.environment,store:e})},this.handleAnimationStateChange=()=>{const{current:e}=this.propertiesWrapEl,t=this.animationStateStore.state;e&&t&&(e.style.position=t.position===Aa.Absolute?"absolute":"sticky",e.style.left="".concat(t.left,"px"))},this.pageURLStore=this.createComputedStore(()=>{const{store:e}=this.props;if(e)return Object(ne.a)({store:e,fullyQualified:!1})}),this.peekURLStore=this.createComputedStore(()=>{const{store:e}=this.props,{currentBlockStore:t}=Me.default.state;if(e&&t)return Object(ne.a)({store:t,fullyQualified:!1,peekViewBlockId:e.id})}),this.isHoveredStore=this.createComputedStore(()=>{const{store:e,timelineState:t}=this.props;return t.hoveredItem.get()===e}),this.editingTitleStore=this.createComputedStore(()=>{const{store:e}=this.props,t=Te.default.state;return e&&"editing"===t.mode&&t.store===e.getBlockTitleStore()}),this.animationStateStore=this.createComputedStore(()=>{const{timelineState:e,scrollerLeftOffset:t,itemPositionStore:n}=this.props,o=n.state;if(o){const{left:n,right:r}=o,a=r-n;if(!(this.canPerformantlyUpdateOnScroll()&&a>50))return{position:Aa.Absolute,left:n};{const o=e.scrollLeft.get();if(void 0!==o){const e=o+t-n+21;if(e<0)return{position:Aa.Absolute,left:n};if(e>a)return{position:Aa.Absolute,left:r};if(e>0)return{position:Aa.Sticky,left:t+21}}}}})}didMount(){super.didMount(),this.animationStateStore.addListener(this.handleAnimationStateChange),this.handleAnimationStateChange()}willUnmount(){super.willUnmount(),this.animationStateStore.removeListener(this.handleAnimationStateChange)}willUpdate(){this.animationStateStore.enqueueRecompute()}renderComponent(){const{itemPositionStore:e,store:t,timelineState:n,query:o,schema:a,dateValueStore:i,disabled:s,isDraggingViaTimelineItemStore:l,collectionViewLocalStore:c,isFullScreen:d,isRootChild:u,intl:p}=this.props,h=e.state;if(!h)return;const{left:m,right:f,maskPercent:g}=h,b=this.isHoveredStore.state,v=this.pageURLStore.state,y=this.peekURLStore.state,S=!s,w=this.environment.device.isPhone,k=Math.max(f-m,10)+1,C=l.state;return t&&!h.isPlaceholder?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{style:this.getStyle(m,k,C,h),haloStyle:this.getHaloStyle(),className:Ue.Jb,store:t,canSelect:!0,shouldShowHalo:!0,canDrag:S,analyticsName:"timeline",onDraggableDragStart:this.handleSelectableDragStart,onDraggableDragMove:this.handleSelectableDragMove,onDraggableDragEnd:this.handleSelectableDragEnd,onDraggableDragCancel:this.handleSelectableDragCancel,canTriggerContextMenu:S,getGhostElement:this.handleGetGhostElement,disableScrollToReveal:!0,onMouseMove:this.handleDateRangeButtonMouseMove,onMouseLeave:this.handleDateRangeButtonMouseLeave,showBlockMenuInput:!0},r.a.createElement(te.a,{style:this.getLinkBoxStyle(),innerStyle:this.getLinkBoxInnerStyle(),href:v,metaHref:y,hovered:b,ignoreLocalHoverState:!0}),S&&!w&&r.a.createElement(La,{type:"left",store:t,query:o,schema:a,timelineState:n,dateValueStore:i,collectionViewLocalStore:c,isFullScreen:d,isRootChild:u,intl:p}),S&&!w&&r.a.createElement(La,{type:"right",store:t,query:o,schema:a,timelineState:n,dateValueStore:i,collectionViewLocalStore:c,isFullScreen:d,isRootChild:u,intl:p})),this.renderProperties(g,C)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:this.getStyle(m,k,C,h),className:Ue.Jb}),this.renderProperties(g,C))}renderProperties(e,t){const{showProperties:n}=this.props;return r.a.createElement("div",{style:this.getPropertiesWrapStyle(e,t)},r.a.createElement("div",{style:this.getPropertiesWrapInnerStyle(),ref:this.propertiesWrapEl,className:Ue.Kb},n.map(this.renderProperty)))}renderTitle(e){const{store:t}=this.props,n=t?t.getIcon():void 0,o=!t||t.isEmptyPage(),a=this.editingTitleStore.state;return r.a.createElement("div",{style:{display:"flex",marginRight:e?0:10,fontSize:14,fontWeight:V.a.fontWeight.medium,alignItems:"center"},key:"title"},n&&r.a.createElement(ae.a,{disabled:!0,icon:n,isEmptyPage:o,size:20,style:{marginLeft:2,marginRight:6}}),t&&!a&&r.a.createElement(Fr.a,{style:{whiteSpace:"nowrap",maxWidth:400},store:t}),a&&t&&r.a.createElement(oe.a,{store:t.getBlockTitleStore(),style:{whiteSpace:"nowrap"},disabled:!1,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableEmbedMenu:!0,onEnter:this.handleTextEnterOrEsc,onEsc:this.handleTextEnterOrEsc,onTab:l.a.identity,placeholder:De.default.formatMessage(Da.typeAName),disableSelectAllBlocks:!0}),!t&&r.a.createElement("span",null,r.a.createElement(X.FormattedMessage,{id:"timeline.itemPlaceholder.newPage",defaultMessage:"New page"})))}canPerformantlyUpdateOnScroll(){return Object(zn.c)(this.environment)}getStyle(e,t,n,o){const r=this.theme.mode;return{position:"absolute",left:e,marginTop:1,marginBottom:1,width:t,height:ee.b.cellHeight-2,borderRadius:4,display:"flex",..."light"===r?{background:o.isPlaceholder?this.theme.buttonHoveredBackground:this.theme.contentBackground,boxShadow:o.isPlaceholder?void 0:this.theme.buttonBoxShadow}:{background:this.theme.popoverBackground,boxShadow:o.isPlaceholder?void 0:this.theme.lightBoxShadow},...o.isPlaceholder&&{cursor:"crosshair"},...n&&{display:"none"}}}getPropertiesWrapStyle(e,t){return{width:"100%",WebkitMaskImage:e<1?"linear-gradient(90deg, rgba(0,0,0,1) ".concat(100*e,"%, rgba(0,0,0,0.4) ").concat(100*e,"%)"):void 0,pointerEvents:"none",...t&&{display:"none"}}}getPropertiesWrapInnerStyle(){return{display:"flex",height:ee.b.cellHeight-2+1,paddingLeft:6,width:800,overflow:"hidden"}}getHaloStyle(){return{borderRadius:4}}getLinkBoxStyle(){return{width:"100%",height:"100%",borderRadius:4}}getLinkBoxInnerStyle(){return{width:"100%",height:"100%",display:"flex",paddingLeft:6,paddingRight:6,borderRadius:4}}}var Fa=ja;class Va extends b.a{constructor(){super(...arguments),this.dateRangeRef=r.a.createRef(),this.handleEditorMouseDown=e=>{this.environment.device.isMobile||Object(We.d)({event:e,context:We.a.EditorMouseDown,callback:()=>{e.preventDefault(),Object(Ge.c)({environment:this.environment,target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[],allowVerticalEdgeScroll:!0,allowHorizontalEdgeScroll:!0})}})},this.handleMouseMove=e=>{const{timelineState:t,store:n}=this.props,o=t.dragState.get(),{horizontalScroller:r}=t,a=t.scrollLeft.get(),i=t.zoomLevel.get(),s=t.currentRange.get(),{snapUnit:l,getDateRangePlaceholderDuration:c}=zn.L[i];if(Re.a.state||o||this.getPersistedDateValue()||!r||void 0===a)return;const d=r.getBoundingClientRect(),u=a+(e.clientX-d.left),p=Object(zn.B)(i,u),h=Object(Dr.a)(s.startTimestamp+p),m=Object(zn.F)(h,l),f=Object(zn.F)(c(h),l),g=Object(de.n)(m.valueOf(),de.m),b=Object(zn.m)({startValue:g,snapUnit:l,desiredStart:m,desiredEnd:f});t.dateRangePlaceholder.set({active:!0,store:n,date:b})},this.handleMouseLeave=()=>{const{timelineState:e}=this.props;e.dateRangePlaceholder.set({active:!1})},this.handleClick=e=>{const{store:t,query:n,schema:o,timelineState:r,resultsStore:a,isFullScreen:i}=this.props,s=r.dateRangePlaceholder.get();if(s.active){const{date:e}=s;if(t)Object(Pe.createAndCommit)(this.environment,r=>{Object(Ma.i)({store:t,query:n,schema:o,date:e,transaction:r})});else{if(!Object(Ke.j)(this.environment))return;const{collectionViewLocalStore:t}=this.props;t.searchQuery.get()&&Object(u.r)({searchQuery:"",collectionViewLocalStore:t,isFullScreen:i,environment:this.environment});const r=a.state;Object(Pe.createAndCommit)(this.environment,a=>{const i=t.collectionStore.get();if(i){const{coercionSucceeded:s,newStore:l}=Object(Ve.b)({environment:this.environment,parentStore:i,collectionViewLocalStore:t,group:void 0,results:r,insertAtStart:!1,coerce:!0,transaction:a});if(Object(Ma.i)({store:l,query:n,schema:o,date:e,transaction:a}),s){const e=l.getBlockTitleStore();Object(Ze.o)({store:e})}else Object(ie.peekBlock)({environment:this.environment,store:l});Object(W.fb)(this.environment,{from:"timeline_add_item_bottom",type:"page"})}})}r.dateRangePlaceholder.set({active:!1})}else{const{timelineState:t,store:n}=this.props,{horizontalScroller:o}=t,r=t.scrollLeft.get(),a=this.itemPositionStore.state,i=this.dateRangeRef.current;if(!(o&&void 0!==r&&n&&a&&i))return;const s=o.getBoundingClientRect(),l=r+(e.clientX-s.left),c=i.propertiesWrapEl.current;if(!c)return;const d=c.lastElementChild;if(!d)return;const u=r+(d.getBoundingClientRect().right-s.left);l>a.right&&l<=u&&Object(We.d)({event:event,context:We.a.EditorClick,callback:()=>{Object(hr.d)()||Object(ie.peekBlock)({environment:this.environment,store:n,metaClick:e.metaKey})}})}},this.itemPositionStore=this.createComputedStore(()=>{const{timelineState:e}=this.props,t=this.dateValueStore.state,n=this.placeholderDateStore.state;if(t){const o=e.zoomLevel.get(),{snapUnit:r}=zn.L[o],{startTimestamp:a,endTimestamp:i}=e.currentRange.get(),{start:s,end:l}=Object(zn.e)(t,r),c=l.valueOf()>a&&s.valueOf()<i,d=Object(zn.G)(o,s.valueOf()-a)+2,u=Math.max(d,0),p=Object(zn.G)(o,l.valueOf()-a)-2,h=Object(zn.G)(o,i-a),m=Math.min(p,h),f=m/Object(zn.G)(o,i-a);return{visible:c,isPlaceholder:Boolean(n),left:u,right:m,maskPercent:f}}}),this.shouldRenderDateRangeStore=this.createComputedStore(()=>{const e=this.itemPositionStore.state;return Boolean(e)}),this.shouldRenderScrollArrowsStore=this.createComputedStore(()=>{const e=this.itemPositionStore.state;return Boolean(e&&!e.isPlaceholder)}),this.placeholderDateStore=this.createComputedStore(()=>{const{store:e,timelineState:t}=this.props,n=t.dateRangePlaceholder.get();if(n.active&&n.store===e)return n.date}),this.dateValueStore=this.createComputedStore(()=>{const{store:e,timelineState:t}=this.props,n=t.dragState.get(),o=this.placeholderDateStore.state;if(o)return o;if(e){if(n){const t=n.stores.indexOf(e);if(t>=0)return n.temporaryValues[t]}return this.getPersistedDateValue()}},!0),this.isDraggingViaTimelineItemStore=this.createComputedStore(()=>{const{store:e,timelineState:t}=this.props,n=t.dragState.get(),o=_e.b.state;return Boolean(e&&n&&n.stores.includes(e)&&o.isDragging&&o.draggedStores.includes(e))})}willMount(e){super.willMount(e),e.store&&(this.clonedStore=e.store.clone())}renderComponent(){const{store:e,timelineState:t,scrollerLeftOffset:n,paddingLeft:o,format:a,query:i,schema:s,blockPropertyValueOverlayStore:l,disabled:c,showProperties:d,showTable:u,collectionViewLocalStore:p,isFullScreen:h,isRootChild:m,intl:f}=this.props,g=this.shouldRenderDateRangeStore.state,b=this.shouldRenderScrollArrowsStore.state,v=Boolean(this.placeholderDateStore.state);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",height:0}},b&&e&&r.a.createElement(Oa,{store:e,type:"left",timelineState:t,scrollerLeftOffset:n,itemPositionStore:this.itemPositionStore,dateValueStore:this.dateValueStore,paddingLeft:o,format:a,isDraggingViaTimelineItemStore:this.isDraggingViaTimelineItemStore,collectionViewLocalStore:p,isFullScreen:h,isRootChild:m}),b&&e&&r.a.createElement(Oa,{store:e,type:"right",timelineState:t,scrollerLeftOffset:n,itemPositionStore:this.itemPositionStore,dateValueStore:this.dateValueStore,paddingLeft:o,format:a,isDraggingViaTimelineItemStore:this.isDraggingViaTimelineItemStore,collectionViewLocalStore:p,isFullScreen:h,isRootChild:m})),r.a.createElement("div",{style:this.getStyle(v,u),onMouseDown:this.handleEditorMouseDown,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick,className:Ue.Lb},g&&r.a.createElement(Fa,{store:e,clonedStore:this.clonedStore,itemPositionStore:this.itemPositionStore,dateValueStore:this.dateValueStore,query:i,schema:s,timelineState:t,blockPropertyValueOverlayStore:l,disabled:c,showProperties:d,scrollerLeftOffset:n,isDraggingViaTimelineItemStore:this.isDraggingViaTimelineItemStore,collectionViewLocalStore:p,isFullScreen:h,isRootChild:m,intl:f,ref:this.dateRangeRef}),!e&&!g&&this.renderAddRowIndicator()))}renderAddRowIndicator(){return r.a.createElement("div",{style:this.getAddRowIndicatorWrapStyle()},r.a.createElement("div",{style:this.getAddRowIndicatorStyle()},T.a.plus(this.getNewRowIndicatorIconStyle()),r.a.createElement("span",{style:{color:this.theme.mediumTextColor}},r.a.createElement(X.FormattedMessage,{defaultMessage:"New",id:"database.timelineView.item.addRowButton"}))))}getPersistedDateValue(){const{store:e,query:t,schema:n,intl:o}=this.props;if(e)return Object(zn.u)({store:e,query:t,schema:n,intl:o})}getStyle(e,t){const{store:n}=this.props;return{display:"flex",height:ee.b.cellHeight+(e?2:1),width:"100%",...e&&{marginTop:-1,borderTop:"1px solid ".concat(this.theme.regularDividerColor)},...e&&(n||!t)&&{borderBottom:"1px solid ".concat(this.theme.regularDividerColor)},cursor:"default"}}getNewRowIndicatorIconStyle(){return{width:14,height:14,marginLeft:-1,marginRight:6,fill:this.theme.mediumIconColor}}getAddRowIndicatorWrapStyle(){const{paddingLeft:e,isFullScreen:t,showTable:n}=this.props;return{position:"sticky",left:t&&!n?e+8:8,display:"flex",alignItems:"center"}}getAddRowIndicatorStyle(){return{display:"flex",alignItems:"center",paddingBottom:2,fontSize:14,height:32,lineHeight:V.a.lineHeight.UIRegular.desktop}}}var Na=Object(X.injectIntl)(Va),Ua=n("3k5a"),za=n("HDj1");class Xa extends b.a{constructor(){super(...arguments),this.handleRemove=e=>{const{store:t,collectionViewLocalStore:n}=this.props,{transaction:o}=e,r=n.collectionStore.state;r&&Ve.j({collectionStore:r,store:t,transaction:o})},this.handleDrop=e=>{const{droppedDirection:t,droppedStores:n,duplicate:o}=e,{store:r,collectionViewLocalStore:a,collectionStore:i,resultsStore:s}=this.props;Pe.createAndCommit(this.environment,e=>{Ve.e({environment:this.environment,parentStore:i,targetStore:r,droppedDirection:t,collectionViewLocalStore:a,group:void 0,droppedStores:n,results:s.state,duplicate:o,transaction:e})})},this.handleInsertAfter=e=>{const{insertStores:t,transaction:n}=e,{store:o,collectionViewLocalStore:r,collectionStore:a,resultsStore:i}=this.props;return Ve.g({environment:this.environment,parentStore:a,collectionViewLocalStore:r,group:void 0,results:i.state,insertStores:t,store:o,before:!1,transaction:n})},this.handleInsertBefore=e=>{const{insertStores:t,transaction:n}=e,{store:o,collectionViewLocalStore:r,collectionStore:a,resultsStore:i}=this.props;return Ve.g({environment:this.environment,parentStore:a,collectionViewLocalStore:r,group:void 0,results:i.state,insertStores:t,store:o,before:!0,transaction:n})},this.handleNativeDrop=e=>{const{files:t,droppedDirection:n}=e,{collectionViewLocalStore:o,collectionStore:r,resultsStore:a}=this.props,i=o.collectionViewBlockStore.get();i&&Pe.createAndCommit(this.environment,e=>{Ve.f({environment:this.environment,parentStore:r,targetStore:i,droppedDirection:n,collectionViewLocalStore:o,group:void 0,files:t,results:a.state,transaction:e})})}}renderComponent(){const{store:e}=this.props;return r.a.createElement(Ne.a,{key:e.id,store:e,style:{width:"100%",height:ee.b.cellHeight+1},canDropBelow:!0,canNativeDropBelow:!0,shouldShowDropZone:!0,dropzoneShouldNeverUseOrigin:!0,dropzoneMustBeWithinHorizontalBound:!0,canInsertBefore:!0,canInsertAfter:!0,onInsertAfter:this.handleInsertAfter,onInsertBefore:this.handleInsertBefore,onSelectableDrop:this.handleDrop,onNativeDrop:this.handleNativeDrop,onRemove:this.handleRemove,analyticsName:"timeline"})}}var Ya=Xa;class Ha extends b.a{constructor(){super(...arguments),this.handleSeconds=()=>{0===(new Date).getSeconds()&&this.enqueueForceUpdate()}}didMount(){super.didMount(),this.interval=setInterval(this.handleSeconds,1e3)}willUnmount(){super.willUnmount(),clearInterval(this.interval)}renderComponent(){return r.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",overflow:"hidden",cursor:"default"}},this.renderWeekendIndicators(),this.renderVerticalDividers(),this.renderNowVerticalDivider())}renderWeekendIndicators(){const{timelineState:e}=this.props,t=e.zoomLevel.get(),{showWeekendIndicators:n}=zn.L[t];if(!n)return;const{startTimestamp:o,endTimestamp:r}=e.currentRange.get();let a=Object(zn.F)(Object(Dr.a)(o),"day");const i=[];for(;a.valueOf()<r;){6===a.isoWeekday()&&i.push(this.renderWeekendIndicator(a)),a=Object(zn.x)(a,"day")}return i}renderWeekendIndicator(e){const{timelineState:t}=this.props,n=t.zoomLevel.get(),{startTimestamp:o}=t.currentRange.get(),a=e.clone().add(2,"days").startOf("day"),i=Object(zn.G)(n,e.valueOf()-o),s=Object(zn.G)(n,a.valueOf()-o);return r.a.createElement("div",{key:e.valueOf(),style:{position:"absolute",left:i,width:s-i,height:"100%",background:this.theme.timelineDarkerBackground}})}renderVerticalDividers(){const{timelineState:e}=this.props,t=e.zoomLevel.get(),{verticalDividerUnit:n}=zn.L[t];if(!n)return;const{startTimestamp:o,endTimestamp:r}=e.currentRange.get(),a=[];let i=Object(zn.F)(Object(Dr.a)(o),n);for(;i.valueOf()<r;){a.push(this.renderVerticalDivider(i)),i=Object(zn.x)(i,n)}return a}renderVerticalDivider(e){const{timelineState:t}=this.props,n=t.zoomLevel.get(),{startTimestamp:o}=t.currentRange.get(),a=Object(zn.G)(n,e.valueOf()-o);return r.a.createElement("div",{key:e.valueOf(),style:{position:"absolute",left:a,height:"100%",borderRight:"1px solid ".concat(this.theme.regularDividerColor)}})}renderNowVerticalDivider(){const{timelineState:e}=this.props,t=e.zoomLevel.get(),{startTimestamp:n}=e.currentRange.get(),o=Object(Dr.a)().startOf("minute"),a=Math.floor(Object(zn.G)(t,o.valueOf()-n));return r.a.createElement("div",{style:{position:"absolute",left:a,height:"100%",borderRight:"1px solid ".concat(this.theme.timelineRed)}})}}var qa=Ha,Wa=n("ZCfS");class Ga extends m.a{constructor(){super(...arguments),this.widthEl=null,this.registries=[Ua.a,za.a],this.storeTypes={tableStore:Cr},this.renderTimelineItem=e=>{const{disabled:t,query:n,format:o,schema:a,blockPropertyValueOverlayStore:i,collectionViewLocalStore:s,isFullScreen:l,isRootChild:c}=this.props,{timelineState:d}=this,u=this.canEditTimelineItemsStore.state;return r.a.createElement(Na,{key:e.id,store:e,disabled:t||!u,timelineState:d,schema:a,query:n,format:o,scrollerLeftOffset:this.scrollerLeftOffsetStore.state,paddingLeft:this.getPaddingLeft(),showProperties:this.showTimelinePropertiesStore.state,blockPropertyValueOverlayStore:i,resultsStore:this.resultsStore,collectionViewLocalStore:s,isFullScreen:l,showTable:this.showTableStore.state,isRootChild:c})},this.renderRowDropzoneSelectable=e=>{const{collectionStore:t,collectionViewLocalStore:n}=this.props;return r.a.createElement(Ya,{key:e.id,store:e,collectionStore:t,collectionViewLocalStore:n,resultsStore:this.resultsStore})},this.handleScrollOffsetChange=e=>{const{collectionViewLocalStore:t,isFullScreen:n}=this.props,o=t.isLoading.get();e<Q.a.incrementScrollOffset&&!o&&!t.reachedEndOfTableResults()&&u.i({collectionViewLocalStore:t,isFullScreen:n,environment:this.environment})},this.handleHorizontalScroll=()=>{const{timelineState:e}=this,{horizontalScroller:t,savePreference:n}=e;if(!t)return;const o=t.scrollLeft,r=e.scrollLeft.get();this.environment.device.isIOS&&void 0!==r&&0===o&&r>zn.C?t.scrollLeft=r:(n&&n(),e.scrollLeft.set(o),Object(zn.D)(this.environment)?this.resetWindowForScrollDebounced():this.resetWindowForScroll())},this.resetWindowForScroll=()=>{const{timelineState:e}=this,{horizontalScroller:t,outerSizeObserver:n}=e;if(!t)return;const o=e.zoomLevel.get(),{startTimestamp:r,endTimestamp:a}=e.currentRange.get(),i=t.scrollLeft,s=n.width.get(),l=Object(zn.G)(o,a-r),c=Object(zn.l)(e);if(i<zn.C){const t=-Object(zn.B)(o,zn.A);e.currentRange.set({startTimestamp:r+t,endTimestamp:a+t}),Object(Ma.g)({timelineState:e,environment:this.environment,zoomLevel:o,centerTimestamp:c})}else if(i+s>l-zn.C){const t=Object(zn.B)(o,zn.A);e.currentRange.set({startTimestamp:r+t,endTimestamp:a+t}),Object(Ma.g)({timelineState:e,environment:this.environment,zoomLevel:o,centerTimestamp:c})}},this.resetWindowForScrollDebounced=l.a.debounce(this.resetWindowForScroll,200),this.handleAddRowClick=()=>{const{device:e}=this.environment,{collectionViewLocalStore:t}=this.props,n=this.resultsStore.state,o=t.collectionStore.get();Ke.j(this.environment)&&o&&Pe.createAndCommit(this.environment,r=>{const{newStore:a}=Ve.b({environment:this.environment,parentStore:o,collectionViewLocalStore:t,group:void 0,results:n,insertAtStart:!1,coerce:!0,transaction:r});if(e.isMobile){const e=Object(ne.a)({store:a,fullyQualified:!1});this.navigate(e)}else Fo.default.afterNextFlush(()=>{Fo.default.afterNextFlush(()=>{jo.h({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,store:a,property:"title",format:ee.a.Table,disableHorizontalEdgeScroll:!0})})});W.fb(this.environment,{from:"timeline_add_item_bottom",type:"page"})})},this.handleWidthElMount=e=>{if(this.widthEl=e,e){const{timelineState:t}=this,{outerSizeObserver:n}=t;n.observe(e)}},this.handleTimelineElMount=e=>{if(e){const{timelineState:t}=this,{timelineSizeObserver:n}=t;n.observe(e)}},this.handleEmptyDroppableDrop=e=>{const{droppedDirection:t,droppedStores:n,duplicate:o}=e,{collectionStore:r,collectionViewLocalStore:a}=this.props,i=a.collectionViewBlockStore.get();i&&Pe.createAndCommit(this.environment,e=>{Ve.e({environment:this.environment,parentStore:r,targetStore:i,droppedDirection:t,collectionViewLocalStore:a,group:void 0,droppedStores:n,results:this.resultsStore.state,duplicate:o,transaction:e})})},this.handleEmptyDroppableNativeDrop=e=>{const{files:t,droppedDirection:n}=e,{collectionViewLocalStore:o,collectionStore:r}=this.props,a=o.collectionViewBlockStore.get();a&&Pe.createAndCommit(this.environment,e=>{Ve.f({environment:this.environment,parentStore:r,targetStore:a,droppedDirection:n,collectionViewLocalStore:o,group:void 0,files:t,results:this.resultsStore.state,transaction:e})})},this.scrollToCenteredTimestamp=()=>{const{timelineState:e}=this,{startTimestamp:t,endTimestamp:n}=e.currentRange.get();Object(Ma.h)({timelineState:e,centerTimestamp:(t+n)/2})},this.handleLoadMoreClick=e=>{const{collectionViewLocalStore:t}=this.props;Object(We.b)(e),Object(le.e)(this.environment),u.i({collectionViewLocalStore:t,isFullScreen:this.props.isFullScreen,environment:this.environment}),W.Wb(this.environment)},this.handleHideTableClick=()=>{const e=this.timelineState,{format:t,collectionViewStore:n,collectionViewLocalStore:o,isFullScreen:r,isRootChild:a}=this.props;Pe.createAndCommit(this.environment,e=>{const o=Object(zn.t)(t,!1);Object(Oe.h)({stores:[n],update:o,transaction:e})}),W.Ie(this.environment,{...Object(zn.v)({environment:this.environment,collectionViewLocalStore:o,timelineState:e,isFullScreen:r,isRootChild:a}),show:!1})},this.showTablePropertyFormatsStore=this.createComputedStore(()=>this.getTimelineTableProperties().filter(e=>e.visible),!0),this.tableWidthStore=this.createComputedStore(()=>this.showTableStore.state?this.showTablePropertyFormatsStore.state.reduce((e,t)=>e+(t.width||0),0):0),this.resultsStore=this.createComputedStore(()=>{const{collectionViewLocalStore:e}=this.props,t=e.collectionStore.get();if(t){return ye.l({environment:this.environment,group:void 0,collectionViewLocalStore:e,parentStore:t})}return[]}),this.scrollerLeftOffsetStore=this.createComputedStore(()=>Object(zn.s)({environment:this.environment,paddingLeft:this.getPaddingLeft(),format:this.props.format,isFullScreen:this.props.isFullScreen,isRootChild:this.props.isRootChild})),this.scrollPixelWidthStore=this.createComputedStore(()=>{const{timelineState:e}=this,t=e.zoomLevel.get(),{startTimestamp:n,endTimestamp:o}=e.currentRange.get();return Object(zn.G)(t,o-n)}),this.showTimelinePropertiesStore=this.createComputedStore(()=>{const{format:e}=this.props;return(e.timeline_properties||[]).filter(({visible:e})=>e).map(({property:e})=>e)}),this.collectionIsLocked=this.createComputedStore(()=>ye.p(this.props.collectionStore)),this.showTableStore=this.createComputedStore(()=>{const{format:e,isFullScreen:t,isRootChild:n}=this.props;return Object(zn.J)({environment:this.environment,format:e,isFullScreen:t,isRootChild:n})}),this.canEditTimelineItemsStore=this.createComputedStore(()=>{const{query:e,schema:t}=this.props;return ye.a({query:e,schema:t})}),this.getItemSelectableStyle=e=>({display:"flex",borderBottom:"1px solid ".concat(e?"transparent":this.theme.tableDividerColor),width:"fit-content"})}willMount(e){super.willMount(e),this.timelineState=Object(zn.d)({isFullScreen:e.isFullScreen,isRootChild:e.isRootChild}),Object(Ma.f)({timelineState:this.timelineState,environment:this.environment,collectionViewStore:e.collectionViewStore}),this.instanceStore=new pe.a(this.environment,e.store.pointer)}willMountOrUpdate(e){if(super.willMountOrUpdate(e),Re.a.state){const{timelineState:e}=this;e.hoveredItem.set(void 0)}const{query:t}=e;t.timeline_by||this.updateOrCreateTimelineProperty(e)}didMount(){super.didMount();const{timelineState:e}=this;if(this.widthEl){const t=Object(br.d)(this.widthEl);t&&(e.horizontalScroller=t,Object(Rr.a)(t,"scroll",this.handleHorizontalScroll),e.outerSizeObserver.width.addListener(this.scrollToCenteredTimestamp),this.scrollToCenteredTimestamp())}Wa.a.setState({visitedTimeline:!0})}didMountOrUpdate(){super.didMountOrUpdate();const e=this.timelineState,{collectionViewLocalStore:t,isFullScreen:n,isRootChild:o}=this.props;W.Je(this.environment,Object(zn.v)({environment:this.environment,collectionViewLocalStore:t,timelineState:e,isFullScreen:n,isRootChild:o}))}willUnmount(){super.willUnmount();const{timelineState:e}=this,{horizontalScroller:t,outerSizeObserver:n,timelineSizeObserver:o}=e;n.destroy(),o.destroy(),e.destroyed=!0,t&&Object(Rr.b)(t,"scroll",this.handleHorizontalScroll)}customizeEdgeScrollRect(e){const t=this.scrollerLeftOffsetStore.state;return{...e,left:e.left+t,width:e.width-t}}addBlockToView(e){const{store:t,transaction:n}=e;return Object(Ma.a)({environment:this.environment,store:t,timelineState:this.timelineState,query:this.props.query,collectionStore:this.props.collectionStore,collectionViewLocalStore:this.props.collectionViewLocalStore,resultStores:this.resultsStore.state,transaction:n})}renderPersisted(){const{store:e,isInPeekRenderer:t,paddingRight:n,isFullScreen:o,isRootChild:a,collectionViewScrollStore:i,collectionStore:s,query:l,schema:c,format:d,collectionViewLocalStore:u,collectionViewStore:p}=this.props,{timelineState:h}=this,m=this.scrollerLeftOffsetStore.state,f=this.showTableStore.state,g=this.getPaddingLeft(),b=ye.q(p,o),v=this.canEditTimelineItemsStore.state,y=Object(Ft.a)(y=>r.a.createElement("div",Object.assign({style:this.getStyle(f),className:Ue.Mb,ref:this.handleTimelineElMount},y),r.a.createElement(qa,{timelineState:h}),this.renderTimelineItems(v,f,g),r.a.createElement(Ia,{isInPeekRenderer:t,collectionViewScrollStore:i,timelineState:h,query:l,schema:c,collectionStore:s,scrollerLeftOffset:m}),r.a.createElement(_a,{timelineState:h,isInPeekRenderer:t,collectionViewScrollStore:i,paddingLeft:g,paddingRight:!o&&a?8:n,format:d,scrollerLeftOffset:m,isFullScreen:o,isRootChild:a,showTable:f,collectionViewStore:p,collectionViewLocalStore:u}),f&&r.a.createElement("div",{style:{position:"sticky",left:0,height:0,width:this.tableWidthStore.state,zIndex:Vt.u}},r.a.createElement(Ne.a,{style:this.getTableSelectableStyle(g),store:e,shouldShowHalo:!1,canSelect:!o,analyticsName:"timeline"},this.renderTableHeaderRow(),r.a.createElement("div",{style:{height:66,width:0}}),this.renderTableRows(),this.canEdit()&&this.renderTableAddRowButton(),o&&this.renderTableAggregationRow(g),r.a.createElement("div",{style:{height:Ir,width:0}}))),this.renderRowDropzoneSelectables(),b&&!u.reachedEndOfTableResults()&&this.renderLoadMoreButton(g,f),f&&!o&&r.a.createElement("div",{style:{position:"relative",width:"100%",background:this.theme.contentBackground,zIndex:Vt.s}},this.renderTableAggregationRow(g)))),S=b?y:r.a.createElement(tt.a,{onChange:this.handleScrollOffsetChange},y);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:this.handleWidthElMount}),S)}renderTableHeaderRow(){const{store:e,schema:t,query:n,collectionStore:o,collectionViewLocalStore:a,collectionViewStore:i,collectionViewScrollStore:s,paddingBottom:l,isInPeekRenderer:c,blockPropertyValueOverlayStore:d}=this.props;return r.a.createElement(nr,{store:e,format:this.getCurrentFormat(),schema:t,query:n,collectionStore:o,collectionViewStore:i,collectionViewLocalStore:a,isInPeekRenderer:c,minWidth:void 0,paddingBottom:l,collectionViewScrollStore:s,blockPropertyValueOverlayStore:d,currentRowsStore:this.resultsStore,showPropertyFormatsStore:this.showTablePropertyFormatsStore,showAddColumn:!1,allowHidingTitle:!0,tableStore:this.stores.tableStore,formatKey:"timeline_table_properties",disabled:!this.canEdit()||this.collectionIsLocked.state,disableHorizontalEdgeScroll:!0,height:66,paddingTop:33,disableLastCellRightBorder:!0},this.renderHideTableButton())}renderHideTableButton(){const{device:e}=this.environment;return r.a.createElement(x.a,{render:t=>r.a.createElement(G.a,Object.assign({isSmall:!0,onClick:this.handleHideTableClick,style:{position:"absolute",top:e.isIOS?7:8,right:8,zIndex:Vt.r,fill:this.theme.lightIconColor}},t),T.a.doubleChevronLeft({width:12})),renderTooltip:()=>r.a.createElement(X.FormattedMessage,{id:"database.timelineView.hideTableButton.title",defaultMessage:"Hide table"})})}renderTableRows(){const{device:e}=this.environment,{store:t,schema:n,query:o,disabled:a,collectionStore:i,collectionViewLocalStore:s,collectionViewStore:l,blockPropertyValueOverlayStore:c}=this.props;if(!i)return;const d=this.showTablePropertyFormatsStore.state;return r.a.createElement(wr,{store:t,format:this.getCurrentFormat(),schema:n,query:o,collectionStore:i,collectionViewStore:l,collectionViewLocalStore:s,minWidth:void 0,blockPropertyValueOverlayStore:c,showPropertyFormatsStore:this.showTablePropertyFormatsStore,currentRowsStore:this.resultsStore,disabled:!this.canEdit(),collectionViewScrollStore:this.props.collectionViewScrollStore,disableHorizontalEdgeScroll:!0,render:t=>r.a.createElement(qe,{parentStore:i,collectionViewLocalStore:s,group:void 0,format:this.getCurrentFormat(),canDrag:this.canEdit()&&e.isMobile,resultProps:{schema:n,collectionViewStore:l,collectionViewBlockStore:this.props.store,collectionStore:i,propertyFormats:d,onPropertyTab:t.onPropertyTab,onPropertyUntab:t.onPropertyUntab,onPropertyEnter:t.onPropertyEnter,onPropertyClick:t.onPropertyClick,onPropertyEsc:t.onPropertyEsc,onPropertyBgClick:t.onPropertyBgClick,onPropertyContextMenu:t.onPropertyContextMenu,onOpenProperty:t.onOpenProperty,disabled:a,blockPropertyValueOverlayStore:c,locked:this.collectionIsLocked.state,showAddColumnSpacer:!1,disableHorizontalEdgeScroll:!0,disableLastCellBorderRight:!0,disableTableWrap:!0},resultComponent:Ao,canDrop:!1,disabled:a,direction:Xe.Vertical,getItemSelectableStyle:this.getItemSelectableStyle,shouldShowHoverMenu:!0,analyticsName:"timeline",emptyDroppableSize:0,onSelectableEnter:t.onSelectableEnter,disableScrollToRevealHorizontal:!0})})}renderTableAggregationRow(e){const{store:t,schema:n,query:o,disabled:a,collectionStore:i,collectionViewLocalStore:s,collectionViewStore:l,collectionViewScrollStore:c,paddingBottom:d,isInPeekRenderer:u,blockPropertyValueOverlayStore:p,isFullScreen:h}=this.props;return r.a.createElement(dr,{style:this.getAggregationRowStyle(e),store:t,disabled:a||!this.canEdit()||this.collectionIsLocked.state,format:this.getCurrentFormat(),schema:n,query:o,collectionStore:i,collectionViewStore:l,collectionViewLocalStore:s,isInPeekRenderer:u,isFullScreen:h,minWidth:void 0,paddingBottom:d,collectionViewScrollStore:c,blockPropertyValueOverlayStore:p,currentRowsStore:this.resultsStore,showPropertyFormatsStore:this.showTablePropertyFormatsStore,showAddColumnSpacer:!1})}renderLoadMoreButton(e,t){const{collectionViewLocalStore:n,collectionViewStore:o,isFullScreen:a,format:i}=this.props;return r.a.createElement("div",{style:{position:"relative",width:"100%",background:this.theme.contentBackground,zIndex:Vt.s}},r.a.createElement(D.a,{onMouseDown:We.c,onClick:this.handleLoadMoreClick,style:this.getLoadMoreButtonStyle(e,t)},T.a.arrowDown(this.getLoadMoreButtonIconStyle()),r.a.createElement("span",{style:{display:"flex",alignItems:"center",color:this.theme.lightTextColor}},r.a.createElement(Er,{collectionViewLocalStore:n,collectionViewStore:o,isFullScreen:a,groupFormat:void 0})),this.canEdit()&&r.a.createElement(Tr,{collectionViewLocalStore:n,collectionViewStore:o,format:i})))}renderTableAddRowButton(){return r.a.createElement(D.a,{onClick:this.handleAddRowClick,style:this.getTableAddRowButtonStyle(),className:Ue.Gb,onMouseDown:We.c},T.a.plus(this.getTableNewRowButtonIconStyle()),r.a.createElement("span",{style:{color:this.theme.lightTextColor}},r.a.createElement(X.FormattedMessage,{defaultMessage:"New",id:"database.timelineView.addRowButton"})))}renderTimelineItems(e,t,n){return r.a.createElement("div",{style:{position:"absolute",width:"100%",zIndex:0,top:66}},this.resultsStore.state.map(this.renderTimelineItem),this.canEdit()&&e&&this.renderAddRowTimelineItem(t,n))}renderAddRowTimelineItem(e,t){const{timelineState:n}=this,{disabled:o,query:a,format:i,schema:s,collectionViewLocalStore:l,blockPropertyValueOverlayStore:c,isFullScreen:d,isRootChild:u}=this.props;return r.a.createElement(Na,{store:void 0,disabled:o,timelineState:n,schema:s,query:a,format:i,scrollerLeftOffset:this.scrollerLeftOffsetStore.state,paddingLeft:t,showProperties:this.showTimelinePropertiesStore.state,blockPropertyValueOverlayStore:c,resultsStore:this.resultsStore,collectionViewLocalStore:l,isFullScreen:d,showTable:e,isRootChild:u})}renderRowDropzoneSelectables(){const e=this.resultsStore.state;return r.a.createElement("div",{style:this.getDropZoneSelectablesWrapStyle()},this.renderEmptyDroppable(),e.map(this.renderRowDropzoneSelectable))}renderEmptyDroppable(){if(this.instanceStore){const e=this.canEdit();return r.a.createElement(Ne.a,{store:this.instanceStore,shouldShowDropZone:e,canDropBelow:e,canNativeDropBelow:e,dropzoneShouldNeverUseOrigin:!0,dropzoneMustBeWithinHorizontalBound:!0,onSelectableDrop:this.handleEmptyDroppableDrop,onNativeDrop:this.handleEmptyDroppableNativeDrop,analyticsName:"timeline",style:{width:"100%"}})}}getCurrentFormat(){const{format:e}=this.props,{temporaryFormat:t}=this.stores.tableStore.state;return t||e}getTimelineTableProperties(){const e=this.getCurrentFormat();return e&&e.timeline_table_properties?e.timeline_table_properties:[]}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):ie.navigate({environment:this.environment,url:e})}updateOrCreateTimelineProperty(e){const{query:t,schema:n,collectionStore:o,collectionViewStore:r}=e,a=Object(X.defineMessages)({date:{id:"database.timelineView.dateProperty.defaultName",defaultMessage:"Date"}});Pe.createAndCommit(this.environment,e=>{let i,s=ye.d(n);if(!s){s=Object(Nt.a)();const e={name:De.default.formatMessage(a.date),type:"date"};i={...n,[s]:e}}const l={...t,timeline_by:s};u.q({collectionViewStore:r,update:{query2:l},transaction:e}),i&&u.p({environment:this.environment,collectionStore:o,update:{schema:i},transaction:e})})}isInlineFullWidth(){const{isRootChild:e,isFullScreen:t,format:n}=this.props;return Object(zn.I)({environment:this.environment,isRootChild:e,isFullScreen:t,format:n})}getPaddingLeft(){return this.isInlineFullWidth()?zn.y:this.props.paddingLeft}getStyle(e){const{isFullScreen:t,paddingBottom:n}=this.props;return{position:"relative",float:"left",minWidth:"100%",width:this.scrollPixelWidthStore.state,background:this.theme.timelineBackground,...!t&&!e&&{borderBottom:"1px solid ".concat(this.theme.tableDividerColor)},...t&&{paddingBottom:n,minHeight:"100%"}}}getTableSelectableStyle(e){const{timelineState:t}=this,{timelineSizeObserver:n}=t,o=n.height.get();return{whiteSpace:"nowrap",background:this.theme.contentBackground,paddingLeft:e,borderRight:"1px solid ".concat(this.theme.tableDividerColor),boxShadow:this.theme.timelineTableBoxShadow,clipPath:"polygon(0% 0%, 120% 0%, 120% 100%, 0% 100%)",width:this.tableWidthStore.state+e+1,height:o}}getTableNewRowButtonIconStyle(){return{width:14,height:14,marginLeft:-1,marginRight:6,fill:this.theme.lightIconColor}}getDropZoneSelectablesWrapStyle(){const{isFullScreen:e}=this.props;return{width:"100%",pointerEvents:"none",paddingBottom:(this.canEdit()?ee.b.cellHeight:0)+(e?Ir:0)+2,marginTop:64}}getLoadMoreButtonStyle(e,t){return{position:"sticky",left:t?e:0,width:this.timelineState.outerSizeObserver.width.get(),display:"flex",alignItems:"center",marginTop:1,height:33,paddingLeft:8,paddingBottom:2,fontSize:14,lineHeight:V.a.lineHeight.UIRegular.desktop,whiteSpace:"break-spaces",boxShadow:"0 -1px 0 ".concat(this.theme.tableDividerColor)}}getLoadMoreButtonIconStyle(){return{width:14,height:14,marginLeft:-1,marginRight:6,fill:this.theme.lightIconColor}}getTableAddRowButtonStyle(){return{display:"flex",alignItems:"center",height:32,width:"100%",paddingLeft:8,fontSize:14,lineHeight:V.a.lineHeight.UIRegular.desktop,background:this.theme.contentBackground,borderTop:"1px solid ".concat(this.theme.tableDividerColor)}}getAggregationRowStyle(e){const{isFullScreen:t}=this.props;if(t)return{};return{position:"sticky",left:e,width:this.timelineState.outerSizeObserver.width.get()-e}}}Ga.contextTypes=St.a;var Za=Ga,Ka=n("IzPW"),Ja=n("rMzh"),Qa=n("Uy0f");const $a=Object(X.defineMessages)({titlePlaceholder:{defaultMessage:"Untitled",id:"database.actionBar.titlePlaceholder"}});class ei extends m.a{constructor(){super(...arguments),this.collectionViewLocalStore=new Q.a(this.environment),this.collectionDidEmit=!1,this.queuedLocalUpdate=!1,this.sizeObserver=new Ja.a,this.timelineViewRef=r.a.createRef(),this.queuedCollectionEmit=!1,this.storeTypes={collectionViewLocalStore:Q.a,collectionViewScrollStore:Jo,mouseStore:re.a,headerMouseStore:re.a,createViewButtonPopupStore:mt.a,hoverMenuButtonPopupStore:mt.a},this.handleCollectionViewSelectChange=e=>{const{store:t}=this.props,n=Pe.create(this.environment);if(ur.h(e.viewIds)||p.d({store:t,data:{view_ids:e.viewIds},transaction:n}),e.updateViewId&&e.updateView){const o=h.a.createChildStore(t,{table:Mo.a,id:e.updateViewId});o&&u.q({collectionViewStore:o,update:e.updateView,transaction:n})}if(ur.h(e.currentViewId)||e.currentViewId===this.getCurrentViewId()||(this.setCurrentView(e.currentViewId,e.metaClick||!1),e.metaClick||this.collectionViewLocalStore.viewSelectMenuOpen.set(!1)),e.newSchema){const t=this.getCollectionStore();t&&u.p({environment:this.environment,collectionStore:t,update:{schema:e.newSchema},transaction:n})}e.newView&&(u.c({environment:this.environment,collectionViewBlockStore:this.props.store,collectionView:e.newView,transaction:n}),this.setCurrentView(e.newView.id,!1),this.collectionViewLocalStore.viewSelectMenuOpen.set(!1)),Pe.commit({environment:this.environment,transaction:n})},this.handleCollectionCreateViewMenuAccept=e=>{const t=Pe.create(this.environment);if(e.newSchema){const n=this.getCollectionStore();n&&u.p({environment:this.environment,collectionStore:n,update:{schema:e.newSchema},transaction:t})}e.newView&&(u.c({environment:this.environment,collectionViewBlockStore:this.props.store,collectionView:e.newView,transaction:t}),this.setCurrentView(e.newView.id,!1),this.collectionViewLocalStore.viewSelectMenuOpen.set(!1)),this.stores.createViewButtonPopupStore.setState({...this.stores.createViewButtonPopupStore.state,open:!1}),Pe.commit({environment:this.environment,transaction:t})},this.handleCollectionMobileSearchChange=e=>{u.r({searchQuery:e.searchQuery,collectionViewLocalStore:this.collectionViewLocalStore,isFullScreen:Boolean(this.props.isFullScreen),environment:this.environment})},this.handleCollectionViewActionBarChange=e=>{const t=Pe.create(this.environment);if(e.newView&&(u.c({environment:this.environment,collectionViewBlockStore:this.props.store,collectionView:e.newView,transaction:t}),this.setCurrentView(e.newView.id,!1),this.collectionViewLocalStore.viewSelectMenuOpen.set(!1)),ur.h(e.searchQuery)||u.r({searchQuery:e.searchQuery,collectionViewLocalStore:this.collectionViewLocalStore,isFullScreen:Boolean(this.props.isFullScreen),environment:this.environment}),e.updateViewId&&e.updateView){const n=this.getViewStores().find(t=>t.id===e.updateViewId);n&&u.q({collectionViewStore:n,update:e.updateView,transaction:t})}if(!ur.h(e.viewIds)){const{store:n}=this.props;p.d({store:n,data:{view_ids:e.viewIds},transaction:t})}if(ur.h(e.currentViewId)||this.setCurrentView(e.currentViewId,!1),e.newSchema){const n=this.getCollectionStore();n&&u.p({environment:this.environment,collectionStore:n,update:{schema:e.newSchema},transaction:t})}e.otherCollectionId&&e.otherCollectionSchema&&u.p({environment:this.environment,collectionStore:No.a.createChildStore(this.props.store,{table:zo.a,id:e.otherCollectionId}),update:{schema:e.otherCollectionSchema},transaction:t}),e.resetLimit&&u.m({collectionViewLocalStore:this.collectionViewLocalStore,isFullScreen:Boolean(this.props.isFullScreen),environment:this.environment}),Pe.commit({environment:this.environment,transaction:t})},this.handleCollectionViewActionBarAddItem=()=>{Ke.j(this.environment)&&this.createItem(!0)},this.handleViewSelectMenuOpen=()=>{this.collectionViewLocalStore.viewSelectMenuOpen.set(!0),this.clearAllSelections()},this.handleEditViewMenuClose=()=>{this.collectionViewLocalStore.viewSelectMenuOpen.set(!1)},this.handleCollectionNameBlur=()=>{le.e(this.environment)},this.handleOpenPropertiesMenu=()=>{this.collectionViewLocalStore.propertiesMenuOpen.set(!0),this.clearAllSelections()},this.handleClosePropertiesMenu=()=>{this.collectionViewLocalStore.propertiesMenuOpen.set(!1)},this.handleOpenAddItemMenu=()=>{this.collectionViewLocalStore.addItemMenuOpen.set(!0),this.clearAllSelections()},this.handleCloseAddItemMenu=()=>{this.collectionViewLocalStore.addItemMenuOpen.set(!1)},this.handleOpenFilterMenu=()=>{this.collectionViewLocalStore.filterMenuOpen.set(!0),this.clearAllSelections()},this.handleCloseFilterMenu=()=>{this.collectionViewLocalStore.filterMenuOpen.set(!1)},this.handleOpenSortMenu=()=>{this.collectionViewLocalStore.sortMenuOpen.set(!0),this.clearAllSelections()},this.handleCloseSortMenu=()=>{this.collectionViewLocalStore.sortMenuOpen.set(!1)},this.handleOpenGroupMenu=()=>{this.collectionViewLocalStore.groupMenuOpen.set(!0),this.clearAllSelections()},this.handleCloseGroupMenu=()=>{this.collectionViewLocalStore.groupMenuOpen.set(!1)},this.handleOpenCalendarByMenu=()=>{this.collectionViewLocalStore.calendarByMenuOpen.set(!0),this.clearAllSelections()},this.handleCloseCalendarByMenu=()=>{this.collectionViewLocalStore.calendarByMenuOpen.set(!1)},this.handleOpenTimelineByMenu=()=>{this.collectionViewLocalStore.timelineByMenuOpen.set(!0),this.clearAllSelections()},this.handleCloseTimelineByMenu=()=>{this.collectionViewLocalStore.timelineByMenuOpen.set(!1)},this.handleOpenSearch=()=>{le.e(this.environment),Ze.f(this.environment),this.collectionViewLocalStore.searchOpen.set(!0),this.clearAllSelections()},this.handleCloseSearch=()=>{this.collectionViewLocalStore.searchOpen.set(!1),u.r({searchQuery:"",collectionViewLocalStore:this.collectionViewLocalStore,isFullScreen:Boolean(this.props.isFullScreen),environment:this.environment})},this.handleCollectionEmit=async()=>{await Promise.all([(async()=>{const{collectionViewLocalStore:e}=this;this.collectionDidEmit?Qa.a.state.isVisible?await u.f(this.environment,e):this.queuedCollectionEmit=!0:this.collectionDidEmit=!0})(),Object(ya.h)(1e3)])},this.throttledCollectionEmit=Object(Sa.a)(this.handleCollectionEmit),this.handlePageVisibilityChange=()=>{Qa.a.state.isVisible&&this.queuedCollectionEmit&&(this.queuedCollectionEmit=!1,this.throttledCollectionEmit())},this.handleRecordIconChange=e=>{const t=this.getCollectionStore(),n=t&&t.getIconStore();n&&Pe.createAndCommit(this.environment,t=>{p.c({store:n,value:e,transaction:t})})},this.handleScrollerMount=e=>{e&&(this.node=i.a.findDOMNode(e))},this.handleScroll=()=>{const{device:e}=this.environment,t=this.collectionViewLocalStore.collectionViewStore.get();if(!t)return;const n=t.getValue();if(n&&this.scrollableAncestor&&this.node){const t=this.scrollableAncestor.getBoundingClientRect(),o=this.node.getBoundingClientRect(),r=t.height,a=Math.floor(t.top-o.top),i=Math.floor(t.top+r-o.top);let s=Math.floor(o.height)+(this.isFullScreen()?e.scrollbarWidth:0)-this.getPaddingBottom(n);this.node.scrollHeight!==s&&!this.isFullScreen()&&(s-=e.scrollbarWidth);const l=this.getHeaderPosition(a,s),c=this.getAggregationsPosition(i,s),d=this.getScrollOffsetTop(a,s),u=this.getScrollOffsetBottom(i,s);this.stores.collectionViewScrollStore.setState({topPosition:l,bottomPosition:c,offsetTop:d,offsetBottom:u})}},this.handleResizeThrottled=l.a.throttle(this.handleScroll,100),this.handleLocalUpdate=()=>{this.queuedLocalUpdate||(this.queuedLocalUpdate=!0,Fo.default.afterNextFlush(()=>{this.handleScroll(),this.queuedLocalUpdate=!1}))},this.handleHeaderMount=e=>{e&&this.sizeObserver.observe(e)},this.handleEditorMouseDown=e=>{const{device:t}=this.environment,n=this.getCurrentCollectionViewStore();if(!n||t.isMobile)return;const o=n.getValue();o&&Object(We.d)({event:e,context:We.a.EditorMouseDown,callback:()=>{e.preventDefault(),Ge.c({environment:this.environment,target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[],allowVerticalEdgeScroll:!0,allowHorizontalEdgeScroll:"board"===o.type||"table"===o.type})}})},this.handleEditorClick=e=>{Object(We.d)({event:e,context:We.a.EditorClick,callback:()=>{}})},this.handleOpenNoDateMenu=()=>{this.collectionViewLocalStore.noDateMenuOpen.set(!0)},this.handleCloseNoDateMenu=()=>{this.collectionViewLocalStore.noDateMenuOpen.set(!1)},this.handleNoDateAddPage=e=>{const{collectionViewLocalStore:t}=this,n=this.getCollectionStore(),o=this.getCurrentCollectionViewStore(),r=this.timelineViewRef.current;if(!o||!n)return;const a=o.getValue();if(!a)return;const i=Pe.createAndCommit(this.environment,o=>"calendar"===a.type?Ar.a({environment:this.environment,store:e,collectionStore:n,collectionViewLocalStore:t,startDayOfWeek:Yr.q.state,transaction:o}):r?r.addBlockToView({store:e,transaction:o}):void 0);i&&le.q({environment:this.environment,stores:[i]})},this.handleTemplateClick=async e=>{this.collectionViewLocalStore.addItemMenuOpen.set(!1);const t=await this.createItem(!1);ga.e({title:null,environment:this.environment,store:t,templateStore:e.templateStore,isKeyboard:e.isKeyboard,isCreateIn:!1})},this.handleTemplateEmptyPageClick=()=>{this.collectionViewLocalStore.addItemMenuOpen.set(!1),this.handleCollectionViewActionBarAddItem()},this.handleTemplateCancelClick=()=>{this.collectionViewLocalStore.addItemMenuOpen.set(!1)},this.handleMouseMove=e=>{Re.a.state||this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=e=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.handleHeaderMouseMove=e=>{Re.a.state||this.stores.headerMouseStore.setState({...this.stores.headerMouseStore.state,mouseEntered:!0})},this.handleHeaderMouseLeave=e=>{this.stores.headerMouseStore.setState({...this.stores.headerMouseStore.state,mouseEntered:!1})}}editView(){this.collectionViewLocalStore.viewSelectMenuOpen.set(!0)}openFilterMenu(){this.collectionViewLocalStore.filterMenuOpen.set(!0)}openSortMenu(){this.collectionViewLocalStore.sortMenuOpen.set(!0)}openGroupMenu(){this.collectionViewLocalStore.groupMenuOpen.set(!0)}openPropertiesMenu(){this.collectionViewLocalStore.propertiesMenuOpen.set(!0)}openCalendarByMenu(){this.collectionViewLocalStore.calendarByMenuOpen.set(!0)}openTimelineByMenu(){this.collectionViewLocalStore.timelineByMenuOpen.set(!0)}openNoDateMenu(){this.collectionViewLocalStore.noDateMenuOpen.set(!0)}openAddItemMenu(){this.collectionViewLocalStore.addItemMenuOpen.set(!0)}insertBlocks(e,t){const n=this.getCollectionStore();if(n)for(const o of e)Ve.a({environment:this.environment,store:o,collectionStore:n,collectionViewLocalStore:this.collectionViewLocalStore,coerce:!0,transaction:t});return[]}willMountOrUpdate(e){super.willMountOrUpdate(e);const{store:t}=e,n=t.id,{collectionViewLocalStore:o}=this,r=this.collectionViewLocalStore.collectionViewStore.get(),a=this.environment.currentUser.id,i=r?r.id:void 0,s=this.getViewStores().map(e=>e.id),l=this.getDefaultCollectionViewStore(),c=pa.a.get({userId:a,key:Q.a.getLocalViewPreferenceKey(n)});let d;if(e.viewId&&s.indexOf(e.viewId)>=0?d=e.viewId:r&&s.indexOf(r.id)>=0?d=r.id:c&&s.indexOf(c)>=0?d=c:l&&s.indexOf(l.id)>=0&&(d=l.id),d){const e=h.a.createChildStore(t,{table:Mo.a,id:d}),r=t.getCollectionViewCollectionStore();e.getValue()&&r&&r.getValue()&&(d!==c&&pa.a.set({userId:a,key:Q.a.getLocalViewPreferenceKey(n),value:d}),d!==i&&r&&u.l({environment:this.environment,collectionViewBlockStore:t,collectionViewStore:e,collectionStore:r,collectionViewLocalStore:o,emitRender:this.handleLocalUpdate,isFullScreen:this.isFullScreen(),isRootChild:this.isRootChild()}))}const p=o.collectionStore.get();if(p){p.getTemplatePagesStores().map(e=>e.getValue())}if(p){const e=this.collectionViewLocalStore.collectionViewStore.get();if(e){const t=e.getType();t&&W.rb(this.environment,{collection_id:p.id,type:t,is_full_screen:this.isFullScreen(),is_peek:this.isInPeekRenderer()})}}}didMount(){super.didMount();const e=this.getCollectionStore();e&&(this.collectionListenerReference=fa.a.addListener(Object(va.e)(e.id),this.throttledCollectionEmit,void 0));const t=this.node;if(t&&t.parentElement&&br.a(this.environment)){this.node=t;const e=br.f(t.parentElement);e&&(this.scrollableAncestor=e,Rr.a(e,"scroll",this.handleScroll),Rr.a(window,"resize",this.handleResizeThrottled))}Qa.a.addListener(this.handlePageVisibilityChange)}didMountOrUpdate(){super.didMountOrUpdate();const{localResultStore:e}=this.collectionViewLocalStore;if(this.collectionViewLocalStore.remoteResult.get()&&e){if(e.state)if(ba.default.initialRenderCompleted){if(ba.default.lastNavigationTime&&ba.default.lastNavigationTimePerformance&&!ba.default.lastNavigationRenderCompleted){const e=ba.default.lastNavigationTime,t=ba.default.lastNavigationTimePerformance;ba.default.setLastNavigationRenderCompleted(),Fo.default.afterNextFlush(()=>{ba.default.lastNavigationTime&&ba.default.emit(this.environment,{type:"navigation_database_render",startDateTime:e,startPerformanceTime:t})})}}else ba.default.setInitialRenderCompleted(),Fo.default.afterNextFlush(()=>{ba.default.emit(this.environment,{type:"initial_database_render",startDateTime:ba.default.appStartTime,startPerformanceTime:ba.default.appStartTimePerformance})})}}willUnmount(){super.willUnmount();const{collectionViewLocalStore:e}=this;u.e({collectionViewLocalStore:e}),this.collectionListenerReference&&(fa.a.removeListener(this.collectionListenerReference),this.collectionListenerReference=void 0),this.scrollableAncestor&&(Rr.b(this.scrollableAncestor,"scroll",this.handleScroll),Rr.b(window,"resize",this.handleResizeThrottled)),this.sizeObserver.destroy(),Qa.a.removeListener(this.handlePageVisibilityChange)}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):ie.navigate({environment:this.environment,url:e})}renderPersisted(){const{collectionViewLocalStore:e}=this,t=this.getCurrentCollectionViewStore(),n=this.getCollectionStore(),a=e.normalizedSchemaStore.state,i=e.normalizedQueryStore.state,s=e.normalizedFormatStore.state;if(!(t&&n&&n.getValue()&&a&&i&&s))return;const l=t.getValue(),d=n.getValue();return l&&d?r.a.createElement(o.Fragment,null,this.renderHeader(n,d,l,a,i,s),r.a.createElement(c.b,{type:this.useSeparateHorizontalScroller()?c.a.X:c.a.None,ref:this.handleScrollerMount,onMouseDown:this.handleEditorMouseDown,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,disableScroll:fr.e(this.environment),onClick:this.handleEditorClick,style:this.getScrollerStyle(l,s)},this.renderView(n,t,l,a,i,s))):void 0}renderHeader(e,t,n,o,a,i){const{device:s}=this.environment,{store:l}=this.props,{createViewButtonPopupStore:c}=this.stores,{collectionViewLocalStore:d}=this,u=this.isFullScreen(),p=d.viewSelectMenuOpen.get(),h=d.searchQuery.get(),m=this.getViewValues(),f=n.type;return r.a.createElement("div",{style:this.getHeaderWrapStyle(),onMouseDown:this.handleEditorMouseDown,onMouseMove:this.handleHeaderMouseMove,onMouseLeave:this.handleHeaderMouseLeave,ref:this.handleHeaderMount},r.a.createElement(Ne.a,{store:l,shouldShowHoverMenu:this.canEdit()&&!u,style:ei.collectionHeaderHoverMenuWrapStyle,analyticsName:f},s.isMobile?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:8}},!u&&this.renderCollectionName(e,t),r.a.createElement("div",{style:{display:"flex",marginTop:8,marginBottom:8}},m.length>1&&r.a.createElement(gn,{collectionName:this.renderCollectionNameAsPlainText(e),schema:o,query:a,disabled:!this.canEdit()||this.props.store.isLocked(),currentViewValue:n,currentFormat:i,collectionViewBlockStore:l,viewSelectMenuOpen:p,onViewSelectMenuOpen:this.handleViewSelectMenuOpen,onEditViewMenuClose:this.handleEditViewMenuClose,views:m,onChange:this.handleCollectionViewSelectChange,createViewButtonPopupStore:c}),c.state.open&&1===m.length||m.length<=1&&this.canEdit()&&!this.props.store.isLocked()?this.renderAddViewButton(n,o,i):void 0,this.renderActionBar(e,t,n,a,i,o))):r.a.createElement("div",{style:ei.collectionHeaderStyle},!u&&this.renderCollectionName(e,t),m.length>1&&r.a.createElement(gn,{collectionName:this.renderCollectionNameAsPlainText(e),schema:o,query:a,disabled:!this.canEdit()||this.props.store.isLocked(),currentViewValue:n,currentFormat:i,collectionViewBlockStore:l,viewSelectMenuOpen:p,onViewSelectMenuOpen:this.handleViewSelectMenuOpen,onEditViewMenuClose:this.handleEditViewMenuClose,views:m,onChange:this.handleCollectionViewSelectChange,createViewButtonPopupStore:c}),c.state.open&&1===m.length||m.length<=1&&(!s.isMobile||u)&&this.canEdit()&&!this.props.store.isLocked()?this.renderAddViewButton(n,o,i):void 0,this.renderActionBar(e,t,n,a,i,o))),s.isMobile&&r.a.createElement(Wr.LazyCollectionMobileSearch,{searchQuery:h,onChange:this.handleCollectionMobileSearchChange}))}renderCollectionName(e,t){const n=!this.canEdit()||this.props.store.isLocked(),o=e.getNameStore(),a=this.getOriginalCollectionViewBlockStore();if(a&&a.id!==this.props.store.id){const n=Object(ne.a)({store:a,fullyQualified:!1});return r.a.createElement(x.a,{renderTooltip:()=>r.a.createElement(X.FormattedMessage,{defaultMessage:"Click to navigate to the original database.",id:"collectionViewBlock.action.navigateToOriginal.tooltip"}),render:a=>r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,Object.assign({style:this.getCollectionNameWrapStyle(),innerStyle:{display:"flex",alignItems:"center",height:28,paddingLeft:6,paddingRight:8,borderRadius:3},href:n},a),r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:6}},T.a.alias({width:14,height:14})),t.icon&&r.a.createElement(ae.a,{disabled:!0,icon:e.getIcon(),isEmptyPage:!1,title:void 0,style:ei.collectionIconStyle,size:24}),r.a.createElement(oe.a,{store:o,style:this.getLinkedCollectionNameStyle(),disabled:!0,disableSlashCommands:!0,disableEmojiCommands:!0,placeholder:De.default.formatMessage($a.titlePlaceholder),onEnter:this.handleCollectionNameBlur,onEsc:this.handleCollectionNameBlur,disableShiftEnter:!0})),this.renderLockIndicator())})}{let a;return t.icon&&(a=n?r.a.createElement(ae.a,{disabled:!0,icon:e.getIcon(),isEmptyPage:!1,style:ei.collectionIconStyle,size:24}):r.a.createElement(ae.a,{disabled:!1,bucket:"secure",store:e,icon:e.getIcon(),isEmptyPage:!1,style:ei.collectionIconStyle,size:24,onChange:this.handleRecordIconChange})),r.a.createElement("div",{style:{...this.getCollectionNameWrapStyle(),padding:t.icon?"4px 3px":"4px 2px",marginRight:4}},a,r.a.createElement(oe.a,{store:o,style:this.getCollectionNameStyle(),disabled:n,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,placeholder:De.default.formatMessage($a.titlePlaceholder),onEnter:this.handleCollectionNameBlur,onEsc:this.handleCollectionNameBlur,disableShiftEnter:!0}),this.renderLockIndicator())}}renderActionBar(e,t,n,o,a,i){const{device:s}=this.environment,{store:l}=this.props,{mouseStore:c,headerMouseStore:d}=this.stores,{collectionViewLocalStore:u}=this,p=this.collectionViewLocalStore.remoteResult.get(),h=u.searchQuery.get(),m=u.viewSelectMenuOpen.get(),f=u.filterMenuOpen.get(),g=u.sortMenuOpen.get(),b=u.groupMenuOpen.get(),v=u.propertiesMenuOpen.get(),y=u.searchOpen.get(),S=u.calendarByMenuOpen.get(),w=u.timelineByMenuOpen.get(),k=u.noDateMenuOpen.get(),C=u.addItemMenuOpen.get(),M=this.getViewValues(),E=n.type,_=this.isFullScreen(),T=c.state.mouseEntered||d.state.mouseEntered||v||f||g||b||y||_||s.isMobile||C;return r.a.createElement(Xt.a,{isVisible:!0,animationStyle:{opacity:T?1:0},render:()=>r.a.createElement(Lo,{disabled:!this.canEdit(),locked:ye.p(e),collectionStore:e,collectionValue:t,currentViewId:n.id,currentViewName:n.name,currentViewType:E,currentViewFormat:a,schema:i,currentViewQuery:o,views:M,searchQuery:h,collectionViewBlockStore:l,viewSelectMenuOpen:m,filterMenuOpen:f,sortMenuOpen:g,groupMenuOpen:b,propertiesMenuOpen:v,isFullScreen:_,isRootChild:this.isRootChild(),searchOpen:y,calendarByMenuOpen:S,timelineByMenuOpen:w,noDateMenuOpen:k,noDateTotal:!p||"calendar"!==p.type&&"timeline"!==p.type?void 0:p.noDateTotal,addItemMenuOpen:C,onChange:this.handleCollectionViewActionBarChange,onAddItem:this.handleCollectionViewActionBarAddItem,onOpenAddItemMenu:this.handleOpenAddItemMenu,onCloseAddItemMenu:this.handleCloseAddItemMenu,onOpenPropertiesMenu:this.handleOpenPropertiesMenu,onClosePropertiesMenu:this.handleClosePropertiesMenu,onOpenFilterMenu:this.handleOpenFilterMenu,onCloseFilterMenu:this.handleCloseFilterMenu,onOpenSortMenu:this.handleOpenSortMenu,onCloseSortMenu:this.handleCloseSortMenu,onOpenGroupMenu:this.handleOpenGroupMenu,onCloseGroupMenu:this.handleCloseGroupMenu,onOpenCalendarByMenu:this.handleOpenCalendarByMenu,onCloseCalendarByMenu:this.handleCloseCalendarByMenu,onOpenTimelineByMenu:this.handleOpenTimelineByMenu,onCloseTimelineByMenu:this.handleCloseTimelineByMenu,onOpenNoDateMenu:this.handleOpenNoDateMenu,onCloseNoDateMenu:this.handleCloseNoDateMenu,onOpenSearch:this.handleOpenSearch,onCloseSearch:this.handleCloseSearch,onNoDateAddPage:this.handleNoDateAddPage,blockPropertyValueOverlayStore:this.getBlockPropertyValueOverlayStore(),onTemplateClick:this.handleTemplateClick,onTemplateEmptyPageClick:this.handleTemplateEmptyPageClick,onTemplateCancelClick:this.handleTemplateCancelClick})})}renderLockIndicator(){const{device:e}=this.environment,{store:t}=this.props,n=t.getCollectionViewCollectionStore(),o=n&&n.getParentBlockStore();if(!this.isFullScreen()&&!e.isMobile&&o&&o.canEdit())return r.a.createElement(ea.a,{store:o,isMobile:!1,isInlineCollection:!0,disableTooltip:!0,buttonStyle:{marginLeft:0}})}renderAddViewButton(e,t,n){const{device:o}=this.environment,{store:a,isFullScreen:i,disabled:s}=this.props,{mouseStore:l,headerMouseStore:c,createViewButtonPopupStore:d}=this.stores,u=this.stores.createViewButtonPopupStore.state.open,p=Boolean(l.state.mouseEntered||c.state.mouseEntered||u||i);return r.a.createElement(Xt.a,{isVisible:!0,animationStyle:{opacity:p?1:0},render:()=>r.a.createElement(it.a,{popupType:o.isMobile?it.a.PopupType.SlideUp:it.a.PopupType.Popup,buttonPopupStore:d,renderOrigin:e=>r.a.createElement(x.a,{renderTooltip:()=>r.a.createElement(X.FormattedMessage,{defaultMessage:"A view lets you see the same database in multiple ways",id:"database.actionBar.addViewButton.tooltip"}),render:t=>r.a.createElement(G.a,Object.assign({icon:T.a.plus,isSmall:!0,isGray:!0},Object(lt.a)(e,t)),r.a.createElement(X.FormattedMessage,{defaultMessage:"Add a view",id:"database.actionBar.addViewButtonTitle"}))}),render:()=>r.a.createElement(ln,{schema:t,disabled:s,collectionViewBlockStore:a,currentViewValue:e,currentFormat:n,onAccept:this.handleCollectionCreateViewMenuAccept,onCancel:()=>d.reset()})})})}renderView(e,t,n,o,a,i){const{store:s}=this.props,{mouseStore:l,collectionViewScrollStore:c}=this.stores,{collectionViewLocalStore:d}=this;if(!d.isReady.get())return this.renderLoadingSpinner();"rendered"!==Me.default.state.renderPhase&&Me.default.setState({...Me.default.state,renderPhase:"rendered"});const u=!this.canEdit(),p=this.isFullScreen(),h=n.type,{mouseEntered:m}=l.state,f=this.isInPeekRenderer(),g=this.getBlockPropertyValueOverlayStore(),b=this.isRootChild();return"table"===h?r.a.createElement(Or,Object.assign({key:t.id,schema:o,format:i,query:a,store:s,collectionStore:e,collectionViewStore:t,collectionViewLocalStore:d,isFullScreen:p,isInPeekRenderer:f,mouseEntered:m},this.getLeftRightPadding(),{minWidth:this.getMinWidth(),paddingBottom:this.getPaddingBottom(n),collectionViewScrollStore:c,disabled:u,blockPropertyValueOverlayStore:g})):"board"===h?r.a.createElement(zt,Object.assign({key:t.id,schema:o,format:i,query:a,store:s,collectionStore:e,collectionViewStore:t,collectionViewLocalStore:d,isFullScreen:p,isInPeekRenderer:f},this.getLeftRightPadding(),{paddingBottom:this.getPaddingBottom(n),collectionViewScrollStore:c,disabled:u,blockPropertyValueOverlayStore:g})):"calendar"===h?r.a.createElement($r,Object.assign({key:t.id,schema:o,format:i,query:a,store:s,collectionStore:e,collectionViewStore:t,collectionViewLocalStore:d,isFullScreen:p,isInPeekRenderer:f},this.getLeftRightPadding(),{paddingBottom:this.getPaddingBottom(n),collectionViewScrollStore:c,disabled:u,blockPropertyValueOverlayStore:g})):"list"===h?r.a.createElement(ra,Object.assign({key:t.id,schema:o,format:i,query:a,store:s,collectionStore:e,collectionViewStore:t,collectionViewLocalStore:d,isFullScreen:p,isInPeekRenderer:f,mouseEntered:m},this.getLeftRightPadding(),{paddingBottom:this.getPaddingBottom(n),collectionViewScrollStore:c,disabled:u,blockPropertyValueOverlayStore:g})):"gallery"===h?r.a.createElement(ua,Object.assign({key:t.id,schema:o,format:i,query:a,store:s,collectionStore:e,collectionViewStore:t,collectionViewLocalStore:d,isFullScreen:p,isInPeekRenderer:f,mouseEntered:m},this.getLeftRightPadding(),{paddingBottom:this.getPaddingBottom(n),collectionViewScrollStore:c,disabled:u,blockPropertyValueOverlayStore:g})):"timeline"===h?r.a.createElement(Za,Object.assign({key:t.id,schema:o,format:i,query:a,store:s,collectionStore:e,collectionViewStore:t,collectionViewLocalStore:d,isFullScreen:p,isRootChild:b,isInPeekRenderer:f,mouseEntered:m,minWidth:this.getMinWidth(),paddingBottom:this.getPaddingBottom(n),collectionViewScrollStore:c,disabled:u,blockPropertyValueOverlayStore:g,ref:this.timelineViewRef},this.getLeftRightPadding())):void 0}renderLoadingSpinner(){const e=this.collectionViewLocalStore.isLoading.get();return r.a.createElement(jt.a,{key:"loading-spinner",show:e,showDelay:500,showHold:200,render:e=>e?r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(Tt.a,{style:{margin:8,width:18,height:18}})):void 0})}renderCollectionNameAsPlainText(e){const t=e.getNameStore().getValue();return t?Object(Ka.m)(t,e):De.default.formatMessage($a.titlePlaceholder)}getOriginalCollectionViewBlockStore(){const e=this.getCollectionStore();if(e){const t=e.getValue();if(t)return pe.a.createChildStore(this.props.store,{table:d.a,id:t.parent_id})}}getViewStores(){const{store:e}=this.props,t=e.getValue();if(t){return(t.view_ids||[]).map(t=>h.a.createChildStore(e,{table:Mo.a,id:t}))}return[]}getViewValues(){const e=this.getViewStores().map(e=>e.getValue());return l.a.compact(e)}getCurrentCollectionViewStore(){return this.collectionViewLocalStore.collectionViewStore.get()}getCurrentViewId(){const e=this.getCurrentCollectionViewStore();return e?e.id:void 0}getDefaultCollectionViewStore(){const e=this.getViewStores();if(e[0]&&e[0].getValue())return e[0]}getCollectionStore(){return this.collectionViewLocalStore.collectionStore.get()}getLeftRightPadding(){const{device:e,WindowSizeStore:t}=this.environment,{currentBlockStore:n}=Me.default.state,o=this.isInPeekRenderer(),r=!!n&&n.isFullWidth(),a=this.isFullScreen(),i=t.state.width,s=Object(wa.b)(this.environment),l=this.isRootChild(),c=this.isInColumn(),d=i-s<Br.b.defaultWidth,u=e.isPhone;if(c)return{paddingLeft:1,paddingRight:1};if(l){if(o)return{paddingLeft:Lr.a.paddingHorizontalModal,paddingRight:Lr.a.paddingHorizontalModal};if(u)return{paddingLeft:t.getSafePaddingLeftPx(Br.b.defaultPaddingLeftRight(this.environment)),paddingRight:t.getSafePaddingRightPx(Br.b.defaultPaddingLeftRight(this.environment))};if(a)return{paddingLeft:Br.b.fullScreenCollectionPaddingLeftRight(this.environment),paddingRight:Br.b.fullScreenCollectionPaddingLeftRight(this.environment)};if(r||d)return{paddingLeft:Br.b.defaultPaddingLeftRight(this.environment),paddingRight:Br.b.defaultPaddingLeftRight(this.environment)};{const e=(this.sizeObserver.width.get()-(Br.b.defaultWidth-2*Br.b.defaultPaddingLeftRight(this.environment)))/2;return{paddingLeft:e,paddingRight:e}}}return{paddingLeft:0,paddingRight:0}}getMinWidth(){const{device:e}=this.environment,{currentBlockStore:t}=Me.default.state,n=this.isInPeekRenderer(),o=!!t&&t.isFullWidth(),r=e.isPhone,a=this.isFullScreen();return a||this.isRootChild()?r?"calc(100% - ".concat(2*Br.b.defaultPaddingLeftRight(this.environment),"px)"):n?"calc(100% - ".concat(2*Lr.a.paddingHorizontalModal,"px)"):a?"calc(100% - ".concat(2*Br.b.fullScreenCollectionPaddingLeftRight(this.environment),"px)"):o?"calc(100% - ".concat(2*Br.b.defaultPaddingLeftRight(this.environment),"px)"):Br.b.defaultWidth-2*Br.b.defaultPaddingLeftRight(this.environment):"100%"}isInPeekRenderer(){const e=Po.c.state;return Boolean(e.open&&this.props.store.findRecordStoreAncestor(t=>t===e.target).ancestor)}getBlockPropertyValueOverlayStore(){return this.isInPeekRenderer()?ha.a:ma.a}isInColumn(){return!this.isFullScreen()&&!this.isRootChild()}setCurrentView(e,t){const{store:n}=this.props;if(this.isCurrentBlock()||t)ie.navigateToBlock({environment:this.environment,store:n,metaClick:t,collectionViewId:e});else{const{collectionViewLocalStore:t}=this,o=new h.a(this.environment,{table:Mo.a,id:e},{inMemoryRecordCache:n.inMemoryRecordCache}),r=o.getCollectionStore();r&&u.l({environment:this.environment,collectionViewBlockStore:n,collectionViewStore:o,collectionStore:r,collectionViewLocalStore:t,emitRender:this.handleLocalUpdate,isFullScreen:this.isFullScreen(),isRootChild:this.isRootChild()}),pa.a.set({userId:this.environment.currentUser.id,key:Q.a.getLocalViewPreferenceKey(n.id),value:e})}}getHeaderPosition(e,t){return e<0||e>t?Go.Regular:Go.Fixed}getAggregationsPosition(e,t){return e-34<0||e>t?Go.Regular:Go.Fixed}getScrollOffsetTop(e,t){return e<0||e>t?0:e>=t-(34+Ir)?t-(34+Ir):e}getScrollOffsetBottom(e,t){return e-34<0||e>t?0:e<34+Ir?34+Ir-t:e-t}useSeparateHorizontalScroller(){return!this.isFullScreen()||!br.b(this.environment)}isCurrentBlock(){return this.props.store===Me.default.state.currentBlockStore}isFullScreen(){return Boolean(this.props.isFullScreen)}async createItem(e){const{collectionViewLocalStore:t}=this,n=t.collectionStore.get();if(!n)throw new Error("No collection store.");const o=ye.l({environment:this.environment,group:void 0,collectionViewLocalStore:t,parentStore:n}),r=Pe.create(this.environment),{newStore:a}=Ve.b({environment:this.environment,parentStore:n,collectionViewLocalStore:t,group:void 0,results:o,insertAtStart:!0,coerce:e,transaction:r}),{currentBlockStore:i}=Me.default.state,s=i?Object(ne.a)({store:i,peekViewBlockId:a.id,fullyQualified:!1}):Object(ne.a)({store:a,fullyQualified:!1});return this.navigate(s),W.fb(this.environment,{from:"collection_view_new_item",type:"page"}),await Pe.commit({environment:this.environment,transaction:r}),a}clearAllSelections(){le.e(this.environment),Vo.e()}getScrollerStyle(e,t){const{store:n}=this.props,o=this.isFullScreen(),r=this.isRootChild(),a=e.type,{paddingLeft:i,paddingRight:s}=this.getLeftRightPadding(),l=this.getPaddingBottom(e);return{flexGrow:1,flexShrink:0,zIndex:1,...n.isLocked()&&{cursor:"default"},..."timeline"===a&&!o&&!Object(zn.I)({environment:this.environment,isFullScreen:o,isRootChild:r,format:t})&&{marginLeft:i,marginRight:s,marginBottom:l}}}getPaddingBottom(e){const{device:t}=this.environment,n=e.type;return this.props.isFullScreen?"timeline"===n?96:180:"timeline"===n?0:"gallery"===n?0:0===t.scrollbarWidth?15:0}getCollectionNameWrapStyle(){return{display:"flex",whiteSpace:"nowrap",overflow:"hidden",flexShrink:0,minWidth:0}}getCollectionNameStyle(){const{device:e}=this.environment,t=this.rootStorePageFont.state;return{display:"flex",alignItems:"center",fontFamily:V.a.getHeaderFontFamily({pageFont:t}),fontWeight:V.a.fontWeight.semibold,fontSize:e.isMobile?"1.17em":"1.25em",lineHeight:1.2,whiteSpace:"pre-wrap",color:this.theme.regularTextColor}}getLinkedCollectionNameStyle(){return{...this.getCollectionNameStyle(),pointerEvents:"none",display:"block",minWidth:0,...V.a.textOverflowStyle}}getHeaderWrapStyle(){const{device:e}=this.environment,{paddingLeft:t,paddingRight:n}=this.getLeftRightPadding();return{minHeight:e.isMobile?this.props.isFullScreen?ei.collectionHeaderHeightMobileFullpage:ei.collectionHeaderHeightMobileInline:ei.collectionHeaderHeightDesktop,paddingLeft:t,paddingRight:n,flexShrink:0,zIndex:1,overflow:this.isInColumn()?"hidden":"visible",...this.isFullScreen()&&br.b(this.environment)&&{position:"sticky",left:0},...this.props.store.isLocked()&&{cursor:"default"}}}}ei.contextTypes=St.a,ei.collectionHeaderHeightDesktop=42,ei.collectionHeaderHeightMobileFullpage=98,ei.collectionHeaderHeightMobileInline=126,ei.collectionIconStyle={marginRight:6,width:24,height:24},ei.collectionHeaderHoverMenuWrapStyle={position:"relative"},ei.collectionHeaderStyle={display:"flex",alignItems:"center",height:ei.collectionHeaderHeightDesktop,paddingBottom:2};t.a=ei},vshI:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return S}));var o=n("LvDl"),r=n.n(o),a=n("CARr"),i=n("HRSx"),s=n("D2XV"),l=n("9OwC"),c=n("cBa6"),d=n("k1PL"),u=n("O+wX"),p=n("5/h/"),h=n("VhAz"),m=n("3JF5");function f(e){const{schema:t,property:n,block:o,getRecordValue:a,userTimeZone:i,depth:s,intl:c,resultCache:d,normalizedSchemaCache:u}=e,p=t[n];if(!p||"formula"!==p.type||!p.formula)return;const{formula:h}=p,m=function(e,t,n){if(e[t]&&e[t][n])return e[t][n]}(d,o.id,n);if(m)return m.value;if(!(s>12))try{let e=function e(t){const{formula:n,schema:o,block:r,getRecordValue:a,userTimeZone:i,depth:s,intl:c,resultCache:d,normalizedSchemaCache:u}=t;if(!n)return;if("conditional"===n.type)return e({formula:n.condition,schema:o,block:r,getRecordValue:a,userTimeZone:i,depth:s,intl:c,resultCache:d,normalizedSchemaCache:u})?e({formula:n.true,schema:o,block:r,getRecordValue:a,userTimeZone:i,depth:s,intl:c,resultCache:d,normalizedSchemaCache:u}):e({formula:n.false,schema:o,block:r,getRecordValue:a,userTimeZone:i,depth:s,intl:c,resultCache:d,normalizedSchemaCache:u});if("constant"===n.type){const{value:e,value_type:t}=n;return"string"===t?e:"number"===t?parseFloat(e):"boolean"===t?!!JSON.parse(e):void 0}if("function"===n.type){const{args:t}=n,p=(t||[]).map(t=>e({formula:t,schema:o,block:r,getRecordValue:a,userTimeZone:i,depth:s,intl:c,resultCache:d,normalizedSchemaCache:u})),h=l.f(n.name),m=l.g(n.name);return h?h.apply(p,i,c):m?m.apply(p,i,c):void 0}if("property"===n.type)return g({property:n.id,schema:o,block:r,getRecordValue:a,userTimeZone:i,depth:s,intl:c,resultCache:d,normalizedSchemaCache:u});if("operator"===n.type){const{args:t,name:p}=n,h=(t||[]).map(t=>e({formula:t,schema:o,block:r,getRecordValue:a,userTimeZone:i,depth:s,intl:c,resultCache:d,normalizedSchemaCache:u})),m=l.g(p);if(!m)return;return m.apply(h,i,c)}if("symbol"===n.type){const{name:e}=n;return e in l.c?l.c[e].value:void 0}}({formula:h,schema:t,block:o,getRecordValue:a,userTimeZone:i,depth:s+1,intl:c,resultCache:d,normalizedSchemaCache:u});if(r.a.isNumber(e)){if(!r.a.isFinite(e))return;e=r.a.round(e,12)}return function(e,t,n,o){e[t]||(e[t]={});e[t][n]={value:o}}(d,o.id,n,e),e}catch(f){return void console.error(f)}}function g(e){const{property:t,schema:n}=e,o=n[t];if(o)return y[o.type](e)}function b(e){const{property:t,block:n}=e,o=n.properties||{},r=o&&o[t]||[];return c.cb(r)}function v(e){const{property:t,block:n}=e,o=n.properties||{},r=o&&o[t]||[];return a.v(r)}const y={title:b,text:b,url:v,email:v,phone_number:v,select:({property:e,schema:t,block:n})=>{const o=n.properties||{},r=o&&o[e]||[],i=t[e].options||[];return a.u(r,i)},multi_select:({property:e,schema:t,block:n})=>{const o=n.properties||{},r=o&&o[e]||[],i=t[e].options||[];return a.q(r,i).join(", ")},checkbox:({property:e,block:t})=>{const n=t.properties||{},o=n&&n[e]||[];return a.n(o)},date:({property:e,block:t})=>{const n=t.properties||{},o=n&&n[e]||[];return a.o(o)},person:({property:e,block:t,getRecordValue:n})=>{const o=t.properties||{},r=o&&o[e]||[];return a.s(r).map(({table:e,id:t})=>{if(e===p.a){const o=n({table:e,id:t});return Object(p.e)(o)}{const o=n({table:e,id:t});return Object(m.a)(o)}}).join(", ")},relation:({property:e,block:t,getRecordValue:n,schema:o})=>{const r=t.properties||{},s=r&&r[e]||[],l=o[e];if(l&&"relation"===l.type)return a.j({relationValue:a.t(s),propertySchema:l,getRecordValue:n}).map(e=>{const t=n({table:i.a,id:e});return t&&t.properties?c.cb(t.properties.title):void 0}).join(", ")},rollup:e=>{const{property:t,schema:n}=e,o=n[t];if(!o||"rollup"!==o.type||!o.aggregation)return d.b(e);{const t=d.a(e);if(void 0===t)return;if("number"===t.type)return t.value;if("date"===t.type)return t.value;Object(h.e)(t)}},number:({property:e,block:t})=>{const n=t.properties||{},o=n&&n[e]||[];return a.r(o)},file:({property:e,block:t})=>{const n=t.properties||{},o=n&&n[e]||[];return a.p(o).map(({url:e})=>e).join(", ")},formula:e=>f({...e,depth:e.depth+1}),created_time:({block:e,userTimeZone:t})=>{if(e.created_time)return s.r(e.created_time,t)},last_edited_time:({block:e,userTimeZone:t})=>{if(e.last_edited_time)return s.r(e.last_edited_time,t)},created_by:({block:e,getRecordValue:t})=>{if(e.created_by_table&&e.created_by_id)if(e.created_by_table===p.a){const n=t({table:e.created_by_table,id:e.created_by_id});if(n)return Object(p.e)(n)}else{const n=t({table:e.created_by_table,id:e.created_by_id});if(n)return Object(m.a)(n)}},last_edited_by:({block:e,getRecordValue:t})=>{if(e.last_edited_by_table&&e.last_edited_by_id)if(e.last_edited_by_table===p.a){const n=t({table:e.last_edited_by_table,id:e.last_edited_by_id});if(n)return Object(p.e)(n)}else{const n=t({table:e.last_edited_by_table,id:e.last_edited_by_id});if(n)return Object(m.a)(n)}}};function S(e){const{schema:t,property:n,userTimeZone:o,intl:a}=e,i=g(e),l=t[n];if(!l)throw new Error("Property not found");if(r.a.isNumber(i)){if(!r.a.isFinite(i))return;return i.toString()}return"boolean"==typeof i?i.toString():s.Z(i)?"date"===l.type?Object(u.a)({value:i,userTimeZone:o,allowRelativeDates:!1,intl:a}):void 0:i}},w4oV:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},w5Oa:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("C7oc"),s=n("Oy36"),l=n("YIRN"),c=n("gbGO"),d=n("mF3+"),u=n("MeYt"),p=n("aEEb"),h=n("LeVO"),m=n("DNfA");class f extends a.a{renderComponent(){const{device:e}=this.environment,{id:t,onClick:n,focused:o,isAddButton:a,title:i,caption:s,shortcut:l,tooltipMessage:c,disableTooltip:f,disabled:g,showDragHandle:b}=this.props,v=this.environment.device.isMobile,y=this.props.isCheck;return r.a.createElement(h.a,{key:"sidebarswitchermenuitem-tooltip-".concat(t),renderTooltip:()=>c,disableTooltip:f,placement:m.b.Bottom,render:t=>r.a.createElement(u.a,Object.assign({},t,{mobileFeedback:this.environment.device.isMobile,onClick:n,hovered:o,disabled:g,style:this.getStyle()}),b&&this.renderDragHandle(),a?this.renderAddIcon():this.renderIcon(),r.a.createElement("div",{style:{marginLeft:12,marginRight:l||y?12:0,minWidth:0}},r.a.createElement(p.a,{className:"notranslate",isMobile:e.isMobile},i),s&&r.a.createElement(p.a,{isSmall:!0,isMobile:e.isMobile},s)),y&&d.a.check({width:16,height:16,marginLeft:"auto"}),l&&!v&&!y&&r.a.createElement("div",{style:this.getShortcutStyle()},l))})}renderDragHandle(){return r.a.createElement(l.a,{iconSize:12,style:{marginLeft:-6,marginRight:4,visibility:this.props.isAddButton?"hidden":"visible"}})}renderIcon(){const e=this.environment.device.isMobile;return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{position:"relative"}},this.props.id&&r.a.createElement(s.a,{disabled:!0,icon:this.props.icon,isEmptyPage:!1,title:this.props.title,size:e?f.mobileIconSize:f.desktopIconSize,isLarge:!0}),r.a.createElement(i.a,{color:i.a.Color.Red,count:this.props.unreadMentions,style:{position:"absolute",top:-5,right:-5}})))}renderAddIcon(){const e=this.environment.device.isMobile?f.mobileIconSize:f.desktopIconSize;return r.a.createElement("div",{style:{...this.getIconWrapStyle(),width:e,height:e}},this.getPlusIcon())}getStyle(){const e=this.environment.device.isMobile,{WindowSizeStore:t}=this.environment,{disabled:n}=this.props;return{display:"flex",alignItems:"center",lineHeight:"120%",width:"100%",paddingTop:e?8:4,paddingBottom:e?8:4,paddingLeft:e?t.getSafePaddingLeftCSS(16):14,paddingRight:e?t.getSafePaddingRightCSS(16):14,...e&&{boxShadow:"0 1px 0 ".concat(this.theme.regularDividerColor)},marginBottom:1,fontSize:e?16:14,...e&&{background:this.theme.popoverBackground},height:e?54:48,...this.props.isAddButton&&!e&&{boxShadow:"none",marginBottom:0},...n&&{opacity:.4}}}getPlusIcon(){return d.a.plus({flexGrow:0,flexShrink:0,width:16,height:16,fill:this.theme.popoverBackground})}getIconWrapStyle(){return{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",background:this.theme.lightIconColor,borderRadius:3,flexShrink:0}}getShortcutStyle(){return{color:this.theme.lightTextColor,fontSize:12,whiteSpace:"nowrap",marginLeft:"auto",flexShrink:0}}}f.contextTypes={...c.c},f.mobileIconSize=36,f.desktopIconSize=32,f.dragHandleEffectiveWidth=16,t.a=f},w5u6:function(e,t,n){"use strict";n.r(t);n("3bBZ");var o=n("xEkU"),r=n("LvDl"),a=n.n(r),i=n("zb5D");t.default=new class{constructor(){this.pauseCount=0,this.renderIsQueued=!1,this.computedStoreQueue=new Set,this.componentRenderQueue=new Set,this.flushQueue=new Set,this.renderRemovedQueue=new Set,this.flush=async()=>{do{for(;this.computedStoreQueue.size>0;){const t=this.computedStoreQueue;this.computedStoreQueue=new Set;for(const n of t)try{n()}catch(e){this.throttledLog({level:"error",from:"RenderQueue",type:"computedStoreRecompute",error:Object(i.a)(e)})}}const t=this.componentRenderQueue;this.componentRenderQueue=new Set,this.renderRemovedQueue.clear(),await Promise.all(Array.from(t.values()).map(this.processRenderQueueCallback));const n=this.flushQueue;this.flushQueue=new Set;for(const o of n)try{o()}catch(e){this.throttledLog({level:"error",from:"RenderQueue",type:"afterNextFlush",error:Object(i.a)(e)})}}while(this.componentRenderQueue.size>0||this.flushQueue.size>0||this.computedStoreQueue.size>0);this.renderIsQueued=!1},this.processRenderQueueCallback=async e=>{if(!this.renderRemovedQueue.has(e))try{await e()}catch(t){this.throttledLog({level:"error",from:"RenderQueue",type:"componentRender",error:Object(i.a)(t)})}},this.throttledLog=a.a.throttle(e=>{console.info(e)},5e3)}isPaused(){return this.pauseCount>0}enqueueComputedStoreRecompute(e){this.computedStoreQueue.add(e),this.queueFlush()}enqueueComponentRender(e){this.componentRenderQueue.add(e),this.queueFlush()}queueFlush(){this.renderIsQueued||0!==this.pauseCount||(this.renderIsQueued=!0,o(this.flush))}removeRenderFromQueue(e){this.renderRemovedQueue.add(e)}afterNextFlush(e){return new Promise(t=>{this.flushQueue.add(()=>{e&&e(),t()}),this.queueFlush()})}pause(){this.afterNextFlush(()=>{this.pauseCount++})}unpause(){this.pauseCount--,0!==this.pauseCount||this.renderIsQueued||(this.renderIsQueued=!0,o(this.flush))}}},wF3w:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));function o(e=4){let t="";for(;t.length<e;)t+=String.fromCharCode(58+69*Math.random());return t}},wFTq:function(e,t,n){"use strict";n.d(t,"b",(function(){return U}));n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("wldR"),l=n("wpmu"),c=n("G4cA"),d=n("mjq6"),u=n("WgIs"),p=n("Pl3d"),h=n("sbdd"),m=n("gbGO"),f=n("dXb3"),g=n("2Y+N"),b=n("zTdN"),v=n("4HCU"),y=n("2HDO"),S=n("HSWF"),w=n("QcDD"),k=n("vJXr"),C=n("HTHG"),M=n("D8Ld"),E=n("VyA+"),_=n("SR/M"),T=n("VVDu"),x=n("58VE"),I=n("Sb6f"),P=n("J9+s"),O=n("6nbh"),B=n("mF3+"),L=n("qX+M"),R=n("daQZ"),D=n("LeVO"),A=n("Pqcg"),j=n("5Nka"),F=n("uSCg"),V=n("FUUC"),N=n("HRSx");const U=Object(P.defineMessages)({createSubpage:{id:"moveToOrCreateMenu.createSubpage.description",defaultMessage:"Create a new sub-page where your cursor is, inside the current block."},newPageIn:{id:"moveToOrCreateMenu.newPageIn.description",defaultMessage:"Create a new page inside any existing page, then link to it in one go."},turnInto:{id:"moveToOrCreateMenu.turnInto.description",defaultMessage:"Turn blocks into new pages inside any existing database or page."}});class z extends s.a{constructor(){super(...arguments),this.storeTypes={ignoreSelectionAreaStore:O.a},this.createMenuItem=(e,t)=>{const{isCreateIn:n}=this.props,{checked:o,showPath:a}=t,{currentBlockStore:i}=w.default.state;if(!i)return;const s="page"===e.type?l.a.createChildStore(i,{table:N.a,id:e.id}):"space"===e.type?c.a.createChildStore(i,{table:V.a,id:e.id}):void 0;if(s){return{key:s.id,render:e=>r.a.createElement(h.a,Object.assign({store:s,checkState:o,hidePath:!!n&&!a},e)),action:()=>this.props.onAccept(e)}}},this.getAutocompleteItems=async e=>{const{currentUserRootStore:t,currentBlockStore:n,currentSpaceStore:o}=w.default.state,a=[],s=[];let c=[];const u=[],p=[];if(!t||!o||!n)return[];const h=S.p(o,o.loadRecordValue);if(this.allTargetsAreNavigableStore.state&&!o.getDisableMoveToSpace()){const n=t.getSpaceViewStores();let o=i.a.compact(n.map(e=>e.getSpaceStore()));o=i.a.uniqBy(o,e=>e.id),e&&(o=Object(d.b)(e,o,e=>Object(L.getSpaceName)(this.environment,e)||""));for(const e of o)this.canMoveToSpace(e)&&a.push(e.id)}if(e&&this.shouldAllowSearch()){const t=await v.f({environment:this.environment,query:e,limit:20,spaceId:o.id,requireEditPermissions:!0,excludeTemplates:!1,source:"move_to_menu"});for(const e of t.results){const t=l.a.createChildStore(n,{table:N.a,id:e});this.canMoveToBlock(t)&&(this.shouldDisplayInTemplatesSection(t)?p.push(t.id):s.push(t.id))}}else{c=await S.q(o,o.id),c=c.filter(e=>{const t=l.a.createChildStore(n,{table:N.a,id:e});if(this.canMoveToBlock(t))return!this.shouldDisplayInTemplatesSection(t)||(p.push(t.id),!1)});const e=C.e(this.environment);for(const t of e)this.canMoveToBlock(t)&&(this.shouldDisplayInTemplatesSection(t)?p.push(t.id):u.push(t.id))}const m=await h,f=[],{isCreateIn:b,isAddTo:y,isTurnIntoPage:k}=this.props;if(b){const t=new Set,n=e=>{if(!e)return!1;const{key:n}=e;return!t.has(n)&&(t.add(n),!0)},o=i.a.compact([this.getCurrentBlockMenuItem({query:e})]);!o.length||Boolean(k)||Boolean(y)||f.push({key:"defaults",render:e=>r.a.createElement(g.a,Object.assign({},e)),items:o});const l=i.a.compact(c.slice(0,5).map(e=>this.createMenuItem({type:"page",id:e},{checked:!1,showPath:!Boolean(k)&&!Boolean(y)})).filter(n));l.length&&f.push({key:"recents",render:e=>r.a.createElement(g.a,Object.assign({},e,{isTitleUppercase:!0,title:k?r.a.createElement(P.FormattedMessage,{defaultMessage:"Recently added to",id:"moveBlockMenu.recentlyAddedTo.title"}):y?r.a.createElement(P.FormattedMessage,{defaultMessage:"Recently added in",id:"moveBlockMenu.recentlyAddedIn.title"}):r.a.createElement(P.FormattedMessage,{defaultMessage:"Recently moved to",id:"moveBlockMenu.recentlyMovedTo.title"}),topBorder:f.length>0&&!Boolean(k)&&!Boolean(y)})),items:l});const d=i.a.compact(this.getMoveToSpaceMenuItems(a).filter(n));d.length>0&&f.push({key:"spaces",render:e=>r.a.createElement(g.a,Object.assign({},e,{isTitleUppercase:!0,title:y?r.a.createElement(P.FormattedMessage,{defaultMessage:"Add to space",id:"moveBlockMenu.addToSpace.title"}):r.a.createElement(P.FormattedMessage,{defaultMessage:"Move to space",id:"moveBlockMenu.moveToSpace.title"}),topBorder:f.length>0})),items:d});const h=i.a.compact(p.slice(0,5).map(e=>this.createMenuItem({type:"page",id:e},{checked:!1,showPath:!0})).filter(n));h.length>0&&f.push({key:"templates",render:e=>r.a.createElement(g.a,Object.assign({},e,{isTitleUppercase:!0,title:y?r.a.createElement(P.FormattedMessage,{defaultMessage:"Add from template",id:"moveBlockMenu.addFromTemplate.title"}):r.a.createElement(P.FormattedMessage,{defaultMessage:"Move to template",id:"moveBlockMenu.moveToTemplate.title"}),topBorder:f.length>0})),items:h}),o.length&&(Boolean(k)||Boolean(y))&&f.push({key:"defaults",render:e=>r.a.createElement(g.a,Object.assign({},e,{topBorder:f.length>0})),items:o});const m=i.a.compact([...s.slice(0,20).map(t=>this.createMenuItem({type:"page",id:t},{checked:!1,showPath:!e})),...u.slice(0,10).map(t=>this.createMenuItem({type:"page",id:t},{checked:!1,showPath:!e}))].slice(0,20).filter(n));return m.length>0&&f.push({key:"blocks",render:e=>r.a.createElement(g.a,Object.assign({},e,{isTitleUppercase:!0,title:y?r.a.createElement(P.FormattedMessage,{defaultMessage:"Add to page",id:"moveBlockMenu.addToPage.title"}):r.a.createElement(P.FormattedMessage,{defaultMessage:"Move to page",id:"moveBlockMenu.moveToPage.title"}),topBorder:f.length>0})),items:m}),f}const M=i.a.uniqBy(i.a.compact([this.getCurrentBlockMenuItem({query:e}),this.getPrivatePagesMenuItem({query:e,savedQuickAddParent:m}),this.getSavedQuickAddParentMenuItem({query:e,savedQuickAddParent:m}),...this.getMoveToSpaceMenuItems(a),...c.slice(0,3).map(t=>this.createMenuItem({type:"page",id:t},{checked:!1,showPath:!e})),...s.slice(0,20).map(t=>this.createMenuItem({type:"page",id:t},{checked:!1,showPath:!e})),...u.slice(0,100).map(t=>this.createMenuItem({type:"page",id:t},{checked:!1,showPath:!e}))]),e=>e.key);return 0===M.length?[]:[{key:"results",render:e=>r.a.createElement(g.a,Object.assign({},e,{isTitleUppercase:!0})),items:M}]},this.allTargetsAreNavigableStore=this.createComputedStore(()=>this.props.targets.every(e=>e.isNavigableBlock())),this.anyTargetIsCollectionViewStore=this.createComputedStore(()=>this.props.targets.some(e=>e.isCollectionView()))}willUnmount(){this.lastSuccessfulRequest=void 0}renderComponent(){const{device:e}=this.environment,{autocompleteQuery:t,isAddTo:n,isCreateIn:o,isTurnIntoPage:a}=this.props,i={request:t,debounce:v.b,performRequest:this.getAutocompleteItems,render:(e,n,a)=>{if(e)return r.a.createElement(g.a,null,r.a.createElement(b.a,{title:r.a.createElement(P.FormattedMessage,{defaultMessage:"Something went wrong.",id:"moveBlockMenu.errorOnMove.label"})}));if(!a&&!this.lastSuccessfulRequest)return r.a.createElement(g.a,null,r.a.createElement(T.a,null));a&&this.componentIsMounted&&(this.lastSuccessfulRequest=n);const i=this.lastSuccessfulRequest;return i&&0===i.length?r.a.createElement(g.a,null,!a&&r.a.createElement(T.a,null),r.a.createElement(b.a,{title:r.a.createElement(P.FormattedMessage,{defaultMessage:"No results",id:"moveBlockMenu.noResults.label"})})):r.a.createElement(r.a.Fragment,null,!a&&r.a.createElement(g.a,null,r.a.createElement(T.a,null)),r.a.createElement(u.a,{type:u.a.Type.Vertical,initialFocus:t||o?0:void 0,sections:i||[]}))}};let s,l;return s=this.shouldAllowSearch()?e.isMobile?this.renderInputMenuItem():r.a.createElement(g.a,{isInput:!0},this.renderInputMenuItem()):void 0,l=e.isMobile?{onMouseEnter:this.props.onMouseEnter,menuType:m.b.MenuType.Modal,title:a?r.a.createElement(P.FormattedMessage,{defaultMessage:"Add to another page",id:"moveBlockMenu.mobileNewPageInj.label"}):n?r.a.createElement(P.FormattedMessage,{defaultMessage:"Add new page in",id:"moveBlockMenu.mobileAddTo.label"}):r.a.createElement(P.FormattedMessage,{defaultMessage:"Move to",id:"moveBlockMenu.mobileMoveTo.label"}),right:r.a.createElement(P.FormattedMessage,{defaultMessage:"Done",id:"moveBlockMenu.rightDoneButton.label"}),onClickRight:this.props.onCancel,header:s}:{onMouseEnter:this.props.onMouseEnter,menuType:m.b.MenuType.Popup,width:this.props.desktopWidth,header:s},r.a.createElement(M.a,{capture:!0,allowMenuList:!0,allowEsc:!0,allowTabUntab:!1,allowUndo:!1},r.a.createElement(E.a,{capture:!0,onEsc:this.props.onCancel}),r.a.createElement(y.a,{store:this.stores.ignoreSelectionAreaStore,capture:this.props.captureSelection,ignoreBlockSelection:!1,focusOffscreenInput:!1,restoreSelection:this.props.restoreSelection,render:()=>r.a.createElement(m.b,Object.assign({},l),r.a.createElement(p.a,Object.assign({},i)))}))}renderInputMenuItem(){const{device:e}=this.environment,{intl:t,autocompleteQuery:n,isAddTo:o,isTurnIntoPage:a}=this.props;return r.a.createElement(f.a,{focus:!e.isMobile||void 0,focusAfterAnimation:!0,value:n,shouldShowSearchIconOnMobile:!0,onChange:e=>{this.props.onAutocompleteQueryChange(e.target.value)},placeholder:a?t.formatMessage({defaultMessage:"Add to another page...",id:"moveToMenuRenderer.addNewPageIn.label"}):o?t.formatMessage({defaultMessage:"Add new page in…",id:"moveToMenuRenderer.addTo.label"}):t.formatMessage({defaultMessage:"Move to…",id:"moveToMenuRenderer.moveTo.label"})})}getCurrentBlockMenuItem(e){const t=this.props;if(!t.isAddTo||!t.isCreateIn)return;if(e.query)return;const n=w.default.state.currentBlockStore;if(!n)return;const o=t.parentBlockId?l.a.createChildStore(n,{table:N.a,id:t.parentBlockId}):void 0,a=Object(R.c)(o);return a?{key:a.pageStore.id,render:e=>{const n=n=>r.a.createElement(_.a,Object.assign({},Object(F.a)(n||{},e),{icon:B.a.plus({width:16}),title:t.targets.length>1?r.a.createElement(P.FormattedMessage,{id:"moveBlockMenu.currentPage.pluralAddTitle",defaultMessage:"Add as sub-pages"}):r.a.createElement(P.FormattedMessage,{id:"moveBlockMenu.currentPage.singleAddTitle",defaultMessage:"Add as sub-page"})}));return this.environment.device.isMobile?n():r.a.createElement(D.a,{renderTooltip:()=>r.a.createElement(A.a,{imageURL:j.a.images.tooltips.pageMenu.newSubpagePng,imageWidth:140,imageHeight:100,caption:r.a.createElement(P.FormattedMessage,Object.assign({},U.createSubpage))}),placement:D.a.Placement.Right,delayThreshold:0,render:e=>n(e)})},action:()=>t.onAccept(a.createInValue)}:void 0}getPrivatePagesMenuItem(e){const{currentSpaceStore:t}=w.default.state,{query:n,savedQuickAddParent:o}=e,{isAddTo:a}=this.props,i=!t||!t.canRead();if(!n&&this.allTargetsAreNavigableStore.state&&!i)return{key:"private",render:e=>r.a.createElement(_.a,Object.assign({icon:r.a.createElement(x.a,{size:22,userValue:Object(C.g)(this.environment)}),title:r.a.createElement("span",null,a?r.a.createElement(P.FormattedMessage,{defaultMessage:"Add to <mediumtext>Private pages</mediumtext>",id:"moveBlockMenu.addToPrivatePages",values:{mediumtext:(...e)=>r.a.createElement("span",{style:{fontWeight:I.a.fontWeight.medium}},e)}}):r.a.createElement(P.FormattedMessage,{defaultMessage:"Move to <mediumtext>Private pages</mediumtext>",id:"moveBlockMenu.moveToPrivatePages",values:{mediumtext:(...e)=>r.a.createElement("span",{style:{fontWeight:I.a.fontWeight.medium}},e)}})),checkState:a&&"current-space"===o.type},e)),action:()=>this.props.onAccept({type:"current-space"})}}getSavedQuickAddParentMenuItem(e){const{isAddTo:t}=this.props,{query:n,savedQuickAddParent:o}=e;if(t&&!n&&"space"===o.type||"page"===o.type)return this.createMenuItem(o,{checked:!0,showPath:!0})}getMoveToSpaceMenuItems(e){const{isAddTo:t}=this.props;return t?[]:e.map(e=>this.createMenuItem({type:"space",id:e},{checked:!1,showPath:!0}))}shouldAllowSearch(){return k.a.state.online}canMoveToSpace(e){const{currentSpaceStore:t}=w.default.state;return Boolean(t&&e.canEdit()&&e.id!==t.id)}shouldDisplayInTemplatesSection(e){return!!this.props.isCreateIn&&e.isTemplate()}canMoveToBlock(e){return!(e.canEdit()&&e.isNavigableBlock()&&!this.props.targets.some(t=>t.id===e.id)&&this.anyTargetIsCollectionViewStore.state)||!e.isCollectionView()}}t.a=Object(P.injectIntl)(z)},wPEN:function(e,t,n){"use strict";n("3bBZ");var o=n("i8i4"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("okm4"),l=n("wldR"),c=n("vJXr"),d=n("w5u6"),u=n("8N42"),p=n("KSnN"),h=n("AmMh"),m=n("lBar"),f=n("Fe7V"),g=n("922z"),b=n("yjqD"),v=n("3+J3"),y=n("ocLp"),S=n("htWf"),w=n("qRmb"),k=n("bkwR"),C=n("yUnD"),M=n("HRSx"),E=n("bmSz"),_=n("NoAG"),T=n("6SEd"),x=n("kaWB"),I=n("VpIZ"),P=n("cBa6"),O=n("5/h/"),B=n("W7EN"),L=n("JU1L");var R=n("p0Ff"),D=n("dACB");async function A(e,t){return w.a()||w.b()?k.loadCachedPageChunk(e,t):k.loadPageChunk(e,t)}async function j(e,t){const n=new g.a,o=await async function(e,t){let n;n=e.cursor?i.a.cloneDeep(e.cursor.stack):[];const o=e.pageId,r=e.limit,a=new g.a;0===n.length&&n.push([{table:M.a,id:o,index:0}]);let s=0;const l=g.f.fromPlainFunctionUnsafe(async e=>{const n=a.get(e);if(n)return n;const o=await t(e);return a.set(e,o),o&&await d(e.table,o),o}),c=new Set,d=async function(e,t){const n=[],o=t;if(o.parent_table&&o.parent_id&&n.push({table:o.parent_table,id:o.parent_id}),e===M.a){const e=t;if(e.view_ids)for(const t of e.view_ids)n.push({table:_.a,id:t});if(e.collection_id&&n.push({table:T.a,id:e.collection_id}),e.discussions)for(const t of e.discussions)n.push({table:E.a,id:t});if(I.G(e)&&e.properties&&e.properties.title){const t=P.hb(e.properties.title),o=i.a.union(...t.map(P.db));for(const e of o)if(P.zb(e)&&n.push({table:M.a,id:P.V(e)}),P.Eb(e)&&n.push({table:O.a,id:P.jb(e)}),P.wb(e)){const t=P.R(e),o=Object(B.c)(t);o&&n.push({table:M.a,id:o})}}"alias"===e.type&&e.format&&e.format.alias_pointer&&n.push(e.format.alias_pointer)}else if(e===E.a){const e=t.comments||[];for(const t of e)n.push({table:x.a,id:t})}await Promise.all(n.filter(e=>{const t=Object(L.b)(e);return!c.has(t)&&(c.add(t),!0)}).map(l))},u=async function(){const t=[],a=n[n.length-1];if(s>=r||!a)return!1;const i=await Promise.all(a.map(async e=>{const{table:t,id:n}=e,o=g.b.fromPointerLike({table:t,id:n});return await l(o)})),c=[];for(let r=0;r<a.length;r++){const s=a[r],l=i[r],u=l&&l.content;if(!e.verticalColumns&&l&&u&&"column_list"===l.type&&0===s.index){for(var d=0;d<u.length;d++){const e=u[d];c.push({table:M.a,id:e}),t.push({table:M.a,id:e,index:0})}s.index=u.length}else if(l&&"transclusion_reference"===l.type&&l.format&&l.format.transclusion_reference_pointer&&0===s.index)c.push(l.format.transclusion_reference_pointer),t.push({...l.format.transclusion_reference_pointer,index:0}),s.index=1;else if(l&&u&&(l.id===o&&1===n.length||"page"!==l.type&&"toggle"!==l.type)&&u[s.index]){const e=u[s.index];c.push({table:M.a,id:e}),t.push({table:M.a,id:e,index:0}),s.index++}}await Promise.all(c.map(l));const u=t.filter(e=>{for(let t=0;t<n.length;t++){const o=n[t];for(let t=0;t<o.length;t++){const n=o[t];if(n.table===e.table&&n.id===e.id)return!1}}return!0});return u.length>0?(n.push(u),s++):n.pop(),!0};for(;await u(););return{recordMap:a,cursorValue:{stack:n}}}(t,g.f.fromPlainFunctionUnsafe(async t=>{const o=await C.b({environment:e,pointer:t});if(o)return n.set(t,o),o.value;throw new Error("Record not found: ".concat(t.table,",").concat(t.id))}));return{recordMap:n.toJson(),cursor:o.cursorValue}}var F=n("+NSf");class V extends l.a{constructor(){super(...arguments),this.storeTypes={store:s.a},this.handleConnectionStateChange=()=>{const{store:e}=this.stores,t=c.a.state.online;t&&!this.lastOnlineState&&e.state.error&&(e.reset(),this.requestNextChunk()),this.lastOnlineState=t},this.onReady=i.a.once(this.props.onReady?this.props.onReady:()=>{}),this.onDone=i.a.once(this.props.onDone?this.props.onDone:()=>{}),this.requestNextChunk=async()=>{const{loading:e,endOfResultsReached:t,initialRequestCompleted:n,currentCursor:o,currentChunkNumber:r,ready:a}=this.stores.store.state,{incrementChunkSize:i,initialChunkSize:s}=this.props;if(e||t)return;n||(this.loadStartDateTime=Date.now(),this.loadStartPerformanceTime=performance.now()),this.stores.store.setState({...this.stores.store.state,loading:!0});const l=n?i:s;n||await async function(e,t){const n=e.currentUser.id;if(!n||!e.PersistedRecordCache)return Promise.resolve(void 0);(await e.PersistedRecordCache.getPageBlocksByParent({page:t,userId:n})).forEach(e=>{R.default.setRecord({pointer:e.pointer,userId:e.userId},e.value),R.default.emitRecord(e.pointer,[]),D.b({pointer:e.pointer,userId:e.userId})})}(this.environment,{id:this.props.pageStore.id,table:this.props.pageStore.table});try{const e=await this.requestPageChunk(l,o,r||0);n&&await d.default.afterNextFlush();const t=this.isScrolledToPosition()&&this.scrollToBlocksAreRendered(),i=a||!e||t;!a&&i&&d.default.afterNextFlush(()=>{d.default.afterNextFlush(()=>{this.onReady()})});const s=!e;this.stores.store.setState({...this.stores.store.state,ready:i,initialRequestCompleted:!0,loading:!1,currentCursor:e?e.cursor:void 0,currentChunkNumber:e?e.chunkNumber:void 0,endOfResultsReached:s,error:void 0}),s&&(this.onDone(),this.loadStartDateTime&&this.loadStartPerformanceTime&&F.default.emit(this.environment,{type:"full_page_load",startDateTime:this.loadStartDateTime,startPerformanceTime:this.loadStartPerformanceTime}))}catch(c){this.stores.store.setState({...this.stores.store.state,ready:!0,initialRequestCompleted:!0,loading:!1,error:c})}},this.requestPageChunk=async(e,t,n)=>{const{device:o}=this.environment,{pageStore:r,pageVisitStore:a}=this.props,i={pageId:r.id,limit:e,cursor:t||{stack:[]},chunkNumber:n,verticalColumns:o.isMobile},s=t?Promise.resolve(void 0):this.loadScrollToBlocks();let l;try{const e=await y.a.measure("localLoadPageChunk","".concat(i.pageId," ").concat(i.cursor.stack.length),()=>j(this.environment,i));f.g({environment:this.environment,inMemoryRecordCache:r.inMemoryRecordCache,recordMap:new g.a(e.recordMap)}),l=e.cursor}catch(d){}if(!l)if(0===n){const e=A(this.environment,i);this.environment.LocalBacklinkStore.initializeBacklinks({blockId:r.id,currentUserId:this.environment.currentUser.id,environment:this.environment});const t=this.environment.LocalBacklinkStore.awaitLoaded(r.id);v.b(this.environment,{block:r,pageVisitStore:a,incremental:!1});const n=S.e("backlinks","section_show"),o=e.then(()=>Object(b.f)(t,1e3)),[s]=n?await Promise.all([e,o]):await Promise.all([e]);"success"===s.type&&(l=s.data.cursor)}else{const e=await A(this.environment,i);"success"===e.type&&(l=e.data.cursor)}if(!l)throw new Error("Result cursor not created.");await Object(b.f)(s,5e3),u.b({rootStore:r,cursors:[l]});const c=l.stack.length>0?l:void 0;if(c)return{cursor:c,chunkNumber:n+1}}}shouldComponentUpdate(){return!0}didMount(){super.didMount(),this.lastOnlineState=c.a.state.online,this.node=r.a.findDOMNode(this),this.scrollableAncestor=Object(m.f)(this.node),c.a.addListener(this.handleConnectionStateChange)}didMountOrUpdate(){super.didMountOrUpdate(),this.requestNextChunk()}willUnmount(){super.willUnmount(),this.lastTimeout&&window.clearTimeout(this.lastTimeout),c.a.removeListener(this.handleConnectionStateChange)}renderComponent(){const{ready:e,error:t,initialRequestCompleted:n,endOfResultsReached:o}=this.stores.store.state;return this.props.render({error:t,ready:e,initialRequestCompleted:n,endOfResultsReached:o})}async loadScrollToBlocks(){this.props.scrollToBlockIds&&await p.b(this.props.pageStore,this.props.scrollToBlockIds)}scrollToBlocksAreRendered(){const{scrollToBlockIds:e}=this.props;return!e||h.a.findSelectablesFromIds(e).length===e.length}isScrolledToPosition(){const{scrollToPosition:e}=this.props;return!this.scrollableAncestor||!i.a.isNumber(e)||e<=this.scrollableAncestor.scrollHeight-this.scrollableAncestor.clientHeight}}V.scrollThrottle=200;t.a=V},wQYB:function(e,t,n){"use strict";var o=n("wldR"),r=n("QcDD");class a extends o.a{willMount(){this.shouldDisableBacklinks()||this.environment.LocalBacklinkStore.initializeBacklinks({blockId:this.props.store.id,currentUserId:this.environment.currentUser.id,environment:this.environment})}willUnmount(){this.shouldDisableBacklinks()||this.environment.LocalBacklinkStore.destroyBacklinks(this.props.store.id)}shouldDisableBacklinks(){const{currentBlockStore:e}=r.default.state;return Boolean(e&&"15776535-3f2c-4705-bd45-474e5ba8b46c"===e.id)}}t.a=a},"wS9/":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var o=n("LvDl"),r=n.n(o),a=n("LEzx");const i=44;class s extends a.a{constructor(e){if(super(),this.updateWindowSize=()=>{this.setState(this.getCurrentState())},this.updateWindowSizeDebounced=r.a.debounce(this.updateWindowSize,300),this.shouldUseCSSEnv=r.a.once(()=>{const{device:e}=this.environment,t=CSS.supports("padding","env(safe-area-inset-top)"),n=e.isIOS&&e.isMobileBrowser&&!e.isSafari;return t&&!n}),this.environment=e,this.environment.device.isMobileBrowser){const e=document.createElement("div");e.style.position="fixed",e.style.height="100vh",e.style.top="0px",e.style.pointerEvents="none",document.body.appendChild(e),this.fullWindowEl=e}const t=document.createElement("div");document.body.appendChild(t),this.measureEl=t,window.addEventListener("resize",this.updateWindowSizeDebounced),window.addEventListener("orientationchange",this.updateWindowSize),this.updateWindowSize()}getSafePaddingTopCSS(e){return"calc(".concat(e,"px + ").concat(this.state.paddingTopCSS,")")}getSafePaddingLeftCSS(e){return"calc(".concat(e,"px + ").concat(this.state.paddingLeftCSS,")")}getSafePaddingRightCSS(e){return"calc(".concat(e,"px + ").concat(this.state.paddingRightCSS,")")}getSafePaddingBottomCSS(e){return"calc(".concat(e,"px + ").concat(this.state.paddingBottomCSS,")")}getSafePaddingTopPx(e){return e+this.state.paddingTop}getSafePaddingLeftPx(e){return e+this.state.paddingLeft}getSafePaddingRightPx(e){return e+this.state.paddingRight}getSafePaddingBottomPx(e){return e+this.state.paddingBottom}isLandscape(){return this.state.width===this.state.largestDimension}isPortrait(){return!this.isLandscape()}getCurrentState(){const{device:e}=this.environment,t=window.innerWidth,n=window.innerHeight,o=this.state&&this.state.largestDimension?this.state.largestDimension:0,r=Math.max(window.innerWidth,window.innerHeight,o);let a,i,s,l,c,d,u,p;if(this.shouldUseCSSEnv()&&this.measureEl?(i="env(safe-area-inset-top)",this.measureEl.style.width=i,a=this.measureEl.offsetWidth):(i="0px",a=0),this.shouldUseCSSEnv()&&this.measureEl?(l="env(safe-area-inset-left)",this.measureEl.style.width=l,s=this.measureEl.offsetWidth):(l="0px",s=0),this.shouldUseCSSEnv()&&this.measureEl?(d="env(safe-area-inset-right)",this.measureEl.style.width=d,c=this.measureEl.offsetWidth):(d="0px",c=0),e.isMobileBrowser&&this.fullWindowEl?(u=this.fullWindowEl.getBoundingClientRect().height-window.innerHeight,p="".concat(u,"px")):this.shouldUseCSSEnv()&&this.measureEl?(p="env(safe-area-inset-bottom)",this.measureEl.style.width=p,u=this.measureEl.offsetWidth):(p="0px",u=0),e.isMobileBrowser){document.body.style.height="".concat(window.innerHeight,"px");const e=document.querySelector("html");e&&(e.style.height="".concat(window.innerHeight,"px"));const t=document.querySelector("body");t&&(t.style.height="".concat(window.innerHeight,"px"));const n=document.querySelector("#notion-app");n&&n instanceof HTMLElement&&(n.style.height="".concat(window.innerHeight,"px"))}return{width:t,height:n,paddingLeft:s,paddingTop:a,paddingBottom:u,paddingRight:c,paddingTopCSS:i,paddingLeftCSS:l,paddingRightCSS:d,paddingBottomCSS:p,largestDimension:r}}}},wXH4:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("LvDl"),i=n.n(a),s=n("i8i4"),l=n.n(s),c=n("DNfA");var d=()=>{const e=document.documentElement;return{left:0,top:0,right:e.clientWidth,bottom:e.clientHeight,width:e.clientWidth,height:e.clientHeight}},u=n("RBMm"),p=n("x0lk");const{Top:h,Bottom:m,Left:f,Right:g}=c.b,{Start:b,Center:v}=c.a,y=function(e,t,n,o){if(n===h||n===m){let r,a;return r=o===b?t.left:o===v?t.left+t.width/2-e.width/2:t.right-e.width,a=n===h?t.top-e.height:t.bottom,{top:a,bottom:a+e.height,left:r,right:r+e.width,width:e.width,height:e.height}}{let r,a;return r=o===b?t.top:o===v?t.top+t.height/2-e.height/2:t.bottom-e.height,a=n===f?t.left-e.width:t.right,{top:r,bottom:r+e.height,left:a,right:a+e.width,width:e.width,height:e.height}}};var S,w=n("NOLh"),k=n("wldR"),C=n("VyA+"),M=n("fHgN"),E=n("F9et"),_=n("LoBg"),T=n("nFzZ"),x=n("zmp8"),I=n("uLZi"),P=n("wS9/");n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return O})),function(e){e[e.Popup=0]="Popup",e[e.SlideUp=1]="SlideUp"}(S||(S={}));class O extends k.a{constructor(){super(...arguments),this.popupEl=null,this.isAnimating=!1,this.storeTypes={store:u.c},this.renderSlideUpContent=()=>{const{open:e}=this.props,t=this.getExtraSlideUpHeightPercent();return r.a.createElement(E.a,{capture:Boolean(this.props.keepFocus),render:n=>r.a.createElement(C.a,{capture:!this.props.preventCaptureEsc,onEsc:this.handleEsc,onBackButton:this.handleEsc},r.a.createElement("div",Object.assign({},n,{style:this.getSlideUpWrapStyle()}),r.a.createElement(w.a,{blockRenderQueueOnEnter:!this.props.preventBlockRenderQueueOnEnter,isVisible:e,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},onAnimationStart:this.handleAnimatedAnimationStart,onAnimationEnd:this.handleAnimatedAnimationEnd,useCompositeLayer:!0,springConfig:O.springConfig,render:()=>r.a.createElement("div",{style:this.getOverlayBgStyle(),onMouseDown:this.handleBgMouseDown,onClick:this.handleBgClick})}),r.a.createElement(w.a,{blockRenderQueueOnEnter:!this.props.preventBlockRenderQueueOnEnter,isVisible:e,animationStyle:{translateYPercent:0},enterAnimationStyle:{translateYPercent:100+t},exitAnimationStyle:{translateYPercent:100+t},springConfig:O.springConfig,useCompositeLayer:!0,render:()=>r.a.createElement("div",{style:this.getSlideUpStyle()},this.props.render())})))})},this.renderPopupContentWrapped=()=>r.a.createElement(E.a,{capture:Boolean(this.props.keepFocus),render:e=>r.a.createElement(C.a,{capture:!this.props.preventCaptureEsc,onEsc:this.handleEsc,onBackButton:this.handleEsc},this.renderPopupContent(e))}),this.handlePopupMount=e=>{this.popupEl=e,e?(this.observer||this.props.disableMutationObserver||(this.observer=new MutationObserver(this.handleObserverChangeThrottled),this.observer.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this.keepInBound()):this.observer&&(this.observer.disconnect(),this.observer=void 0,this.popupRect=void 0)},this.handleObserverChange=()=>{this.isAnimating||this.keepInBound()},this.handleObserverChangeThrottled=i.a.throttle(this.handleObserverChange,10),this.handleAnimatedAnimationStart=()=>{this.isAnimating=!0},this.handleAnimatedAnimationEnd=()=>{this.isAnimating=!1,this.props.open||this.setClosedStoreState(),this.props.onAnimationEnd&&this.props.onAnimationEnd(),this.keepInBound()},this.handleEsc=e=>{this.props.onDismiss&&this.props.onDismiss(e)},this.handleResize=()=>{this.props.open&&(this.measureOriginRect(),this.keepInBound())},this.handleBgMouseDown=e=>{e.preventDefault()},this.handleBgClick=e=>{this.props.onDismiss&&this.props.onDismiss(e)},this.handleResizeDebounced=i.a.debounce(this.handleResize,10)}UNSAFE_componentWillReceiveProps(e){super.UNSAFE_componentWillReceiveProps(e);const t=!this.props.open&&e.open,n=this.props.open&&!e.open;t&&!this.isSlideUp(e)&&this.measureOriginRect(),e.preventPointerEvents||(t&&(I.a.state.openPopups.add(this),I.a.emit()),n&&(I.a.state.openPopups.delete(this),I.a.emit()))}willUpdate(e){const t=this.stores.store.state;e.open&&!t.open&&this.stores.store.setState({...t,open:!0})}didMount(){const{device:e}=this.environment;e.isMobile||window.addEventListener("resize",this.handleResizeDebounced),this.props.open&&(this.isSlideUp(this.props)||this.measureOriginRect(),this.stores.store.setState({...this.stores.store.state,open:!0}))}didUpdate(e){super.didUpdate(e),!this.props.open&&this.stores.store.state.open&&!this.isSlideUp(this.props)&&this.isNoAnimation()&&this.setClosedStoreState()}willUnmount(){const{device:e}=this.environment;e.isMobile||window.removeEventListener("resize",this.handleResizeDebounced),this.props.open&&!this.props.preventPointerEvents&&(I.a.state.openPopups.delete(this),I.a.emit())}renderComponent(){const{device:e}=this.environment,t=this.stores.store.state.open;return r.a.createElement(_.a,{capture:Boolean(this.props.open&&this.props.disableContentScroll)},r.a.createElement(M.a,{open:t,origin:this.renderOrigin(),render:this.isSlideUp(this.props)?this.renderSlideUpContent:this.renderPopupContentWrapped,useCompositeLayer:e.isMobile&&!this.props.disableCompositeLayer,overlayContainerStore:this.props.overlayContainerStore}))}renderPopupContent(e){return r.a.createElement("div",Object.assign({},e),this.props.open&&!this.props.disableMouseCapture&&r.a.createElement("div",{style:this.getOverlayBgStyle(),onMouseDown:this.handleBgMouseDown,onClick:this.handleBgClick,onContextMenu:this.props.onDismiss}),r.a.createElement(c.c,{style:this.getAlignPositionStyle(),origin:r.a.createElement("div",{style:this.getAlignOriginStyle()}),placement:this.getCurrentPlacementToOrigin(),alignment:this.getAlignmentToOrigin(),childrenWrapStyle:{pointerEvents:this.props.open&&!this.props.preventPointerEvents?"auto":"none"}},r.a.createElement(w.a,{blockRenderQueueOnEnter:!this.props.preventBlockRenderQueueOnEnter,isVisible:this.props.open,animationStyle:this.getScaledPopupAnimationStyle(),enterAnimationStyle:this.getScaledPopupHiddenAnimationStyle(),exitAnimationStyle:this.getScaledPopupHiddenAnimationStyle(),springConfig:this.getScaledPopupAnimationSpringConfig(),onAnimationStart:this.handleAnimatedAnimationStart,onAnimationEnd:this.handleAnimatedAnimationEnd,render:()=>r.a.createElement("div",{style:this.getScaledPopupStyle()},r.a.createElement("div",{style:this.getBoxWrapStyle(),ref:this.handlePopupMount},this.props.render()))})))}renderOrigin(){return this.props.originRect&&this.stores.store.setState({...this.stores.store.state,originRect:this.props.originRect}),this.props.origin}setClosedStoreState(){this.stores.store.setState({...this.stores.store.state,open:!1,placementFlipped:!1})}getCurrentPlacementToOrigin(){const e=this.getDesiredPlacementToOrigin();return this.stores.store.state.placementFlipped?Object(u.d)(e):e}getDesiredPlacementToOrigin(){return T.h(this.props.placementToOrigin)?c.b.Bottom:this.props.placementToOrigin}getAlignmentToOrigin(){return T.h(this.props.alignmentToOrigin)?c.a.Center:this.props.alignmentToOrigin}measureOriginRect(){if(this.props.originRect)this.stores.store.setState({...this.stores.store.state,originRect:this.props.originRect});else if(this.componentIsMounted){const e=l.a.findDOMNode(this);if(e&&e instanceof Element){const t=e.getBoundingClientRect();this.stores.store.setState({...this.stores.store.state,originRect:t})}}}keepInBound(){if(this.popupEl){const{originRect:e}=this.stores.store.state,t=this.popupEl.getBoundingClientRect();this.props.open&&e&&t.height>0&&function(e){const{store:t,placementToOrigin:n,alignmentToOrigin:o,popupRect:r,originRect:a,viewportPadding:i,placementFlipped:s}=e,l=d(),c=p.a(l,-i||0),b=y(r,a,n,o),v=Math.max(c.left-b.left,0)+Math.min(c.right-b.right,0),S=Math.max(c.top-b.top,0)+Math.min(c.bottom-b.bottom,0),w=n===f&&Math.abs(v)>0&&p.h(c,y(r,a,Object(u.d)(n),o)),k=n===g&&Math.abs(v)>0&&p.h(c,y(r,a,Object(u.d)(n),o)),C=n===h&&Math.abs(S)>0&&p.h(c,y(r,a,Object(u.d)(n),o)),M=n===m&&Math.abs(S)>0&&p.h(c,y(r,a,Object(u.d)(n),o)),E={placementFlipped:!1,offsetX:0,offsetY:0};E.placementFlipped=s||w||k||C||M,(!E.placementFlipped||n!==f&&n!==g)&&(E.offsetX=Math.round(v)),(!E.placementFlipped||n!==h&&n!==m)&&(E.offsetY=Math.round(S)),t.setState({...t.state,...E})}({store:this.stores.store,placementToOrigin:this.getDesiredPlacementToOrigin(),alignmentToOrigin:this.getAlignmentToOrigin(),originRect:e,popupRect:t,placementFlipped:this.stores.store.state.placementFlipped,viewportPadding:this.props.viewportPadding||12}),this.popupRect=t}}isSlideUp(e){return e.popupType===S.SlideUp}getExtraSlideUpHeightPercent(){const{WindowSizeStore:e,device:t}=this.environment,{isTablet:n}=t,o=e.isPortrait();return n?o?100-O.portraitTabletModalHeightPercent:3*P.b/e.state.height*100:0}getOverlayBgStyle(){const{ThemeStore:e}=this.environment,t=e.state.mode;let n;return this.isSlideUp(this.props)?(n={position:"absolute",top:0,left:0,bottom:0,right:0},this.props.disableDarkOverlayBackground||(n.background=x.q[t].black.alpha(.6).css())):n={position:"fixed",top:0,left:0,width:"100vw",height:"100vh"},n}getAlignPositionStyle(){const{originRect:e}=this.stores.store.state;return e&&p.d(e)?{position:"fixed",left:this.props.enableRounding?Math.round(e.left):e.left,top:this.props.enableRounding?Math.round(e.top):e.top,pointerEvents:"none"}:{}}getAlignOriginStyle(){const e={},{originRect:t}=this.stores.store.state;return t&&(e.width=Math.round(t.width),e.height=Math.round(t.height)),e}getScaledPopupStyle(){const{offsetX:e,offsetY:t}=this.stores.store.state,n=this.getCurrentPlacementToOrigin(),o=this.getAlignmentToOrigin(),r=O.alignmentToTransform[o],a=O.alignmentToTransform[o],i={display:"flex",alignItems:"center",position:"relative"},s=this.props.originGap||0;return n===c.b.Top?(i.flexDirection="column",i.transformOrigin="".concat(r," bottom"),i.left=e,i.bottom=s-t):n===c.b.Bottom?(i.flexDirection="column-reverse",i.transformOrigin="".concat(r," top"),i.left=e,i.top=s+t):n===c.b.Left?(i.flexDirection="row",i.transformOrigin="right ".concat(a),i.right=s-e,i.top=t):n===c.b.Right&&(i.flexDirection="row-reverse",i.transformOrigin="left ".concat(a),i.left=s+e,i.top=t),o===c.a.End&&n===c.b.Bottom&&(i.left=e-s,i.top=t),i}isNoAnimation(){return this.props.preventScaleTransition&&this.props.preventOpacityTransition}getScaledPopupAnimationStyle(){const e={};return this.props.preventScaleTransition||(e.scaleX=this.props.open?1:O.popupHiddenScale,e.scaleY=this.props.open?1:O.popupHiddenScale),this.props.preventOpacityTransition||(e.opacity=this.props.open?1:0),e}getScaledPopupHiddenAnimationStyle(){const e={};return this.props.preventOpacityTransition||(e.opacity=0),this.props.preventScaleTransition||this.isSlideUp(this.props)||(e.scaleX=O.popupHiddenScale,e.scaleY=O.popupHiddenScale),e}getScaledPopupAnimationSpringConfig(){return{opacity:{stiffness:O.popupOpacityStiffness,damping:O.popupOpacityDamping,precision:1e-4},scaleX:this.getScaleSpring(!0),scaleY:this.getScaleSpring(!1)}}getScaleSpring(e=!0){const{Top:t,Bottom:n}=c.b,o=this.getCurrentPlacementToOrigin(),r=i.a.includes([t,n],o);return r&&e||!r&&!e?{stiffness:O.popupStiffness,damping:O.popupDamping}:{stiffness:O.popupSpreadStiffness,damping:O.popupSpreadDamping}}getBoxWrapStyle(){const{device:e}=this.environment,t={borderRadius:3,background:this.theme.popoverBackground,position:"relative",maxWidth:"calc(100vw - 24px)",boxShadow:this.props.useLightBoxShadow?this.theme.lightBoxShadow:this.theme.mediumBoxShadow,overflow:"hidden"},{originRect:n}=this.stores.store.state;return this.props.sameWidthAsOrigin&&n&&(t.width=Math.round(n.width)),this.props.isFullWidthOnMobile&&e.isMobile&&(t.minWidth=t.maxWidth),{...t,...this.props.style}}getSlideUpWrapStyle(){return{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",pointerEvents:void 0!==open?"auto":"none",...this.props.slideUpWrapStyle}}getSlideUpStyle(){const{WindowSizeStore:e,device:t}=this.environment,{isTablet:n}=t,o=e.isPortrait(),{forceFullScreenSlideUp:r,isWideTabletWidth:a}=this.props;return{position:"absolute",bottom:0,left:0,right:0,background:this.theme.popoverBackground,boxShadow:this.theme.mediumBoxShadow,...this.props.style,width:"100%",...n&&!r&&{maxWidth:414,overflow:"hidden",marginLeft:"auto",marginRight:"auto",borderRadius:3,WebkitMaskImage:"-webkit-radial-gradient(white, black)",...!o&&{top:e.getSafePaddingTopCSS(P.b),bottom:e.getSafePaddingBottomCSS(2*P.b),...a&&{maxWidth:"60vw"}},...o&&{top:0,maxHeight:"".concat(O.portraitTabletModalHeightPercent,"vh"),marginTop:"auto",marginBottom:"auto",...a&&{maxWidth:"calc(100vw - 192px)"}}},...r&&{height:"100%"}}}}O.Placement=c.b,O.Alignment=c.a,O.PopupType=S,O.popupHiddenScale=.96,O.popupOpacityStiffness=60,O.popupOpacityDamping=10,O.popupStiffness=58,O.popupDamping=4.3,O.popupSpreadStiffness=70,O.popupSpreadDamping=4,O.portraitTabletModalHeightPercent=60,O.springConfig={translateYPercent:{stiffness:60,damping:12,precision:.1}},O.alignmentToTransform={[c.a.Start]:"0%",[c.a.Center]:"50%",[c.a.End]:"100%"};t.c=O},"wZk+":function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("i8i4"),i=n.n(a),s=n("J9+s"),l=n("mF3+"),c=n("y6Dp"),d=n("i3uR"),u=n("LeVO"),p=n("wldR"),h=n("uSCg"),m=n("VOS9"),f=n("qBCY"),g=n.n(f),b=n("dccM");class v extends p.a{constructor(){super(...arguments),this.wordCount=0}willMount(){this.wordCount=this.getWordCount()}renderComponent(){return r.a.createElement(o.Fragment,null,this.wordCount)}getWordCount(){const e=b.a.findComponent(e=>e.props.store===this.props.store);if(e){const t=e.getContentWrapEl();if(t)return g()(t.innerText)}return 0}}var y=v,S=n("BJyN"),w=n("gbGO"),k=n("ZQ9l"),C=n("2Y+N"),M=n("0hFN"),E=n("QcDD"),_=n("MeYt"),T=n("6rsX"),x=n("7M94"),I=n("KTXS"),P=n("nPEg"),O=n("0CAA"),B=n("Zo/l"),L=n("aEEb"),R=n("mKX5"),D=n("hbKx"),A=n("FkPB");function j(e){const t=Object(B.d)(),[n,o,a]=Object(A.b)(e.store),i=function(e,t){if(!e){return D.d(t).some(e=>e.isMarkedOffline())?r.a.createElement(s.FormattedMessage,{id:"blockSyncInfo.parentOffline.label",defaultMessage:"Parent page is offlined"}):void 0}switch(e.type){case"available-offline":return r.a.createElement(s.FormattedMessage,{id:"blockSyncInfo.synced.label",defaultMessage:"Last synced {time}",values:{time:Object(R.a)(e.timestamp).calendar()}});case"syncing":return r.a.createElement(s.FormattedMessage,{id:"blockSyncInfo.syncing.label",defaultMessage:"Syncing..."});case"error":return r.a.createElement(s.FormattedMessage,{id:"blockSyncInfo.error.label",defaultMessage:"Sync error, please refresh manually"});default:return null}}(n.syncState,a);return i?r.a.createElement("div",{style:{paddingBottom:6}},r.a.createElement(C.a,{disableDesktopPadding:!0},r.a.createElement(k.a,{shouldWrapTitle:!0,title:r.a.createElement(L.a,{isSmall:!0,isSecondaryColor:!0,isMobile:t,style:{marginBottom:4}},i)}))):null}var F=n("c6/J");class V extends p.a{constructor(){super(...arguments),this.originEl=null,this.renderOrigin=e=>{const{device:t}=this.environment;return r.a.createElement(u.a,{renderTooltip:()=>this.environment.currentUser.isLoggedIn()?r.a.createElement(s.FormattedMessage,{defaultMessage:"Style, export, and more…",id:"topbarMoreButton.tooltip"}):r.a.createElement(s.FormattedMessage,{defaultMessage:"More…",id:"topbarMoreButton.loggedOut.tooltip"}),placement:u.a.Placement.Bottom,delayThreshold:400,render:n=>r.a.createElement(_.a,Object.assign({ref:this.handleButtonMount,style:this.getButtonStyle(),mobileFeedback:t.isMobile,className:x.Pb},Object(h.a)(e,n)),t.isMobile?l.a.mobileTopbarMore({width:26}):l.a.dots({width:18,height:18}))})},this.renderPopup=()=>{const{device:e}=this.environment,{store:t}=this.props,n={environment:this.environment,blocks:[t],originRect:this.onClickOriginRect},o=!t.isCollectionView()&&t.canEdit()&&t.getContentIds().length>0&&r.a.createElement(C.a,{topBorder:!0},r.a.createElement(k.a,{caption:r.a.createElement("span",{style:{color:this.theme.lightTextColor}},r.a.createElement(s.FormattedMessage,{id:"pageMoreButton.wordCount.caption",defaultMessage:"Word count: {count}",values:{count:r.a.createElement(y,{store:t})}}))}));let a;return a=e.isMobile?{menuType:w.b.MenuType.Modal,title:r.a.createElement(s.FormattedMessage,{defaultMessage:"Actions",id:"topbarMoreButton.mobileActionsMenu.title"}),right:r.a.createElement(P.DoneMenuText,null),onClickRight:this.handleDismiss}:{menuType:w.b.MenuType.Popup,width:240,maxHeight:"80vh"},r.a.createElement(w.b,Object.assign({},a),r.a.createElement(m.a,{sections:S.q,onAccept:this.handleAccept,context:n}),o,t.canEdit()&&this.renderBlockAuthorInfo(),t.canEdit()&&this.renderBlockSyncInfo(t),t.canEdit()&&t.isCollectionView()&&this.renderCollectionHelpButton())},this.handleButtonMount=e=>{e&&(this.originEl=i.a.findDOMNode(e))},this.handleClick=()=>{T.e(this.environment),this.originEl&&(this.onClickOriginRect=this.originEl.getBoundingClientRect()),c.Xc(this.environment)},this.handleDismiss=()=>{this.props.buttonPopupStore.setState({...this.props.buttonPopupStore.state,open:!1})},this.handleAccept=e=>{const{currentBlockStore:t}=E.default.state;if(t){const n=t.getType();n&&c.q(this.environment,{analyticsName:e.analyticsName,from:"topbar_more_menu",block_type:n})}e.closeParentMenu&&this.handleDismiss()}}renderComponent(){const{device:e}=this.environment;return r.a.createElement(d.a,{popupType:e.isMobile?d.a.PopupType.SlideUp:d.a.PopupType.Popup,buttonPopupStore:this.props.buttonPopupStore,renderOrigin:this.renderOrigin,onClick:this.handleClick,render:this.renderPopup,originGap:8})}renderBlockSyncInfo(e){if(F.a(this.environment))return r.a.createElement(j,{store:e})}renderBlockAuthorInfo(){const{store:e}=this.props;return r.a.createElement(M.a,{store:e,isPageMoreButton:!e.isCollectionView()})}renderCollectionHelpButton(){return r.a.createElement(C.a,{topBorder:!0,disableDesktopPadding:!0},r.a.createElement(I.a,{title:r.a.createElement(s.FormattedMessage,{defaultMessage:"Learn about databases",id:"topbar.moreButton.collectionHelpButton"}),href:Object(O.a)("guides.database"),analyticsFrom:"topbar_more_button"}))}getButtonStyle(){const{device:e}=this.environment;return e.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",paddingLeft:6,paddingRight:6,marginRight:2}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:3}}}t.a=V},wiBh:function(e,t,n){"use strict";n.d(t,"m",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"o",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"d",(function(){return S})),n.d(t,"l",(function(){return w})),n.d(t,"n",(function(){return k})),n.d(t,"k",(function(){return C})),n.d(t,"h",(function(){return E})),n.d(t,"g",(function(){return _})),n.d(t,"a",(function(){return x})),n.d(t,"f",(function(){return I})),n.d(t,"i",(function(){return P}));n("3bBZ"),n("Junv");var o=n("LvDl"),r=n.n(o),a=n("cBa6"),i=n("hl64"),s=n("x0lk"),l=n("sjR4"),c=n("DNgp"),d=n("AmMh"),u=n("43ch"),p=n("Ucj+");function h(e){return e.startIndex===e.endIndex}function m(e){const{startIndex:t}=e;let n;return n=h(e)&&t>0?[t-1]:function(e){return r.a.range(e.startIndex,e.endIndex)}(e),n}function f(e,t){const n=a.hb(t),o=n.map(e=>r.a.toArray(a.fb(e)));return e.map(e=>{let t=0;const r=o.findIndex(n=>(t+=n.length,t>e)),i=n[r];return i?a.db(i):[]})}function g(e){const t=c.default.state;if("editing"!==t.mode)return;const{store:n,selection:o,forceExtendAnnotations:i}=t;if(!o||!n)return;if(h(o)){const t=i[e];if(t)return t.extend?t.annotation:void 0}const s=n.getValue();if(!s)return;const l=f(m(o),s);if(0===l.length)return;const d=l.map(t=>t.find(t=>a.F(t)===e));return r.a.every(d,e=>Boolean(e))?d[0]:void 0}function b(e){const t=c.default.state;if("editing"!==t.mode)return!1;const{store:n,selection:o}=t;if(o&&n){if(h(o))return!1;{const t=n.getValue();if(!t)return!1;const i=a.hb(t);let s=0;for(const n of i){const t=r.a.toArray(a.fb(n));if(s>=o.startIndex&&s<o.endIndex||s<o.startIndex&&s+t.length>o.startIndex){if(a.db(n).some(t=>a.F(t)===e))return!0}s+=t.length}return!1}}return!1}function v(){const e=c.default.state;if("editing"!==e.mode)return[];const{store:t,selection:n,forceExtendAnnotations:o}=e;if(!n||!t)return[];let i=[];const s=t.getValue()||[],l=f(m(n),s)[0]||[];for(const r of l){const e=a.F(r);if(!a.Fb[e])if(a.Hb[e]||a.r[e]){y(s,n.startIndex,e)&&i.push(r)}else i.push(r)}return r.a.forOwn(o,(e,t)=>{e&&(e.extend?i.push(e.annotation):i=i.filter(e=>a.F(e)!==t))}),i}function y(e,t,n){const o=a.gb(e,t),r=a.db(o);return Boolean(r.find(e=>a.F(e)===n))}function S(e){const t=u.a.findEditableWithStore(e);if(t)return t.props.getEndSelection?t.props.getEndSelection():void 0}function w(e){return 0===e.startIndex&&0===e.endIndex}function k(e,t){return!e&&!t||e&&t&&(e.startIndex===t.startIndex||!e.startIndex&&!t.startIndex)&&(e.endIndex===t.endIndex||!e.endIndex&&!t.endIndex)}function C(e,t){return k(t,S(e))}function M(e){const t=u.a.getSortedComponents(),{defaultContainer:n}=l.default.state,o=t.filter(e=>{if(!e||e.props.disabled)return!1;const t=e.getContextClosestSelectable();if(!t)return!1;const o=t.getContextSelectableContainer();return!(!o||o!==n)});return r.a.map(o,e=>e.props.store)}function E(e){const t=M(),n=t.indexOf(e);return-1===n?null:t[n-1]}function _(e){const t=M(),n=t.indexOf(e);return-1===n?null:t[n+1]}function T(e){const t=[];for(const n of e){const e=r.a.findIndex(t,e=>{const t=e[0];return s.c(n.rect,t.rect)});e>=0?t[e].push(n):t.push([n])}return t}function x(e,t){const{selectableRectMap:n}=p.a.state,o=d.a.getSortedComponents(),{defaultContainer:a}=l.default.state,s=o.filter(e=>e.props.canEditText&&e.getContextSelectableContainer()===a),c=[];for(const r of s){const e=n.get(r);e&&c.push({selectable:r,rect:e})}const u=c.filter(({rect:e})=>e.top<=t);u.reverse();const h=T(u),m=r.a.map(h,e=>e.sort((e,t)=>-1*Object(i.a)(e.selectable.getNode(),t.selectable.getNode()))[0]),f=r.a.minBy(m,({rect:t})=>Math.min(Math.abs(t.left-e),Math.abs(t.right-e)));if(f)return f;const g=T(c.filter(e=>e.rect.bottom>=t&&u.indexOf(e)<0)),b=r.a.map(g,e=>e.sort((e,t)=>Object(i.a)(e.selectable.getNode(),t.selectable.getNode()))[0]),v=r.a.minBy(b,({rect:t})=>Math.min(Math.abs(t.left-e),Math.abs(t.right-e)));return v||void 0}function I(e,t){const n=e.getValue(),o=[],i=a.cb(n),{startIndex:s,endIndex:l}=t,c=r.a.toArray(i),d=r.a.slice(c,0,s),u=r.a.findLastIndex(d,e=>"\n"===e);u>=0?o.push(u):o.push(0);for(let r=s;r<l;r++){"\n"===c[r]&&o.push(r)}return o}function P(e){const{store:t,selection:n}=e,o=a.hb(t.getValue()||[]),{tokensInsideRange:r}=a.Nb(o,n.startIndex,n.endIndex);return a.Y(r)}},wlCD:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("J9+s");const s=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" width="100%" height="100%" viewBox="0 0 24 24" version="1.1" data-ember-extension="1"><defs><linearGradient x1="28.1542969%" y1="63.7402344%" x2="74.6289062%" y2="17.7832031%" id="linearGradient-1"><stop stop-color="rgba(164, 164, 164, 1)" offset="0%"/><stop stop-color="rgba(164, 164, 164, 0)" stop-opacity="0" offset="100%"/></linearGradient></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" ><g transform="translate(-236.000000, -286.000000)"><g transform="translate(238.000000, 286.000000)"><circle id="Oval-2" stroke="url(#linearGradient-1)" stroke-width="4" cx="10" cy="12" r="10"/><path d="M10,2 C4.4771525,2 0,6.4771525 0,12" id="Oval-2" stroke="rgba(164, 164, 164, 1)" stroke-width="4"/><rect id="Rectangle-1" fill="rgba(164, 164, 164, 1)" x="8" y="0" width="4" height="4" rx="8"/></g></g></g></svg>'),l=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" width="100%" height="100%" viewBox="0 0 24 24" version="1.1" data-ember-extension="1"><defs><linearGradient x1="28.1542969%" y1="63.7402344%" x2="74.6289062%" y2="17.7832031%" id="linearGradient-1"><stop stop-color="rgba(255, 255, 255, 1)" offset="0%"/><stop stop-color="rgba(255, 255, 255, 0)" stop-opacity="0" offset="100%"/></linearGradient></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" ><g transform="translate(-236.000000, -286.000000)"><g transform="translate(238.000000, 286.000000)"><circle id="Oval-2" stroke="url(#linearGradient-1)" stroke-width="4" cx="10" cy="12" r="10"/><path d="M10,2 C4.4771525,2 0,6.4771525 0,12" id="Oval-2" stroke="rgba(255, 255, 255, 1)" stroke-width="4"/><rect id="Rectangle-1" fill="rgba(255, 255, 255, 1)" x="8" y="0" width="4" height="4" rx="8"/></g></g></g></svg>');class c extends a.a{renderComponent(){const{intl:e}=this.props;return r.a.createElement("img",{className:"loading-spinner",style:this.props.style,alt:e.formatMessage({id:"loadingSpinner.label",defaultMessage:"Loading..."}),"aria-busy":"true","aria-live":"polite",src:"data:image/svg+xml;utf8,".concat(this.props.isWhite?l:s)})}}t.a=Object(i.injectIntl)(c)},wldR:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o),a=n("q1tI"),i=n.n(a);const s=function(e){const{component:t,registry:n}=e;n.state.componentSet.has(t)||(n.state.componentSet.add(t),n.emit())},l=function(e){const{component:t,registry:n}=e;n.state.componentSet.has(t)&&(n.state.componentSet.delete(t),n.emit())};var c=n("FCWi"),d=n("d933"),u=n("mgru"),p=n("LqYT"),h=n("w5u6"),m=n("nYHe"),f=n("zmp8"),g=n("1k9p");n.d(t,"b",(function(){return b}));const b={...m.environmentLegacyContextTypes,...g.b};class v extends i.a.Component{constructor(e,t){super(e,t),this.debug=!1,this.stores={},this.registries=[],this.componentIsMounted=!1,this.componentIsUpdating=!1,this.computedStores=[],this.enqueueForceUpdate=e=>{this.isDebug()&&console.info("".concat(this.constructor.name,".enqueueForceUpdate"),e),c.logComponentForceUpdate(this,e),h.default.enqueueComponentRender(this.dequeueForceUpdate)},this.dequeueForceUpdate=()=>new Promise(e=>{this.componentIsMounted&&!this.componentIsUpdating?this.forceUpdate(e):e()}),this.autoListener=new d.a({onChange:this.enqueueForceUpdate})}get environment(){return this.context.environment}get pageContext(){return this.context.pageContext}get theme(){const{ThemeModeStore:e}=this.environment;return Object(f.o)(e.state)}willMount(e){}willUpdate(e){}willMountOrUpdate(e){}didMount(){}didUpdate(e){}didMountOrUpdate(){}willUnmount(){}renderComponent(){return null}UNSAFE_componentWillMount(){this.isDebug()&&(console.info("".concat(this.constructor.name,".willMount()")),this.autoListener.debug=!0),this.createStores(this.props);for(const e of this.registries)s({component:this,registry:e});this.autoListener.startListener({incrementCycle:!0}),this.componentIsUpdating=!0,this.willMount(this.props),this.willMountOrUpdate(this.props),this.autoListener.stopListener({isEndOfCycle:!1})}componentDidMount(){this.isDebug()&&console.info("".concat(this.constructor.name,".didMount()")),this.componentIsMounted=!0,this.componentIsUpdating=!1,c.logComponentRender(this),this.didMount(),this.didMountOrUpdate()}UNSAFE_componentWillReceiveProps(e){for(const t of this.computedStores)t.setShouldRecompute()}shouldComponentUpdate(e){return!Object(u.a)(this.props,e)}UNSAFE_componentWillUpdate(e){if(this.isDebug()){console.info("".concat(this.constructor.name,".willUpdate()"),e);const t=r.a.uniq(Object.keys(e).concat(Object.keys(this.props))).filter(t=>e[t]!==this.props[t]);t.length&&console.info("changed:",t)}h.default.removeRenderFromQueue(this.dequeueForceUpdate),this.autoListener.startListener({incrementCycle:!0}),this.componentIsUpdating=!0,this.assignStores(e),this.willUpdate(e),this.willMountOrUpdate(e),this.autoListener.stopListener({isEndOfCycle:!1})}componentDidUpdate(e){this.isDebug()&&console.info("".concat(this.constructor.name,".didUpdate()")),this.componentIsUpdating=!1,c.logComponentRender(this),this.didUpdate(e),this.didMountOrUpdate()}componentWillUnmount(){this.isDebug()&&console.info("".concat(this.constructor.name,".willUnmount()")),this.componentIsMounted=!1,this.componentIsUpdating=!1;for(const e of this.registries)l({component:this,registry:e});this.autoListener.destroy(),this.computedStores=[],this.willUnmount()}render(){this.isDebug()&&console.info("".concat(this.constructor.name,".render()")),this.autoListener.startListener({incrementCycle:!1});const e=this.renderComponent();return this.autoListener.stopListener({isEndOfCycle:!0}),e||null}createComputedStore(e,t){const n=new p.a(e,t);return this.computedStores.push(n),n}createStores(e){const t=this.storeTypes;if(t)for(const n in t)if(e[n])this.stores[n]=e[n];else if(t[n]&&!this.stores[n]){const e=t[n];this.stores[n]=new e}}assignStores(e){const t=this.storeTypes;if(t)for(const n in t)e[n]&&(this.stores[n]=e[n])}isDebug(){return this.debug||this.props.debug}}v.contextTypes=b;t.a=v},wllP:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u}));var o=n("wpmu"),r=n("VpIZ"),a=n("QcDD"),i=n("szb2"),s=n("hbKx");function l(e){let t=e;for(;;){if(t=t.recordStoreParent(),!t)return;if(t&&t instanceof o.a&&t!==e)return t}}function c(e){const t=l(e);if(t)return s.c(t)}function d(e){const t=e.getValue();if(t)return Object(r.G)(t)&&"factory"!==t.type&&!Object(r.z)(t)?e.getBlockTitleStore():Object(r.x)(t)?e.getCollectionTitleStore():Object(r.p)(t)&&t.properties&&t.properties.caption?e.getCaptionStore():void 0}function u(e){const t=l(e);if(t)return t&&(t===a.default.state.currentBlockStore||i.c.state.open&&t===i.c.state.target)}},wpmu:function(e,t,n){"use strict";var o=n("LvDl"),r=n.n(o),a=n("2Yor"),i=n("bjn0"),s=n("zok3"),l=n("bPtJ"),c=n("G4cA"),d=n("hbKx"),u=n("RJuv"),p=n("VpIZ"),h=n("HRSx"),m=n("udrG"),f=n("6SEd"),g=n("njgS"),b=n("z22Z"),v=n("FUUC"),y=n("vl8/"),S=n("NoAG");class w extends l.d{constructor(e,t,n={}){super({environment:e,pointer:t,userId:n.userId,inMemoryRecordCache:n.inMemoryRecordCache})}static createChildStore(e,t){const n=l.d.getChildStoreKey(t,w.keyName),o=e.getRecordStoreChildStore(n),r=o||new w(e.environment,t,{userId:e.userId,inMemoryRecordCache:e.inMemoryRecordCache});return o||r.setRecordStoreParent(e,n),r}static fromRecordStore(e){return w.createChildStore(e,e.pointer)}clone(){return new w(this.environment,this.pointer,{userId:this.userId,inMemoryRecordCache:this.inMemoryRecordCache})}pathIsAlive(){const e=d.g(this);return d.l(e)}getClosestMovedBlock(){const e=d.g(this);return d.b(e)}getType(){const e=this.getValue();if(e&&e.type)return e.type}getProperties(){const e=this.getValue();return e&&e.properties?e.properties:{}}getPropertiesStore(){return Object(l.a)(this,this.pointer,"properties")}getPermissionsStore(){return Object(l.a)(this,this.pointer,"permissions")}getMovedStore(){return Object(l.a)(this,this.pointer,"moved")}getPermissionItems(){const e=this.getValue();return e&&e.permissions&&e.permissions?e.permissions:[]}isTopLevelWorkspacePage(e){const t=this.getValue();return!(!t||t.parent_table!==v.a||t.parent_id!==e)&&p.n(t)}isTopLevelSharedPage(e){const t=this.getValue();if(t&&t.parent_table===v.a&&!p.n(t)&&t.permissions){const n=t.permissions.filter(b.q),o=t.permissions.filter(b.i),a=r.a.uniq(n.map(e=>e.user_id));return this.isSharedWithCurrentUserViaExplicitPermission()&&(a.length>1||o.length>0)||this.isSharedWithCurrentUserViaPermissionGroup(e)}return!1}isTopLevelPrivatePage(e){const t=this.getValue();if(t&&t.parent_table===v.a&&t.parent_id===e&&!p.n(t)&&!p.m(t)&&t.permissions){const e=t.permissions.some(e=>"public_permission"===e.type&&!("reader"===e.role||"comment_only"===e.role||"read_and_write"===e.role)),n=r.a.uniq(t.permissions.filter(b.q).map(e=>e.user_id));return Boolean(this.isSharedWithCurrentUserViaExplicitPermission()&&1===n.length||0===n.length&&e)}return!1}isSharedWithCurrentUserViaExplicitPermission(){if(!this.getValue())return!1;const e=this.environment.currentUser.id;if(!e)return!1;const t=this.getPermissionItems();return Boolean(t.filter(b.q).find(t=>t.user_id===e))}isSharedWithCurrentUserViaPermissionGroup(e){if(!this.getValue())return!1;const t=this.environment.currentUser.id;if(!t)return!1;const n=this.getPermissionItems(),o=e.getPermissionGroups().filter(e=>e.user_ids&&e.user_ids.indexOf(t)>=0);return Boolean(n.filter(b.i).find(e=>o.findIndex(t=>t.id===e.group_id)>=0))}isRestricted(){return!!this.getValue()&&this.getPermissionItems().some(b.o)}getContentIds(){const e=this.getValue();return e?p.b(e):[]}isEmptyPage(){const e=this.getValue();return Boolean(e&&"page"===e.type&&(!e.content||0===e.content.length))}isEmptyEditableBlock(){const e=this.getType();return Boolean(e&&h.x[e]&&!this.getProperties().title)}isEmptyTitle(){const e=this.getTitleStore();return Boolean(e&&!e.getValue())}getContentStore(){return Object(l.a)(this,this.pointer,"content")}getContentStores(){const e=this.getContentStore(),t=e.getValue()||[];return r.a.map(t,t=>w.createChildStore(e,{table:h.a,id:t}))}getAliasTargetStore(){const e=this.getValue();if(e&&e.format&&e.format.alias_pointer)return w.createChildStore(this,e.format.alias_pointer)}getTransclusionReferenceTargetStore(){const e=this.getValue();if(e&&e.format&&e.format.transclusion_reference_pointer)return w.createChildStore(this,e.format.transclusion_reference_pointer)}isPageBlock(){return this.getType()===m.a.page}isNavigableBlock(){const e=this.getValue();return!!e&&p.z(e)}getTitleStore(){if(!this.isCollectionView())return this.getPropertyStore("title");{const e=this.getCollectionViewCollectionStore();if(e){if(e.getValue())return e.getNameStore()}}}getCollectionTitleStore(){if(this.isCollectionView()){const e=this.getCollectionViewCollectionStore();if(e){if(e.getValue())return e.getNameStore()}}}getBlockTitleStore(){return this.getPropertyStore("title")}getCaptionStore(){return this.getPropertyStore("caption")}getTitleValue(){const e=this.getTitleStore();return e&&e.getValue()||[]}getPropertyStore(e){return Object(l.b)(this,this.pointer,["properties",e])}getPropertyValue(e){const t=this.getValue();if(t&&t.properties)return t.properties[e]}isType(e){return this.getType()===e}getColumnRatio(){const e=this.getFormat().column_ratio;return Object(a.a)(e,0,1,1)}recordStoreParentDiffersFromPersistedParent(){const e=this.getValue();if(e){const{parent_id:t}=e,n=this.recordStoreParent();if(n)return t!==n.id}return!1}isTemplate(){const e=this.getValue();return!!e&&Boolean(e.is_template)}isCollectionViewAlias(){const e=this.getCollectionViewCollectionStore();if(e){const t=e.getValue();return Boolean(t&&t.parent_id!==this.id)}return!1}isColumnChild(){const e=this.recordStoreAncestor(2);if(e){const t=e.getValue();return t&&t.type===m.a.column}return!1}getParentId(){const e=this.getValue();if(e&&e.parent_id)return e.parent_id}getParentTable(){const e=this.getValue();if(e&&e.parent_table)return e.parent_table}isTopLevel(){return this.getParentTable()===v.a}getParentBlockStore(){const e=this.getParentId(),t=this.getParentTable();if(e&&t===h.a)return w.createChildStore(this,{table:h.a,id:e})}getParentCollectionStore(){const e=this.getParentId(),t=this.getParentTable();if(e&&t===f.a)return i.a.createChildStore(this,{table:f.a,id:e})}getParentCollectionTemplateStores(){const e=this.getParentCollectionStore();if(e)return e.getTemplatePagesStores()}getParentSpaceStore(){const e=this.getParentId(),t=this.getParentTable();if(e&&t===v.a)return c.a.createChildStore(this,{table:v.a,id:e})}getParentStore(){const e=this.getParentId(),t=this.getParentTable();if(e){if(t===f.a)return i.a.createChildStore(this,{table:f.a,id:e});if(t===v.a)return c.a.createChildStore(this,{table:v.a,id:e});if(t===h.a)return w.createChildStore(this,{table:h.a,id:e})}}getParentCollectionId(){const e=this.getParentCollectionStore();if(e)return e.id}getFormatStore(){return Object(l.a)(this,this.pointer,"format")}getFormat(){const e=this.getValue();return e&&e.format?e.format:{}}getSchema(){const e=this.getParentCollectionStore();return e?e.getSchema():g.g(y.default.getIntl())}isFullWidth(){return Boolean(this.getFormat().page_full_width)}hasIcon(){return Boolean(this.getIcon())}getIcon(){const e=this.getValue();if(e)return p.g({table:"block",value:e,getRecordValue:this.getRecordValue})}getBlockIconStore(){return Object(l.b)(this,this.pointer,["format","page_icon"])}getIconStore(){if(!this.isCollectionView())return this.getBlockIconStore();{const e=this.getCollectionViewCollectionStore();if(e){if(e.getValue())return e.getIconStore()}}}hasCover(){return Boolean(this.getCover())}getCover(){const e=this.getValue();if(e)return p.f({table:"block",value:e,getRecordValue:this.getRecordValue})}getBlockCoverStore(){return Object(l.b)(this,this.pointer,["format","page_cover"])}getCoverStore(){if(!this.isCollectionView())return this.getBlockCoverStore();{const e=this.getCollectionViewCollectionStore();if(e){if(e.getValue())return e.getCoverStore()}}}getNavigableBlockStore(){return d.d(this)[0]}isNavigableAncestorLocked(){const e=d.d(this).filter(e=>e.id!==this.id)[0];return!!e&&e.isLocked()}isLocked(){const e=this.getValue();return Boolean(e&&e.format&&e.format.block_locked)}getNavigableAncestorFormat(){const e=d.d(this).filter(e=>e.id!==this.id)[0];return e?e.getFormat():{}}isInlineCollectionView(){const e=this.getValue();return!!e&&p.x(e)}isCollectionView(){const e=this.getValue();return!!e&&p.q(e)}isInsideCollection(){const e=d.d(this).filter(e=>e.id!==this.id)[0];return!!e&&e.isCollectionView()}getCollectionViewStores(){const e=this.getValue();return e&&e.view_ids?r.a.map(e.view_ids,e=>s.a.createChildStore(this,{table:S.a,id:e})):[]}getCollectionViewCollectionStore(){const e=this.getValue();if(e&&e.collection_id)return i.a.createChildStore(this,{table:f.a,id:e.collection_id})}getFollowStore(){const{id:e}=this.environment.currentUser;if(e){const t=Object(u.c)({navigable_block_id:this.id,user_id:e});return Object(l.c)(this,{table:u.a,id:t})}}isFollowing(){const e=this.getFollowStore();if(e){const t=e.getValue();return!!t&&t.following}return!1}}w.keyName="BlockStore",t.a=w},wvIE:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var o=n("78yG"),r=n("HSWF"),a=n("bK/N"),i=n("ZAZ2"),s=n("VhAz"),l=n("h2IJ");function c(e,t){const{device:n,ThemeStore:i}=e,s=t.mode,l={mode:s};i.setState(l),e.reactNative&&e.reactNative.setTheme(s),a.setTheme(o.a(s)),r.B(l),function(e,t){if(0===e.scrollbarWidth)return;const n=document.getElementById("scroll-properties");n&&(n.innerHTML="\n\t\t\t::-webkit-scrollbar {\n\t\t\t\twidth: 10px;\n\t\t\t\theight: 10px;\n\t\t\t}\n\t\t\t::-webkit-scrollbar {\n\t\t\t\tbackground: transparent;\n\t\t\t}\n\t\t\t::-webkit-scrollbar-track {\n\t\t\t\tbackground: ".concat(u.scrollbarTrack[t],";\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground:").concat(u.scrollbarThumb[t],";\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:hover {\n\t\t\t\tbackground:").concat(u.scrollbarThumbHover[t],";\n\t\t\t}\n\t\t"))}(n,s),"dark"===t.mode?document.body.classList.add("dark"):document.body.classList.remove("dark")}async function d(e){const{reactNative:t,device:n}=e;let o="light";o=n.isAndroid&&t&&t.api.getTheme?await t.api.getTheme():e.device.prefersDarkInterface?"dark":"light",c(e,{mode:o})}const u={scrollbarTrack:{light:"#EDECE9",dark:"rgba(202, 204, 206, 0.04)"},scrollbarThumb:{light:"#D3D1CB",dark:"#474c50"},scrollbarThumbHover:{light:"#AEACA6",dark:"rgba(202, 204, 206, 0.3)"}};function p(e,t){switch(l.a.set("appearanceSettingStorageKey",t),t){case"dark":case"light":c(e,{mode:t});break;case"system":d(e);break;default:Object(s.e)(t)}}function h(e){var t=l.a.get("appearanceSettingStorageKey");return t||(t=e.device.isMobile?"system":e.ThemeModeStore.state),Object(i.b)(t)}},wweX:function(e,t,n){"use strict";n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"i",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return S})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return M}));n("3bBZ");var o=n("i8i4"),r=n.n(o),a=n("6rsX"),i=n("unoy"),s=n("njgS"),l=n("MBf9"),c=n("Ajfl"),d=n("cBa6"),u=n("CARr"),p=n("N34Z"),h=n("X6Ne"),m=n("ouJW"),f=n("w5u6");function g(e){const{environment:t,blockPropertyValueOverlayStore:n,store:o,additionalStores:u,property:p,format:g,preventClearSelection:b,insertChar:v,uploadFiles:y,disableHorizontalEdgeScroll:S}=e,w=(o.getSchema()||{})[p],k=m.a.findBlockPropertyValue(o,p);let C=e.rect;if(k&&(h.b({component:k,vertical:{reveal:"closest"},horizontal:S?void 0:{reveal:"closest"}}),!C)){const e=r.a.findDOMNode(k);e instanceof Element&&(C=e.getBoundingClientRect())}if(!C)return;const M=o.clone();if(n.setState({isOpen:!0,store:o,clonedStore:M,additionalStores:u||[],property:p,format:g,rect:C,preventClearSelection:b,insertChar:v,uploadFiles:y}),w&&s.m(w.type)){b||a.e(t);const e=M.getPropertyStore(p);v&&l.createAndCommit(t,n=>{c.s({environment:t,store:e,value:d.m(v),transaction:n})}),f.default.afterNextFlush(()=>{f.default.afterNextFlush(()=>{f.default.afterNextFlush(()=>{i.n({store:e})})})})}else b||a.e(t),i.f(t)}function b(e){const{environment:t,blockPropertyValueOverlayStore:n}=e,o=n.state;o.isOpen&&(o.preventClearSelection||a.e(t),n.reset())}const v=function(e){const{stores:t,property:n,transaction:o}=e,r=t[0].getPropertyStore(n),a=Object(u.n)(r.getValue());for(const i of t)p.c({store:i.getPropertyStore(n),value:Object(u.a)(!a),transaction:o})};function y(e){const{blockPropertyValueOverlayStore:t}=e,n=t.state;if(n.isOpen){const{store:t,property:o}=n,r=m.a.findBlockPropertyValue(t,o);r&&r.props.onTab?r.props.onTab():b(e)}}function S(e){const{blockPropertyValueOverlayStore:t}=e,n=t.state;if(n.isOpen){const{store:t,property:o}=n,r=m.a.findBlockPropertyValue(t,o);r&&r.props.onUntab?r.props.onUntab():b(e)}}function w(e){const{blockPropertyValueOverlayStore:t}=e,n=t.state;if(n.isOpen){const{store:t,property:o}=n,r=m.a.findBlockPropertyValue(t,o);r&&r.props.onEnter?r.props.onEnter():b(e)}}function k(e){const{blockPropertyValueOverlayStore:t}=e,n=t.state;if(n.isOpen){const{store:t,property:o}=n,r=m.a.findBlockPropertyValue(t,o);r&&r.props.onEsc?r.props.onEsc():b(e)}}function C(e){const{blockPropertyValueOverlayStore:t}=e,n=t.state;if(n.isOpen){const{store:t,property:o}=n,r=m.a.findBlockPropertyValue(t,o);r&&r.props.onBgClick?r.props.onBgClick():b(e)}}function M(e){const{blockPropertyValueOverlayStore:t,openProperty:n}=e,o=t.state;if(o.isOpen){const{store:t,property:r}=o,a=m.a.findBlockPropertyValue(t,r);a&&a.props.onOpenProperty?a.props.onOpenProperty(n):b(e)}}},wy14:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return v}));n("3bBZ"),n("Junv");var o=n("HRSx"),r=n("udrG"),a=n("wpmu"),i=n("y6Dp"),s=n("jZoB"),l=n("N34Z"),c=n("5w/s");const d=function(e){const t=e.recordStoreAncestor(2);if(t&&t instanceof a.a&&t.isType(r.a.columnList))return t},u=function(e){return e&&e instanceof a.a&&e.isType(r.a.column)};function p(e){const{environment:t,targets:n,inMemoryRecordCache:o,transaction:a}=e,c=l.a({environment:t,type:r.a.columnList,properties:{},inMemoryRecordCache:o,transaction:a}),d=c.getContentStore();for(const r of n)s.a({parent:d,append:r,transaction:a});return i.ib(t),c}function h(e){const{environment:t,targets:n,inMemoryRecordCache:o,transaction:a}=e,i=l.a({environment:t,type:r.a.column,format:{column_ratio:1},inMemoryRecordCache:o,transaction:a}),c=i.getContentStore();for(const r of n)s.a({parent:c,append:r,transaction:a});return i}function m(e){const{environment:t,parent:n,insertStores:r,left:l,transaction:c}=e;let m,f;if(i.Yb(t,{side:"left"}),u(l))m=l,f=d(l);else{m=h({environment:t,targets:[l],inMemoryRecordCache:n.inMemoryRecordCache,transaction:c});const o=p({environment:t,targets:[m],inMemoryRecordCache:n.inMemoryRecordCache,transaction:e.transaction});f=s.f({parent:n,oldChild:l,newChild:o,transaction:c}).child}const b=h({environment:t,targets:r,inMemoryRecordCache:n.inMemoryRecordCache,transaction:c});if(f){const t=f.getContentStore();return s.c({parent:t,insert:b,before:m,transaction:e.transaction}),g({columnList:f,addedColumn:b,transaction:c}),a.a.createChildStore(t,{table:o.a,id:b.id}).getContentStores()}return[]}function f(e){const{environment:t,parent:n,insertStores:r,right:l,transaction:c}=e;let m,f;if(i.Yb(t,{side:"right"}),u(l))m=l,f=d(l);else{m=h({environment:t,targets:[l],inMemoryRecordCache:n.inMemoryRecordCache,transaction:c});const o=p({environment:t,targets:[m],inMemoryRecordCache:n.inMemoryRecordCache,transaction:e.transaction});f=s.f({parent:n,oldChild:l,newChild:o,transaction:c}).child}const b=h({environment:t,targets:r,inMemoryRecordCache:n.inMemoryRecordCache,transaction:c});if(f){const t=f.getContentStore();return s.b({parent:t,insert:b,after:m,transaction:e.transaction}),g({columnList:f,addedColumn:b,transaction:c}),a.a.createChildStore(t,{table:o.a,id:b.id}).getContentStores()}return[]}const g=function(e){const{columnList:t,addedColumn:n,transaction:o}=e,r=t.getContentStores(),a=1/r.length;c.h({stores:[n],update:{column_ratio:a},transaction:o});for(const i of r)if(i.id!==n.id){const e=i.getColumnRatio();c.h({stores:[i],update:{column_ratio:(1-a)*e},transaction:o})}},b=function(e){const{columnList:t,removedColumn:n,transaction:o}=e,r=t.getContentStores(),a=n.getColumnRatio();for(const i of r){const e=i.getColumnRatio();c.h({stores:[i],update:{column_ratio:e/(1-a)},transaction:o})}},v=function(e){const{parent:t,transaction:n}=e,o=t.recordStoreParent();let r;if(u(o)&&(r=d(o)),r){const e=r.getContentStore(),t=r.getContentStores();for(const a of t){0===a.getContentIds().length&&(s.e({parent:e,remove:a,shouldGarbageCollect:!1,transaction:n}),b({columnList:r,removedColumn:a,transaction:n}))}const o=r.getContentStores();if(0===o.length){const e=r.recordStoreParent();e&&s.e({parent:e,remove:r,transaction:n,shouldGarbageCollect:!1})}else if(1===o.length){const e=r.recordStoreParent(),t=o[0],a=t.getContentStore(),i=t.getContentStores();if(i.reverse(),e){for(const t of i)s.e({parent:a,remove:t,shouldGarbageCollect:!1,transaction:n}),s.b({parent:e,insert:t,after:r,transaction:n});s.e({parent:e,remove:r,transaction:n,shouldGarbageCollect:!1})}}}}},x0lk:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return p}));var o=n("LvDl"),r=n.n(o);const a=e=>e&&(r.a.isNumber(e.top)||r.a.isNumber(e.left)),i=function(e,t,n){return e.left<=t&&t<=e.right&&e.top<=n&&n<=e.bottom},s=function(e,t){return e.left<=t.left&&e.right>=t.right&&e.top<=t.top&&e.bottom>=t.bottom},l=function(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)},c=function(e,t){return!(e.right<=t.left||t.right<=e.left)},d=function(e,t,n){return{left:e.left+t,right:e.right+t,top:e.top+n,bottom:e.bottom+n,width:e.width,height:e.height}},u=function(e,t){return{left:e.left-t,right:e.right+t,top:e.top-t,bottom:e.bottom+t,width:e.width+2*t,height:e.height+2*t}};function p(e){const t=e.top+e.height/2,n=e.left+e.width/2;return{top:t,bottom:t,left:n,right:n,width:0,height:0}}},x4bP:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("YIRN"),s=n("LeVO"),l=n("mF3+"),c=n("MeYt"),d=n("J9+s");class u extends a.a{constructor(){super(...arguments),this.renderTooltip=()=>{const e=this.theme.mediumInvertedTextColor;return r.a.createElement("div",{style:{textAlign:"center"}},!this.props.disableDrag&&r.a.createElement(d.FormattedMessage,{defaultMessage:"Drag <medium>to move</medium>",id:"dragHandleButton.dragPrompt.text",values:{medium:(...t)=>r.a.createElement("span",{style:{color:e}},t)}}),!this.props.hideClickMessage&&r.a.createElement("div",null,r.a.createElement(d.FormattedMessage,{defaultMessage:"Click <medium>to open menu</medium>",id:"dragHandleButton.clickPrompt.text",values:{medium:(...t)=>r.a.createElement("span",{style:{color:e}},t)}})))}}renderComponent(){return r.a.createElement(s.a,{placement:s.a.Placement.Bottom,delayThreshold:300,renderTooltip:this.renderTooltip,render:e=>r.a.createElement(c.a,Object.assign({style:this.getStyle(),onClick:this.props.onClick},e),l.a.dragHandle({width:14,height:14}))})}getStyle(){return{display:"flex",alignItems:"center",justifyContent:"center",cursor:this.props.disableDrag?"pointer":"grab",width:i.a.width,height:24,borderRadius:3,fill:this.theme.lightIconColor}}}u.width=i.a.width,u.height=i.a.height,t.a=u},xAD1:function(e,t,n){"use strict";var o=n("Uv1v");class r extends o.a{}t.a=new r},xL2i:function(e,t,n){"use strict";n.d(t,"p",(function(){return h})),n.d(t,"o",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return v})),n.d(t,"m",(function(){return y})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return C})),n.d(t,"d",(function(){return E})),n.d(t,"j",(function(){return x})),n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return B})),n.d(t,"i",(function(){return L})),n.d(t,"g",(function(){return R}));n("3bBZ"),n("E9XD"),n("Junv");var o=n("LvDl"),r=n.n(o),a=n("z22Z"),i=n("V1wX"),s=n("ezkE"),l=n("3JF5"),c=n("FUUC"),d=n("bmSz"),u=n("VhAz"),p=n("HRSx");function h(e){const{actor:t,ancestors:n,updatedPermissionItem:o}=e;return T({actor:t,ancestors:n}).some(e=>{const t=y(e.permissionItem,o)?o.role:e.permissionItem.role;return!!t&&Object(a.a)(t)})}function m(e){const{actor:t,ancestors:n}=e,o=T({actor:t,ancestors:n});if(1===o.length){const e=o[0];if(Object(a.n)(e.permissionItem)&&Object(a.d)(e.permissionItem.role))return e}}function f(e,t){return e.some(e=>"user_permission"===e.type&&e.user_id===t)}function g(e){return e.permissions||[]}function b(e,t,n){let o=t||[];return o=o.filter(t=>!y(t,e)),o.push(e),o=o.filter(e=>!Object(a.m)(e)||"none"!==Object(a.f)(e)),o}function v(e,t,n){const{singletonPermissionItem:o,set:r}=e;let a=t||[];return a=a.filter(e=>!y(e,o)),r&&a.push(o),a}function y(e,t){return!(!e||!t)&&(Object(a.q)(e)&&Object(a.q)(t)?e.user_id===t.user_id:Object(a.g)(e)&&Object(a.g)(t)?e.bot_id===t.bot_id:Object(a.i)(e)&&Object(a.i)(t)?e.group_id===t.group_id:e.type===t.type)}function S(e){return Object(s.e)(e).map(e=>{if(e.table===p.a){const t=e.value;if(t&&t.permissions&&t.permissions.length>0)return{blockId:t.id,permissions:t.permissions}}}).filter(u.a)}function w(...e){let t=0;const n={};for(const r of e)if("string"==typeof r)t=Math.max(t,a.r.indexOf(r));else for(const e in r)r[e]&&(n[e]=!0);const o=a.r[t];return"editor"===o||"read_and_write"===o||"comment_only"===o?o:Object.keys(n).length?("reader"===o&&(n.read_content=!0),n):o}function k(e,t){return void 0!==e&&e||void 0!==t&&t}function C(e){return e?Object(a.q)(e)?"".concat(e.type,":").concat(e.user_id):Object(a.g)(e)?"".concat(e.type,":").concat(e.bot_id):Object(a.i)(e)?"".concat(e.type,":").concat(e.group_id):e.type:""}function M(e){return 1===e.length?e[0]:e.reduce((e,t)=>{if(!y(e.permissionItem,t.permissionItem))throw Error("Items should be grouped by target, but given items have different targets");return Object(a.q)(t.permissionItem)||Object(a.p)(t.permissionItem)||Object(a.i)(t.permissionItem)||Object(a.g)(t.permissionItem)?function(e){const{inheritedBlockId:t,inheritedPermissionItem:n,mostPermissivePermissionLoose:o}=e,r=o,a=r.permissionItem.role,i=w(a,n.role);return{blockId:a===n.role||i!==a?t:r.blockId,permissionItem:{...r.permissionItem,role:i}}}({mostPermissivePermissionLoose:e,inheritedBlockId:t.blockId,inheritedPermissionItem:t.permissionItem}):Object(a.n)(t.permissionItem)?function(e){const{inheritedBlockId:t,inheritedPermissionItem:n,mostPermissivePermissionLoose:o}=e,r=o,a=r.permissionItem.role,i=w(a,n.role);return{blockId:a===n.role||i!==a?t:r.blockId,permissionItem:{...r.permissionItem,role:i,allow_duplicate:(s=r.permissionItem.allow_duplicate,l=n.allow_duplicate,void 0===s||s||void 0===l||l),allow_search_engine_indexing:k(r.permissionItem.allow_search_engine_indexing,n.allow_search_engine_indexing)}};var s,l}({mostPermissivePermissionLoose:e,inheritedBlockId:t.blockId,inheritedPermissionItem:t.permissionItem}):Object(a.h)(t.permissionItem)?{...e,blockId:t.blockId}:Object(a.o)(t.permissionItem)?e:void Object(u.e)(t.permissionItem)},e[0])}function E(e){const t=r.a.flatten(e.map(({blockId:e,permissions:t})=>t.map(t=>({blockId:e,permissionItem:t}))));t.reverse();const n=r.a.groupBy(t,e=>C(e.permissionItem)),o=r.a.mapValues(n,M),i=new Set,s=[];for(const r of t){const e=C(r.permissionItem);i.has(e)||(i.add(e),s.push(o[e]))}const l=s.find(e=>Object(a.h)(e.permissionItem));return l?[l]:s}function _(e){return e.table===c.a}function T(e){const{actor:t,ancestors:n}=e;if(Object(s.i)(n))return[];let o=e.ignorePublicPermissions;o||Object(s.k)(n)||(o=!0);const r=n.find(_),c=r?r.value:null,u=c&&c.permissions||[],p=c&&c.permission_groups?c.permission_groups:[],h=t&&Object(i.f)(t)&&t.value,m=t&&Object(i.e)(t)&&t.value,f=m&&m.id;m&&!o&&(o=!0);const g=h&&h.id||m&&Object(l.d)(m)&&m.parent_id,b=g?p.filter(e=>e.user_ids&&e.user_ids.includes(g)).map(e=>e.id):[],v=E(S(n).map(({permissions:e,blockId:t})=>({blockId:t,permissions:e.filter(e=>Object(a.q)(e)?e.user_id===g:Object(a.g)(e)?e.bot_id===f:!Object(a.i)(e)||b.includes(e.group_id))}))),y=x({spacePermissions:u,userId:g||void 0,botId:f||void 0}),w=Object(s.k)(n),k=n.some(e=>{if(e.table===d.a){const t=e.value;return Boolean(t.resolved)}return!1});return v.filter(e=>{const{permissionItem:t}=e;return!!Object(a.m)(t)&&(!((!w||k)&&Object(a.e)(t.role))&&(!(!Object(a.q)(t)||t.user_id!==g)||(!(!Object(a.g)(t)||t.bot_id!==f)||(!(!Object(a.p)(t)||!y)||(!(o||!Object(a.n)(t))||!!(Object(a.i)(t)&&y&&b.includes(t.group_id)))))))})}function x(e){const{spacePermissions:t,userId:n,botId:o}=e;return t.some(e=>{const t=Object(a.q)(e)&&e.user_id===n&&Object(a.c)(e.role),r=Object(a.g)(e)&&e.bot_id===o&&Object(a.c)(e.role);return t||r})}function I(e){return E(S(e)).map(({permissionItem:e})=>e)}function P(e,t){const n=[],o=[],r=[],i=[],s={};for(const a of e){s[C(a)]=a}for(const l of t){const e=C(l);if(s[e]){const t=s[e];Object(a.m)(t)&&Object(a.m)(l)&&t.role!==l.role?r.push([t,l]):i.push(l),delete s[e]}else n.push(l)}for(const a of Object.values(s))o.push(a);return{created:n.sort(B),deleted:o.sort(B),changed:r.sort(B),unchanged:i.sort(B)}}function O(e){return Array.isArray(e)?e[0].type:e.type}function B(e,t){return a.s.indexOf(O(e))-a.s.indexOf(O(t))}function L(e,t,n){const o=P(t,n),r=o.unchanged.filter(e=>Object(a.m)(e));for(const[a,l]of o.changed){const e=w(a.role,l.role);a.role!==l.role&&a.role!==e&&r.push(a)}const i=[];for(const a of r){const t={pointer:{table:e.table,id:e.value.id},command:"setPermissionItem",path:["permissions"],args:{...a,role:"none"}};i.push(t)}const s={pointer:{table:e.table,id:e.value.id},command:"setSingletonPermissionItem",path:["permissions"],args:{singletonPermissionItem:{type:"restricted_permission"},set:!1}};return i.push(s),i}function R(e,t){const n=[],o=P(e,t);for(const r of o.created)if(Object(a.m)(r)){const e={...r,role:"none"};n.push([e,r])}for(const[r,a]of o.changed){const e=w(r.role,a.role);r.role!==e&&n.push([r,a])}return n}},xPNA:function(e,t,n){"use strict";var o=n("mF3+"),r=n("wldR");class a extends r.a{renderComponent(){const e=this.props.size*(this.props.isLarge?1:.9),t={width:e,height:e,fill:this.theme.regularIconColor,...this.props.pageIconStyle};return this.props.isEmptyPage?o.a.pageEmpty(t):o.a.page(t)}}t.a=a},xcfP:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wlCD"),i=n("fVGD"),s=n("wldR"),l=n("2m/B"),c=n("1y3T"),d=n("622O");class u extends s.a{renderComponent(){const{props:e}=this,t="data_url"!==e.type&&"svg"===d.e(e.imageURL),n=this.props.size*(this.props.isLarge?1:.888),o={width:n,height:n,objectFit:t?"fill":"cover",borderRadius:3,transition:"opacity 100ms ease-out",...t&&{padding:.05*this.props.size}};let s;return(e.isLoading||"data_url"===e.type)&&(o.opacity=.3),s="data_url"===e.type?r.a.createElement(l.a,{src:e.dataURL,style:o}):"image_url"===e.type?r.a.createElement(c.a,{isAuthenticated:!1,url:e.imageURL,width:n,render:(e,t)=>r.a.createElement(l.a,{src:t,style:o})}):r.a.createElement(c.a,{isAuthenticated:!0,url:e.imageURL,permissionRecord:e.permissionRecord,width:n,render:(e,t)=>r.a.createElement(l.a,{src:t,style:o})}),r.a.createElement("div",{style:{position:e.isLoading?"relative":void 0}},s,e.isLoading&&r.a.createElement("div",{style:l.a.loadingContainerStyle},r.a.createElement(a.a,{style:{width:16,height:16,marginRight:4}}),r.a.createElement("div",{style:{width:26,textAlign:"right"}},r.a.createElement(i.a,{percentage:e.progressPercent||0}))))}}t.a=u},xe8Q:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));const o={"😀":{codepoints:"1f600",version:"2.0",sheetX:30,sheetY:35,keywords:["grinning face","grinning","face","grin",":D"],variations:[]},"🐵":{codepoints:"1f435",version:"2.0",sheetX:12,sheetY:25,keywords:["monkey face","face","monkey"],variations:[]},"🍇":{codepoints:"1f347",version:"2.0",sheetX:6,sheetY:31,keywords:["grapes","fruit","grape"],variations:[]},"👓":{codepoints:"1f453",version:"2.0",sheetX:14,sheetY:7,keywords:["eyeglasses","glasses","clothing","eye","eyewear"],variations:[]},"🏁":{codepoints:"1f3c1",version:"2.0",sheetX:8,sheetY:39,keywords:["chequered flag","checkered flag","checkered","chequered","racing"],variations:[]},"🎃":{codepoints:"1f383",version:"2.0",sheetX:7,sheetY:34,keywords:["jack o lantern","celebration","halloween","jack","lantern"],variations:[]},"👋🏻":{codepoints:"1f44b-1f3fb",version:"2.0",sheetX:13,sheetY:27},"👋🏼":{codepoints:"1f44b-1f3fc",version:"2.0",sheetX:13,sheetY:28},"👋🏽":{codepoints:"1f44b-1f3fd",version:"2.0",sheetX:13,sheetY:29},"👋🏾":{codepoints:"1f44b-1f3fe",version:"2.0",sheetX:13,sheetY:30},"👋🏿":{codepoints:"1f44b-1f3ff",version:"2.0",sheetX:13,sheetY:31},"👋":{codepoints:"1f44b",version:"2.0",sheetX:13,sheetY:26,keywords:["waving hand sign","wave","waving hand","hand","waving"],variations:["👋🏻","👋🏼","👋🏽","👋🏾","👋🏿"]},"🌍":{codepoints:"1f30d",version:"2.0",sheetX:5,sheetY:32,keywords:["earth globe europe africa","earth africa","globe showing europe africa","africa","earth","europe","globe","world"],variations:[]},"🏧":{codepoints:"1f3e7",version:"2.0",sheetX:11,sheetY:1,keywords:["automated teller machine","atm","atm sign","automated","bank","teller"],variations:[]},"🍈":{codepoints:"1f348",version:"2.0",sheetX:6,sheetY:32,keywords:["melon","fruit"],variations:[]},"🚩":{codepoints:"1f6a9",version:"2.0",sheetX:35,sheetY:0,keywords:["triangular flag on post","triangular flag","post"],variations:[]},"🚮":{codepoints:"1f6ae",version:"2.0",sheetX:35,sheetY:5,keywords:["put litter in its place symbol","put litter in its place","litter in bin sign","litter","litter bin"],variations:[]},"🎄":{codepoints:"1f384",version:"2.0",sheetX:7,sheetY:35,keywords:["christmas tree","celebration","christmas","tree"],variations:[]},"🐒":{codepoints:"1f412",version:"2.0",sheetX:11,sheetY:46,keywords:["monkey"],variations:[]},"🌎":{codepoints:"1f30e",version:"2.0",sheetX:5,sheetY:33,keywords:["earth globe americas","earth americas","globe showing americas","americas","earth","globe","world"],variations:[]},"🕶️":{codepoints:"1f576-fe0f",version:"2.0",sheetX:29,sheetY:33,keywords:["dark sunglasses","sunglasses","dark","eye","eyewear","glasses"],variations:[]},"🕶":{codepoints:"1f576-fe0f",version:"2.0",sheetX:29,sheetY:33,keywords:["dark sunglasses","sunglasses","dark","eye","eyewear","glasses"],variations:[]},"🤚🏻":{codepoints:"1f91a-1f3fb",version:"4.0",sheetX:37,sheetY:44},"🤚🏼":{codepoints:"1f91a-1f3fc",version:"4.0",sheetX:37,sheetY:45},"🤚🏽":{codepoints:"1f91a-1f3fd",version:"4.0",sheetX:37,sheetY:46},"🤚🏾":{codepoints:"1f91a-1f3fe",version:"4.0",sheetX:37,sheetY:47},"🤚🏿":{codepoints:"1f91a-1f3ff",version:"4.0",sheetX:37,sheetY:48},"🤚":{codepoints:"1f91a",version:"4.0",sheetX:37,sheetY:43,keywords:["raised back of hand","backhand","raised"],variations:["🤚🏻","🤚🏼","🤚🏽","🤚🏾","🤚🏿"]},"😃":{codepoints:"1f603",version:"2.0",sheetX:30,sheetY:38,keywords:["smiling face with open mouth","smiley","grinning face with big eyes","face","mouth","open","smile"],variations:[]},"🌏":{codepoints:"1f30f",version:"2.0",sheetX:5,sheetY:34,keywords:["earth globe asia australia","earth asia","globe showing asia australia","asia","australia","earth","globe","world"],variations:[]},"🎌":{codepoints:"1f38c",version:"2.0",sheetX:7,sheetY:48,keywords:["crossed flags","celebration","cross","crossed","japanese"],variations:[]},"🍉":{codepoints:"1f349",version:"2.0",sheetX:6,sheetY:33,keywords:["watermelon","fruit"],variations:[]},"🥽":{codepoints:"1f97d",version:"11.0",sheetX:42,sheetY:15,keywords:["goggles","eye protection","swimming","welding"],variations:[]},"🖐🏻":{codepoints:"1f590-1f3fb",version:"2.0",sheetX:29,sheetY:49},"🖐🏼":{codepoints:"1f590-1f3fc",version:"2.0",sheetX:29,sheetY:50},"🖐🏽":{codepoints:"1f590-1f3fd",version:"2.0",sheetX:29,sheetY:51},"🖐🏾":{codepoints:"1f590-1f3fe",version:"2.0",sheetX:29,sheetY:52},"🖐🏿":{codepoints:"1f590-1f3ff",version:"2.0",sheetX:29,sheetY:53},"🖐️":{codepoints:"1f590-fe0f",version:"2.0",sheetX:29,sheetY:48,keywords:["raised hand with fingers splayed","hand with fingers splayed","finger","hand","splayed"],variations:["🖐🏻","🖐🏼","🖐🏽","🖐🏾","🖐🏿"]},"🖐":{codepoints:"1f590-fe0f",version:"2.0",sheetX:29,sheetY:48,keywords:["raised hand with fingers splayed","hand with fingers splayed","finger","hand","splayed"],variations:["🖐🏻","🖐🏼","🖐🏽","🖐🏾","🖐🏿"]},"😄":{codepoints:"1f604",version:"2.0",sheetX:30,sheetY:39,keywords:["smiling face with open mouth and smiling eyes","smile","grinning face with smiling eyes","eye","face","mouth","open"],variations:[]},"🚰":{codepoints:"1f6b0",version:"2.0",sheetX:35,sheetY:7,keywords:["potable water symbol","potable water","drinking","potable","water"],variations:[]},"🎆":{codepoints:"1f386",version:"2.0",sheetX:7,sheetY:42,keywords:["fireworks","celebration"],variations:[]},"🦍":{codepoints:"1f98d",version:"4.0",sheetX:42,sheetY:31,keywords:["gorilla"],variations:[]},"🥼":{codepoints:"1f97c",version:"11.0",sheetX:42,sheetY:14,keywords:["lab coat","doctor","experiment","scientist"],variations:[]},"🍊":{codepoints:"1f34a",version:"2.0",sheetX:6,sheetY:34,keywords:["tangerine","fruit","orange"],variations:[]},"♿":{codepoints:"267f",version:"2.0",sheetX:53,sheetY:40,keywords:["wheelchair symbol","wheelchair","access"],variations:[]},"🏴":{codepoints:"1f3f4",version:"2.0",sheetX:11,sheetY:17,keywords:["waving black flag","black flag","waving"],variations:[]},"🎇":{codepoints:"1f387",version:"2.0",sheetX:7,sheetY:43,keywords:["firework sparkler","sparkler","celebration","fireworks","sparkle"],variations:[]},"🌐":{codepoints:"1f310",version:"2.0",sheetX:5,sheetY:35,keywords:["globe with meridians","earth","globe","meridians","world"],variations:[]},"😁":{codepoints:"1f601",version:"2.0",sheetX:30,sheetY:36,keywords:["grinning face with smiling eyes","grin","beaming face with smiling eyes","eye","face","smile"],variations:[]},"✋🏻":{codepoints:"270b-1f3fb",version:"2.0",sheetX:54,sheetY:50},"✋🏼":{codepoints:"270b-1f3fc",version:"2.0",sheetX:54,sheetY:51},"✋🏽":{codepoints:"270b-1f3fd",version:"2.0",sheetX:54,sheetY:52},"✋🏾":{codepoints:"270b-1f3fe",version:"2.0",sheetX:54,sheetY:53},"✋🏿":{codepoints:"270b-1f3ff",version:"2.0",sheetX:54,sheetY:54},"✋":{codepoints:"270b",version:"2.0",sheetX:54,sheetY:49,keywords:["raised hand","hand"],variations:["✋🏻","✋🏼","✋🏽","✋🏾","✋🏿"]},"🧨":{codepoints:"1f9e8",version:"11.0",sheetX:51,sheetY:27,keywords:["firecracker","dynamite","explosive","fireworks"],variations:[]},"🍋":{codepoints:"1f34b",version:"2.0",sheetX:6,sheetY:35,keywords:["lemon","citrus","fruit"],variations:[]},"🐶":{codepoints:"1f436",version:"2.0",sheetX:12,sheetY:26,keywords:["dog face","dog","face","pet"],variations:[]},"🚹":{codepoints:"1f6b9",version:"2.0",sheetX:36,sheetY:10,keywords:["mens symbol","mens","men’s room","lavatory","man","restroom","wc"],variations:[]},"🖖🏻":{codepoints:"1f596-1f3fb",version:"2.0",sheetX:30,sheetY:4},"🖖🏼":{codepoints:"1f596-1f3fc",version:"2.0",sheetX:30,sheetY:5},"🖖🏽":{codepoints:"1f596-1f3fd",version:"2.0",sheetX:30,sheetY:6},"🖖🏾":{codepoints:"1f596-1f3fe",version:"2.0",sheetX:30,sheetY:7},"🖖🏿":{codepoints:"1f596-1f3ff",version:"2.0",sheetX:30,sheetY:8},"🖖":{codepoints:"1f596",version:"2.0",sheetX:30,sheetY:3,keywords:["raised hand with part between middle and ring fingers","spock hand","vulcan salute","finger","hand","spock","vulcan"],variations:["🖖🏻","🖖🏼","🖖🏽","🖖🏾","🖖🏿"]},"🗺️":{codepoints:"1f5fa-fe0f",version:"2.0",sheetX:30,sheetY:29,keywords:["world map","map","world"],variations:[]},"🗺":{codepoints:"1f5fa-fe0f",version:"2.0",sheetX:30,sheetY:29,keywords:["world map","map","world"],variations:[]},"😆":{codepoints:"1f606",version:"2.0",sheetX:30,sheetY:41,keywords:["smiling face with open mouth and tightly closed eyes","laughing","satisfied","grinning squinting face","face","laugh","mouth","smile","xD"],variations:[]},"🏳️":{codepoints:"1f3f3-fe0f",version:"2.0",sheetX:11,sheetY:12,keywords:["waving white flag","white flag","waving"],variations:[]},"🏳":{codepoints:"1f3f3-fe0f",version:"2.0",sheetX:11,sheetY:12,keywords:["waving white flag","white flag","waving"],variations:[]},"😅":{codepoints:"1f605",version:"2.0",sheetX:30,sheetY:40,keywords:["smiling face with open mouth and cold sweat","sweat smile","grinning face with sweat","cold","face","open","smile","sweat"],variations:[]},"✨":{codepoints:"2728",version:"2.0",sheetX:55,sheetY:16,keywords:["sparkles","*","sparkle","star"],variations:[]},"🍌":{codepoints:"1f34c",version:"2.0",sheetX:6,sheetY:36,keywords:["banana","fruit"],variations:[]},"🏳️‍🌈":{codepoints:"1f3f3-fe0f-200d-1f308",version:"4.0",sheetX:11,sheetY:11,keywords:["rainbow flag","pride","rainbow"],variations:[]},"🏳‍🌈":{codepoints:"1f3f3-fe0f-200d-1f308",version:"4.0",sheetX:11,sheetY:11,keywords:["rainbow flag","pride","rainbow"],variations:[]},"👌🏻":{codepoints:"1f44c-1f3fb",version:"2.0",sheetX:13,sheetY:33},"👌🏼":{codepoints:"1f44c-1f3fc",version:"2.0",sheetX:13,sheetY:34},"👌🏽":{codepoints:"1f44c-1f3fd",version:"2.0",sheetX:13,sheetY:35},"👌🏾":{codepoints:"1f44c-1f3fe",version:"2.0",sheetX:13,sheetY:36},"👌🏿":{codepoints:"1f44c-1f3ff",version:"2.0",sheetX:13,sheetY:37},"👌":{codepoints:"1f44c",version:"2.0",sheetX:13,sheetY:32,keywords:["ok hand sign","ok hand","hand","ok"],variations:["👌🏻","👌🏼","👌🏽","👌🏾","👌🏿"]},"🗾":{codepoints:"1f5fe",version:"2.0",sheetX:30,sheetY:33,keywords:["silhouette of japan","japan","map of japan","map"],variations:[]},"🐕":{codepoints:"1f415",version:"2.0",sheetX:11,sheetY:50,keywords:["dog","dog2","pet"],variations:[]},"🚺":{codepoints:"1f6ba",version:"2.0",sheetX:36,sheetY:11,keywords:["womens symbol","womens","women’s room","lavatory","restroom","wc","woman"],variations:[]},"👔":{codepoints:"1f454",version:"2.0",sheetX:14,sheetY:8,keywords:["necktie","clothing","tie"],variations:[]},"🏴‍☠️":{codepoints:"1f3f4-200d-2620-fe0f",version:"11.0",sheetX:11,sheetY:13,keywords:["pirate flag","jolly roger","pirate","plunder","treasure"],variations:[]},"🏴‍☠":{codepoints:"1f3f4-200d-2620-fe0f",version:"11.0",sheetX:11,sheetY:13,keywords:["pirate flag","jolly roger","pirate","plunder","treasure"],variations:[]},"🚻":{codepoints:"1f6bb",version:"2.0",sheetX:36,sheetY:12,keywords:["restroom","lavatory","wc"],variations:[]},"🧭":{codepoints:"1f9ed",version:"11.0",sheetX:51,sheetY:32,keywords:["compass","magnetic","navigation","orienteering"],variations:[]},"🤣":{codepoints:"1f923",version:"4.0",sheetX:38,sheetY:20,keywords:["rolling on the floor laughing","face","floor","laugh","rolling",":'D"],variations:[]},"🎈":{codepoints:"1f388",version:"2.0",sheetX:7,sheetY:44,keywords:["balloon","celebration"],variations:[]},"🍍":{codepoints:"1f34d",version:"2.0",sheetX:6,sheetY:37,keywords:["pineapple","fruit"],variations:[]},"👕":{codepoints:"1f455",version:"2.0",sheetX:14,sheetY:9,keywords:["t shirt","shirt","tshirt","clothing"],variations:[]},"🚼":{codepoints:"1f6bc",version:"2.0",sheetX:36,sheetY:13,keywords:["baby symbol","baby","changing"],variations:[]},"😂":{codepoints:"1f602",version:"2.0",sheetX:30,sheetY:37,keywords:["face with tears of joy","joy","face","laugh","tear",":')"],variations:[]},"🎉":{codepoints:"1f389",version:"2.0",sheetX:7,sheetY:45,keywords:["party popper","tada","celebration","party","popper"],variations:[]},"🥭":{codepoints:"1f96d",version:"11.0",sheetX:42,sheetY:3,keywords:["mango","fruit","tropical"],variations:[]},"✌🏻":{codepoints:"270c-1f3fb",version:"2.0",sheetX:54,sheetY:56},"✌🏼":{codepoints:"270c-1f3fc",version:"2.0",sheetX:55,sheetY:0},"✌🏽":{codepoints:"270c-1f3fd",version:"2.0",sheetX:55,sheetY:1},"✌🏾":{codepoints:"270c-1f3fe",version:"2.0",sheetX:55,sheetY:2},"✌🏿":{codepoints:"270c-1f3ff",version:"2.0",sheetX:55,sheetY:3},"✌️":{codepoints:"270c-fe0f",version:"2.0",sheetX:54,sheetY:55,keywords:["victory hand","v","hand","victory"],variations:["✌🏻","✌🏼","✌🏽","✌🏾","✌🏿"]},"✌":{codepoints:"270c-fe0f",version:"2.0",sheetX:54,sheetY:55,keywords:["victory hand","v","hand","victory"],variations:["✌🏻","✌🏼","✌🏽","✌🏾","✌🏿"]},"🏔️":{codepoints:"1f3d4-fe0f",version:"2.0",sheetX:10,sheetY:39,keywords:["snow capped mountain","cold","mountain","snow"],variations:[]},"🏔":{codepoints:"1f3d4-fe0f",version:"2.0",sheetX:10,sheetY:39,keywords:["snow capped mountain","cold","mountain","snow"],variations:[]},"🇦🇨":{codepoints:"1f1e6-1f1e8",version:"2.0",sheetX:0,sheetY:31,keywords:["ascension island flag","flag ac","flag: ascension island","ac","flag"],variations:[]},"👖":{codepoints:"1f456",version:"2.0",sheetX:14,sheetY:10,keywords:["jeans","clothing","pants","trousers"],variations:[]},"🐩":{codepoints:"1f429",version:"2.0",sheetX:12,sheetY:13,keywords:["poodle","dog"],variations:[]},"🤞🏻":{codepoints:"1f91e-1f3fb",version:"4.0",sheetX:38,sheetY:6},"🤞🏼":{codepoints:"1f91e-1f3fc",version:"4.0",sheetX:38,sheetY:7},"🤞🏽":{codepoints:"1f91e-1f3fd",version:"4.0",sheetX:38,sheetY:8},"🤞🏾":{codepoints:"1f91e-1f3fe",version:"4.0",sheetX:38,sheetY:9},"🤞🏿":{codepoints:"1f91e-1f3ff",version:"4.0",sheetX:38,sheetY:10},"🤞":{codepoints:"1f91e",version:"4.0",sheetX:38,sheetY:5,keywords:["hand with index and middle fingers crossed","crossed fingers","cross","finger","hand","luck"],variations:["🤞🏻","🤞🏼","🤞🏽","🤞🏾","🤞🏿"]},"🇦🇩":{codepoints:"1f1e6-1f1e9",version:"2.0",sheetX:0,sheetY:32,keywords:["andorra flag","flag ad","flag: andorra","ad","flag"],variations:[]},"🙂":{codepoints:"1f642",version:"2.0",sheetX:31,sheetY:44,keywords:["slightly smiling face","face","smile",":)"],variations:[]},"🍎":{codepoints:"1f34e",version:"2.0",sheetX:6,sheetY:38,keywords:["red apple","apple","fruit","red"],variations:[]},"🚾":{codepoints:"1f6be",version:"2.0",sheetX:36,sheetY:15,keywords:["water closet","wc","closet","lavatory","restroom","water"],variations:[]},"🧣":{codepoints:"1f9e3",version:"5.0",sheetX:51,sheetY:22,keywords:["scarf","neck"],variations:[]},"⛰️":{codepoints:"26f0-fe0f",version:"2.0",sheetX:54,sheetY:11,keywords:["mountain"],variations:[]},"⛰":{codepoints:"26f0-fe0f",version:"2.0",sheetX:54,sheetY:11,keywords:["mountain"],variations:[]},"🎊":{codepoints:"1f38a",version:"2.0",sheetX:7,sheetY:46,keywords:["confetti ball","ball","celebration","confetti"],variations:[]},"🤟🏻":{codepoints:"1f91f-1f3fb",version:"5.0",sheetX:38,sheetY:12},"🤟🏼":{codepoints:"1f91f-1f3fc",version:"5.0",sheetX:38,sheetY:13},"🤟🏽":{codepoints:"1f91f-1f3fd",version:"5.0",sheetX:38,sheetY:14},"🤟🏾":{codepoints:"1f91f-1f3fe",version:"5.0",sheetX:38,sheetY:15},"🤟🏿":{codepoints:"1f91f-1f3ff",version:"5.0",sheetX:38,sheetY:16},"🤟":{codepoints:"1f91f",version:"5.0",sheetX:38,sheetY:11,keywords:["i love you hand sign","love you gesture","hand","ily"],variations:["🤟🏻","🤟🏼","🤟🏽","🤟🏾","🤟🏿"]},"🐺":{codepoints:"1f43a",version:"2.0",sheetX:12,sheetY:30,keywords:["wolf face","wolf","face"],variations:[]},"🧤":{codepoints:"1f9e4",version:"5.0",sheetX:51,sheetY:23,keywords:["gloves","hand"],variations:[]},"🇦🇪":{codepoints:"1f1e6-1f1ea",version:"2.0",sheetX:0,sheetY:33,keywords:["united arab emirates flag","flag ae","flag: united arab emirates","ae","flag"],variations:[]},"🙃":{codepoints:"1f643",version:"2.0",sheetX:31,sheetY:45,keywords:["upside down face","face","upside down"],variations:[]},"🍏":{codepoints:"1f34f",version:"2.0",sheetX:6,sheetY:39,keywords:["green apple","apple","fruit","green"],variations:[]},"🛂":{codepoints:"1f6c2",version:"2.0",sheetX:36,sheetY:24,keywords:["passport control","control","passport"],variations:[]},"🌋":{codepoints:"1f30b",version:"2.0",sheetX:5,sheetY:30,keywords:["volcano","eruption","mountain"],variations:[]},"🎋":{codepoints:"1f38b",version:"2.0",sheetX:7,sheetY:47,keywords:["tanabata tree","banner","celebration","japanese","tree"],variations:[]},"🛃":{codepoints:"1f6c3",version:"2.0",sheetX:36,sheetY:25,keywords:["customs"],variations:[]},"🧥":{codepoints:"1f9e5",version:"5.0",sheetX:51,sheetY:24,keywords:["coat","jacket"],variations:[]},"😉":{codepoints:"1f609",version:"2.0",sheetX:30,sheetY:44,keywords:["winking face","wink","face",";)"],variations:[]},"🎍":{codepoints:"1f38d",version:"2.0",sheetX:7,sheetY:49,keywords:["pine decoration","bamboo","celebration","japanese","pine"],variations:[]},"🇦🇫":{codepoints:"1f1e6-1f1eb",version:"2.0",sheetX:0,sheetY:34,keywords:["afghanistan flag","flag af","flag: afghanistan","af","flag"],variations:[]},"🦊":{codepoints:"1f98a",version:"4.0",sheetX:42,sheetY:28,keywords:["fox face","fox","face"],variations:[]},"🍐":{codepoints:"1f350",version:"2.0",sheetX:6,sheetY:40,keywords:["pear","fruit"],variations:[]},"🗻":{codepoints:"1f5fb",version:"2.0",sheetX:30,sheetY:30,keywords:["mount fuji","fuji","mountain"],variations:[]},"🤘🏻":{codepoints:"1f918-1f3fb",version:"2.0",sheetX:37,sheetY:32},"🤘🏼":{codepoints:"1f918-1f3fc",version:"2.0",sheetX:37,sheetY:33},"🤘🏽":{codepoints:"1f918-1f3fd",version:"2.0",sheetX:37,sheetY:34},"🤘🏾":{codepoints:"1f918-1f3fe",version:"2.0",sheetX:37,sheetY:35},"🤘🏿":{codepoints:"1f918-1f3ff",version:"2.0",sheetX:37,sheetY:36},"🤘":{codepoints:"1f918",version:"2.0",sheetX:37,sheetY:31,keywords:["sign of the horns","the horns","finger","hand","horns","rock on","\\m/"],variations:["🤘🏻","🤘🏼","🤘🏽","🤘🏾","🤘🏿"]},"🤙🏻":{codepoints:"1f919-1f3fb",version:"4.0",sheetX:37,sheetY:38},"🤙🏼":{codepoints:"1f919-1f3fc",version:"4.0",sheetX:37,sheetY:39},"🤙🏽":{codepoints:"1f919-1f3fd",version:"4.0",sheetX:37,sheetY:40},"🤙🏾":{codepoints:"1f919-1f3fe",version:"4.0",sheetX:37,sheetY:41},"🤙🏿":{codepoints:"1f919-1f3ff",version:"4.0",sheetX:37,sheetY:42},"🤙":{codepoints:"1f919",version:"4.0",sheetX:37,sheetY:37,keywords:["call me hand","call","hand"],variations:["🤙🏻","🤙🏼","🤙🏽","🤙🏾","🤙🏿"]},"🇦🇬":{codepoints:"1f1e6-1f1ec",version:"2.0",sheetX:0,sheetY:35,keywords:["antigua & barbuda flag","flag ag","flag: antigua & barbuda","ag","flag"],variations:[]},"🦝":{codepoints:"1f99d",version:"11.0",sheetX:42,sheetY:47,keywords:["raccoon","curious","sly"],variations:[]},"🎎":{codepoints:"1f38e",version:"2.0",sheetX:7,sheetY:50,keywords:["japanese dolls","dolls","celebration","doll","festival","japanese"],variations:[]},"😊":{codepoints:"1f60a",version:"2.0",sheetX:30,sheetY:45,keywords:["smiling face with smiling eyes","blush","eye","face","smile",":>"],variations:[]},"🍑":{codepoints:"1f351",version:"2.0",sheetX:6,sheetY:41,keywords:["peach","fruit"],variations:[]},"🛄":{codepoints:"1f6c4",version:"2.0",sheetX:36,sheetY:26,keywords:["baggage claim","baggage","claim"],variations:[]},"🧦":{codepoints:"1f9e6",version:"5.0",sheetX:51,sheetY:25,keywords:["socks","stocking"],variations:[]},"🏕️":{codepoints:"1f3d5-fe0f",version:"2.0",sheetX:10,sheetY:40,keywords:["camping"],variations:[]},"🏕":{codepoints:"1f3d5-fe0f",version:"2.0",sheetX:10,sheetY:40,keywords:["camping"],variations:[]},"👗":{codepoints:"1f457",version:"2.0",sheetX:14,sheetY:11,keywords:["dress","clothing"],variations:[]},"🏖️":{codepoints:"1f3d6-fe0f",version:"2.0",sheetX:10,sheetY:41,keywords:["beach with umbrella","beach","umbrella"],variations:[]},"🏖":{codepoints:"1f3d6-fe0f",version:"2.0",sheetX:10,sheetY:41,keywords:["beach with umbrella","beach","umbrella"],variations:[]},"🍒":{codepoints:"1f352",version:"2.0",sheetX:6,sheetY:42,keywords:["cherries","berries","cherry","fruit","red"],variations:[]},"🐱":{codepoints:"1f431",version:"2.0",sheetX:12,sheetY:21,keywords:["cat face","cat","face","pet"],variations:[]},"👈🏻":{codepoints:"1f448-1f3fb",version:"2.0",sheetX:13,sheetY:9},"👈🏼":{codepoints:"1f448-1f3fc",version:"2.0",sheetX:13,sheetY:10},"👈🏽":{codepoints:"1f448-1f3fd",version:"2.0",sheetX:13,sheetY:11},"👈🏾":{codepoints:"1f448-1f3fe",version:"2.0",sheetX:13,sheetY:12},"👈🏿":{codepoints:"1f448-1f3ff",version:"2.0",sheetX:13,sheetY:13},"👈":{codepoints:"1f448",version:"2.0",sheetX:13,sheetY:8,keywords:["white left pointing backhand index","point left","backhand index pointing left","backhand","finger","hand","index","point"],variations:["👈🏻","👈🏼","👈🏽","👈🏾","👈🏿"]},"🛅":{codepoints:"1f6c5",version:"2.0",sheetX:36,sheetY:27,keywords:["left luggage","baggage","locker","luggage"],variations:[]},"🇦🇮":{codepoints:"1f1e6-1f1ee",version:"2.0",sheetX:0,sheetY:36,keywords:["anguilla flag","flag ai","flag: anguilla","ai","flag"],variations:[]},"😇":{codepoints:"1f607",version:"2.0",sheetX:30,sheetY:42,keywords:["smiling face with halo","innocent","angel","face","fantasy","halo","o:)"],variations:[]},"🎏":{codepoints:"1f38f",version:"2.0",sheetX:7,sheetY:51,keywords:["carp streamer","flags","carp","celebration","streamer"],variations:[]},"⚠️":{codepoints:"26a0-fe0f",version:"2.0",sheetX:53,sheetY:50,keywords:["warning sign","warning"],variations:[]},"⚠":{codepoints:"26a0-fe0f",version:"2.0",sheetX:53,sheetY:50,keywords:["warning sign","warning"],variations:[]},"🍓":{codepoints:"1f353",version:"2.0",sheetX:6,sheetY:43,keywords:["strawberry","berry","fruit"],variations:[]},"👉🏻":{codepoints:"1f449-1f3fb",version:"2.0",sheetX:13,sheetY:15},"👉🏼":{codepoints:"1f449-1f3fc",version:"2.0",sheetX:13,sheetY:16},"👉🏽":{codepoints:"1f449-1f3fd",version:"2.0",sheetX:13,sheetY:17},"👉🏾":{codepoints:"1f449-1f3fe",version:"2.0",sheetX:13,sheetY:18},"👉🏿":{codepoints:"1f449-1f3ff",version:"2.0",sheetX:13,sheetY:19},"👉":{codepoints:"1f449",version:"2.0",sheetX:13,sheetY:14,keywords:["white right pointing backhand index","point right","backhand index pointing right","backhand","finger","hand","index","point"],variations:["👉🏻","👉🏼","👉🏽","👉🏾","👉🏿"]},"🏜️":{codepoints:"1f3dc-fe0f",version:"2.0",sheetX:10,sheetY:47,keywords:["desert"],variations:[]},"🏜":{codepoints:"1f3dc-fe0f",version:"2.0",sheetX:10,sheetY:47,keywords:["desert"],variations:[]},"👘":{codepoints:"1f458",version:"2.0",sheetX:14,sheetY:12,keywords:["kimono","clothing"],variations:[]},"🇦🇱":{codepoints:"1f1e6-1f1f1",version:"2.0",sheetX:0,sheetY:37,keywords:["albania flag","flag al","flag: albania","al","flag"],variations:[]},"🎐":{codepoints:"1f390",version:"2.0",sheetX:7,sheetY:52,keywords:["wind chime","bell","celebration","chime","wind"],variations:[]},"🥰":{codepoints:"1f970",version:"11.0",sheetX:42,sheetY:6,keywords:["smiling face with smiling eyes and three hearts","smiling face with 3 hearts","smiling face with hearts","adore","crush","hearts","in love"],variations:[]},"🐈":{codepoints:"1f408",version:"2.0",sheetX:11,sheetY:36,keywords:["cat","cat2","pet"],variations:[]},"🎑":{codepoints:"1f391",version:"2.0",sheetX:7,sheetY:53,keywords:["moon viewing ceremony","rice scene","celebration","ceremony","moon"],variations:[]},"😍":{codepoints:"1f60d",version:"2.0",sheetX:30,sheetY:48,keywords:["smiling face with heart shaped eyes","heart eyes","smiling face with heart eyes","eye","face","love","smile"],variations:[]},"🇦🇲":{codepoints:"1f1e6-1f1f2",version:"2.0",sheetX:0,sheetY:38,keywords:["armenia flag","flag am","flag: armenia","am","flag"],variations:[]},"🦁":{codepoints:"1f981",version:"2.0",sheetX:42,sheetY:19,keywords:["lion face","lion","face","leo","zodiac"],variations:[]},"🏝️":{codepoints:"1f3dd-fe0f",version:"2.0",sheetX:10,sheetY:48,keywords:["desert island","desert","island"],variations:[]},"🏝":{codepoints:"1f3dd-fe0f",version:"2.0",sheetX:10,sheetY:48,keywords:["desert island","desert","island"],variations:[]},"👆🏻":{codepoints:"1f446-1f3fb",version:"2.0",sheetX:12,sheetY:54},"👆🏼":{codepoints:"1f446-1f3fc",version:"2.0",sheetX:12,sheetY:55},"👆🏽":{codepoints:"1f446-1f3fd",version:"2.0",sheetX:12,sheetY:56},"👆🏾":{codepoints:"1f446-1f3fe",version:"2.0",sheetX:13,sheetY:0},"👆🏿":{codepoints:"1f446-1f3ff",version:"2.0",sheetX:13,sheetY:1},"👆":{codepoints:"1f446",version:"2.0",sheetX:12,sheetY:53,keywords:["white up pointing backhand index","point up 2","backhand index pointing up","backhand","finger","hand","point","up"],variations:["👆🏻","👆🏼","👆🏽","👆🏾","👆🏿"]},"🥝":{codepoints:"1f95d",version:"4.0",sheetX:41,sheetY:44,keywords:["kiwifruit","kiwi fruit","food","fruit","kiwi"],variations:[]},"🚸":{codepoints:"1f6b8",version:"2.0",sheetX:36,sheetY:9,keywords:["children crossing","child","crossing","pedestrian","traffic"],variations:[]},"🏞️":{codepoints:"1f3de-fe0f",version:"2.0",sheetX:10,sheetY:49,keywords:["national park","park"],variations:[]},"🏞":{codepoints:"1f3de-fe0f",version:"2.0",sheetX:10,sheetY:49,keywords:["national park","park"],variations:[]},"⛔":{codepoints:"26d4",version:"2.0",sheetX:54,sheetY:8,keywords:["no entry","entry","forbidden","no","not","prohibited","traffic"],variations:[]},"🐯":{codepoints:"1f42f",version:"2.0",sheetX:12,sheetY:19,keywords:["tiger face","tiger","face"],variations:[]},"🧧":{codepoints:"1f9e7",version:"11.0",sheetX:51,sheetY:26,keywords:["red gift envelope","red envelope","gift","good luck","hóngbāo","lai see","money"],variations:[]},"🤩":{codepoints:"1f929",version:"5.0",sheetX:38,sheetY:43,keywords:["grinning face with star eyes","star struck","eyes","face","grinning","star"],variations:[]},"🖕🏻":{codepoints:"1f595-1f3fb",version:"2.0",sheetX:29,sheetY:55},"🖕🏼":{codepoints:"1f595-1f3fc",version:"2.0",sheetX:29,sheetY:56},"🖕🏽":{codepoints:"1f595-1f3fd",version:"2.0",sheetX:30,sheetY:0},"🖕🏾":{codepoints:"1f595-1f3fe",version:"2.0",sheetX:30,sheetY:1},"🖕🏿":{codepoints:"1f595-1f3ff",version:"2.0",sheetX:30,sheetY:2},"🖕":{codepoints:"1f595",version:"2.0",sheetX:29,sheetY:54,keywords:["reversed hand with middle finger extended","middle finger","finger","hand"],variations:["🖕🏻","🖕🏼","🖕🏽","🖕🏾","🖕🏿"]},"🇦🇴":{codepoints:"1f1e6-1f1f4",version:"2.0",sheetX:0,sheetY:39,keywords:["angola flag","flag ao","flag: angola","ao","flag"],variations:[]},"🍅":{codepoints:"1f345",version:"2.0",sheetX:6,sheetY:29,keywords:["tomato","fruit","vegetable"],variations:[]},"🥥":{codepoints:"1f965",version:"5.0",sheetX:41,sheetY:52,keywords:["coconut","palm","piña colada"],variations:[]},"🎀":{codepoints:"1f380",version:"2.0",sheetX:7,sheetY:31,keywords:["ribbon","celebration"],variations:[]},"🚫":{codepoints:"1f6ab",version:"2.0",sheetX:35,sheetY:2,keywords:["no entry sign","prohibited","entry","forbidden","no","not"],variations:[]},"👇🏻":{codepoints:"1f447-1f3fb",version:"2.0",sheetX:13,sheetY:3},"👇🏼":{codepoints:"1f447-1f3fc",version:"2.0",sheetX:13,sheetY:4},"👇🏽":{codepoints:"1f447-1f3fd",version:"2.0",sheetX:13,sheetY:5},"👇🏾":{codepoints:"1f447-1f3fe",version:"2.0",sheetX:13,sheetY:6},"👇🏿":{codepoints:"1f447-1f3ff",version:"2.0",sheetX:13,sheetY:7},"👇":{codepoints:"1f447",version:"2.0",sheetX:13,sheetY:2,keywords:["white down pointing backhand index","point down","backhand index pointing down","backhand","down","finger","hand","point"],variations:["👇🏻","👇🏼","👇🏽","👇🏾","👇🏿"]},"🇦🇶":{codepoints:"1f1e6-1f1f6",version:"2.0",sheetX:0,sheetY:40,keywords:["antarctica flag","flag aq","flag: antarctica","aq","flag"],variations:[]},"😘":{codepoints:"1f618",version:"2.0",sheetX:31,sheetY:2,keywords:["face throwing a kiss","kissing heart","face blowing a kiss","face","kiss",":x"],variations:[]},"🐅":{codepoints:"1f405",version:"2.0",sheetX:11,sheetY:33,keywords:["tiger","tiger2"],variations:[]},"🏟️":{codepoints:"1f3df-fe0f",version:"2.0",sheetX:10,sheetY:50,keywords:["stadium"],variations:[]},"🏟":{codepoints:"1f3df-fe0f",version:"2.0",sheetX:10,sheetY:50,keywords:["stadium"],variations:[]},"🐆":{codepoints:"1f406",version:"2.0",sheetX:11,sheetY:34,keywords:["leopard"],variations:[]},"🚳":{codepoints:"1f6b3",version:"2.0",sheetX:35,sheetY:10,keywords:["no bicycles","bicycle","bike","forbidden","no","prohibited"],variations:[]},"😗":{codepoints:"1f617",version:"2.0",sheetX:31,sheetY:1,keywords:["kissing face","kissing","face","kiss"],variations:[]},"🇦🇷":{codepoints:"1f1e6-1f1f7",version:"2.0",sheetX:0,sheetY:41,keywords:["argentina flag","flag ar","flag: argentina","ar","flag"],variations:[]},"🥑":{codepoints:"1f951",version:"4.0",sheetX:41,sheetY:32,keywords:["avocado","food","fruit"],variations:[]},"☝🏻":{codepoints:"261d-1f3fb",version:"2.0",sheetX:53,sheetY:3},"☝🏼":{codepoints:"261d-1f3fc",version:"2.0",sheetX:53,sheetY:4},"☝🏽":{codepoints:"261d-1f3fd",version:"2.0",sheetX:53,sheetY:5},"☝🏾":{codepoints:"261d-1f3fe",version:"2.0",sheetX:53,sheetY:6},"☝🏿":{codepoints:"261d-1f3ff",version:"2.0",sheetX:53,sheetY:7},"☝️":{codepoints:"261d-fe0f",version:"2.0",sheetX:53,sheetY:2,keywords:["white up pointing index","point up","index pointing up","finger","hand","index","point","up"],variations:["☝🏻","☝🏼","☝🏽","☝🏾","☝🏿"]},"☝":{codepoints:"261d-fe0f",version:"2.0",sheetX:53,sheetY:2,keywords:["white up pointing index","point up","index pointing up","finger","hand","index","point","up"],variations:["☝🏻","☝🏼","☝🏽","☝🏾","☝🏿"]},"🎁":{codepoints:"1f381",version:"2.0",sheetX:7,sheetY:32,keywords:["wrapped present","gift","wrapped gift","box","celebration","present","wrapped"],variations:[]},"🏛️":{codepoints:"1f3db-fe0f",version:"2.0",sheetX:10,sheetY:46,keywords:["classical building","classical"],variations:[]},"🏛":{codepoints:"1f3db-fe0f",version:"2.0",sheetX:10,sheetY:46,keywords:["classical building","classical"],variations:[]},"👍🏻":{codepoints:"1f44d-1f3fb",version:"2.0",sheetX:13,sheetY:39},"👍🏼":{codepoints:"1f44d-1f3fc",version:"2.0",sheetX:13,sheetY:40},"👍🏽":{codepoints:"1f44d-1f3fd",version:"2.0",sheetX:13,sheetY:41},"👍🏾":{codepoints:"1f44d-1f3fe",version:"2.0",sheetX:13,sheetY:42},"👍🏿":{codepoints:"1f44d-1f3ff",version:"2.0",sheetX:13,sheetY:43},"👍":{codepoints:"1f44d",version:"2.0",sheetX:13,sheetY:38,keywords:["thumbs up sign","+1","thumbsup","thumbs up","hand","thumb","up"],variations:["👍🏻","👍🏼","👍🏽","👍🏾","👍🏿"]},"🐴":{codepoints:"1f434",version:"2.0",sheetX:12,sheetY:24,keywords:["horse face","horse","face"],variations:[]},"👙":{codepoints:"1f459",version:"2.0",sheetX:14,sheetY:13,keywords:["bikini","clothing","swim"],variations:[]},"🚭":{codepoints:"1f6ad",version:"2.0",sheetX:35,sheetY:4,keywords:["no smoking symbol","no smoking","forbidden","no","not","prohibited","smoking"],variations:[]},"🍆":{codepoints:"1f346",version:"2.0",sheetX:6,sheetY:30,keywords:["aubergine","eggplant","vegetable"],variations:[]},"🇦🇸":{codepoints:"1f1e6-1f1f8",version:"2.0",sheetX:0,sheetY:42,keywords:["american samoa flag","flag as","flag: american samoa","as","flag"],variations:[]},"🎗️":{codepoints:"1f397-fe0f",version:"2.0",sheetX:8,sheetY:0,keywords:["reminder ribbon","celebration","reminder","ribbon"],variations:[]},"🎗":{codepoints:"1f397-fe0f",version:"2.0",sheetX:8,sheetY:0,keywords:["reminder ribbon","celebration","reminder","ribbon"],variations:[]},"🏗️":{codepoints:"1f3d7-fe0f",version:"2.0",sheetX:10,sheetY:42,keywords:["building construction","construction"],variations:[]},"🏗":{codepoints:"1f3d7-fe0f",version:"2.0",sheetX:10,sheetY:42,keywords:["building construction","construction"],variations:[]},"☺️":{codepoints:"263a-fe0f",version:"2.0",sheetX:53,sheetY:17,keywords:["white smiling face","relaxed","smiling face","face","outlined","smile"],variations:[]},"☺":{codepoints:"263a-fe0f",version:"2.0",sheetX:53,sheetY:17,keywords:["white smiling face","relaxed","smiling face","face","outlined","smile"],variations:[]},"😚":{codepoints:"1f61a",version:"2.0",sheetX:31,sheetY:4,keywords:["kissing face with closed eyes","kissing closed eyes","closed","eye","face","kiss",":*"],variations:[]},"👎🏻":{codepoints:"1f44e-1f3fb",version:"2.0",sheetX:13,sheetY:45},"👎🏼":{codepoints:"1f44e-1f3fc",version:"2.0",sheetX:13,sheetY:46},"👎🏽":{codepoints:"1f44e-1f3fd",version:"2.0",sheetX:13,sheetY:47},"👎🏾":{codepoints:"1f44e-1f3fe",version:"2.0",sheetX:13,sheetY:48},"👎🏿":{codepoints:"1f44e-1f3ff",version:"2.0",sheetX:13,sheetY:49},"👎":{codepoints:"1f44e",version:"2.0",sheetX:13,sheetY:44,keywords:["thumbs down sign","-1","thumbsdown","thumbs down","down","hand","thumb"],variations:["👎🏻","👎🏼","👎🏽","👎🏾","👎🏿"]},"🎟️":{codepoints:"1f39f-fe0f",version:"2.0",sheetX:8,sheetY:5,keywords:["admission tickets","admission","ticket"],variations:[]},"🎟":{codepoints:"1f39f-fe0f",version:"2.0",sheetX:8,sheetY:5,keywords:["admission tickets","admission","ticket"],variations:[]},"🇦🇹":{codepoints:"1f1e6-1f1f9",version:"2.0",sheetX:0,sheetY:43,keywords:["austria flag","flag at","flag: austria","at","flag"],variations:[]},"👚":{codepoints:"1f45a",version:"2.0",sheetX:14,sheetY:14,keywords:["womans clothes","woman’s clothes","clothing","woman"],variations:[]},"🚯":{codepoints:"1f6af",version:"2.0",sheetX:35,sheetY:6,keywords:["do not litter symbol","do not litter","no littering","forbidden","litter","no","not","prohibited"],variations:[]},"🥔":{codepoints:"1f954",version:"4.0",sheetX:41,sheetY:35,keywords:["potato","food","vegetable"],variations:[]},"🐎":{codepoints:"1f40e",version:"2.0",sheetX:11,sheetY:42,keywords:["horse","racehorse","equestrian","racing"],variations:[]},"🧱":{codepoints:"1f9f1",version:"11.0",sheetX:51,sheetY:36,keywords:["brick","bricks","clay","mortar","wall"],variations:[]},"✊🏻":{codepoints:"270a-1f3fb",version:"2.0",sheetX:54,sheetY:44},"✊🏼":{codepoints:"270a-1f3fc",version:"2.0",sheetX:54,sheetY:45},"✊🏽":{codepoints:"270a-1f3fd",version:"2.0",sheetX:54,sheetY:46},"✊🏾":{codepoints:"270a-1f3fe",version:"2.0",sheetX:54,sheetY:47},"✊🏿":{codepoints:"270a-1f3ff",version:"2.0",sheetX:54,sheetY:48},"✊":{codepoints:"270a",version:"2.0",sheetX:54,sheetY:43,keywords:["raised fist","fist","clenched","hand","punch"],variations:["✊🏻","✊🏼","✊🏽","✊🏾","✊🏿"]},"🏘️":{codepoints:"1f3d8-fe0f",version:"2.0",sheetX:10,sheetY:43,keywords:["house buildings","houses"],variations:[]},"🏘":{codepoints:"1f3d8-fe0f",version:"2.0",sheetX:10,sheetY:43,keywords:["house buildings","houses"],variations:[]},"🥕":{codepoints:"1f955",version:"4.0",sheetX:41,sheetY:36,keywords:["carrot","food","vegetable"],variations:[]},"🎫":{codepoints:"1f3ab",version:"2.0",sheetX:8,sheetY:17,keywords:["ticket","admission"],variations:[]},"🇦🇺":{codepoints:"1f1e6-1f1fa",version:"2.0",sheetX:0,sheetY:44,keywords:["australia flag","flag au","flag: australia","au","flag"],variations:[]},"🚱":{codepoints:"1f6b1",version:"2.0",sheetX:35,sheetY:8,keywords:["non potable water symbol","non potable water","non drinking","non potable","water"],variations:[]},"👛":{codepoints:"1f45b",version:"2.0",sheetX:14,sheetY:15,keywords:["purse","clothing","coin"],variations:[]},"🦄":{codepoints:"1f984",version:"2.0",sheetX:42,sheetY:22,keywords:["unicorn face","unicorn","face"],variations:[]},"😙":{codepoints:"1f619",version:"2.0",sheetX:31,sheetY:3,keywords:["kissing face with smiling eyes","kissing smiling eyes","eye","face","kiss","smile"],variations:[]},"👊🏻":{codepoints:"1f44a-1f3fb",version:"2.0",sheetX:13,sheetY:21},"👊🏼":{codepoints:"1f44a-1f3fc",version:"2.0",sheetX:13,sheetY:22},"👊🏽":{codepoints:"1f44a-1f3fd",version:"2.0",sheetX:13,sheetY:23},"👊🏾":{codepoints:"1f44a-1f3fe",version:"2.0",sheetX:13,sheetY:24},"👊🏿":{codepoints:"1f44a-1f3ff",version:"2.0",sheetX:13,sheetY:25},"👊":{codepoints:"1f44a",version:"2.0",sheetX:13,sheetY:20,keywords:["fisted hand sign","facepunch","punch","oncoming fist","clenched","fist","hand"],variations:["👊🏻","👊🏼","👊🏽","👊🏾","👊🏿"]},"🎖️":{codepoints:"1f396-fe0f",version:"2.0",sheetX:7,sheetY:56,keywords:["medal","military medal","celebration","military"],variations:[]},"🎖":{codepoints:"1f396-fe0f",version:"2.0",sheetX:7,sheetY:56,keywords:["medal","military medal","celebration","military"],variations:[]},"🦓":{codepoints:"1f993",version:"5.0",sheetX:42,sheetY:37,keywords:["zebra face","zebra","stripe"],variations:[]},"👜":{codepoints:"1f45c",version:"2.0",sheetX:14,sheetY:16,keywords:["handbag","bag","clothing","purse"],variations:[]},"🏚️":{codepoints:"1f3da-fe0f",version:"2.0",sheetX:10,sheetY:45,keywords:["derelict house building","derelict house","derelict","house"],variations:[]},"🏚":{codepoints:"1f3da-fe0f",version:"2.0",sheetX:10,sheetY:45,keywords:["derelict house building","derelict house","derelict","house"],variations:[]},"😋":{codepoints:"1f60b",version:"2.0",sheetX:30,sheetY:46,keywords:["face savouring delicious food","yum","face savoring food","delicious","face","savouring","smile"],variations:[]},"🌽":{codepoints:"1f33d",version:"2.0",sheetX:6,sheetY:21,keywords:["ear of maize","corn","ear of corn","ear","maize","maze"],variations:[]},"🇦🇼":{codepoints:"1f1e6-1f1fc",version:"2.0",sheetX:0,sheetY:45,keywords:["aruba flag","flag aw","flag: aruba","aw","flag"],variations:[]},"🚷":{codepoints:"1f6b7",version:"2.0",sheetX:36,sheetY:8,keywords:["no pedestrians","forbidden","no","not","pedestrian","prohibited"],variations:[]},"🏠":{codepoints:"1f3e0",version:"2.0",sheetX:10,sheetY:51,keywords:["house building","house","home"],variations:[]},"🌶️":{codepoints:"1f336-fe0f",version:"2.0",sheetX:6,sheetY:14,keywords:["hot pepper","hot","pepper"],variations:[]},"🌶":{codepoints:"1f336-fe0f",version:"2.0",sheetX:6,sheetY:14,keywords:["hot pepper","hot","pepper"],variations:[]},"🇦🇽":{codepoints:"1f1e6-1f1fd",version:"2.0",sheetX:0,sheetY:46,keywords:["åland islands flag","flag ax","flag: åland islands","ax","flag"],variations:[]},"🏆":{codepoints:"1f3c6",version:"2.0",sheetX:9,sheetY:26,keywords:["trophy","prize"],variations:[]},"🦌":{codepoints:"1f98c",version:"4.0",sheetX:42,sheetY:30,keywords:["deer"],variations:[]},"🤛🏻":{codepoints:"1f91b-1f3fb",version:"4.0",sheetX:37,sheetY:50},"🤛🏼":{codepoints:"1f91b-1f3fc",version:"4.0",sheetX:37,sheetY:51},"🤛🏽":{codepoints:"1f91b-1f3fd",version:"4.0",sheetX:37,sheetY:52},"🤛🏾":{codepoints:"1f91b-1f3fe",version:"4.0",sheetX:37,sheetY:53},"🤛🏿":{codepoints:"1f91b-1f3ff",version:"4.0",sheetX:37,sheetY:54},"🤛":{codepoints:"1f91b",version:"4.0",sheetX:37,sheetY:49,keywords:["left facing fist","fist","leftwards"],variations:["🤛🏻","🤛🏼","🤛🏽","🤛🏾","🤛🏿"]},"😛":{codepoints:"1f61b",version:"2.0",sheetX:31,sheetY:5,keywords:["face with stuck out tongue","stuck out tongue","face with tongue","face","tongue",":p"],variations:[]},"👝":{codepoints:"1f45d",version:"2.0",sheetX:14,sheetY:17,keywords:["pouch","clutch bag","bag","clothing"],variations:[]},"📵":{codepoints:"1f4f5",version:"2.0",sheetX:27,sheetY:18,keywords:["no mobile phones","cell","forbidden","mobile","no","phone"],variations:[]},"😜":{codepoints:"1f61c",version:"2.0",sheetX:31,sheetY:6,keywords:["face with stuck out tongue and winking eye","stuck out tongue winking eye","winking face with tongue","eye","face","joke","tongue","wink",";p"],variations:[]},"🏅":{codepoints:"1f3c5",version:"2.0",sheetX:9,sheetY:25,keywords:["sports medal","medal"],variations:[]},"🥒":{codepoints:"1f952",version:"4.0",sheetX:41,sheetY:33,keywords:["cucumber","food","pickle","vegetable"],variations:[]},"🐮":{codepoints:"1f42e",version:"2.0",sheetX:12,sheetY:18,keywords:["cow face","cow","face"],variations:[]},"🔞":{codepoints:"1f51e",version:"2.0",sheetX:28,sheetY:1,keywords:["no one under eighteen symbol","underage","no one under eighteen","18","age restriction","eighteen","prohibited"],variations:[]},"🇦🇿":{codepoints:"1f1e6-1f1ff",version:"2.0",sheetX:0,sheetY:47,keywords:["azerbaijan flag","flag az","flag: azerbaijan","az","flag"],variations:[]},"🛍️":{codepoints:"1f6cd-fe0f",version:"2.0",sheetX:36,sheetY:35,keywords:["shopping bags","bag","hotel","shopping"],variations:[]},"🛍":{codepoints:"1f6cd-fe0f",version:"2.0",sheetX:36,sheetY:35,keywords:["shopping bags","bag","hotel","shopping"],variations:[]},"🤜🏻":{codepoints:"1f91c-1f3fb",version:"4.0",sheetX:37,sheetY:56},"🤜🏼":{codepoints:"1f91c-1f3fc",version:"4.0",sheetX:38,sheetY:0},"🤜🏽":{codepoints:"1f91c-1f3fd",version:"4.0",sheetX:38,sheetY:1},"🤜🏾":{codepoints:"1f91c-1f3fe",version:"4.0",sheetX:38,sheetY:2},"🤜🏿":{codepoints:"1f91c-1f3ff",version:"4.0",sheetX:38,sheetY:3},"🤜":{codepoints:"1f91c",version:"4.0",sheetX:37,sheetY:55,keywords:["right facing fist","fist","rightwards"],variations:["🤜🏻","🤜🏼","🤜🏽","🤜🏾","🤜🏿"]},"🏡":{codepoints:"1f3e1",version:"2.0",sheetX:10,sheetY:52,keywords:["house with garden","garden","home","house"],variations:[]},"👏🏻":{codepoints:"1f44f-1f3fb",version:"2.0",sheetX:13,sheetY:51},"👏🏼":{codepoints:"1f44f-1f3fc",version:"2.0",sheetX:13,sheetY:52},"👏🏽":{codepoints:"1f44f-1f3fd",version:"2.0",sheetX:13,sheetY:53},"👏🏾":{codepoints:"1f44f-1f3fe",version:"2.0",sheetX:13,sheetY:54},"👏🏿":{codepoints:"1f44f-1f3ff",version:"2.0",sheetX:13,sheetY:55},"👏":{codepoints:"1f44f",version:"2.0",sheetX:13,sheetY:50,keywords:["clapping hands sign","clap","clapping hands","hand"],variations:["👏🏻","👏🏼","👏🏽","👏🏾","👏🏿"]},"🥬":{codepoints:"1f96c",version:"11.0",sheetX:42,sheetY:2,keywords:["leafy green","bok choy","cabbage","kale","lettuce"],variations:[]},"🏢":{codepoints:"1f3e2",version:"2.0",sheetX:10,sheetY:53,keywords:["office building","office","building"],variations:[]},"🇧🇦":{codepoints:"1f1e7-1f1e6",version:"2.0",sheetX:0,sheetY:48,keywords:["bosnia & herzegovina flag","flag ba","flag: bosnia & herzegovina","ba","flag"],variations:[]},"🤪":{codepoints:"1f92a",version:"5.0",sheetX:38,sheetY:44,keywords:["grinning face with one large and one small eye","zany face","eye","goofy","large","small"],variations:[]},"🥇":{codepoints:"1f947",version:"4.0",sheetX:41,sheetY:22,keywords:["first place medal","1st place medal","first","gold","medal"],variations:[]},"🐂":{codepoints:"1f402",version:"2.0",sheetX:11,sheetY:30,keywords:["ox","bull","taurus","zodiac"],variations:[]},"🎒":{codepoints:"1f392",version:"2.0",sheetX:7,sheetY:54,keywords:["school satchel","backpack","bag","rucksack","satchel","school"],variations:[]},"☢️":{codepoints:"2622-fe0f",version:"2.0",sheetX:53,sheetY:9,keywords:["radioactive sign","radioactive","sign"],variations:[]},"☢":{codepoints:"2622-fe0f",version:"2.0",sheetX:53,sheetY:9,keywords:["radioactive sign","radioactive","sign"],variations:[]},"🥈":{codepoints:"1f948",version:"4.0",sheetX:41,sheetY:23,keywords:["second place medal","2nd place medal","medal","second","silver"],variations:[]},"😝":{codepoints:"1f61d",version:"2.0",sheetX:31,sheetY:7,keywords:["face with stuck out tongue and tightly closed eyes","stuck out tongue closed eyes","squinting face with tongue","eye","face","horrible","taste","tongue","xp"],variations:[]},"🥦":{codepoints:"1f966",version:"5.0",sheetX:41,sheetY:53,keywords:["broccoli","wild cabbage"],variations:[]},"☣️":{codepoints:"2623-fe0f",version:"2.0",sheetX:53,sheetY:10,keywords:["biohazard sign","biohazard","sign"],variations:[]},"☣":{codepoints:"2623-fe0f",version:"2.0",sheetX:53,sheetY:10,keywords:["biohazard sign","biohazard","sign"],variations:[]},"👞":{codepoints:"1f45e",version:"2.0",sheetX:14,sheetY:18,keywords:["mans shoe","shoe","man’s shoe","clothing","man"],variations:[]},"🙌🏻":{codepoints:"1f64c-1f3fb",version:"2.0",sheetX:33,sheetY:9},"🙌🏼":{codepoints:"1f64c-1f3fc",version:"2.0",sheetX:33,sheetY:10},"🙌🏽":{codepoints:"1f64c-1f3fd",version:"2.0",sheetX:33,sheetY:11},"🙌🏾":{codepoints:"1f64c-1f3fe",version:"2.0",sheetX:33,sheetY:12},"🙌🏿":{codepoints:"1f64c-1f3ff",version:"2.0",sheetX:33,sheetY:13},"🙌":{codepoints:"1f64c",version:"2.0",sheetX:33,sheetY:8,keywords:["person raising both hands in celebration","raised hands","raising hands","celebration","gesture","hand","hooray","raised"],variations:["🙌🏻","🙌🏼","🙌🏽","🙌🏾","🙌🏿"]},"🏣":{codepoints:"1f3e3",version:"2.0",sheetX:10,sheetY:54,keywords:["japanese post office","post office","japanese","post"],variations:[]},"🇧🇧":{codepoints:"1f1e7-1f1e7",version:"2.0",sheetX:0,sheetY:49,keywords:["barbados flag","flag bb","flag: barbados","bb","flag"],variations:[]},"🐃":{codepoints:"1f403",version:"2.0",sheetX:11,sheetY:31,keywords:["water buffalo","buffalo","water"],variations:[]},"🥉":{codepoints:"1f949",version:"4.0",sheetX:41,sheetY:24,keywords:["third place medal","3rd place medal","bronze","medal","third"],variations:[]},"🏤":{codepoints:"1f3e4",version:"2.0",sheetX:10,sheetY:55,keywords:["european post office","post office","european","post"],variations:[]},"👟":{codepoints:"1f45f",version:"2.0",sheetX:14,sheetY:19,keywords:["athletic shoe","running shoe","athletic","clothing","shoe","sneaker"],variations:[]},"⬆️":{codepoints:"2b06-fe0f",version:"2.0",sheetX:55,sheetY:38,keywords:["upwards black arrow","arrow up","up arrow","arrow","cardinal","direction","north"],variations:[]},"⬆":{codepoints:"2b06-fe0f",version:"2.0",sheetX:55,sheetY:38,keywords:["upwards black arrow","arrow up","up arrow","arrow","cardinal","direction","north"],variations:[]},"🐄":{codepoints:"1f404",version:"2.0",sheetX:11,sheetY:32,keywords:["cow","cow2"],variations:[]},"👐🏻":{codepoints:"1f450-1f3fb",version:"2.0",sheetX:14,sheetY:0},"👐🏼":{codepoints:"1f450-1f3fc",version:"2.0",sheetX:14,sheetY:1},"👐🏽":{codepoints:"1f450-1f3fd",version:"2.0",sheetX:14,sheetY:2},"👐🏾":{codepoints:"1f450-1f3fe",version:"2.0",sheetX:14,sheetY:3},"👐🏿":{codepoints:"1f450-1f3ff",version:"2.0",sheetX:14,sheetY:4},"👐":{codepoints:"1f450",version:"2.0",sheetX:13,sheetY:56,keywords:["open hands sign","open hands","hand","open"],variations:["👐🏻","👐🏼","👐🏽","👐🏾","👐🏿"]},"🤑":{codepoints:"1f911",version:"2.0",sheetX:37,sheetY:24,keywords:["money mouth face","face","money","mouth"],variations:[]},"🇧🇩":{codepoints:"1f1e7-1f1e9",version:"2.0",sheetX:0,sheetY:50,keywords:["bangladesh flag","flag bd","flag: bangladesh","bd","flag"],variations:[]},"⚽":{codepoints:"26bd",version:"2.0",sheetX:53,sheetY:56,keywords:["soccer ball","soccer","ball","football"],variations:[]},"🤗":{codepoints:"1f917",version:"2.0",sheetX:37,sheetY:30,keywords:["hugging face","face","hug","hugging"],variations:[]},"↗️":{codepoints:"2197-fe0f",version:"2.0",sheetX:52,sheetY:17,keywords:["north east arrow","arrow upper right","up right arrow","arrow","direction","intercardinal","northeast"],variations:[]},"↗":{codepoints:"2197-fe0f",version:"2.0",sheetX:52,sheetY:17,keywords:["north east arrow","arrow upper right","up right arrow","arrow","direction","intercardinal","northeast"],variations:[]},"🤲🏻":{codepoints:"1f932-1f3fb",version:"5.0",sheetX:39,sheetY:6},"🤲🏼":{codepoints:"1f932-1f3fc",version:"5.0",sheetX:39,sheetY:7},"🤲🏽":{codepoints:"1f932-1f3fd",version:"5.0",sheetX:39,sheetY:8},"🤲🏾":{codepoints:"1f932-1f3fe",version:"5.0",sheetX:39,sheetY:9},"🤲🏿":{codepoints:"1f932-1f3ff",version:"5.0",sheetX:39,sheetY:10},"🤲":{codepoints:"1f932",version:"5.0",sheetX:39,sheetY:5,keywords:["palms up together","prayer"],variations:["🤲🏻","🤲🏼","🤲🏽","🤲🏾","🤲🏿"]},"🐷":{codepoints:"1f437",version:"2.0",sheetX:12,sheetY:27,keywords:["pig face","pig","face"],variations:[]},"🏥":{codepoints:"1f3e5",version:"2.0",sheetX:10,sheetY:56,keywords:["hospital","doctor","medicine"],variations:[]},"🥾":{codepoints:"1f97e",version:"11.0",sheetX:42,sheetY:16,keywords:["hiking boot","backpacking","boot","camping","hiking"],variations:[]},"🇧🇪":{codepoints:"1f1e7-1f1ea",version:"2.0",sheetX:0,sheetY:51,keywords:["belgium flag","flag be","flag: belgium","be","flag"],variations:[]},"🇧🇫":{codepoints:"1f1e7-1f1eb",version:"2.0",sheetX:0,sheetY:52,keywords:["burkina faso flag","flag bf","flag: burkina faso","bf","flag"],variations:[]},"🍄":{codepoints:"1f344",version:"2.0",sheetX:6,sheetY:28,keywords:["mushroom","toadstool"],variations:[]},"🐖":{codepoints:"1f416",version:"2.0",sheetX:11,sheetY:51,keywords:["pig","pig2","sow"],variations:[]},"⚾":{codepoints:"26be",version:"2.0",sheetX:54,sheetY:0,keywords:["baseball","ball"],variations:[]},"🤭":{codepoints:"1f92d",version:"5.0",sheetX:38,sheetY:47,keywords:["smiling face with smiling eyes and hand covering mouth","face with hand over mouth","whoops"],variations:[]},"🤝":{codepoints:"1f91d",version:"4.0",sheetX:38,sheetY:4,keywords:["handshake","agreement","hand","meeting","shake"],variations:[]},"🥿":{codepoints:"1f97f",version:"11.0",sheetX:42,sheetY:17,keywords:["flat shoe","womans flat shoe","ballet flat","slip on","slipper"],variations:[]},"🏦":{codepoints:"1f3e6",version:"2.0",sheetX:11,sheetY:0,keywords:["bank","building"],variations:[]},"➡️":{codepoints:"27a1-fe0f",version:"2.0",sheetX:55,sheetY:32,keywords:["black rightwards arrow","arrow right","right arrow","arrow","cardinal","direction","east"],variations:[]},"➡":{codepoints:"27a1-fe0f",version:"2.0",sheetX:55,sheetY:32,keywords:["black rightwards arrow","arrow right","right arrow","arrow","cardinal","direction","east"],variations:[]},"🥜":{codepoints:"1f95c",version:"4.0",sheetX:41,sheetY:43,keywords:["peanuts","food","nut","peanut","vegetable"],variations:[]},"🤫":{codepoints:"1f92b",version:"5.0",sheetX:38,sheetY:45,keywords:["face with finger covering closed lips","shushing face","quiet","shush"],variations:[]},"🙏🏻":{codepoints:"1f64f-1f3fb",version:"2.0",sheetX:33,sheetY:51},"🙏🏼":{codepoints:"1f64f-1f3fc",version:"2.0",sheetX:33,sheetY:52},"🙏🏽":{codepoints:"1f64f-1f3fd",version:"2.0",sheetX:33,sheetY:53},"🙏🏾":{codepoints:"1f64f-1f3fe",version:"2.0",sheetX:33,sheetY:54},"🙏🏿":{codepoints:"1f64f-1f3ff",version:"2.0",sheetX:33,sheetY:55},"🙏":{codepoints:"1f64f",version:"2.0",sheetX:33,sheetY:50,keywords:["person with folded hands","pray","folded hands","ask","hand","please","thanks"],variations:["🙏🏻","🙏🏼","🙏🏽","🙏🏾","🙏🏿"]},"🥎":{codepoints:"1f94e",version:"11.0",sheetX:41,sheetY:29,keywords:["softball","ball","glove","underarm"],variations:[]},"👠":{codepoints:"1f460",version:"2.0",sheetX:14,sheetY:20,keywords:["high heeled shoe","high heel","clothing","heel","shoe","woman"],variations:[]},"🇧🇬":{codepoints:"1f1e7-1f1ec",version:"2.0",sheetX:0,sheetY:53,keywords:["bulgaria flag","flag bg","flag: bulgaria","bg","flag"],variations:[]},"↘️":{codepoints:"2198-fe0f",version:"2.0",sheetX:52,sheetY:18,keywords:["south east arrow","arrow lower right","down right arrow","arrow","direction","intercardinal","southeast"],variations:[]},"↘":{codepoints:"2198-fe0f",version:"2.0",sheetX:52,sheetY:18,keywords:["south east arrow","arrow lower right","down right arrow","arrow","direction","intercardinal","southeast"],variations:[]},"🏨":{codepoints:"1f3e8",version:"2.0",sheetX:11,sheetY:2,keywords:["hotel","building"],variations:[]},"🐗":{codepoints:"1f417",version:"2.0",sheetX:11,sheetY:52,keywords:["boar","pig"],variations:[]},"👡":{codepoints:"1f461",version:"2.0",sheetX:14,sheetY:21,keywords:["womans sandal","sandal","woman’s sandal","clothing","shoe","woman"],variations:[]},"🇧🇭":{codepoints:"1f1e7-1f1ed",version:"2.0",sheetX:0,sheetY:54,keywords:["bahrain flag","flag bh","flag: bahrain","bh","flag"],variations:[]},"⬇️":{codepoints:"2b07-fe0f",version:"2.0",sheetX:55,sheetY:39,keywords:["downwards black arrow","arrow down","down arrow","arrow","cardinal","direction","down","south"],variations:[]},"⬇":{codepoints:"2b07-fe0f",version:"2.0",sheetX:55,sheetY:39,keywords:["downwards black arrow","arrow down","down arrow","arrow","cardinal","direction","down","south"],variations:[]},"🤔":{codepoints:"1f914",version:"2.0",sheetX:37,sheetY:27,keywords:["thinking face","face","thinking",":l"],variations:[]},"✍🏻":{codepoints:"270d-1f3fb",version:"2.0",sheetX:55,sheetY:5},"✍🏼":{codepoints:"270d-1f3fc",version:"2.0",sheetX:55,sheetY:6},"✍🏽":{codepoints:"270d-1f3fd",version:"2.0",sheetX:55,sheetY:7},"✍🏾":{codepoints:"270d-1f3fe",version:"2.0",sheetX:55,sheetY:8},"✍🏿":{codepoints:"270d-1f3ff",version:"2.0",sheetX:55,sheetY:9},"✍️":{codepoints:"270d-fe0f",version:"2.0",sheetX:55,sheetY:4,keywords:["writing hand","hand","write"],variations:["✍🏻","✍🏼","✍🏽","✍🏾","✍🏿"]},"✍":{codepoints:"270d-fe0f",version:"2.0",sheetX:55,sheetY:4,keywords:["writing hand","hand","write"],variations:["✍🏻","✍🏼","✍🏽","✍🏾","✍🏿"]},"🌰":{codepoints:"1f330",version:"2.0",sheetX:6,sheetY:8,keywords:["chestnut","plant"],variations:[]},"🏀":{codepoints:"1f3c0",version:"2.0",sheetX:8,sheetY:38,keywords:["basketball and hoop","basketball","ball","hoop"],variations:[]},"🐽":{codepoints:"1f43d",version:"2.0",sheetX:12,sheetY:33,keywords:["pig nose","face","nose","pig"],variations:[]},"🏩":{codepoints:"1f3e9",version:"2.0",sheetX:11,sheetY:3,keywords:["love hotel","hotel","love"],variations:[]},"💅🏻":{codepoints:"1f485-1f3fb",version:"2.0",sheetX:24,sheetY:34},"💅🏼":{codepoints:"1f485-1f3fc",version:"2.0",sheetX:24,sheetY:35},"💅🏽":{codepoints:"1f485-1f3fd",version:"2.0",sheetX:24,sheetY:36},"💅🏾":{codepoints:"1f485-1f3fe",version:"2.0",sheetX:24,sheetY:37},"💅🏿":{codepoints:"1f485-1f3ff",version:"2.0",sheetX:24,sheetY:38},"💅":{codepoints:"1f485",version:"2.0",sheetX:24,sheetY:33,keywords:["nail polish","nail care","care","cosmetics","manicure","nail","polish"],variations:["💅🏻","💅🏼","💅🏽","💅🏾","💅🏿"]},"🏐":{codepoints:"1f3d0",version:"2.0",sheetX:10,sheetY:35,keywords:["volleyball","ball","game"],variations:[]},"🇧🇮":{codepoints:"1f1e7-1f1ee",version:"2.0",sheetX:0,sheetY:55,keywords:["burundi flag","flag bi","flag: burundi","bi","flag"],variations:[]},"↙️":{codepoints:"2199-fe0f",version:"2.0",sheetX:52,sheetY:19,keywords:["south west arrow","arrow lower left","down left arrow","arrow","direction","intercardinal","southwest"],variations:[]},"↙":{codepoints:"2199-fe0f",version:"2.0",sheetX:52,sheetY:19,keywords:["south west arrow","arrow lower left","down left arrow","arrow","direction","intercardinal","southwest"],variations:[]},"🐏":{codepoints:"1f40f",version:"2.0",sheetX:11,sheetY:43,keywords:["ram","aries","male","sheep","zodiac"],variations:[]},"🤐":{codepoints:"1f910",version:"2.0",sheetX:37,sheetY:23,keywords:["zipper mouth face","face","mouth","zipper",":z"],variations:[]},"🍞":{codepoints:"1f35e",version:"2.0",sheetX:6,sheetY:54,keywords:["bread","loaf"],variations:[]},"🏪":{codepoints:"1f3ea",version:"2.0",sheetX:11,sheetY:4,keywords:["convenience store","convenience","store"],variations:[]},"👢":{codepoints:"1f462",version:"2.0",sheetX:14,sheetY:22,keywords:["womans boots","boot","woman’s boot","clothing","shoe","woman"],variations:[]},"🐑":{codepoints:"1f411",version:"2.0",sheetX:11,sheetY:45,keywords:["sheep","ewe","female"],variations:[]},"🤨":{codepoints:"1f928",version:"5.0",sheetX:38,sheetY:42,keywords:["face with one eyebrow raised","face with raised eyebrow","distrust","skeptic"],variations:[]},"🇧🇯":{codepoints:"1f1e7-1f1ef",version:"2.0",sheetX:0,sheetY:56,keywords:["benin flag","flag bj","flag: benin","bj","flag"],variations:[]},"⬅️":{codepoints:"2b05-fe0f",version:"2.0",sheetX:55,sheetY:37,keywords:["leftwards black arrow","arrow left","left arrow","arrow","cardinal","direction","west"],variations:[]},"⬅":{codepoints:"2b05-fe0f",version:"2.0",sheetX:55,sheetY:37,keywords:["leftwards black arrow","arrow left","left arrow","arrow","cardinal","direction","west"],variations:[]},"🤳🏻":{codepoints:"1f933-1f3fb",version:"4.0",sheetX:39,sheetY:12},"🤳🏼":{codepoints:"1f933-1f3fc",version:"4.0",sheetX:39,sheetY:13},"🤳🏽":{codepoints:"1f933-1f3fd",version:"4.0",sheetX:39,sheetY:14},"🤳🏾":{codepoints:"1f933-1f3fe",version:"4.0",sheetX:39,sheetY:15},"🤳🏿":{codepoints:"1f933-1f3ff",version:"4.0",sheetX:39,sheetY:16},"🤳":{codepoints:"1f933",version:"4.0",sheetX:39,sheetY:11,keywords:["selfie","camera","phone"],variations:["🤳🏻","🤳🏼","🤳🏽","🤳🏾","🤳🏿"]},"🥐":{codepoints:"1f950",version:"4.0",sheetX:41,sheetY:31,keywords:["croissant","bread","breakfast","food","french","roll"],variations:[]},"🏫":{codepoints:"1f3eb",version:"2.0",sheetX:11,sheetY:5,keywords:["school","building"],variations:[]},"🏈":{codepoints:"1f3c8",version:"2.0",sheetX:9,sheetY:33,keywords:["american football","football","american","ball"],variations:[]},"🐐":{codepoints:"1f410",version:"2.0",sheetX:11,sheetY:44,keywords:["goat","capricorn","zodiac"],variations:[]},"🏬":{codepoints:"1f3ec",version:"2.0",sheetX:11,sheetY:6,keywords:["department store","department","store"],variations:[]},"🇧🇱":{codepoints:"1f1e7-1f1f1",version:"2.0",sheetX:1,sheetY:0,keywords:["st. barthélemy flag","flag bl","flag: st. barthélemy","bl","flag"],variations:[]},"👑":{codepoints:"1f451",version:"2.0",sheetX:14,sheetY:5,keywords:["crown","clothing","king","queen"],variations:[]},"↖️":{codepoints:"2196-fe0f",version:"2.0",sheetX:52,sheetY:16,keywords:["north west arrow","arrow upper left","up left arrow","arrow","direction","intercardinal","northwest"],variations:[]},"↖":{codepoints:"2196-fe0f",version:"2.0",sheetX:52,sheetY:16,keywords:["north west arrow","arrow upper left","up left arrow","arrow","direction","intercardinal","northwest"],variations:[]},"😐":{codepoints:"1f610",version:"2.0",sheetX:30,sheetY:51,keywords:["neutral face","deadpan","face","meh","neutral",":|"],variations:[]},"🏉":{codepoints:"1f3c9",version:"2.0",sheetX:9,sheetY:34,keywords:["rugby football","ball","football","rugby"],variations:[]},"💪🏻":{codepoints:"1f4aa-1f3fb",version:"2.0",sheetX:25,sheetY:53},"💪🏼":{codepoints:"1f4aa-1f3fc",version:"2.0",sheetX:25,sheetY:54},"💪🏽":{codepoints:"1f4aa-1f3fd",version:"2.0",sheetX:25,sheetY:55},"💪🏾":{codepoints:"1f4aa-1f3fe",version:"2.0",sheetX:25,sheetY:56},"💪🏿":{codepoints:"1f4aa-1f3ff",version:"2.0",sheetX:26,sheetY:0},"💪":{codepoints:"1f4aa",version:"2.0",sheetX:25,sheetY:52,keywords:["flexed biceps","muscle","biceps","comic","flex"],variations:["💪🏻","💪🏼","💪🏽","💪🏾","💪🏿"]},"🥖":{codepoints:"1f956",version:"4.0",sheetX:41,sheetY:37,keywords:["baguette bread","baguette","bread","food","french"],variations:[]},"😑":{codepoints:"1f611",version:"2.0",sheetX:30,sheetY:52,keywords:["expressionless face","expressionless","face","inexpressive","meh","unexpressive"],variations:[]},"👒":{codepoints:"1f452",version:"2.0",sheetX:14,sheetY:6,keywords:["womans hat","woman’s hat","clothing","hat","woman"],variations:[]},"🥨":{codepoints:"1f968",version:"5.0",sheetX:41,sheetY:55,keywords:["pretzel","twisted"],variations:[]},"↕️":{codepoints:"2195-fe0f",version:"2.0",sheetX:52,sheetY:15,keywords:["up down arrow","arrow up down","arrow"],variations:[]},"↕":{codepoints:"2195-fe0f",version:"2.0",sheetX:52,sheetY:15,keywords:["up down arrow","arrow up down","arrow"],variations:[]},"🐪":{codepoints:"1f42a",version:"2.0",sheetX:12,sheetY:14,keywords:["dromedary camel","camel","dromedary","hump"],variations:[]},"🎾":{codepoints:"1f3be",version:"2.0",sheetX:8,sheetY:36,keywords:["tennis racquet and ball","tennis","ball","racquet"],variations:[]},"🇧🇲":{codepoints:"1f1e7-1f1f2",version:"2.0",sheetX:1,sheetY:1,keywords:["bermuda flag","flag bm","flag: bermuda","bm","flag"],variations:[]},"🏭":{codepoints:"1f3ed",version:"2.0",sheetX:11,sheetY:7,keywords:["factory","building"],variations:[]},"🏯":{codepoints:"1f3ef",version:"2.0",sheetX:11,sheetY:9,keywords:["japanese castle","castle","japanese"],variations:[]},"😶":{codepoints:"1f636",version:"2.0",sheetX:31,sheetY:32,keywords:["face without mouth","no mouth","face","mouth","quiet","silent",":#"],variations:[]},"🥯":{codepoints:"1f96f",version:"11.0",sheetX:42,sheetY:5,keywords:["bagel","bakery","breakfast","schmear"],variations:[]},"🐫":{codepoints:"1f42b",version:"2.0",sheetX:12,sheetY:15,keywords:["bactrian camel","camel","two hump camel","bactrian","hump"],variations:[]},"🎩":{codepoints:"1f3a9",version:"2.0",sheetX:8,sheetY:15,keywords:["top hat","tophat","clothing","hat","top"],variations:[]},"↔️":{codepoints:"2194-fe0f",version:"2.0",sheetX:52,sheetY:14,keywords:["left right arrow","arrow"],variations:[]},"↔":{codepoints:"2194-fe0f",version:"2.0",sheetX:52,sheetY:14,keywords:["left right arrow","arrow"],variations:[]},"🇧🇳":{codepoints:"1f1e7-1f1f3",version:"2.0",sheetX:1,sheetY:2,keywords:["brunei flag","flag bn","flag: brunei","bn","flag"],variations:[]},"🥏":{codepoints:"1f94f",version:"11.0",sheetX:41,sheetY:30,keywords:["flying disc","ultimate"],variations:[]},"😏":{codepoints:"1f60f",version:"2.0",sheetX:30,sheetY:50,keywords:["smirking face","smirk","face",":j"],variations:[]},"🎓":{codepoints:"1f393",version:"2.0",sheetX:7,sheetY:55,keywords:["graduation cap","mortar board","cap","celebration","clothing","graduation","hat"],variations:[]},"🏰":{codepoints:"1f3f0",version:"2.0",sheetX:11,sheetY:10,keywords:["european castle","castle","european"],variations:[]},"🦵🏻":{codepoints:"1f9b5-1f3fb",version:"11.0",sheetX:43,sheetY:6},"🦵🏼":{codepoints:"1f9b5-1f3fc",version:"11.0",sheetX:43,sheetY:7},"🦵🏽":{codepoints:"1f9b5-1f3fd",version:"11.0",sheetX:43,sheetY:8},"🦵🏾":{codepoints:"1f9b5-1f3fe",version:"11.0",sheetX:43,sheetY:9},"🦵🏿":{codepoints:"1f9b5-1f3ff",version:"11.0",sheetX:43,sheetY:10},"🦵":{codepoints:"1f9b5",version:"11.0",sheetX:43,sheetY:5,keywords:["leg","kick","limb"],variations:["🦵🏻","🦵🏼","🦵🏽","🦵🏾","🦵🏿"]},"🥞":{codepoints:"1f95e",version:"4.0",sheetX:41,sheetY:45,keywords:["pancakes","breakfast","crêpe","food","hotcake","pancake"],variations:[]},"↩️":{codepoints:"21a9-fe0f",version:"2.0",sheetX:52,sheetY:20,keywords:["leftwards arrow with hook","right arrow curving left","arrow"],variations:[]},"↩":{codepoints:"21a9-fe0f",version:"2.0",sheetX:52,sheetY:20,keywords:["leftwards arrow with hook","right arrow curving left","arrow"],variations:[]},"🇧🇴":{codepoints:"1f1e7-1f1f4",version:"2.0",sheetX:1,sheetY:3,keywords:["bolivia flag","flag bo","flag: bolivia","bo","flag"],variations:[]},"🎳":{codepoints:"1f3b3",version:"2.0",sheetX:8,sheetY:25,keywords:["bowling","ball","game"],variations:[]},"🦙":{codepoints:"1f999",version:"11.0",sheetX:42,sheetY:43,keywords:["llama","alpaca","guanaco","vicuña","wool"],variations:[]},"↪️":{codepoints:"21aa-fe0f",version:"2.0",sheetX:52,sheetY:21,keywords:["rightwards arrow with hook","arrow right hook","left arrow curving right","arrow"],variations:[]},"↪":{codepoints:"21aa-fe0f",version:"2.0",sheetX:52,sheetY:21,keywords:["rightwards arrow with hook","arrow right hook","left arrow curving right","arrow"],variations:[]},"💒":{codepoints:"1f492",version:"2.0",sheetX:25,sheetY:28,keywords:["wedding","chapel","romance"],variations:[]},"🇧🇶":{codepoints:"1f1e7-1f1f6",version:"2.0",sheetX:1,sheetY:4,keywords:["caribbean netherlands flag","flag bq","flag: caribbean netherlands","bq","flag"],variations:[]},"🦶🏻":{codepoints:"1f9b6-1f3fb",version:"11.0",sheetX:43,sheetY:12},"🦶🏼":{codepoints:"1f9b6-1f3fc",version:"11.0",sheetX:43,sheetY:13},"🦶🏽":{codepoints:"1f9b6-1f3fd",version:"11.0",sheetX:43,sheetY:14},"🦶🏾":{codepoints:"1f9b6-1f3fe",version:"11.0",sheetX:43,sheetY:15},"🦶🏿":{codepoints:"1f9b6-1f3ff",version:"11.0",sheetX:43,sheetY:16},"🦶":{codepoints:"1f9b6",version:"11.0",sheetX:43,sheetY:11,keywords:["foot","kick","stomp"],variations:["🦶🏻","🦶🏼","🦶🏽","🦶🏾","🦶🏿"]},"🦒":{codepoints:"1f992",version:"5.0",sheetX:42,sheetY:36,keywords:["giraffe face","giraffe","spots"],variations:[]},"😒":{codepoints:"1f612",version:"2.0",sheetX:30,sheetY:53,keywords:["unamused face","unamused","face","unhappy",":?"],variations:[]},"🧢":{codepoints:"1f9e2",version:"5.0",sheetX:51,sheetY:21,keywords:["billed cap","baseball cap"],variations:[]},"🏏":{codepoints:"1f3cf",version:"2.0",sheetX:10,sheetY:34,keywords:["cricket bat and ball","cricket game","ball","bat","game"],variations:[]},"⛑️":{codepoints:"26d1-fe0f",version:"2.0",sheetX:54,sheetY:6,keywords:["helmet with white cross","rescue worker’s helmet","aid","cross","face","hat","helmet"],variations:[]},"⛑":{codepoints:"26d1-fe0f",version:"2.0",sheetX:54,sheetY:6,keywords:["helmet with white cross","rescue worker’s helmet","aid","cross","face","hat","helmet"],variations:[]},"👂🏻":{codepoints:"1f442-1f3fb",version:"2.0",sheetX:12,sheetY:40},"👂🏼":{codepoints:"1f442-1f3fc",version:"2.0",sheetX:12,sheetY:41},"👂🏽":{codepoints:"1f442-1f3fd",version:"2.0",sheetX:12,sheetY:42},"👂🏾":{codepoints:"1f442-1f3fe",version:"2.0",sheetX:12,sheetY:43},"👂🏿":{codepoints:"1f442-1f3ff",version:"2.0",sheetX:12,sheetY:44},"👂":{codepoints:"1f442",version:"2.0",sheetX:12,sheetY:39,keywords:["ear","body"],variations:["👂🏻","👂🏼","👂🏽","👂🏾","👂🏿"]},"🐘":{codepoints:"1f418",version:"2.0",sheetX:11,sheetY:53,keywords:["elephant"],variations:[]},"🧀":{codepoints:"1f9c0",version:"2.0",sheetX:44,sheetY:8,keywords:["cheese wedge","cheese"],variations:[]},"🗼":{codepoints:"1f5fc",version:"2.0",sheetX:30,sheetY:31,keywords:["tokyo tower","tokyo","tower"],variations:[]},"⤴️":{codepoints:"2934-fe0f",version:"2.0",sheetX:55,sheetY:35,keywords:["arrow pointing rightwards then curving upwards","arrow heading up","right arrow curving up","arrow"],variations:[]},"⤴":{codepoints:"2934-fe0f",version:"2.0",sheetX:55,sheetY:35,keywords:["arrow pointing rightwards then curving upwards","arrow heading up","right arrow curving up","arrow"],variations:[]},"🏑":{codepoints:"1f3d1",version:"2.0",sheetX:10,sheetY:36,keywords:["field hockey stick and ball","field hockey","ball","field","game","hockey","stick"],variations:[]},"🇧🇷":{codepoints:"1f1e7-1f1f7",version:"2.0",sheetX:1,sheetY:5,keywords:["brazil flag","flag br","flag: brazil","br","flag"],variations:[]},"🙄":{codepoints:"1f644",version:"2.0",sheetX:31,sheetY:46,keywords:["face with rolling eyes","eyeroll","eyes","face","rolling"],variations:[]},"⤵️":{codepoints:"2935-fe0f",version:"2.0",sheetX:55,sheetY:36,keywords:["arrow pointing rightwards then curving downwards","arrow heading down","right arrow curving down","arrow","down"],variations:[]},"⤵":{codepoints:"2935-fe0f",version:"2.0",sheetX:55,sheetY:36,keywords:["arrow pointing rightwards then curving downwards","arrow heading down","right arrow curving down","arrow","down"],variations:[]},"🏒":{codepoints:"1f3d2",version:"2.0",sheetX:10,sheetY:37,keywords:["ice hockey stick and puck","ice hockey","game","hockey","ice","puck","stick"],variations:[]},"🍖":{codepoints:"1f356",version:"2.0",sheetX:6,sheetY:46,keywords:["meat on bone","bone","meat"],variations:[]},"📿":{codepoints:"1f4ff",version:"2.0",sheetX:27,sheetY:27,keywords:["prayer beads","beads","clothing","necklace","prayer","religion"],variations:[]},"🗽":{codepoints:"1f5fd",version:"2.0",sheetX:30,sheetY:32,keywords:["statue of liberty","liberty","statue"],variations:[]},"😬":{codepoints:"1f62c",version:"2.0",sheetX:31,sheetY:22,keywords:["grimacing face","grimacing","face","grimace","8D"],variations:[]},"🇧🇸":{codepoints:"1f1e7-1f1f8",version:"2.0",sheetX:1,sheetY:6,keywords:["bahamas flag","flag bs","flag: bahamas","bs","flag"],variations:[]},"🦏":{codepoints:"1f98f",version:"4.0",sheetX:42,sheetY:33,keywords:["rhinoceros"],variations:[]},"🥍":{codepoints:"1f94d",version:"11.0",sheetX:41,sheetY:28,keywords:["lacrosse stick and ball","lacrosse","ball","goal","stick"],variations:[]},"🍗":{codepoints:"1f357",version:"2.0",sheetX:6,sheetY:47,keywords:["poultry leg","bone","chicken","drumstick","leg","poultry"],variations:[]},"🦛":{codepoints:"1f99b",version:"11.0",sheetX:42,sheetY:45,keywords:["hippopotamus","hippo"],variations:[]},"👃🏻":{codepoints:"1f443-1f3fb",version:"2.0",sheetX:12,sheetY:46},"👃🏼":{codepoints:"1f443-1f3fc",version:"2.0",sheetX:12,sheetY:47},"👃🏽":{codepoints:"1f443-1f3fd",version:"2.0",sheetX:12,sheetY:48},"👃🏾":{codepoints:"1f443-1f3fe",version:"2.0",sheetX:12,sheetY:49},"👃🏿":{codepoints:"1f443-1f3ff",version:"2.0",sheetX:12,sheetY:50},"👃":{codepoints:"1f443",version:"2.0",sheetX:12,sheetY:45,keywords:["nose","body"],variations:["👃🏻","👃🏼","👃🏽","👃🏾","👃🏿"]},"🔃":{codepoints:"1f503",version:"2.0",sheetX:27,sheetY:31,keywords:["clockwise downwards and upwards open circle arrows","arrows clockwise","clockwise vertical arrows","arrow","clockwise","reload"],variations:[]},"🇧🇹":{codepoints:"1f1e7-1f1f9",version:"2.0",sheetX:1,sheetY:7,keywords:["bhutan flag","flag bt","flag: bhutan","bt","flag"],variations:[]},"⛪":{codepoints:"26ea",version:"2.0",sheetX:54,sheetY:10,keywords:["church","christian","cross","religion"],variations:[]},"💄":{codepoints:"1f484",version:"2.0",sheetX:24,sheetY:32,keywords:["lipstick","cosmetics","makeup"],variations:[]},"🤥":{codepoints:"1f925",version:"4.0",sheetX:38,sheetY:22,keywords:["lying face","face","lie","pinocchio"],variations:[]},"🔄":{codepoints:"1f504",version:"2.0",sheetX:27,sheetY:32,keywords:["anticlockwise downwards and upwards open circle arrows","arrows counterclockwise","counterclockwise arrows button","anticlockwise","arrow","counterclockwise","withershins"],variations:[]},"🇧🇻":{codepoints:"1f1e7-1f1fb",version:"2.0",sheetX:1,sheetY:8,keywords:["bouvet island flag","flag bv","flag: bouvet island","bv","flag"],variations:[]},"🥩":{codepoints:"1f969",version:"5.0",sheetX:41,sheetY:56,keywords:["cut of meat","chop","lambchop","porkchop","steak"],variations:[]},"🕌":{codepoints:"1f54c",version:"2.0",sheetX:28,sheetY:36,keywords:["mosque","islam","muslim","religion"],variations:[]},"💍":{codepoints:"1f48d",version:"2.0",sheetX:25,sheetY:23,keywords:["ring","diamond"],variations:[]},"🧠":{codepoints:"1f9e0",version:"5.0",sheetX:51,sheetY:19,keywords:["brain","intelligent"],variations:[]},"🏓":{codepoints:"1f3d3",version:"2.0",sheetX:10,sheetY:38,keywords:["table tennis paddle and ball","ping pong","ball","bat","game","paddle","table tennis"],variations:[]},"😌":{codepoints:"1f60c",version:"2.0",sheetX:30,sheetY:47,keywords:["relieved face","relieved","face"],variations:[]},"🐭":{codepoints:"1f42d",version:"2.0",sheetX:12,sheetY:17,keywords:["mouse face","mouse","face"],variations:[]},"🔙":{codepoints:"1f519",version:"2.0",sheetX:27,sheetY:53,keywords:["back with leftwards arrow above","back","back arrow","arrow"],variations:[]},"💎":{codepoints:"1f48e",version:"2.0",sheetX:25,sheetY:24,keywords:["gem stone","gem","diamond","jewel"],variations:[]},"😔":{codepoints:"1f614",version:"2.0",sheetX:30,sheetY:55,keywords:["pensive face","pensive","dejected","face"],variations:[]},"🇧🇼":{codepoints:"1f1e7-1f1fc",version:"2.0",sheetX:1,sheetY:9,keywords:["botswana flag","flag bw","flag: botswana","bw","flag"],variations:[]},"🐁":{codepoints:"1f401",version:"2.0",sheetX:11,sheetY:29,keywords:["mouse","mouse2"],variations:[]},"🥓":{codepoints:"1f953",version:"4.0",sheetX:41,sheetY:34,keywords:["bacon","breakfast","food","meat"],variations:[]},"🦷":{codepoints:"1f9b7",version:"11.0",sheetX:43,sheetY:17,keywords:["tooth","dentist"],variations:[]},"🏸":{codepoints:"1f3f8",version:"2.0",sheetX:11,sheetY:20,keywords:["badminton racquet and shuttlecock","badminton","birdie","game","racquet","shuttlecock"],variations:[]},"🐀":{codepoints:"1f400",version:"2.0",sheetX:11,sheetY:28,keywords:["rat"],variations:[]},"🕍":{codepoints:"1f54d",version:"2.0",sheetX:28,sheetY:37,keywords:["synagogue","jew","jewish","religion","temple"],variations:[]},"🔚":{codepoints:"1f51a",version:"2.0",sheetX:27,sheetY:54,keywords:["end with leftwards arrow above","end","end arrow","arrow"],variations:[]},"🦴":{codepoints:"1f9b4",version:"11.0",sheetX:43,sheetY:4,keywords:["bone","skeleton"],variations:[]},"🥊":{codepoints:"1f94a",version:"4.0",sheetX:41,sheetY:25,keywords:["boxing glove","boxing","glove"],variations:[]},"🔇":{codepoints:"1f507",version:"2.0",sheetX:27,sheetY:35,keywords:["speaker with cancellation stroke","mute","muted speaker","quiet","silent","speaker"],variations:[]},"🍔":{codepoints:"1f354",version:"2.0",sheetX:6,sheetY:44,keywords:["hamburger","burger"],variations:[]},"🇧🇾":{codepoints:"1f1e7-1f1fe",version:"2.0",sheetX:1,sheetY:10,keywords:["belarus flag","flag by","flag: belarus","by","flag"],variations:[]},"😪":{codepoints:"1f62a",version:"2.0",sheetX:31,sheetY:20,keywords:["sleepy face","sleepy","face","sleep"],variations:[]},"🔛":{codepoints:"1f51b",version:"2.0",sheetX:27,sheetY:55,keywords:["on with exclamation mark with left right arrow above","on","on! arrow","arrow","mark"],variations:[]},"🥋":{codepoints:"1f94b",version:"4.0",sheetX:41,sheetY:26,keywords:["martial arts uniform","judo","karate","martial arts","taekwondo","uniform"],variations:[]},"🔈":{codepoints:"1f508",version:"2.0",sheetX:27,sheetY:36,keywords:["speaker","speaker low volume","soft"],variations:[]},"🤤":{codepoints:"1f924",version:"4.0",sheetX:38,sheetY:21,keywords:["drooling face","drooling","face"],variations:[]},"👀":{codepoints:"1f440",version:"2.0",sheetX:12,sheetY:36,keywords:["eyes","eye","face"],variations:[]},"🇧🇿":{codepoints:"1f1e7-1f1ff",version:"2.0",sheetX:1,sheetY:11,keywords:["belize flag","flag bz","flag: belize","bz","flag"],variations:[]},"🐹":{codepoints:"1f439",version:"2.0",sheetX:12,sheetY:29,keywords:["hamster face","hamster","face","pet"],variations:[]},"⛩️":{codepoints:"26e9-fe0f",version:"2.0",sheetX:54,sheetY:9,keywords:["shinto shrine","religion","shinto","shrine"],variations:[]},"⛩":{codepoints:"26e9-fe0f",version:"2.0",sheetX:54,sheetY:9,keywords:["shinto shrine","religion","shinto","shrine"],variations:[]},"🍟":{codepoints:"1f35f",version:"2.0",sheetX:6,sheetY:55,keywords:["french fries","fries","french"],variations:[]},"🥅":{codepoints:"1f945",version:"4.0",sheetX:41,sheetY:21,keywords:["goal net","goal","net"],variations:[]},"🕋":{codepoints:"1f54b",version:"2.0",sheetX:28,sheetY:35,keywords:["kaaba","islam","muslim","religion"],variations:[]},"🔜":{codepoints:"1f51c",version:"2.0",sheetX:27,sheetY:56,keywords:["soon with rightwards arrow above","soon","soon arrow","arrow"],variations:[]},"🇨🇦":{codepoints:"1f1e8-1f1e6",version:"2.0",sheetX:1,sheetY:12,keywords:["canada flag","flag ca","flag: canada","ca","flag"],variations:[]},"🐰":{codepoints:"1f430",version:"2.0",sheetX:12,sheetY:20,keywords:["rabbit face","rabbit","bunny","face","pet"],variations:[]},"👁️":{codepoints:"1f441-fe0f",version:"2.0",sheetX:12,sheetY:38,keywords:["eye","body"],variations:[]},"👁":{codepoints:"1f441-fe0f",version:"2.0",sheetX:12,sheetY:38,keywords:["eye","body"],variations:[]},"😴":{codepoints:"1f634",version:"2.0",sheetX:31,sheetY:30,keywords:["sleeping face","sleeping","face","sleep","zzz"],variations:[]},"🍕":{codepoints:"1f355",version:"2.0",sheetX:6,sheetY:45,keywords:["slice of pizza","pizza","cheese","slice"],variations:[]},"🔉":{codepoints:"1f509",version:"2.0",sheetX:27,sheetY:37,keywords:["speaker with one sound wave","sound","speaker medium volume","medium"],variations:[]},"🐇":{codepoints:"1f407",version:"2.0",sheetX:11,sheetY:35,keywords:["rabbit","rabbit2","bunny","pet"],variations:[]},"⛲":{codepoints:"26f2",version:"2.0",sheetX:54,sheetY:13,keywords:["fountain"],variations:[]},"⛳":{codepoints:"26f3",version:"2.0",sheetX:54,sheetY:14,keywords:["flag in hole","golf","hole"],variations:[]},"🔝":{codepoints:"1f51d",version:"2.0",sheetX:28,sheetY:0,keywords:["top with upwards arrow above","top","top arrow","arrow","up"],variations:[]},"😷":{codepoints:"1f637",version:"2.0",sheetX:31,sheetY:33,keywords:["face with medical mask","mask","cold","doctor","face","sick"],variations:[]},"🇨🇨":{codepoints:"1f1e8-1f1e8",version:"2.0",sheetX:1,sheetY:13,keywords:["cocos (keeling) islands flag","flag cc","flag: cocos (keeling) islands","cc","flag"],variations:[]},"🌭":{codepoints:"1f32d",version:"2.0",sheetX:6,sheetY:5,keywords:["hot dog","hotdog","frankfurter","sausage"],variations:[]},"🔊":{codepoints:"1f50a",version:"2.0",sheetX:27,sheetY:38,keywords:["speaker with three sound waves","loud sound","speaker high volume","loud"],variations:[]},"👅":{codepoints:"1f445",version:"2.0",sheetX:12,sheetY:52,keywords:["tongue","body"],variations:[]},"🛐":{codepoints:"1f6d0",version:"2.0",sheetX:36,sheetY:38,keywords:["place of worship","religion","worship"],variations:[]},"⛸️":{codepoints:"26f8-fe0f",version:"2.0",sheetX:54,sheetY:18,keywords:["ice skate","ice","skate"],variations:[]},"⛸":{codepoints:"26f8-fe0f",version:"2.0",sheetX:54,sheetY:18,keywords:["ice skate","ice","skate"],variations:[]},"🥪":{codepoints:"1f96a",version:"5.0",sheetX:42,sheetY:0,keywords:["sandwich","bread"],variations:[]},"🐿️":{codepoints:"1f43f-fe0f",version:"2.0",sheetX:12,sheetY:35,keywords:["chipmunk","squirrel"],variations:[]},"🐿":{codepoints:"1f43f-fe0f",version:"2.0",sheetX:12,sheetY:35,keywords:["chipmunk","squirrel"],variations:[]},"📢":{codepoints:"1f4e2",version:"2.0",sheetX:26,sheetY:56,keywords:["public address loudspeaker","loudspeaker","loud","public address"],variations:[]},"👄":{codepoints:"1f444",version:"2.0",sheetX:12,sheetY:51,keywords:["mouth","lips"],variations:[]},"🇨🇩":{codepoints:"1f1e8-1f1e9",version:"2.0",sheetX:1,sheetY:14,keywords:["congo - kinshasa flag","flag cd","flag: congo - kinshasa","cd","flag"],variations:[]},"⛺":{codepoints:"26fa",version:"2.0",sheetX:54,sheetY:37,keywords:["tent","camping"],variations:[]},"🤒":{codepoints:"1f912",version:"2.0",sheetX:37,sheetY:25,keywords:["face with thermometer","face","ill","sick","thermometer"],variations:[]},"🌮":{codepoints:"1f32e",version:"2.0",sheetX:6,sheetY:6,keywords:["taco","mexican"],variations:[]},"🌁":{codepoints:"1f301",version:"2.0",sheetX:5,sheetY:20,keywords:["foggy","fog"],variations:[]},"🇨🇫":{codepoints:"1f1e8-1f1eb",version:"2.0",sheetX:1,sheetY:15,keywords:["central african republic flag","flag cf","flag: central african republic","cf","flag"],variations:[]},"👶🏻":{codepoints:"1f476-1f3fb",version:"2.0",sheetX:23,sheetY:5},"👶🏼":{codepoints:"1f476-1f3fc",version:"2.0",sheetX:23,sheetY:6},"👶🏽":{codepoints:"1f476-1f3fd",version:"2.0",sheetX:23,sheetY:7},"👶🏾":{codepoints:"1f476-1f3fe",version:"2.0",sheetX:23,sheetY:8},"👶🏿":{codepoints:"1f476-1f3ff",version:"2.0",sheetX:23,sheetY:9},"👶":{codepoints:"1f476",version:"2.0",sheetX:23,sheetY:4,keywords:["baby","young"],variations:["👶🏻","👶🏼","👶🏽","👶🏾","👶🏿"]},"⚛️":{codepoints:"269b-fe0f",version:"2.0",sheetX:53,sheetY:48,keywords:["atom symbol","atheist","atom"],variations:[]},"⚛":{codepoints:"269b-fe0f",version:"2.0",sheetX:53,sheetY:48,keywords:["atom symbol","atheist","atom"],variations:[]},"🎣":{codepoints:"1f3a3",version:"2.0",sheetX:8,sheetY:9,keywords:["fishing pole and fish","fishing pole","fish","pole"],variations:[]},"🦔":{codepoints:"1f994",version:"5.0",sheetX:42,sheetY:38,keywords:["hedgehog","spiny"],variations:[]},"🤕":{codepoints:"1f915",version:"2.0",sheetX:37,sheetY:28,keywords:["face with head bandage","bandage","face","hurt","injury"],variations:[]},"📣":{codepoints:"1f4e3",version:"2.0",sheetX:27,sheetY:0,keywords:["cheering megaphone","mega","megaphone","cheering"],variations:[]},"🤢":{codepoints:"1f922",version:"4.0",sheetX:38,sheetY:19,keywords:["nauseated face","face","nauseated","vomit","%("],variations:[]},"🧒🏻":{codepoints:"1f9d2-1f3fb",version:"5.0",sheetX:48,sheetY:17},"🧒🏼":{codepoints:"1f9d2-1f3fc",version:"5.0",sheetX:48,sheetY:18},"🧒🏽":{codepoints:"1f9d2-1f3fd",version:"5.0",sheetX:48,sheetY:19},"🧒🏾":{codepoints:"1f9d2-1f3fe",version:"5.0",sheetX:48,sheetY:20},"🧒🏿":{codepoints:"1f9d2-1f3ff",version:"5.0",sheetX:48,sheetY:21},"🧒":{codepoints:"1f9d2",version:"5.0",sheetX:48,sheetY:16,keywords:["child","gender neutral","unspecified gender","young"],variations:["🧒🏻","🧒🏼","🧒🏽","🧒🏾","🧒🏿"]},"🇨🇬":{codepoints:"1f1e8-1f1ec",version:"2.0",sheetX:1,sheetY:16,keywords:["congo - brazzaville flag","flag cg","flag: congo - brazzaville","cg","flag"],variations:[]},"🦇":{codepoints:"1f987",version:"4.0",sheetX:42,sheetY:25,keywords:["bat","vampire"],variations:[]},"🌯":{codepoints:"1f32f",version:"2.0",sheetX:6,sheetY:7,keywords:["burrito","mexican","wrap"],variations:[]},"📯":{codepoints:"1f4ef",version:"2.0",sheetX:27,sheetY:12,keywords:["postal horn","horn","post","postal"],variations:[]},"🌃":{codepoints:"1f303",version:"2.0",sheetX:5,sheetY:22,keywords:["night with stars","night","star"],variations:[]},"🕉️":{codepoints:"1f549-fe0f",version:"2.0",sheetX:28,sheetY:33,keywords:["om symbol","om","hindu","religion"],variations:[]},"🕉":{codepoints:"1f549-fe0f",version:"2.0",sheetX:28,sheetY:33,keywords:["om symbol","om","hindu","religion"],variations:[]},"✡️":{codepoints:"2721-fe0f",version:"2.0",sheetX:55,sheetY:15,keywords:["star of david","david","jew","jewish","religion","star"],variations:[]},"✡":{codepoints:"2721-fe0f",version:"2.0",sheetX:55,sheetY:15,keywords:["star of david","david","jew","jewish","religion","star"],variations:[]},"👦🏻":{codepoints:"1f466-1f3fb",version:"2.0",sheetX:14,sheetY:27},"👦🏼":{codepoints:"1f466-1f3fc",version:"2.0",sheetX:14,sheetY:28},"👦🏽":{codepoints:"1f466-1f3fd",version:"2.0",sheetX:14,sheetY:29},"👦🏾":{codepoints:"1f466-1f3fe",version:"2.0",sheetX:14,sheetY:30},"👦🏿":{codepoints:"1f466-1f3ff",version:"2.0",sheetX:14,sheetY:31},"👦":{codepoints:"1f466",version:"2.0",sheetX:14,sheetY:26,keywords:["boy","young"],variations:["👦🏻","👦🏼","👦🏽","👦🏾","👦🏿"]},"🔔":{codepoints:"1f514",version:"2.0",sheetX:27,sheetY:48,keywords:["bell"],variations:[]},"🇨🇭":{codepoints:"1f1e8-1f1ed",version:"2.0",sheetX:1,sheetY:17,keywords:["switzerland flag","flag ch","flag: switzerland","ch","flag"],variations:[]},"🎽":{codepoints:"1f3bd",version:"2.0",sheetX:8,sheetY:35,keywords:["running shirt with sash","running shirt","athletics","running","sash","shirt"],variations:[]},"🥙":{codepoints:"1f959",version:"4.0",sheetX:41,sheetY:40,keywords:["stuffed flatbread","falafel","flatbread","food","gyro","kebab","stuffed"],variations:[]},"🐻":{codepoints:"1f43b",version:"2.0",sheetX:12,sheetY:31,keywords:["bear face","bear","face"],variations:[]},"🏙️":{codepoints:"1f3d9-fe0f",version:"2.0",sheetX:10,sheetY:44,keywords:["cityscape","city"],variations:[]},"🏙":{codepoints:"1f3d9-fe0f",version:"2.0",sheetX:10,sheetY:44,keywords:["cityscape","city"],variations:[]},"🤮":{codepoints:"1f92e",version:"5.0",sheetX:38,sheetY:48,keywords:["face with open mouth vomiting","face vomiting","sick","vomit"],variations:[]},"☸️":{codepoints:"2638-fe0f",version:"2.0",sheetX:53,sheetY:15,keywords:["wheel of dharma","buddhist","dharma","religion","wheel"],variations:[]},"☸":{codepoints:"2638-fe0f",version:"2.0",sheetX:53,sheetY:15,keywords:["wheel of dharma","buddhist","dharma","religion","wheel"],variations:[]},"🎿":{codepoints:"1f3bf",version:"2.0",sheetX:8,sheetY:37,keywords:["ski and ski boot","ski","skis","snow"],variations:[]},"👧🏻":{codepoints:"1f467-1f3fb",version:"2.0",sheetX:14,sheetY:33},"👧🏼":{codepoints:"1f467-1f3fc",version:"2.0",sheetX:14,sheetY:34},"👧🏽":{codepoints:"1f467-1f3fd",version:"2.0",sheetX:14,sheetY:35},"👧🏾":{codepoints:"1f467-1f3fe",version:"2.0",sheetX:14,sheetY:36},"👧🏿":{codepoints:"1f467-1f3ff",version:"2.0",sheetX:14,sheetY:37},"👧":{codepoints:"1f467",version:"2.0",sheetX:14,sheetY:32,keywords:["girl","virgo","young","zodiac"],variations:["👧🏻","👧🏼","👧🏽","👧🏾","👧🏿"]},"🤧":{codepoints:"1f927",version:"4.0",sheetX:38,sheetY:41,keywords:["sneezing face","face","gesundheit","sneeze"],variations:[]},"🔕":{codepoints:"1f515",version:"2.0",sheetX:27,sheetY:49,keywords:["bell with cancellation stroke","no bell","bell with slash","bell","forbidden","mute","quiet","silent"],variations:[]},"🐨":{codepoints:"1f428",version:"2.0",sheetX:12,sheetY:12,keywords:["koala","bear"],variations:[]},"🌄":{codepoints:"1f304",version:"2.0",sheetX:5,sheetY:23,keywords:["sunrise over mountains","morning","mountain","sun","sunrise"],variations:[]},"🇨🇮":{codepoints:"1f1e8-1f1ee",version:"2.0",sheetX:1,sheetY:18,keywords:["côte d’ivoire flag","flag ci","flag: côte d’ivoire","ci","flag"],variations:[]},"🌅":{codepoints:"1f305",version:"2.0",sheetX:5,sheetY:24,keywords:["sunrise","morning","sun"],variations:[]},"☯️":{codepoints:"262f-fe0f",version:"2.0",sheetX:53,sheetY:14,keywords:["yin yang","religion","tao","taoist","yang","yin"],variations:[]},"☯":{codepoints:"262f-fe0f",version:"2.0",sheetX:53,sheetY:14,keywords:["yin yang","religion","tao","taoist","yang","yin"],variations:[]},"🧑🏻":{codepoints:"1f9d1-1f3fb",version:"5.0",sheetX:48,sheetY:11},"🧑🏼":{codepoints:"1f9d1-1f3fc",version:"5.0",sheetX:48,sheetY:12},"🧑🏽":{codepoints:"1f9d1-1f3fd",version:"5.0",sheetX:48,sheetY:13},"🧑🏾":{codepoints:"1f9d1-1f3fe",version:"5.0",sheetX:48,sheetY:14},"🧑🏿":{codepoints:"1f9d1-1f3ff",version:"5.0",sheetX:48,sheetY:15},"🧑":{codepoints:"1f9d1",version:"5.0",sheetX:48,sheetY:10,keywords:["adult","person","gender neutral","unspecified gender"],variations:["🧑🏻","🧑🏼","🧑🏽","🧑🏾","🧑🏿"]},"🥵":{codepoints:"1f975",version:"11.0",sheetX:42,sheetY:10,keywords:["overheated face","hot face","feverish","heat stroke","hot","red faced","sweating"],variations:[]},"🎼":{codepoints:"1f3bc",version:"2.0",sheetX:8,sheetY:34,keywords:["musical score","music","score"],variations:[]},"🛷":{codepoints:"1f6f7",version:"5.0",sheetX:36,sheetY:56,keywords:["sled","sledge","sleigh"],variations:[]},"🥚":{codepoints:"1f95a",version:"4.0",sheetX:41,sheetY:41,keywords:["egg","breakfast","food"],variations:[]},"🐼":{codepoints:"1f43c",version:"2.0",sheetX:12,sheetY:32,keywords:["panda face","panda","face"],variations:[]},"🇨🇰":{codepoints:"1f1e8-1f1f0",version:"2.0",sheetX:1,sheetY:19,keywords:["cook islands flag","flag ck","flag: cook islands","ck","flag"],variations:[]},"🇨🇱":{codepoints:"1f1e8-1f1f1",version:"2.0",sheetX:1,sheetY:20,keywords:["chile flag","flag cl","flag: chile","cl","flag"],variations:[]},"👱🏻":{codepoints:"1f471-1f3fb",version:"2.0",sheetX:22,sheetY:20},"👱🏼":{codepoints:"1f471-1f3fc",version:"2.0",sheetX:22,sheetY:21},"👱🏽":{codepoints:"1f471-1f3fd",version:"2.0",sheetX:22,sheetY:22},"👱🏾":{codepoints:"1f471-1f3fe",version:"2.0",sheetX:22,sheetY:23},"👱🏿":{codepoints:"1f471-1f3ff",version:"2.0",sheetX:22,sheetY:24},"👱":{codepoints:"1f471",version:"2.0",sheetX:22,sheetY:19,keywords:["person with blond hair","person: blond hair","blond","blond haired person","hair"],variations:["👱🏻","👱🏼","👱🏽","👱🏾","👱🏿"]},"✝️":{codepoints:"271d-fe0f",version:"2.0",sheetX:55,sheetY:14,keywords:["latin cross","christian","cross","religion"],variations:[]},"✝":{codepoints:"271d-fe0f",version:"2.0",sheetX:55,sheetY:14,keywords:["latin cross","christian","cross","religion"],variations:[]},"🥌":{codepoints:"1f94c",version:"5.0",sheetX:41,sheetY:27,keywords:["curling stone","game","rock"],variations:[]},"🥶":{codepoints:"1f976",version:"11.0",sheetX:42,sheetY:11,keywords:["freezing face","cold face","blue faced","cold","freezing","frostbite","icicles"],variations:[]},"🍳":{codepoints:"1f373",version:"2.0",sheetX:7,sheetY:18,keywords:["cooking","fried egg","breakfast","egg","frying","pan"],variations:[]},"🌆":{codepoints:"1f306",version:"2.0",sheetX:5,sheetY:25,keywords:["cityscape at dusk","city sunset","city","dusk","evening","landscape","sunset"],variations:[]},"🎵":{codepoints:"1f3b5",version:"2.0",sheetX:8,sheetY:27,keywords:["musical note","music","note"],variations:[]},"🇨🇲":{codepoints:"1f1e8-1f1f2",version:"2.0",sheetX:1,sheetY:21,keywords:["cameroon flag","flag cm","flag: cameroon","cm","flag"],variations:[]},"🎶":{codepoints:"1f3b6",version:"2.0",sheetX:8,sheetY:28,keywords:["multiple musical notes","notes","musical notes","music","note"],variations:[]},"🥴":{codepoints:"1f974",version:"11.0",sheetX:42,sheetY:9,keywords:["face with uneven eyes and wavy mouth","woozy face","dizzy","intoxicated","tipsy","uneven eyes","wavy mouth",":&"],variations:[]},"🎯":{codepoints:"1f3af",version:"2.0",sheetX:8,sheetY:21,keywords:["direct hit","dart","bullseye","game","hit","target"],variations:[]},"☦️":{codepoints:"2626-fe0f",version:"2.0",sheetX:53,sheetY:11,keywords:["orthodox cross","christian","cross","religion"],variations:[]},"☦":{codepoints:"2626-fe0f",version:"2.0",sheetX:53,sheetY:11,keywords:["orthodox cross","christian","cross","religion"],variations:[]},"🥘":{codepoints:"1f958",version:"4.0",sheetX:41,sheetY:39,keywords:["shallow pan of food","casserole","food","paella","pan","shallow"],variations:[]},"👨🏻":{codepoints:"1f468-1f3fb",version:"2.0",sheetX:17,sheetY:23},"👨🏼":{codepoints:"1f468-1f3fc",version:"2.0",sheetX:17,sheetY:24},"👨🏽":{codepoints:"1f468-1f3fd",version:"2.0",sheetX:17,sheetY:25},"👨🏾":{codepoints:"1f468-1f3fe",version:"2.0",sheetX:17,sheetY:26},"👨🏿":{codepoints:"1f468-1f3ff",version:"2.0",sheetX:17,sheetY:27},"👨":{codepoints:"1f468",version:"2.0",sheetX:17,sheetY:22,keywords:["man","adult"],variations:["👨🏻","👨🏼","👨🏽","👨🏾","👨🏿"]},"🌇":{codepoints:"1f307",version:"2.0",sheetX:5,sheetY:26,keywords:["sunset over buildings","city sunrise","sunset","dusk","sun"],variations:[]},"🧔🏻":{codepoints:"1f9d4-1f3fb",version:"5.0",sheetX:48,sheetY:29},"🧔🏼":{codepoints:"1f9d4-1f3fc",version:"5.0",sheetX:48,sheetY:30},"🧔🏽":{codepoints:"1f9d4-1f3fd",version:"5.0",sheetX:48,sheetY:31},"🧔🏾":{codepoints:"1f9d4-1f3fe",version:"5.0",sheetX:48,sheetY:32},"🧔🏿":{codepoints:"1f9d4-1f3ff",version:"5.0",sheetX:48,sheetY:33},"🧔":{codepoints:"1f9d4",version:"5.0",sheetX:48,sheetY:28,keywords:["bearded person","man: beard","beard","man","person"],variations:["🧔🏻","🧔🏼","🧔🏽","🧔🏾","🧔🏿"]},"🍲":{codepoints:"1f372",version:"2.0",sheetX:7,sheetY:17,keywords:["pot of food","stew","pot"],variations:[]},"🇨🇳":{codepoints:"1f1e8-1f1f3",version:"2.0",sheetX:1,sheetY:22,keywords:["china flag","cn","flag cn","flag: china","flag"],variations:[]},"🎙️":{codepoints:"1f399-fe0f",version:"2.0",sheetX:8,sheetY:1,keywords:["studio microphone","mic","microphone","music","studio"],variations:[]},"🎙":{codepoints:"1f399-fe0f",version:"2.0",sheetX:8,sheetY:1,keywords:["studio microphone","mic","microphone","music","studio"],variations:[]},"☪️":{codepoints:"262a-fe0f",version:"2.0",sheetX:53,sheetY:12,keywords:["star and crescent","islam","muslim","religion"],variations:[]},"☪":{codepoints:"262a-fe0f",version:"2.0",sheetX:53,sheetY:12,keywords:["star and crescent","islam","muslim","religion"],variations:[]},"🌉":{codepoints:"1f309",version:"2.0",sheetX:5,sheetY:28,keywords:["bridge at night","bridge","night"],variations:[]},"😵":{codepoints:"1f635",version:"2.0",sheetX:31,sheetY:31,keywords:["dizzy face","dizzy","face","xo"],variations:[]},"👨🏻‍🦰":{codepoints:"1f468-1f3fb-200d-1f9b0",version:"11.0",sheetX:16,sheetY:24},"👨🏼‍🦰":{codepoints:"1f468-1f3fc-200d-1f9b0",version:"11.0",sheetX:16,sheetY:25},"👨🏽‍🦰":{codepoints:"1f468-1f3fd-200d-1f9b0",version:"11.0",sheetX:16,sheetY:26},"👨🏾‍🦰":{codepoints:"1f468-1f3fe-200d-1f9b0",version:"11.0",sheetX:16,sheetY:27},"👨🏿‍🦰":{codepoints:"1f468-1f3ff-200d-1f9b0",version:"11.0",sheetX:16,sheetY:28},"👨‍🦰":{codepoints:"1f468-200d-1f9b0",version:"11.0",sheetX:16,sheetY:23,keywords:["red haired man","man: red hair","adult","man","red hair"],variations:["👨🏻‍🦰","👨🏼‍🦰","👨🏽‍🦰","👨🏾‍🦰","👨🏿‍🦰"]},"🥣":{codepoints:"1f963",version:"5.0",sheetX:41,sheetY:50,keywords:["bowl with spoon","breakfast","cereal","congee"],variations:[]},"🇨🇴":{codepoints:"1f1e8-1f1f4",version:"2.0",sheetX:1,sheetY:23,keywords:["colombia flag","flag co","flag: colombia","co","flag"],variations:[]},"☮️":{codepoints:"262e-fe0f",version:"2.0",sheetX:53,sheetY:13,keywords:["peace symbol","peace"],variations:[]},"☮":{codepoints:"262e-fe0f",version:"2.0",sheetX:53,sheetY:13,keywords:["peace symbol","peace"],variations:[]},"🦘":{codepoints:"1f998",version:"11.0",sheetX:42,sheetY:42,keywords:["kangaroo","australia","joey","jump","marsupial"],variations:[]},"♨️":{codepoints:"2668-fe0f",version:"2.0",sheetX:53,sheetY:37,keywords:["hot springs","hotsprings","hot","springs","steaming"],variations:[]},"♨":{codepoints:"2668-fe0f",version:"2.0",sheetX:53,sheetY:37,keywords:["hot springs","hotsprings","hot","springs","steaming"],variations:[]},"🤯":{codepoints:"1f92f",version:"5.0",sheetX:38,sheetY:49,keywords:["shocked face with exploding head","exploding head","mind blown","shocked"],variations:[]},"🎚️":{codepoints:"1f39a-fe0f",version:"2.0",sheetX:8,sheetY:2,keywords:["level slider","level","music","slider"],variations:[]},"🎚":{codepoints:"1f39a-fe0f",version:"2.0",sheetX:8,sheetY:2,keywords:["level slider","level","music","slider"],variations:[]},"🦡":{codepoints:"1f9a1",version:"11.0",sheetX:42,sheetY:51,keywords:["badger","honey badger","pester"],variations:[]},"🎱":{codepoints:"1f3b1",version:"2.0",sheetX:8,sheetY:23,keywords:["billiards","8ball","pool 8 ball","8","ball","billiard","eight","game"],variations:[]},"👨🏻‍🦱":{codepoints:"1f468-1f3fb-200d-1f9b1",version:"11.0",sheetX:16,sheetY:30},"👨🏼‍🦱":{codepoints:"1f468-1f3fc-200d-1f9b1",version:"11.0",sheetX:16,sheetY:31},"👨🏽‍🦱":{codepoints:"1f468-1f3fd-200d-1f9b1",version:"11.0",sheetX:16,sheetY:32},"👨🏾‍🦱":{codepoints:"1f468-1f3fe-200d-1f9b1",version:"11.0",sheetX:16,sheetY:33},"👨🏿‍🦱":{codepoints:"1f468-1f3ff-200d-1f9b1",version:"11.0",sheetX:16,sheetY:34},"👨‍🦱":{codepoints:"1f468-200d-1f9b1",version:"11.0",sheetX:16,sheetY:29,keywords:["curly haired man","man: curly hair","adult","curly hair","man"],variations:["👨🏻‍🦱","👨🏼‍🦱","👨🏽‍🦱","👨🏾‍🦱","👨🏿‍🦱"]},"🇨🇵":{codepoints:"1f1e8-1f1f5",version:"2.0",sheetX:1,sheetY:24,keywords:["clipperton island flag","flag cp","flag: clipperton island","cp","flag"],variations:[]},"🎠":{codepoints:"1f3a0",version:"2.0",sheetX:8,sheetY:6,keywords:["carousel horse","carousel","horse"],variations:[]},"🤠":{codepoints:"1f920",version:"4.0",sheetX:38,sheetY:17,keywords:["face with cowboy hat","cowboy hat face","cowboy","cowgirl","face","hat"],variations:[]},"🕎":{codepoints:"1f54e",version:"2.0",sheetX:28,sheetY:38,keywords:["menorah with nine branches","menorah","candelabrum","candlestick","religion"],variations:[]},"🥗":{codepoints:"1f957",version:"4.0",sheetX:41,sheetY:38,keywords:["green salad","food","green","salad"],variations:[]},"🎛️":{codepoints:"1f39b-fe0f",version:"2.0",sheetX:8,sheetY:3,keywords:["control knobs","control","knobs","music"],variations:[]},"🎛":{codepoints:"1f39b-fe0f",version:"2.0",sheetX:8,sheetY:3,keywords:["control knobs","control","knobs","music"],variations:[]},"🍿":{codepoints:"1f37f",version:"2.0",sheetX:7,sheetY:30,keywords:["popcorn"],variations:[]},"🔯":{codepoints:"1f52f",version:"2.0",sheetX:28,sheetY:18,keywords:["six pointed star with middle dot","six pointed star","dotted six pointed star","fortune","star"],variations:[]},"🐾":{codepoints:"1f43e",version:"2.0",sheetX:12,sheetY:34,keywords:["paw prints","feet","paw","print"],variations:[]},"🎡":{codepoints:"1f3a1",version:"2.0",sheetX:8,sheetY:7,keywords:["ferris wheel","amusement park","ferris","wheel"],variations:[]},"🎤":{codepoints:"1f3a4",version:"2.0",sheetX:8,sheetY:10,keywords:["microphone","karaoke","mic"],variations:[]},"🔮":{codepoints:"1f52e",version:"2.0",sheetX:28,sheetY:17,keywords:["crystal ball","ball","crystal","fairy tale","fantasy","fortune","tool"],variations:[]},"🥳":{codepoints:"1f973",version:"11.0",sheetX:42,sheetY:8,keywords:["face with party horn and party hat","partying face","celebration","hat","horn","party"],variations:[]},"🇨🇷":{codepoints:"1f1e8-1f1f7",version:"2.0",sheetX:1,sheetY:25,keywords:["costa rica flag","flag cr","flag: costa rica","cr","flag"],variations:[]},"👨🏻‍🦳":{codepoints:"1f468-1f3fb-200d-1f9b3",version:"11.0",sheetX:16,sheetY:42},"👨🏼‍🦳":{codepoints:"1f468-1f3fc-200d-1f9b3",version:"11.0",sheetX:16,sheetY:43},"👨🏽‍🦳":{codepoints:"1f468-1f3fd-200d-1f9b3",version:"11.0",sheetX:16,sheetY:44},"👨🏾‍🦳":{codepoints:"1f468-1f3fe-200d-1f9b3",version:"11.0",sheetX:16,sheetY:45},"👨🏿‍🦳":{codepoints:"1f468-1f3ff-200d-1f9b3",version:"11.0",sheetX:16,sheetY:46},"👨‍🦳":{codepoints:"1f468-200d-1f9b3",version:"11.0",sheetX:16,sheetY:41,keywords:["white haired man","man: white hair","adult","man","white hair"],variations:["👨🏻‍🦳","👨🏼‍🦳","👨🏽‍🦳","👨🏾‍🦳","👨🏿‍🦳"]},"🎧":{codepoints:"1f3a7",version:"2.0",sheetX:8,sheetY:13,keywords:["headphone","headphones","earbud"],variations:[]},"👨🏻‍🦲":{codepoints:"1f468-1f3fb-200d-1f9b2",version:"11.0",sheetX:16,sheetY:36},"👨🏼‍🦲":{codepoints:"1f468-1f3fc-200d-1f9b2",version:"11.0",sheetX:16,sheetY:37},"👨🏽‍🦲":{codepoints:"1f468-1f3fd-200d-1f9b2",version:"11.0",sheetX:16,sheetY:38},"👨🏾‍🦲":{codepoints:"1f468-1f3fe-200d-1f9b2",version:"11.0",sheetX:16,sheetY:39},"👨🏿‍🦲":{codepoints:"1f468-1f3ff-200d-1f9b2",version:"11.0",sheetX:16,sheetY:40},"👨‍🦲":{codepoints:"1f468-200d-1f9b2",version:"11.0",sheetX:16,sheetY:35,keywords:["bald man","man: bald","adult","bald","man"],variations:["👨🏻‍🦲","👨🏼‍🦲","👨🏽‍🦲","👨🏾‍🦲","👨🏿‍🦲"]},"😎":{codepoints:"1f60e",version:"2.0",sheetX:30,sheetY:49,keywords:["smiling face with sunglasses","sunglasses","bright","cool","face","sun","8)"],variations:[]},"🎢":{codepoints:"1f3a2",version:"2.0",sheetX:8,sheetY:8,keywords:["roller coaster","amusement park","coaster","roller"],variations:[]},"🦃":{codepoints:"1f983",version:"2.0",sheetX:42,sheetY:21,keywords:["turkey","bird"],variations:[]},"🧿":{codepoints:"1f9ff",version:"11.0",sheetX:51,sheetY:50,keywords:["nazar amulet","bead","charm","evil eye","nazar","talisman"],variations:[]},"🇨🇺":{codepoints:"1f1e8-1f1fa",version:"2.0",sheetX:1,sheetY:26,keywords:["cuba flag","flag cu","flag: cuba","cu","flag"],variations:[]},"♈":{codepoints:"2648",version:"2.0",sheetX:53,sheetY:20,keywords:["aries","ram","zodiac"],variations:[]},"🇨🇻":{codepoints:"1f1e8-1f1fb",version:"2.0",sheetX:1,sheetY:27,keywords:["cape verde flag","flag cv","flag: cape verde","cv","flag"],variations:[]},"💈":{codepoints:"1f488",version:"2.0",sheetX:25,sheetY:18,keywords:["barber pole","barber","haircut","pole"],variations:[]},"♉":{codepoints:"2649",version:"2.0",sheetX:53,sheetY:21,keywords:["taurus","bull","ox","zodiac"],variations:[]},"🧂":{codepoints:"1f9c2",version:"11.0",sheetX:44,sheetY:10,keywords:["salt shaker","salt","condiment","shaker"],variations:[]},"👩🏻":{codepoints:"1f469-1f3fb",version:"2.0",sheetX:20,sheetY:10},"👩🏼":{codepoints:"1f469-1f3fc",version:"2.0",sheetX:20,sheetY:11},"👩🏽":{codepoints:"1f469-1f3fd",version:"2.0",sheetX:20,sheetY:12},"👩🏾":{codepoints:"1f469-1f3fe",version:"2.0",sheetX:20,sheetY:13},"👩🏿":{codepoints:"1f469-1f3ff",version:"2.0",sheetX:20,sheetY:14},"👩":{codepoints:"1f469",version:"2.0",sheetX:20,sheetY:9,keywords:["woman","adult"],variations:["👩🏻","👩🏼","👩🏽","👩🏾","👩🏿"]},"🎮":{codepoints:"1f3ae",version:"2.0",sheetX:8,sheetY:20,keywords:["video game","controller","game"],variations:[]},"🐔":{codepoints:"1f414",version:"2.0",sheetX:11,sheetY:48,keywords:["chicken","bird"],variations:[]},"📻":{codepoints:"1f4fb",version:"2.0",sheetX:27,sheetY:24,keywords:["radio","video"],variations:[]},"🤓":{codepoints:"1f913",version:"2.0",sheetX:37,sheetY:26,keywords:["nerd face","face","geek","nerd",":B"],variations:[]},"👩🏻‍🦰":{codepoints:"1f469-1f3fb-200d-1f9b0",version:"11.0",sheetX:19,sheetY:9},"👩🏼‍🦰":{codepoints:"1f469-1f3fc-200d-1f9b0",version:"11.0",sheetX:19,sheetY:10},"👩🏽‍🦰":{codepoints:"1f469-1f3fd-200d-1f9b0",version:"11.0",sheetX:19,sheetY:11},"👩🏾‍🦰":{codepoints:"1f469-1f3fe-200d-1f9b0",version:"11.0",sheetX:19,sheetY:12},"👩🏿‍🦰":{codepoints:"1f469-1f3ff-200d-1f9b0",version:"11.0",sheetX:19,sheetY:13},"👩‍🦰":{codepoints:"1f469-200d-1f9b0",version:"11.0",sheetX:19,sheetY:8,keywords:["red haired woman","woman: red hair","adult","red hair","woman"],variations:["👩🏻‍🦰","👩🏼‍🦰","👩🏽‍🦰","👩🏾‍🦰","👩🏿‍🦰"]},"🎪":{codepoints:"1f3aa",version:"2.0",sheetX:8,sheetY:16,keywords:["circus tent","circus","tent"],variations:[]},"🧐":{codepoints:"1f9d0",version:"5.0",sheetX:45,sheetY:16,keywords:["face with monocle","stuffy"],variations:[]},"🥫":{codepoints:"1f96b",version:"5.0",sheetX:42,sheetY:1,keywords:["canned food","can"],variations:[]},"🇨🇼":{codepoints:"1f1e8-1f1fc",version:"2.0",sheetX:1,sheetY:28,keywords:["curaçao flag","flag cw","flag: curaçao","cw","flag"],variations:[]},"♊":{codepoints:"264a",version:"2.0",sheetX:53,sheetY:22,keywords:["gemini","twins","zodiac"],variations:[]},"🎷":{codepoints:"1f3b7",version:"2.0",sheetX:8,sheetY:29,keywords:["saxophone","instrument","music","sax"],variations:[]},"🐓":{codepoints:"1f413",version:"2.0",sheetX:11,sheetY:47,keywords:["rooster","bird"],variations:[]},"🕹️":{codepoints:"1f579-fe0f",version:"2.0",sheetX:29,sheetY:36,keywords:["joystick","game","video game"],variations:[]},"🕹":{codepoints:"1f579-fe0f",version:"2.0",sheetX:29,sheetY:36,keywords:["joystick","game","video game"],variations:[]},"🎸":{codepoints:"1f3b8",version:"2.0",sheetX:8,sheetY:30,keywords:["guitar","instrument","music"],variations:[]},"🎰":{codepoints:"1f3b0",version:"2.0",sheetX:8,sheetY:22,keywords:["slot machine","game","slot"],variations:[]},"🍱":{codepoints:"1f371",version:"2.0",sheetX:7,sheetY:16,keywords:["bento box","bento","box"],variations:[]},"🚂":{codepoints:"1f682",version:"2.0",sheetX:34,sheetY:1,keywords:["steam locomotive","locomotive","engine","railway","steam","train"],variations:[]},"😕":{codepoints:"1f615",version:"2.0",sheetX:30,sheetY:56,keywords:["confused face","confused","face","meh",":/"],variations:[]},"🇨🇽":{codepoints:"1f1e8-1f1fd",version:"2.0",sheetX:1,sheetY:29,keywords:["christmas island flag","flag cx","flag: christmas island","cx","flag"],variations:[]},"🐣":{codepoints:"1f423",version:"2.0",sheetX:12,sheetY:7,keywords:["hatching chick","baby","bird","chick","hatching"],variations:[]},"♋":{codepoints:"264b",version:"2.0",sheetX:53,sheetY:23,keywords:["cancer","crab","zodiac"],variations:[]},"🇨🇾":{codepoints:"1f1e8-1f1fe",version:"2.0",sheetX:1,sheetY:30,keywords:["cyprus flag","flag cy","flag: cyprus","cy","flag"],variations:[]},"😟":{codepoints:"1f61f",version:"2.0",sheetX:31,sheetY:9,keywords:["worried face","worried","face"],variations:[]},"🚃":{codepoints:"1f683",version:"2.0",sheetX:34,sheetY:2,keywords:["railway car","car","electric","railway","train","tram","trolleybus"],variations:[]},"♌":{codepoints:"264c",version:"2.0",sheetX:53,sheetY:24,keywords:["leo","lion","zodiac"],variations:[]},"👩🏻‍🦱":{codepoints:"1f469-1f3fb-200d-1f9b1",version:"11.0",sheetX:19,sheetY:15},"👩🏼‍🦱":{codepoints:"1f469-1f3fc-200d-1f9b1",version:"11.0",sheetX:19,sheetY:16},"👩🏽‍🦱":{codepoints:"1f469-1f3fd-200d-1f9b1",version:"11.0",sheetX:19,sheetY:17},"👩🏾‍🦱":{codepoints:"1f469-1f3fe-200d-1f9b1",version:"11.0",sheetX:19,sheetY:18},"👩🏿‍🦱":{codepoints:"1f469-1f3ff-200d-1f9b1",version:"11.0",sheetX:19,sheetY:19},"👩‍🦱":{codepoints:"1f469-200d-1f9b1",version:"11.0",sheetX:19,sheetY:14,keywords:["curly haired woman","woman: curly hair","adult","curly hair","woman"],variations:["👩🏻‍🦱","👩🏼‍🦱","👩🏽‍🦱","👩🏾‍🦱","👩🏿‍🦱"]},"🐤":{codepoints:"1f424",version:"2.0",sheetX:12,sheetY:8,keywords:["baby chick","baby","bird","chick"],variations:[]},"🎹":{codepoints:"1f3b9",version:"2.0",sheetX:8,sheetY:31,keywords:["musical keyboard","instrument","keyboard","music","piano"],variations:[]},"🎲":{codepoints:"1f3b2",version:"2.0",sheetX:8,sheetY:24,keywords:["game die","dice","die","game"],variations:[]},"🍘":{codepoints:"1f358",version:"2.0",sheetX:6,sheetY:48,keywords:["rice cracker","cracker","rice"],variations:[]},"♍":{codepoints:"264d",version:"2.0",sheetX:53,sheetY:25,keywords:["virgo","zodiac"],variations:[]},"🇨🇿":{codepoints:"1f1e8-1f1ff",version:"2.0",sheetX:1,sheetY:31,keywords:["czechia flag","flag cz","flag: czechia","cz","flag"],variations:[]},"🍙":{codepoints:"1f359",version:"2.0",sheetX:6,sheetY:49,keywords:["rice ball","ball","japanese","rice"],variations:[]},"🐥":{codepoints:"1f425",version:"2.0",sheetX:12,sheetY:9,keywords:["front facing baby chick","hatched chick","baby","bird","chick"],variations:[]},"🧩":{codepoints:"1f9e9",version:"11.0",sheetX:51,sheetY:28,keywords:["jigsaw puzzle piece","jigsaw","puzzle piece","clue","interlocking","piece","puzzle"],variations:[]},"🎺":{codepoints:"1f3ba",version:"2.0",sheetX:8,sheetY:32,keywords:["trumpet","instrument","music"],variations:[]},"🙁":{codepoints:"1f641",version:"2.0",sheetX:31,sheetY:43,keywords:["slightly frowning face","face","frown"],variations:[]},"🚄":{codepoints:"1f684",version:"2.0",sheetX:34,sheetY:3,keywords:["high speed train","bullettrain side","railway","shinkansen","speed","train"],variations:[]},"♎":{codepoints:"264e",version:"2.0",sheetX:53,sheetY:26,keywords:["libra","balance","justice","scales","zodiac"],variations:[]},"🇩🇪":{codepoints:"1f1e9-1f1ea",version:"2.0",sheetX:1,sheetY:32,keywords:["germany flag","de","flag de","flag: germany","flag"],variations:[]},"🍚":{codepoints:"1f35a",version:"2.0",sheetX:6,sheetY:50,keywords:["cooked rice","rice","cooked"],variations:[]},"🎻":{codepoints:"1f3bb",version:"2.0",sheetX:8,sheetY:33,keywords:["violin","instrument","music"],variations:[]},"👩🏻‍🦳":{codepoints:"1f469-1f3fb-200d-1f9b3",version:"11.0",sheetX:19,sheetY:27},"👩🏼‍🦳":{codepoints:"1f469-1f3fc-200d-1f9b3",version:"11.0",sheetX:19,sheetY:28},"👩🏽‍🦳":{codepoints:"1f469-1f3fd-200d-1f9b3",version:"11.0",sheetX:19,sheetY:29},"👩🏾‍🦳":{codepoints:"1f469-1f3fe-200d-1f9b3",version:"11.0",sheetX:19,sheetY:30},"👩🏿‍🦳":{codepoints:"1f469-1f3ff-200d-1f9b3",version:"11.0",sheetX:19,sheetY:31},"👩‍🦳":{codepoints:"1f469-200d-1f9b3",version:"11.0",sheetX:19,sheetY:26,keywords:["white haired woman","woman: white hair","adult","white hair","woman"],variations:["👩🏻‍🦳","👩🏼‍🦳","👩🏽‍🦳","👩🏾‍🦳","👩🏿‍🦳"]},"🐦":{codepoints:"1f426",version:"2.0",sheetX:12,sheetY:10,keywords:["bird"],variations:[]},"☹️":{codepoints:"2639-fe0f",version:"2.0",sheetX:53,sheetY:16,keywords:["white frowning face","frowning face","face","frown",":("],variations:[]},"☹":{codepoints:"2639-fe0f",version:"2.0",sheetX:53,sheetY:16,keywords:["white frowning face","frowning face","face","frown",":("],variations:[]},"🚅":{codepoints:"1f685",version:"2.0",sheetX:34,sheetY:4,keywords:["high speed train with bullet nose","bullettrain front","bullet train","bullet","railway","shinkansen","speed","train"],variations:[]},"🧸":{codepoints:"1f9f8",version:"11.0",sheetX:51,sheetY:43,keywords:["teddy bear","plaything","plush","stuffed","toy"],variations:[]},"♠️":{codepoints:"2660-fe0f",version:"2.0",sheetX:53,sheetY:33,keywords:["black spade suit","spades","spade suit","card","game"],variations:[]},"♠":{codepoints:"2660-fe0f",version:"2.0",sheetX:53,sheetY:33,keywords:["black spade suit","spades","spade suit","card","game"],variations:[]},"🚆":{codepoints:"1f686",version:"2.0",sheetX:34,sheetY:5,keywords:["train","train2","railway"],variations:[]},"♏":{codepoints:"264f",version:"2.0",sheetX:53,sheetY:27,keywords:["scorpius","scorpio","scorpion","zodiac"],variations:[]},"🍛":{codepoints:"1f35b",version:"2.0",sheetX:6,sheetY:51,keywords:["curry and rice","curry","curry rice","rice"],variations:[]},"😮":{codepoints:"1f62e",version:"2.0",sheetX:31,sheetY:24,keywords:["face with open mouth","open mouth","face","mouth","open","sympathy"],variations:[]},"🇩🇬":{codepoints:"1f1e9-1f1ec",version:"2.0",sheetX:1,sheetY:33,keywords:["diego garcia flag","flag dg","flag: diego garcia","dg","flag"],variations:[]},"🐧":{codepoints:"1f427",version:"2.0",sheetX:12,sheetY:11,keywords:["penguin","bird"],variations:[]},"♥️":{codepoints:"2665-fe0f",version:"2.0",sheetX:53,sheetY:35,keywords:["black heart suit","hearts","heart suit","card","game"],variations:[]},"♥":{codepoints:"2665-fe0f",version:"2.0",sheetX:53,sheetY:35,keywords:["black heart suit","hearts","heart suit","card","game"],variations:[]},"🍜":{codepoints:"1f35c",version:"2.0",sheetX:6,sheetY:52,keywords:["steaming bowl","ramen","bowl","noodle","steaming"],variations:[]},"♐":{codepoints:"2650",version:"2.0",sheetX:53,sheetY:28,keywords:["sagittarius","archer","zodiac"],variations:[]},"👩🏻‍🦲":{codepoints:"1f469-1f3fb-200d-1f9b2",version:"11.0",sheetX:19,sheetY:21},"👩🏼‍🦲":{codepoints:"1f469-1f3fc-200d-1f9b2",version:"11.0",sheetX:19,sheetY:22},"👩🏽‍🦲":{codepoints:"1f469-1f3fd-200d-1f9b2",version:"11.0",sheetX:19,sheetY:23},"👩🏾‍🦲":{codepoints:"1f469-1f3fe-200d-1f9b2",version:"11.0",sheetX:19,sheetY:24},"👩🏿‍🦲":{codepoints:"1f469-1f3ff-200d-1f9b2",version:"11.0",sheetX:19,sheetY:25},"👩‍🦲":{codepoints:"1f469-200d-1f9b2",version:"11.0",sheetX:19,sheetY:20,keywords:["bald woman","woman: bald","adult","bald","woman"],variations:["👩🏻‍🦲","👩🏼‍🦲","👩🏽‍🦲","👩🏾‍🦲","👩🏿‍🦲"]},"🕊️":{codepoints:"1f54a-fe0f",version:"2.0",sheetX:28,sheetY:34,keywords:["dove of peace","dove","bird","fly","peace"],variations:[]},"🕊":{codepoints:"1f54a-fe0f",version:"2.0",sheetX:28,sheetY:34,keywords:["dove of peace","dove","bird","fly","peace"],variations:[]},"😯":{codepoints:"1f62f",version:"2.0",sheetX:31,sheetY:25,keywords:["hushed face","hushed","face","stunned","surprised"],variations:[]},"🚇":{codepoints:"1f687",version:"2.0",sheetX:34,sheetY:6,keywords:["metro","subway"],variations:[]},"🇩🇯":{codepoints:"1f1e9-1f1ef",version:"2.0",sheetX:1,sheetY:34,keywords:["djibouti flag","flag dj","flag: djibouti","dj","flag"],variations:[]},"🥁":{codepoints:"1f941",version:"4.0",sheetX:41,sheetY:17,keywords:["drum with drumsticks","drum","drumsticks","music"],variations:[]},"🍝":{codepoints:"1f35d",version:"2.0",sheetX:6,sheetY:53,keywords:["spaghetti","pasta"],variations:[]},"🦅":{codepoints:"1f985",version:"4.0",sheetX:42,sheetY:23,keywords:["eagle","bird"],variations:[]},"😲":{codepoints:"1f632",version:"2.0",sheetX:31,sheetY:28,keywords:["astonished face","astonished","face","shocked","totally",":o"],variations:[]},"♑":{codepoints:"2651",version:"2.0",sheetX:53,sheetY:29,keywords:["capricorn","goat","zodiac"],variations:[]},"🚈":{codepoints:"1f688",version:"2.0",sheetX:34,sheetY:7,keywords:["light rail","railway"],variations:[]},"🇩🇰":{codepoints:"1f1e9-1f1f0",version:"2.0",sheetX:1,sheetY:35,keywords:["denmark flag","flag dk","flag: denmark","dk","flag"],variations:[]},"📱":{codepoints:"1f4f1",version:"2.0",sheetX:27,sheetY:14,keywords:["mobile phone","iphone","cell","mobile","phone","telephone"],variations:[]},"♦️":{codepoints:"2666-fe0f",version:"2.0",sheetX:53,sheetY:36,keywords:["black diamond suit","diamonds","diamond suit","card","game"],variations:[]},"♦":{codepoints:"2666-fe0f",version:"2.0",sheetX:53,sheetY:36,keywords:["black diamond suit","diamonds","diamond suit","card","game"],variations:[]},"♣️":{codepoints:"2663-fe0f",version:"2.0",sheetX:53,sheetY:34,keywords:["black club suit","clubs","club suit","card","game"],variations:[]},"♣":{codepoints:"2663-fe0f",version:"2.0",sheetX:53,sheetY:34,keywords:["black club suit","clubs","club suit","card","game"],variations:[]},"♒":{codepoints:"2652",version:"2.0",sheetX:53,sheetY:30,keywords:["aquarius","bearer","water","zodiac"],variations:[]},"🍠":{codepoints:"1f360",version:"2.0",sheetX:6,sheetY:56,keywords:["roasted sweet potato","sweet potato","potato","roasted","sweet"],variations:[]},"🇩🇲":{codepoints:"1f1e9-1f1f2",version:"2.0",sheetX:1,sheetY:36,keywords:["dominica flag","flag dm","flag: dominica","dm","flag"],variations:[]},"🦆":{codepoints:"1f986",version:"4.0",sheetX:42,sheetY:24,keywords:["duck","bird"],variations:[]},"📲":{codepoints:"1f4f2",version:"2.0",sheetX:27,sheetY:15,keywords:["mobile phone with rightwards arrow at left","calling","mobile phone with arrow","arrow","cell","mobile","phone","receive"],variations:[]},"🚉":{codepoints:"1f689",version:"2.0",sheetX:34,sheetY:8,keywords:["station","railway","train"],variations:[]},"👱🏻‍♀️":{codepoints:"1f471-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:8},"👱🏼‍♀️":{codepoints:"1f471-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:9},"👱🏽‍♀️":{codepoints:"1f471-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:10},"👱🏾‍♀️":{codepoints:"1f471-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:11},"👱🏿‍♀️":{codepoints:"1f471-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:12},"👱‍♀️":{codepoints:"1f471-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:7,keywords:["blond haired woman","woman: blond hair","blonde","hair","woman"],variations:["👱🏻‍♀️","👱🏼‍♀️","👱🏽‍♀️","👱🏾‍♀️","👱🏿‍♀️"]},"👱‍♀":{codepoints:"1f471-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:7,keywords:["blond haired woman","woman: blond hair","blonde","hair","woman"],variations:["👱🏻‍♀️","👱🏼‍♀️","👱🏽‍♀️","👱🏾‍♀️","👱🏿‍♀️"]},"😳":{codepoints:"1f633",version:"2.0",sheetX:31,sheetY:29,keywords:["flushed face","flushed","dazed","face",":$"],variations:[]},"♓":{codepoints:"2653",version:"2.0",sheetX:53,sheetY:31,keywords:["pisces","fish","zodiac"],variations:[]},"♟️":{codepoints:"265f-fe0f",version:"11.0",sheetX:53,sheetY:32,keywords:["chess pawn","chess","dupe","expendable"],variations:[]},"♟":{codepoints:"265f-fe0f",version:"11.0",sheetX:53,sheetY:32,keywords:["chess pawn","chess","dupe","expendable"],variations:[]},"👱🏻‍♂️":{codepoints:"1f471-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:14},"👱🏼‍♂️":{codepoints:"1f471-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:15},"👱🏽‍♂️":{codepoints:"1f471-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:16},"👱🏾‍♂️":{codepoints:"1f471-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:17},"👱🏿‍♂️":{codepoints:"1f471-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:18},"👱‍♂️":{codepoints:"1f471-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:13,keywords:["blond haired man","man: blond hair","blond","hair","man"],variations:["👱🏻‍♂️","👱🏼‍♂️","👱🏽‍♂️","👱🏾‍♂️","👱🏿‍♂️"]},"👱‍♂":{codepoints:"1f471-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:13,keywords:["blond haired man","man: blond hair","blond","hair","man"],variations:["👱🏻‍♂️","👱🏼‍♂️","👱🏽‍♂️","👱🏾‍♂️","👱🏿‍♂️"]},"☎️":{codepoints:"260e-fe0f",version:"2.0",sheetX:52,sheetY:54,keywords:["black telephone","phone","telephone"],variations:[]},"☎":{codepoints:"260e-fe0f",version:"2.0",sheetX:52,sheetY:54,keywords:["black telephone","phone","telephone"],variations:[]},"🍢":{codepoints:"1f362",version:"2.0",sheetX:7,sheetY:1,keywords:["oden","kebab","seafood","skewer","stick"],variations:[]},"🇩🇴":{codepoints:"1f1e9-1f1f4",version:"2.0",sheetX:1,sheetY:37,keywords:["dominican republic flag","flag do","flag: dominican republic","do","flag"],variations:[]},"🚊":{codepoints:"1f68a",version:"2.0",sheetX:34,sheetY:9,keywords:["tram","trolleybus"],variations:[]},"🦢":{codepoints:"1f9a2",version:"11.0",sheetX:42,sheetY:52,keywords:["swan","bird","cygnet","ugly duckling"],variations:[]},"🥺":{codepoints:"1f97a",version:"11.0",sheetX:42,sheetY:12,keywords:["face with pleading eyes","pleading face","begging","mercy","puppy eyes"],variations:[]},"🇩🇿":{codepoints:"1f1e9-1f1ff",version:"2.0",sheetX:1,sheetY:38,keywords:["algeria flag","flag dz","flag: algeria","dz","flag"],variations:[]},"🚝":{codepoints:"1f69d",version:"2.0",sheetX:34,sheetY:28,keywords:["monorail","vehicle"],variations:[]},"🦉":{codepoints:"1f989",version:"4.0",sheetX:42,sheetY:27,keywords:["owl","bird","wise"],variations:[]},"🍣":{codepoints:"1f363",version:"2.0",sheetX:7,sheetY:2,keywords:["sushi"],variations:[]},"📞":{codepoints:"1f4de",version:"2.0",sheetX:26,sheetY:52,keywords:["telephone receiver","phone","receiver","telephone"],variations:[]},"🃏":{codepoints:"1f0cf",version:"2.0",sheetX:0,sheetY:15,keywords:["playing card black joker","black joker","joker","card","game","wildcard"],variations:[]},"⛎":{codepoints:"26ce",version:"2.0",sheetX:54,sheetY:4,keywords:["ophiuchus","bearer","serpent","snake","zodiac"],variations:[]},"😦":{codepoints:"1f626",version:"2.0",sheetX:31,sheetY:16,keywords:["frowning face with open mouth","frowning","face","frown","mouth","open"],variations:[]},"🧓🏻":{codepoints:"1f9d3-1f3fb",version:"5.0",sheetX:48,sheetY:23},"🧓🏼":{codepoints:"1f9d3-1f3fc",version:"5.0",sheetX:48,sheetY:24},"🧓🏽":{codepoints:"1f9d3-1f3fd",version:"5.0",sheetX:48,sheetY:25},"🧓🏾":{codepoints:"1f9d3-1f3fe",version:"5.0",sheetX:48,sheetY:26},"🧓🏿":{codepoints:"1f9d3-1f3ff",version:"5.0",sheetX:48,sheetY:27},"🧓":{codepoints:"1f9d3",version:"5.0",sheetX:48,sheetY:22,keywords:["older adult","older person","adult","gender neutral","old","unspecified gender"],variations:["🧓🏻","🧓🏼","🧓🏽","🧓🏾","🧓🏿"]},"🇪🇦":{codepoints:"1f1ea-1f1e6",version:"2.0",sheetX:1,sheetY:39,keywords:["ceuta & melilla flag","flag ea","flag: ceuta & melilla","ea","flag"],variations:[]},"📟":{codepoints:"1f4df",version:"2.0",sheetX:26,sheetY:53,keywords:["pager"],variations:[]},"🚞":{codepoints:"1f69e",version:"2.0",sheetX:34,sheetY:29,keywords:["mountain railway","car","mountain","railway"],variations:[]},"🀄":{codepoints:"1f004",version:"2.0",sheetX:0,sheetY:14,keywords:["mahjong tile red dragon","mahjong","mahjong red dragon","game","red"],variations:[]},"👴🏻":{codepoints:"1f474-1f3fb",version:"2.0",sheetX:22,sheetY:50},"👴🏼":{codepoints:"1f474-1f3fc",version:"2.0",sheetX:22,sheetY:51},"👴🏽":{codepoints:"1f474-1f3fd",version:"2.0",sheetX:22,sheetY:52},"👴🏾":{codepoints:"1f474-1f3fe",version:"2.0",sheetX:22,sheetY:53},"👴🏿":{codepoints:"1f474-1f3ff",version:"2.0",sheetX:22,sheetY:54},"👴":{codepoints:"1f474",version:"2.0",sheetX:22,sheetY:49,keywords:["older man","old man","adult","man","old"],variations:["👴🏻","👴🏼","👴🏽","👴🏾","👴🏿"]},"🔀":{codepoints:"1f500",version:"2.0",sheetX:27,sheetY:28,keywords:["twisted rightwards arrows","shuffle tracks button","arrow","crossed"],variations:[]},"🍤":{codepoints:"1f364",version:"2.0",sheetX:7,sheetY:3,keywords:["fried shrimp","fried","prawn","shrimp","tempura"],variations:[]},"😧":{codepoints:"1f627",version:"2.0",sheetX:31,sheetY:17,keywords:["anguished face","anguished","face",":s"],variations:[]},"🔁":{codepoints:"1f501",version:"2.0",sheetX:27,sheetY:29,keywords:["clockwise rightwards and leftwards open circle arrows","repeat","repeat button","arrow","clockwise"],variations:[]},"🍥":{codepoints:"1f365",version:"2.0",sheetX:7,sheetY:4,keywords:["fish cake with swirl design","fish cake","fish cake with swirl","cake","fish","pastry","swirl"],variations:[]},"📠":{codepoints:"1f4e0",version:"2.0",sheetX:26,sheetY:54,keywords:["fax machine","fax"],variations:[]},"👵🏻":{codepoints:"1f475-1f3fb",version:"2.0",sheetX:22,sheetY:56},"👵🏼":{codepoints:"1f475-1f3fc",version:"2.0",sheetX:23,sheetY:0},"👵🏽":{codepoints:"1f475-1f3fd",version:"2.0",sheetX:23,sheetY:1},"👵🏾":{codepoints:"1f475-1f3fe",version:"2.0",sheetX:23,sheetY:2},"👵🏿":{codepoints:"1f475-1f3ff",version:"2.0",sheetX:23,sheetY:3},"👵":{codepoints:"1f475",version:"2.0",sheetX:22,sheetY:55,keywords:["older woman","old woman","adult","old","woman"],variations:["👵🏻","👵🏼","👵🏽","👵🏾","👵🏿"]},"🇪🇨":{codepoints:"1f1ea-1f1e8",version:"2.0",sheetX:1,sheetY:40,keywords:["ecuador flag","flag ec","flag: ecuador","ec","flag"],variations:[]},"🦚":{codepoints:"1f99a",version:"11.0",sheetX:42,sheetY:44,keywords:["peacock","bird","ostentatious","peahen","proud"],variations:[]},"😨":{codepoints:"1f628",version:"2.0",sheetX:31,sheetY:18,keywords:["fearful face","fearful","face","fear","scared"],variations:[]},"🚋":{codepoints:"1f68b",version:"2.0",sheetX:34,sheetY:10,keywords:["tram car","train","car","tram","trolleybus"],variations:[]},"🎴":{codepoints:"1f3b4",version:"2.0",sheetX:8,sheetY:26,keywords:["flower playing cards","card","flower","game","japanese","playing"],variations:[]},"🔂":{codepoints:"1f502",version:"2.0",sheetX:27,sheetY:30,keywords:["clockwise rightwards and leftwards open circle arrows with circled one overlay","repeat one","repeat single button","arrow","clockwise","once"],variations:[]},"🥮":{codepoints:"1f96e",version:"11.0",sheetX:42,sheetY:4,keywords:["moon cake","autumn","festival","yuèbǐng"],variations:[]},"🎭":{codepoints:"1f3ad",version:"2.0",sheetX:8,sheetY:19,keywords:["performing arts","art","mask","performing","theater","theatre"],variations:[]},"😰":{codepoints:"1f630",version:"2.0",sheetX:31,sheetY:26,keywords:["face with open mouth and cold sweat","cold sweat","anxious face with sweat","blue","cold","face","rushed","sweat"],variations:[]},"🙍🏻":{codepoints:"1f64d-1f3fb",version:"2.0",sheetX:33,sheetY:27},"🙍🏼":{codepoints:"1f64d-1f3fc",version:"2.0",sheetX:33,sheetY:28},"🙍🏽":{codepoints:"1f64d-1f3fd",version:"2.0",sheetX:33,sheetY:29},"🙍🏾":{codepoints:"1f64d-1f3fe",version:"2.0",sheetX:33,sheetY:30},"🙍🏿":{codepoints:"1f64d-1f3ff",version:"2.0",sheetX:33,sheetY:31},"🙍":{codepoints:"1f64d",version:"2.0",sheetX:33,sheetY:26,keywords:["person frowning","frown","gesture"],variations:["🙍🏻","🙍🏼","🙍🏽","🙍🏾","🙍🏿"]},"🇪🇪":{codepoints:"1f1ea-1f1ea",version:"2.0",sheetX:1,sheetY:41,keywords:["estonia flag","flag ee","flag: estonia","ee","flag"],variations:[]},"🔋":{codepoints:"1f50b",version:"2.0",sheetX:27,sheetY:39,keywords:["battery"],variations:[]},"🦜":{codepoints:"1f99c",version:"11.0",sheetX:42,sheetY:46,keywords:["parrot","bird","pirate","talk"],variations:[]},"🚌":{codepoints:"1f68c",version:"2.0",sheetX:34,sheetY:11,keywords:["bus","vehicle"],variations:[]},"🇪🇬":{codepoints:"1f1ea-1f1ec",version:"2.0",sheetX:1,sheetY:42,keywords:["egypt flag","flag eg","flag: egypt","eg","flag"],variations:[]},"▶️":{codepoints:"25b6-fe0f",version:"2.0",sheetX:52,sheetY:43,keywords:["black right pointing triangle","arrow forward","play button","arrow","play","right","triangle"],variations:[]},"▶":{codepoints:"25b6-fe0f",version:"2.0",sheetX:52,sheetY:43,keywords:["black right pointing triangle","arrow forward","play button","arrow","play","right","triangle"],variations:[]},"🙍🏻‍♂️":{codepoints:"1f64d-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:21},"🙍🏼‍♂️":{codepoints:"1f64d-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:22},"🙍🏽‍♂️":{codepoints:"1f64d-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:23},"🙍🏾‍♂️":{codepoints:"1f64d-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:24},"🙍🏿‍♂️":{codepoints:"1f64d-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:25},"🙍‍♂️":{codepoints:"1f64d-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:20,keywords:["man frowning","frowning","gesture","man"],variations:["🙍🏻‍♂️","🙍🏼‍♂️","🙍🏽‍♂️","🙍🏾‍♂️","🙍🏿‍♂️"]},"🙍‍♂":{codepoints:"1f64d-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:20,keywords:["man frowning","frowning","gesture","man"],variations:["🙍🏻‍♂️","🙍🏼‍♂️","🙍🏽‍♂️","🙍🏾‍♂️","🙍🏿‍♂️"]},"😥":{codepoints:"1f625",version:"2.0",sheetX:31,sheetY:15,keywords:["disappointed but relieved face","disappointed relieved","sad but relieved face","disappointed","face","relieved","whew"],variations:[]},"🔌":{codepoints:"1f50c",version:"2.0",sheetX:27,sheetY:40,keywords:["electric plug","electric","electricity","plug"],variations:[]},"🖼️":{codepoints:"1f5bc-fe0f",version:"2.0",sheetX:30,sheetY:14,keywords:["frame with picture","framed picture","art","frame","museum","painting","picture"],variations:[]},"🖼":{codepoints:"1f5bc-fe0f",version:"2.0",sheetX:30,sheetY:14,keywords:["frame with picture","framed picture","art","frame","museum","painting","picture"],variations:[]},"🚍":{codepoints:"1f68d",version:"2.0",sheetX:34,sheetY:12,keywords:["oncoming bus","bus","oncoming"],variations:[]},"🍡":{codepoints:"1f361",version:"2.0",sheetX:7,sheetY:0,keywords:["dango","dessert","japanese","skewer","stick","sweet"],variations:[]},"🐸":{codepoints:"1f438",version:"2.0",sheetX:12,sheetY:28,keywords:["frog face","frog","face"],variations:[]},"💻":{codepoints:"1f4bb",version:"2.0",sheetX:26,sheetY:17,keywords:["personal computer","computer","laptop","pc","personal"],variations:[]},"🎨":{codepoints:"1f3a8",version:"2.0",sheetX:8,sheetY:14,keywords:["artist palette","art","museum","painting","palette"],variations:[]},"🇪🇭":{codepoints:"1f1ea-1f1ed",version:"2.0",sheetX:1,sheetY:43,keywords:["western sahara flag","flag eh","flag: western sahara","eh","flag"],variations:[]},"⏩":{codepoints:"23e9",version:"2.0",sheetX:52,sheetY:26,keywords:["black right pointing double triangle","fast forward","fast forward button","arrow","double","fast","forward"],variations:[]},"😢":{codepoints:"1f622",version:"2.0",sheetX:31,sheetY:12,keywords:["crying face","cry","face","sad","tear",":'("],variations:[]},"🙍🏻‍♀️":{codepoints:"1f64d-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:15},"🙍🏼‍♀️":{codepoints:"1f64d-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:16},"🙍🏽‍♀️":{codepoints:"1f64d-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:17},"🙍🏾‍♀️":{codepoints:"1f64d-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:18},"🙍🏿‍♀️":{codepoints:"1f64d-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:19},"🙍‍♀️":{codepoints:"1f64d-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:14,keywords:["woman frowning","frowning","gesture","woman"],variations:["🙍🏻‍♀️","🙍🏼‍♀️","🙍🏽‍♀️","🙍🏾‍♀️","🙍🏿‍♀️"]},"🙍‍♀":{codepoints:"1f64d-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:14,keywords:["woman frowning","frowning","gesture","woman"],variations:["🙍🏻‍♀️","🙍🏼‍♀️","🙍🏽‍♀️","🙍🏾‍♀️","🙍🏿‍♀️"]},"🚎":{codepoints:"1f68e",version:"2.0",sheetX:34,sheetY:13,keywords:["trolleybus","bus","tram","trolley"],variations:[]},"🐊":{codepoints:"1f40a",version:"2.0",sheetX:11,sheetY:38,keywords:["crocodile"],variations:[]},"🥟":{codepoints:"1f95f",version:"5.0",sheetX:41,sheetY:46,keywords:["dumpling","empanada","gyōza","jiaozi","pierogi","potsticker"],variations:[]},"⏭️":{codepoints:"23ed-fe0f",version:"2.0",sheetX:52,sheetY:30,keywords:["black right pointing double triangle with vertical bar","next track button","arrow","next scene","next track","triangle"],variations:[]},"⏭":{codepoints:"23ed-fe0f",version:"2.0",sheetX:52,sheetY:30,keywords:["black right pointing double triangle with vertical bar","next track button","arrow","next scene","next track","triangle"],variations:[]},"🖥️":{codepoints:"1f5a5-fe0f",version:"2.0",sheetX:30,sheetY:10,keywords:["desktop computer","computer","desktop"],variations:[]},"🖥":{codepoints:"1f5a5-fe0f",version:"2.0",sheetX:30,sheetY:10,keywords:["desktop computer","computer","desktop"],variations:[]},"🙎🏻":{codepoints:"1f64e-1f3fb",version:"2.0",sheetX:33,sheetY:45},"🙎🏼":{codepoints:"1f64e-1f3fc",version:"2.0",sheetX:33,sheetY:46},"🙎🏽":{codepoints:"1f64e-1f3fd",version:"2.0",sheetX:33,sheetY:47},"🙎🏾":{codepoints:"1f64e-1f3fe",version:"2.0",sheetX:33,sheetY:48},"🙎🏿":{codepoints:"1f64e-1f3ff",version:"2.0",sheetX:33,sheetY:49},"🙎":{codepoints:"1f64e",version:"2.0",sheetX:33,sheetY:44,keywords:["person with pouting face","person pouting","gesture","pouting"],variations:["🙎🏻","🙎🏼","🙎🏽","🙎🏾","🙎🏿"]},"🐢":{codepoints:"1f422",version:"2.0",sheetX:12,sheetY:6,keywords:["turtle","terrapin","tortoise"],variations:[]},"😭":{codepoints:"1f62d",version:"2.0",sheetX:31,sheetY:23,keywords:["loudly crying face","sob","cry","face","sad","tear",":'o"],variations:[]},"🇪🇷":{codepoints:"1f1ea-1f1f7",version:"2.0",sheetX:1,sheetY:44,keywords:["eritrea flag","flag er","flag: eritrea","er","flag"],variations:[]},"🧵":{codepoints:"1f9f5",version:"11.0",sheetX:51,sheetY:40,keywords:["spool of thread","thread","needle","sewing","spool","string"],variations:[]},"🚐":{codepoints:"1f690",version:"2.0",sheetX:34,sheetY:15,keywords:["minibus","bus"],variations:[]},"🥠":{codepoints:"1f960",version:"5.0",sheetX:41,sheetY:47,keywords:["fortune cookie","prophecy"],variations:[]},"🧶":{codepoints:"1f9f6",version:"11.0",sheetX:51,sheetY:41,keywords:["ball of yarn","yarn","ball","crochet","knit"],variations:[]},"🥡":{codepoints:"1f961",version:"5.0",sheetX:41,sheetY:48,keywords:["takeout box","oyster pail"],variations:[]},"🙎🏻‍♂️":{codepoints:"1f64e-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:39},"🙎🏼‍♂️":{codepoints:"1f64e-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:40},"🙎🏽‍♂️":{codepoints:"1f64e-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:41},"🙎🏾‍♂️":{codepoints:"1f64e-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:42},"🙎🏿‍♂️":{codepoints:"1f64e-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:43},"🙎‍♂️":{codepoints:"1f64e-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:38,keywords:["man pouting","gesture","man","pouting"],variations:["🙎🏻‍♂️","🙎🏼‍♂️","🙎🏽‍♂️","🙎🏾‍♂️","🙎🏿‍♂️"]},"🙎‍♂":{codepoints:"1f64e-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:38,keywords:["man pouting","gesture","man","pouting"],variations:["🙎🏻‍♂️","🙎🏼‍♂️","🙎🏽‍♂️","🙎🏾‍♂️","🙎🏿‍♂️"]},"🖨️":{codepoints:"1f5a8-fe0f",version:"2.0",sheetX:30,sheetY:11,keywords:["printer","computer"],variations:[]},"🖨":{codepoints:"1f5a8-fe0f",version:"2.0",sheetX:30,sheetY:11,keywords:["printer","computer"],variations:[]},"😱":{codepoints:"1f631",version:"2.0",sheetX:31,sheetY:27,keywords:["face screaming in fear","scream","face","fear","munch","scared","Dx"],variations:[]},"🇪🇸":{codepoints:"1f1ea-1f1f8",version:"2.0",sheetX:1,sheetY:45,keywords:["spain flag","es","flag es","flag: spain","flag"],variations:[]},"🚑":{codepoints:"1f691",version:"2.0",sheetX:34,sheetY:16,keywords:["ambulance","vehicle"],variations:[]},"⏯️":{codepoints:"23ef-fe0f",version:"2.0",sheetX:52,sheetY:32,keywords:["black right pointing triangle with double vertical bar","play or pause button","arrow","pause","play","right","triangle"],variations:[]},"⏯":{codepoints:"23ef-fe0f",version:"2.0",sheetX:52,sheetY:32,keywords:["black right pointing triangle with double vertical bar","play or pause button","arrow","pause","play","right","triangle"],variations:[]},"🦎":{codepoints:"1f98e",version:"4.0",sheetX:42,sheetY:32,keywords:["lizard","reptile"],variations:[]},"🇪🇹":{codepoints:"1f1ea-1f1f9",version:"2.0",sheetX:1,sheetY:46,keywords:["ethiopia flag","flag et","flag: ethiopia","et","flag"],variations:[]},"⌨️":{codepoints:"2328-fe0f",version:"2.0",sheetX:52,sheetY:24,keywords:["keyboard","computer"],variations:[]},"⌨":{codepoints:"2328-fe0f",version:"2.0",sheetX:52,sheetY:24,keywords:["keyboard","computer"],variations:[]},"🦀":{codepoints:"1f980",version:"2.0",sheetX:42,sheetY:18,keywords:["crab","cancer","zodiac"],variations:[]},"😖":{codepoints:"1f616",version:"2.0",sheetX:31,sheetY:0,keywords:["confounded face","confounded","face","x("],variations:[]},"🐍":{codepoints:"1f40d",version:"2.0",sheetX:11,sheetY:41,keywords:["snake","bearer","ophiuchus","serpent","zodiac"],variations:[]},"🙎🏻‍♀️":{codepoints:"1f64e-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:33},"🙎🏼‍♀️":{codepoints:"1f64e-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:34},"🙎🏽‍♀️":{codepoints:"1f64e-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:35},"🙎🏾‍♀️":{codepoints:"1f64e-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:36},"🙎🏿‍♀️":{codepoints:"1f64e-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:37},"🙎‍♀️":{codepoints:"1f64e-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:32,keywords:["woman pouting","gesture","pouting","woman"],variations:["🙎🏻‍♀️","🙎🏼‍♀️","🙎🏽‍♀️","🙎🏾‍♀️","🙎🏿‍♀️"]},"🙎‍♀":{codepoints:"1f64e-200d-2640-fe0f",version:"4.0",sheetX:33,sheetY:32,keywords:["woman pouting","gesture","pouting","woman"],variations:["🙎🏻‍♀️","🙎🏼‍♀️","🙎🏽‍♀️","🙎🏾‍♀️","🙎🏿‍♀️"]},"◀️":{codepoints:"25c0-fe0f",version:"2.0",sheetX:52,sheetY:44,keywords:["black left pointing triangle","arrow backward","reverse button","arrow","left","reverse","triangle"],variations:[]},"◀":{codepoints:"25c0-fe0f",version:"2.0",sheetX:52,sheetY:44,keywords:["black left pointing triangle","arrow backward","reverse button","arrow","left","reverse","triangle"],variations:[]},"🚒":{codepoints:"1f692",version:"2.0",sheetX:34,sheetY:17,keywords:["fire engine","engine","fire","truck"],variations:[]},"⏪":{codepoints:"23ea",version:"2.0",sheetX:52,sheetY:27,keywords:["black left pointing double triangle","rewind","fast reverse button","arrow","double"],variations:[]},"🖱️":{codepoints:"1f5b1-fe0f",version:"2.0",sheetX:30,sheetY:12,keywords:["three button mouse","computer mouse","computer"],variations:[]},"🖱":{codepoints:"1f5b1-fe0f",version:"2.0",sheetX:30,sheetY:12,keywords:["three button mouse","computer mouse","computer"],variations:[]},"🙅🏻":{codepoints:"1f645-1f3fb",version:"2.0",sheetX:32,sheetY:3},"🙅🏼":{codepoints:"1f645-1f3fc",version:"2.0",sheetX:32,sheetY:4},"🙅🏽":{codepoints:"1f645-1f3fd",version:"2.0",sheetX:32,sheetY:5},"🙅🏾":{codepoints:"1f645-1f3fe",version:"2.0",sheetX:32,sheetY:6},"🙅🏿":{codepoints:"1f645-1f3ff",version:"2.0",sheetX:32,sheetY:7},"🙅":{codepoints:"1f645",version:"2.0",sheetX:32,sheetY:2,keywords:["face with no good gesture","no good","person gesturing no","forbidden","gesture","hand","prohibited"],variations:["🙅🏻","🙅🏼","🙅🏽","🙅🏾","🙅🏿"]},"🚓":{codepoints:"1f693",version:"2.0",sheetX:34,sheetY:18,keywords:["police car","car","patrol","police"],variations:[]},"🐲":{codepoints:"1f432",version:"2.0",sheetX:12,sheetY:22,keywords:["dragon face","dragon","face","fairy tale"],variations:[]},"😣":{codepoints:"1f623",version:"2.0",sheetX:31,sheetY:13,keywords:["persevering face","persevere","face"],variations:[]},"🦞":{codepoints:"1f99e",version:"11.0",sheetX:42,sheetY:48,keywords:["lobster","bisque","claws","seafood"],variations:[]},"🇪🇺":{codepoints:"1f1ea-1f1fa",version:"2.0",sheetX:1,sheetY:47,keywords:["european union flag","flag eu","flag: european union","eu","flag"],variations:[]},"😞":{codepoints:"1f61e",version:"2.0",sheetX:31,sheetY:8,keywords:["disappointed face","disappointed","face"],variations:[]},"🦐":{codepoints:"1f990",version:"4.0",sheetX:42,sheetY:34,keywords:["shrimp","food","shellfish","small"],variations:[]},"🐉":{codepoints:"1f409",version:"2.0",sheetX:11,sheetY:37,keywords:["dragon","fairy tale"],variations:[]},"🙅🏻‍♂️":{codepoints:"1f645-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:31,sheetY:54},"🙅🏼‍♂️":{codepoints:"1f645-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:31,sheetY:55},"🙅🏽‍♂️":{codepoints:"1f645-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:31,sheetY:56},"🙅🏾‍♂️":{codepoints:"1f645-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:0},"🙅🏿‍♂️":{codepoints:"1f645-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:1},"🙅‍♂️":{codepoints:"1f645-200d-2642-fe0f",version:"4.0",sheetX:31,sheetY:53,keywords:["man gesturing no","forbidden","gesture","hand","man","prohibited"],variations:["🙅🏻‍♂️","🙅🏼‍♂️","🙅🏽‍♂️","🙅🏾‍♂️","🙅🏿‍♂️"]},"🙅‍♂":{codepoints:"1f645-200d-2642-fe0f",version:"4.0",sheetX:31,sheetY:53,keywords:["man gesturing no","forbidden","gesture","hand","man","prohibited"],variations:["🙅🏻‍♂️","🙅🏼‍♂️","🙅🏽‍♂️","🙅🏾‍♂️","🙅🏿‍♂️"]},"🇫🇮":{codepoints:"1f1eb-1f1ee",version:"2.0",sheetX:1,sheetY:48,keywords:["finland flag","flag fi","flag: finland","fi","flag"],variations:[]},"🖲️":{codepoints:"1f5b2-fe0f",version:"2.0",sheetX:30,sheetY:13,keywords:["trackball","computer"],variations:[]},"🖲":{codepoints:"1f5b2-fe0f",version:"2.0",sheetX:30,sheetY:13,keywords:["trackball","computer"],variations:[]},"⏮️":{codepoints:"23ee-fe0f",version:"2.0",sheetX:52,sheetY:31,keywords:["black left pointing double triangle with vertical bar","last track button","arrow","previous scene","previous track","triangle"],variations:[]},"⏮":{codepoints:"23ee-fe0f",version:"2.0",sheetX:52,sheetY:31,keywords:["black left pointing double triangle with vertical bar","last track button","arrow","previous scene","previous track","triangle"],variations:[]},"🚔":{codepoints:"1f694",version:"2.0",sheetX:34,sheetY:19,keywords:["oncoming police car","car","oncoming","police"],variations:[]},"💽":{codepoints:"1f4bd",version:"2.0",sheetX:26,sheetY:19,keywords:["minidisc","computer disk","computer","disk","minidisk","optical"],variations:[]},"😓":{codepoints:"1f613",version:"2.0",sheetX:30,sheetY:54,keywords:["face with cold sweat","sweat","downcast face with sweat","cold","face",":<"],variations:[]},"🦑":{codepoints:"1f991",version:"4.0",sheetX:42,sheetY:35,keywords:["squid","food","molusc"],variations:[]},"🦕":{codepoints:"1f995",version:"5.0",sheetX:42,sheetY:39,keywords:["sauropod","brachiosaurus","brontosaurus","diplodocus"],variations:[]},"🔼":{codepoints:"1f53c",version:"2.0",sheetX:28,sheetY:31,keywords:["up pointing small red triangle","arrow up small","upwards button","arrow","button","red"],variations:[]},"🇫🇯":{codepoints:"1f1eb-1f1ef",version:"2.0",sheetX:1,sheetY:49,keywords:["fiji flag","flag fj","flag: fiji","fj","flag"],variations:[]},"🙅🏻‍♀️":{codepoints:"1f645-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:31,sheetY:48},"🙅🏼‍♀️":{codepoints:"1f645-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:31,sheetY:49},"🙅🏽‍♀️":{codepoints:"1f645-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:31,sheetY:50},"🙅🏾‍♀️":{codepoints:"1f645-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:31,sheetY:51},"🙅🏿‍♀️":{codepoints:"1f645-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:31,sheetY:52},"🙅‍♀️":{codepoints:"1f645-200d-2640-fe0f",version:"4.0",sheetX:31,sheetY:47,keywords:["woman gesturing no","forbidden","gesture","hand","prohibited","woman"],variations:["🙅🏻‍♀️","🙅🏼‍♀️","🙅🏽‍♀️","🙅🏾‍♀️","🙅🏿‍♀️"]},"🙅‍♀":{codepoints:"1f645-200d-2640-fe0f",version:"4.0",sheetX:31,sheetY:47,keywords:["woman gesturing no","forbidden","gesture","hand","prohibited","woman"],variations:["🙅🏻‍♀️","🙅🏼‍♀️","🙅🏽‍♀️","🙅🏾‍♀️","🙅🏿‍♀️"]},"🚕":{codepoints:"1f695",version:"2.0",sheetX:34,sheetY:20,keywords:["taxi","vehicle"],variations:[]},"🇫🇰":{codepoints:"1f1eb-1f1f0",version:"2.0",sheetX:1,sheetY:50,keywords:["falkland islands flag","flag fk","flag: falkland islands","fk","flag"],variations:[]},"💾":{codepoints:"1f4be",version:"2.0",sheetX:26,sheetY:20,keywords:["floppy disk","computer","disk","floppy"],variations:[]},"🦖":{codepoints:"1f996",version:"5.0",sheetX:42,sheetY:40,keywords:["t rex","tyrannosaurus rex"],variations:[]},"⏫":{codepoints:"23eb",version:"2.0",sheetX:52,sheetY:28,keywords:["black up pointing double triangle","arrow double up","fast up button","arrow","double"],variations:[]},"🚖":{codepoints:"1f696",version:"2.0",sheetX:34,sheetY:21,keywords:["oncoming taxi","oncoming","taxi"],variations:[]},"🙆🏻":{codepoints:"1f646-1f3fb",version:"2.0",sheetX:32,sheetY:21},"🙆🏼":{codepoints:"1f646-1f3fc",version:"2.0",sheetX:32,sheetY:22},"🙆🏽":{codepoints:"1f646-1f3fd",version:"2.0",sheetX:32,sheetY:23},"🙆🏾":{codepoints:"1f646-1f3fe",version:"2.0",sheetX:32,sheetY:24},"🙆🏿":{codepoints:"1f646-1f3ff",version:"2.0",sheetX:32,sheetY:25},"🙆":{codepoints:"1f646",version:"2.0",sheetX:32,sheetY:20,keywords:["face with ok gesture","ok woman","person gesturing ok","gesture","hand","ok"],variations:["🙆🏻","🙆🏼","🙆🏽","🙆🏾","🙆🏿"]},"😩":{codepoints:"1f629",version:"2.0",sheetX:31,sheetY:19,keywords:["weary face","weary","face","tired","D:"],variations:[]},"🙆🏻‍♂️":{codepoints:"1f646-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:15},"🙆🏼‍♂️":{codepoints:"1f646-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:16},"🙆🏽‍♂️":{codepoints:"1f646-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:17},"🙆🏾‍♂️":{codepoints:"1f646-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:18},"🙆🏿‍♂️":{codepoints:"1f646-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:19},"🙆‍♂️":{codepoints:"1f646-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:14,keywords:["man gesturing ok","gesture","hand","man","ok"],variations:["🙆🏻‍♂️","🙆🏼‍♂️","🙆🏽‍♂️","🙆🏾‍♂️","🙆🏿‍♂️"]},"🙆‍♂":{codepoints:"1f646-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:14,keywords:["man gesturing ok","gesture","hand","man","ok"],variations:["🙆🏻‍♂️","🙆🏼‍♂️","🙆🏽‍♂️","🙆🏾‍♂️","🙆🏿‍♂️"]},"🔽":{codepoints:"1f53d",version:"2.0",sheetX:28,sheetY:32,keywords:["down pointing small red triangle","arrow down small","downwards button","arrow","button","down","red"],variations:[]},"😫":{codepoints:"1f62b",version:"2.0",sheetX:31,sheetY:21,keywords:["tired face","face","tired",":c"],variations:[]},"🚗":{codepoints:"1f697",version:"2.0",sheetX:34,sheetY:22,keywords:["automobile","car","red car"],variations:[]},"🍦":{codepoints:"1f366",version:"2.0",sheetX:7,sheetY:5,keywords:["soft ice cream","icecream","cream","dessert","ice","soft","sweet"],variations:[]},"💿":{codepoints:"1f4bf",version:"2.0",sheetX:26,sheetY:21,keywords:["optical disc","cd","optical disk","computer","disk","optical"],variations:[]},"🐳":{codepoints:"1f433",version:"2.0",sheetX:12,sheetY:23,keywords:["spouting whale","whale","face","spouting"],variations:[]},"🇫🇲":{codepoints:"1f1eb-1f1f2",version:"2.0",sheetX:1,sheetY:51,keywords:["micronesia flag","flag fm","flag: micronesia","fm","flag"],variations:[]},"🚘":{codepoints:"1f698",version:"2.0",sheetX:34,sheetY:23,keywords:["oncoming automobile","automobile","car","oncoming"],variations:[]},"⏬":{codepoints:"23ec",version:"2.0",sheetX:52,sheetY:29,keywords:["black down pointing double triangle","arrow double down","fast down button","arrow","double","down"],variations:[]},"🙆🏻‍♀️":{codepoints:"1f646-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:9},"🙆🏼‍♀️":{codepoints:"1f646-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:10},"🙆🏽‍♀️":{codepoints:"1f646-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:11},"🙆🏾‍♀️":{codepoints:"1f646-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:12},"🙆🏿‍♀️":{codepoints:"1f646-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:13},"🙆‍♀️":{codepoints:"1f646-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:8,keywords:["woman gesturing ok","gesture","hand","ok","woman"],variations:["🙆🏻‍♀️","🙆🏼‍♀️","🙆🏽‍♀️","🙆🏾‍♀️","🙆🏿‍♀️"]},"🙆‍♀":{codepoints:"1f646-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:8,keywords:["woman gesturing ok","gesture","hand","ok","woman"],variations:["🙆🏻‍♀️","🙆🏼‍♀️","🙆🏽‍♀️","🙆🏾‍♀️","🙆🏿‍♀️"]},"📀":{codepoints:"1f4c0",version:"2.0",sheetX:26,sheetY:22,keywords:["dvd","blu ray","computer","disk","optical"],variations:[]},"🐋":{codepoints:"1f40b",version:"2.0",sheetX:11,sheetY:39,keywords:["whale","whale2"],variations:[]},"🇫🇴":{codepoints:"1f1eb-1f1f4",version:"2.0",sheetX:1,sheetY:52,keywords:["faroe islands flag","flag fo","flag: faroe islands","fo","flag"],variations:[]},"🍧":{codepoints:"1f367",version:"2.0",sheetX:7,sheetY:6,keywords:["shaved ice","dessert","ice","shaved","sweet"],variations:[]},"⏸️":{codepoints:"23f8-fe0f",version:"2.0",sheetX:52,sheetY:37,keywords:["double vertical bar","pause button","bar","double","pause","vertical"],variations:[]},"⏸":{codepoints:"23f8-fe0f",version:"2.0",sheetX:52,sheetY:37,keywords:["double vertical bar","pause button","bar","double","pause","vertical"],variations:[]},"💁🏻":{codepoints:"1f481-1f3fb",version:"2.0",sheetX:24,sheetY:3},"💁🏼":{codepoints:"1f481-1f3fc",version:"2.0",sheetX:24,sheetY:4},"💁🏽":{codepoints:"1f481-1f3fd",version:"2.0",sheetX:24,sheetY:5},"💁🏾":{codepoints:"1f481-1f3fe",version:"2.0",sheetX:24,sheetY:6},"💁🏿":{codepoints:"1f481-1f3ff",version:"2.0",sheetX:24,sheetY:7},"💁":{codepoints:"1f481",version:"2.0",sheetX:24,sheetY:2,keywords:["information desk person","person tipping hand","hand","help","information","sassy","tipping"],variations:["💁🏻","💁🏼","💁🏽","💁🏾","💁🏿"]},"🐬":{codepoints:"1f42c",version:"2.0",sheetX:12,sheetY:16,keywords:["dolphin","flipper"],variations:[]},"🚙":{codepoints:"1f699",version:"2.0",sheetX:34,sheetY:24,keywords:["recreational vehicle","blue car","sport utility vehicle","recreational","sport utility"],variations:[]},"🍨":{codepoints:"1f368",version:"2.0",sheetX:7,sheetY:7,keywords:["ice cream","cream","dessert","ice","sweet"],variations:[]},"🇫🇷":{codepoints:"1f1eb-1f1f7",version:"2.0",sheetX:1,sheetY:53,keywords:["france flag","fr","flag fr","flag: france","flag"],variations:[]},"😤":{codepoints:"1f624",version:"2.0",sheetX:31,sheetY:14,keywords:["face with look of triumph","triumph","face with steam from nose","face","won"],variations:[]},"🧮":{codepoints:"1f9ee",version:"11.0",sheetX:51,sheetY:33,keywords:["abacus","calculation"],variations:[]},"💁🏻‍♂️":{codepoints:"1f481-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:23,sheetY:54},"💁🏼‍♂️":{codepoints:"1f481-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:23,sheetY:55},"💁🏽‍♂️":{codepoints:"1f481-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:23,sheetY:56},"💁🏾‍♂️":{codepoints:"1f481-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:0},"💁🏿‍♂️":{codepoints:"1f481-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:1},"💁‍♂️":{codepoints:"1f481-200d-2642-fe0f",version:"4.0",sheetX:23,sheetY:53,keywords:["man tipping hand","man","sassy","tipping hand"],variations:["💁🏻‍♂️","💁🏼‍♂️","💁🏽‍♂️","💁🏾‍♂️","💁🏿‍♂️"]},"💁‍♂":{codepoints:"1f481-200d-2642-fe0f",version:"4.0",sheetX:23,sheetY:53,keywords:["man tipping hand","man","sassy","tipping hand"],variations:["💁🏻‍♂️","💁🏼‍♂️","💁🏽‍♂️","💁🏾‍♂️","💁🏿‍♂️"]},"🍩":{codepoints:"1f369",version:"2.0",sheetX:7,sheetY:8,keywords:["doughnut","breakfast","dessert","donut","sweet"],variations:[]},"🐟":{codepoints:"1f41f",version:"2.0",sheetX:12,sheetY:3,keywords:["fish","pisces","zodiac"],variations:[]},"🚚":{codepoints:"1f69a",version:"2.0",sheetX:34,sheetY:25,keywords:["delivery truck","truck","delivery"],variations:[]},"🎥":{codepoints:"1f3a5",version:"2.0",sheetX:8,sheetY:11,keywords:["movie camera","camera","cinema","movie"],variations:[]},"🇬🇦":{codepoints:"1f1ec-1f1e6",version:"2.0",sheetX:1,sheetY:54,keywords:["gabon flag","flag ga","flag: gabon","ga","flag"],variations:[]},"😡":{codepoints:"1f621",version:"2.0",sheetX:31,sheetY:11,keywords:["pouting face","rage","angry","face","mad","pouting","red",">:/"],variations:[]},"⏹️":{codepoints:"23f9-fe0f",version:"2.0",sheetX:52,sheetY:38,keywords:["black square for stop","stop button","square","stop"],variations:[]},"⏹":{codepoints:"23f9-fe0f",version:"2.0",sheetX:52,sheetY:38,keywords:["black square for stop","stop button","square","stop"],variations:[]},"🚛":{codepoints:"1f69b",version:"2.0",sheetX:34,sheetY:26,keywords:["articulated lorry","lorry","semi","truck"],variations:[]},"😠":{codepoints:"1f620",version:"2.0",sheetX:31,sheetY:10,keywords:["angry face","angry","face","mad"],variations:[]},"🍪":{codepoints:"1f36a",version:"2.0",sheetX:7,sheetY:9,keywords:["cookie","dessert","sweet"],variations:[]},"🇬🇧":{codepoints:"1f1ec-1f1e7",version:"2.0",sheetX:1,sheetY:55,keywords:["united kingdom flag","gb","uk","flag gb","flag: united kingdom","flag"],variations:[]},"🐠":{codepoints:"1f420",version:"2.0",sheetX:12,sheetY:4,keywords:["tropical fish","fish","tropical"],variations:[]},"💁🏻‍♀️":{codepoints:"1f481-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:48},"💁🏼‍♀️":{codepoints:"1f481-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:49},"💁🏽‍♀️":{codepoints:"1f481-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:50},"💁🏾‍♀️":{codepoints:"1f481-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:51},"💁🏿‍♀️":{codepoints:"1f481-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:52},"💁‍♀️":{codepoints:"1f481-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:47,keywords:["woman tipping hand","sassy","tipping hand","woman"],variations:["💁🏻‍♀️","💁🏼‍♀️","💁🏽‍♀️","💁🏾‍♀️","💁🏿‍♀️"]},"💁‍♀":{codepoints:"1f481-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:47,keywords:["woman tipping hand","sassy","tipping hand","woman"],variations:["💁🏻‍♀️","💁🏼‍♀️","💁🏽‍♀️","💁🏾‍♀️","💁🏿‍♀️"]},"⏺️":{codepoints:"23fa-fe0f",version:"2.0",sheetX:52,sheetY:39,keywords:["black circle for record","record button","circle","record"],variations:[]},"⏺":{codepoints:"23fa-fe0f",version:"2.0",sheetX:52,sheetY:39,keywords:["black circle for record","record button","circle","record"],variations:[]},"🎞️":{codepoints:"1f39e-fe0f",version:"2.0",sheetX:8,sheetY:4,keywords:["film frames","cinema","film","frames","movie"],variations:[]},"🎞":{codepoints:"1f39e-fe0f",version:"2.0",sheetX:8,sheetY:4,keywords:["film frames","cinema","film","frames","movie"],variations:[]},"📽️":{codepoints:"1f4fd-fe0f",version:"2.0",sheetX:27,sheetY:26,keywords:["film projector","cinema","film","movie","projector","video"],variations:[]},"📽":{codepoints:"1f4fd-fe0f",version:"2.0",sheetX:27,sheetY:26,keywords:["film projector","cinema","film","movie","projector","video"],variations:[]},"🇬🇩":{codepoints:"1f1ec-1f1e9",version:"2.0",sheetX:1,sheetY:56,keywords:["grenada flag","flag gd","flag: grenada","gd","flag"],variations:[]},"🐡":{codepoints:"1f421",version:"2.0",sheetX:12,sheetY:5,keywords:["blowfish","fish"],variations:[]},"🤬":{codepoints:"1f92c",version:"5.0",sheetX:38,sheetY:46,keywords:["serious face with symbols covering mouth","face with symbols on mouth","swearing",":@"],variations:[]},"🎂":{codepoints:"1f382",version:"2.0",sheetX:7,sheetY:33,keywords:["birthday cake","birthday","cake","celebration","dessert","pastry","sweet"],variations:[]},"⏏️":{codepoints:"23cf-fe0f",version:"2.0",sheetX:52,sheetY:25,keywords:["eject","eject button"],variations:[]},"⏏":{codepoints:"23cf-fe0f",version:"2.0",sheetX:52,sheetY:25,keywords:["eject","eject button"],variations:[]},"🙋🏻":{codepoints:"1f64b-1f3fb",version:"2.0",sheetX:33,sheetY:3},"🙋🏼":{codepoints:"1f64b-1f3fc",version:"2.0",sheetX:33,sheetY:4},"🙋🏽":{codepoints:"1f64b-1f3fd",version:"2.0",sheetX:33,sheetY:5},"🙋🏾":{codepoints:"1f64b-1f3fe",version:"2.0",sheetX:33,sheetY:6},"🙋🏿":{codepoints:"1f64b-1f3ff",version:"2.0",sheetX:33,sheetY:7},"🙋":{codepoints:"1f64b",version:"2.0",sheetX:33,sheetY:2,keywords:["happy person raising one hand","raising hand","person raising hand","gesture","hand","happy","raised"],variations:["🙋🏻","🙋🏼","🙋🏽","🙋🏾","🙋🏿"]},"🚜":{codepoints:"1f69c",version:"2.0",sheetX:34,sheetY:27,keywords:["tractor","vehicle"],variations:[]},"🇬🇪":{codepoints:"1f1ec-1f1ea",version:"2.0",sheetX:2,sheetY:0,keywords:["georgia flag","flag ge","flag: georgia","ge","flag"],variations:[]},"😈":{codepoints:"1f608",version:"2.0",sheetX:30,sheetY:43,keywords:["smiling face with horns","smiling imp","face","fairy tale","fantasy","horns","smile",">:)"],variations:[]},"🏎️":{codepoints:"1f3ce-fe0f",version:"2.0",sheetX:10,sheetY:33,keywords:["racing car","car","racing"],variations:[]},"🏎":{codepoints:"1f3ce-fe0f",version:"2.0",sheetX:10,sheetY:33,keywords:["racing car","car","racing"],variations:[]},"🎦":{codepoints:"1f3a6",version:"2.0",sheetX:8,sheetY:12,keywords:["cinema","camera","film","movie"],variations:[]},"🎬":{codepoints:"1f3ac",version:"2.0",sheetX:8,sheetY:18,keywords:["clapper board","clapper","movie"],variations:[]},"🦈":{codepoints:"1f988",version:"4.0",sheetX:42,sheetY:26,keywords:["shark","fish"],variations:[]},"🍰":{codepoints:"1f370",version:"2.0",sheetX:7,sheetY:15,keywords:["shortcake","cake","dessert","pastry","slice","sweet"],variations:[]},"🙋🏻‍♂️":{codepoints:"1f64b-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:54},"🙋🏼‍♂️":{codepoints:"1f64b-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:55},"🙋🏽‍♂️":{codepoints:"1f64b-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:56},"🙋🏾‍♂️":{codepoints:"1f64b-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:0},"🙋🏿‍♂️":{codepoints:"1f64b-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:33,sheetY:1},"🙋‍♂️":{codepoints:"1f64b-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:53,keywords:["man raising hand","gesture","man","raising hand"],variations:["🙋🏻‍♂️","🙋🏼‍♂️","🙋🏽‍♂️","🙋🏾‍♂️","🙋🏿‍♂️"]},"🙋‍♂":{codepoints:"1f64b-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:53,keywords:["man raising hand","gesture","man","raising hand"],variations:["🙋🏻‍♂️","🙋🏼‍♂️","🙋🏽‍♂️","🙋🏾‍♂️","🙋🏿‍♂️"]},"🐙":{codepoints:"1f419",version:"2.0",sheetX:11,sheetY:54,keywords:["octopus"],variations:[]},"🙋🏻‍♀️":{codepoints:"1f64b-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:48},"🙋🏼‍♀️":{codepoints:"1f64b-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:49},"🙋🏽‍♀️":{codepoints:"1f64b-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:50},"🙋🏾‍♀️":{codepoints:"1f64b-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:51},"🙋🏿‍♀️":{codepoints:"1f64b-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:52},"🙋‍♀️":{codepoints:"1f64b-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:47,keywords:["woman raising hand","gesture","raising hand","woman"],variations:["🙋🏻‍♀️","🙋🏼‍♀️","🙋🏽‍♀️","🙋🏾‍♀️","🙋🏿‍♀️"]},"🙋‍♀":{codepoints:"1f64b-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:47,keywords:["woman raising hand","gesture","raising hand","woman"],variations:["🙋🏻‍♀️","🙋🏼‍♀️","🙋🏽‍♀️","🙋🏾‍♀️","🙋🏿‍♀️"]},"🇬🇫":{codepoints:"1f1ec-1f1eb",version:"2.0",sheetX:2,sheetY:1,keywords:["french guiana flag","flag gf","flag: french guiana","gf","flag"],variations:[]},"📺":{codepoints:"1f4fa",version:"2.0",sheetX:27,sheetY:23,keywords:["television","tv","video"],variations:[]},"👿":{codepoints:"1f47f",version:"2.0",sheetX:23,sheetY:45,keywords:["imp","angry face with horns","demon","devil","face","fantasy",">:("],variations:[]},"🧁":{codepoints:"1f9c1",version:"11.0",sheetX:44,sheetY:9,keywords:["cupcake","bakery","sweet"],variations:[]},"🏍️":{codepoints:"1f3cd-fe0f",version:"2.0",sheetX:10,sheetY:32,keywords:["racing motorcycle","motorcycle","racing"],variations:[]},"🏍":{codepoints:"1f3cd-fe0f",version:"2.0",sheetX:10,sheetY:32,keywords:["racing motorcycle","motorcycle","racing"],variations:[]},"🔅":{codepoints:"1f505",version:"2.0",sheetX:27,sheetY:33,keywords:["low brightness symbol","low brightness","dim button","brightness","dim","low"],variations:[]},"🐚":{codepoints:"1f41a",version:"2.0",sheetX:11,sheetY:55,keywords:["spiral shell","shell","spiral"],variations:[]},"🇬🇬":{codepoints:"1f1ec-1f1ec",version:"2.0",sheetX:2,sheetY:2,keywords:["guernsey flag","flag gg","flag: guernsey","gg","flag"],variations:[]},"🔆":{codepoints:"1f506",version:"2.0",sheetX:27,sheetY:34,keywords:["high brightness symbol","high brightness","bright button","bright","brightness"],variations:[]},"💀":{codepoints:"1f480",version:"2.0",sheetX:23,sheetY:46,keywords:["skull","death","face","fairy tale","monster"],variations:[]},"🛵":{codepoints:"1f6f5",version:"4.0",sheetX:36,sheetY:54,keywords:["motor scooter","motor","scooter"],variations:[]},"📷":{codepoints:"1f4f7",version:"2.0",sheetX:27,sheetY:20,keywords:["camera","video"],variations:[]},"🥧":{codepoints:"1f967",version:"5.0",sheetX:41,sheetY:54,keywords:["pie","filling","pastry"],variations:[]},"🇬🇭":{codepoints:"1f1ec-1f1ed",version:"2.0",sheetX:2,sheetY:3,keywords:["ghana flag","flag gh","flag: ghana","gh","flag"],variations:[]},"☠️":{codepoints:"2620-fe0f",version:"2.0",sheetX:53,sheetY:8,keywords:["skull and crossbones","crossbones","death","face","monster","skull"],variations:[]},"☠":{codepoints:"2620-fe0f",version:"2.0",sheetX:53,sheetY:8,keywords:["skull and crossbones","crossbones","death","face","monster","skull"],variations:[]},"📸":{codepoints:"1f4f8",version:"2.0",sheetX:27,sheetY:21,keywords:["camera with flash","camera","flash","video"],variations:[]},"📶":{codepoints:"1f4f6",version:"2.0",sheetX:27,sheetY:19,keywords:["antenna with bars","signal strength","antenna bars","antenna","bar","cell","mobile","phone"],variations:[]},"🍫":{codepoints:"1f36b",version:"2.0",sheetX:7,sheetY:10,keywords:["chocolate bar","bar","chocolate","dessert","sweet"],variations:[]},"🐌":{codepoints:"1f40c",version:"2.0",sheetX:11,sheetY:40,keywords:["snail"],variations:[]},"🇬🇮":{codepoints:"1f1ec-1f1ee",version:"2.0",sheetX:2,sheetY:4,keywords:["gibraltar flag","flag gi","flag: gibraltar","gi","flag"],variations:[]},"💩":{codepoints:"1f4a9",version:"2.0",sheetX:25,sheetY:51,keywords:["pile of poo","hankey","poop","shit","dung","face","monster","poo"],variations:[]},"📳":{codepoints:"1f4f3",version:"2.0",sheetX:27,sheetY:16,keywords:["vibration mode","cell","mobile","mode","phone","telephone","vibration"],variations:[]},"🦋":{codepoints:"1f98b",version:"4.0",sheetX:42,sheetY:29,keywords:["butterfly","insect","pretty"],variations:[]},"📹":{codepoints:"1f4f9",version:"2.0",sheetX:27,sheetY:22,keywords:["video camera","camera","video"],variations:[]},"🍬":{codepoints:"1f36c",version:"2.0",sheetX:7,sheetY:11,keywords:["candy","dessert","sweet"],variations:[]},"🙇🏻":{codepoints:"1f647-1f3fb",version:"2.0",sheetX:32,sheetY:39},"🙇🏼":{codepoints:"1f647-1f3fc",version:"2.0",sheetX:32,sheetY:40},"🙇🏽":{codepoints:"1f647-1f3fd",version:"2.0",sheetX:32,sheetY:41},"🙇🏾":{codepoints:"1f647-1f3fe",version:"2.0",sheetX:32,sheetY:42},"🙇🏿":{codepoints:"1f647-1f3ff",version:"2.0",sheetX:32,sheetY:43},"🙇":{codepoints:"1f647",version:"2.0",sheetX:32,sheetY:38,keywords:["person bowing deeply","bow","person bowing","apology","gesture","sorry"],variations:["🙇🏻","🙇🏼","🙇🏽","🙇🏾","🙇🏿"]},"📴":{codepoints:"1f4f4",version:"2.0",sheetX:27,sheetY:17,keywords:["mobile phone off","cell","mobile","off","phone","telephone"],variations:[]},"🤡":{codepoints:"1f921",version:"4.0",sheetX:38,sheetY:18,keywords:["clown face","clown","face"],variations:[]},"🍭":{codepoints:"1f36d",version:"2.0",sheetX:7,sheetY:12,keywords:["lollipop","candy","dessert","sweet"],variations:[]},"🇬🇱":{codepoints:"1f1ec-1f1f1",version:"2.0",sheetX:2,sheetY:5,keywords:["greenland flag","flag gl","flag: greenland","gl","flag"],variations:[]},"📼":{codepoints:"1f4fc",version:"2.0",sheetX:27,sheetY:25,keywords:["videocassette","vhs","tape","video"],variations:[]},"🐛":{codepoints:"1f41b",version:"2.0",sheetX:11,sheetY:56,keywords:["bug","insect"],variations:[]},"🚲":{codepoints:"1f6b2",version:"2.0",sheetX:35,sheetY:9,keywords:["bicycle","bike"],variations:[]},"🙇🏻‍♂️":{codepoints:"1f647-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:33},"🙇🏼‍♂️":{codepoints:"1f647-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:34},"🙇🏽‍♂️":{codepoints:"1f647-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:35},"🙇🏾‍♂️":{codepoints:"1f647-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:36},"🙇🏿‍♂️":{codepoints:"1f647-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:37},"🙇‍♂️":{codepoints:"1f647-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:32,keywords:["man bowing","apology","bowing","favor","gesture","man","sorry"],variations:["🙇🏻‍♂️","🙇🏼‍♂️","🙇🏽‍♂️","🙇🏾‍♂️","🙇🏿‍♂️"]},"🙇‍♂":{codepoints:"1f647-200d-2642-fe0f",version:"4.0",sheetX:32,sheetY:32,keywords:["man bowing","apology","bowing","favor","gesture","man","sorry"],variations:["🙇🏻‍♂️","🙇🏼‍♂️","🙇🏽‍♂️","🙇🏾‍♂️","🙇🏿‍♂️"]},"♀️":{codepoints:"2640-fe0f",version:"4.0",sheetX:53,sheetY:18,keywords:["female sign","woman"],variations:[]},"♀":{codepoints:"2640-fe0f",version:"4.0",sheetX:53,sheetY:18,keywords:["female sign","woman"],variations:[]},"👹":{codepoints:"1f479",version:"2.0",sheetX:23,sheetY:34,keywords:["japanese ogre","ogre","creature","face","fairy tale","fantasy","monster",">0)"],variations:[]},"🍮":{codepoints:"1f36e",version:"2.0",sheetX:7,sheetY:13,keywords:["custard","dessert","pudding","sweet"],variations:[]},"🐜":{codepoints:"1f41c",version:"2.0",sheetX:12,sheetY:0,keywords:["ant","insect"],variations:[]},"🔍":{codepoints:"1f50d",version:"2.0",sheetX:27,sheetY:41,keywords:["left pointing magnifying glass","mag","magnifying glass tilted left","glass","magnifying","search","tool"],variations:[]},"🇬🇲":{codepoints:"1f1ec-1f1f2",version:"2.0",sheetX:2,sheetY:6,keywords:["gambia flag","flag gm","flag: gambia","gm","flag"],variations:[]},"🍯":{codepoints:"1f36f",version:"2.0",sheetX:7,sheetY:14,keywords:["honey pot","honey","honeypot","pot","sweet"],variations:[]},"🙇🏻‍♀️":{codepoints:"1f647-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:27},"🙇🏼‍♀️":{codepoints:"1f647-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:28},"🙇🏽‍♀️":{codepoints:"1f647-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:29},"🙇🏾‍♀️":{codepoints:"1f647-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:30},"🙇🏿‍♀️":{codepoints:"1f647-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:31},"🙇‍♀️":{codepoints:"1f647-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:26,keywords:["woman bowing","apology","bowing","favor","gesture","sorry","woman"],variations:["🙇🏻‍♀️","🙇🏼‍♀️","🙇🏽‍♀️","🙇🏾‍♀️","🙇🏿‍♀️"]},"🙇‍♀":{codepoints:"1f647-200d-2640-fe0f",version:"4.0",sheetX:32,sheetY:26,keywords:["woman bowing","apology","bowing","favor","gesture","sorry","woman"],variations:["🙇🏻‍♀️","🙇🏼‍♀️","🙇🏽‍♀️","🙇🏾‍♀️","🙇🏿‍♀️"]},"♂️":{codepoints:"2642-fe0f",version:"4.0",sheetX:53,sheetY:19,keywords:["male sign","man"],variations:[]},"♂":{codepoints:"2642-fe0f",version:"4.0",sheetX:53,sheetY:19,keywords:["male sign","man"],variations:[]},"🔎":{codepoints:"1f50e",version:"2.0",sheetX:27,sheetY:42,keywords:["right pointing magnifying glass","mag right","magnifying glass tilted right","glass","magnifying","search","tool"],variations:[]},"👺":{codepoints:"1f47a",version:"2.0",sheetX:23,sheetY:35,keywords:["japanese goblin","goblin","creature","face","fairy tale","fantasy","monster"],variations:[]},"🛴":{codepoints:"1f6f4",version:"4.0",sheetX:36,sheetY:53,keywords:["scooter","kick scooter","kick"],variations:[]},"🐝":{codepoints:"1f41d",version:"2.0",sheetX:12,sheetY:1,keywords:["honeybee","bee","insect"],variations:[]},"🇬🇳":{codepoints:"1f1ec-1f1f3",version:"2.0",sheetX:2,sheetY:7,keywords:["guinea flag","flag gn","flag: guinea","gn","flag"],variations:[]},"🕯️":{codepoints:"1f56f-fe0f",version:"2.0",sheetX:29,sheetY:6,keywords:["candle","light"],variations:[]},"🕯":{codepoints:"1f56f-fe0f",version:"2.0",sheetX:29,sheetY:6,keywords:["candle","light"],variations:[]},"🛹":{codepoints:"1f6f9",version:"11.0",sheetX:37,sheetY:1,keywords:["skateboard","board"],variations:[]},"⚕️":{codepoints:"2695-fe0f",version:"4.0",sheetX:53,sheetY:44,keywords:["medical symbol","staff of aesculapius","aesculapius","medicine","staff"],variations:[]},"⚕":{codepoints:"2695-fe0f",version:"4.0",sheetX:53,sheetY:44,keywords:["medical symbol","staff of aesculapius","aesculapius","medicine","staff"],variations:[]},"👻":{codepoints:"1f47b",version:"2.0",sheetX:23,sheetY:36,keywords:["ghost","creature","face","fairy tale","fantasy","monster"],variations:[]},"🐞":{codepoints:"1f41e",version:"2.0",sheetX:12,sheetY:2,keywords:["lady beetle","beetle","insect","ladybird","ladybug"],variations:[]},"🤦🏻":{codepoints:"1f926-1f3fb",version:"4.0",sheetX:38,sheetY:36},"🤦🏼":{codepoints:"1f926-1f3fc",version:"4.0",sheetX:38,sheetY:37},"🤦🏽":{codepoints:"1f926-1f3fd",version:"4.0",sheetX:38,sheetY:38},"🤦🏾":{codepoints:"1f926-1f3fe",version:"4.0",sheetX:38,sheetY:39},"🤦🏿":{codepoints:"1f926-1f3ff",version:"4.0",sheetX:38,sheetY:40},"🤦":{codepoints:"1f926",version:"4.0",sheetX:38,sheetY:35,keywords:["face palm","person facepalming","disbelief","exasperation","face","palm"],variations:["🤦🏻","🤦🏼","🤦🏽","🤦🏾","🤦🏿"]},"🇬🇵":{codepoints:"1f1ec-1f1f5",version:"2.0",sheetX:2,sheetY:8,keywords:["guadeloupe flag","flag gp","flag: guadeloupe","gp","flag"],variations:[]},"🍼":{codepoints:"1f37c",version:"2.0",sheetX:7,sheetY:27,keywords:["baby bottle","baby","bottle","drink","milk"],variations:[]},"♾️":{codepoints:"267e-fe0f",version:"11.0",sheetX:53,sheetY:39,keywords:["infinity","forever","unbounded","universal"],variations:[]},"♾":{codepoints:"267e-fe0f",version:"11.0",sheetX:53,sheetY:39,keywords:["infinity","forever","unbounded","universal"],variations:[]},"🥛":{codepoints:"1f95b",version:"4.0",sheetX:41,sheetY:42,keywords:["glass of milk","drink","glass","milk"],variations:[]},"🤦🏻‍♂️":{codepoints:"1f926-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:38,sheetY:30},"🤦🏼‍♂️":{codepoints:"1f926-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:38,sheetY:31},"🤦🏽‍♂️":{codepoints:"1f926-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:38,sheetY:32},"🤦🏾‍♂️":{codepoints:"1f926-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:38,sheetY:33},"🤦🏿‍♂️":{codepoints:"1f926-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:38,sheetY:34},"🤦‍♂️":{codepoints:"1f926-200d-2642-fe0f",version:"4.0",sheetX:38,sheetY:29,keywords:["man facepalming","disbelief","exasperation","facepalm","man"],variations:["🤦🏻‍♂️","🤦🏼‍♂️","🤦🏽‍♂️","🤦🏾‍♂️","🤦🏿‍♂️"]},"🤦‍♂":{codepoints:"1f926-200d-2642-fe0f",version:"4.0",sheetX:38,sheetY:29,keywords:["man facepalming","disbelief","exasperation","facepalm","man"],variations:["🤦🏻‍♂️","🤦🏼‍♂️","🤦🏽‍♂️","🤦🏾‍♂️","🤦🏿‍♂️"]},"🦗":{codepoints:"1f997",version:"5.0",sheetX:42,sheetY:41,keywords:["cricket","grasshopper"],variations:[]},"🚏":{codepoints:"1f68f",version:"2.0",sheetX:34,sheetY:14,keywords:["bus stop","busstop","bus","stop"],variations:[]},"🇬🇶":{codepoints:"1f1ec-1f1f6",version:"2.0",sheetX:2,sheetY:9,keywords:["equatorial guinea flag","flag gq","flag: equatorial guinea","gq","flag"],variations:[]},"👽":{codepoints:"1f47d",version:"2.0",sheetX:23,sheetY:43,keywords:["extraterrestrial alien","alien","creature","extraterrestrial","face","fantasy","ufo"],variations:[]},"💡":{codepoints:"1f4a1",version:"2.0",sheetX:25,sheetY:43,keywords:["electric light bulb","bulb","light bulb","comic","electric","idea","light"],variations:[]},"🤦🏻‍♀️":{codepoints:"1f926-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:38,sheetY:24},"🤦🏼‍♀️":{codepoints:"1f926-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:38,sheetY:25},"🤦🏽‍♀️":{codepoints:"1f926-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:38,sheetY:26},"🤦🏾‍♀️":{codepoints:"1f926-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:38,sheetY:27},"🤦🏿‍♀️":{codepoints:"1f926-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:38,sheetY:28},"🤦‍♀️":{codepoints:"1f926-200d-2640-fe0f",version:"4.0",sheetX:38,sheetY:23,keywords:["woman facepalming","disbelief","exasperation","facepalm","woman"],variations:["🤦🏻‍♀️","🤦🏼‍♀️","🤦🏽‍♀️","🤦🏾‍♀️","🤦🏿‍♀️"]},"🤦‍♀":{codepoints:"1f926-200d-2640-fe0f",version:"4.0",sheetX:38,sheetY:23,keywords:["woman facepalming","disbelief","exasperation","facepalm","woman"],variations:["🤦🏻‍♀️","🤦🏼‍♀️","🤦🏽‍♀️","🤦🏾‍♀️","🤦🏿‍♀️"]},"🕷️":{codepoints:"1f577-fe0f",version:"2.0",sheetX:29,sheetY:34,keywords:["spider","insect"],variations:[]},"🕷":{codepoints:"1f577-fe0f",version:"2.0",sheetX:29,sheetY:34,keywords:["spider","insect"],variations:[]},"👾":{codepoints:"1f47e",version:"2.0",sheetX:23,sheetY:44,keywords:["alien monster","space invader","alien","creature","extraterrestrial","face","monster","ufo"],variations:[]},"🛣️":{codepoints:"1f6e3-fe0f",version:"2.0",sheetX:36,sheetY:45,keywords:["motorway","highway","road"],variations:[]},"🛣":{codepoints:"1f6e3-fe0f",version:"2.0",sheetX:36,sheetY:45,keywords:["motorway","highway","road"],variations:[]},"🇬🇷":{codepoints:"1f1ec-1f1f7",version:"2.0",sheetX:2,sheetY:10,keywords:["greece flag","flag gr","flag: greece","gr","flag"],variations:[]},"♻️":{codepoints:"267b-fe0f",version:"2.0",sheetX:53,sheetY:38,keywords:["black universal recycling symbol","recycle","recycling symbol"],variations:[]},"♻":{codepoints:"267b-fe0f",version:"2.0",sheetX:53,sheetY:38,keywords:["black universal recycling symbol","recycle","recycling symbol"],variations:[]},"☕":{codepoints:"2615",version:"2.0",sheetX:53,sheetY:0,keywords:["hot beverage","coffee","beverage","drink","hot","steaming","tea"],variations:[]},"🔦":{codepoints:"1f526",version:"2.0",sheetX:28,sheetY:9,keywords:["electric torch","flashlight","electric","light","tool","torch"],variations:[]},"🕸️":{codepoints:"1f578-fe0f",version:"2.0",sheetX:29,sheetY:35,keywords:["spider web","spider","web"],variations:[]},"🕸":{codepoints:"1f578-fe0f",version:"2.0",sheetX:29,sheetY:35,keywords:["spider web","spider","web"],variations:[]},"🏮":{codepoints:"1f3ee",version:"2.0",sheetX:11,sheetY:8,keywords:["izakaya lantern","lantern","red paper lantern","bar","light","red"],variations:[]},"🇬🇸":{codepoints:"1f1ec-1f1f8",version:"2.0",sheetX:2,sheetY:11,keywords:["south georgia & south sandwich islands flag","flag gs","flag: south georgia & south sandwich islands","gs","flag"],variations:[]},"🤷🏻":{codepoints:"1f937-1f3fb",version:"4.0",sheetX:39,sheetY:48},"🤷🏼":{codepoints:"1f937-1f3fc",version:"4.0",sheetX:39,sheetY:49},"🤷🏽":{codepoints:"1f937-1f3fd",version:"4.0",sheetX:39,sheetY:50},"🤷🏾":{codepoints:"1f937-1f3fe",version:"4.0",sheetX:39,sheetY:51},"🤷🏿":{codepoints:"1f937-1f3ff",version:"4.0",sheetX:39,sheetY:52},"🤷":{codepoints:"1f937",version:"4.0",sheetX:39,sheetY:47,keywords:["shrug","person shrugging","doubt","ignorance","indifference"],variations:["🤷🏻","🤷🏼","🤷🏽","🤷🏾","🤷🏿"]},"⚜️":{codepoints:"269c-fe0f",version:"2.0",sheetX:53,sheetY:49,keywords:["fleur de lis"],variations:[]},"⚜":{codepoints:"269c-fe0f",version:"2.0",sheetX:53,sheetY:49,keywords:["fleur de lis"],variations:[]},"🤖":{codepoints:"1f916",version:"2.0",sheetX:37,sheetY:29,keywords:["robot face","robot","face","monster"],variations:[]},"🛤️":{codepoints:"1f6e4-fe0f",version:"2.0",sheetX:36,sheetY:46,keywords:["railway track","railway","train"],variations:[]},"🛤":{codepoints:"1f6e4-fe0f",version:"2.0",sheetX:36,sheetY:46,keywords:["railway track","railway","train"],variations:[]},"🍵":{codepoints:"1f375",version:"2.0",sheetX:7,sheetY:20,keywords:["teacup without handle","tea","beverage","cup","drink","teacup"],variations:[]},"🇬🇹":{codepoints:"1f1ec-1f1f9",version:"2.0",sheetX:2,sheetY:12,keywords:["guatemala flag","flag gt","flag: guatemala","gt","flag"],variations:[]},"🛢️":{codepoints:"1f6e2-fe0f",version:"2.0",sheetX:36,sheetY:44,keywords:["oil drum","drum","oil"],variations:[]},"🛢":{codepoints:"1f6e2-fe0f",version:"2.0",sheetX:36,sheetY:44,keywords:["oil drum","drum","oil"],variations:[]},"🍶":{codepoints:"1f376",version:"2.0",sheetX:7,sheetY:21,keywords:["sake bottle and cup","sake","bar","beverage","bottle","cup","drink"],variations:[]},"🔱":{codepoints:"1f531",version:"2.0",sheetX:28,sheetY:20,keywords:["trident emblem","trident","anchor","emblem","ship","tool"],variations:[]},"🤷🏻‍♂️":{codepoints:"1f937-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:39,sheetY:42},"🤷🏼‍♂️":{codepoints:"1f937-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:39,sheetY:43},"🤷🏽‍♂️":{codepoints:"1f937-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:39,sheetY:44},"🤷🏾‍♂️":{codepoints:"1f937-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:39,sheetY:45},"🤷🏿‍♂️":{codepoints:"1f937-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:39,sheetY:46},"🤷‍♂️":{codepoints:"1f937-200d-2642-fe0f",version:"4.0",sheetX:39,sheetY:41,keywords:["man shrugging","doubt","ignorance","indifference","man","shrug"],variations:["🤷🏻‍♂️","🤷🏼‍♂️","🤷🏽‍♂️","🤷🏾‍♂️","🤷🏿‍♂️"]},"🤷‍♂":{codepoints:"1f937-200d-2642-fe0f",version:"4.0",sheetX:39,sheetY:41,keywords:["man shrugging","doubt","ignorance","indifference","man","shrug"],variations:["🤷🏻‍♂️","🤷🏼‍♂️","🤷🏽‍♂️","🤷🏾‍♂️","🤷🏿‍♂️"]},"😺":{codepoints:"1f63a",version:"2.0",sheetX:31,sheetY:36,keywords:["smiling cat face with open mouth","smiley cat","grinning cat","cat","face","grinning","mouth","open","smile"],variations:[]},"🦂":{codepoints:"1f982",version:"2.0",sheetX:42,sheetY:20,keywords:["scorpion","scorpio","zodiac"],variations:[]},"🤷🏻‍♀️":{codepoints:"1f937-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:39,sheetY:36},"🤷🏼‍♀️":{codepoints:"1f937-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:39,sheetY:37},"🤷🏽‍♀️":{codepoints:"1f937-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:39,sheetY:38},"🤷🏾‍♀️":{codepoints:"1f937-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:39,sheetY:39},"🤷🏿‍♀️":{codepoints:"1f937-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:39,sheetY:40},"🤷‍♀️":{codepoints:"1f937-200d-2640-fe0f",version:"4.0",sheetX:39,sheetY:35,keywords:["woman shrugging","doubt","ignorance","indifference","shrug","woman"],variations:["🤷🏻‍♀️","🤷🏼‍♀️","🤷🏽‍♀️","🤷🏾‍♀️","🤷🏿‍♀️"]},"🤷‍♀":{codepoints:"1f937-200d-2640-fe0f",version:"4.0",sheetX:39,sheetY:35,keywords:["woman shrugging","doubt","ignorance","indifference","shrug","woman"],variations:["🤷🏻‍♀️","🤷🏼‍♀️","🤷🏽‍♀️","🤷🏾‍♀️","🤷🏿‍♀️"]},"📔":{codepoints:"1f4d4",version:"2.0",sheetX:26,sheetY:42,keywords:["notebook with decorative cover","book","cover","decorated","notebook"],variations:[]},"⛽":{codepoints:"26fd",version:"2.0",sheetX:54,sheetY:38,keywords:["fuel pump","fuelpump","diesel","fuel","gas","pump","station"],variations:[]},"📛":{codepoints:"1f4db",version:"2.0",sheetX:26,sheetY:49,keywords:["name badge","badge","name"],variations:[]},"🦟":{codepoints:"1f99f",version:"11.0",sheetX:42,sheetY:49,keywords:["mosquito","disease","fever","malaria","pest","virus"],variations:[]},"🇬🇺":{codepoints:"1f1ec-1f1fa",version:"2.0",sheetX:2,sheetY:13,keywords:["guam flag","flag gu","flag: guam","gu","flag"],variations:[]},"😸":{codepoints:"1f638",version:"2.0",sheetX:31,sheetY:34,keywords:["grinning cat face with smiling eyes","smile cat","grinning cat with smiling eyes","cat","eye","face","grin","smile"],variations:[]},"🍾":{codepoints:"1f37e",version:"2.0",sheetX:7,sheetY:29,keywords:["bottle with popping cork","champagne","bar","bottle","cork","drink","popping"],variations:[]},"😹":{codepoints:"1f639",version:"2.0",sheetX:31,sheetY:35,keywords:["cat face with tears of joy","joy cat","cat with tears of joy","cat","face","joy","tear"],variations:[]},"📕":{codepoints:"1f4d5",version:"2.0",sheetX:26,sheetY:43,keywords:["closed book","book","closed"],variations:[]},"🚨":{codepoints:"1f6a8",version:"2.0",sheetX:34,sheetY:56,keywords:["police cars revolving light","rotating light","police car light","beacon","car","light","police","revolving"],variations:[]},"🦠":{codepoints:"1f9a0",version:"11.0",sheetX:42,sheetY:50,keywords:["microbe","amoeba","bacteria","virus"],variations:[]},"🇬🇼":{codepoints:"1f1ec-1f1fc",version:"2.0",sheetX:2,sheetY:14,keywords:["guinea bissau flag","flag gw","flag: guinea bissau","gw","flag"],variations:[]},"🍷":{codepoints:"1f377",version:"2.0",sheetX:7,sheetY:22,keywords:["wine glass","bar","beverage","drink","glass","wine"],variations:[]},"🔰":{codepoints:"1f530",version:"2.0",sheetX:28,sheetY:19,keywords:["japanese symbol for beginner","beginner","chevron","japanese","leaf"],variations:[]},"💐":{codepoints:"1f490",version:"2.0",sheetX:25,sheetY:26,keywords:["bouquet","flower"],variations:[]},"😻":{codepoints:"1f63b",version:"2.0",sheetX:31,sheetY:37,keywords:["smiling cat face with heart shaped eyes","heart eyes cat","smiling cat with heart eyes","cat","eye","face","heart","love","smile"],variations:[]},"👨🏻‍⚕️":{codepoints:"1f468-1f3fb-200d-2695-fe0f",version:"4.0",sheetX:17,sheetY:3},"👨🏼‍⚕️":{codepoints:"1f468-1f3fc-200d-2695-fe0f",version:"4.0",sheetX:17,sheetY:4},"👨🏽‍⚕️":{codepoints:"1f468-1f3fd-200d-2695-fe0f",version:"4.0",sheetX:17,sheetY:5},"👨🏾‍⚕️":{codepoints:"1f468-1f3fe-200d-2695-fe0f",version:"4.0",sheetX:17,sheetY:6},"👨🏿‍⚕️":{codepoints:"1f468-1f3ff-200d-2695-fe0f",version:"4.0",sheetX:17,sheetY:7},"👨‍⚕️":{codepoints:"1f468-200d-2695-fe0f",version:"4.0",sheetX:17,sheetY:2,keywords:["male doctor","man health worker","doctor","healthcare","man","nurse","therapist"],variations:["👨🏻‍⚕️","👨🏼‍⚕️","👨🏽‍⚕️","👨🏾‍⚕️","👨🏿‍⚕️"]},"👨‍⚕":{codepoints:"1f468-200d-2695-fe0f",version:"4.0",sheetX:17,sheetY:2,keywords:["male doctor","man health worker","doctor","healthcare","man","nurse","therapist"],variations:["👨🏻‍⚕️","👨🏼‍⚕️","👨🏽‍⚕️","👨🏾‍⚕️","👨🏿‍⚕️"]},"📖":{codepoints:"1f4d6",version:"2.0",sheetX:26,sheetY:44,keywords:["open book","book","open"],variations:[]},"🚥":{codepoints:"1f6a5",version:"2.0",sheetX:34,sheetY:53,keywords:["horizontal traffic light","traffic light","light","signal","traffic"],variations:[]},"🍸":{codepoints:"1f378",version:"2.0",sheetX:7,sheetY:23,keywords:["cocktail glass","cocktail","bar","drink","glass"],variations:[]},"⭕":{codepoints:"2b55",version:"2.0",sheetX:55,sheetY:43,keywords:["heavy large circle","o","hollow red circle","circle","large","red"],variations:[]},"🇬🇾":{codepoints:"1f1ec-1f1fe",version:"2.0",sheetX:2,sheetY:15,keywords:["guyana flag","flag gy","flag: guyana","gy","flag"],variations:[]},"👩🏻‍⚕️":{codepoints:"1f469-1f3fb-200d-2695-fe0f",version:"4.0",sheetX:19,sheetY:45},"👩🏼‍⚕️":{codepoints:"1f469-1f3fc-200d-2695-fe0f",version:"4.0",sheetX:19,sheetY:46},"👩🏽‍⚕️":{codepoints:"1f469-1f3fd-200d-2695-fe0f",version:"4.0",sheetX:19,sheetY:47},"👩🏾‍⚕️":{codepoints:"1f469-1f3fe-200d-2695-fe0f",version:"4.0",sheetX:19,sheetY:48},"👩🏿‍⚕️":{codepoints:"1f469-1f3ff-200d-2695-fe0f",version:"4.0",sheetX:19,sheetY:49},"👩‍⚕️":{codepoints:"1f469-200d-2695-fe0f",version:"4.0",sheetX:19,sheetY:44,keywords:["female doctor","woman health worker","doctor","healthcare","nurse","therapist","woman"],variations:["👩🏻‍⚕️","👩🏼‍⚕️","👩🏽‍⚕️","👩🏾‍⚕️","👩🏿‍⚕️"]},"👩‍⚕":{codepoints:"1f469-200d-2695-fe0f",version:"4.0",sheetX:19,sheetY:44,keywords:["female doctor","woman health worker","doctor","healthcare","nurse","therapist","woman"],variations:["👩🏻‍⚕️","👩🏼‍⚕️","👩🏽‍⚕️","👩🏾‍⚕️","👩🏿‍⚕️"]},"😼":{codepoints:"1f63c",version:"2.0",sheetX:31,sheetY:38,keywords:["cat face with wry smile","smirk cat","cat with wry smile","cat","face","ironic","smile","wry"],variations:[]},"📗":{codepoints:"1f4d7",version:"2.0",sheetX:26,sheetY:45,keywords:["green book","book","green"],variations:[]},"🌸":{codepoints:"1f338",version:"2.0",sheetX:6,sheetY:16,keywords:["cherry blossom","blossom","cherry","flower"],variations:[]},"🇭🇰":{codepoints:"1f1ed-1f1f0",version:"2.0",sheetX:2,sheetY:16,keywords:["hong kong sar china flag","flag hk","flag: hong kong sar china","hk","flag"],variations:[]},"🚦":{codepoints:"1f6a6",version:"2.0",sheetX:34,sheetY:54,keywords:["vertical traffic light","light","signal","traffic"],variations:[]},"✅":{codepoints:"2705",version:"2.0",sheetX:54,sheetY:40,keywords:["white heavy check mark","white check mark","check mark button","button","check","mark","✓"],variations:[]},"🍹":{codepoints:"1f379",version:"2.0",sheetX:7,sheetY:24,keywords:["tropical drink","bar","drink","tropical"],variations:[]},"😽":{codepoints:"1f63d",version:"2.0",sheetX:31,sheetY:39,keywords:["kissing cat face with closed eyes","kissing cat","cat","eye","face","kiss",":3"],variations:[]},"🇭🇲":{codepoints:"1f1ed-1f1f2",version:"2.0",sheetX:2,sheetY:17,keywords:["heard & mcdonald islands flag","flag hm","flag: heard & mcdonald islands","hm","flag"],variations:[]},"🛑":{codepoints:"1f6d1",version:"4.0",sheetX:36,sheetY:39,keywords:["octagonal sign","stop sign","octagonal","sign","stop"],variations:[]},"💮":{codepoints:"1f4ae",version:"2.0",sheetX:26,sheetY:4,keywords:["white flower","flower"],variations:[]},"☑️":{codepoints:"2611-fe0f",version:"2.0",sheetX:52,sheetY:55,keywords:["ballot box with check","check box with check","box","check","✓"],variations:[]},"☑":{codepoints:"2611-fe0f",version:"2.0",sheetX:52,sheetY:55,keywords:["ballot box with check","check box with check","box","check","✓"],variations:[]},"📘":{codepoints:"1f4d8",version:"2.0",sheetX:26,sheetY:46,keywords:["blue book","blue","book"],variations:[]},"🍺":{codepoints:"1f37a",version:"2.0",sheetX:7,sheetY:25,keywords:["beer mug","beer","bar","drink","mug"],variations:[]},"🚧":{codepoints:"1f6a7",version:"2.0",sheetX:34,sheetY:55,keywords:["construction sign","construction","barrier"],variations:[]},"🏵️":{codepoints:"1f3f5-fe0f",version:"2.0",sheetX:11,sheetY:18,keywords:["rosette","plant"],variations:[]},"🏵":{codepoints:"1f3f5-fe0f",version:"2.0",sheetX:11,sheetY:18,keywords:["rosette","plant"],variations:[]},"✔️":{codepoints:"2714-fe0f",version:"2.0",sheetX:55,sheetY:12,keywords:["heavy check mark","check mark","check","mark","✓"],variations:[]},"✔":{codepoints:"2714-fe0f",version:"2.0",sheetX:55,sheetY:12,keywords:["heavy check mark","check mark","check","mark","✓"],variations:[]},"🙀":{codepoints:"1f640",version:"2.0",sheetX:31,sheetY:42,keywords:["weary cat face","scream cat","weary cat","cat","face","oh","surprised","weary"],variations:[]},"📙":{codepoints:"1f4d9",version:"2.0",sheetX:26,sheetY:47,keywords:["orange book","book","orange"],variations:[]},"🍻":{codepoints:"1f37b",version:"2.0",sheetX:7,sheetY:26,keywords:["clinking beer mugs","beers","bar","beer","clink","drink","mug"],variations:[]},"👨🏻‍🎓":{codepoints:"1f468-1f3fb-200d-1f393",version:"4.0",sheetX:14,sheetY:51},"👨🏼‍🎓":{codepoints:"1f468-1f3fc-200d-1f393",version:"4.0",sheetX:14,sheetY:52},"👨🏽‍🎓":{codepoints:"1f468-1f3fd-200d-1f393",version:"4.0",sheetX:14,sheetY:53},"👨🏾‍🎓":{codepoints:"1f468-1f3fe-200d-1f393",version:"4.0",sheetX:14,sheetY:54},"👨🏿‍🎓":{codepoints:"1f468-1f3ff-200d-1f393",version:"4.0",sheetX:14,sheetY:55},"👨‍🎓":{codepoints:"1f468-200d-1f393",version:"4.0",sheetX:14,sheetY:50,keywords:["male student","man student","graduate","man","student"],variations:["👨🏻‍🎓","👨🏼‍🎓","👨🏽‍🎓","👨🏾‍🎓","👨🏿‍🎓"]},"🇭🇳":{codepoints:"1f1ed-1f1f3",version:"2.0",sheetX:2,sheetY:18,keywords:["honduras flag","flag hn","flag: honduras","hn","flag"],variations:[]},"😿":{codepoints:"1f63f",version:"2.0",sheetX:31,sheetY:41,keywords:["crying cat face","crying cat","cat","cry","face","sad","tear"],variations:[]},"⚓":{codepoints:"2693",version:"2.0",sheetX:53,sheetY:42,keywords:["anchor","ship","tool"],variations:[]},"🇭🇷":{codepoints:"1f1ed-1f1f7",version:"2.0",sheetX:2,sheetY:19,keywords:["croatia flag","flag hr","flag: croatia","hr","flag"],variations:[]},"✖️":{codepoints:"2716-fe0f",version:"2.0",sheetX:55,sheetY:13,keywords:["heavy multiplication x","multiply","cancel","multiplication","sign","x","×"],variations:[]},"✖":{codepoints:"2716-fe0f",version:"2.0",sheetX:55,sheetY:13,keywords:["heavy multiplication x","multiply","cancel","multiplication","sign","x","×"],variations:[]},"👩🏻‍🎓":{codepoints:"1f469-1f3fb-200d-1f393",version:"4.0",sheetX:17,sheetY:41},"👩🏼‍🎓":{codepoints:"1f469-1f3fc-200d-1f393",version:"4.0",sheetX:17,sheetY:42},"👩🏽‍🎓":{codepoints:"1f469-1f3fd-200d-1f393",version:"4.0",sheetX:17,sheetY:43},"👩🏾‍🎓":{codepoints:"1f469-1f3fe-200d-1f393",version:"4.0",sheetX:17,sheetY:44},"👩🏿‍🎓":{codepoints:"1f469-1f3ff-200d-1f393",version:"4.0",sheetX:17,sheetY:45},"👩‍🎓":{codepoints:"1f469-200d-1f393",version:"4.0",sheetX:17,sheetY:40,keywords:["female student","woman student","graduate","student","woman"],variations:["👩🏻‍🎓","👩🏼‍🎓","👩🏽‍🎓","👩🏾‍🎓","👩🏿‍🎓"]},"🌹":{codepoints:"1f339",version:"2.0",sheetX:6,sheetY:17,keywords:["rose","flower"],variations:[]},"📚":{codepoints:"1f4da",version:"2.0",sheetX:26,sheetY:48,keywords:["books","book"],variations:[]},"🥂":{codepoints:"1f942",version:"4.0",sheetX:41,sheetY:18,keywords:["clinking glasses","celebrate","clink","drink","glass"],variations:[]},"❌":{codepoints:"274c",version:"2.0",sheetX:55,sheetY:21,keywords:["cross mark","x","cancel","cross","mark","multiplication","multiply","×"],variations:[]},"😾":{codepoints:"1f63e",version:"2.0",sheetX:31,sheetY:40,keywords:["pouting cat face","pouting cat","cat","face","pouting"],variations:[]},"🥀":{codepoints:"1f940",version:"4.0",sheetX:41,sheetY:16,keywords:["wilted flower","flower","wilted"],variations:[]},"⛵":{codepoints:"26f5",version:"2.0",sheetX:54,sheetY:16,keywords:["sailboat","boat","resort","sea","yacht"],variations:[]},"🇭🇹":{codepoints:"1f1ed-1f1f9",version:"2.0",sheetX:2,sheetY:20,keywords:["haiti flag","flag ht","flag: haiti","ht","flag"],variations:[]},"🥃":{codepoints:"1f943",version:"4.0",sheetX:41,sheetY:19,keywords:["tumbler glass","glass","liquor","shot","tumbler","whisky"],variations:[]},"📓":{codepoints:"1f4d3",version:"2.0",sheetX:26,sheetY:41,keywords:["notebook"],variations:[]},"👨🏻‍🏫":{codepoints:"1f468-1f3fb-200d-1f3eb",version:"4.0",sheetX:15,sheetY:12},"👨🏼‍🏫":{codepoints:"1f468-1f3fc-200d-1f3eb",version:"4.0",sheetX:15,sheetY:13},"👨🏽‍🏫":{codepoints:"1f468-1f3fd-200d-1f3eb",version:"4.0",sheetX:15,sheetY:14},"👨🏾‍🏫":{codepoints:"1f468-1f3fe-200d-1f3eb",version:"4.0",sheetX:15,sheetY:15},"👨🏿‍🏫":{codepoints:"1f468-1f3ff-200d-1f3eb",version:"4.0",sheetX:15,sheetY:16},"👨‍🏫":{codepoints:"1f468-200d-1f3eb",version:"4.0",sheetX:15,sheetY:11,keywords:["male teacher","man teacher","instructor","man","professor","teacher"],variations:["👨🏻‍🏫","👨🏼‍🏫","👨🏽‍🏫","👨🏾‍🏫","👨🏿‍🏫"]},"📒":{codepoints:"1f4d2",version:"2.0",sheetX:26,sheetY:40,keywords:["ledger","notebook"],variations:[]},"🇭🇺":{codepoints:"1f1ed-1f1fa",version:"2.0",sheetX:2,sheetY:21,keywords:["hungary flag","flag hu","flag: hungary","hu","flag"],variations:[]},"🥤":{codepoints:"1f964",version:"5.0",sheetX:41,sheetY:51,keywords:["cup with straw","juice","soda"],variations:[]},"🌺":{codepoints:"1f33a",version:"2.0",sheetX:6,sheetY:18,keywords:["hibiscus","flower"],variations:[]},"🙈":{codepoints:"1f648",version:"2.0",sheetX:32,sheetY:44,keywords:["see no evil monkey","see no evil","evil","face","forbidden","monkey","see"],variations:[]},"🛶":{codepoints:"1f6f6",version:"4.0",sheetX:36,sheetY:55,keywords:["canoe","boat"],variations:[]},"❎":{codepoints:"274e",version:"2.0",sheetX:55,sheetY:22,keywords:["negative squared cross mark","cross mark button","mark","square","x","×"],variations:[]},"🇮🇨":{codepoints:"1f1ee-1f1e8",version:"2.0",sheetX:2,sheetY:22,keywords:["canary islands flag","flag ic","flag: canary islands","ic","flag"],variations:[]},"🚤":{codepoints:"1f6a4",version:"2.0",sheetX:34,sheetY:52,keywords:["speedboat","boat"],variations:[]},"➕":{codepoints:"2795",version:"2.0",sheetX:55,sheetY:29,keywords:["heavy plus sign","plus","+","math","sign"],variations:[]},"🌻":{codepoints:"1f33b",version:"2.0",sheetX:6,sheetY:19,keywords:["sunflower","flower","sun"],variations:[]},"📃":{codepoints:"1f4c3",version:"2.0",sheetX:26,sheetY:25,keywords:["page with curl","curl","document","page"],variations:[]},"👩🏻‍🏫":{codepoints:"1f469-1f3fb-200d-1f3eb",version:"4.0",sheetX:18,sheetY:2},"👩🏼‍🏫":{codepoints:"1f469-1f3fc-200d-1f3eb",version:"4.0",sheetX:18,sheetY:3},"👩🏽‍🏫":{codepoints:"1f469-1f3fd-200d-1f3eb",version:"4.0",sheetX:18,sheetY:4},"👩🏾‍🏫":{codepoints:"1f469-1f3fe-200d-1f3eb",version:"4.0",sheetX:18,sheetY:5},"👩🏿‍🏫":{codepoints:"1f469-1f3ff-200d-1f3eb",version:"4.0",sheetX:18,sheetY:6},"👩‍🏫":{codepoints:"1f469-200d-1f3eb",version:"4.0",sheetX:18,sheetY:1,keywords:["female teacher","woman teacher","instructor","professor","teacher","woman"],variations:["👩🏻‍🏫","👩🏼‍🏫","👩🏽‍🏫","👩🏾‍🏫","👩🏿‍🏫"]},"🙉":{codepoints:"1f649",version:"2.0",sheetX:32,sheetY:45,keywords:["hear no evil monkey","hear no evil","evil","face","forbidden","hear","monkey"],variations:[]},"🛳️":{codepoints:"1f6f3-fe0f",version:"2.0",sheetX:36,sheetY:52,keywords:["passenger ship","passenger","ship"],variations:[]},"🛳":{codepoints:"1f6f3-fe0f",version:"2.0",sheetX:36,sheetY:52,keywords:["passenger ship","passenger","ship"],variations:[]},"📜":{codepoints:"1f4dc",version:"2.0",sheetX:26,sheetY:50,keywords:["scroll","paper"],variations:[]},"🌼":{codepoints:"1f33c",version:"2.0",sheetX:6,sheetY:20,keywords:["blossom","flower"],variations:[]},"🇮🇩":{codepoints:"1f1ee-1f1e9",version:"2.0",sheetX:2,sheetY:23,keywords:["indonesia flag","flag id","flag: indonesia","id","flag"],variations:[]},"🙊":{codepoints:"1f64a",version:"2.0",sheetX:32,sheetY:46,keywords:["speak no evil monkey","speak no evil","evil","face","forbidden","monkey","speak"],variations:[]},"➖":{codepoints:"2796",version:"2.0",sheetX:55,sheetY:30,keywords:["heavy minus sign","minus","-","math","sign","−"],variations:[]},"🇮🇪":{codepoints:"1f1ee-1f1ea",version:"2.0",sheetX:2,sheetY:24,keywords:["ireland flag","flag ie","flag: ireland","ie","flag"],variations:[]},"📄":{codepoints:"1f4c4",version:"2.0",sheetX:26,sheetY:26,keywords:["page facing up","document","page"],variations:[]},"👨🏻‍⚖️":{codepoints:"1f468-1f3fb-200d-2696-fe0f",version:"4.0",sheetX:17,sheetY:9},"👨🏼‍⚖️":{codepoints:"1f468-1f3fc-200d-2696-fe0f",version:"4.0",sheetX:17,sheetY:10},"👨🏽‍⚖️":{codepoints:"1f468-1f3fd-200d-2696-fe0f",version:"4.0",sheetX:17,sheetY:11},"👨🏾‍⚖️":{codepoints:"1f468-1f3fe-200d-2696-fe0f",version:"4.0",sheetX:17,sheetY:12},"👨🏿‍⚖️":{codepoints:"1f468-1f3ff-200d-2696-fe0f",version:"4.0",sheetX:17,sheetY:13},"👨‍⚖️":{codepoints:"1f468-200d-2696-fe0f",version:"4.0",sheetX:17,sheetY:8,keywords:["male judge","man judge","justice","man","scales"],variations:["👨🏻‍⚖️","👨🏼‍⚖️","👨🏽‍⚖️","👨🏾‍⚖️","👨🏿‍⚖️"]},"👨‍⚖":{codepoints:"1f468-200d-2696-fe0f",version:"4.0",sheetX:17,sheetY:8,keywords:["male judge","man judge","justice","man","scales"],variations:["👨🏻‍⚖️","👨🏼‍⚖️","👨🏽‍⚖️","👨🏾‍⚖️","👨🏿‍⚖️"]},"🌷":{codepoints:"1f337",version:"2.0",sheetX:6,sheetY:15,keywords:["tulip","flower"],variations:[]},"⛴️":{codepoints:"26f4-fe0f",version:"2.0",sheetX:54,sheetY:15,keywords:["ferry","boat","passenger"],variations:[]},"⛴":{codepoints:"26f4-fe0f",version:"2.0",sheetX:54,sheetY:15,keywords:["ferry","boat","passenger"],variations:[]},"💋":{codepoints:"1f48b",version:"2.0",sheetX:25,sheetY:21,keywords:["kiss mark","kiss","lips"],variations:[]},"➗":{codepoints:"2797",version:"2.0",sheetX:55,sheetY:31,keywords:["heavy division sign","divide","division","math","sign","÷"],variations:[]},"📰":{codepoints:"1f4f0",version:"2.0",sheetX:27,sheetY:13,keywords:["newspaper","news","paper"],variations:[]},"👩🏻‍⚖️":{codepoints:"1f469-1f3fb-200d-2696-fe0f",version:"4.0",sheetX:19,sheetY:51},"👩🏼‍⚖️":{codepoints:"1f469-1f3fc-200d-2696-fe0f",version:"4.0",sheetX:19,sheetY:52},"👩🏽‍⚖️":{codepoints:"1f469-1f3fd-200d-2696-fe0f",version:"4.0",sheetX:19,sheetY:53},"👩🏾‍⚖️":{codepoints:"1f469-1f3fe-200d-2696-fe0f",version:"4.0",sheetX:19,sheetY:54},"👩🏿‍⚖️":{codepoints:"1f469-1f3ff-200d-2696-fe0f",version:"4.0",sheetX:19,sheetY:55},"👩‍⚖️":{codepoints:"1f469-200d-2696-fe0f",version:"4.0",sheetX:19,sheetY:50,keywords:["female judge","woman judge","judge","scales","woman"],variations:["👩🏻‍⚖️","👩🏼‍⚖️","👩🏽‍⚖️","👩🏾‍⚖️","👩🏿‍⚖️"]},"👩‍⚖":{codepoints:"1f469-200d-2696-fe0f",version:"4.0",sheetX:19,sheetY:50,keywords:["female judge","woman judge","judge","scales","woman"],variations:["👩🏻‍⚖️","👩🏼‍⚖️","👩🏽‍⚖️","👩🏾‍⚖️","👩🏿‍⚖️"]},"🌱":{codepoints:"1f331",version:"2.0",sheetX:6,sheetY:9,keywords:["seedling","young"],variations:[]},"💌":{codepoints:"1f48c",version:"2.0",sheetX:25,sheetY:22,keywords:["love letter","heart","letter","love","mail"],variations:[]},"🥢":{codepoints:"1f962",version:"5.0",sheetX:41,sheetY:49,keywords:["chopsticks","hashi"],variations:[]},"🛥️":{codepoints:"1f6e5-fe0f",version:"2.0",sheetX:36,sheetY:47,keywords:["motor boat","boat","motorboat"],variations:[]},"🛥":{codepoints:"1f6e5-fe0f",version:"2.0",sheetX:36,sheetY:47,keywords:["motor boat","boat","motorboat"],variations:[]},"🇮🇱":{codepoints:"1f1ee-1f1f1",version:"2.0",sheetX:2,sheetY:25,keywords:["israel flag","flag il","flag: israel","il","flag"],variations:[]},"➰":{codepoints:"27b0",version:"2.0",sheetX:55,sheetY:33,keywords:["curly loop","curl","loop"],variations:[]},"🇮🇲":{codepoints:"1f1ee-1f1f2",version:"2.0",sheetX:2,sheetY:26,keywords:["isle of man flag","flag im","flag: isle of man","im","flag"],variations:[]},"🌲":{codepoints:"1f332",version:"2.0",sheetX:6,sheetY:10,keywords:["evergreen tree","tree"],variations:[]},"💘":{codepoints:"1f498",version:"2.0",sheetX:25,sheetY:34,keywords:["heart with arrow","cupid","arrow"],variations:[]},"➿":{codepoints:"27bf",version:"2.0",sheetX:55,sheetY:34,keywords:["double curly loop","loop","curl","double"],variations:[]},"🚢":{codepoints:"1f6a2",version:"2.0",sheetX:34,sheetY:33,keywords:["ship","boat","passenger"],variations:[]},"🗞️":{codepoints:"1f5de-fe0f",version:"2.0",sheetX:30,sheetY:23,keywords:["rolled up newspaper","news","newspaper","paper","rolled"],variations:[]},"🗞":{codepoints:"1f5de-fe0f",version:"2.0",sheetX:30,sheetY:23,keywords:["rolled up newspaper","news","newspaper","paper","rolled"],variations:[]},"🍽️":{codepoints:"1f37d-fe0f",version:"2.0",sheetX:7,sheetY:28,keywords:["knife fork plate","fork and knife with plate","cooking","fork","knife","plate"],variations:[]},"🍽":{codepoints:"1f37d-fe0f",version:"2.0",sheetX:7,sheetY:28,keywords:["knife fork plate","fork and knife with plate","cooking","fork","knife","plate"],variations:[]},"🍴":{codepoints:"1f374",version:"2.0",sheetX:7,sheetY:19,keywords:["fork and knife","cooking","cutlery","fork","knife"],variations:[]},"👨🏻‍🌾":{codepoints:"1f468-1f3fb-200d-1f33e",version:"4.0",sheetX:14,sheetY:39},"👨🏼‍🌾":{codepoints:"1f468-1f3fc-200d-1f33e",version:"4.0",sheetX:14,sheetY:40},"👨🏽‍🌾":{codepoints:"1f468-1f3fd-200d-1f33e",version:"4.0",sheetX:14,sheetY:41},"👨🏾‍🌾":{codepoints:"1f468-1f3fe-200d-1f33e",version:"4.0",sheetX:14,sheetY:42},"👨🏿‍🌾":{codepoints:"1f468-1f3ff-200d-1f33e",version:"4.0",sheetX:14,sheetY:43},"👨‍🌾":{codepoints:"1f468-200d-1f33e",version:"4.0",sheetX:14,sheetY:38,keywords:["male farmer","man farmer","farmer","gardener","man","rancher"],variations:["👨🏻‍🌾","👨🏼‍🌾","👨🏽‍🌾","👨🏾‍🌾","👨🏿‍🌾"]},"📑":{codepoints:"1f4d1",version:"2.0",sheetX:26,sheetY:39,keywords:["bookmark tabs","bookmark","mark","marker","tabs"],variations:[]},"〽️":{codepoints:"303d-fe0f",version:"2.0",sheetX:55,sheetY:45,keywords:["part alternation mark","mark","part"],variations:[]},"〽":{codepoints:"303d-fe0f",version:"2.0",sheetX:55,sheetY:45,keywords:["part alternation mark","mark","part"],variations:[]},"🇮🇳":{codepoints:"1f1ee-1f1f3",version:"2.0",sheetX:2,sheetY:27,keywords:["india flag","flag in","flag: india","in","flag"],variations:[]},"💝":{codepoints:"1f49d",version:"2.0",sheetX:25,sheetY:39,keywords:["heart with ribbon","gift heart","ribbon","valentine"],variations:[]},"✈️":{codepoints:"2708-fe0f",version:"2.0",sheetX:54,sheetY:41,keywords:["airplane","aeroplane"],variations:[]},"✈":{codepoints:"2708-fe0f",version:"2.0",sheetX:54,sheetY:41,keywords:["airplane","aeroplane"],variations:[]},"🌳":{codepoints:"1f333",version:"2.0",sheetX:6,sheetY:11,keywords:["deciduous tree","deciduous","shedding","tree"],variations:[]},"🥄":{codepoints:"1f944",version:"4.0",sheetX:41,sheetY:20,keywords:["spoon","tableware"],variations:[]},"🇮🇴":{codepoints:"1f1ee-1f1f4",version:"2.0",sheetX:2,sheetY:28,keywords:["british indian ocean territory flag","flag io","flag: british indian ocean territory","io","flag"],variations:[]},"🌴":{codepoints:"1f334",version:"2.0",sheetX:6,sheetY:12,keywords:["palm tree","palm","tree"],variations:[]},"💖":{codepoints:"1f496",version:"2.0",sheetX:25,sheetY:32,keywords:["sparkling heart","excited","sparkle"],variations:[]},"👩🏻‍🌾":{codepoints:"1f469-1f3fb-200d-1f33e",version:"4.0",sheetX:17,sheetY:29},"👩🏼‍🌾":{codepoints:"1f469-1f3fc-200d-1f33e",version:"4.0",sheetX:17,sheetY:30},"👩🏽‍🌾":{codepoints:"1f469-1f3fd-200d-1f33e",version:"4.0",sheetX:17,sheetY:31},"👩🏾‍🌾":{codepoints:"1f469-1f3fe-200d-1f33e",version:"4.0",sheetX:17,sheetY:32},"👩🏿‍🌾":{codepoints:"1f469-1f3ff-200d-1f33e",version:"4.0",sheetX:17,sheetY:33},"👩‍🌾":{codepoints:"1f469-200d-1f33e",version:"4.0",sheetX:17,sheetY:28,keywords:["female farmer","woman farmer","farmer","gardener","rancher","woman"],variations:["👩🏻‍🌾","👩🏼‍🌾","👩🏽‍🌾","👩🏾‍🌾","👩🏿‍🌾"]},"✳️":{codepoints:"2733-fe0f",version:"2.0",sheetX:55,sheetY:17,keywords:["eight spoked asterisk","*","asterisk"],variations:[]},"✳":{codepoints:"2733-fe0f",version:"2.0",sheetX:55,sheetY:17,keywords:["eight spoked asterisk","*","asterisk"],variations:[]},"🛩️":{codepoints:"1f6e9-fe0f",version:"2.0",sheetX:36,sheetY:48,keywords:["small airplane","aeroplane","airplane"],variations:[]},"🛩":{codepoints:"1f6e9-fe0f",version:"2.0",sheetX:36,sheetY:48,keywords:["small airplane","aeroplane","airplane"],variations:[]},"🔖":{codepoints:"1f516",version:"2.0",sheetX:27,sheetY:50,keywords:["bookmark","mark"],variations:[]},"✴️":{codepoints:"2734-fe0f",version:"2.0",sheetX:55,sheetY:18,keywords:["eight pointed black star","eight pointed star","*","star"],variations:[]},"✴":{codepoints:"2734-fe0f",version:"2.0",sheetX:55,sheetY:18,keywords:["eight pointed black star","eight pointed star","*","star"],variations:[]},"💗":{codepoints:"1f497",version:"2.0",sheetX:25,sheetY:33,keywords:["growing heart","heartpulse","excited","growing","nervous","pulse"],variations:[]},"🏷️":{codepoints:"1f3f7-fe0f",version:"2.0",sheetX:11,sheetY:19,keywords:["label"],variations:[]},"🏷":{codepoints:"1f3f7-fe0f",version:"2.0",sheetX:11,sheetY:19,keywords:["label"],variations:[]},"🇮🇶":{codepoints:"1f1ee-1f1f6",version:"2.0",sheetX:2,sheetY:29,keywords:["iraq flag","flag iq","flag: iraq","iq","flag"],variations:[]},"🔪":{codepoints:"1f52a",version:"2.0",sheetX:28,sheetY:13,keywords:["hocho","knife","kitchen knife","cooking","tool","weapon"],variations:[]},"🌵":{codepoints:"1f335",version:"2.0",sheetX:6,sheetY:13,keywords:["cactus","plant"],variations:[]},"🛫":{codepoints:"1f6eb",version:"2.0",sheetX:36,sheetY:49,keywords:["airplane departure","aeroplane","airplane","check in","departure","departures"],variations:[]},"🛬":{codepoints:"1f6ec",version:"2.0",sheetX:36,sheetY:50,keywords:["airplane arriving","airplane arrival","aeroplane","airplane","arrivals","arriving","landing"],variations:[]},"🌾":{codepoints:"1f33e",version:"2.0",sheetX:6,sheetY:22,keywords:["ear of rice","sheaf of rice","ear","grain","rice"],variations:[]},"🇮🇷":{codepoints:"1f1ee-1f1f7",version:"2.0",sheetX:2,sheetY:30,keywords:["iran flag","flag ir","flag: iran","ir","flag"],variations:[]},"💰":{codepoints:"1f4b0",version:"2.0",sheetX:26,sheetY:6,keywords:["money bag","moneybag","bag","dollar","money"],variations:[]},"👨🏻‍🍳":{codepoints:"1f468-1f3fb-200d-1f373",version:"4.0",sheetX:14,sheetY:45},"👨🏼‍🍳":{codepoints:"1f468-1f3fc-200d-1f373",version:"4.0",sheetX:14,sheetY:46},"👨🏽‍🍳":{codepoints:"1f468-1f3fd-200d-1f373",version:"4.0",sheetX:14,sheetY:47},"👨🏾‍🍳":{codepoints:"1f468-1f3fe-200d-1f373",version:"4.0",sheetX:14,sheetY:48},"👨🏿‍🍳":{codepoints:"1f468-1f3ff-200d-1f373",version:"4.0",sheetX:14,sheetY:49},"👨‍🍳":{codepoints:"1f468-200d-1f373",version:"4.0",sheetX:14,sheetY:44,keywords:["male cook","man cook","chef","cook","man"],variations:["👨🏻‍🍳","👨🏼‍🍳","👨🏽‍🍳","👨🏾‍🍳","👨🏿‍🍳"]},"💓":{codepoints:"1f493",version:"2.0",sheetX:25,sheetY:29,keywords:["beating heart","heartbeat","beating","pulsating"],variations:[]},"❇️":{codepoints:"2747-fe0f",version:"2.0",sheetX:55,sheetY:20,keywords:["sparkle","*"],variations:[]},"❇":{codepoints:"2747-fe0f",version:"2.0",sheetX:55,sheetY:20,keywords:["sparkle","*"],variations:[]},"🏺":{codepoints:"1f3fa",version:"2.0",sheetX:11,sheetY:22,keywords:["amphora","aquarius","cooking","drink","jug","zodiac"],variations:[]},"💴":{codepoints:"1f4b4",version:"2.0",sheetX:26,sheetY:10,keywords:["banknote with yen sign","yen","yen banknote","banknote","bill","currency","money","note"],variations:[]},"💞":{codepoints:"1f49e",version:"2.0",sheetX:25,sheetY:40,keywords:["revolving hearts","revolving"],variations:[]},"‼️":{codepoints:"203c-fe0f",version:"2.0",sheetX:52,sheetY:10,keywords:["double exclamation mark","bangbang","!","!!","exclamation","mark"],variations:[]},"‼":{codepoints:"203c-fe0f",version:"2.0",sheetX:52,sheetY:10,keywords:["double exclamation mark","bangbang","!","!!","exclamation","mark"],variations:[]},"🌿":{codepoints:"1f33f",version:"2.0",sheetX:6,sheetY:23,keywords:["herb","leaf"],variations:[]},"🇮🇸":{codepoints:"1f1ee-1f1f8",version:"2.0",sheetX:2,sheetY:31,keywords:["iceland flag","flag is","flag: iceland","is","flag"],variations:[]},"👩🏻‍🍳":{codepoints:"1f469-1f3fb-200d-1f373",version:"4.0",sheetX:17,sheetY:35},"👩🏼‍🍳":{codepoints:"1f469-1f3fc-200d-1f373",version:"4.0",sheetX:17,sheetY:36},"👩🏽‍🍳":{codepoints:"1f469-1f3fd-200d-1f373",version:"4.0",sheetX:17,sheetY:37},"👩🏾‍🍳":{codepoints:"1f469-1f3fe-200d-1f373",version:"4.0",sheetX:17,sheetY:38},"👩🏿‍🍳":{codepoints:"1f469-1f3ff-200d-1f373",version:"4.0",sheetX:17,sheetY:39},"👩‍🍳":{codepoints:"1f469-200d-1f373",version:"4.0",sheetX:17,sheetY:34,keywords:["female cook","woman cook","chef","cook","woman"],variations:["👩🏻‍🍳","👩🏼‍🍳","👩🏽‍🍳","👩🏾‍🍳","👩🏿‍🍳"]},"⁉️":{codepoints:"2049-fe0f",version:"2.0",sheetX:52,sheetY:11,keywords:["exclamation question mark","interrobang","!","!?","?","exclamation","mark","punctuation","question"],variations:[]},"⁉":{codepoints:"2049-fe0f",version:"2.0",sheetX:52,sheetY:11,keywords:["exclamation question mark","interrobang","!","!?","?","exclamation","mark","punctuation","question"],variations:[]},"💺":{codepoints:"1f4ba",version:"2.0",sheetX:26,sheetY:16,keywords:["seat","chair"],variations:[]},"💵":{codepoints:"1f4b5",version:"2.0",sheetX:26,sheetY:11,keywords:["banknote with dollar sign","dollar","dollar banknote","banknote","bill","currency","money","note"],variations:[]},"💕":{codepoints:"1f495",version:"2.0",sheetX:25,sheetY:31,keywords:["two hearts","love"],variations:[]},"🇮🇹":{codepoints:"1f1ee-1f1f9",version:"2.0",sheetX:2,sheetY:32,keywords:["italy flag","it","flag it","flag: italy","flag"],variations:[]},"☘️":{codepoints:"2618-fe0f",version:"2.0",sheetX:53,sheetY:1,keywords:["shamrock","plant"],variations:[]},"☘":{codepoints:"2618-fe0f",version:"2.0",sheetX:53,sheetY:1,keywords:["shamrock","plant"],variations:[]},"🍀":{codepoints:"1f340",version:"2.0",sheetX:6,sheetY:24,keywords:["four leaf clover","4","clover","four","leaf"],variations:[]},"💶":{codepoints:"1f4b6",version:"2.0",sheetX:26,sheetY:12,keywords:["banknote with euro sign","euro","euro banknote","banknote","bill","currency","money","note"],variations:[]},"❓":{codepoints:"2753",version:"2.0",sheetX:55,sheetY:23,keywords:["black question mark ornament","question","question mark","?","mark","punctuation"],variations:[]},"🚁":{codepoints:"1f681",version:"2.0",sheetX:34,sheetY:0,keywords:["helicopter","vehicle"],variations:[]},"💟":{codepoints:"1f49f",version:"2.0",sheetX:25,sheetY:41,keywords:["heart decoration","heart"],variations:[]},"🇯🇪":{codepoints:"1f1ef-1f1ea",version:"2.0",sheetX:2,sheetY:33,keywords:["jersey flag","flag je","flag: jersey","je","flag"],variations:[]},"👨🏻‍🔧":{codepoints:"1f468-1f3fb-200d-1f527",version:"4.0",sheetX:15,sheetY:51},"👨🏼‍🔧":{codepoints:"1f468-1f3fc-200d-1f527",version:"4.0",sheetX:15,sheetY:52},"👨🏽‍🔧":{codepoints:"1f468-1f3fd-200d-1f527",version:"4.0",sheetX:15,sheetY:53},"👨🏾‍🔧":{codepoints:"1f468-1f3fe-200d-1f527",version:"4.0",sheetX:15,sheetY:54},"👨🏿‍🔧":{codepoints:"1f468-1f3ff-200d-1f527",version:"4.0",sheetX:15,sheetY:55},"👨‍🔧":{codepoints:"1f468-200d-1f527",version:"4.0",sheetX:15,sheetY:50,keywords:["male mechanic","man mechanic","electrician","man","mechanic","plumber","tradesperson"],variations:["👨🏻‍🔧","👨🏼‍🔧","👨🏽‍🔧","👨🏾‍🔧","👨🏿‍🔧"]},"🚟":{codepoints:"1f69f",version:"2.0",sheetX:34,sheetY:30,keywords:["suspension railway","railway","suspension"],variations:[]},"❣️":{codepoints:"2763-fe0f",version:"2.0",sheetX:55,sheetY:27,keywords:["heavy heart exclamation mark ornament","heart exclamation","exclamation","mark","punctuation"],variations:[]},"❣":{codepoints:"2763-fe0f",version:"2.0",sheetX:55,sheetY:27,keywords:["heavy heart exclamation mark ornament","heart exclamation","exclamation","mark","punctuation"],variations:[]},"👩🏻‍🔧":{codepoints:"1f469-1f3fb-200d-1f527",version:"4.0",sheetX:18,sheetY:36},"👩🏼‍🔧":{codepoints:"1f469-1f3fc-200d-1f527",version:"4.0",sheetX:18,sheetY:37},"👩🏽‍🔧":{codepoints:"1f469-1f3fd-200d-1f527",version:"4.0",sheetX:18,sheetY:38},"👩🏾‍🔧":{codepoints:"1f469-1f3fe-200d-1f527",version:"4.0",sheetX:18,sheetY:39},"👩🏿‍🔧":{codepoints:"1f469-1f3ff-200d-1f527",version:"4.0",sheetX:18,sheetY:40},"👩‍🔧":{codepoints:"1f469-200d-1f527",version:"4.0",sheetX:18,sheetY:35,keywords:["female mechanic","woman mechanic","electrician","mechanic","plumber","tradesperson","woman"],variations:["👩🏻‍🔧","👩🏼‍🔧","👩🏽‍🔧","👩🏾‍🔧","👩🏿‍🔧"]},"🇯🇲":{codepoints:"1f1ef-1f1f2",version:"2.0",sheetX:2,sheetY:34,keywords:["jamaica flag","flag jm","flag: jamaica","jm","flag"],variations:[]},"❔":{codepoints:"2754",version:"2.0",sheetX:55,sheetY:24,keywords:["white question mark ornament","grey question","white question mark","?","mark","outlined","punctuation","question"],variations:[]},"🍁":{codepoints:"1f341",version:"2.0",sheetX:6,sheetY:25,keywords:["maple leaf","falling","leaf","maple"],variations:[]},"💷":{codepoints:"1f4b7",version:"2.0",sheetX:26,sheetY:13,keywords:["banknote with pound sign","pound","pound banknote","banknote","bill","currency","money","note"],variations:[]},"💸":{codepoints:"1f4b8",version:"2.0",sheetX:26,sheetY:14,keywords:["money with wings","banknote","bill","fly","money","wings"],variations:[]},"🇯🇴":{codepoints:"1f1ef-1f1f4",version:"2.0",sheetX:2,sheetY:35,keywords:["jordan flag","flag jo","flag: jordan","jo","flag"],variations:[]},"🍂":{codepoints:"1f342",version:"2.0",sheetX:6,sheetY:26,keywords:["fallen leaf","falling","leaf"],variations:[]},"💔":{codepoints:"1f494",version:"2.0",sheetX:25,sheetY:30,keywords:["broken heart","break","broken","</3"],variations:[]},"❕":{codepoints:"2755",version:"2.0",sheetX:55,sheetY:25,keywords:["white exclamation mark ornament","grey exclamation","white exclamation mark","!","exclamation","mark","outlined","punctuation"],variations:[]},"🚠":{codepoints:"1f6a0",version:"2.0",sheetX:34,sheetY:31,keywords:["mountain cableway","cable","gondola","mountain"],variations:[]},"❗":{codepoints:"2757",version:"2.0",sheetX:55,sheetY:26,keywords:["heavy exclamation mark symbol","exclamation","heavy exclamation mark","exclamation mark","!","mark","punctuation"],variations:[]},"🍃":{codepoints:"1f343",version:"2.0",sheetX:6,sheetY:27,keywords:["leaf fluttering in wind","leaves","blow","flutter","leaf","wind"],variations:[]},"❤️":{codepoints:"2764-fe0f",version:"2.0",sheetX:55,sheetY:28,keywords:["heavy black heart","heart","red heart","<3"],variations:[]},"❤":{codepoints:"2764-fe0f",version:"2.0",sheetX:55,sheetY:28,keywords:["heavy black heart","heart","red heart","<3"],variations:[]},"🇯🇵":{codepoints:"1f1ef-1f1f5",version:"2.0",sheetX:2,sheetY:36,keywords:["japan flag","jp","flag jp","flag: japan","flag"],variations:[]},"👨🏻‍🏭":{codepoints:"1f468-1f3fb-200d-1f3ed",version:"4.0",sheetX:15,sheetY:18},"👨🏼‍🏭":{codepoints:"1f468-1f3fc-200d-1f3ed",version:"4.0",sheetX:15,sheetY:19},"👨🏽‍🏭":{codepoints:"1f468-1f3fd-200d-1f3ed",version:"4.0",sheetX:15,sheetY:20},"👨🏾‍🏭":{codepoints:"1f468-1f3fe-200d-1f3ed",version:"4.0",sheetX:15,sheetY:21},"👨🏿‍🏭":{codepoints:"1f468-1f3ff-200d-1f3ed",version:"4.0",sheetX:15,sheetY:22},"👨‍🏭":{codepoints:"1f468-200d-1f3ed",version:"4.0",sheetX:15,sheetY:17,keywords:["male factory worker","man factory worker","assembly","factory","industrial","man","worker"],variations:["👨🏻‍🏭","👨🏼‍🏭","👨🏽‍🏭","👨🏾‍🏭","👨🏿‍🏭"]},"💳":{codepoints:"1f4b3",version:"2.0",sheetX:26,sheetY:9,keywords:["credit card","card","credit","money"],variations:[]},"🚡":{codepoints:"1f6a1",version:"2.0",sheetX:34,sheetY:32,keywords:["aerial tramway","aerial","cable","car","gondola","tramway"],variations:[]},"👩🏻‍🏭":{codepoints:"1f469-1f3fb-200d-1f3ed",version:"4.0",sheetX:18,sheetY:8},"👩🏼‍🏭":{codepoints:"1f469-1f3fc-200d-1f3ed",version:"4.0",sheetX:18,sheetY:9},"👩🏽‍🏭":{codepoints:"1f469-1f3fd-200d-1f3ed",version:"4.0",sheetX:18,sheetY:10},"👩🏾‍🏭":{codepoints:"1f469-1f3fe-200d-1f3ed",version:"4.0",sheetX:18,sheetY:11},"👩🏿‍🏭":{codepoints:"1f469-1f3ff-200d-1f3ed",version:"4.0",sheetX:18,sheetY:12},"👩‍🏭":{codepoints:"1f469-200d-1f3ed",version:"4.0",sheetX:18,sheetY:7,keywords:["female factory worker","woman factory worker","assembly","factory","industrial","woman","worker"],variations:["👩🏻‍🏭","👩🏼‍🏭","👩🏽‍🏭","👩🏾‍🏭","👩🏿‍🏭"]},"🧾":{codepoints:"1f9fe",version:"11.0",sheetX:51,sheetY:49,keywords:["receipt","accounting","bookkeeping","evidence","proof"],variations:[]},"〰️":{codepoints:"3030-fe0f",version:"2.0",sheetX:55,sheetY:44,keywords:["wavy dash","dash","punctuation","wavy"],variations:[]},"〰":{codepoints:"3030-fe0f",version:"2.0",sheetX:55,sheetY:44,keywords:["wavy dash","dash","punctuation","wavy"],variations:[]},"🇰🇪":{codepoints:"1f1f0-1f1ea",version:"2.0",sheetX:2,sheetY:37,keywords:["kenya flag","flag ke","flag: kenya","ke","flag"],variations:[]},"🛰️":{codepoints:"1f6f0-fe0f",version:"2.0",sheetX:36,sheetY:51,keywords:["satellite","space"],variations:[]},"🛰":{codepoints:"1f6f0-fe0f",version:"2.0",sheetX:36,sheetY:51,keywords:["satellite","space"],variations:[]},"🧡":{codepoints:"1f9e1",version:"5.0",sheetX:51,sheetY:20,keywords:["orange heart","orange"],variations:[]},"💛":{codepoints:"1f49b",version:"2.0",sheetX:25,sheetY:37,keywords:["yellow heart","yellow"],variations:[]},"©️":{codepoints:"00a9-fe0f",version:"2.0",sheetX:0,sheetY:12,keywords:["copyright sign","copyright","c"],variations:[]},"©":{codepoints:"00a9-fe0f",version:"2.0",sheetX:0,sheetY:12,keywords:["copyright sign","copyright","c"],variations:[]},"🚀":{codepoints:"1f680",version:"2.0",sheetX:33,sheetY:56,keywords:["rocket","space"],variations:[]},"💹":{codepoints:"1f4b9",version:"2.0",sheetX:26,sheetY:15,keywords:["chart with upwards trend and yen sign","chart","chart increasing with yen","graph","growth","money","yen"],variations:[]},"🇰🇬":{codepoints:"1f1f0-1f1ec",version:"2.0",sheetX:2,sheetY:38,keywords:["kyrgyzstan flag","flag kg","flag: kyrgyzstan","kg","flag"],variations:[]},"💱":{codepoints:"1f4b1",version:"2.0",sheetX:26,sheetY:7,keywords:["currency exchange","bank","currency","exchange","money"],variations:[]},"®️":{codepoints:"00ae-fe0f",version:"2.0",sheetX:0,sheetY:13,keywords:["registered sign","registered","r"],variations:[]},"®":{codepoints:"00ae-fe0f",version:"2.0",sheetX:0,sheetY:13,keywords:["registered sign","registered","r"],variations:[]},"💚":{codepoints:"1f49a",version:"2.0",sheetX:25,sheetY:36,keywords:["green heart","green"],variations:[]},"🛸":{codepoints:"1f6f8",version:"5.0",sheetX:37,sheetY:0,keywords:["flying saucer","ufo"],variations:[]},"🇰🇭":{codepoints:"1f1f0-1f1ed",version:"2.0",sheetX:2,sheetY:39,keywords:["cambodia flag","flag kh","flag: cambodia","kh","flag"],variations:[]},"👨🏻‍💼":{codepoints:"1f468-1f3fb-200d-1f4bc",version:"4.0",sheetX:15,sheetY:45},"👨🏼‍💼":{codepoints:"1f468-1f3fc-200d-1f4bc",version:"4.0",sheetX:15,sheetY:46},"👨🏽‍💼":{codepoints:"1f468-1f3fd-200d-1f4bc",version:"4.0",sheetX:15,sheetY:47},"👨🏾‍💼":{codepoints:"1f468-1f3fe-200d-1f4bc",version:"4.0",sheetX:15,sheetY:48},"👨🏿‍💼":{codepoints:"1f468-1f3ff-200d-1f4bc",version:"4.0",sheetX:15,sheetY:49},"👨‍💼":{codepoints:"1f468-200d-1f4bc",version:"4.0",sheetX:15,sheetY:44,keywords:["male office worker","man office worker","architect","business","man","manager","white collar"],variations:["👨🏻‍💼","👨🏼‍💼","👨🏽‍💼","👨🏾‍💼","👨🏿‍💼"]},"™️":{codepoints:"2122-fe0f",version:"2.0",sheetX:52,sheetY:12,keywords:["trade mark sign","tm","trade mark","mark","trademark"],variations:[]},"™":{codepoints:"2122-fe0f",version:"2.0",sheetX:52,sheetY:12,keywords:["trade mark sign","tm","trade mark","mark","trademark"],variations:[]},"🛎️":{codepoints:"1f6ce-fe0f",version:"2.0",sheetX:36,sheetY:36,keywords:["bellhop bell","bell","bellhop","hotel"],variations:[]},"🛎":{codepoints:"1f6ce-fe0f",version:"2.0",sheetX:36,sheetY:36,keywords:["bellhop bell","bell","bellhop","hotel"],variations:[]},"💙":{codepoints:"1f499",version:"2.0",sheetX:25,sheetY:35,keywords:["blue heart","blue"],variations:[]},"🇰🇮":{codepoints:"1f1f0-1f1ee",version:"2.0",sheetX:2,sheetY:40,keywords:["kiribati flag","flag ki","flag: kiribati","ki","flag"],variations:[]},"💲":{codepoints:"1f4b2",version:"2.0",sheetX:26,sheetY:8,keywords:["heavy dollar sign","currency","dollar","money"],variations:[]},"👩🏻‍💼":{codepoints:"1f469-1f3fb-200d-1f4bc",version:"4.0",sheetX:18,sheetY:30},"👩🏼‍💼":{codepoints:"1f469-1f3fc-200d-1f4bc",version:"4.0",sheetX:18,sheetY:31},"👩🏽‍💼":{codepoints:"1f469-1f3fd-200d-1f4bc",version:"4.0",sheetX:18,sheetY:32},"👩🏾‍💼":{codepoints:"1f469-1f3fe-200d-1f4bc",version:"4.0",sheetX:18,sheetY:33},"👩🏿‍💼":{codepoints:"1f469-1f3ff-200d-1f4bc",version:"4.0",sheetX:18,sheetY:34},"👩‍💼":{codepoints:"1f469-200d-1f4bc",version:"4.0",sheetX:18,sheetY:29,keywords:["female office worker","woman office worker","architect","business","manager","white collar","woman"],variations:["👩🏻‍💼","👩🏼‍💼","👩🏽‍💼","👩🏾‍💼","👩🏿‍💼"]},"💜":{codepoints:"1f49c",version:"2.0",sheetX:25,sheetY:38,keywords:["purple heart","purple"],variations:[]},"🧳":{codepoints:"1f9f3",version:"11.0",sheetX:51,sheetY:38,keywords:["luggage","packing","travel"],variations:[]},"#️⃣":{codepoints:"0023-fe0f-20e3",version:"0.0",sheetX:0,sheetY:0,keywords:["hash key","hash","keycap: #","keycap"],variations:[]},"#⃣":{codepoints:"0023-fe0f-20e3",version:"0.0",sheetX:0,sheetY:0,keywords:["hash key","hash","keycap: #","keycap"],variations:[]},"🇰🇲":{codepoints:"1f1f0-1f1f2",version:"2.0",sheetX:2,sheetY:41,keywords:["comoros flag","flag km","flag: comoros","km","flag"],variations:[]},"✉️":{codepoints:"2709-fe0f",version:"2.0",sheetX:54,sheetY:42,keywords:["envelope","email","letter"],variations:[]},"✉":{codepoints:"2709-fe0f",version:"2.0",sheetX:54,sheetY:42,keywords:["envelope","email","letter"],variations:[]},"📧":{codepoints:"1f4e7",version:"2.0",sheetX:27,sheetY:4,keywords:["e mail symbol","e mail","email","letter","mail"],variations:[]},"*️⃣":{codepoints:"002a-fe0f-20e3",version:"0.0",sheetX:0,sheetY:1,keywords:["keycap star","keycap: *","keycap"],variations:[]},"*⃣":{codepoints:"002a-fe0f-20e3",version:"0.0",sheetX:0,sheetY:1,keywords:["keycap star","keycap: *","keycap"],variations:[]},"🇰🇳":{codepoints:"1f1f0-1f1f3",version:"2.0",sheetX:2,sheetY:42,keywords:["st. kitts & nevis flag","flag kn","flag: st. kitts & nevis","kn","flag"],variations:[]},"⌛":{codepoints:"231b",version:"2.0",sheetX:52,sheetY:23,keywords:["hourglass","hourglass done","sand","timer"],variations:[]},"👨🏻‍🔬":{codepoints:"1f468-1f3fb-200d-1f52c",version:"4.0",sheetX:16,sheetY:0},"👨🏼‍🔬":{codepoints:"1f468-1f3fc-200d-1f52c",version:"4.0",sheetX:16,sheetY:1},"👨🏽‍🔬":{codepoints:"1f468-1f3fd-200d-1f52c",version:"4.0",sheetX:16,sheetY:2},"👨🏾‍🔬":{codepoints:"1f468-1f3fe-200d-1f52c",version:"4.0",sheetX:16,sheetY:3},"👨🏿‍🔬":{codepoints:"1f468-1f3ff-200d-1f52c",version:"4.0",sheetX:16,sheetY:4},"👨‍🔬":{codepoints:"1f468-200d-1f52c",version:"4.0",sheetX:15,sheetY:56,keywords:["male scientist","man scientist","biologist","chemist","engineer","man","physicist","scientist"],variations:["👨🏻‍🔬","👨🏼‍🔬","👨🏽‍🔬","👨🏾‍🔬","👨🏿‍🔬"]},"⏳":{codepoints:"23f3",version:"2.0",sheetX:52,sheetY:36,keywords:["hourglass with flowing sand","hourglass flowing sand","hourglass not done","hourglass","sand","timer"],variations:[]},"🖤":{codepoints:"1f5a4",version:"4.0",sheetX:30,sheetY:9,keywords:["black heart","black","evil","wicked"],variations:[]},"0️⃣":{codepoints:"0030-fe0f-20e3",version:"0.0",sheetX:0,sheetY:2,keywords:["keycap 0","zero","keycap: 0","keycap"],variations:[]},"0⃣":{codepoints:"0030-fe0f-20e3",version:"0.0",sheetX:0,sheetY:2,keywords:["keycap 0","zero","keycap: 0","keycap"],variations:[]},"📨":{codepoints:"1f4e8",version:"2.0",sheetX:27,sheetY:5,keywords:["incoming envelope","e mail","email","envelope","incoming","letter","receive"],variations:[]},"🇰🇵":{codepoints:"1f1f0-1f1f5",version:"2.0",sheetX:2,sheetY:43,keywords:["north korea flag","flag kp","flag: north korea","kp","flag"],variations:[]},"👩🏻‍🔬":{codepoints:"1f469-1f3fb-200d-1f52c",version:"4.0",sheetX:18,sheetY:42},"👩🏼‍🔬":{codepoints:"1f469-1f3fc-200d-1f52c",version:"4.0",sheetX:18,sheetY:43},"👩🏽‍🔬":{codepoints:"1f469-1f3fd-200d-1f52c",version:"4.0",sheetX:18,sheetY:44},"👩🏾‍🔬":{codepoints:"1f469-1f3fe-200d-1f52c",version:"4.0",sheetX:18,sheetY:45},"👩🏿‍🔬":{codepoints:"1f469-1f3ff-200d-1f52c",version:"4.0",sheetX:18,sheetY:46},"👩‍🔬":{codepoints:"1f469-200d-1f52c",version:"4.0",sheetX:18,sheetY:41,keywords:["female scientist","woman scientist","biologist","chemist","engineer","physicist","scientist","woman"],variations:["👩🏻‍🔬","👩🏼‍🔬","👩🏽‍🔬","👩🏾‍🔬","👩🏿‍🔬"]},"⌚":{codepoints:"231a",version:"2.0",sheetX:52,sheetY:22,keywords:["watch","clock"],variations:[]},"1️⃣":{codepoints:"0031-fe0f-20e3",version:"0.0",sheetX:0,sheetY:3,keywords:["keycap 1","one","keycap: 1","keycap"],variations:[]},"1⃣":{codepoints:"0031-fe0f-20e3",version:"0.0",sheetX:0,sheetY:3,keywords:["keycap 1","one","keycap: 1","keycap"],variations:[]},"🇰🇷":{codepoints:"1f1f0-1f1f7",version:"2.0",sheetX:2,sheetY:44,keywords:["south korea flag","kr","flag kr","flag: south korea","flag"],variations:[]},"📩":{codepoints:"1f4e9",version:"2.0",sheetX:27,sheetY:6,keywords:["envelope with downwards arrow above","envelope with arrow","arrow","e mail","email","envelope","outgoing"],variations:[]},"📤":{codepoints:"1f4e4",version:"2.0",sheetX:27,sheetY:1,keywords:["outbox tray","box","letter","mail","outbox","sent","tray"],variations:[]},"👨🏻‍💻":{codepoints:"1f468-1f3fb-200d-1f4bb",version:"4.0",sheetX:15,sheetY:39},"👨🏼‍💻":{codepoints:"1f468-1f3fc-200d-1f4bb",version:"4.0",sheetX:15,sheetY:40},"👨🏽‍💻":{codepoints:"1f468-1f3fd-200d-1f4bb",version:"4.0",sheetX:15,sheetY:41},"👨🏾‍💻":{codepoints:"1f468-1f3fe-200d-1f4bb",version:"4.0",sheetX:15,sheetY:42},"👨🏿‍💻":{codepoints:"1f468-1f3ff-200d-1f4bb",version:"4.0",sheetX:15,sheetY:43},"👨‍💻":{codepoints:"1f468-200d-1f4bb",version:"4.0",sheetX:15,sheetY:38,keywords:["male technologist","man technologist","coder","developer","inventor","man","software","technologist"],variations:["👨🏻‍💻","👨🏼‍💻","👨🏽‍💻","👨🏾‍💻","👨🏿‍💻"]},"⏰":{codepoints:"23f0",version:"2.0",sheetX:52,sheetY:33,keywords:["alarm clock","alarm","clock"],variations:[]},"🇰🇼":{codepoints:"1f1f0-1f1fc",version:"2.0",sheetX:2,sheetY:45,keywords:["kuwait flag","flag kw","flag: kuwait","kw","flag"],variations:[]},"2️⃣":{codepoints:"0032-fe0f-20e3",version:"0.0",sheetX:0,sheetY:4,keywords:["keycap 2","two","keycap: 2","keycap"],variations:[]},"2⃣":{codepoints:"0032-fe0f-20e3",version:"0.0",sheetX:0,sheetY:4,keywords:["keycap 2","two","keycap: 2","keycap"],variations:[]},"💯":{codepoints:"1f4af",version:"2.0",sheetX:26,sheetY:5,keywords:["hundred points symbol","100","hundred points","full","hundred","score"],variations:[]},"💢":{codepoints:"1f4a2",version:"2.0",sheetX:25,sheetY:44,keywords:["anger symbol","anger","angry","comic","mad"],variations:[]},"📥":{codepoints:"1f4e5",version:"2.0",sheetX:27,sheetY:2,keywords:["inbox tray","box","inbox","letter","mail","receive","tray"],variations:[]},"3️⃣":{codepoints:"0033-fe0f-20e3",version:"0.0",sheetX:0,sheetY:5,keywords:["keycap 3","three","keycap: 3","keycap"],variations:[]},"3⃣":{codepoints:"0033-fe0f-20e3",version:"0.0",sheetX:0,sheetY:5,keywords:["keycap 3","three","keycap: 3","keycap"],variations:[]},"🇰🇾":{codepoints:"1f1f0-1f1fe",version:"2.0",sheetX:2,sheetY:46,keywords:["cayman islands flag","flag ky","flag: cayman islands","ky","flag"],variations:[]},"⏱️":{codepoints:"23f1-fe0f",version:"2.0",sheetX:52,sheetY:34,keywords:["stopwatch","clock"],variations:[]},"⏱":{codepoints:"23f1-fe0f",version:"2.0",sheetX:52,sheetY:34,keywords:["stopwatch","clock"],variations:[]},"👩🏻‍💻":{codepoints:"1f469-1f3fb-200d-1f4bb",version:"4.0",sheetX:18,sheetY:24},"👩🏼‍💻":{codepoints:"1f469-1f3fc-200d-1f4bb",version:"4.0",sheetX:18,sheetY:25},"👩🏽‍💻":{codepoints:"1f469-1f3fd-200d-1f4bb",version:"4.0",sheetX:18,sheetY:26},"👩🏾‍💻":{codepoints:"1f469-1f3fe-200d-1f4bb",version:"4.0",sheetX:18,sheetY:27},"👩🏿‍💻":{codepoints:"1f469-1f3ff-200d-1f4bb",version:"4.0",sheetX:18,sheetY:28},"👩‍💻":{codepoints:"1f469-200d-1f4bb",version:"4.0",sheetX:18,sheetY:23,keywords:["female technologist","woman technologist","coder","developer","inventor","software","technologist","woman"],variations:["👩🏻‍💻","👩🏼‍💻","👩🏽‍💻","👩🏾‍💻","👩🏿‍💻"]},"💥":{codepoints:"1f4a5",version:"2.0",sheetX:25,sheetY:47,keywords:["collision symbol","boom","collision","comic"],variations:[]},"🇰🇿":{codepoints:"1f1f0-1f1ff",version:"2.0",sheetX:2,sheetY:47,keywords:["kazakhstan flag","flag kz","flag: kazakhstan","kz","flag"],variations:[]},"4️⃣":{codepoints:"0034-fe0f-20e3",version:"0.0",sheetX:0,sheetY:6,keywords:["keycap 4","four","keycap: 4","keycap"],variations:[]},"4⃣":{codepoints:"0034-fe0f-20e3",version:"0.0",sheetX:0,sheetY:6,keywords:["keycap 4","four","keycap: 4","keycap"],variations:[]},"⏲️":{codepoints:"23f2-fe0f",version:"2.0",sheetX:52,sheetY:35,keywords:["timer clock","clock","timer"],variations:[]},"⏲":{codepoints:"23f2-fe0f",version:"2.0",sheetX:52,sheetY:35,keywords:["timer clock","clock","timer"],variations:[]},"📦":{codepoints:"1f4e6",version:"2.0",sheetX:27,sheetY:3,keywords:["package","box","parcel"],variations:[]},"📫":{codepoints:"1f4eb",version:"2.0",sheetX:27,sheetY:8,keywords:["closed mailbox with raised flag","mailbox","closed","mail","postbox"],variations:[]},"🇱🇦":{codepoints:"1f1f1-1f1e6",version:"2.0",sheetX:2,sheetY:48,keywords:["laos flag","flag la","flag: laos","la","flag"],variations:[]},"💫":{codepoints:"1f4ab",version:"2.0",sheetX:26,sheetY:1,keywords:["dizzy symbol","dizzy","comic","star"],variations:[]},"5️⃣":{codepoints:"0035-fe0f-20e3",version:"0.0",sheetX:0,sheetY:7,keywords:["keycap 5","five","keycap: 5","keycap"],variations:[]},"5⃣":{codepoints:"0035-fe0f-20e3",version:"0.0",sheetX:0,sheetY:7,keywords:["keycap 5","five","keycap: 5","keycap"],variations:[]},"👨🏻‍🎤":{codepoints:"1f468-1f3fb-200d-1f3a4",version:"4.0",sheetX:15,sheetY:0},"👨🏼‍🎤":{codepoints:"1f468-1f3fc-200d-1f3a4",version:"4.0",sheetX:15,sheetY:1},"👨🏽‍🎤":{codepoints:"1f468-1f3fd-200d-1f3a4",version:"4.0",sheetX:15,sheetY:2},"👨🏾‍🎤":{codepoints:"1f468-1f3fe-200d-1f3a4",version:"4.0",sheetX:15,sheetY:3},"👨🏿‍🎤":{codepoints:"1f468-1f3ff-200d-1f3a4",version:"4.0",sheetX:15,sheetY:4},"👨‍🎤":{codepoints:"1f468-200d-1f3a4",version:"4.0",sheetX:14,sheetY:56,keywords:["male singer","man singer","actor","entertainer","man","rock","singer","star"],variations:["👨🏻‍🎤","👨🏼‍🎤","👨🏽‍🎤","👨🏾‍🎤","👨🏿‍🎤"]},"🕰️":{codepoints:"1f570-fe0f",version:"2.0",sheetX:29,sheetY:7,keywords:["mantelpiece clock","clock"],variations:[]},"🕰":{codepoints:"1f570-fe0f",version:"2.0",sheetX:29,sheetY:7,keywords:["mantelpiece clock","clock"],variations:[]},"👩🏻‍🎤":{codepoints:"1f469-1f3fb-200d-1f3a4",version:"4.0",sheetX:17,sheetY:47},"👩🏼‍🎤":{codepoints:"1f469-1f3fc-200d-1f3a4",version:"4.0",sheetX:17,sheetY:48},"👩🏽‍🎤":{codepoints:"1f469-1f3fd-200d-1f3a4",version:"4.0",sheetX:17,sheetY:49},"👩🏾‍🎤":{codepoints:"1f469-1f3fe-200d-1f3a4",version:"4.0",sheetX:17,sheetY:50},"👩🏿‍🎤":{codepoints:"1f469-1f3ff-200d-1f3a4",version:"4.0",sheetX:17,sheetY:51},"👩‍🎤":{codepoints:"1f469-200d-1f3a4",version:"4.0",sheetX:17,sheetY:46,keywords:["female singer","woman singer","actor","entertainer","rock","singer","star","woman"],variations:["👩🏻‍🎤","👩🏼‍🎤","👩🏽‍🎤","👩🏾‍🎤","👩🏿‍🎤"]},"🇱🇧":{codepoints:"1f1f1-1f1e7",version:"2.0",sheetX:2,sheetY:49,keywords:["lebanon flag","flag lb","flag: lebanon","lb","flag"],variations:[]},"6️⃣":{codepoints:"0036-fe0f-20e3",version:"0.0",sheetX:0,sheetY:8,keywords:["keycap 6","six","keycap: 6","keycap"],variations:[]},"6⃣":{codepoints:"0036-fe0f-20e3",version:"0.0",sheetX:0,sheetY:8,keywords:["keycap 6","six","keycap: 6","keycap"],variations:[]},"📪":{codepoints:"1f4ea",version:"2.0",sheetX:27,sheetY:7,keywords:["closed mailbox with lowered flag","mailbox closed","closed","lowered","mail","mailbox","postbox"],variations:[]},"💦":{codepoints:"1f4a6",version:"2.0",sheetX:25,sheetY:48,keywords:["splashing sweat symbol","sweat drops","sweat droplets","comic","splashing","sweat"],variations:[]},"🕛":{codepoints:"1f55b",version:"2.0",sheetX:28,sheetY:50,keywords:["clock face twelve oclock","clock12","twelve o’clock","00","12","12:00","clock","o’clock","twelve"],variations:[]},"7️⃣":{codepoints:"0037-fe0f-20e3",version:"0.0",sheetX:0,sheetY:9,keywords:["keycap 7","seven","keycap: 7","keycap"],variations:[]},"7⃣":{codepoints:"0037-fe0f-20e3",version:"0.0",sheetX:0,sheetY:9,keywords:["keycap 7","seven","keycap: 7","keycap"],variations:[]},"📬":{codepoints:"1f4ec",version:"2.0",sheetX:27,sheetY:9,keywords:["open mailbox with raised flag","mailbox with mail","mail","mailbox","open","postbox"],variations:[]},"🕧":{codepoints:"1f567",version:"2.0",sheetX:29,sheetY:5,keywords:["clock face twelve thirty","clock1230","twelve thirty","12","12:30","clock","thirty","twelve"],variations:[]},"💨":{codepoints:"1f4a8",version:"2.0",sheetX:25,sheetY:50,keywords:["dash symbol","dash","dashing away","comic","running"],variations:[]},"🇱🇨":{codepoints:"1f1f1-1f1e8",version:"2.0",sheetX:2,sheetY:50,keywords:["st. lucia flag","flag lc","flag: st. lucia","lc","flag"],variations:[]},"🕳️":{codepoints:"1f573-fe0f",version:"2.0",sheetX:29,sheetY:8,keywords:["hole"],variations:[]},"🕳":{codepoints:"1f573-fe0f",version:"2.0",sheetX:29,sheetY:8,keywords:["hole"],variations:[]},"👨🏻‍🎨":{codepoints:"1f468-1f3fb-200d-1f3a8",version:"4.0",sheetX:15,sheetY:6},"👨🏼‍🎨":{codepoints:"1f468-1f3fc-200d-1f3a8",version:"4.0",sheetX:15,sheetY:7},"👨🏽‍🎨":{codepoints:"1f468-1f3fd-200d-1f3a8",version:"4.0",sheetX:15,sheetY:8},"👨🏾‍🎨":{codepoints:"1f468-1f3fe-200d-1f3a8",version:"4.0",sheetX:15,sheetY:9},"👨🏿‍🎨":{codepoints:"1f468-1f3ff-200d-1f3a8",version:"4.0",sheetX:15,sheetY:10},"👨‍🎨":{codepoints:"1f468-200d-1f3a8",version:"4.0",sheetX:15,sheetY:5,keywords:["male artist","man artist","artist","man","palette"],variations:["👨🏻‍🎨","👨🏼‍🎨","👨🏽‍🎨","👨🏾‍🎨","👨🏿‍🎨"]},"🕐":{codepoints:"1f550",version:"2.0",sheetX:28,sheetY:39,keywords:["clock face one oclock","clock1","one o’clock","00","1","1:00","clock","one","o’clock"],variations:[]},"8️⃣":{codepoints:"0038-fe0f-20e3",version:"0.0",sheetX:0,sheetY:10,keywords:["keycap 8","eight","keycap: 8","keycap"],variations:[]},"8⃣":{codepoints:"0038-fe0f-20e3",version:"0.0",sheetX:0,sheetY:10,keywords:["keycap 8","eight","keycap: 8","keycap"],variations:[]},"📭":{codepoints:"1f4ed",version:"2.0",sheetX:27,sheetY:10,keywords:["open mailbox with lowered flag","mailbox with no mail","lowered","mail","mailbox","open","postbox"],variations:[]},"🇱🇮":{codepoints:"1f1f1-1f1ee",version:"2.0",sheetX:2,sheetY:51,keywords:["liechtenstein flag","flag li","flag: liechtenstein","li","flag"],variations:[]},"💣":{codepoints:"1f4a3",version:"2.0",sheetX:25,sheetY:45,keywords:["bomb","comic"],variations:[]},"9️⃣":{codepoints:"0039-fe0f-20e3",version:"0.0",sheetX:0,sheetY:11,keywords:["keycap 9","nine","keycap: 9","keycap"],variations:[]},"9⃣":{codepoints:"0039-fe0f-20e3",version:"0.0",sheetX:0,sheetY:11,keywords:["keycap 9","nine","keycap: 9","keycap"],variations:[]},"📮":{codepoints:"1f4ee",version:"2.0",sheetX:27,sheetY:11,keywords:["postbox","mail","mailbox"],variations:[]},"👩🏻‍🎨":{codepoints:"1f469-1f3fb-200d-1f3a8",version:"4.0",sheetX:17,sheetY:53},"👩🏼‍🎨":{codepoints:"1f469-1f3fc-200d-1f3a8",version:"4.0",sheetX:17,sheetY:54},"👩🏽‍🎨":{codepoints:"1f469-1f3fd-200d-1f3a8",version:"4.0",sheetX:17,sheetY:55},"👩🏾‍🎨":{codepoints:"1f469-1f3fe-200d-1f3a8",version:"4.0",sheetX:17,sheetY:56},"👩🏿‍🎨":{codepoints:"1f469-1f3ff-200d-1f3a8",version:"4.0",sheetX:18,sheetY:0},"👩‍🎨":{codepoints:"1f469-200d-1f3a8",version:"4.0",sheetX:17,sheetY:52,keywords:["female artist","woman artist","artist","palette","woman"],variations:["👩🏻‍🎨","👩🏼‍🎨","👩🏽‍🎨","👩🏾‍🎨","👩🏿‍🎨"]},"🕜":{codepoints:"1f55c",version:"2.0",sheetX:28,sheetY:51,keywords:["clock face one thirty","clock130","one thirty","1","1:30","clock","one","thirty"],variations:[]},"🇱🇰":{codepoints:"1f1f1-1f1f0",version:"2.0",sheetX:2,sheetY:52,keywords:["sri lanka flag","flag lk","flag: sri lanka","lk","flag"],variations:[]},"🗳️":{codepoints:"1f5f3-fe0f",version:"2.0",sheetX:30,sheetY:28,keywords:["ballot box with ballot","ballot","box"],variations:[]},"🗳":{codepoints:"1f5f3-fe0f",version:"2.0",sheetX:30,sheetY:28,keywords:["ballot box with ballot","ballot","box"],variations:[]},"🔟":{codepoints:"1f51f",version:"2.0",sheetX:28,sheetY:2,keywords:["keycap ten","keycap: 10","keycap"],variations:[]},"🕑":{codepoints:"1f551",version:"2.0",sheetX:28,sheetY:40,keywords:["clock face two oclock","clock2","two o’clock","00","2","2:00","clock","o’clock","two"],variations:[]},"🇱🇷":{codepoints:"1f1f1-1f1f7",version:"2.0",sheetX:2,sheetY:53,keywords:["liberia flag","flag lr","flag: liberia","lr","flag"],variations:[]},"💬":{codepoints:"1f4ac",version:"2.0",sheetX:26,sheetY:2,keywords:["speech balloon","balloon","bubble","comic","dialog","speech"],variations:[]},"👁️‍🗨️":{codepoints:"1f441-fe0f-200d-1f5e8-fe0f",version:"2.0",sheetX:12,sheetY:37,keywords:["eye in speech bubble","eye","speech bubble","witness"],variations:[]},"🇱🇸":{codepoints:"1f1f1-1f1f8",version:"2.0",sheetX:2,sheetY:54,keywords:["lesotho flag","flag ls","flag: lesotho","ls","flag"],variations:[]},"🕝":{codepoints:"1f55d",version:"2.0",sheetX:28,sheetY:52,keywords:["clock face two thirty","clock230","two thirty","2","2:30","clock","thirty","two"],variations:[]},"👨🏻‍✈️":{codepoints:"1f468-1f3fb-200d-2708-fe0f",version:"4.0",sheetX:17,sheetY:15},"👨🏼‍✈️":{codepoints:"1f468-1f3fc-200d-2708-fe0f",version:"4.0",sheetX:17,sheetY:16},"👨🏽‍✈️":{codepoints:"1f468-1f3fd-200d-2708-fe0f",version:"4.0",sheetX:17,sheetY:17},"👨🏾‍✈️":{codepoints:"1f468-1f3fe-200d-2708-fe0f",version:"4.0",sheetX:17,sheetY:18},"👨🏿‍✈️":{codepoints:"1f468-1f3ff-200d-2708-fe0f",version:"4.0",sheetX:17,sheetY:19},"👨‍✈️":{codepoints:"1f468-200d-2708-fe0f",version:"4.0",sheetX:17,sheetY:14,keywords:["male pilot","man pilot","man","pilot","plane"],variations:["👨🏻‍✈️","👨🏼‍✈️","👨🏽‍✈️","👨🏾‍✈️","👨🏿‍✈️"]},"👨‍✈":{codepoints:"1f468-200d-2708-fe0f",version:"4.0",sheetX:17,sheetY:14,keywords:["male pilot","man pilot","man","pilot","plane"],variations:["👨🏻‍✈️","👨🏼‍✈️","👨🏽‍✈️","👨🏾‍✈️","👨🏿‍✈️"]},"🔠":{codepoints:"1f520",version:"2.0",sheetX:28,sheetY:3,keywords:["input symbol for latin capital letters","capital abcd","input latin uppercase","abcd","input","latin","letters","uppercase"],variations:[]},"✏️":{codepoints:"270f-fe0f",version:"2.0",sheetX:55,sheetY:10,keywords:["pencil","pencil2"],variations:[]},"✏":{codepoints:"270f-fe0f",version:"2.0",sheetX:55,sheetY:10,keywords:["pencil","pencil2"],variations:[]},"👩🏻‍✈️":{codepoints:"1f469-1f3fb-200d-2708-fe0f",version:"4.0",sheetX:20,sheetY:0},"👩🏼‍✈️":{codepoints:"1f469-1f3fc-200d-2708-fe0f",version:"4.0",sheetX:20,sheetY:1},"👩🏽‍✈️":{codepoints:"1f469-1f3fd-200d-2708-fe0f",version:"4.0",sheetX:20,sheetY:2},"👩🏾‍✈️":{codepoints:"1f469-1f3fe-200d-2708-fe0f",version:"4.0",sheetX:20,sheetY:3},"👩🏿‍✈️":{codepoints:"1f469-1f3ff-200d-2708-fe0f",version:"4.0",sheetX:20,sheetY:4},"👩‍✈️":{codepoints:"1f469-200d-2708-fe0f",version:"4.0",sheetX:19,sheetY:56,keywords:["female pilot","woman pilot","pilot","plane","woman"],variations:["👩🏻‍✈️","👩🏼‍✈️","👩🏽‍✈️","👩🏾‍✈️","👩🏿‍✈️"]},"👩‍✈":{codepoints:"1f469-200d-2708-fe0f",version:"4.0",sheetX:19,sheetY:56,keywords:["female pilot","woman pilot","pilot","plane","woman"],variations:["👩🏻‍✈️","👩🏼‍✈️","👩🏽‍✈️","👩🏾‍✈️","👩🏿‍✈️"]},"✒️":{codepoints:"2712-fe0f",version:"2.0",sheetX:55,sheetY:11,keywords:["black nib","nib","pen"],variations:[]},"✒":{codepoints:"2712-fe0f",version:"2.0",sheetX:55,sheetY:11,keywords:["black nib","nib","pen"],variations:[]},"🗨️":{codepoints:"1f5e8-fe0f",version:"2.0",sheetX:30,sheetY:26,keywords:["left speech bubble","dialog","speech"],variations:[]},"🗨":{codepoints:"1f5e8-fe0f",version:"2.0",sheetX:30,sheetY:26,keywords:["left speech bubble","dialog","speech"],variations:[]},"🕒":{codepoints:"1f552",version:"2.0",sheetX:28,sheetY:41,keywords:["clock face three oclock","clock3","three o’clock","00","3","3:00","clock","o’clock","three"],variations:[]},"🔡":{codepoints:"1f521",version:"2.0",sheetX:28,sheetY:4,keywords:["input symbol for latin small letters","abcd","input latin lowercase","input","latin","letters","lowercase"],variations:[]},"🇱🇹":{codepoints:"1f1f1-1f1f9",version:"2.0",sheetX:2,sheetY:55,keywords:["lithuania flag","flag lt","flag: lithuania","lt","flag"],variations:[]},"🕞":{codepoints:"1f55e",version:"2.0",sheetX:28,sheetY:53,keywords:["clock face three thirty","clock330","three thirty","3","3:30","clock","thirty","three"],variations:[]},"🔢":{codepoints:"1f522",version:"2.0",sheetX:28,sheetY:5,keywords:["input symbol for numbers","1234","input numbers","input","numbers"],variations:[]},"🇱🇺":{codepoints:"1f1f1-1f1fa",version:"2.0",sheetX:2,sheetY:56,keywords:["luxembourg flag","flag lu","flag: luxembourg","lu","flag"],variations:[]},"🗯️":{codepoints:"1f5ef-fe0f",version:"2.0",sheetX:30,sheetY:27,keywords:["right anger bubble","angry","balloon","bubble","mad"],variations:[]},"🗯":{codepoints:"1f5ef-fe0f",version:"2.0",sheetX:30,sheetY:27,keywords:["right anger bubble","angry","balloon","bubble","mad"],variations:[]},"🖋️":{codepoints:"1f58b-fe0f",version:"2.0",sheetX:29,sheetY:45,keywords:["lower left fountain pen","fountain pen","fountain","pen"],variations:[]},"🖋":{codepoints:"1f58b-fe0f",version:"2.0",sheetX:29,sheetY:45,keywords:["lower left fountain pen","fountain pen","fountain","pen"],variations:[]},"👨🏻‍🚀":{codepoints:"1f468-1f3fb-200d-1f680",version:"4.0",sheetX:16,sheetY:6},"👨🏼‍🚀":{codepoints:"1f468-1f3fc-200d-1f680",version:"4.0",sheetX:16,sheetY:7},"👨🏽‍🚀":{codepoints:"1f468-1f3fd-200d-1f680",version:"4.0",sheetX:16,sheetY:8},"👨🏾‍🚀":{codepoints:"1f468-1f3fe-200d-1f680",version:"4.0",sheetX:16,sheetY:9},"👨🏿‍🚀":{codepoints:"1f468-1f3ff-200d-1f680",version:"4.0",sheetX:16,sheetY:10},"👨‍🚀":{codepoints:"1f468-200d-1f680",version:"4.0",sheetX:16,sheetY:5,keywords:["male astronaut","man astronaut","astronaut","man","rocket"],variations:["👨🏻‍🚀","👨🏼‍🚀","👨🏽‍🚀","👨🏾‍🚀","👨🏿‍🚀"]},"💭":{codepoints:"1f4ad",version:"2.0",sheetX:26,sheetY:3,keywords:["thought balloon","balloon","bubble","comic","thought"],variations:[]},"🔣":{codepoints:"1f523",version:"2.0",sheetX:28,sheetY:6,keywords:["input symbol for symbols","symbols","input symbols","input","〒♪&%"],variations:[]},"🕓":{codepoints:"1f553",version:"2.0",sheetX:28,sheetY:42,keywords:["clock face four oclock","clock4","four o’clock","00","4","4:00","clock","four","o’clock"],variations:[]},"🇱🇻":{codepoints:"1f1f1-1f1fb",version:"2.0",sheetX:3,sheetY:0,keywords:["latvia flag","flag lv","flag: latvia","lv","flag"],variations:[]},"🖊️":{codepoints:"1f58a-fe0f",version:"2.0",sheetX:29,sheetY:44,keywords:["lower left ballpoint pen","pen","ballpoint"],variations:[]},"🖊":{codepoints:"1f58a-fe0f",version:"2.0",sheetX:29,sheetY:44,keywords:["lower left ballpoint pen","pen","ballpoint"],variations:[]},"🔤":{codepoints:"1f524",version:"2.0",sheetX:28,sheetY:7,keywords:["input symbol for latin letters","abc","input latin letters","alphabet","input","latin","letters"],variations:[]},"💤":{codepoints:"1f4a4",version:"2.0",sheetX:25,sheetY:46,keywords:["sleeping symbol","zzz","comic","sleep"],variations:[]},"🖌️":{codepoints:"1f58c-fe0f",version:"2.0",sheetX:29,sheetY:46,keywords:["lower left paintbrush","paintbrush","painting"],variations:[]},"🖌":{codepoints:"1f58c-fe0f",version:"2.0",sheetX:29,sheetY:46,keywords:["lower left paintbrush","paintbrush","painting"],variations:[]},"👩🏻‍🚀":{codepoints:"1f469-1f3fb-200d-1f680",version:"4.0",sheetX:18,sheetY:48},"👩🏼‍🚀":{codepoints:"1f469-1f3fc-200d-1f680",version:"4.0",sheetX:18,sheetY:49},"👩🏽‍🚀":{codepoints:"1f469-1f3fd-200d-1f680",version:"4.0",sheetX:18,sheetY:50},"👩🏾‍🚀":{codepoints:"1f469-1f3fe-200d-1f680",version:"4.0",sheetX:18,sheetY:51},"👩🏿‍🚀":{codepoints:"1f469-1f3ff-200d-1f680",version:"4.0",sheetX:18,sheetY:52},"👩‍🚀":{codepoints:"1f469-200d-1f680",version:"4.0",sheetX:18,sheetY:47,keywords:["female astronaut","woman astronaut","astronaut","rocket","woman"],variations:["👩🏻‍🚀","👩🏼‍🚀","👩🏽‍🚀","👩🏾‍🚀","👩🏿‍🚀"]},"🇱🇾":{codepoints:"1f1f1-1f1fe",version:"2.0",sheetX:3,sheetY:1,keywords:["libya flag","flag ly","flag: libya","ly","flag"],variations:[]},"🕟":{codepoints:"1f55f",version:"2.0",sheetX:28,sheetY:54,keywords:["clock face four thirty","clock430","four thirty","4","4:30","clock","four","thirty"],variations:[]},"🇲🇦":{codepoints:"1f1f2-1f1e6",version:"2.0",sheetX:3,sheetY:2,keywords:["morocco flag","flag ma","flag: morocco","ma","flag"],variations:[]},"🅰️":{codepoints:"1f170-fe0f",version:"2.0",sheetX:0,sheetY:16,keywords:["negative squared latin capital letter a","a","a button (blood type)","blood type"],variations:[]},"🅰":{codepoints:"1f170-fe0f",version:"2.0",sheetX:0,sheetY:16,keywords:["negative squared latin capital letter a","a","a button (blood type)","blood type"],variations:[]},"🕔":{codepoints:"1f554",version:"2.0",sheetX:28,sheetY:43,keywords:["clock face five oclock","clock5","five o’clock","00","5","5:00","clock","five","o’clock"],variations:[]},"🖍️":{codepoints:"1f58d-fe0f",version:"2.0",sheetX:29,sheetY:47,keywords:["lower left crayon","crayon"],variations:[]},"🖍":{codepoints:"1f58d-fe0f",version:"2.0",sheetX:29,sheetY:47,keywords:["lower left crayon","crayon"],variations:[]},"👨🏻‍🚒":{codepoints:"1f468-1f3fb-200d-1f692",version:"4.0",sheetX:16,sheetY:12},"👨🏼‍🚒":{codepoints:"1f468-1f3fc-200d-1f692",version:"4.0",sheetX:16,sheetY:13},"👨🏽‍🚒":{codepoints:"1f468-1f3fd-200d-1f692",version:"4.0",sheetX:16,sheetY:14},"👨🏾‍🚒":{codepoints:"1f468-1f3fe-200d-1f692",version:"4.0",sheetX:16,sheetY:15},"👨🏿‍🚒":{codepoints:"1f468-1f3ff-200d-1f692",version:"4.0",sheetX:16,sheetY:16},"👨‍🚒":{codepoints:"1f468-200d-1f692",version:"4.0",sheetX:16,sheetY:11,keywords:["male firefighter","man firefighter","firefighter","firetruck","man"],variations:["👨🏻‍🚒","👨🏼‍🚒","👨🏽‍🚒","👨🏾‍🚒","👨🏿‍🚒"]},"📝":{codepoints:"1f4dd",version:"2.0",sheetX:26,sheetY:51,keywords:["memo","pencil"],variations:[]},"🆎":{codepoints:"1f18e",version:"2.0",sheetX:0,sheetY:20,keywords:["negative squared ab","ab","ab button (blood type)","blood type"],variations:[]},"🇲🇨":{codepoints:"1f1f2-1f1e8",version:"2.0",sheetX:3,sheetY:3,keywords:["monaco flag","flag mc","flag: monaco","mc","flag"],variations:[]},"🕠":{codepoints:"1f560",version:"2.0",sheetX:28,sheetY:55,keywords:["clock face five thirty","clock530","five thirty","5","5:30","clock","five","thirty"],variations:[]},"💼":{codepoints:"1f4bc",version:"2.0",sheetX:26,sheetY:18,keywords:["briefcase"],variations:[]},"👩🏻‍🚒":{codepoints:"1f469-1f3fb-200d-1f692",version:"4.0",sheetX:18,sheetY:54},"👩🏼‍🚒":{codepoints:"1f469-1f3fc-200d-1f692",version:"4.0",sheetX:18,sheetY:55},"👩🏽‍🚒":{codepoints:"1f469-1f3fd-200d-1f692",version:"4.0",sheetX:18,sheetY:56},"👩🏾‍🚒":{codepoints:"1f469-1f3fe-200d-1f692",version:"4.0",sheetX:19,sheetY:0},"👩🏿‍🚒":{codepoints:"1f469-1f3ff-200d-1f692",version:"4.0",sheetX:19,sheetY:1},"👩‍🚒":{codepoints:"1f469-200d-1f692",version:"4.0",sheetX:18,sheetY:53,keywords:["female firefighter","woman firefighter","firefighter","firetruck","woman"],variations:["👩🏻‍🚒","👩🏼‍🚒","👩🏽‍🚒","👩🏾‍🚒","👩🏿‍🚒"]},"🕕":{codepoints:"1f555",version:"2.0",sheetX:28,sheetY:44,keywords:["clock face six oclock","clock6","six o’clock","00","6","6:00","clock","o’clock","six"],variations:[]},"🅱️":{codepoints:"1f171-fe0f",version:"2.0",sheetX:0,sheetY:17,keywords:["negative squared latin capital letter b","b","b button (blood type)","blood type"],variations:[]},"🅱":{codepoints:"1f171-fe0f",version:"2.0",sheetX:0,sheetY:17,keywords:["negative squared latin capital letter b","b","b button (blood type)","blood type"],variations:[]},"🇲🇩":{codepoints:"1f1f2-1f1e9",version:"2.0",sheetX:3,sheetY:4,keywords:["moldova flag","flag md","flag: moldova","md","flag"],variations:[]},"🕡":{codepoints:"1f561",version:"2.0",sheetX:28,sheetY:56,keywords:["clock face six thirty","clock630","six thirty","6","6:30","clock","six","thirty"],variations:[]},"🆑":{codepoints:"1f191",version:"2.0",sheetX:0,sheetY:21,keywords:["squared cl","cl","cl button"],variations:[]},"🇲🇪":{codepoints:"1f1f2-1f1ea",version:"2.0",sheetX:3,sheetY:5,keywords:["montenegro flag","flag me","flag: montenegro","me","flag"],variations:[]},"📁":{codepoints:"1f4c1",version:"2.0",sheetX:26,sheetY:23,keywords:["file folder","file","folder"],variations:[]},"👮🏻":{codepoints:"1f46e-1f3fb",version:"2.0",sheetX:21,sheetY:50},"👮🏼":{codepoints:"1f46e-1f3fc",version:"2.0",sheetX:21,sheetY:51},"👮🏽":{codepoints:"1f46e-1f3fd",version:"2.0",sheetX:21,sheetY:52},"👮🏾":{codepoints:"1f46e-1f3fe",version:"2.0",sheetX:21,sheetY:53},"👮🏿":{codepoints:"1f46e-1f3ff",version:"2.0",sheetX:21,sheetY:54},"👮":{codepoints:"1f46e",version:"2.0",sheetX:21,sheetY:49,keywords:["police officer","cop","officer","police"],variations:["👮🏻","👮🏼","👮🏽","👮🏾","👮🏿"]},"👮🏻‍♂️":{codepoints:"1f46e-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:21,sheetY:44},"👮🏼‍♂️":{codepoints:"1f46e-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:21,sheetY:45},"👮🏽‍♂️":{codepoints:"1f46e-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:21,sheetY:46},"👮🏾‍♂️":{codepoints:"1f46e-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:21,sheetY:47},"👮🏿‍♂️":{codepoints:"1f46e-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:21,sheetY:48},"👮‍♂️":{codepoints:"1f46e-200d-2642-fe0f",version:"4.0",sheetX:21,sheetY:43,keywords:["male police officer","man police officer","cop","man","officer","police"],variations:["👮🏻‍♂️","👮🏼‍♂️","👮🏽‍♂️","👮🏾‍♂️","👮🏿‍♂️"]},"👮‍♂":{codepoints:"1f46e-200d-2642-fe0f",version:"4.0",sheetX:21,sheetY:43,keywords:["male police officer","man police officer","cop","man","officer","police"],variations:["👮🏻‍♂️","👮🏼‍♂️","👮🏽‍♂️","👮🏾‍♂️","👮🏿‍♂️"]},"🆒":{codepoints:"1f192",version:"2.0",sheetX:0,sheetY:22,keywords:["squared cool","cool","cool button"],variations:[]},"🕖":{codepoints:"1f556",version:"2.0",sheetX:28,sheetY:45,keywords:["clock face seven oclock","clock7","seven o’clock","00","7","7:00","clock","o’clock","seven"],variations:[]},"🇲🇫":{codepoints:"1f1f2-1f1eb",version:"2.0",sheetX:3,sheetY:6,keywords:["st. martin flag","flag mf","flag: st. martin","mf","flag"],variations:[]},"📂":{codepoints:"1f4c2",version:"2.0",sheetX:26,sheetY:24,keywords:["open file folder","file","folder","open"],variations:[]},"🗂️":{codepoints:"1f5c2-fe0f",version:"2.0",sheetX:30,sheetY:15,keywords:["card index dividers","card","dividers","index"],variations:[]},"🗂":{codepoints:"1f5c2-fe0f",version:"2.0",sheetX:30,sheetY:15,keywords:["card index dividers","card","dividers","index"],variations:[]},"🇲🇬":{codepoints:"1f1f2-1f1ec",version:"2.0",sheetX:3,sheetY:7,keywords:["madagascar flag","flag mg","flag: madagascar","mg","flag"],variations:[]},"🆓":{codepoints:"1f193",version:"2.0",sheetX:0,sheetY:23,keywords:["squared free","free","free button"],variations:[]},"👮🏻‍♀️":{codepoints:"1f46e-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:21,sheetY:38},"👮🏼‍♀️":{codepoints:"1f46e-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:21,sheetY:39},"👮🏽‍♀️":{codepoints:"1f46e-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:21,sheetY:40},"👮🏾‍♀️":{codepoints:"1f46e-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:21,sheetY:41},"👮🏿‍♀️":{codepoints:"1f46e-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:21,sheetY:42},"👮‍♀️":{codepoints:"1f46e-200d-2640-fe0f",version:"4.0",sheetX:21,sheetY:37,keywords:["female police officer","woman police officer","cop","officer","police","woman"],variations:["👮🏻‍♀️","👮🏼‍♀️","👮🏽‍♀️","👮🏾‍♀️","👮🏿‍♀️"]},"👮‍♀":{codepoints:"1f46e-200d-2640-fe0f",version:"4.0",sheetX:21,sheetY:37,keywords:["female police officer","woman police officer","cop","officer","police","woman"],variations:["👮🏻‍♀️","👮🏼‍♀️","👮🏽‍♀️","👮🏾‍♀️","👮🏿‍♀️"]},"🕢":{codepoints:"1f562",version:"2.0",sheetX:29,sheetY:0,keywords:["clock face seven thirty","clock730","seven thirty","7","7:30","clock","seven","thirty"],variations:[]},"📅":{codepoints:"1f4c5",version:"2.0",sheetX:26,sheetY:27,keywords:["calendar","date"],variations:[]},"🕗":{codepoints:"1f557",version:"2.0",sheetX:28,sheetY:46,keywords:["clock face eight oclock","clock8","eight o’clock","00","8","8:00","clock","eight","o’clock"],variations:[]},"ℹ️":{codepoints:"2139-fe0f",version:"2.0",sheetX:52,sheetY:13,keywords:["information source","information","i"],variations:[]},"ℹ":{codepoints:"2139-fe0f",version:"2.0",sheetX:52,sheetY:13,keywords:["information source","information","i"],variations:[]},"🕵🏻":{codepoints:"1f575-1f3fb",version:"2.0",sheetX:29,sheetY:28},"🕵🏼":{codepoints:"1f575-1f3fc",version:"2.0",sheetX:29,sheetY:29},"🕵🏽":{codepoints:"1f575-1f3fd",version:"2.0",sheetX:29,sheetY:30},"🕵🏾":{codepoints:"1f575-1f3fe",version:"2.0",sheetX:29,sheetY:31},"🕵🏿":{codepoints:"1f575-1f3ff",version:"2.0",sheetX:29,sheetY:32},"🕵️":{codepoints:"1f575-fe0f",version:"2.0",sheetX:29,sheetY:27,keywords:["sleuth or spy","detective","sleuth","spy"],variations:["🕵🏻","🕵🏼","🕵🏽","🕵🏾","🕵🏿"]},"🕵":{codepoints:"1f575-fe0f",version:"2.0",sheetX:29,sheetY:27,keywords:["sleuth or spy","detective","sleuth","spy"],variations:["🕵🏻","🕵🏼","🕵🏽","🕵🏾","🕵🏿"]},"🇲🇭":{codepoints:"1f1f2-1f1ed",version:"2.0",sheetX:3,sheetY:8,keywords:["marshall islands flag","flag mh","flag: marshall islands","mh","flag"],variations:[]},"🕣":{codepoints:"1f563",version:"2.0",sheetX:29,sheetY:1,keywords:["clock face eight thirty","clock830","eight thirty","8","8:30","clock","eight","thirty"],variations:[]},"📆":{codepoints:"1f4c6",version:"2.0",sheetX:26,sheetY:28,keywords:["tear off calendar","calendar"],variations:[]},"🕵🏻‍♂️":{codepoints:"1f575-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:29,sheetY:22},"🕵🏼‍♂️":{codepoints:"1f575-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:29,sheetY:23},"🕵🏽‍♂️":{codepoints:"1f575-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:29,sheetY:24},"🕵🏾‍♂️":{codepoints:"1f575-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:29,sheetY:25},"🕵🏿‍♂️":{codepoints:"1f575-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:29,sheetY:26},"🕵️‍♂️":{codepoints:"1f575-fe0f-200d-2642-fe0f",version:"4.0",sheetX:29,sheetY:21,keywords:["male detective","man detective","detective","man","sleuth","spy"],variations:["🕵🏻‍♂️","🕵🏼‍♂️","🕵🏽‍♂️","🕵🏾‍♂️","🕵🏿‍♂️"]},"🇲🇰":{codepoints:"1f1f2-1f1f0",version:"2.0",sheetX:3,sheetY:9,keywords:["north macedonia flag","flag mk","flag: north macedonia","mk","flag"],variations:[]},"🆔":{codepoints:"1f194",version:"2.0",sheetX:0,sheetY:24,keywords:["squared id","id","id button","identity"],variations:[]},"🗒️":{codepoints:"1f5d2-fe0f",version:"2.0",sheetX:30,sheetY:19,keywords:["spiral note pad","spiral notepad","note","pad","spiral"],variations:[]},"🗒":{codepoints:"1f5d2-fe0f",version:"2.0",sheetX:30,sheetY:19,keywords:["spiral note pad","spiral notepad","note","pad","spiral"],variations:[]},"🕵🏻‍♀️":{codepoints:"1f575-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:29,sheetY:16},"🕵🏼‍♀️":{codepoints:"1f575-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:29,sheetY:17},"🕵🏽‍♀️":{codepoints:"1f575-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:29,sheetY:18},"🕵🏾‍♀️":{codepoints:"1f575-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:29,sheetY:19},"🕵🏿‍♀️":{codepoints:"1f575-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:29,sheetY:20},"🕵️‍♀️":{codepoints:"1f575-fe0f-200d-2640-fe0f",version:"4.0",sheetX:29,sheetY:15,keywords:["female detective","woman detective","detective","sleuth","spy","woman"],variations:["🕵🏻‍♀️","🕵🏼‍♀️","🕵🏽‍♀️","🕵🏾‍♀️","🕵🏿‍♀️"]},"🕘":{codepoints:"1f558",version:"2.0",sheetX:28,sheetY:47,keywords:["clock face nine oclock","clock9","nine o’clock","00","9","9:00","clock","nine","o’clock"],variations:[]},"🇲🇱":{codepoints:"1f1f2-1f1f1",version:"2.0",sheetX:3,sheetY:10,keywords:["mali flag","flag ml","flag: mali","ml","flag"],variations:[]},"Ⓜ️":{codepoints:"24c2-fe0f",version:"2.0",sheetX:52,sheetY:40,keywords:["circled latin capital letter m","m","circled m","circle"],variations:[]},"Ⓜ":{codepoints:"24c2-fe0f",version:"2.0",sheetX:52,sheetY:40,keywords:["circled latin capital letter m","m","circled m","circle"],variations:[]},"🇲🇲":{codepoints:"1f1f2-1f1f2",version:"2.0",sheetX:3,sheetY:11,keywords:["myanmar (burma) flag","flag mm","flag: myanmar (burma)","mm","flag"],variations:[]},"🕤":{codepoints:"1f564",version:"2.0",sheetX:29,sheetY:2,keywords:["clock face nine thirty","clock930","nine thirty","9","9:30","clock","nine","thirty"],variations:[]},"💂🏻":{codepoints:"1f482-1f3fb",version:"2.0",sheetX:24,sheetY:21},"💂🏼":{codepoints:"1f482-1f3fc",version:"2.0",sheetX:24,sheetY:22},"💂🏽":{codepoints:"1f482-1f3fd",version:"2.0",sheetX:24,sheetY:23},"💂🏾":{codepoints:"1f482-1f3fe",version:"2.0",sheetX:24,sheetY:24},"💂🏿":{codepoints:"1f482-1f3ff",version:"2.0",sheetX:24,sheetY:25},"💂":{codepoints:"1f482",version:"2.0",sheetX:24,sheetY:20,keywords:["guardsman","guard"],variations:["💂🏻","💂🏼","💂🏽","💂🏾","💂🏿"]},"🆕":{codepoints:"1f195",version:"2.0",sheetX:0,sheetY:25,keywords:["squared new","new","new button"],variations:[]},"🗓️":{codepoints:"1f5d3-fe0f",version:"2.0",sheetX:30,sheetY:20,keywords:["spiral calendar pad","spiral calendar","calendar","pad","spiral"],variations:[]},"🗓":{codepoints:"1f5d3-fe0f",version:"2.0",sheetX:30,sheetY:20,keywords:["spiral calendar pad","spiral calendar","calendar","pad","spiral"],variations:[]},"🆖":{codepoints:"1f196",version:"2.0",sheetX:0,sheetY:26,keywords:["squared ng","ng","ng button"],variations:[]},"📇":{codepoints:"1f4c7",version:"2.0",sheetX:26,sheetY:29,keywords:["card index","card","index","rolodex"],variations:[]},"🕙":{codepoints:"1f559",version:"2.0",sheetX:28,sheetY:48,keywords:["clock face ten oclock","clock10","ten o’clock","00","10","10:00","clock","o’clock","ten"],variations:[]},"🇲🇳":{codepoints:"1f1f2-1f1f3",version:"2.0",sheetX:3,sheetY:12,keywords:["mongolia flag","flag mn","flag: mongolia","mn","flag"],variations:[]},"💂🏻‍♂️":{codepoints:"1f482-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:15},"💂🏼‍♂️":{codepoints:"1f482-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:16},"💂🏽‍♂️":{codepoints:"1f482-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:17},"💂🏾‍♂️":{codepoints:"1f482-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:18},"💂🏿‍♂️":{codepoints:"1f482-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:19},"💂‍♂️":{codepoints:"1f482-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:14,keywords:["male guard","man guard","guard","man"],variations:["💂🏻‍♂️","💂🏼‍♂️","💂🏽‍♂️","💂🏾‍♂️","💂🏿‍♂️"]},"💂‍♂":{codepoints:"1f482-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:14,keywords:["male guard","man guard","guard","man"],variations:["💂🏻‍♂️","💂🏼‍♂️","💂🏽‍♂️","💂🏾‍♂️","💂🏿‍♂️"]},"🇲🇴":{codepoints:"1f1f2-1f1f4",version:"2.0",sheetX:3,sheetY:13,keywords:["macao sar china flag","flag mo","flag: macao sar china","mo","flag"],variations:[]},"🕥":{codepoints:"1f565",version:"2.0",sheetX:29,sheetY:3,keywords:["clock face ten thirty","clock1030","ten thirty","10","10:30","clock","ten","thirty"],variations:[]},"📈":{codepoints:"1f4c8",version:"2.0",sheetX:26,sheetY:30,keywords:["chart with upwards trend","chart increasing","chart","graph","growth","trend","upward"],variations:[]},"🅾️":{codepoints:"1f17e-fe0f",version:"2.0",sheetX:0,sheetY:18,keywords:["negative squared latin capital letter o","o2","o button (blood type)","blood type","o"],variations:[]},"🅾":{codepoints:"1f17e-fe0f",version:"2.0",sheetX:0,sheetY:18,keywords:["negative squared latin capital letter o","o2","o button (blood type)","blood type","o"],variations:[]},"💂🏻‍♀️":{codepoints:"1f482-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:9},"💂🏼‍♀️":{codepoints:"1f482-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:10},"💂🏽‍♀️":{codepoints:"1f482-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:11},"💂🏾‍♀️":{codepoints:"1f482-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:12},"💂🏿‍♀️":{codepoints:"1f482-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:13},"💂‍♀️":{codepoints:"1f482-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:8,keywords:["female guard","woman guard","guard","woman"],variations:["💂🏻‍♀️","💂🏼‍♀️","💂🏽‍♀️","💂🏾‍♀️","💂🏿‍♀️"]},"💂‍♀":{codepoints:"1f482-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:8,keywords:["female guard","woman guard","guard","woman"],variations:["💂🏻‍♀️","💂🏼‍♀️","💂🏽‍♀️","💂🏾‍♀️","💂🏿‍♀️"]},"📉":{codepoints:"1f4c9",version:"2.0",sheetX:26,sheetY:31,keywords:["chart with downwards trend","chart decreasing","chart","down","graph","trend"],variations:[]},"🇲🇵":{codepoints:"1f1f2-1f1f5",version:"2.0",sheetX:3,sheetY:14,keywords:["northern mariana islands flag","flag mp","flag: northern mariana islands","mp","flag"],variations:[]},"🆗":{codepoints:"1f197",version:"2.0",sheetX:0,sheetY:27,keywords:["squared ok","ok","ok button"],variations:[]},"🕚":{codepoints:"1f55a",version:"2.0",sheetX:28,sheetY:49,keywords:["clock face eleven oclock","clock11","eleven o’clock","00","11","11:00","clock","eleven","o’clock"],variations:[]},"👷🏻":{codepoints:"1f477-1f3fb",version:"2.0",sheetX:23,sheetY:23},"👷🏼":{codepoints:"1f477-1f3fc",version:"2.0",sheetX:23,sheetY:24},"👷🏽":{codepoints:"1f477-1f3fd",version:"2.0",sheetX:23,sheetY:25},"👷🏾":{codepoints:"1f477-1f3fe",version:"2.0",sheetX:23,sheetY:26},"👷🏿":{codepoints:"1f477-1f3ff",version:"2.0",sheetX:23,sheetY:27},"👷":{codepoints:"1f477",version:"2.0",sheetX:23,sheetY:22,keywords:["construction worker","construction","hat","worker"],variations:["👷🏻","👷🏼","👷🏽","👷🏾","👷🏿"]},"👷🏻‍♂️":{codepoints:"1f477-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:23,sheetY:17},"👷🏼‍♂️":{codepoints:"1f477-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:23,sheetY:18},"👷🏽‍♂️":{codepoints:"1f477-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:23,sheetY:19},"👷🏾‍♂️":{codepoints:"1f477-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:23,sheetY:20},"👷🏿‍♂️":{codepoints:"1f477-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:23,sheetY:21},"👷‍♂️":{codepoints:"1f477-200d-2642-fe0f",version:"4.0",sheetX:23,sheetY:16,keywords:["male construction worker","man construction worker","construction","man","worker"],variations:["👷🏻‍♂️","👷🏼‍♂️","👷🏽‍♂️","👷🏾‍♂️","👷🏿‍♂️"]},"👷‍♂":{codepoints:"1f477-200d-2642-fe0f",version:"4.0",sheetX:23,sheetY:16,keywords:["male construction worker","man construction worker","construction","man","worker"],variations:["👷🏻‍♂️","👷🏼‍♂️","👷🏽‍♂️","👷🏾‍♂️","👷🏿‍♂️"]},"🕦":{codepoints:"1f566",version:"2.0",sheetX:29,sheetY:4,keywords:["clock face eleven thirty","clock1130","eleven thirty","11","11:30","clock","eleven","thirty"],variations:[]},"🇲🇶":{codepoints:"1f1f2-1f1f6",version:"2.0",sheetX:3,sheetY:15,keywords:["martinique flag","flag mq","flag: martinique","mq","flag"],variations:[]},"📊":{codepoints:"1f4ca",version:"2.0",sheetX:26,sheetY:32,keywords:["bar chart","bar","chart","graph"],variations:[]},"🅿️":{codepoints:"1f17f-fe0f",version:"2.0",sheetX:0,sheetY:19,keywords:["negative squared latin capital letter p","parking","p button"],variations:[]},"🅿":{codepoints:"1f17f-fe0f",version:"2.0",sheetX:0,sheetY:19,keywords:["negative squared latin capital letter p","parking","p button"],variations:[]},"🌑":{codepoints:"1f311",version:"2.0",sheetX:5,sheetY:36,keywords:["new moon symbol","new moon","dark","moon"],variations:[]},"👷🏻‍♀️":{codepoints:"1f477-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:11},"👷🏼‍♀️":{codepoints:"1f477-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:12},"👷🏽‍♀️":{codepoints:"1f477-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:13},"👷🏾‍♀️":{codepoints:"1f477-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:14},"👷🏿‍♀️":{codepoints:"1f477-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:15},"👷‍♀️":{codepoints:"1f477-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:10,keywords:["female construction worker","woman construction worker","construction","woman","worker"],variations:["👷🏻‍♀️","👷🏼‍♀️","👷🏽‍♀️","👷🏾‍♀️","👷🏿‍♀️"]},"👷‍♀":{codepoints:"1f477-200d-2640-fe0f",version:"4.0",sheetX:23,sheetY:10,keywords:["female construction worker","woman construction worker","construction","woman","worker"],variations:["👷🏻‍♀️","👷🏼‍♀️","👷🏽‍♀️","👷🏾‍♀️","👷🏿‍♀️"]},"🆘":{codepoints:"1f198",version:"2.0",sheetX:0,sheetY:28,keywords:["squared sos","sos","sos button","help"],variations:[]},"📋":{codepoints:"1f4cb",version:"2.0",sheetX:26,sheetY:33,keywords:["clipboard"],variations:[]},"🇲🇷":{codepoints:"1f1f2-1f1f7",version:"2.0",sheetX:3,sheetY:16,keywords:["mauritania flag","flag mr","flag: mauritania","mr","flag"],variations:[]},"🤴🏻":{codepoints:"1f934-1f3fb",version:"4.0",sheetX:39,sheetY:18},"🤴🏼":{codepoints:"1f934-1f3fc",version:"4.0",sheetX:39,sheetY:19},"🤴🏽":{codepoints:"1f934-1f3fd",version:"4.0",sheetX:39,sheetY:20},"🤴🏾":{codepoints:"1f934-1f3fe",version:"4.0",sheetX:39,sheetY:21},"🤴🏿":{codepoints:"1f934-1f3ff",version:"4.0",sheetX:39,sheetY:22},"🤴":{codepoints:"1f934",version:"4.0",sheetX:39,sheetY:17,keywords:["prince"],variations:["🤴🏻","🤴🏼","🤴🏽","🤴🏾","🤴🏿"]},"🌒":{codepoints:"1f312",version:"2.0",sheetX:5,sheetY:37,keywords:["waxing crescent moon symbol","waxing crescent moon","crescent","moon","waxing"],variations:[]},"🇲🇸":{codepoints:"1f1f2-1f1f8",version:"2.0",sheetX:3,sheetY:17,keywords:["montserrat flag","flag ms","flag: montserrat","ms","flag"],variations:[]},"📌":{codepoints:"1f4cc",version:"2.0",sheetX:26,sheetY:34,keywords:["pushpin","pin"],variations:[]},"🆙":{codepoints:"1f199",version:"2.0",sheetX:0,sheetY:29,keywords:["squared up with exclamation mark","up","up! button","mark"],variations:[]},"🇲🇹":{codepoints:"1f1f2-1f1f9",version:"2.0",sheetX:3,sheetY:18,keywords:["malta flag","flag mt","flag: malta","mt","flag"],variations:[]},"👸🏻":{codepoints:"1f478-1f3fb",version:"2.0",sheetX:23,sheetY:29},"👸🏼":{codepoints:"1f478-1f3fc",version:"2.0",sheetX:23,sheetY:30},"👸🏽":{codepoints:"1f478-1f3fd",version:"2.0",sheetX:23,sheetY:31},"👸🏾":{codepoints:"1f478-1f3fe",version:"2.0",sheetX:23,sheetY:32},"👸🏿":{codepoints:"1f478-1f3ff",version:"2.0",sheetX:23,sheetY:33},"👸":{codepoints:"1f478",version:"2.0",sheetX:23,sheetY:28,keywords:["princess","fairy tale","fantasy"],variations:["👸🏻","👸🏼","👸🏽","👸🏾","👸🏿"]},"📍":{codepoints:"1f4cd",version:"2.0",sheetX:26,sheetY:35,keywords:["round pushpin","pin","pushpin"],variations:[]},"🌓":{codepoints:"1f313",version:"2.0",sheetX:5,sheetY:38,keywords:["first quarter moon symbol","first quarter moon","moon","quarter"],variations:[]},"🆚":{codepoints:"1f19a",version:"2.0",sheetX:0,sheetY:30,keywords:["squared vs","vs","vs button","versus"],variations:[]},"🇲🇺":{codepoints:"1f1f2-1f1fa",version:"2.0",sheetX:3,sheetY:19,keywords:["mauritius flag","flag mu","flag: mauritius","mu","flag"],variations:[]},"🈁":{codepoints:"1f201",version:"2.0",sheetX:5,sheetY:4,keywords:["squared katakana koko","koko","japanese “here” button","japanese","katakana","“here”","ココ"],variations:[]},"👳🏻":{codepoints:"1f473-1f3fb",version:"2.0",sheetX:22,sheetY:44},"👳🏼":{codepoints:"1f473-1f3fc",version:"2.0",sheetX:22,sheetY:45},"👳🏽":{codepoints:"1f473-1f3fd",version:"2.0",sheetX:22,sheetY:46},"👳🏾":{codepoints:"1f473-1f3fe",version:"2.0",sheetX:22,sheetY:47},"👳🏿":{codepoints:"1f473-1f3ff",version:"2.0",sheetX:22,sheetY:48},"👳":{codepoints:"1f473",version:"2.0",sheetX:22,sheetY:43,keywords:["man with turban","person wearing turban","turban"],variations:["👳🏻","👳🏼","👳🏽","👳🏾","👳🏿"]},"🌔":{codepoints:"1f314",version:"2.0",sheetX:5,sheetY:39,keywords:["waxing gibbous moon symbol","moon","waxing gibbous moon","gibbous","waxing"],variations:[]},"📎":{codepoints:"1f4ce",version:"2.0",sheetX:26,sheetY:36,keywords:["paperclip"],variations:[]},"🖇️":{codepoints:"1f587-fe0f",version:"2.0",sheetX:29,sheetY:43,keywords:["linked paperclips","link","paperclip"],variations:[]},"🖇":{codepoints:"1f587-fe0f",version:"2.0",sheetX:29,sheetY:43,keywords:["linked paperclips","link","paperclip"],variations:[]},"👳🏻‍♂️":{codepoints:"1f473-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:38},"👳🏼‍♂️":{codepoints:"1f473-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:39},"👳🏽‍♂️":{codepoints:"1f473-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:40},"👳🏾‍♂️":{codepoints:"1f473-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:41},"👳🏿‍♂️":{codepoints:"1f473-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:42},"👳‍♂️":{codepoints:"1f473-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:37,keywords:["man wearing turban","man","turban"],variations:["👳🏻‍♂️","👳🏼‍♂️","👳🏽‍♂️","👳🏾‍♂️","👳🏿‍♂️"]},"👳‍♂":{codepoints:"1f473-200d-2642-fe0f",version:"4.0",sheetX:22,sheetY:37,keywords:["man wearing turban","man","turban"],variations:["👳🏻‍♂️","👳🏼‍♂️","👳🏽‍♂️","👳🏾‍♂️","👳🏿‍♂️"]},"🈂️":{codepoints:"1f202-fe0f",version:"2.0",sheetX:5,sheetY:5,keywords:["squared katakana sa","sa","japanese “service charge” button","japanese","katakana","“service charge”","サ"],variations:[]},"🈂":{codepoints:"1f202-fe0f",version:"2.0",sheetX:5,sheetY:5,keywords:["squared katakana sa","sa","japanese “service charge” button","japanese","katakana","“service charge”","サ"],variations:[]},"🌕":{codepoints:"1f315",version:"2.0",sheetX:5,sheetY:40,keywords:["full moon symbol","full moon","full","moon"],variations:[]},"🇲🇻":{codepoints:"1f1f2-1f1fb",version:"2.0",sheetX:3,sheetY:20,keywords:["maldives flag","flag mv","flag: maldives","mv","flag"],variations:[]},"🇲🇼":{codepoints:"1f1f2-1f1fc",version:"2.0",sheetX:3,sheetY:21,keywords:["malawi flag","flag mw","flag: malawi","mw","flag"],variations:[]},"🌖":{codepoints:"1f316",version:"2.0",sheetX:5,sheetY:41,keywords:["waning gibbous moon symbol","waning gibbous moon","gibbous","moon","waning"],variations:[]},"👳🏻‍♀️":{codepoints:"1f473-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:32},"👳🏼‍♀️":{codepoints:"1f473-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:33},"👳🏽‍♀️":{codepoints:"1f473-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:34},"👳🏾‍♀️":{codepoints:"1f473-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:35},"👳🏿‍♀️":{codepoints:"1f473-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:36},"👳‍♀️":{codepoints:"1f473-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:31,keywords:["woman wearing turban","turban","woman"],variations:["👳🏻‍♀️","👳🏼‍♀️","👳🏽‍♀️","👳🏾‍♀️","👳🏿‍♀️"]},"👳‍♀":{codepoints:"1f473-200d-2640-fe0f",version:"4.0",sheetX:22,sheetY:31,keywords:["woman wearing turban","turban","woman"],variations:["👳🏻‍♀️","👳🏼‍♀️","👳🏽‍♀️","👳🏾‍♀️","👳🏿‍♀️"]},"🈷️":{codepoints:"1f237-fe0f",version:"2.0",sheetX:5,sheetY:13,keywords:["squared cjk unified ideograph-6708","u6708","japanese “monthly amount” button","ideograph","japanese","“monthly amount”","月"],variations:[]},"🈷":{codepoints:"1f237-fe0f",version:"2.0",sheetX:5,sheetY:13,keywords:["squared cjk unified ideograph-6708","u6708","japanese “monthly amount” button","ideograph","japanese","“monthly amount”","月"],variations:[]},"📏":{codepoints:"1f4cf",version:"2.0",sheetX:26,sheetY:37,keywords:["straight ruler","ruler","straight edge"],variations:[]},"🈶":{codepoints:"1f236",version:"2.0",sheetX:5,sheetY:12,keywords:["squared cjk unified ideograph-6709","u6709","japanese “not free of charge” button","ideograph","japanese","“not free of charge”","有"],variations:[]},"📐":{codepoints:"1f4d0",version:"2.0",sheetX:26,sheetY:38,keywords:["triangular ruler","ruler","set","triangle"],variations:[]},"👲🏻":{codepoints:"1f472-1f3fb",version:"2.0",sheetX:22,sheetY:26},"👲🏼":{codepoints:"1f472-1f3fc",version:"2.0",sheetX:22,sheetY:27},"👲🏽":{codepoints:"1f472-1f3fd",version:"2.0",sheetX:22,sheetY:28},"👲🏾":{codepoints:"1f472-1f3fe",version:"2.0",sheetX:22,sheetY:29},"👲🏿":{codepoints:"1f472-1f3ff",version:"2.0",sheetX:22,sheetY:30},"👲":{codepoints:"1f472",version:"2.0",sheetX:22,sheetY:25,keywords:["man with gua pi mao","person with skullcap","cap","gua pi mao","hat","person","skullcap"],variations:["👲🏻","👲🏼","👲🏽","👲🏾","👲🏿"]},"🇲🇽":{codepoints:"1f1f2-1f1fd",version:"2.0",sheetX:3,sheetY:22,keywords:["mexico flag","flag mx","flag: mexico","mx","flag"],variations:[]},"🌗":{codepoints:"1f317",version:"2.0",sheetX:5,sheetY:42,keywords:["last quarter moon symbol","last quarter moon","moon","quarter"],variations:[]},"🧕🏻":{codepoints:"1f9d5-1f3fb",version:"5.0",sheetX:48,sheetY:35},"🧕🏼":{codepoints:"1f9d5-1f3fc",version:"5.0",sheetX:48,sheetY:36},"🧕🏽":{codepoints:"1f9d5-1f3fd",version:"5.0",sheetX:48,sheetY:37},"🧕🏾":{codepoints:"1f9d5-1f3fe",version:"5.0",sheetX:48,sheetY:38},"🧕🏿":{codepoints:"1f9d5-1f3ff",version:"5.0",sheetX:48,sheetY:39},"🧕":{codepoints:"1f9d5",version:"5.0",sheetX:48,sheetY:34,keywords:["person with headscarf","woman with headscarf","headscarf","hijab","mantilla","tichel"],variations:["🧕🏻","🧕🏼","🧕🏽","🧕🏾","🧕🏿"]},"🌘":{codepoints:"1f318",version:"2.0",sheetX:5,sheetY:43,keywords:["waning crescent moon symbol","waning crescent moon","crescent","moon","waning"],variations:[]},"🈯":{codepoints:"1f22f",version:"2.0",sheetX:5,sheetY:7,keywords:["squared cjk unified ideograph-6307","u6307","japanese “reserved” button","ideograph","japanese","“reserved”","指"],variations:[]},"✂️":{codepoints:"2702-fe0f",version:"2.0",sheetX:54,sheetY:39,keywords:["black scissors","scissors","cutting","tool"],variations:[]},"✂":{codepoints:"2702-fe0f",version:"2.0",sheetX:54,sheetY:39,keywords:["black scissors","scissors","cutting","tool"],variations:[]},"🇲🇾":{codepoints:"1f1f2-1f1fe",version:"2.0",sheetX:3,sheetY:23,keywords:["malaysia flag","flag my","flag: malaysia","my","flag"],variations:[]},"🉐":{codepoints:"1f250",version:"2.0",sheetX:5,sheetY:17,keywords:["circled ideograph advantage","ideograph advantage","japanese “bargain” button","ideograph","japanese","“bargain”","得"],variations:[]},"🤵🏻":{codepoints:"1f935-1f3fb",version:"4.0",sheetX:39,sheetY:24},"🤵🏼":{codepoints:"1f935-1f3fc",version:"4.0",sheetX:39,sheetY:25},"🤵🏽":{codepoints:"1f935-1f3fd",version:"4.0",sheetX:39,sheetY:26},"🤵🏾":{codepoints:"1f935-1f3fe",version:"4.0",sheetX:39,sheetY:27},"🤵🏿":{codepoints:"1f935-1f3ff",version:"4.0",sheetX:39,sheetY:28},"🤵":{codepoints:"1f935",version:"4.0",sheetX:39,sheetY:23,keywords:["man in tuxedo","person in tuxedo","groom","person","tuxedo"],variations:["🤵🏻","🤵🏼","🤵🏽","🤵🏾","🤵🏿"]},"🇲🇿":{codepoints:"1f1f2-1f1ff",version:"2.0",sheetX:3,sheetY:24,keywords:["mozambique flag","flag mz","flag: mozambique","mz","flag"],variations:[]},"🗃️":{codepoints:"1f5c3-fe0f",version:"2.0",sheetX:30,sheetY:16,keywords:["card file box","box","card","file"],variations:[]},"🗃":{codepoints:"1f5c3-fe0f",version:"2.0",sheetX:30,sheetY:16,keywords:["card file box","box","card","file"],variations:[]},"🌙":{codepoints:"1f319",version:"2.0",sheetX:5,sheetY:44,keywords:["crescent moon","crescent","moon"],variations:[]},"🇳🇦":{codepoints:"1f1f3-1f1e6",version:"2.0",sheetX:3,sheetY:25,keywords:["namibia flag","flag na","flag: namibia","na","flag"],variations:[]},"👰🏻":{codepoints:"1f470-1f3fb",version:"2.0",sheetX:22,sheetY:2},"👰🏼":{codepoints:"1f470-1f3fc",version:"2.0",sheetX:22,sheetY:3},"👰🏽":{codepoints:"1f470-1f3fd",version:"2.0",sheetX:22,sheetY:4},"👰🏾":{codepoints:"1f470-1f3fe",version:"2.0",sheetX:22,sheetY:5},"👰🏿":{codepoints:"1f470-1f3ff",version:"2.0",sheetX:22,sheetY:6},"👰":{codepoints:"1f470",version:"2.0",sheetX:22,sheetY:1,keywords:["bride with veil","person with veil","bride","person","veil","wedding"],variations:["👰🏻","👰🏼","👰🏽","👰🏾","👰🏿"]},"🌚":{codepoints:"1f31a",version:"2.0",sheetX:5,sheetY:45,keywords:["new moon with face","new moon face","face","moon"],variations:[]},"🗄️":{codepoints:"1f5c4-fe0f",version:"2.0",sheetX:30,sheetY:17,keywords:["file cabinet","cabinet","file","filing"],variations:[]},"🗄":{codepoints:"1f5c4-fe0f",version:"2.0",sheetX:30,sheetY:17,keywords:["file cabinet","cabinet","file","filing"],variations:[]},"🈹":{codepoints:"1f239",version:"2.0",sheetX:5,sheetY:15,keywords:["squared cjk unified ideograph-5272","u5272","japanese “discount” button","ideograph","japanese","“discount”","割"],variations:[]},"🗑️":{codepoints:"1f5d1-fe0f",version:"2.0",sheetX:30,sheetY:18,keywords:["wastebasket"],variations:[]},"🗑":{codepoints:"1f5d1-fe0f",version:"2.0",sheetX:30,sheetY:18,keywords:["wastebasket"],variations:[]},"🤰🏻":{codepoints:"1f930-1f3fb",version:"4.0",sheetX:38,sheetY:51},"🤰🏼":{codepoints:"1f930-1f3fc",version:"4.0",sheetX:38,sheetY:52},"🤰🏽":{codepoints:"1f930-1f3fd",version:"4.0",sheetX:38,sheetY:53},"🤰🏾":{codepoints:"1f930-1f3fe",version:"4.0",sheetX:38,sheetY:54},"🤰🏿":{codepoints:"1f930-1f3ff",version:"4.0",sheetX:38,sheetY:55},"🤰":{codepoints:"1f930",version:"4.0",sheetX:38,sheetY:50,keywords:["pregnant woman","pregnant","woman"],variations:["🤰🏻","🤰🏼","🤰🏽","🤰🏾","🤰🏿"]},"🌛":{codepoints:"1f31b",version:"2.0",sheetX:5,sheetY:46,keywords:["first quarter moon with face","first quarter moon face","face","moon","quarter"],variations:[]},"🇳🇨":{codepoints:"1f1f3-1f1e8",version:"2.0",sheetX:3,sheetY:26,keywords:["new caledonia flag","flag nc","flag: new caledonia","nc","flag"],variations:[]},"🈚":{codepoints:"1f21a",version:"2.0",sheetX:5,sheetY:6,keywords:["squared cjk unified ideograph-7121","u7121","japanese “free of charge” button","ideograph","japanese","“free of charge”","無"],variations:[]},"🔒":{codepoints:"1f512",version:"2.0",sheetX:27,sheetY:46,keywords:["lock","locked","closed"],variations:[]},"🇳🇪":{codepoints:"1f1f3-1f1ea",version:"2.0",sheetX:3,sheetY:27,keywords:["niger flag","flag ne","flag: niger","ne","flag"],variations:[]},"🌜":{codepoints:"1f31c",version:"2.0",sheetX:5,sheetY:47,keywords:["last quarter moon with face","last quarter moon face","face","moon","quarter"],variations:[]},"🤱🏻":{codepoints:"1f931-1f3fb",version:"5.0",sheetX:39,sheetY:0},"🤱🏼":{codepoints:"1f931-1f3fc",version:"5.0",sheetX:39,sheetY:1},"🤱🏽":{codepoints:"1f931-1f3fd",version:"5.0",sheetX:39,sheetY:2},"🤱🏾":{codepoints:"1f931-1f3fe",version:"5.0",sheetX:39,sheetY:3},"🤱🏿":{codepoints:"1f931-1f3ff",version:"5.0",sheetX:39,sheetY:4},"🤱":{codepoints:"1f931",version:"5.0",sheetX:38,sheetY:56,keywords:["breast feeding","baby","breast","nursing"],variations:["🤱🏻","🤱🏼","🤱🏽","🤱🏾","🤱🏿"]},"🈲":{codepoints:"1f232",version:"2.0",sheetX:5,sheetY:8,keywords:["squared cjk unified ideograph-7981","u7981","japanese “prohibited” button","ideograph","japanese","“prohibited”","禁"],variations:[]},"🉑":{codepoints:"1f251",version:"2.0",sheetX:5,sheetY:18,keywords:["circled ideograph accept","accept","japanese “acceptable” button","ideograph","japanese","“acceptable”","可"],variations:[]},"👼🏻":{codepoints:"1f47c-1f3fb",version:"2.0",sheetX:23,sheetY:38},"👼🏼":{codepoints:"1f47c-1f3fc",version:"2.0",sheetX:23,sheetY:39},"👼🏽":{codepoints:"1f47c-1f3fd",version:"2.0",sheetX:23,sheetY:40},"👼🏾":{codepoints:"1f47c-1f3fe",version:"2.0",sheetX:23,sheetY:41},"👼🏿":{codepoints:"1f47c-1f3ff",version:"2.0",sheetX:23,sheetY:42},"👼":{codepoints:"1f47c",version:"2.0",sheetX:23,sheetY:37,keywords:["baby angel","angel","baby","face","fairy tale","fantasy"],variations:["👼🏻","👼🏼","👼🏽","👼🏾","👼🏿"]},"🔓":{codepoints:"1f513",version:"2.0",sheetX:27,sheetY:47,keywords:["open lock","unlock","unlocked","lock","open"],variations:[]},"🇳🇫":{codepoints:"1f1f3-1f1eb",version:"2.0",sheetX:3,sheetY:28,keywords:["norfolk island flag","flag nf","flag: norfolk island","nf","flag"],variations:[]},"🌡️":{codepoints:"1f321-fe0f",version:"2.0",sheetX:5,sheetY:52,keywords:["thermometer","weather"],variations:[]},"🌡":{codepoints:"1f321-fe0f",version:"2.0",sheetX:5,sheetY:52,keywords:["thermometer","weather"],variations:[]},"🇳🇬":{codepoints:"1f1f3-1f1ec",version:"2.0",sheetX:3,sheetY:29,keywords:["nigeria flag","flag ng","flag: nigeria","ng","flag"],variations:[]},"🈸":{codepoints:"1f238",version:"2.0",sheetX:5,sheetY:14,keywords:["squared cjk unified ideograph-7533","u7533","japanese “application” button","ideograph","japanese","“application”","申"],variations:[]},"☀️":{codepoints:"2600-fe0f",version:"2.0",sheetX:52,sheetY:49,keywords:["black sun with rays","sunny","sun","bright","rays"],variations:[]},"☀":{codepoints:"2600-fe0f",version:"2.0",sheetX:52,sheetY:49,keywords:["black sun with rays","sunny","sun","bright","rays"],variations:[]},"🔏":{codepoints:"1f50f",version:"2.0",sheetX:27,sheetY:43,keywords:["lock with ink pen","locked with pen","ink","lock","nib","pen","privacy"],variations:[]},"🎅🏻":{codepoints:"1f385-1f3fb",version:"2.0",sheetX:7,sheetY:37},"🎅🏼":{codepoints:"1f385-1f3fc",version:"2.0",sheetX:7,sheetY:38},"🎅🏽":{codepoints:"1f385-1f3fd",version:"2.0",sheetX:7,sheetY:39},"🎅🏾":{codepoints:"1f385-1f3fe",version:"2.0",sheetX:7,sheetY:40},"🎅🏿":{codepoints:"1f385-1f3ff",version:"2.0",sheetX:7,sheetY:41},"🎅":{codepoints:"1f385",version:"2.0",sheetX:7,sheetY:36,keywords:["father christmas","santa","santa claus","celebration","christmas","claus","father"],variations:["🎅🏻","🎅🏼","🎅🏽","🎅🏾","🎅🏿"]},"🔐":{codepoints:"1f510",version:"2.0",sheetX:27,sheetY:44,keywords:["closed lock with key","locked with key","closed","key","lock","secure"],variations:[]},"🈴":{codepoints:"1f234",version:"2.0",sheetX:5,sheetY:10,keywords:["squared cjk unified ideograph-5408","u5408","japanese “passing grade” button","ideograph","japanese","“passing grade”","合"],variations:[]},"🇳🇮":{codepoints:"1f1f3-1f1ee",version:"2.0",sheetX:3,sheetY:30,keywords:["nicaragua flag","flag ni","flag: nicaragua","ni","flag"],variations:[]},"🤶🏻":{codepoints:"1f936-1f3fb",version:"4.0",sheetX:39,sheetY:30},"🤶🏼":{codepoints:"1f936-1f3fc",version:"4.0",sheetX:39,sheetY:31},"🤶🏽":{codepoints:"1f936-1f3fd",version:"4.0",sheetX:39,sheetY:32},"🤶🏾":{codepoints:"1f936-1f3fe",version:"4.0",sheetX:39,sheetY:33},"🤶🏿":{codepoints:"1f936-1f3ff",version:"4.0",sheetX:39,sheetY:34},"🤶":{codepoints:"1f936",version:"4.0",sheetX:39,sheetY:29,keywords:["mother christmas","mrs claus","mrs. claus","celebration","christmas","claus","mother","mrs."],variations:["🤶🏻","🤶🏼","🤶🏽","🤶🏾","🤶🏿"]},"🌝":{codepoints:"1f31d",version:"2.0",sheetX:5,sheetY:48,keywords:["full moon with face","full moon face","bright","face","full","moon"],variations:[]},"🔑":{codepoints:"1f511",version:"2.0",sheetX:27,sheetY:45,keywords:["key","lock","password"],variations:[]},"🦸🏻":{codepoints:"1f9b8-1f3fb",version:"11.0",sheetX:43,sheetY:31},"🦸🏼":{codepoints:"1f9b8-1f3fc",version:"11.0",sheetX:43,sheetY:32},"🦸🏽":{codepoints:"1f9b8-1f3fd",version:"11.0",sheetX:43,sheetY:33},"🦸🏾":{codepoints:"1f9b8-1f3fe",version:"11.0",sheetX:43,sheetY:34},"🦸🏿":{codepoints:"1f9b8-1f3ff",version:"11.0",sheetX:43,sheetY:35},"🦸":{codepoints:"1f9b8",version:"11.0",sheetX:43,sheetY:30,keywords:["superhero","good","hero","heroine","superpower"],variations:["🦸🏻","🦸🏼","🦸🏽","🦸🏾","🦸🏿"]},"🇳🇱":{codepoints:"1f1f3-1f1f1",version:"2.0",sheetX:3,sheetY:31,keywords:["netherlands flag","flag nl","flag: netherlands","nl","flag"],variations:[]},"🈳":{codepoints:"1f233",version:"2.0",sheetX:5,sheetY:9,keywords:["squared cjk unified ideograph-7a7a","u7a7a","japanese “vacancy” button","ideograph","japanese","“vacancy”","空"],variations:[]},"🌞":{codepoints:"1f31e",version:"2.0",sheetX:5,sheetY:49,keywords:["sun with face","bright","face","sun"],variations:[]},"🦸🏻‍♂️":{codepoints:"1f9b8-1f3fb-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:25},"🦸🏼‍♂️":{codepoints:"1f9b8-1f3fc-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:26},"🦸🏽‍♂️":{codepoints:"1f9b8-1f3fd-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:27},"🦸🏾‍♂️":{codepoints:"1f9b8-1f3fe-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:28},"🦸🏿‍♂️":{codepoints:"1f9b8-1f3ff-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:29},"🦸‍♂️":{codepoints:"1f9b8-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:24,keywords:["male superhero","man superhero","good","hero","man","superpower"],variations:["🦸🏻‍♂️","🦸🏼‍♂️","🦸🏽‍♂️","🦸🏾‍♂️","🦸🏿‍♂️"]},"🦸‍♂":{codepoints:"1f9b8-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:24,keywords:["male superhero","man superhero","good","hero","man","superpower"],variations:["🦸🏻‍♂️","🦸🏼‍♂️","🦸🏽‍♂️","🦸🏾‍♂️","🦸🏿‍♂️"]},"🗝️":{codepoints:"1f5dd-fe0f",version:"2.0",sheetX:30,sheetY:22,keywords:["old key","clue","key","lock","old"],variations:[]},"🗝":{codepoints:"1f5dd-fe0f",version:"2.0",sheetX:30,sheetY:22,keywords:["old key","clue","key","lock","old"],variations:[]},"㊗️":{codepoints:"3297-fe0f",version:"2.0",sheetX:55,sheetY:46,keywords:["circled ideograph congratulation","congratulations","japanese “congratulations” button","ideograph","japanese","“congratulations”","祝"],variations:[]},"㊗":{codepoints:"3297-fe0f",version:"2.0",sheetX:55,sheetY:46,keywords:["circled ideograph congratulation","congratulations","japanese “congratulations” button","ideograph","japanese","“congratulations”","祝"],variations:[]},"🇳🇴":{codepoints:"1f1f3-1f1f4",version:"2.0",sheetX:3,sheetY:32,keywords:["norway flag","flag no","flag: norway","no","flag"],variations:[]},"⭐":{codepoints:"2b50",version:"2.0",sheetX:55,sheetY:42,keywords:["white medium star","star"],variations:[]},"㊙️":{codepoints:"3299-fe0f",version:"2.0",sheetX:55,sheetY:47,keywords:["circled ideograph secret","secret","japanese “secret” button","ideograph","japanese","“secret”","秘"],variations:[]},"㊙":{codepoints:"3299-fe0f",version:"2.0",sheetX:55,sheetY:47,keywords:["circled ideograph secret","secret","japanese “secret” button","ideograph","japanese","“secret”","秘"],variations:[]},"🇳🇵":{codepoints:"1f1f3-1f1f5",version:"2.0",sheetX:3,sheetY:33,keywords:["nepal flag","flag np","flag: nepal","np","flag"],variations:[]},"🦸🏻‍♀️":{codepoints:"1f9b8-1f3fb-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:19},"🦸🏼‍♀️":{codepoints:"1f9b8-1f3fc-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:20},"🦸🏽‍♀️":{codepoints:"1f9b8-1f3fd-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:21},"🦸🏾‍♀️":{codepoints:"1f9b8-1f3fe-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:22},"🦸🏿‍♀️":{codepoints:"1f9b8-1f3ff-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:23},"🦸‍♀️":{codepoints:"1f9b8-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:18,keywords:["female superhero","woman superhero","good","hero","heroine","superpower","woman"],variations:["🦸🏻‍♀️","🦸🏼‍♀️","🦸🏽‍♀️","🦸🏾‍♀️","🦸🏿‍♀️"]},"🦸‍♀":{codepoints:"1f9b8-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:18,keywords:["female superhero","woman superhero","good","hero","heroine","superpower","woman"],variations:["🦸🏻‍♀️","🦸🏼‍♀️","🦸🏽‍♀️","🦸🏾‍♀️","🦸🏿‍♀️"]},"🔨":{codepoints:"1f528",version:"2.0",sheetX:28,sheetY:11,keywords:["hammer","tool"],variations:[]},"🌟":{codepoints:"1f31f",version:"2.0",sheetX:5,sheetY:50,keywords:["glowing star","star2","glittery","glow","shining","sparkle","star"],variations:[]},"🇳🇷":{codepoints:"1f1f3-1f1f7",version:"2.0",sheetX:3,sheetY:34,keywords:["nauru flag","flag nr","flag: nauru","nr","flag"],variations:[]},"🈺":{codepoints:"1f23a",version:"2.0",sheetX:5,sheetY:16,keywords:["squared cjk unified ideograph-55b6","u55b6","japanese “open for business” button","ideograph","japanese","“open for business”","営"],variations:[]},"🦹🏻":{codepoints:"1f9b9-1f3fb",version:"11.0",sheetX:43,sheetY:49},"🦹🏼":{codepoints:"1f9b9-1f3fc",version:"11.0",sheetX:43,sheetY:50},"🦹🏽":{codepoints:"1f9b9-1f3fd",version:"11.0",sheetX:43,sheetY:51},"🦹🏾":{codepoints:"1f9b9-1f3fe",version:"11.0",sheetX:43,sheetY:52},"🦹🏿":{codepoints:"1f9b9-1f3ff",version:"11.0",sheetX:43,sheetY:53},"🦹":{codepoints:"1f9b9",version:"11.0",sheetX:43,sheetY:48,keywords:["supervillain","criminal","evil","superpower","villain"],variations:["🦹🏻","🦹🏼","🦹🏽","🦹🏾","🦹🏿"]},"🌠":{codepoints:"1f320",version:"2.0",sheetX:5,sheetY:51,keywords:["shooting star","stars","falling","shooting","star"],variations:[]},"🈵":{codepoints:"1f235",version:"2.0",sheetX:5,sheetY:11,keywords:["squared cjk unified ideograph-6e80","u6e80","japanese “no vacancy” button","ideograph","japanese","“no vacancy”","満"],variations:[]},"🇳🇺":{codepoints:"1f1f3-1f1fa",version:"2.0",sheetX:3,sheetY:35,keywords:["niue flag","flag nu","flag: niue","nu","flag"],variations:[]},"⛏️":{codepoints:"26cf-fe0f",version:"2.0",sheetX:54,sheetY:5,keywords:["pick","mining","tool"],variations:[]},"⛏":{codepoints:"26cf-fe0f",version:"2.0",sheetX:54,sheetY:5,keywords:["pick","mining","tool"],variations:[]},"🦹🏻‍♂️":{codepoints:"1f9b9-1f3fb-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:43},"🦹🏼‍♂️":{codepoints:"1f9b9-1f3fc-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:44},"🦹🏽‍♂️":{codepoints:"1f9b9-1f3fd-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:45},"🦹🏾‍♂️":{codepoints:"1f9b9-1f3fe-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:46},"🦹🏿‍♂️":{codepoints:"1f9b9-1f3ff-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:47},"🦹‍♂️":{codepoints:"1f9b9-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:42,keywords:["male supervillain","man supervillain","criminal","evil","man","superpower","villain"],variations:["🦹🏻‍♂️","🦹🏼‍♂️","🦹🏽‍♂️","🦹🏾‍♂️","🦹🏿‍♂️"]},"🦹‍♂":{codepoints:"1f9b9-200d-2642-fe0f",version:"11.0",sheetX:43,sheetY:42,keywords:["male supervillain","man supervillain","criminal","evil","man","superpower","villain"],variations:["🦹🏻‍♂️","🦹🏼‍♂️","🦹🏽‍♂️","🦹🏾‍♂️","🦹🏿‍♂️"]},"🦹🏻‍♀️":{codepoints:"1f9b9-1f3fb-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:37},"🦹🏼‍♀️":{codepoints:"1f9b9-1f3fc-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:38},"🦹🏽‍♀️":{codepoints:"1f9b9-1f3fd-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:39},"🦹🏾‍♀️":{codepoints:"1f9b9-1f3fe-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:40},"🦹🏿‍♀️":{codepoints:"1f9b9-1f3ff-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:41},"🦹‍♀️":{codepoints:"1f9b9-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:36,keywords:["female supervillain","woman supervillain","criminal","evil","superpower","villain","woman"],variations:["🦹🏻‍♀️","🦹🏼‍♀️","🦹🏽‍♀️","🦹🏾‍♀️","🦹🏿‍♀️"]},"🦹‍♀":{codepoints:"1f9b9-200d-2640-fe0f",version:"11.0",sheetX:43,sheetY:36,keywords:["female supervillain","woman supervillain","criminal","evil","superpower","villain","woman"],variations:["🦹🏻‍♀️","🦹🏼‍♀️","🦹🏽‍♀️","🦹🏾‍♀️","🦹🏿‍♀️"]},"⚒️":{codepoints:"2692-fe0f",version:"2.0",sheetX:53,sheetY:41,keywords:["hammer and pick","hammer","pick","tool"],variations:[]},"⚒":{codepoints:"2692-fe0f",version:"2.0",sheetX:53,sheetY:41,keywords:["hammer and pick","hammer","pick","tool"],variations:[]},"🌌":{codepoints:"1f30c",version:"2.0",sheetX:5,sheetY:31,keywords:["milky way","space"],variations:[]},"🔴":{codepoints:"1f534",version:"2.0",sheetX:28,sheetY:23,keywords:["large red circle","red circle","circle","geometric","red"],variations:[]},"🇳🇿":{codepoints:"1f1f3-1f1ff",version:"2.0",sheetX:3,sheetY:36,keywords:["new zealand flag","flag nz","flag: new zealand","nz","flag"],variations:[]},"🛠️":{codepoints:"1f6e0-fe0f",version:"2.0",sheetX:36,sheetY:42,keywords:["hammer and wrench","hammer","spanner","tool","wrench"],variations:[]},"🛠":{codepoints:"1f6e0-fe0f",version:"2.0",sheetX:36,sheetY:42,keywords:["hammer and wrench","hammer","spanner","tool","wrench"],variations:[]},"🇴🇲":{codepoints:"1f1f4-1f1f2",version:"2.0",sheetX:3,sheetY:37,keywords:["oman flag","flag om","flag: oman","om","flag"],variations:[]},"☁️":{codepoints:"2601-fe0f",version:"2.0",sheetX:52,sheetY:50,keywords:["cloud","weather"],variations:[]},"☁":{codepoints:"2601-fe0f",version:"2.0",sheetX:52,sheetY:50,keywords:["cloud","weather"],variations:[]},"🧙🏻":{codepoints:"1f9d9-1f3fb",version:"5.0",sheetX:49,sheetY:50},"🧙🏼":{codepoints:"1f9d9-1f3fc",version:"5.0",sheetX:49,sheetY:51},"🧙🏽":{codepoints:"1f9d9-1f3fd",version:"5.0",sheetX:49,sheetY:52},"🧙🏾":{codepoints:"1f9d9-1f3fe",version:"5.0",sheetX:49,sheetY:53},"🧙🏿":{codepoints:"1f9d9-1f3ff",version:"5.0",sheetX:49,sheetY:54},"🧙":{codepoints:"1f9d9",version:"5.0",sheetX:49,sheetY:49,keywords:["mage","sorcerer","sorceress","witch","wizard"],variations:["🧙🏻","🧙🏼","🧙🏽","🧙🏾","🧙🏿"]},"🗡️":{codepoints:"1f5e1-fe0f",version:"2.0",sheetX:30,sheetY:24,keywords:["dagger knife","dagger","knife","weapon"],variations:[]},"🗡":{codepoints:"1f5e1-fe0f",version:"2.0",sheetX:30,sheetY:24,keywords:["dagger knife","dagger","knife","weapon"],variations:[]},"⛅":{codepoints:"26c5",version:"2.0",sheetX:54,sheetY:2,keywords:["sun behind cloud","partly sunny","cloud","sun"],variations:[]},"🧙🏻‍♂️":{codepoints:"1f9d9-1f3fb-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:44},"🧙🏼‍♂️":{codepoints:"1f9d9-1f3fc-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:45},"🧙🏽‍♂️":{codepoints:"1f9d9-1f3fd-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:46},"🧙🏾‍♂️":{codepoints:"1f9d9-1f3fe-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:47},"🧙🏿‍♂️":{codepoints:"1f9d9-1f3ff-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:48},"🧙‍♂️":{codepoints:"1f9d9-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:43,keywords:["male mage","man mage","sorcerer","wizard",":{>"],variations:["🧙🏻‍♂️","🧙🏼‍♂️","🧙🏽‍♂️","🧙🏾‍♂️","🧙🏿‍♂️"]},"🧙‍♂":{codepoints:"1f9d9-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:43,keywords:["male mage","man mage","sorcerer","wizard",":{>"],variations:["🧙🏻‍♂️","🧙🏼‍♂️","🧙🏽‍♂️","🧙🏾‍♂️","🧙🏿‍♂️"]},"🇵🇦":{codepoints:"1f1f5-1f1e6",version:"2.0",sheetX:3,sheetY:38,keywords:["panama flag","flag pa","flag: panama","pa","flag"],variations:[]},"⛈️":{codepoints:"26c8-fe0f",version:"2.0",sheetX:54,sheetY:3,keywords:["thunder cloud and rain","cloud with lightning and rain","cloud","rain","thunder"],variations:[]},"⛈":{codepoints:"26c8-fe0f",version:"2.0",sheetX:54,sheetY:3,keywords:["thunder cloud and rain","cloud with lightning and rain","cloud","rain","thunder"],variations:[]},"🧙🏻‍♀️":{codepoints:"1f9d9-1f3fb-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:38},"🧙🏼‍♀️":{codepoints:"1f9d9-1f3fc-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:39},"🧙🏽‍♀️":{codepoints:"1f9d9-1f3fd-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:40},"🧙🏾‍♀️":{codepoints:"1f9d9-1f3fe-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:41},"🧙🏿‍♀️":{codepoints:"1f9d9-1f3ff-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:42},"🧙‍♀️":{codepoints:"1f9d9-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:37,keywords:["female mage","woman mage","sorceress","witch"],variations:["🧙🏻‍♀️","🧙🏼‍♀️","🧙🏽‍♀️","🧙🏾‍♀️","🧙🏿‍♀️"]},"🧙‍♀":{codepoints:"1f9d9-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:37,keywords:["female mage","woman mage","sorceress","witch"],variations:["🧙🏻‍♀️","🧙🏼‍♀️","🧙🏽‍♀️","🧙🏾‍♀️","🧙🏿‍♀️"]},"⚔️":{codepoints:"2694-fe0f",version:"2.0",sheetX:53,sheetY:43,keywords:["crossed swords","crossed","swords","weapon"],variations:[]},"⚔":{codepoints:"2694-fe0f",version:"2.0",sheetX:53,sheetY:43,keywords:["crossed swords","crossed","swords","weapon"],variations:[]},"🇵🇪":{codepoints:"1f1f5-1f1ea",version:"2.0",sheetX:3,sheetY:39,keywords:["peru flag","flag pe","flag: peru","pe","flag"],variations:[]},"🔫":{codepoints:"1f52b",version:"2.0",sheetX:28,sheetY:14,keywords:["pistol","gun","handgun","revolver","tool","weapon"],variations:[]},"🌤️":{codepoints:"1f324-fe0f",version:"2.0",sheetX:5,sheetY:53,keywords:["mostly sunny","sun small cloud","sun behind small cloud","cloud","sun"],variations:[]},"🌤":{codepoints:"1f324-fe0f",version:"2.0",sheetX:5,sheetY:53,keywords:["mostly sunny","sun small cloud","sun behind small cloud","cloud","sun"],variations:[]},"🧚🏻":{codepoints:"1f9da-1f3fb",version:"5.0",sheetX:50,sheetY:11},"🧚🏼":{codepoints:"1f9da-1f3fc",version:"5.0",sheetX:50,sheetY:12},"🧚🏽":{codepoints:"1f9da-1f3fd",version:"5.0",sheetX:50,sheetY:13},"🧚🏾":{codepoints:"1f9da-1f3fe",version:"5.0",sheetX:50,sheetY:14},"🧚🏿":{codepoints:"1f9da-1f3ff",version:"5.0",sheetX:50,sheetY:15},"🧚":{codepoints:"1f9da",version:"5.0",sheetX:50,sheetY:10,keywords:["fairy","oberon","puck","titania"],variations:["🧚🏻","🧚🏼","🧚🏽","🧚🏾","🧚🏿"]},"🇵🇫":{codepoints:"1f1f5-1f1eb",version:"2.0",sheetX:3,sheetY:40,keywords:["french polynesia flag","flag pf","flag: french polynesia","pf","flag"],variations:[]},"🔵":{codepoints:"1f535",version:"2.0",sheetX:28,sheetY:24,keywords:["large blue circle","blue circle","blue","circle","geometric"],variations:[]},"🏹":{codepoints:"1f3f9",version:"2.0",sheetX:11,sheetY:21,keywords:["bow and arrow","archer","arrow","bow","sagittarius","zodiac"],variations:[]},"🧚🏻‍♂️":{codepoints:"1f9da-1f3fb-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:5},"🧚🏼‍♂️":{codepoints:"1f9da-1f3fc-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:6},"🧚🏽‍♂️":{codepoints:"1f9da-1f3fd-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:7},"🧚🏾‍♂️":{codepoints:"1f9da-1f3fe-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:8},"🧚🏿‍♂️":{codepoints:"1f9da-1f3ff-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:9},"🧚‍♂️":{codepoints:"1f9da-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:4,keywords:["male fairy","man fairy","oberon","puck"],variations:["🧚🏻‍♂️","🧚🏼‍♂️","🧚🏽‍♂️","🧚🏾‍♂️","🧚🏿‍♂️"]},"🧚‍♂":{codepoints:"1f9da-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:4,keywords:["male fairy","man fairy","oberon","puck"],variations:["🧚🏻‍♂️","🧚🏼‍♂️","🧚🏽‍♂️","🧚🏾‍♂️","🧚🏿‍♂️"]},"🌥️":{codepoints:"1f325-fe0f",version:"2.0",sheetX:5,sheetY:54,keywords:["barely sunny","sun behind cloud","sun behind large cloud","cloud","sun"],variations:[]},"🌥":{codepoints:"1f325-fe0f",version:"2.0",sheetX:5,sheetY:54,keywords:["barely sunny","sun behind cloud","sun behind large cloud","cloud","sun"],variations:[]},"🇵🇬":{codepoints:"1f1f5-1f1ec",version:"2.0",sheetX:3,sheetY:41,keywords:["papua new guinea flag","flag pg","flag: papua new guinea","pg","flag"],variations:[]},"🛡️":{codepoints:"1f6e1-fe0f",version:"2.0",sheetX:36,sheetY:43,keywords:["shield","weapon"],variations:[]},"🛡":{codepoints:"1f6e1-fe0f",version:"2.0",sheetX:36,sheetY:43,keywords:["shield","weapon"],variations:[]},"🌦️":{codepoints:"1f326-fe0f",version:"2.0",sheetX:5,sheetY:55,keywords:["partly sunny rain","sun behind rain cloud","cloud","rain","sun"],variations:[]},"🌦":{codepoints:"1f326-fe0f",version:"2.0",sheetX:5,sheetY:55,keywords:["partly sunny rain","sun behind rain cloud","cloud","rain","sun"],variations:[]},"🧚🏻‍♀️":{codepoints:"1f9da-1f3fb-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:56},"🧚🏼‍♀️":{codepoints:"1f9da-1f3fc-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:0},"🧚🏽‍♀️":{codepoints:"1f9da-1f3fd-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:1},"🧚🏾‍♀️":{codepoints:"1f9da-1f3fe-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:2},"🧚🏿‍♀️":{codepoints:"1f9da-1f3ff-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:3},"🧚‍♀️":{codepoints:"1f9da-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:55,keywords:["female fairy","woman fairy","titania"],variations:["🧚🏻‍♀️","🧚🏼‍♀️","🧚🏽‍♀️","🧚🏾‍♀️","🧚🏿‍♀️"]},"🧚‍♀":{codepoints:"1f9da-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:55,keywords:["female fairy","woman fairy","titania"],variations:["🧚🏻‍♀️","🧚🏼‍♀️","🧚🏽‍♀️","🧚🏾‍♀️","🧚🏿‍♀️"]},"🇵🇭":{codepoints:"1f1f5-1f1ed",version:"2.0",sheetX:3,sheetY:42,keywords:["philippines flag","flag ph","flag: philippines","ph","flag"],variations:[]},"🇵🇰":{codepoints:"1f1f5-1f1f0",version:"2.0",sheetX:3,sheetY:43,keywords:["pakistan flag","flag pk","flag: pakistan","pk","flag"],variations:[]},"⚫":{codepoints:"26ab",version:"2.0",sheetX:53,sheetY:53,keywords:["medium black circle","black circle","circle","geometric"],variations:[]},"🔧":{codepoints:"1f527",version:"2.0",sheetX:28,sheetY:10,keywords:["wrench","spanner","tool"],variations:[]},"🧛🏻":{codepoints:"1f9db-1f3fb",version:"5.0",sheetX:50,sheetY:29},"🧛🏼":{codepoints:"1f9db-1f3fc",version:"5.0",sheetX:50,sheetY:30},"🧛🏽":{codepoints:"1f9db-1f3fd",version:"5.0",sheetX:50,sheetY:31},"🧛🏾":{codepoints:"1f9db-1f3fe",version:"5.0",sheetX:50,sheetY:32},"🧛🏿":{codepoints:"1f9db-1f3ff",version:"5.0",sheetX:50,sheetY:33},"🧛":{codepoints:"1f9db",version:"5.0",sheetX:50,sheetY:28,keywords:["vampire","dracula","undead",":E"],variations:["🧛🏻","🧛🏼","🧛🏽","🧛🏾","🧛🏿"]},"🌧️":{codepoints:"1f327-fe0f",version:"2.0",sheetX:5,sheetY:56,keywords:["rain cloud","cloud with rain","cloud","rain"],variations:[]},"🌧":{codepoints:"1f327-fe0f",version:"2.0",sheetX:5,sheetY:56,keywords:["rain cloud","cloud with rain","cloud","rain"],variations:[]},"🌨️":{codepoints:"1f328-fe0f",version:"2.0",sheetX:6,sheetY:0,keywords:["snow cloud","cloud with snow","cloud","cold","snow"],variations:[]},"🌨":{codepoints:"1f328-fe0f",version:"2.0",sheetX:6,sheetY:0,keywords:["snow cloud","cloud with snow","cloud","cold","snow"],variations:[]},"🇵🇱":{codepoints:"1f1f5-1f1f1",version:"2.0",sheetX:3,sheetY:44,keywords:["poland flag","flag pl","flag: poland","pl","flag"],variations:[]},"🧛🏻‍♂️":{codepoints:"1f9db-1f3fb-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:23},"🧛🏼‍♂️":{codepoints:"1f9db-1f3fc-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:24},"🧛🏽‍♂️":{codepoints:"1f9db-1f3fd-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:25},"🧛🏾‍♂️":{codepoints:"1f9db-1f3fe-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:26},"🧛🏿‍♂️":{codepoints:"1f9db-1f3ff-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:27},"🧛‍♂️":{codepoints:"1f9db-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:22,keywords:["male vampire","man vampire","dracula","undead"],variations:["🧛🏻‍♂️","🧛🏼‍♂️","🧛🏽‍♂️","🧛🏾‍♂️","🧛🏿‍♂️"]},"🧛‍♂":{codepoints:"1f9db-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:22,keywords:["male vampire","man vampire","dracula","undead"],variations:["🧛🏻‍♂️","🧛🏼‍♂️","🧛🏽‍♂️","🧛🏾‍♂️","🧛🏿‍♂️"]},"🔩":{codepoints:"1f529",version:"2.0",sheetX:28,sheetY:12,keywords:["nut and bolt","bolt","nut","tool"],variations:[]},"⚪":{codepoints:"26aa",version:"2.0",sheetX:53,sheetY:52,keywords:["medium white circle","white circle","circle","geometric"],variations:[]},"🧛🏻‍♀️":{codepoints:"1f9db-1f3fb-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:17},"🧛🏼‍♀️":{codepoints:"1f9db-1f3fc-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:18},"🧛🏽‍♀️":{codepoints:"1f9db-1f3fd-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:19},"🧛🏾‍♀️":{codepoints:"1f9db-1f3fe-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:20},"🧛🏿‍♀️":{codepoints:"1f9db-1f3ff-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:21},"🧛‍♀️":{codepoints:"1f9db-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:16,keywords:["female vampire","woman vampire","undead"],variations:["🧛🏻‍♀️","🧛🏼‍♀️","🧛🏽‍♀️","🧛🏾‍♀️","🧛🏿‍♀️"]},"🧛‍♀":{codepoints:"1f9db-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:16,keywords:["female vampire","woman vampire","undead"],variations:["🧛🏻‍♀️","🧛🏼‍♀️","🧛🏽‍♀️","🧛🏾‍♀️","🧛🏿‍♀️"]},"🇵🇲":{codepoints:"1f1f5-1f1f2",version:"2.0",sheetX:3,sheetY:45,keywords:["st. pierre & miquelon flag","flag pm","flag: st. pierre & miquelon","pm","flag"],variations:[]},"🌩️":{codepoints:"1f329-fe0f",version:"2.0",sheetX:6,sheetY:1,keywords:["lightning","lightning cloud","cloud with lightning","cloud"],variations:[]},"🌩":{codepoints:"1f329-fe0f",version:"2.0",sheetX:6,sheetY:1,keywords:["lightning","lightning cloud","cloud with lightning","cloud"],variations:[]},"⚙️":{codepoints:"2699-fe0f",version:"2.0",sheetX:53,sheetY:47,keywords:["gear","cog","cogwheel","tool"],variations:[]},"⚙":{codepoints:"2699-fe0f",version:"2.0",sheetX:53,sheetY:47,keywords:["gear","cog","cogwheel","tool"],variations:[]},"🧜🏻":{codepoints:"1f9dc-1f3fb",version:"5.0",sheetX:50,sheetY:47},"🧜🏼":{codepoints:"1f9dc-1f3fc",version:"5.0",sheetX:50,sheetY:48},"🧜🏽":{codepoints:"1f9dc-1f3fd",version:"5.0",sheetX:50,sheetY:49},"🧜🏾":{codepoints:"1f9dc-1f3fe",version:"5.0",sheetX:50,sheetY:50},"🧜🏿":{codepoints:"1f9dc-1f3ff",version:"5.0",sheetX:50,sheetY:51},"🧜":{codepoints:"1f9dc",version:"5.0",sheetX:50,sheetY:46,keywords:["merperson","mermaid","merman","merwoman"],variations:["🧜🏻","🧜🏼","🧜🏽","🧜🏾","🧜🏿"]},"🌪️":{codepoints:"1f32a-fe0f",version:"2.0",sheetX:6,sheetY:2,keywords:["tornado","tornado cloud","cloud","whirlwind"],variations:[]},"🌪":{codepoints:"1f32a-fe0f",version:"2.0",sheetX:6,sheetY:2,keywords:["tornado","tornado cloud","cloud","whirlwind"],variations:[]},"🇵🇳":{codepoints:"1f1f5-1f1f3",version:"2.0",sheetX:3,sheetY:46,keywords:["pitcairn islands flag","flag pn","flag: pitcairn islands","pn","flag"],variations:[]},"🗜️":{codepoints:"1f5dc-fe0f",version:"2.0",sheetX:30,sheetY:21,keywords:["compression","clamp","compress","tool","vice"],variations:[]},"🗜":{codepoints:"1f5dc-fe0f",version:"2.0",sheetX:30,sheetY:21,keywords:["compression","clamp","compress","tool","vice"],variations:[]},"🧜🏻‍♂️":{codepoints:"1f9dc-1f3fb-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:41},"🧜🏼‍♂️":{codepoints:"1f9dc-1f3fc-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:42},"🧜🏽‍♂️":{codepoints:"1f9dc-1f3fd-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:43},"🧜🏾‍♂️":{codepoints:"1f9dc-1f3fe-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:44},"🧜🏿‍♂️":{codepoints:"1f9dc-1f3ff-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:45},"🧜‍♂️":{codepoints:"1f9dc-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:40,keywords:["merman","triton"],variations:["🧜🏻‍♂️","🧜🏼‍♂️","🧜🏽‍♂️","🧜🏾‍♂️","🧜🏿‍♂️"]},"🧜‍♂":{codepoints:"1f9dc-200d-2642-fe0f",version:"5.0",sheetX:50,sheetY:40,keywords:["merman","triton"],variations:["🧜🏻‍♂️","🧜🏼‍♂️","🧜🏽‍♂️","🧜🏾‍♂️","🧜🏿‍♂️"]},"🌫️":{codepoints:"1f32b-fe0f",version:"2.0",sheetX:6,sheetY:3,keywords:["fog","cloud"],variations:[]},"🌫":{codepoints:"1f32b-fe0f",version:"2.0",sheetX:6,sheetY:3,keywords:["fog","cloud"],variations:[]},"⚖️":{codepoints:"2696-fe0f",version:"2.0",sheetX:53,sheetY:45,keywords:["scales","balance scale","balance","justice","libra","scale","zodiac"],variations:[]},"⚖":{codepoints:"2696-fe0f",version:"2.0",sheetX:53,sheetY:45,keywords:["scales","balance scale","balance","justice","libra","scale","zodiac"],variations:[]},"🇵🇷":{codepoints:"1f1f5-1f1f7",version:"2.0",sheetX:3,sheetY:47,keywords:["puerto rico flag","flag pr","flag: puerto rico","pr","flag"],variations:[]},"🌬️":{codepoints:"1f32c-fe0f",version:"2.0",sheetX:6,sheetY:4,keywords:["wind blowing face","wind face","blow","cloud","face","wind"],variations:[]},"🌬":{codepoints:"1f32c-fe0f",version:"2.0",sheetX:6,sheetY:4,keywords:["wind blowing face","wind face","blow","cloud","face","wind"],variations:[]},"🇵🇸":{codepoints:"1f1f5-1f1f8",version:"2.0",sheetX:3,sheetY:48,keywords:["palestinian territories flag","flag ps","flag: palestinian territories","ps","flag"],variations:[]},"🧜🏻‍♀️":{codepoints:"1f9dc-1f3fb-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:35},"🧜🏼‍♀️":{codepoints:"1f9dc-1f3fc-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:36},"🧜🏽‍♀️":{codepoints:"1f9dc-1f3fd-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:37},"🧜🏾‍♀️":{codepoints:"1f9dc-1f3fe-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:38},"🧜🏿‍♀️":{codepoints:"1f9dc-1f3ff-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:39},"🧜‍♀️":{codepoints:"1f9dc-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:34,keywords:["mermaid","merwoman"],variations:["🧜🏻‍♀️","🧜🏼‍♀️","🧜🏽‍♀️","🧜🏾‍♀️","🧜🏿‍♀️"]},"🧜‍♀":{codepoints:"1f9dc-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:34,keywords:["mermaid","merwoman"],variations:["🧜🏻‍♀️","🧜🏼‍♀️","🧜🏽‍♀️","🧜🏾‍♀️","🧜🏿‍♀️"]},"🇵🇹":{codepoints:"1f1f5-1f1f9",version:"2.0",sheetX:3,sheetY:49,keywords:["portugal flag","flag pt","flag: portugal","pt","flag"],variations:[]},"🔗":{codepoints:"1f517",version:"2.0",sheetX:27,sheetY:51,keywords:["link symbol","link"],variations:[]},"🧝🏻":{codepoints:"1f9dd-1f3fb",version:"5.0",sheetX:51,sheetY:8},"🧝🏼":{codepoints:"1f9dd-1f3fc",version:"5.0",sheetX:51,sheetY:9},"🧝🏽":{codepoints:"1f9dd-1f3fd",version:"5.0",sheetX:51,sheetY:10},"🧝🏾":{codepoints:"1f9dd-1f3fe",version:"5.0",sheetX:51,sheetY:11},"🧝🏿":{codepoints:"1f9dd-1f3ff",version:"5.0",sheetX:51,sheetY:12},"🧝":{codepoints:"1f9dd",version:"5.0",sheetX:51,sheetY:7,keywords:["elf","magical"],variations:["🧝🏻","🧝🏼","🧝🏽","🧝🏾","🧝🏿"]},"🌀":{codepoints:"1f300",version:"2.0",sheetX:5,sheetY:19,keywords:["cyclone","dizzy","hurricane","twister","typhoon"],variations:[]},"🌈":{codepoints:"1f308",version:"2.0",sheetX:5,sheetY:27,keywords:["rainbow","rain"],variations:[]},"🧝🏻‍♂️":{codepoints:"1f9dd-1f3fb-200d-2642-fe0f",version:"5.0",sheetX:51,sheetY:2},"🧝🏼‍♂️":{codepoints:"1f9dd-1f3fc-200d-2642-fe0f",version:"5.0",sheetX:51,sheetY:3},"🧝🏽‍♂️":{codepoints:"1f9dd-1f3fd-200d-2642-fe0f",version:"5.0",sheetX:51,sheetY:4},"🧝🏾‍♂️":{codepoints:"1f9dd-1f3fe-200d-2642-fe0f",version:"5.0",sheetX:51,sheetY:5},"🧝🏿‍♂️":{codepoints:"1f9dd-1f3ff-200d-2642-fe0f",version:"5.0",sheetX:51,sheetY:6},"🧝‍♂️":{codepoints:"1f9dd-200d-2642-fe0f",version:"5.0",sheetX:51,sheetY:1,keywords:["male elf","man elf","magical"],variations:["🧝🏻‍♂️","🧝🏼‍♂️","🧝🏽‍♂️","🧝🏾‍♂️","🧝🏿‍♂️"]},"🧝‍♂":{codepoints:"1f9dd-200d-2642-fe0f",version:"5.0",sheetX:51,sheetY:1,keywords:["male elf","man elf","magical"],variations:["🧝🏻‍♂️","🧝🏼‍♂️","🧝🏽‍♂️","🧝🏾‍♂️","🧝🏿‍♂️"]},"🇵🇼":{codepoints:"1f1f5-1f1fc",version:"2.0",sheetX:3,sheetY:50,keywords:["palau flag","flag pw","flag: palau","pw","flag"],variations:[]},"⛓️":{codepoints:"26d3-fe0f",version:"2.0",sheetX:54,sheetY:7,keywords:["chains","chain"],variations:[]},"⛓":{codepoints:"26d3-fe0f",version:"2.0",sheetX:54,sheetY:7,keywords:["chains","chain"],variations:[]},"🧝🏻‍♀️":{codepoints:"1f9dd-1f3fb-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:53},"🧝🏼‍♀️":{codepoints:"1f9dd-1f3fc-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:54},"🧝🏽‍♀️":{codepoints:"1f9dd-1f3fd-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:55},"🧝🏾‍♀️":{codepoints:"1f9dd-1f3fe-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:56},"🧝🏿‍♀️":{codepoints:"1f9dd-1f3ff-200d-2640-fe0f",version:"5.0",sheetX:51,sheetY:0},"🧝‍♀️":{codepoints:"1f9dd-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:52,keywords:["female elf","woman elf","magical"],variations:["🧝🏻‍♀️","🧝🏼‍♀️","🧝🏽‍♀️","🧝🏾‍♀️","🧝🏿‍♀️"]},"🧝‍♀":{codepoints:"1f9dd-200d-2640-fe0f",version:"5.0",sheetX:50,sheetY:52,keywords:["female elf","woman elf","magical"],variations:["🧝🏻‍♀️","🧝🏼‍♀️","🧝🏽‍♀️","🧝🏾‍♀️","🧝🏿‍♀️"]},"🇵🇾":{codepoints:"1f1f5-1f1fe",version:"2.0",sheetX:3,sheetY:51,keywords:["paraguay flag","flag py","flag: paraguay","py","flag"],variations:[]},"🌂":{codepoints:"1f302",version:"2.0",sheetX:5,sheetY:21,keywords:["closed umbrella","clothing","rain","umbrella"],variations:[]},"🧰":{codepoints:"1f9f0",version:"11.0",sheetX:51,sheetY:35,keywords:["toolbox","chest","mechanic","tool"],variations:[]},"🧲":{codepoints:"1f9f2",version:"11.0",sheetX:51,sheetY:37,keywords:["magnet","attraction","horseshoe","magnetic"],variations:[]},"🧞":{codepoints:"1f9de",version:"5.0",sheetX:51,sheetY:15,keywords:["genie","djinn"],variations:[]},"🇶🇦":{codepoints:"1f1f6-1f1e6",version:"2.0",sheetX:3,sheetY:52,keywords:["qatar flag","flag qa","flag: qatar","qa","flag"],variations:[]},"☂️":{codepoints:"2602-fe0f",version:"2.0",sheetX:52,sheetY:51,keywords:["umbrella","clothing","rain"],variations:[]},"☂":{codepoints:"2602-fe0f",version:"2.0",sheetX:52,sheetY:51,keywords:["umbrella","clothing","rain"],variations:[]},"⬛":{codepoints:"2b1b",version:"2.0",sheetX:55,sheetY:40,keywords:["black large square","geometric","square"],variations:[]},"🧞‍♂️":{codepoints:"1f9de-200d-2642-fe0f",version:"5.0",sheetX:51,sheetY:14,keywords:["male genie","man genie","djinn"],variations:[]},"🧞‍♂":{codepoints:"1f9de-200d-2642-fe0f",version:"5.0",sheetX:51,sheetY:14,keywords:["male genie","man genie","djinn"],variations:[]},"☔":{codepoints:"2614",version:"2.0",sheetX:52,sheetY:56,keywords:["umbrella with rain drops","clothing","drop","rain","umbrella"],variations:[]},"🇷🇪":{codepoints:"1f1f7-1f1ea",version:"2.0",sheetX:3,sheetY:53,keywords:["réunion flag","flag re","flag: réunion","re","flag"],variations:[]},"⬜":{codepoints:"2b1c",version:"2.0",sheetX:55,sheetY:41,keywords:["white large square","geometric","square"],variations:[]},"⚗️":{codepoints:"2697-fe0f",version:"2.0",sheetX:53,sheetY:46,keywords:["alembic","chemistry","tool"],variations:[]},"⚗":{codepoints:"2697-fe0f",version:"2.0",sheetX:53,sheetY:46,keywords:["alembic","chemistry","tool"],variations:[]},"◼️":{codepoints:"25fc-fe0f",version:"2.0",sheetX:52,sheetY:46,keywords:["black medium square","geometric","square"],variations:[]},"◼":{codepoints:"25fc-fe0f",version:"2.0",sheetX:52,sheetY:46,keywords:["black medium square","geometric","square"],variations:[]},"🧪":{codepoints:"1f9ea",version:"11.0",sheetX:51,sheetY:29,keywords:["test tube","chemist","chemistry","experiment","lab","science"],variations:[]},"🇷🇴":{codepoints:"1f1f7-1f1f4",version:"2.0",sheetX:3,sheetY:54,keywords:["romania flag","flag ro","flag: romania","ro","flag"],variations:[]},"🧞‍♀️":{codepoints:"1f9de-200d-2640-fe0f",version:"5.0",sheetX:51,sheetY:13,keywords:["female genie","woman genie","djinn"],variations:[]},"🧞‍♀":{codepoints:"1f9de-200d-2640-fe0f",version:"5.0",sheetX:51,sheetY:13,keywords:["female genie","woman genie","djinn"],variations:[]},"⛱️":{codepoints:"26f1-fe0f",version:"2.0",sheetX:54,sheetY:12,keywords:["umbrella on ground","rain","sun","umbrella"],variations:[]},"⛱":{codepoints:"26f1-fe0f",version:"2.0",sheetX:54,sheetY:12,keywords:["umbrella on ground","rain","sun","umbrella"],variations:[]},"🧟":{codepoints:"1f9df",version:"5.0",sheetX:51,sheetY:18,keywords:["zombie","undead","walking dead","8#"],variations:[]},"⚡":{codepoints:"26a1",version:"2.0",sheetX:53,sheetY:51,keywords:["high voltage sign","zap","high voltage","danger","electric","lightning","voltage"],variations:[]},"◻️":{codepoints:"25fb-fe0f",version:"2.0",sheetX:52,sheetY:45,keywords:["white medium square","geometric","square"],variations:[]},"◻":{codepoints:"25fb-fe0f",version:"2.0",sheetX:52,sheetY:45,keywords:["white medium square","geometric","square"],variations:[]},"🇷🇸":{codepoints:"1f1f7-1f1f8",version:"2.0",sheetX:3,sheetY:55,keywords:["serbia flag","flag rs","flag: serbia","rs","flag"],variations:[]},"🧫":{codepoints:"1f9eb",version:"11.0",sheetX:51,sheetY:30,keywords:["petri dish","bacteria","biologist","biology","culture","lab"],variations:[]},"❄️":{codepoints:"2744-fe0f",version:"2.0",sheetX:55,sheetY:19,keywords:["snowflake","cold","snow"],variations:[]},"❄":{codepoints:"2744-fe0f",version:"2.0",sheetX:55,sheetY:19,keywords:["snowflake","cold","snow"],variations:[]},"🧬":{codepoints:"1f9ec",version:"11.0",sheetX:51,sheetY:31,keywords:["dna double helix","dna","biologist","evolution","gene","genetics","life"],variations:[]},"🧟‍♂️":{codepoints:"1f9df-200d-2642-fe0f",version:"5.0",sheetX:51,sheetY:17,keywords:["male zombie","man zombie","undead","walking dead"],variations:[]},"🧟‍♂":{codepoints:"1f9df-200d-2642-fe0f",version:"5.0",sheetX:51,sheetY:17,keywords:["male zombie","man zombie","undead","walking dead"],variations:[]},"◾":{codepoints:"25fe",version:"2.0",sheetX:52,sheetY:48,keywords:["black medium small square","geometric","square"],variations:[]},"🇷🇺":{codepoints:"1f1f7-1f1fa",version:"2.0",sheetX:3,sheetY:56,keywords:["russia flag","ru","flag ru","flag: russia","flag"],variations:[]},"🧟‍♀️":{codepoints:"1f9df-200d-2640-fe0f",version:"5.0",sheetX:51,sheetY:16,keywords:["female zombie","woman zombie","undead","walking dead"],variations:[]},"🧟‍♀":{codepoints:"1f9df-200d-2640-fe0f",version:"5.0",sheetX:51,sheetY:16,keywords:["female zombie","woman zombie","undead","walking dead"],variations:[]},"🇷🇼":{codepoints:"1f1f7-1f1fc",version:"2.0",sheetX:4,sheetY:0,keywords:["rwanda flag","flag rw","flag: rwanda","rw","flag"],variations:[]},"☃️":{codepoints:"2603-fe0f",version:"2.0",sheetX:52,sheetY:52,keywords:["snowman","cold","snow"],variations:[]},"☃":{codepoints:"2603-fe0f",version:"2.0",sheetX:52,sheetY:52,keywords:["snowman","cold","snow"],variations:[]},"◽":{codepoints:"25fd",version:"2.0",sheetX:52,sheetY:47,keywords:["white medium small square","geometric","square"],variations:[]},"🔬":{codepoints:"1f52c",version:"2.0",sheetX:28,sheetY:15,keywords:["microscope","science","tool"],variations:[]},"⛄":{codepoints:"26c4",version:"2.0",sheetX:54,sheetY:1,keywords:["snowman without snow","cold","snow","snowman"],variations:[]},"🔭":{codepoints:"1f52d",version:"2.0",sheetX:28,sheetY:16,keywords:["telescope","science","tool"],variations:[]},"💆🏻":{codepoints:"1f486-1f3fb",version:"2.0",sheetX:24,sheetY:52},"💆🏼":{codepoints:"1f486-1f3fc",version:"2.0",sheetX:24,sheetY:53},"💆🏽":{codepoints:"1f486-1f3fd",version:"2.0",sheetX:24,sheetY:54},"💆🏾":{codepoints:"1f486-1f3fe",version:"2.0",sheetX:24,sheetY:55},"💆🏿":{codepoints:"1f486-1f3ff",version:"2.0",sheetX:24,sheetY:56},"💆":{codepoints:"1f486",version:"2.0",sheetX:24,sheetY:51,keywords:["face massage","massage","person getting massage","face","salon"],variations:["💆🏻","💆🏼","💆🏽","💆🏾","💆🏿"]},"▪️":{codepoints:"25aa-fe0f",version:"2.0",sheetX:52,sheetY:41,keywords:["black small square","geometric","square"],variations:[]},"▪":{codepoints:"25aa-fe0f",version:"2.0",sheetX:52,sheetY:41,keywords:["black small square","geometric","square"],variations:[]},"🇸🇦":{codepoints:"1f1f8-1f1e6",version:"2.0",sheetX:4,sheetY:1,keywords:["saudi arabia flag","flag sa","flag: saudi arabia","sa","flag"],variations:[]},"💆🏻‍♂️":{codepoints:"1f486-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:46},"💆🏼‍♂️":{codepoints:"1f486-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:47},"💆🏽‍♂️":{codepoints:"1f486-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:48},"💆🏾‍♂️":{codepoints:"1f486-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:49},"💆🏿‍♂️":{codepoints:"1f486-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:50},"💆‍♂️":{codepoints:"1f486-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:45,keywords:["man getting massage","face","man","massage"],variations:["💆🏻‍♂️","💆🏼‍♂️","💆🏽‍♂️","💆🏾‍♂️","💆🏿‍♂️"]},"💆‍♂":{codepoints:"1f486-200d-2642-fe0f",version:"4.0",sheetX:24,sheetY:45,keywords:["man getting massage","face","man","massage"],variations:["💆🏻‍♂️","💆🏼‍♂️","💆🏽‍♂️","💆🏾‍♂️","💆🏿‍♂️"]},"☄️":{codepoints:"2604-fe0f",version:"2.0",sheetX:52,sheetY:53,keywords:["comet","space"],variations:[]},"☄":{codepoints:"2604-fe0f",version:"2.0",sheetX:52,sheetY:53,keywords:["comet","space"],variations:[]},"▫️":{codepoints:"25ab-fe0f",version:"2.0",sheetX:52,sheetY:42,keywords:["white small square","geometric","square"],variations:[]},"▫":{codepoints:"25ab-fe0f",version:"2.0",sheetX:52,sheetY:42,keywords:["white small square","geometric","square"],variations:[]},"🇸🇧":{codepoints:"1f1f8-1f1e7",version:"2.0",sheetX:4,sheetY:2,keywords:["solomon islands flag","flag sb","flag: solomon islands","sb","flag"],variations:[]},"📡":{codepoints:"1f4e1",version:"2.0",sheetX:26,sheetY:55,keywords:["satellite antenna","antenna","dish","satellite"],variations:[]},"🔶":{codepoints:"1f536",version:"2.0",sheetX:28,sheetY:25,keywords:["large orange diamond","diamond","geometric","orange"],variations:[]},"💆🏻‍♀️":{codepoints:"1f486-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:40},"💆🏼‍♀️":{codepoints:"1f486-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:41},"💆🏽‍♀️":{codepoints:"1f486-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:42},"💆🏾‍♀️":{codepoints:"1f486-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:43},"💆🏿‍♀️":{codepoints:"1f486-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:44},"💆‍♀️":{codepoints:"1f486-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:39,keywords:["woman getting massage","face","massage","woman"],variations:["💆🏻‍♀️","💆🏼‍♀️","💆🏽‍♀️","💆🏾‍♀️","💆🏿‍♀️"]},"💆‍♀":{codepoints:"1f486-200d-2640-fe0f",version:"4.0",sheetX:24,sheetY:39,keywords:["woman getting massage","face","massage","woman"],variations:["💆🏻‍♀️","💆🏼‍♀️","💆🏽‍♀️","💆🏾‍♀️","💆🏿‍♀️"]},"🔥":{codepoints:"1f525",version:"2.0",sheetX:28,sheetY:8,keywords:["fire","flame","tool"],variations:[]},"💉":{codepoints:"1f489",version:"2.0",sheetX:25,sheetY:19,keywords:["syringe","medicine","needle","shot","sick"],variations:[]},"🇸🇨":{codepoints:"1f1f8-1f1e8",version:"2.0",sheetX:4,sheetY:3,keywords:["seychelles flag","flag sc","flag: seychelles","sc","flag"],variations:[]},"🔷":{codepoints:"1f537",version:"2.0",sheetX:28,sheetY:26,keywords:["large blue diamond","blue","diamond","geometric"],variations:[]},"🇸🇩":{codepoints:"1f1f8-1f1e9",version:"2.0",sheetX:4,sheetY:4,keywords:["sudan flag","flag sd","flag: sudan","sd","flag"],variations:[]},"💧":{codepoints:"1f4a7",version:"2.0",sheetX:25,sheetY:49,keywords:["droplet","cold","comic","drop","sweat"],variations:[]},"💇🏻":{codepoints:"1f487-1f3fb",version:"2.0",sheetX:25,sheetY:13},"💇🏼":{codepoints:"1f487-1f3fc",version:"2.0",sheetX:25,sheetY:14},"💇🏽":{codepoints:"1f487-1f3fd",version:"2.0",sheetX:25,sheetY:15},"💇🏾":{codepoints:"1f487-1f3fe",version:"2.0",sheetX:25,sheetY:16},"💇🏿":{codepoints:"1f487-1f3ff",version:"2.0",sheetX:25,sheetY:17},"💇":{codepoints:"1f487",version:"2.0",sheetX:25,sheetY:12,keywords:["haircut","person getting haircut","barber","beauty","parlor"],variations:["💇🏻","💇🏼","💇🏽","💇🏾","💇🏿"]},"🌊":{codepoints:"1f30a",version:"2.0",sheetX:5,sheetY:29,keywords:["water wave","ocean","water","wave"],variations:[]},"🇸🇪":{codepoints:"1f1f8-1f1ea",version:"2.0",sheetX:4,sheetY:5,keywords:["sweden flag","flag se","flag: sweden","se","flag"],variations:[]},"💇🏻‍♂️":{codepoints:"1f487-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:25,sheetY:7},"💇🏼‍♂️":{codepoints:"1f487-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:25,sheetY:8},"💇🏽‍♂️":{codepoints:"1f487-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:25,sheetY:9},"💇🏾‍♂️":{codepoints:"1f487-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:25,sheetY:10},"💇🏿‍♂️":{codepoints:"1f487-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:25,sheetY:11},"💇‍♂️":{codepoints:"1f487-200d-2642-fe0f",version:"4.0",sheetX:25,sheetY:6,keywords:["man getting haircut","haircut","man"],variations:["💇🏻‍♂️","💇🏼‍♂️","💇🏽‍♂️","💇🏾‍♂️","💇🏿‍♂️"]},"💇‍♂":{codepoints:"1f487-200d-2642-fe0f",version:"4.0",sheetX:25,sheetY:6,keywords:["man getting haircut","haircut","man"],variations:["💇🏻‍♂️","💇🏼‍♂️","💇🏽‍♂️","💇🏾‍♂️","💇🏿‍♂️"]},"🔸":{codepoints:"1f538",version:"2.0",sheetX:28,sheetY:27,keywords:["small orange diamond","diamond","geometric","orange"],variations:[]},"💊":{codepoints:"1f48a",version:"2.0",sheetX:25,sheetY:20,keywords:["pill","doctor","medicine","sick"],variations:[]},"💇🏻‍♀️":{codepoints:"1f487-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:25,sheetY:1},"💇🏼‍♀️":{codepoints:"1f487-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:25,sheetY:2},"💇🏽‍♀️":{codepoints:"1f487-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:25,sheetY:3},"💇🏾‍♀️":{codepoints:"1f487-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:25,sheetY:4},"💇🏿‍♀️":{codepoints:"1f487-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:25,sheetY:5},"💇‍♀️":{codepoints:"1f487-200d-2640-fe0f",version:"4.0",sheetX:25,sheetY:0,keywords:["woman getting haircut","haircut","woman"],variations:["💇🏻‍♀️","💇🏼‍♀️","💇🏽‍♀️","💇🏾‍♀️","💇🏿‍♀️"]},"💇‍♀":{codepoints:"1f487-200d-2640-fe0f",version:"4.0",sheetX:25,sheetY:0,keywords:["woman getting haircut","haircut","woman"],variations:["💇🏻‍♀️","💇🏼‍♀️","💇🏽‍♀️","💇🏾‍♀️","💇🏿‍♀️"]},"🔹":{codepoints:"1f539",version:"2.0",sheetX:28,sheetY:28,keywords:["small blue diamond","blue","diamond","geometric"],variations:[]},"🇸🇬":{codepoints:"1f1f8-1f1ec",version:"2.0",sheetX:4,sheetY:6,keywords:["singapore flag","flag sg","flag: singapore","sg","flag"],variations:[]},"🚶🏻":{codepoints:"1f6b6-1f3fb",version:"2.0",sheetX:36,sheetY:3},"🚶🏼":{codepoints:"1f6b6-1f3fc",version:"2.0",sheetX:36,sheetY:4},"🚶🏽":{codepoints:"1f6b6-1f3fd",version:"2.0",sheetX:36,sheetY:5},"🚶🏾":{codepoints:"1f6b6-1f3fe",version:"2.0",sheetX:36,sheetY:6},"🚶🏿":{codepoints:"1f6b6-1f3ff",version:"2.0",sheetX:36,sheetY:7},"🚶":{codepoints:"1f6b6",version:"2.0",sheetX:36,sheetY:2,keywords:["pedestrian","walking","person walking","hike","walk"],variations:["🚶🏻","🚶🏼","🚶🏽","🚶🏾","🚶🏿"]},"🔺":{codepoints:"1f53a",version:"2.0",sheetX:28,sheetY:29,keywords:["up pointing red triangle","small red triangle","red triangle pointed up","geometric","red"],variations:[]},"🇸🇭":{codepoints:"1f1f8-1f1ed",version:"2.0",sheetX:4,sheetY:7,keywords:["st. helena flag","flag sh","flag: st. helena","sh","flag"],variations:[]},"🚶🏻‍♂️":{codepoints:"1f6b6-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:54},"🚶🏼‍♂️":{codepoints:"1f6b6-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:55},"🚶🏽‍♂️":{codepoints:"1f6b6-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:56},"🚶🏾‍♂️":{codepoints:"1f6b6-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:36,sheetY:0},"🚶🏿‍♂️":{codepoints:"1f6b6-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:36,sheetY:1},"🚶‍♂️":{codepoints:"1f6b6-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:53,keywords:["man walking","hike","man","walk"],variations:["🚶🏻‍♂️","🚶🏼‍♂️","🚶🏽‍♂️","🚶🏾‍♂️","🚶🏿‍♂️"]},"🚶‍♂":{codepoints:"1f6b6-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:53,keywords:["man walking","hike","man","walk"],variations:["🚶🏻‍♂️","🚶🏼‍♂️","🚶🏽‍♂️","🚶🏾‍♂️","🚶🏿‍♂️"]},"🇸🇮":{codepoints:"1f1f8-1f1ee",version:"2.0",sheetX:4,sheetY:8,keywords:["slovenia flag","flag si","flag: slovenia","si","flag"],variations:[]},"🚪":{codepoints:"1f6aa",version:"2.0",sheetX:35,sheetY:1,keywords:["door"],variations:[]},"🔻":{codepoints:"1f53b",version:"2.0",sheetX:28,sheetY:30,keywords:["down pointing red triangle","small red triangle down","red triangle pointed down","down","geometric","red"],variations:[]},"🇸🇯":{codepoints:"1f1f8-1f1ef",version:"2.0",sheetX:4,sheetY:9,keywords:["svalbard & jan mayen flag","flag sj","flag: svalbard & jan mayen","sj","flag"],variations:[]},"💠":{codepoints:"1f4a0",version:"2.0",sheetX:25,sheetY:42,keywords:["diamond shape with a dot inside","diamond with a dot","comic","diamond","geometric","inside"],variations:[]},"🚶🏻‍♀️":{codepoints:"1f6b6-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:48},"🚶🏼‍♀️":{codepoints:"1f6b6-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:49},"🚶🏽‍♀️":{codepoints:"1f6b6-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:50},"🚶🏾‍♀️":{codepoints:"1f6b6-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:51},"🚶🏿‍♀️":{codepoints:"1f6b6-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:52},"🚶‍♀️":{codepoints:"1f6b6-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:47,keywords:["woman walking","hike","walk","woman"],variations:["🚶🏻‍♀️","🚶🏼‍♀️","🚶🏽‍♀️","🚶🏾‍♀️","🚶🏿‍♀️"]},"🚶‍♀":{codepoints:"1f6b6-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:47,keywords:["woman walking","hike","walk","woman"],variations:["🚶🏻‍♀️","🚶🏼‍♀️","🚶🏽‍♀️","🚶🏾‍♀️","🚶🏿‍♀️"]},"🛏️":{codepoints:"1f6cf-fe0f",version:"2.0",sheetX:36,sheetY:37,keywords:["bed","hotel","sleep"],variations:[]},"🛏":{codepoints:"1f6cf-fe0f",version:"2.0",sheetX:36,sheetY:37,keywords:["bed","hotel","sleep"],variations:[]},"🔘":{codepoints:"1f518",version:"2.0",sheetX:27,sheetY:52,keywords:["radio button","button","geometric","radio"],variations:[]},"🇸🇰":{codepoints:"1f1f8-1f1f0",version:"2.0",sheetX:4,sheetY:10,keywords:["slovakia flag","flag sk","flag: slovakia","sk","flag"],variations:[]},"🛋️":{codepoints:"1f6cb-fe0f",version:"2.0",sheetX:36,sheetY:28,keywords:["couch and lamp","couch","hotel","lamp"],variations:[]},"🛋":{codepoints:"1f6cb-fe0f",version:"2.0",sheetX:36,sheetY:28,keywords:["couch and lamp","couch","hotel","lamp"],variations:[]},"🔳":{codepoints:"1f533",version:"2.0",sheetX:28,sheetY:22,keywords:["white square button","button","geometric","outlined","square"],variations:[]},"🇸🇱":{codepoints:"1f1f8-1f1f1",version:"2.0",sheetX:4,sheetY:11,keywords:["sierra leone flag","flag sl","flag: sierra leone","sl","flag"],variations:[]},"🚽":{codepoints:"1f6bd",version:"2.0",sheetX:36,sheetY:14,keywords:["toilet"],variations:[]},"🔲":{codepoints:"1f532",version:"2.0",sheetX:28,sheetY:21,keywords:["black square button","button","geometric","square"],variations:[]},"🇸🇲":{codepoints:"1f1f8-1f1f2",version:"2.0",sheetX:4,sheetY:12,keywords:["san marino flag","flag sm","flag: san marino","sm","flag"],variations:[]},"🚿":{codepoints:"1f6bf",version:"2.0",sheetX:36,sheetY:16,keywords:["shower","water"],variations:[]},"🇸🇳":{codepoints:"1f1f8-1f1f3",version:"2.0",sheetX:4,sheetY:13,keywords:["senegal flag","flag sn","flag: senegal","sn","flag"],variations:[]},"🛁":{codepoints:"1f6c1",version:"2.0",sheetX:36,sheetY:23,keywords:["bathtub","bath"],variations:[]},"🇸🇴":{codepoints:"1f1f8-1f1f4",version:"2.0",sheetX:4,sheetY:14,keywords:["somalia flag","flag so","flag: somalia","so","flag"],variations:[]},"🇸🇷":{codepoints:"1f1f8-1f1f7",version:"2.0",sheetX:4,sheetY:15,keywords:["suriname flag","flag sr","flag: suriname","sr","flag"],variations:[]},"🇸🇸":{codepoints:"1f1f8-1f1f8",version:"2.0",sheetX:4,sheetY:16,keywords:["south sudan flag","flag ss","flag: south sudan","ss","flag"],variations:[]},"🧴":{codepoints:"1f9f4",version:"11.0",sheetX:51,sheetY:39,keywords:["lotion bottle","lotion","moisturizer","shampoo","sunscreen"],variations:[]},"🇸🇹":{codepoints:"1f1f8-1f1f9",version:"2.0",sheetX:4,sheetY:17,keywords:["são tomé & príncipe flag","flag st","flag: são tomé & príncipe","st","flag"],variations:[]},"🧷":{codepoints:"1f9f7",version:"11.0",sheetX:51,sheetY:42,keywords:["safety pin","diaper","punk rock"],variations:[]},"🧹":{codepoints:"1f9f9",version:"11.0",sheetX:51,sheetY:44,keywords:["broom","cleaning","sweeping","witch"],variations:[]},"🇸🇻":{codepoints:"1f1f8-1f1fb",version:"2.0",sheetX:4,sheetY:18,keywords:["el salvador flag","flag sv","flag: el salvador","sv","flag"],variations:[]},"🇸🇽":{codepoints:"1f1f8-1f1fd",version:"2.0",sheetX:4,sheetY:19,keywords:["sint maarten flag","flag sx","flag: sint maarten","sx","flag"],variations:[]},"🧺":{codepoints:"1f9fa",version:"11.0",sheetX:51,sheetY:45,keywords:["basket","farming","laundry","picnic"],variations:[]},"🇸🇾":{codepoints:"1f1f8-1f1fe",version:"2.0",sheetX:4,sheetY:20,keywords:["syria flag","flag sy","flag: syria","sy","flag"],variations:[]},"🧻":{codepoints:"1f9fb",version:"11.0",sheetX:51,sheetY:46,keywords:["roll of paper","paper towels","toilet paper"],variations:[]},"🇸🇿":{codepoints:"1f1f8-1f1ff",version:"2.0",sheetX:4,sheetY:21,keywords:["eswatini flag","flag sz","flag: eswatini","sz","flag"],variations:[]},"🧼":{codepoints:"1f9fc",version:"11.0",sheetX:51,sheetY:47,keywords:["bar of soap","soap","bar","bathing","cleaning","lather","soapdish"],variations:[]},"🇹🇦":{codepoints:"1f1f9-1f1e6",version:"2.0",sheetX:4,sheetY:22,keywords:["tristan da cunha flag","flag ta","flag: tristan da cunha","ta","flag"],variations:[]},"🧽":{codepoints:"1f9fd",version:"11.0",sheetX:51,sheetY:48,keywords:["sponge","absorbing","cleaning","porous"],variations:[]},"🧯":{codepoints:"1f9ef",version:"11.0",sheetX:51,sheetY:34,keywords:["fire extinguisher","extinguish","fire","quench"],variations:[]},"🇹🇨":{codepoints:"1f1f9-1f1e8",version:"2.0",sheetX:4,sheetY:23,keywords:["turks & caicos islands flag","flag tc","flag: turks & caicos islands","tc","flag"],variations:[]},"🇹🇩":{codepoints:"1f1f9-1f1e9",version:"2.0",sheetX:4,sheetY:24,keywords:["chad flag","flag td","flag: chad","td","flag"],variations:[]},"🛒":{codepoints:"1f6d2",version:"4.0",sheetX:36,sheetY:40,keywords:["shopping trolley","shopping cart","cart","shopping","trolley"],variations:[]},"🏃🏻":{codepoints:"1f3c3-1f3fb",version:"2.0",sheetX:9,sheetY:2},"🏃🏼":{codepoints:"1f3c3-1f3fc",version:"2.0",sheetX:9,sheetY:3},"🏃🏽":{codepoints:"1f3c3-1f3fd",version:"2.0",sheetX:9,sheetY:4},"🏃🏾":{codepoints:"1f3c3-1f3fe",version:"2.0",sheetX:9,sheetY:5},"🏃🏿":{codepoints:"1f3c3-1f3ff",version:"2.0",sheetX:9,sheetY:6},"🏃":{codepoints:"1f3c3",version:"2.0",sheetX:9,sheetY:1,keywords:["runner","running","person running","marathon"],variations:["🏃🏻","🏃🏼","🏃🏽","🏃🏾","🏃🏿"]},"🇹🇫":{codepoints:"1f1f9-1f1eb",version:"2.0",sheetX:4,sheetY:25,keywords:["french southern territories flag","flag tf","flag: french southern territories","tf","flag"],variations:[]},"🚬":{codepoints:"1f6ac",version:"2.0",sheetX:35,sheetY:3,keywords:["smoking symbol","smoking","cigarette"],variations:[]},"⚰️":{codepoints:"26b0-fe0f",version:"2.0",sheetX:53,sheetY:54,keywords:["coffin","death"],variations:[]},"⚰":{codepoints:"26b0-fe0f",version:"2.0",sheetX:53,sheetY:54,keywords:["coffin","death"],variations:[]},"🏃🏻‍♂️":{codepoints:"1f3c3-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:8,sheetY:53},"🏃🏼‍♂️":{codepoints:"1f3c3-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:8,sheetY:54},"🏃🏽‍♂️":{codepoints:"1f3c3-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:8,sheetY:55},"🏃🏾‍♂️":{codepoints:"1f3c3-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:8,sheetY:56},"🏃🏿‍♂️":{codepoints:"1f3c3-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:0},"🏃‍♂️":{codepoints:"1f3c3-200d-2642-fe0f",version:"4.0",sheetX:8,sheetY:52,keywords:["man running","man","marathon","racing","running"],variations:["🏃🏻‍♂️","🏃🏼‍♂️","🏃🏽‍♂️","🏃🏾‍♂️","🏃🏿‍♂️"]},"🏃‍♂":{codepoints:"1f3c3-200d-2642-fe0f",version:"4.0",sheetX:8,sheetY:52,keywords:["man running","man","marathon","racing","running"],variations:["🏃🏻‍♂️","🏃🏼‍♂️","🏃🏽‍♂️","🏃🏾‍♂️","🏃🏿‍♂️"]},"🇹🇬":{codepoints:"1f1f9-1f1ec",version:"2.0",sheetX:4,sheetY:26,keywords:["togo flag","flag tg","flag: togo","tg","flag"],variations:[]},"🏃🏻‍♀️":{codepoints:"1f3c3-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:8,sheetY:47},"🏃🏼‍♀️":{codepoints:"1f3c3-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:8,sheetY:48},"🏃🏽‍♀️":{codepoints:"1f3c3-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:8,sheetY:49},"🏃🏾‍♀️":{codepoints:"1f3c3-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:8,sheetY:50},"🏃🏿‍♀️":{codepoints:"1f3c3-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:8,sheetY:51},"🏃‍♀️":{codepoints:"1f3c3-200d-2640-fe0f",version:"4.0",sheetX:8,sheetY:46,keywords:["woman running","marathon","racing","running","woman"],variations:["🏃🏻‍♀️","🏃🏼‍♀️","🏃🏽‍♀️","🏃🏾‍♀️","🏃🏿‍♀️"]},"🏃‍♀":{codepoints:"1f3c3-200d-2640-fe0f",version:"4.0",sheetX:8,sheetY:46,keywords:["woman running","marathon","racing","running","woman"],variations:["🏃🏻‍♀️","🏃🏼‍♀️","🏃🏽‍♀️","🏃🏾‍♀️","🏃🏿‍♀️"]},"⚱️":{codepoints:"26b1-fe0f",version:"2.0",sheetX:53,sheetY:55,keywords:["funeral urn","ashes","death","funeral","urn"],variations:[]},"⚱":{codepoints:"26b1-fe0f",version:"2.0",sheetX:53,sheetY:55,keywords:["funeral urn","ashes","death","funeral","urn"],variations:[]},"🇹🇭":{codepoints:"1f1f9-1f1ed",version:"2.0",sheetX:4,sheetY:27,keywords:["thailand flag","flag th","flag: thailand","th","flag"],variations:[]},"🗿":{codepoints:"1f5ff",version:"2.0",sheetX:30,sheetY:34,keywords:["moyai","moai","face","statue"],variations:[]},"🇹🇯":{codepoints:"1f1f9-1f1ef",version:"2.0",sheetX:4,sheetY:28,keywords:["tajikistan flag","flag tj","flag: tajikistan","tj","flag"],variations:[]},"💃🏻":{codepoints:"1f483-1f3fb",version:"2.0",sheetX:24,sheetY:27},"💃🏼":{codepoints:"1f483-1f3fc",version:"2.0",sheetX:24,sheetY:28},"💃🏽":{codepoints:"1f483-1f3fd",version:"2.0",sheetX:24,sheetY:29},"💃🏾":{codepoints:"1f483-1f3fe",version:"2.0",sheetX:24,sheetY:30},"💃🏿":{codepoints:"1f483-1f3ff",version:"2.0",sheetX:24,sheetY:31},"💃":{codepoints:"1f483",version:"2.0",sheetX:24,sheetY:26,keywords:["dancer","woman dancing","dancing","woman"],variations:["💃🏻","💃🏼","💃🏽","💃🏾","💃🏿"]},"🇹🇰":{codepoints:"1f1f9-1f1f0",version:"2.0",sheetX:4,sheetY:29,keywords:["tokelau flag","flag tk","flag: tokelau","tk","flag"],variations:[]},"🕺🏻":{codepoints:"1f57a-1f3fb",version:"4.0",sheetX:29,sheetY:38},"🕺🏼":{codepoints:"1f57a-1f3fc",version:"4.0",sheetX:29,sheetY:39},"🕺🏽":{codepoints:"1f57a-1f3fd",version:"4.0",sheetX:29,sheetY:40},"🕺🏾":{codepoints:"1f57a-1f3fe",version:"4.0",sheetX:29,sheetY:41},"🕺🏿":{codepoints:"1f57a-1f3ff",version:"4.0",sheetX:29,sheetY:42},"🕺":{codepoints:"1f57a",version:"4.0",sheetX:29,sheetY:37,keywords:["man dancing","dance","man"],variations:["🕺🏻","🕺🏼","🕺🏽","🕺🏾","🕺🏿"]},"🇹🇱":{codepoints:"1f1f9-1f1f1",version:"2.0",sheetX:4,sheetY:30,keywords:["timor leste flag","flag tl","flag: timor leste","tl","flag"],variations:[]},"🕴🏻":{codepoints:"1f574-1f3fb",version:"4.0",sheetX:29,sheetY:10},"🕴🏼":{codepoints:"1f574-1f3fc",version:"4.0",sheetX:29,sheetY:11},"🕴🏽":{codepoints:"1f574-1f3fd",version:"4.0",sheetX:29,sheetY:12},"🕴🏾":{codepoints:"1f574-1f3fe",version:"4.0",sheetX:29,sheetY:13},"🕴🏿":{codepoints:"1f574-1f3ff",version:"4.0",sheetX:29,sheetY:14},"🕴️":{codepoints:"1f574-fe0f",version:"2.0",sheetX:29,sheetY:9,keywords:["man in business suit levitating","person in suit levitating","business","person","suit"],variations:["🕴🏻","🕴🏼","🕴🏽","🕴🏾","🕴🏿"]},"🕴":{codepoints:"1f574-fe0f",version:"2.0",sheetX:29,sheetY:9,keywords:["man in business suit levitating","person in suit levitating","business","person","suit"],variations:["🕴🏻","🕴🏼","🕴🏽","🕴🏾","🕴🏿"]},"🇹🇲":{codepoints:"1f1f9-1f1f2",version:"2.0",sheetX:4,sheetY:31,keywords:["turkmenistan flag","flag tm","flag: turkmenistan","tm","flag"],variations:[]},"👯":{codepoints:"1f46f",version:"2.0",sheetX:22,sheetY:0,keywords:["woman with bunny ears","dancers","people with bunny ears","bunny ear","dancer","partying"],variations:[]},"👯‍♂️":{codepoints:"1f46f-200d-2642-fe0f",version:"4.0",sheetX:21,sheetY:56,keywords:["man with bunny ears partying","men with bunny ears","bunny ear","dancer","men","partying"],variations:[]},"👯‍♂":{codepoints:"1f46f-200d-2642-fe0f",version:"4.0",sheetX:21,sheetY:56,keywords:["man with bunny ears partying","men with bunny ears","bunny ear","dancer","men","partying"],variations:[]},"🇹🇳":{codepoints:"1f1f9-1f1f3",version:"2.0",sheetX:4,sheetY:32,keywords:["tunisia flag","flag tn","flag: tunisia","tn","flag"],variations:[]},"🇹🇴":{codepoints:"1f1f9-1f1f4",version:"2.0",sheetX:4,sheetY:33,keywords:["tonga flag","flag to","flag: tonga","to","flag"],variations:[]},"👯‍♀️":{codepoints:"1f46f-200d-2640-fe0f",version:"4.0",sheetX:21,sheetY:55,keywords:["woman with bunny ears partying","women with bunny ears","bunny ear","dancer","partying","women"],variations:[]},"👯‍♀":{codepoints:"1f46f-200d-2640-fe0f",version:"4.0",sheetX:21,sheetY:55,keywords:["woman with bunny ears partying","women with bunny ears","bunny ear","dancer","partying","women"],variations:[]},"🇹🇷":{codepoints:"1f1f9-1f1f7",version:"2.0",sheetX:4,sheetY:34,keywords:["turkey flag","flag tr","flag: turkey","tr","flag"],variations:[]},"🧖🏻":{codepoints:"1f9d6-1f3fb",version:"5.0",sheetX:48,sheetY:53},"🧖🏼":{codepoints:"1f9d6-1f3fc",version:"5.0",sheetX:48,sheetY:54},"🧖🏽":{codepoints:"1f9d6-1f3fd",version:"5.0",sheetX:48,sheetY:55},"🧖🏾":{codepoints:"1f9d6-1f3fe",version:"5.0",sheetX:48,sheetY:56},"🧖🏿":{codepoints:"1f9d6-1f3ff",version:"5.0",sheetX:49,sheetY:0},"🧖":{codepoints:"1f9d6",version:"5.0",sheetX:48,sheetY:52,keywords:["person in steamy room","sauna","steam room"],variations:["🧖🏻","🧖🏼","🧖🏽","🧖🏾","🧖🏿"]},"🧖🏻‍♂️":{codepoints:"1f9d6-1f3fb-200d-2642-fe0f",version:"5.0",sheetX:48,sheetY:47},"🧖🏼‍♂️":{codepoints:"1f9d6-1f3fc-200d-2642-fe0f",version:"5.0",sheetX:48,sheetY:48},"🧖🏽‍♂️":{codepoints:"1f9d6-1f3fd-200d-2642-fe0f",version:"5.0",sheetX:48,sheetY:49},"🧖🏾‍♂️":{codepoints:"1f9d6-1f3fe-200d-2642-fe0f",version:"5.0",sheetX:48,sheetY:50},"🧖🏿‍♂️":{codepoints:"1f9d6-1f3ff-200d-2642-fe0f",version:"5.0",sheetX:48,sheetY:51},"🧖‍♂️":{codepoints:"1f9d6-200d-2642-fe0f",version:"5.0",sheetX:48,sheetY:46,keywords:["man in steamy room","sauna","steam room"],variations:["🧖🏻‍♂️","🧖🏼‍♂️","🧖🏽‍♂️","🧖🏾‍♂️","🧖🏿‍♂️"]},"🧖‍♂":{codepoints:"1f9d6-200d-2642-fe0f",version:"5.0",sheetX:48,sheetY:46,keywords:["man in steamy room","sauna","steam room"],variations:["🧖🏻‍♂️","🧖🏼‍♂️","🧖🏽‍♂️","🧖🏾‍♂️","🧖🏿‍♂️"]},"🇹🇹":{codepoints:"1f1f9-1f1f9",version:"2.0",sheetX:4,sheetY:35,keywords:["trinidad & tobago flag","flag tt","flag: trinidad & tobago","tt","flag"],variations:[]},"🧖🏻‍♀️":{codepoints:"1f9d6-1f3fb-200d-2640-fe0f",version:"5.0",sheetX:48,sheetY:41},"🧖🏼‍♀️":{codepoints:"1f9d6-1f3fc-200d-2640-fe0f",version:"5.0",sheetX:48,sheetY:42},"🧖🏽‍♀️":{codepoints:"1f9d6-1f3fd-200d-2640-fe0f",version:"5.0",sheetX:48,sheetY:43},"🧖🏾‍♀️":{codepoints:"1f9d6-1f3fe-200d-2640-fe0f",version:"5.0",sheetX:48,sheetY:44},"🧖🏿‍♀️":{codepoints:"1f9d6-1f3ff-200d-2640-fe0f",version:"5.0",sheetX:48,sheetY:45},"🧖‍♀️":{codepoints:"1f9d6-200d-2640-fe0f",version:"5.0",sheetX:48,sheetY:40,keywords:["woman in steamy room","sauna","steam room"],variations:["🧖🏻‍♀️","🧖🏼‍♀️","🧖🏽‍♀️","🧖🏾‍♀️","🧖🏿‍♀️"]},"🧖‍♀":{codepoints:"1f9d6-200d-2640-fe0f",version:"5.0",sheetX:48,sheetY:40,keywords:["woman in steamy room","sauna","steam room"],variations:["🧖🏻‍♀️","🧖🏼‍♀️","🧖🏽‍♀️","🧖🏾‍♀️","🧖🏿‍♀️"]},"🇹🇻":{codepoints:"1f1f9-1f1fb",version:"2.0",sheetX:4,sheetY:36,keywords:["tuvalu flag","flag tv","flag: tuvalu","tv","flag"],variations:[]},"🇹🇼":{codepoints:"1f1f9-1f1fc",version:"2.0",sheetX:4,sheetY:37,keywords:["taiwan flag","flag tw","flag: taiwan","tw","flag"],variations:[]},"🧗🏻":{codepoints:"1f9d7-1f3fb",version:"5.0",sheetX:49,sheetY:14},"🧗🏼":{codepoints:"1f9d7-1f3fc",version:"5.0",sheetX:49,sheetY:15},"🧗🏽":{codepoints:"1f9d7-1f3fd",version:"5.0",sheetX:49,sheetY:16},"🧗🏾":{codepoints:"1f9d7-1f3fe",version:"5.0",sheetX:49,sheetY:17},"🧗🏿":{codepoints:"1f9d7-1f3ff",version:"5.0",sheetX:49,sheetY:18},"🧗":{codepoints:"1f9d7",version:"5.0",sheetX:49,sheetY:13,keywords:["person climbing","climber"],variations:["🧗🏻","🧗🏼","🧗🏽","🧗🏾","🧗🏿"]},"🧗🏻‍♂️":{codepoints:"1f9d7-1f3fb-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:8},"🧗🏼‍♂️":{codepoints:"1f9d7-1f3fc-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:9},"🧗🏽‍♂️":{codepoints:"1f9d7-1f3fd-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:10},"🧗🏾‍♂️":{codepoints:"1f9d7-1f3fe-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:11},"🧗🏿‍♂️":{codepoints:"1f9d7-1f3ff-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:12},"🧗‍♂️":{codepoints:"1f9d7-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:7,keywords:["man climbing","climber"],variations:["🧗🏻‍♂️","🧗🏼‍♂️","🧗🏽‍♂️","🧗🏾‍♂️","🧗🏿‍♂️"]},"🧗‍♂":{codepoints:"1f9d7-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:7,keywords:["man climbing","climber"],variations:["🧗🏻‍♂️","🧗🏼‍♂️","🧗🏽‍♂️","🧗🏾‍♂️","🧗🏿‍♂️"]},"🇹🇿":{codepoints:"1f1f9-1f1ff",version:"2.0",sheetX:4,sheetY:38,keywords:["tanzania flag","flag tz","flag: tanzania","tz","flag"],variations:[]},"🇺🇦":{codepoints:"1f1fa-1f1e6",version:"2.0",sheetX:4,sheetY:39,keywords:["ukraine flag","flag ua","flag: ukraine","ua","flag"],variations:[]},"🧗🏻‍♀️":{codepoints:"1f9d7-1f3fb-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:2},"🧗🏼‍♀️":{codepoints:"1f9d7-1f3fc-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:3},"🧗🏽‍♀️":{codepoints:"1f9d7-1f3fd-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:4},"🧗🏾‍♀️":{codepoints:"1f9d7-1f3fe-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:5},"🧗🏿‍♀️":{codepoints:"1f9d7-1f3ff-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:6},"🧗‍♀️":{codepoints:"1f9d7-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:1,keywords:["woman climbing","climber"],variations:["🧗🏻‍♀️","🧗🏼‍♀️","🧗🏽‍♀️","🧗🏾‍♀️","🧗🏿‍♀️"]},"🧗‍♀":{codepoints:"1f9d7-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:1,keywords:["woman climbing","climber"],variations:["🧗🏻‍♀️","🧗🏼‍♀️","🧗🏽‍♀️","🧗🏾‍♀️","🧗🏿‍♀️"]},"🇺🇬":{codepoints:"1f1fa-1f1ec",version:"2.0",sheetX:4,sheetY:40,keywords:["uganda flag","flag ug","flag: uganda","ug","flag"],variations:[]},"🤺":{codepoints:"1f93a",version:"4.0",sheetX:40,sheetY:32,keywords:["fencer","person fencing","fencing","sword"],variations:[]},"🇺🇲":{codepoints:"1f1fa-1f1f2",version:"2.0",sheetX:4,sheetY:41,keywords:["u.s. outlying islands flag","flag um","flag: u.s. outlying islands","um","flag"],variations:[]},"🏇🏻":{codepoints:"1f3c7-1f3fb",version:"4.0",sheetX:9,sheetY:28},"🏇🏼":{codepoints:"1f3c7-1f3fc",version:"4.0",sheetX:9,sheetY:29},"🏇🏽":{codepoints:"1f3c7-1f3fd",version:"4.0",sheetX:9,sheetY:30},"🏇🏾":{codepoints:"1f3c7-1f3fe",version:"4.0",sheetX:9,sheetY:31},"🏇🏿":{codepoints:"1f3c7-1f3ff",version:"4.0",sheetX:9,sheetY:32},"🏇":{codepoints:"1f3c7",version:"2.0",sheetX:9,sheetY:27,keywords:["horse racing","horse","jockey","racehorse","racing"],variations:["🏇🏻","🏇🏼","🏇🏽","🏇🏾","🏇🏿"]},"⛷️":{codepoints:"26f7-fe0f",version:"2.0",sheetX:54,sheetY:17,keywords:["skier","ski","snow"],variations:[]},"⛷":{codepoints:"26f7-fe0f",version:"2.0",sheetX:54,sheetY:17,keywords:["skier","ski","snow"],variations:[]},"🇺🇳":{codepoints:"1f1fa-1f1f3",version:"4.0",sheetX:4,sheetY:42,keywords:["united nations flag","flag un","flag: united nations","un","flag"],variations:[]},"🇺🇸":{codepoints:"1f1fa-1f1f8",version:"2.0",sheetX:4,sheetY:43,keywords:["united states flag","us","flag us","flag: united states","flag"],variations:[]},"🏂🏻":{codepoints:"1f3c2-1f3fb",version:"4.0",sheetX:8,sheetY:41},"🏂🏼":{codepoints:"1f3c2-1f3fc",version:"4.0",sheetX:8,sheetY:42},"🏂🏽":{codepoints:"1f3c2-1f3fd",version:"4.0",sheetX:8,sheetY:43},"🏂🏾":{codepoints:"1f3c2-1f3fe",version:"4.0",sheetX:8,sheetY:44},"🏂🏿":{codepoints:"1f3c2-1f3ff",version:"4.0",sheetX:8,sheetY:45},"🏂":{codepoints:"1f3c2",version:"2.0",sheetX:8,sheetY:40,keywords:["snowboarder","ski","snow","snowboard"],variations:["🏂🏻","🏂🏼","🏂🏽","🏂🏾","🏂🏿"]},"🏌🏻":{codepoints:"1f3cc-1f3fb",version:"4.0",sheetX:10,sheetY:27},"🏌🏼":{codepoints:"1f3cc-1f3fc",version:"4.0",sheetX:10,sheetY:28},"🏌🏽":{codepoints:"1f3cc-1f3fd",version:"4.0",sheetX:10,sheetY:29},"🏌🏾":{codepoints:"1f3cc-1f3fe",version:"4.0",sheetX:10,sheetY:30},"🏌🏿":{codepoints:"1f3cc-1f3ff",version:"4.0",sheetX:10,sheetY:31},"🏌️":{codepoints:"1f3cc-fe0f",version:"2.0",sheetX:10,sheetY:26,keywords:["golfer","person golfing","ball","golf"],variations:["🏌🏻","🏌🏼","🏌🏽","🏌🏾","🏌🏿"]},"🏌":{codepoints:"1f3cc-fe0f",version:"2.0",sheetX:10,sheetY:26,keywords:["golfer","person golfing","ball","golf"],variations:["🏌🏻","🏌🏼","🏌🏽","🏌🏾","🏌🏿"]},"🇺🇾":{codepoints:"1f1fa-1f1fe",version:"2.0",sheetX:4,sheetY:44,keywords:["uruguay flag","flag uy","flag: uruguay","uy","flag"],variations:[]},"🇺🇿":{codepoints:"1f1fa-1f1ff",version:"2.0",sheetX:4,sheetY:45,keywords:["uzbekistan flag","flag uz","flag: uzbekistan","uz","flag"],variations:[]},"🏌🏻‍♂️":{codepoints:"1f3cc-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:10,sheetY:21},"🏌🏼‍♂️":{codepoints:"1f3cc-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:10,sheetY:22},"🏌🏽‍♂️":{codepoints:"1f3cc-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:10,sheetY:23},"🏌🏾‍♂️":{codepoints:"1f3cc-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:10,sheetY:24},"🏌🏿‍♂️":{codepoints:"1f3cc-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:10,sheetY:25},"🏌️‍♂️":{codepoints:"1f3cc-fe0f-200d-2642-fe0f",version:"4.0",sheetX:10,sheetY:20,keywords:["man golfing","golf","man"],variations:["🏌🏻‍♂️","🏌🏼‍♂️","🏌🏽‍♂️","🏌🏾‍♂️","🏌🏿‍♂️"]},"🇻🇦":{codepoints:"1f1fb-1f1e6",version:"2.0",sheetX:4,sheetY:46,keywords:["vatican city flag","flag va","flag: vatican city","va","flag"],variations:[]},"🏌🏻‍♀️":{codepoints:"1f3cc-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:10,sheetY:15},"🏌🏼‍♀️":{codepoints:"1f3cc-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:10,sheetY:16},"🏌🏽‍♀️":{codepoints:"1f3cc-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:10,sheetY:17},"🏌🏾‍♀️":{codepoints:"1f3cc-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:10,sheetY:18},"🏌🏿‍♀️":{codepoints:"1f3cc-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:10,sheetY:19},"🏌️‍♀️":{codepoints:"1f3cc-fe0f-200d-2640-fe0f",version:"4.0",sheetX:10,sheetY:14,keywords:["woman golfing","golf","woman"],variations:["🏌🏻‍♀️","🏌🏼‍♀️","🏌🏽‍♀️","🏌🏾‍♀️","🏌🏿‍♀️"]},"🇻🇨":{codepoints:"1f1fb-1f1e8",version:"2.0",sheetX:4,sheetY:47,keywords:["st. vincent & grenadines flag","flag vc","flag: st. vincent & grenadines","vc","flag"],variations:[]},"🏄🏻":{codepoints:"1f3c4-1f3fb",version:"2.0",sheetX:9,sheetY:20},"🏄🏼":{codepoints:"1f3c4-1f3fc",version:"2.0",sheetX:9,sheetY:21},"🏄🏽":{codepoints:"1f3c4-1f3fd",version:"2.0",sheetX:9,sheetY:22},"🏄🏾":{codepoints:"1f3c4-1f3fe",version:"2.0",sheetX:9,sheetY:23},"🏄🏿":{codepoints:"1f3c4-1f3ff",version:"2.0",sheetX:9,sheetY:24},"🏄":{codepoints:"1f3c4",version:"2.0",sheetX:9,sheetY:19,keywords:["surfer","person surfing","surfing"],variations:["🏄🏻","🏄🏼","🏄🏽","🏄🏾","🏄🏿"]},"🏄🏻‍♂️":{codepoints:"1f3c4-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:14},"🏄🏼‍♂️":{codepoints:"1f3c4-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:15},"🏄🏽‍♂️":{codepoints:"1f3c4-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:16},"🏄🏾‍♂️":{codepoints:"1f3c4-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:17},"🏄🏿‍♂️":{codepoints:"1f3c4-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:18},"🏄‍♂️":{codepoints:"1f3c4-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:13,keywords:["man surfing","man","surfing"],variations:["🏄🏻‍♂️","🏄🏼‍♂️","🏄🏽‍♂️","🏄🏾‍♂️","🏄🏿‍♂️"]},"🏄‍♂":{codepoints:"1f3c4-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:13,keywords:["man surfing","man","surfing"],variations:["🏄🏻‍♂️","🏄🏼‍♂️","🏄🏽‍♂️","🏄🏾‍♂️","🏄🏿‍♂️"]},"🇻🇪":{codepoints:"1f1fb-1f1ea",version:"2.0",sheetX:4,sheetY:48,keywords:["venezuela flag","flag ve","flag: venezuela","ve","flag"],variations:[]},"🇻🇬":{codepoints:"1f1fb-1f1ec",version:"2.0",sheetX:4,sheetY:49,keywords:["british virgin islands flag","flag vg","flag: british virgin islands","vg","flag"],variations:[]},"🏄🏻‍♀️":{codepoints:"1f3c4-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:8},"🏄🏼‍♀️":{codepoints:"1f3c4-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:9},"🏄🏽‍♀️":{codepoints:"1f3c4-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:10},"🏄🏾‍♀️":{codepoints:"1f3c4-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:11},"🏄🏿‍♀️":{codepoints:"1f3c4-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:12},"🏄‍♀️":{codepoints:"1f3c4-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:7,keywords:["woman surfing","surfing","woman"],variations:["🏄🏻‍♀️","🏄🏼‍♀️","🏄🏽‍♀️","🏄🏾‍♀️","🏄🏿‍♀️"]},"🏄‍♀":{codepoints:"1f3c4-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:7,keywords:["woman surfing","surfing","woman"],variations:["🏄🏻‍♀️","🏄🏼‍♀️","🏄🏽‍♀️","🏄🏾‍♀️","🏄🏿‍♀️"]},"🚣🏻":{codepoints:"1f6a3-1f3fb",version:"2.0",sheetX:34,sheetY:47},"🚣🏼":{codepoints:"1f6a3-1f3fc",version:"2.0",sheetX:34,sheetY:48},"🚣🏽":{codepoints:"1f6a3-1f3fd",version:"2.0",sheetX:34,sheetY:49},"🚣🏾":{codepoints:"1f6a3-1f3fe",version:"2.0",sheetX:34,sheetY:50},"🚣🏿":{codepoints:"1f6a3-1f3ff",version:"2.0",sheetX:34,sheetY:51},"🚣":{codepoints:"1f6a3",version:"2.0",sheetX:34,sheetY:46,keywords:["rowboat","person rowing boat","boat"],variations:["🚣🏻","🚣🏼","🚣🏽","🚣🏾","🚣🏿"]},"🇻🇮":{codepoints:"1f1fb-1f1ee",version:"2.0",sheetX:4,sheetY:50,keywords:["u.s. virgin islands flag","flag vi","flag: u.s. virgin islands","vi","flag"],variations:[]},"🚣🏻‍♂️":{codepoints:"1f6a3-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:34,sheetY:41},"🚣🏼‍♂️":{codepoints:"1f6a3-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:34,sheetY:42},"🚣🏽‍♂️":{codepoints:"1f6a3-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:34,sheetY:43},"🚣🏾‍♂️":{codepoints:"1f6a3-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:34,sheetY:44},"🚣🏿‍♂️":{codepoints:"1f6a3-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:34,sheetY:45},"🚣‍♂️":{codepoints:"1f6a3-200d-2642-fe0f",version:"4.0",sheetX:34,sheetY:40,keywords:["man rowing boat","boat","man","rowboat"],variations:["🚣🏻‍♂️","🚣🏼‍♂️","🚣🏽‍♂️","🚣🏾‍♂️","🚣🏿‍♂️"]},"🚣‍♂":{codepoints:"1f6a3-200d-2642-fe0f",version:"4.0",sheetX:34,sheetY:40,keywords:["man rowing boat","boat","man","rowboat"],variations:["🚣🏻‍♂️","🚣🏼‍♂️","🚣🏽‍♂️","🚣🏾‍♂️","🚣🏿‍♂️"]},"🇻🇳":{codepoints:"1f1fb-1f1f3",version:"2.0",sheetX:4,sheetY:51,keywords:["vietnam flag","flag vn","flag: vietnam","vn","flag"],variations:[]},"🇻🇺":{codepoints:"1f1fb-1f1fa",version:"2.0",sheetX:4,sheetY:52,keywords:["vanuatu flag","flag vu","flag: vanuatu","vu","flag"],variations:[]},"🚣🏻‍♀️":{codepoints:"1f6a3-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:34,sheetY:35},"🚣🏼‍♀️":{codepoints:"1f6a3-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:34,sheetY:36},"🚣🏽‍♀️":{codepoints:"1f6a3-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:34,sheetY:37},"🚣🏾‍♀️":{codepoints:"1f6a3-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:34,sheetY:38},"🚣🏿‍♀️":{codepoints:"1f6a3-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:34,sheetY:39},"🚣‍♀️":{codepoints:"1f6a3-200d-2640-fe0f",version:"4.0",sheetX:34,sheetY:34,keywords:["woman rowing boat","boat","rowboat","woman"],variations:["🚣🏻‍♀️","🚣🏼‍♀️","🚣🏽‍♀️","🚣🏾‍♀️","🚣🏿‍♀️"]},"🚣‍♀":{codepoints:"1f6a3-200d-2640-fe0f",version:"4.0",sheetX:34,sheetY:34,keywords:["woman rowing boat","boat","rowboat","woman"],variations:["🚣🏻‍♀️","🚣🏼‍♀️","🚣🏽‍♀️","🚣🏾‍♀️","🚣🏿‍♀️"]},"🏊🏻":{codepoints:"1f3ca-1f3fb",version:"2.0",sheetX:9,sheetY:48},"🏊🏼":{codepoints:"1f3ca-1f3fc",version:"2.0",sheetX:9,sheetY:49},"🏊🏽":{codepoints:"1f3ca-1f3fd",version:"2.0",sheetX:9,sheetY:50},"🏊🏾":{codepoints:"1f3ca-1f3fe",version:"2.0",sheetX:9,sheetY:51},"🏊🏿":{codepoints:"1f3ca-1f3ff",version:"2.0",sheetX:9,sheetY:52},"🏊":{codepoints:"1f3ca",version:"2.0",sheetX:9,sheetY:47,keywords:["swimmer","person swimming","swim"],variations:["🏊🏻","🏊🏼","🏊🏽","🏊🏾","🏊🏿"]},"🇼🇫":{codepoints:"1f1fc-1f1eb",version:"2.0",sheetX:4,sheetY:53,keywords:["wallis & futuna flag","flag wf","flag: wallis & futuna","wf","flag"],variations:[]},"🏊🏻‍♂️":{codepoints:"1f3ca-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:42},"🏊🏼‍♂️":{codepoints:"1f3ca-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:43},"🏊🏽‍♂️":{codepoints:"1f3ca-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:44},"🏊🏾‍♂️":{codepoints:"1f3ca-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:45},"🏊🏿‍♂️":{codepoints:"1f3ca-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:46},"🏊‍♂️":{codepoints:"1f3ca-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:41,keywords:["man swimming","man","swim"],variations:["🏊🏻‍♂️","🏊🏼‍♂️","🏊🏽‍♂️","🏊🏾‍♂️","🏊🏿‍♂️"]},"🏊‍♂":{codepoints:"1f3ca-200d-2642-fe0f",version:"4.0",sheetX:9,sheetY:41,keywords:["man swimming","man","swim"],variations:["🏊🏻‍♂️","🏊🏼‍♂️","🏊🏽‍♂️","🏊🏾‍♂️","🏊🏿‍♂️"]},"🇼🇸":{codepoints:"1f1fc-1f1f8",version:"2.0",sheetX:4,sheetY:54,keywords:["samoa flag","flag ws","flag: samoa","ws","flag"],variations:[]},"🏊🏻‍♀️":{codepoints:"1f3ca-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:36},"🏊🏼‍♀️":{codepoints:"1f3ca-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:37},"🏊🏽‍♀️":{codepoints:"1f3ca-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:38},"🏊🏾‍♀️":{codepoints:"1f3ca-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:39},"🏊🏿‍♀️":{codepoints:"1f3ca-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:40},"🏊‍♀️":{codepoints:"1f3ca-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:35,keywords:["woman swimming","swim","woman"],variations:["🏊🏻‍♀️","🏊🏼‍♀️","🏊🏽‍♀️","🏊🏾‍♀️","🏊🏿‍♀️"]},"🏊‍♀":{codepoints:"1f3ca-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:35,keywords:["woman swimming","swim","woman"],variations:["🏊🏻‍♀️","🏊🏼‍♀️","🏊🏽‍♀️","🏊🏾‍♀️","🏊🏿‍♀️"]},"🇽🇰":{codepoints:"1f1fd-1f1f0",version:"2.0",sheetX:4,sheetY:55,keywords:["kosovo flag","flag xk","flag: kosovo","xk","flag"],variations:[]},"⛹🏻":{codepoints:"26f9-1f3fb",version:"2.0",sheetX:54,sheetY:32},"⛹🏼":{codepoints:"26f9-1f3fc",version:"2.0",sheetX:54,sheetY:33},"⛹🏽":{codepoints:"26f9-1f3fd",version:"2.0",sheetX:54,sheetY:34},"⛹🏾":{codepoints:"26f9-1f3fe",version:"2.0",sheetX:54,sheetY:35},"⛹🏿":{codepoints:"26f9-1f3ff",version:"2.0",sheetX:54,sheetY:36},"⛹️":{codepoints:"26f9-fe0f",version:"2.0",sheetX:54,sheetY:31,keywords:["person with ball","person bouncing ball","ball"],variations:["⛹🏻","⛹🏼","⛹🏽","⛹🏾","⛹🏿"]},"⛹":{codepoints:"26f9-fe0f",version:"2.0",sheetX:54,sheetY:31,keywords:["person with ball","person bouncing ball","ball"],variations:["⛹🏻","⛹🏼","⛹🏽","⛹🏾","⛹🏿"]},"🇾🇪":{codepoints:"1f1fe-1f1ea",version:"2.0",sheetX:4,sheetY:56,keywords:["yemen flag","flag ye","flag: yemen","ye","flag"],variations:[]},"⛹🏻‍♂️":{codepoints:"26f9-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:54,sheetY:26},"⛹🏼‍♂️":{codepoints:"26f9-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:54,sheetY:27},"⛹🏽‍♂️":{codepoints:"26f9-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:54,sheetY:28},"⛹🏾‍♂️":{codepoints:"26f9-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:54,sheetY:29},"⛹🏿‍♂️":{codepoints:"26f9-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:54,sheetY:30},"⛹️‍♂️":{codepoints:"26f9-fe0f-200d-2642-fe0f",version:"4.0",sheetX:54,sheetY:25,keywords:["man bouncing ball","ball","man"],variations:["⛹🏻‍♂️","⛹🏼‍♂️","⛹🏽‍♂️","⛹🏾‍♂️","⛹🏿‍♂️"]},"🇾🇹":{codepoints:"1f1fe-1f1f9",version:"2.0",sheetX:5,sheetY:0,keywords:["mayotte flag","flag yt","flag: mayotte","yt","flag"],variations:[]},"⛹🏻‍♀️":{codepoints:"26f9-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:54,sheetY:20},"⛹🏼‍♀️":{codepoints:"26f9-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:54,sheetY:21},"⛹🏽‍♀️":{codepoints:"26f9-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:54,sheetY:22},"⛹🏾‍♀️":{codepoints:"26f9-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:54,sheetY:23},"⛹🏿‍♀️":{codepoints:"26f9-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:54,sheetY:24},"⛹️‍♀️":{codepoints:"26f9-fe0f-200d-2640-fe0f",version:"4.0",sheetX:54,sheetY:19,keywords:["woman bouncing ball","ball","woman"],variations:["⛹🏻‍♀️","⛹🏼‍♀️","⛹🏽‍♀️","⛹🏾‍♀️","⛹🏿‍♀️"]},"🇿🇦":{codepoints:"1f1ff-1f1e6",version:"2.0",sheetX:5,sheetY:1,keywords:["south africa flag","flag za","flag: south africa","za","flag"],variations:[]},"🇿🇲":{codepoints:"1f1ff-1f1f2",version:"2.0",sheetX:5,sheetY:2,keywords:["zambia flag","flag zm","flag: zambia","zm","flag"],variations:[]},"🏋🏻":{codepoints:"1f3cb-1f3fb",version:"2.0",sheetX:10,sheetY:9},"🏋🏼":{codepoints:"1f3cb-1f3fc",version:"2.0",sheetX:10,sheetY:10},"🏋🏽":{codepoints:"1f3cb-1f3fd",version:"2.0",sheetX:10,sheetY:11},"🏋🏾":{codepoints:"1f3cb-1f3fe",version:"2.0",sheetX:10,sheetY:12},"🏋🏿":{codepoints:"1f3cb-1f3ff",version:"2.0",sheetX:10,sheetY:13},"🏋️":{codepoints:"1f3cb-fe0f",version:"2.0",sheetX:10,sheetY:8,keywords:["weight lifter","person lifting weights","lifter","weight"],variations:["🏋🏻","🏋🏼","🏋🏽","🏋🏾","🏋🏿"]},"🏋":{codepoints:"1f3cb-fe0f",version:"2.0",sheetX:10,sheetY:8,keywords:["weight lifter","person lifting weights","lifter","weight"],variations:["🏋🏻","🏋🏼","🏋🏽","🏋🏾","🏋🏿"]},"🏋🏻‍♂️":{codepoints:"1f3cb-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:10,sheetY:3},"🏋🏼‍♂️":{codepoints:"1f3cb-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:10,sheetY:4},"🏋🏽‍♂️":{codepoints:"1f3cb-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:10,sheetY:5},"🏋🏾‍♂️":{codepoints:"1f3cb-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:10,sheetY:6},"🏋🏿‍♂️":{codepoints:"1f3cb-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:10,sheetY:7},"🏋️‍♂️":{codepoints:"1f3cb-fe0f-200d-2642-fe0f",version:"4.0",sheetX:10,sheetY:2,keywords:["man lifting weights","man","weight lifter"],variations:["🏋🏻‍♂️","🏋🏼‍♂️","🏋🏽‍♂️","🏋🏾‍♂️","🏋🏿‍♂️"]},"🇿🇼":{codepoints:"1f1ff-1f1fc",version:"2.0",sheetX:5,sheetY:3,keywords:["zimbabwe flag","flag zw","flag: zimbabwe","zw","flag"],variations:[]},"🏋🏻‍♀️":{codepoints:"1f3cb-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:54},"🏋🏼‍♀️":{codepoints:"1f3cb-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:55},"🏋🏽‍♀️":{codepoints:"1f3cb-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:56},"🏋🏾‍♀️":{codepoints:"1f3cb-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:10,sheetY:0},"🏋🏿‍♀️":{codepoints:"1f3cb-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:10,sheetY:1},"🏋️‍♀️":{codepoints:"1f3cb-fe0f-200d-2640-fe0f",version:"4.0",sheetX:9,sheetY:53,keywords:["woman lifting weights","weight lifter","woman"],variations:["🏋🏻‍♀️","🏋🏼‍♀️","🏋🏽‍♀️","🏋🏾‍♀️","🏋🏿‍♀️"]},"🏴󠁧󠁢󠁥󠁮󠁧󠁿":{codepoints:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",version:"5.0",sheetX:11,sheetY:14,keywords:["england flag","flag england","flag: england","flag","gbeng"],variations:[]},"🚴🏻":{codepoints:"1f6b4-1f3fb",version:"2.0",sheetX:35,sheetY:24},"🚴🏼":{codepoints:"1f6b4-1f3fc",version:"2.0",sheetX:35,sheetY:25},"🚴🏽":{codepoints:"1f6b4-1f3fd",version:"2.0",sheetX:35,sheetY:26},"🚴🏾":{codepoints:"1f6b4-1f3fe",version:"2.0",sheetX:35,sheetY:27},"🚴🏿":{codepoints:"1f6b4-1f3ff",version:"2.0",sheetX:35,sheetY:28},"🚴":{codepoints:"1f6b4",version:"2.0",sheetX:35,sheetY:23,keywords:["bicyclist","person biking","bicycle","biking","cyclist"],variations:["🚴🏻","🚴🏼","🚴🏽","🚴🏾","🚴🏿"]},"🏴󠁧󠁢󠁳󠁣󠁴󠁿":{codepoints:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",version:"5.0",sheetX:11,sheetY:15,keywords:["scotland flag","flag scotland","flag: scotland","flag","gbsct"],variations:[]},"🏴󠁧󠁢󠁷󠁬󠁳󠁿":{codepoints:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",version:"5.0",sheetX:11,sheetY:16,keywords:["wales flag","flag wales","flag: wales","flag","gbwls"],variations:[]},"🚴🏻‍♂️":{codepoints:"1f6b4-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:18},"🚴🏼‍♂️":{codepoints:"1f6b4-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:19},"🚴🏽‍♂️":{codepoints:"1f6b4-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:20},"🚴🏾‍♂️":{codepoints:"1f6b4-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:21},"🚴🏿‍♂️":{codepoints:"1f6b4-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:22},"🚴‍♂️":{codepoints:"1f6b4-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:17,keywords:["man biking","bicycle","biking","cyclist","man"],variations:["🚴🏻‍♂️","🚴🏼‍♂️","🚴🏽‍♂️","🚴🏾‍♂️","🚴🏿‍♂️"]},"🚴‍♂":{codepoints:"1f6b4-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:17,keywords:["man biking","bicycle","biking","cyclist","man"],variations:["🚴🏻‍♂️","🚴🏼‍♂️","🚴🏽‍♂️","🚴🏾‍♂️","🚴🏿‍♂️"]},"🚴🏻‍♀️":{codepoints:"1f6b4-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:12},"🚴🏼‍♀️":{codepoints:"1f6b4-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:13},"🚴🏽‍♀️":{codepoints:"1f6b4-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:14},"🚴🏾‍♀️":{codepoints:"1f6b4-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:15},"🚴🏿‍♀️":{codepoints:"1f6b4-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:16},"🚴‍♀️":{codepoints:"1f6b4-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:11,keywords:["woman biking","bicycle","biking","cyclist","woman"],variations:["🚴🏻‍♀️","🚴🏼‍♀️","🚴🏽‍♀️","🚴🏾‍♀️","🚴🏿‍♀️"]},"🚴‍♀":{codepoints:"1f6b4-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:11,keywords:["woman biking","bicycle","biking","cyclist","woman"],variations:["🚴🏻‍♀️","🚴🏼‍♀️","🚴🏽‍♀️","🚴🏾‍♀️","🚴🏿‍♀️"]},"🚵🏻":{codepoints:"1f6b5-1f3fb",version:"2.0",sheetX:35,sheetY:42},"🚵🏼":{codepoints:"1f6b5-1f3fc",version:"2.0",sheetX:35,sheetY:43},"🚵🏽":{codepoints:"1f6b5-1f3fd",version:"2.0",sheetX:35,sheetY:44},"🚵🏾":{codepoints:"1f6b5-1f3fe",version:"2.0",sheetX:35,sheetY:45},"🚵🏿":{codepoints:"1f6b5-1f3ff",version:"2.0",sheetX:35,sheetY:46},"🚵":{codepoints:"1f6b5",version:"2.0",sheetX:35,sheetY:41,keywords:["mountain bicyclist","person mountain biking","bicycle","bicyclist","bike","cyclist","mountain"],variations:["🚵🏻","🚵🏼","🚵🏽","🚵🏾","🚵🏿"]},"🚵🏻‍♂️":{codepoints:"1f6b5-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:36},"🚵🏼‍♂️":{codepoints:"1f6b5-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:37},"🚵🏽‍♂️":{codepoints:"1f6b5-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:38},"🚵🏾‍♂️":{codepoints:"1f6b5-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:39},"🚵🏿‍♂️":{codepoints:"1f6b5-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:40},"🚵‍♂️":{codepoints:"1f6b5-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:35,keywords:["man mountain biking","bicycle","bike","cyclist","man","mountain"],variations:["🚵🏻‍♂️","🚵🏼‍♂️","🚵🏽‍♂️","🚵🏾‍♂️","🚵🏿‍♂️"]},"🚵‍♂":{codepoints:"1f6b5-200d-2642-fe0f",version:"4.0",sheetX:35,sheetY:35,keywords:["man mountain biking","bicycle","bike","cyclist","man","mountain"],variations:["🚵🏻‍♂️","🚵🏼‍♂️","🚵🏽‍♂️","🚵🏾‍♂️","🚵🏿‍♂️"]},"🚵🏻‍♀️":{codepoints:"1f6b5-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:30},"🚵🏼‍♀️":{codepoints:"1f6b5-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:31},"🚵🏽‍♀️":{codepoints:"1f6b5-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:32},"🚵🏾‍♀️":{codepoints:"1f6b5-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:33},"🚵🏿‍♀️":{codepoints:"1f6b5-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:34},"🚵‍♀️":{codepoints:"1f6b5-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:29,keywords:["woman mountain biking","bicycle","bike","biking","cyclist","mountain","woman"],variations:["🚵🏻‍♀️","🚵🏼‍♀️","🚵🏽‍♀️","🚵🏾‍♀️","🚵🏿‍♀️"]},"🚵‍♀":{codepoints:"1f6b5-200d-2640-fe0f",version:"4.0",sheetX:35,sheetY:29,keywords:["woman mountain biking","bicycle","bike","biking","cyclist","mountain","woman"],variations:["🚵🏻‍♀️","🚵🏼‍♀️","🚵🏽‍♀️","🚵🏾‍♀️","🚵🏿‍♀️"]},"🤸🏻":{codepoints:"1f938-1f3fb",version:"4.0",sheetX:40,sheetY:9},"🤸🏼":{codepoints:"1f938-1f3fc",version:"4.0",sheetX:40,sheetY:10},"🤸🏽":{codepoints:"1f938-1f3fd",version:"4.0",sheetX:40,sheetY:11},"🤸🏾":{codepoints:"1f938-1f3fe",version:"4.0",sheetX:40,sheetY:12},"🤸🏿":{codepoints:"1f938-1f3ff",version:"4.0",sheetX:40,sheetY:13},"🤸":{codepoints:"1f938",version:"4.0",sheetX:40,sheetY:8,keywords:["person doing cartwheel","person cartwheeling","cartwheel","gymnastics"],variations:["🤸🏻","🤸🏼","🤸🏽","🤸🏾","🤸🏿"]},"🤸🏻‍♂️":{codepoints:"1f938-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:3},"🤸🏼‍♂️":{codepoints:"1f938-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:4},"🤸🏽‍♂️":{codepoints:"1f938-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:5},"🤸🏾‍♂️":{codepoints:"1f938-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:6},"🤸🏿‍♂️":{codepoints:"1f938-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:7},"🤸‍♂️":{codepoints:"1f938-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:2,keywords:["man cartwheeling","cartwheel","gymnastics","man"],variations:["🤸🏻‍♂️","🤸🏼‍♂️","🤸🏽‍♂️","🤸🏾‍♂️","🤸🏿‍♂️"]},"🤸‍♂":{codepoints:"1f938-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:2,keywords:["man cartwheeling","cartwheel","gymnastics","man"],variations:["🤸🏻‍♂️","🤸🏼‍♂️","🤸🏽‍♂️","🤸🏾‍♂️","🤸🏿‍♂️"]},"🤸🏻‍♀️":{codepoints:"1f938-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:39,sheetY:54},"🤸🏼‍♀️":{codepoints:"1f938-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:39,sheetY:55},"🤸🏽‍♀️":{codepoints:"1f938-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:39,sheetY:56},"🤸🏾‍♀️":{codepoints:"1f938-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:0},"🤸🏿‍♀️":{codepoints:"1f938-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:1},"🤸‍♀️":{codepoints:"1f938-200d-2640-fe0f",version:"4.0",sheetX:39,sheetY:53,keywords:["woman cartwheeling","cartwheel","gymnastics","woman"],variations:["🤸🏻‍♀️","🤸🏼‍♀️","🤸🏽‍♀️","🤸🏾‍♀️","🤸🏿‍♀️"]},"🤸‍♀":{codepoints:"1f938-200d-2640-fe0f",version:"4.0",sheetX:39,sheetY:53,keywords:["woman cartwheeling","cartwheel","gymnastics","woman"],variations:["🤸🏻‍♀️","🤸🏼‍♀️","🤸🏽‍♀️","🤸🏾‍♀️","🤸🏿‍♀️"]},"🤼":{codepoints:"1f93c",version:"4.0",sheetX:40,sheetY:35,keywords:["wrestlers","people wrestling","wrestle","wrestler"],variations:[]},"🤼‍♂️":{codepoints:"1f93c-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:34,keywords:["man wrestling","men wrestling","men","wrestle"],variations:[]},"🤼‍♂":{codepoints:"1f93c-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:34,keywords:["man wrestling","men wrestling","men","wrestle"],variations:[]},"🤼‍♀️":{codepoints:"1f93c-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:33,keywords:["woman wrestling","women wrestling","women","wrestle"],variations:[]},"🤼‍♀":{codepoints:"1f93c-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:33,keywords:["woman wrestling","women wrestling","women","wrestle"],variations:[]},"🤽🏻":{codepoints:"1f93d-1f3fb",version:"4.0",sheetX:40,sheetY:49},"🤽🏼":{codepoints:"1f93d-1f3fc",version:"4.0",sheetX:40,sheetY:50},"🤽🏽":{codepoints:"1f93d-1f3fd",version:"4.0",sheetX:40,sheetY:51},"🤽🏾":{codepoints:"1f93d-1f3fe",version:"4.0",sheetX:40,sheetY:52},"🤽🏿":{codepoints:"1f93d-1f3ff",version:"4.0",sheetX:40,sheetY:53},"🤽":{codepoints:"1f93d",version:"4.0",sheetX:40,sheetY:48,keywords:["water polo","person playing water polo","polo","water"],variations:["🤽🏻","🤽🏼","🤽🏽","🤽🏾","🤽🏿"]},"🤽🏻‍♂️":{codepoints:"1f93d-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:43},"🤽🏼‍♂️":{codepoints:"1f93d-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:44},"🤽🏽‍♂️":{codepoints:"1f93d-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:45},"🤽🏾‍♂️":{codepoints:"1f93d-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:46},"🤽🏿‍♂️":{codepoints:"1f93d-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:47},"🤽‍♂️":{codepoints:"1f93d-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:42,keywords:["man playing water polo","man","water polo"],variations:["🤽🏻‍♂️","🤽🏼‍♂️","🤽🏽‍♂️","🤽🏾‍♂️","🤽🏿‍♂️"]},"🤽‍♂":{codepoints:"1f93d-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:42,keywords:["man playing water polo","man","water polo"],variations:["🤽🏻‍♂️","🤽🏼‍♂️","🤽🏽‍♂️","🤽🏾‍♂️","🤽🏿‍♂️"]},"🤽🏻‍♀️":{codepoints:"1f93d-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:37},"🤽🏼‍♀️":{codepoints:"1f93d-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:38},"🤽🏽‍♀️":{codepoints:"1f93d-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:39},"🤽🏾‍♀️":{codepoints:"1f93d-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:40},"🤽🏿‍♀️":{codepoints:"1f93d-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:41},"🤽‍♀️":{codepoints:"1f93d-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:36,keywords:["woman playing water polo","water polo","woman"],variations:["🤽🏻‍♀️","🤽🏼‍♀️","🤽🏽‍♀️","🤽🏾‍♀️","🤽🏿‍♀️"]},"🤽‍♀":{codepoints:"1f93d-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:36,keywords:["woman playing water polo","water polo","woman"],variations:["🤽🏻‍♀️","🤽🏼‍♀️","🤽🏽‍♀️","🤽🏾‍♀️","🤽🏿‍♀️"]},"🤾🏻":{codepoints:"1f93e-1f3fb",version:"4.0",sheetX:41,sheetY:10},"🤾🏼":{codepoints:"1f93e-1f3fc",version:"4.0",sheetX:41,sheetY:11},"🤾🏽":{codepoints:"1f93e-1f3fd",version:"4.0",sheetX:41,sheetY:12},"🤾🏾":{codepoints:"1f93e-1f3fe",version:"4.0",sheetX:41,sheetY:13},"🤾🏿":{codepoints:"1f93e-1f3ff",version:"4.0",sheetX:41,sheetY:14},"🤾":{codepoints:"1f93e",version:"4.0",sheetX:41,sheetY:9,keywords:["handball","person playing handball","ball"],variations:["🤾🏻","🤾🏼","🤾🏽","🤾🏾","🤾🏿"]},"🤾🏻‍♂️":{codepoints:"1f93e-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:41,sheetY:4},"🤾🏼‍♂️":{codepoints:"1f93e-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:41,sheetY:5},"🤾🏽‍♂️":{codepoints:"1f93e-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:41,sheetY:6},"🤾🏾‍♂️":{codepoints:"1f93e-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:41,sheetY:7},"🤾🏿‍♂️":{codepoints:"1f93e-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:41,sheetY:8},"🤾‍♂️":{codepoints:"1f93e-200d-2642-fe0f",version:"4.0",sheetX:41,sheetY:3,keywords:["man playing handball","handball","man"],variations:["🤾🏻‍♂️","🤾🏼‍♂️","🤾🏽‍♂️","🤾🏾‍♂️","🤾🏿‍♂️"]},"🤾‍♂":{codepoints:"1f93e-200d-2642-fe0f",version:"4.0",sheetX:41,sheetY:3,keywords:["man playing handball","handball","man"],variations:["🤾🏻‍♂️","🤾🏼‍♂️","🤾🏽‍♂️","🤾🏾‍♂️","🤾🏿‍♂️"]},"🤾🏻‍♀️":{codepoints:"1f93e-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:55},"🤾🏼‍♀️":{codepoints:"1f93e-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:56},"🤾🏽‍♀️":{codepoints:"1f93e-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:41,sheetY:0},"🤾🏾‍♀️":{codepoints:"1f93e-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:41,sheetY:1},"🤾🏿‍♀️":{codepoints:"1f93e-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:41,sheetY:2},"🤾‍♀️":{codepoints:"1f93e-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:54,keywords:["woman playing handball","handball","woman"],variations:["🤾🏻‍♀️","🤾🏼‍♀️","🤾🏽‍♀️","🤾🏾‍♀️","🤾🏿‍♀️"]},"🤾‍♀":{codepoints:"1f93e-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:54,keywords:["woman playing handball","handball","woman"],variations:["🤾🏻‍♀️","🤾🏼‍♀️","🤾🏽‍♀️","🤾🏾‍♀️","🤾🏿‍♀️"]},"🤹🏻":{codepoints:"1f939-1f3fb",version:"4.0",sheetX:40,sheetY:27},"🤹🏼":{codepoints:"1f939-1f3fc",version:"4.0",sheetX:40,sheetY:28},"🤹🏽":{codepoints:"1f939-1f3fd",version:"4.0",sheetX:40,sheetY:29},"🤹🏾":{codepoints:"1f939-1f3fe",version:"4.0",sheetX:40,sheetY:30},"🤹🏿":{codepoints:"1f939-1f3ff",version:"4.0",sheetX:40,sheetY:31},"🤹":{codepoints:"1f939",version:"4.0",sheetX:40,sheetY:26,keywords:["juggling","person juggling","balance","juggle","multitask","skill"],variations:["🤹🏻","🤹🏼","🤹🏽","🤹🏾","🤹🏿"]},"🤹🏻‍♂️":{codepoints:"1f939-1f3fb-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:21},"🤹🏼‍♂️":{codepoints:"1f939-1f3fc-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:22},"🤹🏽‍♂️":{codepoints:"1f939-1f3fd-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:23},"🤹🏾‍♂️":{codepoints:"1f939-1f3fe-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:24},"🤹🏿‍♂️":{codepoints:"1f939-1f3ff-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:25},"🤹‍♂️":{codepoints:"1f939-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:20,keywords:["man juggling","juggling","man","multitask"],variations:["🤹🏻‍♂️","🤹🏼‍♂️","🤹🏽‍♂️","🤹🏾‍♂️","🤹🏿‍♂️"]},"🤹‍♂":{codepoints:"1f939-200d-2642-fe0f",version:"4.0",sheetX:40,sheetY:20,keywords:["man juggling","juggling","man","multitask"],variations:["🤹🏻‍♂️","🤹🏼‍♂️","🤹🏽‍♂️","🤹🏾‍♂️","🤹🏿‍♂️"]},"🤹🏻‍♀️":{codepoints:"1f939-1f3fb-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:15},"🤹🏼‍♀️":{codepoints:"1f939-1f3fc-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:16},"🤹🏽‍♀️":{codepoints:"1f939-1f3fd-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:17},"🤹🏾‍♀️":{codepoints:"1f939-1f3fe-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:18},"🤹🏿‍♀️":{codepoints:"1f939-1f3ff-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:19},"🤹‍♀️":{codepoints:"1f939-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:14,keywords:["woman juggling","juggling","multitask","woman"],variations:["🤹🏻‍♀️","🤹🏼‍♀️","🤹🏽‍♀️","🤹🏾‍♀️","🤹🏿‍♀️"]},"🤹‍♀":{codepoints:"1f939-200d-2640-fe0f",version:"4.0",sheetX:40,sheetY:14,keywords:["woman juggling","juggling","multitask","woman"],variations:["🤹🏻‍♀️","🤹🏼‍♀️","🤹🏽‍♀️","🤹🏾‍♀️","🤹🏿‍♀️"]},"🧘🏻":{codepoints:"1f9d8-1f3fb",version:"5.0",sheetX:49,sheetY:32},"🧘🏼":{codepoints:"1f9d8-1f3fc",version:"5.0",sheetX:49,sheetY:33},"🧘🏽":{codepoints:"1f9d8-1f3fd",version:"5.0",sheetX:49,sheetY:34},"🧘🏾":{codepoints:"1f9d8-1f3fe",version:"5.0",sheetX:49,sheetY:35},"🧘🏿":{codepoints:"1f9d8-1f3ff",version:"5.0",sheetX:49,sheetY:36},"🧘":{codepoints:"1f9d8",version:"5.0",sheetX:49,sheetY:31,keywords:["person in lotus position","meditation","yoga"],variations:["🧘🏻","🧘🏼","🧘🏽","🧘🏾","🧘🏿"]},"🧘🏻‍♂️":{codepoints:"1f9d8-1f3fb-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:26},"🧘🏼‍♂️":{codepoints:"1f9d8-1f3fc-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:27},"🧘🏽‍♂️":{codepoints:"1f9d8-1f3fd-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:28},"🧘🏾‍♂️":{codepoints:"1f9d8-1f3fe-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:29},"🧘🏿‍♂️":{codepoints:"1f9d8-1f3ff-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:30},"🧘‍♂️":{codepoints:"1f9d8-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:25,keywords:["man in lotus position","meditation","yoga"],variations:["🧘🏻‍♂️","🧘🏼‍♂️","🧘🏽‍♂️","🧘🏾‍♂️","🧘🏿‍♂️"]},"🧘‍♂":{codepoints:"1f9d8-200d-2642-fe0f",version:"5.0",sheetX:49,sheetY:25,keywords:["man in lotus position","meditation","yoga"],variations:["🧘🏻‍♂️","🧘🏼‍♂️","🧘🏽‍♂️","🧘🏾‍♂️","🧘🏿‍♂️"]},"🧘🏻‍♀️":{codepoints:"1f9d8-1f3fb-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:20},"🧘🏼‍♀️":{codepoints:"1f9d8-1f3fc-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:21},"🧘🏽‍♀️":{codepoints:"1f9d8-1f3fd-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:22},"🧘🏾‍♀️":{codepoints:"1f9d8-1f3fe-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:23},"🧘🏿‍♀️":{codepoints:"1f9d8-1f3ff-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:24},"🧘‍♀️":{codepoints:"1f9d8-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:19,keywords:["woman in lotus position","meditation","yoga"],variations:["🧘🏻‍♀️","🧘🏼‍♀️","🧘🏽‍♀️","🧘🏾‍♀️","🧘🏿‍♀️"]},"🧘‍♀":{codepoints:"1f9d8-200d-2640-fe0f",version:"5.0",sheetX:49,sheetY:19,keywords:["woman in lotus position","meditation","yoga"],variations:["🧘🏻‍♀️","🧘🏼‍♀️","🧘🏽‍♀️","🧘🏾‍♀️","🧘🏿‍♀️"]},"🛀🏻":{codepoints:"1f6c0-1f3fb",version:"2.0",sheetX:36,sheetY:18},"🛀🏼":{codepoints:"1f6c0-1f3fc",version:"2.0",sheetX:36,sheetY:19},"🛀🏽":{codepoints:"1f6c0-1f3fd",version:"2.0",sheetX:36,sheetY:20},"🛀🏾":{codepoints:"1f6c0-1f3fe",version:"2.0",sheetX:36,sheetY:21},"🛀🏿":{codepoints:"1f6c0-1f3ff",version:"2.0",sheetX:36,sheetY:22},"🛀":{codepoints:"1f6c0",version:"2.0",sheetX:36,sheetY:17,keywords:["bath","person taking bath","bathtub"],variations:["🛀🏻","🛀🏼","🛀🏽","🛀🏾","🛀🏿"]},"🛌🏻":{codepoints:"1f6cc-1f3fb",version:"4.0",sheetX:36,sheetY:30},"🛌🏼":{codepoints:"1f6cc-1f3fc",version:"4.0",sheetX:36,sheetY:31},"🛌🏽":{codepoints:"1f6cc-1f3fd",version:"4.0",sheetX:36,sheetY:32},"🛌🏾":{codepoints:"1f6cc-1f3fe",version:"4.0",sheetX:36,sheetY:33},"🛌🏿":{codepoints:"1f6cc-1f3ff",version:"4.0",sheetX:36,sheetY:34},"🛌":{codepoints:"1f6cc",version:"2.0",sheetX:36,sheetY:29,keywords:["sleeping accommodation","person in bed","hotel","sleep"],variations:["🛌🏻","🛌🏼","🛌🏽","🛌🏾","🛌🏿"]},"👭🏻":{codepoints:"1f46d-1f3fb",version:"12.1",sheetX:21,sheetY:12},"👭🏼":{codepoints:"1f46d-1f3fc",version:"12.1",sheetX:21,sheetY:13},"👭🏽":{codepoints:"1f46d-1f3fd",version:"12.1",sheetX:21,sheetY:14},"👭🏾":{codepoints:"1f46d-1f3fe",version:"12.1",sheetX:21,sheetY:15},"👭🏿":{codepoints:"1f46d-1f3ff",version:"12.1",sheetX:21,sheetY:16},"👩🏻‍🤝‍👩🏼":{codepoints:"1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc",version:"12.1",sheetX:21,sheetY:17},"👩🏻‍🤝‍👩🏽":{codepoints:"1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd",version:"12.1",sheetX:21,sheetY:18},"👩🏻‍🤝‍👩🏾":{codepoints:"1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe",version:"12.1",sheetX:21,sheetY:19},"👩🏻‍🤝‍👩🏿":{codepoints:"1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff",version:"12.1",sheetX:21,sheetY:20},"👩🏼‍🤝‍👩🏻":{codepoints:"1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb",version:"12.1",sheetX:21,sheetY:21},"👩🏼‍🤝‍👩🏽":{codepoints:"1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd",version:"12.1",sheetX:21,sheetY:22},"👩🏼‍🤝‍👩🏾":{codepoints:"1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe",version:"12.1",sheetX:21,sheetY:23},"👩🏼‍🤝‍👩🏿":{codepoints:"1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff",version:"12.1",sheetX:21,sheetY:24},"👩🏽‍🤝‍👩🏻":{codepoints:"1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb",version:"12.1",sheetX:21,sheetY:25},"👩🏽‍🤝‍👩🏼":{codepoints:"1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc",version:"12.1",sheetX:21,sheetY:26},"👩🏽‍🤝‍👩🏾":{codepoints:"1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe",version:"12.1",sheetX:21,sheetY:27},"👩🏽‍🤝‍👩🏿":{codepoints:"1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff",version:"12.1",sheetX:21,sheetY:28},"👩🏾‍🤝‍👩🏻":{codepoints:"1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb",version:"12.1",sheetX:21,sheetY:29},"👩🏾‍🤝‍👩🏼":{codepoints:"1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc",version:"12.1",sheetX:21,sheetY:30},"👩🏾‍🤝‍👩🏽":{codepoints:"1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd",version:"12.1",sheetX:21,sheetY:31},"👩🏾‍🤝‍👩🏿":{codepoints:"1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff",version:"12.1",sheetX:21,sheetY:32},"👩🏿‍🤝‍👩🏻":{codepoints:"1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb",version:"12.1",sheetX:21,sheetY:33},"👩🏿‍🤝‍👩🏼":{codepoints:"1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc",version:"12.1",sheetX:21,sheetY:34},"👩🏿‍🤝‍👩🏽":{codepoints:"1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd",version:"12.1",sheetX:21,sheetY:35},"👩🏿‍🤝‍👩🏾":{codepoints:"1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe",version:"12.1",sheetX:21,sheetY:36},"👭":{codepoints:"1f46d",version:"2.0",sheetX:21,sheetY:11,keywords:["two women holding hands","women holding hands","couple","hand","holding hands","women"],variations:["👭🏻","👭🏼","👭🏽","👭🏾","👭🏿","👩🏻‍🤝‍👩🏼","👩🏻‍🤝‍👩🏽","👩🏻‍🤝‍👩🏾","👩🏻‍🤝‍👩🏿","👩🏼‍🤝‍👩🏻","👩🏼‍🤝‍👩🏽","👩🏼‍🤝‍👩🏾","👩🏼‍🤝‍👩🏿","👩🏽‍🤝‍👩🏻","👩🏽‍🤝‍👩🏼","👩🏽‍🤝‍👩🏾","👩🏽‍🤝‍👩🏿","👩🏾‍🤝‍👩🏻","👩🏾‍🤝‍👩🏼","👩🏾‍🤝‍👩🏽","👩🏾‍🤝‍👩🏿","👩🏿‍🤝‍👩🏻","👩🏿‍🤝‍👩🏼","👩🏿‍🤝‍👩🏽","👩🏿‍🤝‍👩🏾"]},"👫🏻":{codepoints:"1f46b-1f3fb",version:"12.1",sheetX:20,sheetY:17},"👫🏼":{codepoints:"1f46b-1f3fc",version:"12.1",sheetX:20,sheetY:18},"👫🏽":{codepoints:"1f46b-1f3fd",version:"12.1",sheetX:20,sheetY:19},"👫🏾":{codepoints:"1f46b-1f3fe",version:"12.1",sheetX:20,sheetY:20},"👫🏿":{codepoints:"1f46b-1f3ff",version:"12.1",sheetX:20,sheetY:21},"👩🏻‍🤝‍👨🏼":{codepoints:"1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc",version:"12.1",sheetX:20,sheetY:22},"👩🏻‍🤝‍👨🏽":{codepoints:"1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd",version:"12.1",sheetX:20,sheetY:23},"👩🏻‍🤝‍👨🏾":{codepoints:"1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe",version:"12.1",sheetX:20,sheetY:24},"👩🏻‍🤝‍👨🏿":{codepoints:"1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff",version:"12.1",sheetX:20,sheetY:25},"👩🏼‍🤝‍👨🏻":{codepoints:"1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb",version:"12.1",sheetX:20,sheetY:26},"👩🏼‍🤝‍👨🏽":{codepoints:"1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd",version:"12.1",sheetX:20,sheetY:27},"👩🏼‍🤝‍👨🏾":{codepoints:"1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe",version:"12.1",sheetX:20,sheetY:28},"👩🏼‍🤝‍👨🏿":{codepoints:"1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff",version:"12.1",sheetX:20,sheetY:29},"👩🏽‍🤝‍👨🏻":{codepoints:"1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb",version:"12.1",sheetX:20,sheetY:30},"👩🏽‍🤝‍👨🏼":{codepoints:"1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc",version:"12.1",sheetX:20,sheetY:31},"👩🏽‍🤝‍👨🏾":{codepoints:"1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe",version:"12.1",sheetX:20,sheetY:32},"👩🏽‍🤝‍👨🏿":{codepoints:"1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff",version:"12.1",sheetX:20,sheetY:33},"👩🏾‍🤝‍👨🏻":{codepoints:"1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb",version:"12.1",sheetX:20,sheetY:34},"👩🏾‍🤝‍👨🏼":{codepoints:"1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc",version:"12.1",sheetX:20,sheetY:35},"👩🏾‍🤝‍👨🏽":{codepoints:"1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd",version:"12.1",sheetX:20,sheetY:36},"👩🏾‍🤝‍👨🏿":{codepoints:"1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff",version:"12.1",sheetX:20,sheetY:37},"👩🏿‍🤝‍👨🏻":{codepoints:"1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb",version:"12.1",sheetX:20,sheetY:38},"👩🏿‍🤝‍👨🏼":{codepoints:"1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc",version:"12.1",sheetX:20,sheetY:39},"👩🏿‍🤝‍👨🏽":{codepoints:"1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd",version:"12.1",sheetX:20,sheetY:40},"👩🏿‍🤝‍👨🏾":{codepoints:"1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe",version:"12.1",sheetX:20,sheetY:41},"👫":{codepoints:"1f46b",version:"2.0",sheetX:20,sheetY:16,keywords:["man and woman holding hands","couple","woman and man holding hands","hand","hold","holding hands","man","woman"],variations:["👫🏻","👫🏼","👫🏽","👫🏾","👫🏿","👩🏻‍🤝‍👨🏼","👩🏻‍🤝‍👨🏽","👩🏻‍🤝‍👨🏾","👩🏻‍🤝‍👨🏿","👩🏼‍🤝‍👨🏻","👩🏼‍🤝‍👨🏽","👩🏼‍🤝‍👨🏾","👩🏼‍🤝‍👨🏿","👩🏽‍🤝‍👨🏻","👩🏽‍🤝‍👨🏼","👩🏽‍🤝‍👨🏾","👩🏽‍🤝‍👨🏿","👩🏾‍🤝‍👨🏻","👩🏾‍🤝‍👨🏼","👩🏾‍🤝‍👨🏽","👩🏾‍🤝‍👨🏿","👩🏿‍🤝‍👨🏻","👩🏿‍🤝‍👨🏼","👩🏿‍🤝‍👨🏽","👩🏿‍🤝‍👨🏾"]},"👬🏻":{codepoints:"1f46c-1f3fb",version:"12.1",sheetX:20,sheetY:43},"👬🏼":{codepoints:"1f46c-1f3fc",version:"12.1",sheetX:20,sheetY:44},"👬🏽":{codepoints:"1f46c-1f3fd",version:"12.1",sheetX:20,sheetY:45},"👬🏾":{codepoints:"1f46c-1f3fe",version:"12.1",sheetX:20,sheetY:46},"👬🏿":{codepoints:"1f46c-1f3ff",version:"12.1",sheetX:20,sheetY:47},"👨🏻‍🤝‍👨🏼":{codepoints:"1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc",version:"12.1",sheetX:20,sheetY:48},"👨🏻‍🤝‍👨🏽":{codepoints:"1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd",version:"12.1",sheetX:20,sheetY:49},"👨🏻‍🤝‍👨🏾":{codepoints:"1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe",version:"12.1",sheetX:20,sheetY:50},"👨🏻‍🤝‍👨🏿":{codepoints:"1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff",version:"12.1",sheetX:20,sheetY:51},"👨🏼‍🤝‍👨🏻":{codepoints:"1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb",version:"12.1",sheetX:20,sheetY:52},"👨🏼‍🤝‍👨🏽":{codepoints:"1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd",version:"12.1",sheetX:20,sheetY:53},"👨🏼‍🤝‍👨🏾":{codepoints:"1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe",version:"12.1",sheetX:20,sheetY:54},"👨🏼‍🤝‍👨🏿":{codepoints:"1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff",version:"12.1",sheetX:20,sheetY:55},"👨🏽‍🤝‍👨🏻":{codepoints:"1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb",version:"12.1",sheetX:20,sheetY:56},"👨🏽‍🤝‍👨🏼":{codepoints:"1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc",version:"12.1",sheetX:21,sheetY:0},"👨🏽‍🤝‍👨🏾":{codepoints:"1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe",version:"12.1",sheetX:21,sheetY:1},"👨🏽‍🤝‍👨🏿":{codepoints:"1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff",version:"12.1",sheetX:21,sheetY:2},"👨🏾‍🤝‍👨🏻":{codepoints:"1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb",version:"12.1",sheetX:21,sheetY:3},"👨🏾‍🤝‍👨🏼":{codepoints:"1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc",version:"12.1",sheetX:21,sheetY:4},"👨🏾‍🤝‍👨🏽":{codepoints:"1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd",version:"12.1",sheetX:21,sheetY:5},"👨🏾‍🤝‍👨🏿":{codepoints:"1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff",version:"12.1",sheetX:21,sheetY:6},"👨🏿‍🤝‍👨🏻":{codepoints:"1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb",version:"12.1",sheetX:21,sheetY:7},"👨🏿‍🤝‍👨🏼":{codepoints:"1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc",version:"12.1",sheetX:21,sheetY:8},"👨🏿‍🤝‍👨🏽":{codepoints:"1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd",version:"12.1",sheetX:21,sheetY:9},"👨🏿‍🤝‍👨🏾":{codepoints:"1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe",version:"12.1",sheetX:21,sheetY:10},"👬":{codepoints:"1f46c",version:"2.0",sheetX:20,sheetY:42,keywords:["two men holding hands","men holding hands","couple","gemini","holding hands","man","men","twins","zodiac"],variations:["👬🏻","👬🏼","👬🏽","👬🏾","👬🏿","👨🏻‍🤝‍👨🏼","👨🏻‍🤝‍👨🏽","👨🏻‍🤝‍👨🏾","👨🏻‍🤝‍👨🏿","👨🏼‍🤝‍👨🏻","👨🏼‍🤝‍👨🏽","👨🏼‍🤝‍👨🏾","👨🏼‍🤝‍👨🏿","👨🏽‍🤝‍👨🏻","👨🏽‍🤝‍👨🏼","👨🏽‍🤝‍👨🏾","👨🏽‍🤝‍👨🏿","👨🏾‍🤝‍👨🏻","👨🏾‍🤝‍👨🏼","👨🏾‍🤝‍👨🏽","👨🏾‍🤝‍👨🏿","👨🏿‍🤝‍👨🏻","👨🏿‍🤝‍👨🏼","👨🏿‍🤝‍👨🏽","👨🏿‍🤝‍👨🏾"]},"💏":{codepoints:"1f48f",version:"2.0",sheetX:25,sheetY:25,keywords:["kiss","couplekiss","couple"],variations:[]},"👩‍❤️‍💋‍👨":{codepoints:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",version:"2.0",sheetX:20,sheetY:7,keywords:["woman kiss man","kiss: woman, man","couple","kiss","man","woman"],variations:[]},"👩‍❤‍💋‍👨":{codepoints:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",version:"2.0",sheetX:20,sheetY:7,keywords:["woman kiss man","kiss: woman, man","couple","kiss","man","woman"],variations:[]},"👨‍❤️‍💋‍👨":{codepoints:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",version:"2.0",sheetX:17,sheetY:21,keywords:["man kiss man","kiss: man, man","couple","kiss","man"],variations:[]},"👨‍❤‍💋‍👨":{codepoints:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",version:"2.0",sheetX:17,sheetY:21,keywords:["man kiss man","kiss: man, man","couple","kiss","man"],variations:[]},"👩‍❤️‍💋‍👩":{codepoints:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",version:"2.0",sheetX:20,sheetY:8,keywords:["woman kiss woman","kiss: woman, woman","couple","kiss","woman"],variations:[]},"👩‍❤‍💋‍👩":{codepoints:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",version:"2.0",sheetX:20,sheetY:8,keywords:["woman kiss woman","kiss: woman, woman","couple","kiss","woman"],variations:[]},"💑":{codepoints:"1f491",version:"2.0",sheetX:25,sheetY:27,keywords:["couple with heart","couple","love"],variations:[]},"👩‍❤️‍👨":{codepoints:"1f469-200d-2764-fe0f-200d-1f468",version:"2.0",sheetX:20,sheetY:5,keywords:["woman heart man","couple with heart: woman, man","couple","couple with heart","love","man","woman"],variations:[]},"👩‍❤‍👨":{codepoints:"1f469-200d-2764-fe0f-200d-1f468",version:"2.0",sheetX:20,sheetY:5,keywords:["woman heart man","couple with heart: woman, man","couple","couple with heart","love","man","woman"],variations:[]},"👨‍❤️‍👨":{codepoints:"1f468-200d-2764-fe0f-200d-1f468",version:"2.0",sheetX:17,sheetY:20,keywords:["man heart man","couple with heart: man, man","couple","couple with heart","love","man"],variations:[]},"👨‍❤‍👨":{codepoints:"1f468-200d-2764-fe0f-200d-1f468",version:"2.0",sheetX:17,sheetY:20,keywords:["man heart man","couple with heart: man, man","couple","couple with heart","love","man"],variations:[]},"👩‍❤️‍👩":{codepoints:"1f469-200d-2764-fe0f-200d-1f469",version:"2.0",sheetX:20,sheetY:6,keywords:["woman heart woman","couple with heart: woman, woman","couple","couple with heart","love","woman"],variations:[]},"👩‍❤‍👩":{codepoints:"1f469-200d-2764-fe0f-200d-1f469",version:"2.0",sheetX:20,sheetY:6,keywords:["woman heart woman","couple with heart: woman, woman","couple","couple with heart","love","woman"],variations:[]},"👪":{codepoints:"1f46a",version:"2.0",sheetX:20,sheetY:15,keywords:["family","man woman boy"],variations:[]},"👨‍👩‍👦":{codepoints:"1f468-200d-1f469-200d-1f466",version:"2.0",sheetX:15,sheetY:33,keywords:["man woman boy","family","family: man, woman, boy","boy","man","woman"],variations:[]},"👨‍👩‍👧":{codepoints:"1f468-200d-1f469-200d-1f467",version:"2.0",sheetX:15,sheetY:35,keywords:["man woman girl","family: man, woman, girl","family","girl","man","woman"],variations:[]},"👨‍👩‍👧‍👦":{codepoints:"1f468-200d-1f469-200d-1f467-200d-1f466",version:"2.0",sheetX:15,sheetY:36,keywords:["man woman girl boy","family: man, woman, girl, boy","boy","family","girl","man","woman"],variations:[]},"👨‍👩‍👦‍👦":{codepoints:"1f468-200d-1f469-200d-1f466-200d-1f466",version:"2.0",sheetX:15,sheetY:34,keywords:["man woman boy boy","family: man, woman, boy, boy","boy","family","man","woman"],variations:[]},"👨‍👩‍👧‍👧":{codepoints:"1f468-200d-1f469-200d-1f467-200d-1f467",version:"2.0",sheetX:15,sheetY:37,keywords:["man woman girl girl","family: man, woman, girl, girl","family","girl","man","woman"],variations:[]},"👨‍👨‍👦":{codepoints:"1f468-200d-1f468-200d-1f466",version:"2.0",sheetX:15,sheetY:28,keywords:["man man boy","family: man, man, boy","boy","family","man"],variations:[]},"👨‍👨‍👧":{codepoints:"1f468-200d-1f468-200d-1f467",version:"2.0",sheetX:15,sheetY:30,keywords:["man man girl","family: man, man, girl","family","girl","man"],variations:[]},"👨‍👨‍👧‍👦":{codepoints:"1f468-200d-1f468-200d-1f467-200d-1f466",version:"2.0",sheetX:15,sheetY:31,keywords:["man man girl boy","family: man, man, girl, boy","boy","family","girl","man"],variations:[]},"👨‍👨‍👦‍👦":{codepoints:"1f468-200d-1f468-200d-1f466-200d-1f466",version:"2.0",sheetX:15,sheetY:29,keywords:["man man boy boy","family: man, man, boy, boy","boy","family","man"],variations:[]},"👨‍👨‍👧‍👧":{codepoints:"1f468-200d-1f468-200d-1f467-200d-1f467",version:"2.0",sheetX:15,sheetY:32,keywords:["man man girl girl","family: man, man, girl, girl","family","girl","man"],variations:[]},"👩‍👩‍👦":{codepoints:"1f469-200d-1f469-200d-1f466",version:"2.0",sheetX:18,sheetY:18,keywords:["woman woman boy","family: woman, woman, boy","boy","family","woman"],variations:[]},"👩‍👩‍👧":{codepoints:"1f469-200d-1f469-200d-1f467",version:"2.0",sheetX:18,sheetY:20,keywords:["woman woman girl","family: woman, woman, girl","family","girl","woman"],variations:[]},"👩‍👩‍👧‍👦":{codepoints:"1f469-200d-1f469-200d-1f467-200d-1f466",version:"2.0",sheetX:18,sheetY:21,keywords:["woman woman girl boy","family: woman, woman, girl, boy","boy","family","girl","woman"],variations:[]},"👩‍👩‍👦‍👦":{codepoints:"1f469-200d-1f469-200d-1f466-200d-1f466",version:"2.0",sheetX:18,sheetY:19,keywords:["woman woman boy boy","family: woman, woman, boy, boy","boy","family","woman"],variations:[]},"👩‍👩‍👧‍👧":{codepoints:"1f469-200d-1f469-200d-1f467-200d-1f467",version:"2.0",sheetX:18,sheetY:22,keywords:["woman woman girl girl","family: woman, woman, girl, girl","family","girl","woman"],variations:[]},"👨‍👦":{codepoints:"1f468-200d-1f466",version:"4.0",sheetX:15,sheetY:24,keywords:["man boy","family: man, boy","boy","family","man"],variations:[]},"👨‍👦‍👦":{codepoints:"1f468-200d-1f466-200d-1f466",version:"4.0",sheetX:15,sheetY:23,keywords:["man boy boy","family: man, boy, boy","boy","family","man"],variations:[]},"👨‍👧":{codepoints:"1f468-200d-1f467",version:"4.0",sheetX:15,sheetY:27,keywords:["man girl","family: man, girl","family","girl","man"],variations:[]},"👨‍👧‍👦":{codepoints:"1f468-200d-1f467-200d-1f466",version:"4.0",sheetX:15,sheetY:25,keywords:["man girl boy","family: man, girl, boy","boy","family","girl","man"],variations:[]},"👨‍👧‍👧":{codepoints:"1f468-200d-1f467-200d-1f467",version:"4.0",sheetX:15,sheetY:26,keywords:["man girl girl","family: man, girl, girl","family","girl","man"],variations:[]},"👩‍👦":{codepoints:"1f469-200d-1f466",version:"4.0",sheetX:18,sheetY:14,keywords:["woman boy","family: woman, boy","boy","family","woman"],variations:[]},"👩‍👦‍👦":{codepoints:"1f469-200d-1f466-200d-1f466",version:"4.0",sheetX:18,sheetY:13,keywords:["woman boy boy","family: woman, boy, boy","boy","family","woman"],variations:[]},"👩‍👧":{codepoints:"1f469-200d-1f467",version:"4.0",sheetX:18,sheetY:17,keywords:["woman girl","family: woman, girl","family","girl","woman"],variations:[]},"👩‍👧‍👦":{codepoints:"1f469-200d-1f467-200d-1f466",version:"4.0",sheetX:18,sheetY:15,keywords:["woman girl boy","family: woman, girl, boy","boy","family","girl","woman"],variations:[]},"👩‍👧‍👧":{codepoints:"1f469-200d-1f467-200d-1f467",version:"4.0",sheetX:18,sheetY:16,keywords:["woman girl girl","family: woman, girl, girl","family","girl","woman"],variations:[]},"🗣️":{codepoints:"1f5e3-fe0f",version:"2.0",sheetX:30,sheetY:25,keywords:["speaking head in silhouette","speaking head","face","head","silhouette","speak","speaking"],variations:[]},"🗣":{codepoints:"1f5e3-fe0f",version:"2.0",sheetX:30,sheetY:25,keywords:["speaking head in silhouette","speaking head","face","head","silhouette","speak","speaking"],variations:[]},"👤":{codepoints:"1f464",version:"2.0",sheetX:14,sheetY:24,keywords:["bust in silhouette","bust","silhouette"],variations:[]},"👥":{codepoints:"1f465",version:"2.0",sheetX:14,sheetY:25,keywords:["busts in silhouette","bust","silhouette"],variations:[]},"👣":{codepoints:"1f463",version:"2.0",sheetX:14,sheetY:23,keywords:["footprints","clothing","footprint","print"],variations:[]}},r={"Animals & Nature":["🐵","🐒","🦍","🐶","🐕","🐩","🐺","🦊","🦝","🐱","🐈","🦁","🐯","🐅","🐆","🐴","🐎","🦄","🦓","🦌","🐮","🐂","🐃","🐄","🐷","🐖","🐗","🐽","🐏","🐑","🐐","🐪","🐫","🦙","🦒","🐘","🦏","🦛","🐭","🐁","🐀","🐹","🐰","🐇","🐿️","🦔","🦇","🐻","🐨","🐼","🦘","🦡","🐾","🦃","🐔","🐓","🐣","🐤","🐥","🐦","🐧","🕊️","🦅","🦆","🦢","🦉","🦚","🦜","🐸","🐊","🐢","🦎","🐍","🐲","🐉","🦕","🦖","🐳","🐋","🐬","🐟","🐠","🐡","🦈","🐙","🐚","🐌","🦋","🐛","🐜","🐝","🐞","🦗","🕷️","🕸️","🦂","🦟","🦠","💐","🌸","💮","🏵️","🌹","🥀","🌺","🌻","🌼","🌷","🌱","🌲","🌳","🌴","🌵","🌾","🌿","☘️","🍀","🍁","🍂","🍃"],"Food & Drink":["🍇","🍈","🍉","🍊","🍋","🍌","🍍","🥭","🍎","🍏","🍐","🍑","🍒","🍓","🥝","🍅","🥥","🥑","🍆","🥔","🥕","🌽","🌶️","🥒","🥬","🥦","🍄","🥜","🌰","🍞","🥐","🥖","🥨","🥯","🥞","🧀","🍖","🍗","🥩","🥓","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🥙","🥚","🍳","🥘","🍲","🥣","🥗","🍿","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡","🦀","🦞","🦐","🦑","🍦","🍧","🍨","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍼","🥛","☕","🍵","🍶","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🥤","🥢","🍽️","🍴","🥄","🔪","🏺"],Objects:["👓","🕶️","🥽","🥼","👔","👕","👖","🧣","🧤","🧥","🧦","👗","👘","👙","👚","👛","👜","👝","🛍️","🎒","👞","👟","🥾","🥿","👠","👡","👢","👑","👒","🎩","🎓","🧢","⛑️","📿","💄","💍","💎","🔇","🔈","🔉","🔊","📢","📣","📯","🔔","🔕","🎼","🎵","🎶","🎙️","🎚️","🎛️","🎤","🎧","📻","🎷","🎸","🎹","🎺","🎻","🥁","📱","📲","☎️","📞","📟","📠","🔋","🔌","💻","🖥️","🖨️","⌨️","🖱️","🖲️","💽","💾","💿","📀","🧮","🎥","🎞️","📽️","🎬","📺","📷","📸","📹","📼","🔍","🔎","🕯️","💡","🔦","🏮","📔","📕","📖","📗","📘","📙","📚","📓","📒","📃","📜","📄","📰","🗞️","📑","🔖","🏷️","💰","💴","💵","💶","💷","💸","💳","🧾","💹","💱","💲","✉️","📧","📨","📩","📤","📥","📦","📫","📪","📬","📭","📮","🗳️","✏️","✒️","🖋️","🖊️","🖌️","🖍️","📝","💼","📁","📂","🗂️","📅","📆","🗒️","🗓️","📇","📈","📉","📊","📋","📌","📍","📎","🖇️","📏","📐","✂️","🗃️","🗄️","🗑️","🔒","🔓","🔏","🔐","🔑","🗝️","🔨","⛏️","⚒️","🛠️","🗡️","⚔️","🔫","🏹","🛡️","🔧","🔩","⚙️","🗜️","⚖️","🔗","⛓️","🧰","🧲","⚗️","🧪","🧫","🧬","🔬","🔭","📡","💉","💊","🚪","🛏️","🛋️","🚽","🚿","🛁","🧴","🧷","🧹","🧺","🧻","🧼","🧽","🧯","🛒","🚬","⚰️","⚱️","🗿"],Flags:["🏁","🚩","🎌","🏴","🏳️","🏳️‍🌈","🏴‍☠️","🇦🇨","🇦🇩","🇦🇪","🇦🇫","🇦🇬","🇦🇮","🇦🇱","🇦🇲","🇦🇴","🇦🇶","🇦🇷","🇦🇸","🇦🇹","🇦🇺","🇦🇼","🇦🇽","🇦🇿","🇧🇦","🇧🇧","🇧🇩","🇧🇪","🇧🇫","🇧🇬","🇧🇭","🇧🇮","🇧🇯","🇧🇱","🇧🇲","🇧🇳","🇧🇴","🇧🇶","🇧🇷","🇧🇸","🇧🇹","🇧🇻","🇧🇼","🇧🇾","🇧🇿","🇨🇦","🇨🇨","🇨🇩","🇨🇫","🇨🇬","🇨🇭","🇨🇮","🇨🇰","🇨🇱","🇨🇲","🇨🇳","🇨🇴","🇨🇵","🇨🇷","🇨🇺","🇨🇻","🇨🇼","🇨🇽","🇨🇾","🇨🇿","🇩🇪","🇩🇬","🇩🇯","🇩🇰","🇩🇲","🇩🇴","🇩🇿","🇪🇦","🇪🇨","🇪🇪","🇪🇬","🇪🇭","🇪🇷","🇪🇸","🇪🇹","🇪🇺","🇫🇮","🇫🇯","🇫🇰","🇫🇲","🇫🇴","🇫🇷","🇬🇦","🇬🇧","🇬🇩","🇬🇪","🇬🇫","🇬🇬","🇬🇭","🇬🇮","🇬🇱","🇬🇲","🇬🇳","🇬🇵","🇬🇶","🇬🇷","🇬🇸","🇬🇹","🇬🇺","🇬🇼","🇬🇾","🇭🇰","🇭🇲","🇭🇳","🇭🇷","🇭🇹","🇭🇺","🇮🇨","🇮🇩","🇮🇪","🇮🇱","🇮🇲","🇮🇳","🇮🇴","🇮🇶","🇮🇷","🇮🇸","🇮🇹","🇯🇪","🇯🇲","🇯🇴","🇯🇵","🇰🇪","🇰🇬","🇰🇭","🇰🇮","🇰🇲","🇰🇳","🇰🇵","🇰🇷","🇰🇼","🇰🇾","🇰🇿","🇱🇦","🇱🇧","🇱🇨","🇱🇮","🇱🇰","🇱🇷","🇱🇸","🇱🇹","🇱🇺","🇱🇻","🇱🇾","🇲🇦","🇲🇨","🇲🇩","🇲🇪","🇲🇫","🇲🇬","🇲🇭","🇲🇰","🇲🇱","🇲🇲","🇲🇳","🇲🇴","🇲🇵","🇲🇶","🇲🇷","🇲🇸","🇲🇹","🇲🇺","🇲🇻","🇲🇼","🇲🇽","🇲🇾","🇲🇿","🇳🇦","🇳🇨","🇳🇪","🇳🇫","🇳🇬","🇳🇮","🇳🇱","🇳🇴","🇳🇵","🇳🇷","🇳🇺","🇳🇿","🇴🇲","🇵🇦","🇵🇪","🇵🇫","🇵🇬","🇵🇭","🇵🇰","🇵🇱","🇵🇲","🇵🇳","🇵🇷","🇵🇸","🇵🇹","🇵🇼","🇵🇾","🇶🇦","🇷🇪","🇷🇴","🇷🇸","🇷🇺","🇷🇼","🇸🇦","🇸🇧","🇸🇨","🇸🇩","🇸🇪","🇸🇬","🇸🇭","🇸🇮","🇸🇯","🇸🇰","🇸🇱","🇸🇲","🇸🇳","🇸🇴","🇸🇷","🇸🇸","🇸🇹","🇸🇻","🇸🇽","🇸🇾","🇸🇿","🇹🇦","🇹🇨","🇹🇩","🇹🇫","🇹🇬","🇹🇭","🇹🇯","🇹🇰","🇹🇱","🇹🇲","🇹🇳","🇹🇴","🇹🇷","🇹🇹","🇹🇻","🇹🇼","🇹🇿","🇺🇦","🇺🇬","🇺🇲","🇺🇳","🇺🇸","🇺🇾","🇺🇿","🇻🇦","🇻🇨","🇻🇪","🇻🇬","🇻🇮","🇻🇳","🇻🇺","🇼🇫","🇼🇸","🇽🇰","🇾🇪","🇾🇹","🇿🇦","🇿🇲","🇿🇼","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿"],Activities:["🎃","🎄","🎆","🎇","🧨","✨","🎈","🎉","🎊","🎋","🎍","🎎","🎏","🎐","🎑","🧧","🎀","🎁","🎗️","🎟️","🎫","🎖️","🏆","🏅","🥇","🥈","🥉","⚽","⚾","🥎","🏀","🏐","🏈","🏉","🎾","🥏","🎳","🏏","🏑","🏒","🥍","🏓","🏸","🥊","🥋","🥅","⛳","⛸️","🎣","🎽","🎿","🛷","🥌","🎯","🎱","🔮","🧿","🎮","🕹️","🎰","🎲","🧩","🧸","♠️","♥️","♦️","♣️","♟️","🃏","🀄","🎴","🎭","🖼️","🎨","🧵","🧶"],"People & Body":["😀","😃","😄","😁","😆","😅","🤣","😂","🙂","🙃","😉","😊","😇","🥰","😍","🤩","😘","😗","☺️","😚","😙","😋","😛","😜","🤪","😝","🤑","🤗","🤭","🤫","🤔","🤐","🤨","😐","😑","😶","😏","😒","🙄","😬","🤥","😌","😔","😪","🤤","😴","😷","🤒","🤕","🤢","🤮","🤧","🥵","🥶","🥴","😵","🤯","🤠","🥳","😎","🤓","🧐","😕","😟","🙁","☹️","😮","😯","😲","😳","🥺","😦","😧","😨","😰","😥","😢","😭","😱","😖","😣","😞","😓","😩","😫","😤","😡","😠","🤬","😈","👿","💀","☠️","💩","🤡","👹","👺","👻","👽","👾","🤖","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🙈","🙉","🙊","💋","💌","💘","💝","💖","💗","💓","💞","💕","💟","❣️","💔","❤️","🧡","💛","💚","💙","💜","🖤","💯","💢","💥","💫","💦","💨","🕳️","💣","💬","👁️‍🗨️","🗨️","🗯️","💭","💤","👋","🤚","🖐️","✋","🖖","👌","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👍","👎","✊","👊","🤛","🤜","👏","🙌","👐","🤲","🤝","🙏","✍️","💅","🤳","💪","🦵","🦶","👂","👃","🧠","🦷","🦴","👀","👁️","👅","👄","👶","🧒","👦","👧","🧑","👱","👨","🧔","👨‍🦰","👨‍🦱","👨‍🦳","👨‍🦲","👩","👩‍🦰","👩‍🦱","👩‍🦳","👩‍🦲","👱‍♀️","👱‍♂️","🧓","👴","👵","🙍","🙍‍♂️","🙍‍♀️","🙎","🙎‍♂️","🙎‍♀️","🙅","🙅‍♂️","🙅‍♀️","🙆","🙆‍♂️","🙆‍♀️","💁","💁‍♂️","💁‍♀️","🙋","🙋‍♂️","🙋‍♀️","🙇","🙇‍♂️","🙇‍♀️","🤦","🤦‍♂️","🤦‍♀️","🤷","🤷‍♂️","🤷‍♀️","👨‍⚕️","👩‍⚕️","👨‍🎓","👩‍🎓","👨‍🏫","👩‍🏫","👨‍⚖️","👩‍⚖️","👨‍🌾","👩‍🌾","👨‍🍳","👩‍🍳","👨‍🔧","👩‍🔧","👨‍🏭","👩‍🏭","👨‍💼","👩‍💼","👨‍🔬","👩‍🔬","👨‍💻","👩‍💻","👨‍🎤","👩‍🎤","👨‍🎨","👩‍🎨","👨‍✈️","👩‍✈️","👨‍🚀","👩‍🚀","👨‍🚒","👩‍🚒","👮","👮‍♂️","👮‍♀️","🕵️","🕵️‍♂️","🕵️‍♀️","💂","💂‍♂️","💂‍♀️","👷","👷‍♂️","👷‍♀️","🤴","👸","👳","👳‍♂️","👳‍♀️","👲","🧕","🤵","👰","🤰","🤱","👼","🎅","🤶","🦸","🦸‍♂️","🦸‍♀️","🦹","🦹‍♂️","🦹‍♀️","🧙","🧙‍♂️","🧙‍♀️","🧚","🧚‍♂️","🧚‍♀️","🧛","🧛‍♂️","🧛‍♀️","🧜","🧜‍♂️","🧜‍♀️","🧝","🧝‍♂️","🧝‍♀️","🧞","🧞‍♂️","🧞‍♀️","🧟","🧟‍♂️","🧟‍♀️","💆","💆‍♂️","💆‍♀️","💇","💇‍♂️","💇‍♀️","🚶","🚶‍♂️","🚶‍♀️","🏃","🏃‍♂️","🏃‍♀️","💃","🕺","🕴️","👯","👯‍♂️","👯‍♀️","🧖","🧖‍♂️","🧖‍♀️","🧗","🧗‍♂️","🧗‍♀️","🤺","🏇","⛷️","🏂","🏌️","🏌️‍♂️","🏌️‍♀️","🏄","🏄‍♂️","🏄‍♀️","🚣","🚣‍♂️","🚣‍♀️","🏊","🏊‍♂️","🏊‍♀️","⛹️","⛹️‍♂️","⛹️‍♀️","🏋️","🏋️‍♂️","🏋️‍♀️","🚴","🚴‍♂️","🚴‍♀️","🚵","🚵‍♂️","🚵‍♀️","🤸","🤸‍♂️","🤸‍♀️","🤼","🤼‍♂️","🤼‍♀️","🤽","🤽‍♂️","🤽‍♀️","🤾","🤾‍♂️","🤾‍♀️","🤹","🤹‍♂️","🤹‍♀️","🧘","🧘‍♂️","🧘‍♀️","🛀","🛌","👭","👫","👬","💏","👩‍❤️‍💋‍👨","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","💑","👩‍❤️‍👨","👨‍❤️‍👨","👩‍❤️‍👩","👪","👨‍👩‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧‍👧","👨‍👨‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧‍👧","👩‍👩‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧‍👧","👨‍👦","👨‍👦‍👦","👨‍👧","👨‍👧‍👦","👨‍👧‍👧","👩‍👦","👩‍👦‍👦","👩‍👧","👩‍👧‍👦","👩‍👧‍👧","🗣️","👤","👥","👣"],"Travel & Places":["🌍","🌎","🌏","🌐","🗺️","🗾","🧭","🏔️","⛰️","🌋","🗻","🏕️","🏖️","🏜️","🏝️","🏞️","🏟️","🏛️","🏗️","🧱","🏘️","🏚️","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏨","🏩","🏪","🏫","🏬","🏭","🏯","🏰","💒","🗼","🗽","⛪","🕌","🕍","⛩️","🕋","⛲","⛺","🌁","🌃","🏙️","🌄","🌅","🌆","🌇","🌉","♨️","🎠","🎡","🎢","💈","🎪","🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚝","🚞","🚋","🚌","🚍","🚎","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🏎️","🏍️","🛵","🚲","🛴","🛹","🚏","🛣️","🛤️","🛢️","⛽","🚨","🚥","🚦","🛑","🚧","⚓","⛵","🛶","🚤","🛳️","⛴️","🛥️","🚢","✈️","🛩️","🛫","🛬","💺","🚁","🚟","🚠","🚡","🛰️","🚀","🛸","🛎️","🧳","⌛","⏳","⌚","⏰","⏱️","⏲️","🕰️","🕛","🕧","🕐","🕜","🕑","🕝","🕒","🕞","🕓","🕟","🕔","🕠","🕕","🕡","🕖","🕢","🕗","🕣","🕘","🕤","🕙","🕥","🕚","🕦","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌡️","☀️","🌝","🌞","⭐","🌟","🌠","🌌","☁️","⛅","⛈️","🌤️","🌥️","🌦️","🌧️","🌨️","🌩️","🌪️","🌫️","🌬️","🌀","🌈","🌂","☂️","☔","⛱️","⚡","❄️","☃️","⛄","☄️","🔥","💧","🌊"],Symbols:["🏧","🚮","🚰","♿","🚹","🚺","🚻","🚼","🚾","🛂","🛃","🛄","🛅","⚠️","🚸","⛔","🚫","🚳","🚭","🚯","🚱","🚷","📵","🔞","☢️","☣️","⬆️","↗️","➡️","↘️","⬇️","↙️","⬅️","↖️","↕️","↔️","↩️","↪️","⤴️","⤵️","🔃","🔄","🔙","🔚","🔛","🔜","🔝","🛐","⚛️","🕉️","✡️","☸️","☯️","✝️","☦️","☪️","☮️","🕎","🔯","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","⛎","🔀","🔁","🔂","▶️","⏩","⏭️","⏯️","◀️","⏪","⏮️","🔼","⏫","🔽","⏬","⏸️","⏹️","⏺️","⏏️","🎦","🔅","🔆","📶","📳","📴","♀️","♂️","⚕️","♾️","♻️","⚜️","🔱","📛","🔰","⭕","✅","☑️","✔️","✖️","❌","❎","➕","➖","➗","➰","➿","〽️","✳️","✴️","❇️","‼️","⁉️","❓","❔","❕","❗","〰️","©️","®️","™️","#️⃣","*️⃣","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","🔠","🔡","🔢","🔣","🔤","🅰️","🆎","🅱️","🆑","🆒","🆓","ℹ️","🆔","Ⓜ️","🆕","🆖","🅾️","🆗","🅿️","🆘","🆙","🆚","🈁","🈂️","🈷️","🈶","🈯","🉐","🈹","🈚","🈲","🉑","🈸","🈴","🈳","㊗️","㊙️","🈺","🈵","🔴","🔵","⚫","⚪","⬛","⬜","◼️","◻️","◾","◽","▪️","▫️","🔶","🔷","🔸","🔹","🔺","🔻","💠","🔘","🔳","🔲"]},a={100:"💯",1234:"🔢",grinning:"😀",monkey_face:"🐵",grapes:"🍇",eyeglasses:"👓",checkered_flag:"🏁",jack_o_lantern:"🎃",wave:"👋",earth_africa:"🌍",atm:"🏧",melon:"🍈",triangular_flag_on_post:"🚩",put_litter_in_its_place:"🚮",christmas_tree:"🎄",monkey:"🐒",earth_americas:"🌎",dark_sunglasses:"🕶️",raised_back_of_hand:"🤚",smiley:"😃",earth_asia:"🌏",crossed_flags:"🎌",watermelon:"🍉",goggles:"🥽",raised_hand_with_fingers_splayed:"🖐️",smile:"😄",potable_water:"🚰",fireworks:"🎆",gorilla:"🦍",lab_coat:"🥼",tangerine:"🍊",wheelchair:"♿",waving_black_flag:"🏴",sparkler:"🎇",globe_with_meridians:"🌐",grin:"😁",hand:"✋",firecracker:"🧨",lemon:"🍋",dog:"🐕",mens:"🚹","spock-hand":"🖖",world_map:"🗺️",laughing:"😆",waving_white_flag:"🏳️",sweat_smile:"😅",sparkles:"✨",banana:"🍌","rainbow-flag":"🏳️‍🌈",ok_hand:"👌",japan:"🗾",dog2:"🐕",womens:"🚺",necktie:"👔",pirate_flag:"🏴‍☠️",restroom:"🚻",compass:"🧭",rolling_on_the_floor_laughing:"🤣",balloon:"🎈",pineapple:"🍍",shirt:"👕",baby_symbol:"🚼",joy:"😂",tada:"🎉",mango:"🥭",v:"✌️",snow_capped_mountain:"🏔️","flag-ac":"🇦🇨",jeans:"👖",poodle:"🐩",crossed_fingers:"🤞","flag-ad":"🇦🇩",slightly_smiling_face:"🙂",apple:"🍎",wc:"🚾",scarf:"🧣",mountain:"⛰",confetti_ball:"🎊",i_love_you_hand_sign:"🤟",wolf:"🐺",gloves:"🧤","flag-ae":"🇦🇪",upside_down_face:"🙃",green_apple:"🍏",passport_control:"🛂",volcano:"🌋",tanabata_tree:"🎋",customs:"🛃",coat:"🧥",wink:"😉",bamboo:"🎍","flag-af":"🇦🇫",fox_face:"🦊",pear:"🍐",mount_fuji:"🗻",the_horns:"🤘",call_me_hand:"🤙","flag-ag":"🇦🇬",raccoon:"🦝",dolls:"🎎",blush:"😊",peach:"🍑",baggage_claim:"🛄",socks:"🧦",camping:"🏕",dress:"👗",beach_with_umbrella:"🏖️",cherries:"🍒",cat:"🐈",point_left:"👈",left_luggage:"🛅","flag-ai":"🇦🇮",innocent:"😇",flags:"🎏",warning:"⚠",strawberry:"🍓",point_right:"👉",desert:"🏜",kimono:"👘","flag-al":"🇦🇱",wind_chime:"🎐",smiling_face_with_3_hearts:"🥰",cat2:"🐈",rice_scene:"🎑",heart_eyes:"😍","flag-am":"🇦🇲",lion_face:"🦁",desert_island:"🏝️",point_up_2:"👆",kiwifruit:"🥝",children_crossing:"🚸",national_park:"🏞️",no_entry:"⛔",tiger:"🐅",red_envelope:"🧧","star-struck":"🤩",middle_finger:"🖕","flag-ao":"🇦🇴",tomato:"🍅",coconut:"🥥",ribbon:"🎀",no_entry_sign:"🚫",point_down:"👇","flag-aq":"🇦🇶",kissing_heart:"😘",tiger2:"🐅",stadium:"🏟",leopard:"🐆",no_bicycles:"🚳",kissing:"😗","flag-ar":"🇦🇷",avocado:"🥑",point_up:"☝️",gift:"🎁",classical_building:"🏛️","+1":"👍",horse:"🐎",bikini:"👙",no_smoking:"🚭",eggplant:"🍆","flag-as":"🇦🇸",reminder_ribbon:"🎗️",building_construction:"🏗️",relaxed:"☺️",kissing_closed_eyes:"😚","-1":"👎",admission_tickets:"🎟️","flag-at":"🇦🇹",womans_clothes:"👚",do_not_litter:"🚯",potato:"🥔",racehorse:"🐎",bricks:"🧱",fist:"✊",house_buildings:"🏘️",carrot:"🥕",ticket:"🎫","flag-au":"🇦🇺","non-potable_water":"🚱",purse:"👛",unicorn_face:"🦄",kissing_smiling_eyes:"😙",facepunch:"👊",medal:"🎖️",zebra_face:"🦓",handbag:"👜",derelict_house_building:"🏚️",yum:"😋",corn:"🌽","flag-aw":"🇦🇼",no_pedestrians:"🚷",house:"🏠",hot_pepper:"🌶️","flag-ax":"🇦🇽",trophy:"🏆",deer:"🦌","left-facing_fist":"🤛",stuck_out_tongue:"😛",pouch:"👝",no_mobile_phones:"📵",stuck_out_tongue_winking_eye:"😜",sports_medal:"🏅",cucumber:"🥒",cow:"🐄",underage:"🔞","flag-az":"🇦🇿",shopping_bags:"🛍️","right-facing_fist":"🤜",house_with_garden:"🏡",clap:"👏",leafy_green:"🥬",office:"🏢","flag-ba":"🇧🇦",zany_face:"🤪",first_place_medal:"🥇",ox:"🐂",school_satchel:"🎒",radioactive_sign:"☢️",second_place_medal:"🥈",stuck_out_tongue_closed_eyes:"😝",broccoli:"🥦",biohazard_sign:"☣️",mans_shoe:"👞",raised_hands:"🙌",post_office:"🏣","flag-bb":"🇧🇧",water_buffalo:"🐃",third_place_medal:"🥉",european_post_office:"🏤",athletic_shoe:"👟",arrow_up:"⬆️",cow2:"🐄",open_hands:"👐",money_mouth_face:"🤑","flag-bd":"🇧🇩",soccer:"⚽",hugging_face:"🤗",arrow_upper_right:"↗️",palms_up_together:"🤲",pig:"🐖",hospital:"🏥",hiking_boot:"🥾","flag-be":"🇧🇪","flag-bf":"🇧🇫",mushroom:"🍄",pig2:"🐖",baseball:"⚾",face_with_hand_over_mouth:"🤭",handshake:"🤝",womans_flat_shoe:"🥿",bank:"🏦",arrow_right:"➡️",peanuts:"🥜",shushing_face:"🤫",pray:"🙏",softball:"🥎",high_heel:"👠","flag-bg":"🇧🇬",arrow_lower_right:"↘️",hotel:"🏨",boar:"🐗",sandal:"👡","flag-bh":"🇧🇭",arrow_down:"⬇️",thinking_face:"🤔",writing_hand:"✍️",chestnut:"🌰",basketball:"🏀",pig_nose:"🐽",love_hotel:"🏩",nail_care:"💅",volleyball:"🏐","flag-bi":"🇧🇮",arrow_lower_left:"↙️",ram:"🐏",zipper_mouth_face:"🤐",bread:"🍞",convenience_store:"🏪",boot:"👢",sheep:"🐑",face_with_raised_eyebrow:"🤨","flag-bj":"🇧🇯",arrow_left:"⬅️",selfie:"🤳",croissant:"🥐",school:"🏫",football:"🏈",goat:"🐐",department_store:"🏬","flag-bl":"🇧🇱",crown:"👑",arrow_upper_left:"↖️",neutral_face:"😐",rugby_football:"🏉",muscle:"💪",baguette_bread:"🥖",expressionless:"😑",womans_hat:"👒",pretzel:"🥨",arrow_up_down:"↕️",dromedary_camel:"🐪",tennis:"🎾","flag-bm":"🇧🇲",factory:"🏭",japanese_castle:"🏯",no_mouth:"😶",bagel:"🥯",camel:"🐪",tophat:"🎩",left_right_arrow:"↔️","flag-bn":"🇧🇳",flying_disc:"🥏",smirk:"😏",mortar_board:"🎓",european_castle:"🏰",leg:"🦵",pancakes:"🥞",leftwards_arrow_with_hook:"↩️","flag-bo":"🇧🇴",bowling:"🎳",llama:"🦙",arrow_right_hook:"↪️",wedding:"💒","flag-bq":"🇧🇶",foot:"🦶",giraffe_face:"🦒",unamused:"😒",billed_cap:"🧢",cricket_bat_and_ball:"🏏",helmet_with_white_cross:"⛑️",ear:"👂",elephant:"🐘",cheese_wedge:"🧀",tokyo_tower:"🗼",arrow_heading_up:"⤴️",field_hockey_stick_and_ball:"🏑","flag-br":"🇧🇷",face_with_rolling_eyes:"🙄",arrow_heading_down:"⤵️",ice_hockey_stick_and_puck:"🏒",meat_on_bone:"🍖",prayer_beads:"📿",statue_of_liberty:"🗽",grimacing:"😬","flag-bs":"🇧🇸",rhinoceros:"🦏",lacrosse:"🥍",poultry_leg:"🍗",hippopotamus:"🦛",nose:"👃",arrows_clockwise:"🔃","flag-bt":"🇧🇹",church:"⛪",lipstick:"💄",lying_face:"🤥",arrows_counterclockwise:"🔄","flag-bv":"🇧🇻",cut_of_meat:"🥩",mosque:"🕌",ring:"💍",brain:"🧠",table_tennis_paddle_and_ball:"🏓",relieved:"😌",mouse:"🐁",back:"🔙",gem:"💎",pensive:"😔","flag-bw":"🇧🇼",mouse2:"🐁",bacon:"🥓",tooth:"🦷",badminton_racquet_and_shuttlecock:"🏸",rat:"🐀",synagogue:"🕍",end:"🔚",bone:"🦴",boxing_glove:"🥊",mute:"🔇",hamburger:"🍔","flag-by":"🇧🇾",sleepy:"😪",on:"🔛",martial_arts_uniform:"🥋",speaker:"🔈",drooling_face:"🤤",eyes:"👀","flag-bz":"🇧🇿",hamster:"🐹",shinto_shrine:"⛩️",fries:"🍟",goal_net:"🥅",kaaba:"🕋",soon:"🔜","flag-ca":"🇨🇦",rabbit:"🐇",eye:"👁",sleeping:"😴",pizza:"🍕",sound:"🔉",rabbit2:"🐇",fountain:"⛲",golf:"⛳",top:"🔝",mask:"😷","flag-cc":"🇨🇨",hotdog:"🌭",loud_sound:"🔊",tongue:"👅",place_of_worship:"🛐",ice_skate:"⛸️",sandwich:"🥪",chipmunk:"🐿",loudspeaker:"📢",lips:"👄","flag-cd":"🇨🇩",tent:"⛺",face_with_thermometer:"🤒",taco:"🌮",foggy:"🌁","flag-cf":"🇨🇫",baby:"👶",atom_symbol:"⚛️",fishing_pole_and_fish:"🎣",hedgehog:"🦔",face_with_head_bandage:"🤕",mega:"📣",nauseated_face:"🤢",child:"🧒","flag-cg":"🇨🇬",bat:"🦇",burrito:"🌯",postal_horn:"📯",night_with_stars:"🌃",om_symbol:"🕉️",star_of_david:"✡️",boy:"👦",bell:"🔔","flag-ch":"🇨🇭",running_shirt_with_sash:"🎽",stuffed_flatbread:"🥙",bear:"🐻",cityscape:"🏙",face_vomiting:"🤮",wheel_of_dharma:"☸️",ski:"🎿",girl:"👧",sneezing_face:"🤧",no_bell:"🔕",koala:"🐨",sunrise_over_mountains:"🌄","flag-ci":"🇨🇮",sunrise:"🌅",yin_yang:"☯️",adult:"🧑",hot_face:"🥵",musical_score:"🎼",sled:"🛷",egg:"🥚",panda_face:"🐼","flag-ck":"🇨🇰","flag-cl":"🇨🇱",person_with_blond_hair:"👱",latin_cross:"✝️",curling_stone:"🥌",cold_face:"🥶",fried_egg:"🍳",city_sunset:"🌆",musical_note:"🎵","flag-cm":"🇨🇲",notes:"🎶",woozy_face:"🥴",dart:"🎯",orthodox_cross:"☦️",shallow_pan_of_food:"🥘",man:"👨",city_sunrise:"🌇",bearded_person:"🧔",stew:"🍲",cn:"🇨🇳",studio_microphone:"🎙️",star_and_crescent:"☪️",bridge_at_night:"🌉",dizzy_face:"😵",red_haired_man:"👨‍🦰",bowl_with_spoon:"🥣","flag-co":"🇨🇴",peace_symbol:"☮️",kangaroo:"🦘",hotsprings:"♨️",exploding_head:"🤯",level_slider:"🎚️",badger:"🦡","8ball":"🎱",curly_haired_man:"👨‍🦱","flag-cp":"🇨🇵",carousel_horse:"🎠",face_with_cowboy_hat:"🤠",menorah_with_nine_branches:"🕎",green_salad:"🥗",control_knobs:"🎛️",popcorn:"🍿",six_pointed_star:"🔯",feet:"🐾",ferris_wheel:"🎡",microphone:"🎤",crystal_ball:"🔮",partying_face:"🥳","flag-cr":"🇨🇷",white_haired_man:"👨‍🦳",headphones:"🎧",bald_man:"👨‍🦲",sunglasses:"🕶",roller_coaster:"🎢",turkey:"🦃",nazar_amulet:"🧿","flag-cu":"🇨🇺",aries:"♈","flag-cv":"🇨🇻",barber:"💈",taurus:"♉",salt:"🧂",woman:"👩",video_game:"🎮",chicken:"🐔",radio:"📻",nerd_face:"🤓",red_haired_woman:"👩‍🦰",circus_tent:"🎪",face_with_monocle:"🧐",canned_food:"🥫","flag-cw":"🇨🇼",gemini:"♊",saxophone:"🎷",rooster:"🐓",joystick:"🕹",guitar:"🎸",slot_machine:"🎰",bento:"🍱",steam_locomotive:"🚂",confused:"😕","flag-cx":"🇨🇽",hatching_chick:"🐣",cancer:"♋","flag-cy":"🇨🇾",worried:"😟",railway_car:"🚃",leo:"♌",curly_haired_woman:"👩‍🦱",baby_chick:"🐤",musical_keyboard:"🎹",game_die:"🎲",rice_cracker:"🍘",virgo:"♍","flag-cz":"🇨🇿",rice_ball:"🍙",hatched_chick:"🐥",jigsaw:"🧩",trumpet:"🎺",slightly_frowning_face:"🙁",bullettrain_side:"🚄",libra:"♎",de:"🇩🇪",rice:"🍚",violin:"🎻",white_haired_woman:"👩‍🦳",bird:"🐦",white_frowning_face:"☹️",bullettrain_front:"🚅",teddy_bear:"🧸",spades:"♠️",train2:"🚆",scorpius:"♏",curry:"🍛",open_mouth:"😮","flag-dg":"🇩🇬",penguin:"🐧",hearts:"♥️",ramen:"🍜",sagittarius:"♐",bald_woman:"👩‍🦲",dove_of_peace:"🕊️",hushed:"😯",metro:"🚇","flag-dj":"🇩🇯",drum_with_drumsticks:"🥁",spaghetti:"🍝",eagle:"🦅",astonished:"😲",capricorn:"♑",light_rail:"🚈","flag-dk":"🇩🇰",iphone:"📱",diamonds:"♦️",clubs:"♣️",aquarius:"♒",sweet_potato:"🍠","flag-dm":"🇩🇲",duck:"🦆",calling:"📲",station:"🚉","blond-haired-woman":"👱‍♀️",flushed:"😳",pisces:"♓",chess_pawn:"♟️","blond-haired-man":"👱‍♂️",phone:"☎️",oden:"🍢","flag-do":"🇩🇴",tram:"🚊",swan:"🦢",pleading_face:"🥺","flag-dz":"🇩🇿",monorail:"🚝",owl:"🦉",sushi:"🍣",telephone_receiver:"📞",black_joker:"🃏",ophiuchus:"⛎",frowning:"😦",older_adult:"🧓","flag-ea":"🇪🇦",pager:"📟",mountain_railway:"🚞",mahjong:"🀄",older_man:"👴",twisted_rightwards_arrows:"🔀",fried_shrimp:"🍤",anguished:"😧",repeat:"🔁",fish_cake:"🍥",fax:"📠",older_woman:"👵","flag-ec":"🇪🇨",peacock:"🦚",fearful:"😨",train:"🚆",flower_playing_cards:"🎴",repeat_one:"🔂",moon_cake:"🥮",performing_arts:"🎭",cold_sweat:"😰",person_frowning:"🙍","flag-ee":"🇪🇪",battery:"🔋",parrot:"🦜",bus:"🚌","flag-eg":"🇪🇬",arrow_forward:"▶️","man-frowning":"🙍‍♂️",disappointed_relieved:"😥",electric_plug:"🔌",frame_with_picture:"🖼️",oncoming_bus:"🚍",dango:"🍡",frog:"🐸",computer:"💻",art:"🎨","flag-eh":"🇪🇭",fast_forward:"⏩",cry:"😢","woman-frowning":"🙍‍♀️",trolleybus:"🚎",crocodile:"🐊",dumpling:"🥟",black_right_pointing_double_triangle_with_vertical_bar:"⏭️",desktop_computer:"🖥️",person_with_pouting_face:"🙎",turtle:"🐢",sob:"😭","flag-er":"🇪🇷",thread:"🧵",minibus:"🚐",fortune_cookie:"🥠",yarn:"🧶",takeout_box:"🥡","man-pouting":"🙎‍♂️",printer:"🖨",scream:"😱",es:"🇪🇸",ambulance:"🚑",black_right_pointing_triangle_with_double_vertical_bar:"⏯️",lizard:"🦎","flag-et":"🇪🇹",keyboard:"⌨",crab:"🦀",confounded:"😖",snake:"🐍","woman-pouting":"🙎‍♀️",arrow_backward:"◀️",fire_engine:"🚒",rewind:"⏪",three_button_mouse:"🖱️",no_good:"🙅",police_car:"🚓",dragon_face:"🐲",persevere:"😣",lobster:"🦞","flag-eu":"🇪🇺",disappointed:"😞",shrimp:"🦐",dragon:"🐉","man-gesturing-no":"🙅‍♂️","flag-fi":"🇫🇮",trackball:"🖲",black_left_pointing_double_triangle_with_vertical_bar:"⏮️",oncoming_police_car:"🚔",minidisc:"💽",sweat:"😓",squid:"🦑",sauropod:"🦕",arrow_up_small:"🔼","flag-fj":"🇫🇯","woman-gesturing-no":"🙅‍♀️",taxi:"🚕","flag-fk":"🇫🇰",floppy_disk:"💾","t-rex":"🦖",arrow_double_up:"⏫",oncoming_taxi:"🚖",ok_woman:"🙆",weary:"😩","man-gesturing-ok":"🙆‍♂️",arrow_down_small:"🔽",tired_face:"😫",car:"🚗",icecream:"🍦",cd:"💿",whale:"🐋","flag-fm":"🇫🇲",oncoming_automobile:"🚘",arrow_double_down:"⏬","woman-gesturing-ok":"🙆‍♀️",dvd:"📀",whale2:"🐋","flag-fo":"🇫🇴",shaved_ice:"🍧",double_vertical_bar:"⏸️",information_desk_person:"💁",dolphin:"🐬",blue_car:"🚙",ice_cream:"🍨",fr:"🇫🇷",triumph:"😤",abacus:"🧮","man-tipping-hand":"💁‍♂️",doughnut:"🍩",fish:"🐟",truck:"🚚",movie_camera:"🎥","flag-ga":"🇬🇦",rage:"😡",black_square_for_stop:"⏹️",articulated_lorry:"🚛",angry:"😠",cookie:"🍪",gb:"🇬🇧",tropical_fish:"🐠","woman-tipping-hand":"💁‍♀️",black_circle_for_record:"⏺️",film_frames:"🎞️",film_projector:"📽️","flag-gd":"🇬🇩",blowfish:"🐡",face_with_symbols_on_mouth:"🤬",birthday:"🎂",eject:"⏏️",raising_hand:"🙋",tractor:"🚜","flag-ge":"🇬🇪",smiling_imp:"😈",racing_car:"🏎️",cinema:"🎦",clapper:"🎬",shark:"🦈",cake:"🍰","man-raising-hand":"🙋‍♂️",octopus:"🐙","woman-raising-hand":"🙋‍♀️","flag-gf":"🇬🇫",tv:"📺",imp:"👿",cupcake:"🧁",racing_motorcycle:"🏍️",low_brightness:"🔅",shell:"🐚","flag-gg":"🇬🇬",high_brightness:"🔆",skull:"💀",motor_scooter:"🛵",camera:"📷",pie:"🥧","flag-gh":"🇬🇭",skull_and_crossbones:"☠️",camera_with_flash:"📸",signal_strength:"📶",chocolate_bar:"🍫",snail:"🐌","flag-gi":"🇬🇮",hankey:"💩",vibration_mode:"📳",butterfly:"🦋",video_camera:"📹",candy:"🍬",bow:"🙇",mobile_phone_off:"📴",clown_face:"🤡",lollipop:"🍭","flag-gl":"🇬🇱",vhs:"📼",bug:"🐛",bike:"🚲","man-bowing":"🙇‍♂️",female_sign:"♀️",japanese_ogre:"👹",custard:"🍮",ant:"🐜",mag:"🔍","flag-gm":"🇬🇲",honey_pot:"🍯","woman-bowing":"🙇‍♀️",male_sign:"♂️",mag_right:"🔎",japanese_goblin:"👺",scooter:"🛴",bee:"🐝","flag-gn":"🇬🇳",candle:"🕯",skateboard:"🛹",medical_symbol:"⚕️",ghost:"👻",beetle:"🐞",face_palm:"🤦","flag-gp":"🇬🇵",baby_bottle:"🍼",infinity:"♾",glass_of_milk:"🥛","man-facepalming":"🤦‍♂️",cricket:"🦗",busstop:"🚏","flag-gq":"🇬🇶",alien:"👽",bulb:"💡","woman-facepalming":"🤦‍♀️",spider:"🕷",space_invader:"👾",motorway:"🛣","flag-gr":"🇬🇷",recycle:"♻️",coffee:"☕",flashlight:"🔦",spider_web:"🕸️",izakaya_lantern:"🏮","flag-gs":"🇬🇸",shrug:"🤷",fleur_de_lis:"⚜️",robot_face:"🤖",railway_track:"🛤️",tea:"🍵","flag-gt":"🇬🇹",oil_drum:"🛢️",sake:"🍶",trident:"🔱","man-shrugging":"🤷‍♂️",smiley_cat:"😺",scorpion:"🦂","woman-shrugging":"🤷‍♀️",notebook_with_decorative_cover:"📔",fuelpump:"⛽",name_badge:"📛",mosquito:"🦟","flag-gu":"🇬🇺",smile_cat:"😸",champagne:"🍾",joy_cat:"😹",closed_book:"📕",rotating_light:"🚨",microbe:"🦠","flag-gw":"🇬🇼",wine_glass:"🍷",beginner:"🔰",bouquet:"💐",heart_eyes_cat:"😻","male-doctor":"👨‍⚕️",book:"📖",traffic_light:"🚥",cocktail:"🍸",o:"⭕","flag-gy":"🇬🇾","female-doctor":"👩‍⚕️",smirk_cat:"😼",green_book:"📗",cherry_blossom:"🌸","flag-hk":"🇭🇰",vertical_traffic_light:"🚦",white_check_mark:"✅",tropical_drink:"🍹",kissing_cat:"😽","flag-hm":"🇭🇲",octagonal_sign:"🛑",white_flower:"💮",ballot_box_with_check:"☑️",blue_book:"📘",beer:"🍺",construction:"🚧",rosette:"🏵",heavy_check_mark:"✔️",scream_cat:"🙀",orange_book:"📙",beers:"🍻","male-student":"👨‍🎓","flag-hn":"🇭🇳",crying_cat_face:"😿",anchor:"⚓","flag-hr":"🇭🇷",heavy_multiplication_x:"✖️","female-student":"👩‍🎓",rose:"🌹",books:"📚",clinking_glasses:"🥂",x:"❌",pouting_cat:"😾",wilted_flower:"🥀",boat:"⛵","flag-ht":"🇭🇹",tumbler_glass:"🥃",notebook:"📓","male-teacher":"👨‍🏫",ledger:"📒","flag-hu":"🇭🇺",cup_with_straw:"🥤",hibiscus:"🌺",see_no_evil:"🙈",canoe:"🛶",negative_squared_cross_mark:"❎","flag-ic":"🇮🇨",speedboat:"🚤",heavy_plus_sign:"➕",sunflower:"🌻",page_with_curl:"📃","female-teacher":"👩‍🏫",hear_no_evil:"🙉",passenger_ship:"🛳️",scroll:"📜",blossom:"🌼","flag-id":"🇮🇩",speak_no_evil:"🙊",heavy_minus_sign:"➖","flag-ie":"🇮🇪",page_facing_up:"📄","male-judge":"👨‍⚖️",tulip:"🌷",ferry:"⛴",kiss:"💏",heavy_division_sign:"➗",newspaper:"📰","female-judge":"👩‍⚖️",seedling:"🌱",love_letter:"💌",chopsticks:"🥢",motor_boat:"🛥️","flag-il":"🇮🇱",curly_loop:"➰","flag-im":"🇮🇲",evergreen_tree:"🌲",cupid:"💘",loop:"➿",ship:"🚢",rolled_up_newspaper:"🗞️",knife_fork_plate:"🍽️",fork_and_knife:"🍴","male-farmer":"👨‍🌾",bookmark_tabs:"📑",part_alternation_mark:"〽️","flag-in":"🇮🇳",gift_heart:"💝",airplane:"✈",deciduous_tree:"🌳",spoon:"🥄","flag-io":"🇮🇴",palm_tree:"🌴",sparkling_heart:"💖","female-farmer":"👩‍🌾",eight_spoked_asterisk:"✳️",small_airplane:"🛩️",bookmark:"🔖",eight_pointed_black_star:"✴️",heartpulse:"💗",label:"🏷","flag-iq":"🇮🇶",hocho:"🔪",cactus:"🌵",airplane_departure:"🛫",airplane_arriving:"🛬",ear_of_rice:"🌾","flag-ir":"🇮🇷",moneybag:"💰","male-cook":"👨‍🍳",heartbeat:"💓",sparkle:"❇",amphora:"🏺",yen:"💴",revolving_hearts:"💞",bangbang:"‼️",herb:"🌿","flag-is":"🇮🇸","female-cook":"👩‍🍳",interrobang:"⁉️",seat:"💺",dollar:"💵",two_hearts:"💕",it:"🇮🇹",shamrock:"☘",four_leaf_clover:"🍀",euro:"💶",question:"❓",helicopter:"🚁",heart_decoration:"💟","flag-je":"🇯🇪","male-mechanic":"👨‍🔧",suspension_railway:"🚟",heavy_heart_exclamation_mark_ornament:"❣️","female-mechanic":"👩‍🔧","flag-jm":"🇯🇲",grey_question:"❔",maple_leaf:"🍁",pound:"💷",money_with_wings:"💸","flag-jo":"🇯🇴",fallen_leaf:"🍂",broken_heart:"💔",grey_exclamation:"❕",mountain_cableway:"🚠",exclamation:"❗",leaves:"🍃",heart:"❤️",jp:"🇯🇵","male-factory-worker":"👨‍🏭",credit_card:"💳",aerial_tramway:"🚡","female-factory-worker":"👩‍🏭",receipt:"🧾",wavy_dash:"〰️","flag-ke":"🇰🇪",satellite:"🛰",orange_heart:"🧡",yellow_heart:"💛",copyright:"©",rocket:"🚀",chart:"💹","flag-kg":"🇰🇬",currency_exchange:"💱",registered:"®",green_heart:"💚",flying_saucer:"🛸","flag-kh":"🇰🇭","male-office-worker":"👨‍💼",tm:"™️",bellhop_bell:"🛎️",blue_heart:"💙","flag-ki":"🇰🇮",heavy_dollar_sign:"💲","female-office-worker":"👩‍💼",purple_heart:"💜",luggage:"🧳",hash:"#️⃣","flag-km":"🇰🇲",email:"✉️","e-mail":"📧",keycap_star:"*️⃣","flag-kn":"🇰🇳",hourglass:"⌛","male-scientist":"👨‍🔬",hourglass_flowing_sand:"⏳",black_heart:"🖤",zero:"0️⃣",incoming_envelope:"📨","flag-kp":"🇰🇵","female-scientist":"👩‍🔬",watch:"⌚",one:"1️⃣",kr:"🇰🇷",envelope_with_arrow:"📩",outbox_tray:"📤","male-technologist":"👨‍💻",alarm_clock:"⏰","flag-kw":"🇰🇼",two:"2️⃣",anger:"💢",inbox_tray:"📥",three:"3️⃣","flag-ky":"🇰🇾",stopwatch:"⏱","female-technologist":"👩‍💻",boom:"💥","flag-kz":"🇰🇿",four:"4️⃣",timer_clock:"⏲️",package:"📦",mailbox:"📫","flag-la":"🇱🇦",dizzy:"💫",five:"5️⃣","male-singer":"👨‍🎤",mantelpiece_clock:"🕰️","female-singer":"👩‍🎤","flag-lb":"🇱🇧",six:"6️⃣",mailbox_closed:"📪",sweat_drops:"💦",clock12:"🕛",seven:"7️⃣",mailbox_with_mail:"📬",clock1230:"🕧",dash:"💨","flag-lc":"🇱🇨",hole:"🕳","male-artist":"👨‍🎨",clock1:"🕐",eight:"8️⃣",mailbox_with_no_mail:"📭","flag-li":"🇱🇮",bomb:"💣",nine:"9️⃣",postbox:"📮","female-artist":"👩‍🎨",clock130:"🕜","flag-lk":"🇱🇰",ballot_box_with_ballot:"🗳️",keycap_ten:"🔟",clock2:"🕑","flag-lr":"🇱🇷",speech_balloon:"💬","eye-in-speech-bubble":"👁️‍🗨️","flag-ls":"🇱🇸",clock230:"🕝","male-pilot":"👨‍✈️",capital_abcd:"🔠",pencil2:"✏️","female-pilot":"👩‍✈️",black_nib:"✒️",left_speech_bubble:"🗨️",clock3:"🕒",abcd:"🔡","flag-lt":"🇱🇹",clock330:"🕞","flag-lu":"🇱🇺",right_anger_bubble:"🗯️",lower_left_fountain_pen:"🖋️","male-astronaut":"👨‍🚀",thought_balloon:"💭",symbols:"🔣",clock4:"🕓","flag-lv":"🇱🇻",lower_left_ballpoint_pen:"🖊️",abc:"🔤",zzz:"💤",lower_left_paintbrush:"🖌️","female-astronaut":"👩‍🚀","flag-ly":"🇱🇾",clock430:"🕟","flag-ma":"🇲🇦",a:"🅰️",clock5:"🕔",lower_left_crayon:"🖍️","male-firefighter":"👨‍🚒",memo:"📝",ab:"🆎","flag-mc":"🇲🇨",clock530:"🕠",briefcase:"💼","female-firefighter":"👩‍🚒",clock6:"🕕",b:"🅱️","flag-md":"🇲🇩",clock630:"🕡",cl:"🆑","flag-me":"🇲🇪",file_folder:"📁",cop:"👮","male-police-officer":"👮‍♂️",cool:"🆒",clock7:"🕖","flag-mf":"🇲🇫",open_file_folder:"📂",card_index_dividers:"🗂️","flag-mg":"🇲🇬",free:"🆓","female-police-officer":"👮‍♀️",clock730:"🕢",date:"📅",clock8:"🕗",information_source:"ℹ️",sleuth_or_spy:"🕵️","flag-mh":"🇲🇭",clock830:"🕣",calendar:"📅","male-detective":"🕵️‍♂️","flag-mk":"🇲🇰",id:"🆔",spiral_note_pad:"🗒️","female-detective":"🕵️‍♀️",clock9:"🕘","flag-ml":"🇲🇱",m:"Ⓜ️","flag-mm":"🇲🇲",clock930:"🕤",guardsman:"💂",new:"🆕",spiral_calendar_pad:"🗓️",ng:"🆖",card_index:"📇",clock10:"🕙","flag-mn":"🇲🇳","male-guard":"💂‍♂️","flag-mo":"🇲🇴",clock1030:"🕥",chart_with_upwards_trend:"📈",o2:"🅾️","female-guard":"💂‍♀️",chart_with_downwards_trend:"📉","flag-mp":"🇲🇵",ok:"🆗",clock11:"🕚",construction_worker:"👷","male-construction-worker":"👷‍♂️",clock1130:"🕦","flag-mq":"🇲🇶",bar_chart:"📊",parking:"🅿️",new_moon:"🌑","female-construction-worker":"👷‍♀️",sos:"🆘",clipboard:"📋","flag-mr":"🇲🇷",prince:"🤴",waxing_crescent_moon:"🌒","flag-ms":"🇲🇸",pushpin:"📌",up:"🆙","flag-mt":"🇲🇹",princess:"👸",round_pushpin:"📍",first_quarter_moon:"🌓",vs:"🆚","flag-mu":"🇲🇺",koko:"🈁",man_with_turban:"👳",moon:"🌔",paperclip:"📎",linked_paperclips:"🖇️","man-wearing-turban":"👳‍♂️",sa:"🈂️",full_moon:"🌕","flag-mv":"🇲🇻","flag-mw":"🇲🇼",waning_gibbous_moon:"🌖","woman-wearing-turban":"👳‍♀️",u6708:"🈷️",straight_ruler:"📏",u6709:"🈶",triangular_ruler:"📐",man_with_gua_pi_mao:"👲","flag-mx":"🇲🇽",last_quarter_moon:"🌗",person_with_headscarf:"🧕",waning_crescent_moon:"🌘",u6307:"🈯",scissors:"✂","flag-my":"🇲🇾",ideograph_advantage:"🉐",man_in_tuxedo:"🤵","flag-mz":"🇲🇿",card_file_box:"🗃️",crescent_moon:"🌙","flag-na":"🇳🇦",bride_with_veil:"👰",new_moon_with_face:"🌚",file_cabinet:"🗄️",u5272:"🈹",wastebasket:"🗑",pregnant_woman:"🤰",first_quarter_moon_with_face:"🌛","flag-nc":"🇳🇨",u7121:"🈚",lock:"🔒","flag-ne":"🇳🇪",last_quarter_moon_with_face:"🌜","breast-feeding":"🤱",u7981:"🈲",accept:"🉑",angel:"👼",unlock:"🔓","flag-nf":"🇳🇫",thermometer:"🌡","flag-ng":"🇳🇬",u7533:"🈸",sunny:"☀️",lock_with_ink_pen:"🔏",santa:"🎅",closed_lock_with_key:"🔐",u5408:"🈴","flag-ni":"🇳🇮",mrs_claus:"🤶",full_moon_with_face:"🌝",key:"🔑",superhero:"🦸","flag-nl":"🇳🇱",u7a7a:"🈳",sun_with_face:"🌞",male_superhero:"🦸‍♂️",old_key:"🗝️",congratulations:"㊗️","flag-no":"🇳🇴",star:"⭐",secret:"㊙️","flag-np":"🇳🇵",female_superhero:"🦸‍♀️",hammer:"🔨",star2:"🌟","flag-nr":"🇳🇷",u55b6:"🈺",supervillain:"🦹",stars:"🌠",u6e80:"🈵","flag-nu":"🇳🇺",pick:"⛏",male_supervillain:"🦹‍♂️",female_supervillain:"🦹‍♀️",hammer_and_pick:"⚒️",milky_way:"🌌",red_circle:"🔴","flag-nz":"🇳🇿",hammer_and_wrench:"🛠️","flag-om":"🇴🇲",cloud:"☁",mage:"🧙",dagger_knife:"🗡️",partly_sunny:"⛅",male_mage:"🧙‍♂️","flag-pa":"🇵🇦",thunder_cloud_and_rain:"⛈️",female_mage:"🧙‍♀️",crossed_swords:"⚔️","flag-pe":"🇵🇪",gun:"🔫",mostly_sunny:"🌤️",fairy:"🧚","flag-pf":"🇵🇫",large_blue_circle:"🔵",bow_and_arrow:"🏹",male_fairy:"🧚‍♂️",barely_sunny:"🌥️","flag-pg":"🇵🇬",shield:"🛡",partly_sunny_rain:"🌦️",female_fairy:"🧚‍♀️","flag-ph":"🇵🇭","flag-pk":"🇵🇰",black_circle:"⚫",wrench:"🔧",vampire:"🧛",rain_cloud:"🌧️",snow_cloud:"🌨️","flag-pl":"🇵🇱",male_vampire:"🧛‍♂️",nut_and_bolt:"🔩",white_circle:"⚪",female_vampire:"🧛‍♀️","flag-pm":"🇵🇲",lightning:"🌩️",gear:"⚙",merperson:"🧜",tornado:"🌪","flag-pn":"🇵🇳",compression:"🗜️",merman:"🧜‍♂️",fog:"🌫",scales:"⚖️","flag-pr":"🇵🇷",wind_blowing_face:"🌬️","flag-ps":"🇵🇸",mermaid:"🧜‍♀️","flag-pt":"🇵🇹",link:"🔗",elf:"🧝",cyclone:"🌀",rainbow:"🌈",male_elf:"🧝‍♂️","flag-pw":"🇵🇼",chains:"⛓",female_elf:"🧝‍♀️","flag-py":"🇵🇾",closed_umbrella:"🌂",toolbox:"🧰",magnet:"🧲",genie:"🧞","flag-qa":"🇶🇦",umbrella:"☂",black_large_square:"⬛",male_genie:"🧞‍♂️",umbrella_with_rain_drops:"☔","flag-re":"🇷🇪",white_large_square:"⬜",alembic:"⚗",black_medium_square:"◼️",test_tube:"🧪","flag-ro":"🇷🇴",female_genie:"🧞‍♀️",umbrella_on_ground:"⛱️",zombie:"🧟",zap:"⚡",white_medium_square:"◻️","flag-rs":"🇷🇸",petri_dish:"🧫",snowflake:"❄",dna:"🧬",male_zombie:"🧟‍♂️",black_medium_small_square:"◾",ru:"🇷🇺",female_zombie:"🧟‍♀️","flag-rw":"🇷🇼",snowman:"☃",white_medium_small_square:"◽",microscope:"🔬",snowman_without_snow:"⛄",telescope:"🔭",massage:"💆",black_small_square:"▪️","flag-sa":"🇸🇦","man-getting-massage":"💆‍♂️",comet:"☄",white_small_square:"▫️","flag-sb":"🇸🇧",satellite_antenna:"📡",large_orange_diamond:"🔶","woman-getting-massage":"💆‍♀️",fire:"🔥",syringe:"💉","flag-sc":"🇸🇨",large_blue_diamond:"🔷","flag-sd":"🇸🇩",droplet:"💧",haircut:"💇",ocean:"🌊","flag-se":"🇸🇪","man-getting-haircut":"💇‍♂️",small_orange_diamond:"🔸",pill:"💊","woman-getting-haircut":"💇‍♀️",small_blue_diamond:"🔹","flag-sg":"🇸🇬",walking:"🚶",small_red_triangle:"🔺","flag-sh":"🇸🇭","man-walking":"🚶‍♂️","flag-si":"🇸🇮",door:"🚪",small_red_triangle_down:"🔻","flag-sj":"🇸🇯",diamond_shape_with_a_dot_inside:"💠","woman-walking":"🚶‍♀️",bed:"🛏",radio_button:"🔘","flag-sk":"🇸🇰",couch_and_lamp:"🛋️",white_square_button:"🔳","flag-sl":"🇸🇱",toilet:"🚽",black_square_button:"🔲","flag-sm":"🇸🇲",shower:"🚿","flag-sn":"🇸🇳",bathtub:"🛁","flag-so":"🇸🇴","flag-sr":"🇸🇷","flag-ss":"🇸🇸",lotion_bottle:"🧴","flag-st":"🇸🇹",safety_pin:"🧷",broom:"🧹","flag-sv":"🇸🇻","flag-sx":"🇸🇽",basket:"🧺","flag-sy":"🇸🇾",roll_of_paper:"🧻","flag-sz":"🇸🇿",soap:"🧼","flag-ta":"🇹🇦",sponge:"🧽",fire_extinguisher:"🧯","flag-tc":"🇹🇨","flag-td":"🇹🇩",shopping_trolley:"🛒",runner:"🏃","flag-tf":"🇹🇫",smoking:"🚬",coffin:"⚰","man-running":"🏃‍♂️","flag-tg":"🇹🇬","woman-running":"🏃‍♀️",funeral_urn:"⚱️","flag-th":"🇹🇭",moyai:"🗿","flag-tj":"🇹🇯",dancer:"💃","flag-tk":"🇹🇰",man_dancing:"🕺","flag-tl":"🇹🇱",man_in_business_suit_levitating:"🕴️","flag-tm":"🇹🇲",dancers:"👯","man-with-bunny-ears-partying":"👯‍♂️","flag-tn":"🇹🇳","flag-to":"🇹🇴","woman-with-bunny-ears-partying":"👯‍♀️","flag-tr":"🇹🇷",person_in_steamy_room:"🧖",man_in_steamy_room:"🧖‍♂️","flag-tt":"🇹🇹",woman_in_steamy_room:"🧖‍♀️","flag-tv":"🇹🇻","flag-tw":"🇹🇼",person_climbing:"🧗",man_climbing:"🧗‍♂️","flag-tz":"🇹🇿","flag-ua":"🇺🇦",woman_climbing:"🧗‍♀️","flag-ug":"🇺🇬",fencer:"🤺","flag-um":"🇺🇲",horse_racing:"🏇",skier:"⛷","flag-un":"🇺🇳",us:"🇺🇸",snowboarder:"🏂",golfer:"🏌️","flag-uy":"🇺🇾","flag-uz":"🇺🇿","man-golfing":"🏌️‍♂️","flag-va":"🇻🇦","woman-golfing":"🏌️‍♀️","flag-vc":"🇻🇨",surfer:"🏄","man-surfing":"🏄‍♂️","flag-ve":"🇻🇪","flag-vg":"🇻🇬","woman-surfing":"🏄‍♀️",rowboat:"🚣","flag-vi":"🇻🇮","man-rowing-boat":"🚣‍♂️","flag-vn":"🇻🇳","flag-vu":"🇻🇺","woman-rowing-boat":"🚣‍♀️",swimmer:"🏊","flag-wf":"🇼🇫","man-swimming":"🏊‍♂️","flag-ws":"🇼🇸","woman-swimming":"🏊‍♀️","flag-xk":"🇽🇰",person_with_ball:"⛹️","flag-ye":"🇾🇪","man-bouncing-ball":"⛹️‍♂️","flag-yt":"🇾🇹","woman-bouncing-ball":"⛹️‍♀️","flag-za":"🇿🇦","flag-zm":"🇿🇲",weight_lifter:"🏋️","man-lifting-weights":"🏋️‍♂️","flag-zw":"🇿🇼","woman-lifting-weights":"🏋️‍♀️","flag-england":"🏴󠁧󠁢󠁥󠁮󠁧󠁿",bicyclist:"🚴","flag-scotland":"🏴󠁧󠁢󠁳󠁣󠁴󠁿","flag-wales":"🏴󠁧󠁢󠁷󠁬󠁳󠁿","man-biking":"🚴‍♂️","woman-biking":"🚴‍♀️",mountain_bicyclist:"🚵","man-mountain-biking":"🚵‍♂️","woman-mountain-biking":"🚵‍♀️",person_doing_cartwheel:"🤸","man-cartwheeling":"🤸‍♂️","woman-cartwheeling":"🤸‍♀️",wrestlers:"🤼","man-wrestling":"🤼‍♂️","woman-wrestling":"🤼‍♀️",water_polo:"🤽","man-playing-water-polo":"🤽‍♂️","woman-playing-water-polo":"🤽‍♀️",handball:"🤾","man-playing-handball":"🤾‍♂️","woman-playing-handball":"🤾‍♀️",juggling:"🤹","man-juggling":"🤹‍♂️","woman-juggling":"🤹‍♀️",person_in_lotus_position:"🧘",man_in_lotus_position:"🧘‍♂️",woman_in_lotus_position:"🧘‍♀️",bath:"🛀",sleeping_accommodation:"🛌",two_women_holding_hands:"👭",couple:"👫",two_men_holding_hands:"👬",couplekiss:"💏","woman-kiss-man":"👩‍❤️‍💋‍👨","man-kiss-man":"👨‍❤️‍💋‍👨","woman-kiss-woman":"👩‍❤️‍💋‍👩",couple_with_heart:"💑","woman-heart-man":"👩‍❤️‍👨","man-heart-man":"👨‍❤️‍👨","woman-heart-woman":"👩‍❤️‍👩",family:"👪","man-woman-boy":"👨‍👩‍👦","man-woman-girl":"👨‍👩‍👧","man-woman-girl-boy":"👨‍👩‍👧‍👦","man-woman-boy-boy":"👨‍👩‍👦‍👦","man-woman-girl-girl":"👨‍👩‍👧‍👧","man-man-boy":"👨‍👨‍👦","man-man-girl":"👨‍👨‍👧","man-man-girl-boy":"👨‍👨‍👧‍👦","man-man-boy-boy":"👨‍👨‍👦‍👦","man-man-girl-girl":"👨‍👨‍👧‍👧","woman-woman-boy":"👩‍👩‍👦","woman-woman-girl":"👩‍👩‍👧","woman-woman-girl-boy":"👩‍👩‍👧‍👦","woman-woman-boy-boy":"👩‍👩‍👦‍👦","woman-woman-girl-girl":"👩‍👩‍👧‍👧","man-boy":"👨‍👦","man-boy-boy":"👨‍👦‍👦","man-girl":"👨‍👧","man-girl-boy":"👨‍👧‍👦","man-girl-girl":"👨‍👧‍👧","woman-boy":"👩‍👦","woman-boy-boy":"👩‍👦‍👦","woman-girl":"👩‍👧","woman-girl-boy":"👩‍👧‍👦","woman-girl-girl":"👩‍👧‍👧",speaking_head_in_silhouette:"🗣️",bust_in_silhouette:"👤",busts_in_silhouette:"👥",footprints:"👣","grinning face":"😀","grinning face with big eyes":"😃","grinning face with smiling eyes":"😄","beaming face with smiling eyes":"😁","grinning squinting face":"😆","grinning face with sweat":"😅","rolling on the floor laughing":"🤣","face with tears of joy":"😂","slightly smiling face":"🙂","upside-down face":"🙃","winking face":"😉","smiling face with smiling eyes":"😊","smiling face with halo":"😇","smiling face with hearts":"🥰","smiling face with heart-eyes":"😍","face blowing a kiss":"😘","kissing face":"😗","smiling face":"☺","kissing face with closed eyes":"😚","kissing face with smiling eyes":"😙","face savoring food":"😋","face with tongue":"😛","winking face with tongue":"😜","zany face":"🤪","squinting face with tongue":"😝","money-mouth face":"🤑","hugging face":"🤗","face with hand over mouth":"🤭","shushing face":"🤫","thinking face":"🤔","zipper-mouth face":"🤐","face with raised eyebrow":"🤨","neutral face":"😐","expressionless face":"😑","face without mouth":"😶","smirking face":"😏","unamused face":"😒","face with rolling eyes":"🙄","grimacing face":"😬","lying face":"🤥","relieved face":"😌","pensive face":"😔","sleepy face":"😪","drooling face":"🤤","sleeping face":"😴","face with medical mask":"😷","face with thermometer":"🤒","face with head-bandage":"🤕","nauseated face":"🤢","face vomiting":"🤮","sneezing face":"🤧","hot face":"🥵","cold face":"🥶","woozy face":"🥴","dizzy face":"😵","exploding head":"🤯","cowboy hat face":"🤠","partying face":"🥳","smiling face with sunglasses":"😎","nerd face":"🤓","face with monocle":"🧐","confused face":"😕","worried face":"😟","slightly frowning face":"🙁","frowning face":"☹","face with open mouth":"😮","hushed face":"😯","astonished face":"😲","flushed face":"😳","pleading face":"🥺","frowning face with open mouth":"😦","anguished face":"😧","fearful face":"😨","anxious face with sweat":"😰","sad but relieved face":"😥","crying face":"😢","loudly crying face":"😭","face screaming in fear":"😱","confounded face":"😖","persevering face":"😣","disappointed face":"😞","downcast face with sweat":"😓","weary face":"😩","tired face":"😫","face with steam from nose":"😤","pouting face":"😡","angry face":"😠","face with symbols on mouth":"🤬","smiling face with horns":"😈","angry face with horns":"👿","skull and crossbones":"☠","pile of poo":"💩","clown face":"🤡",ogre:"👹",goblin:"👺","alien monster":"👾",robot:"🤖","grinning cat":"😺","grinning cat with smiling eyes":"😸","cat with tears of joy":"😹","smiling cat with heart-eyes":"😻","cat with wry smile":"😼","kissing cat":"😽","weary cat":"🙀","crying cat":"😿","pouting cat":"😾","see-no-evil monkey":"🙈","hear-no-evil monkey":"🙉","speak-no-evil monkey":"🙊","kiss mark":"💋","love letter":"💌","heart with arrow":"💘","heart with ribbon":"💝","sparkling heart":"💖","growing heart":"💗","beating heart":"💓","revolving hearts":"💞","two hearts":"💕","heart decoration":"💟","heart exclamation":"❣","broken heart":"💔","red heart":"❤","orange heart":"🧡","yellow heart":"💛","green heart":"💚","blue heart":"💙","purple heart":"💜","black heart":"🖤","hundred points":"💯","anger symbol":"💢",collision:"💥","sweat droplets":"💦","dashing away":"💨","speech balloon":"💬","eye in speech bubble":"👁️‍🗨️","left speech bubble":"🗨","right anger bubble":"🗯","thought balloon":"💭","waving hand":"👋","raised back of hand":"🤚","hand with fingers splayed":"🖐","raised hand":"✋","vulcan salute":"🖖","OK hand":"👌","victory hand":"✌","crossed fingers":"🤞","love-you gesture":"🤟","sign of the horns":"🤘","call me hand":"🤙","backhand index pointing left":"👈","backhand index pointing right":"👉","backhand index pointing up":"👆","middle finger":"🖕","backhand index pointing down":"👇","index pointing up":"☝","thumbs up":"👍","thumbs down":"👎","raised fist":"✊","oncoming fist":"👊","left-facing fist":"🤛","right-facing fist":"🤜","clapping hands":"👏","raising hands":"🙌","open hands":"👐","palms up together":"🤲","folded hands":"🙏","writing hand":"✍","nail polish":"💅","flexed biceps":"💪",mouth:"👄",person:"🧑","person: blond hair":"👱","man: beard":"🧔","man: red hair":"👨‍🦰","man: curly hair":"👨‍🦱","man: white hair":"👨‍🦳","man: bald":"👨‍🦲","woman: red hair":"👩‍🦰","woman: curly hair":"👩‍🦱","woman: white hair":"👩‍🦳","woman: bald":"👩‍🦲","woman: blond hair":"👱‍♀️","man: blond hair":"👱‍♂️","older person":"🧓","old man":"👴","old woman":"👵","person frowning":"🙍","man frowning":"🙍‍♂️","woman frowning":"🙍‍♀️","person pouting":"🙎","man pouting":"🙎‍♂️","woman pouting":"🙎‍♀️","person gesturing NO":"🙅","man gesturing NO":"🙅‍♂️","woman gesturing NO":"🙅‍♀️","person gesturing OK":"🙆","man gesturing OK":"🙆‍♂️","woman gesturing OK":"🙆‍♀️","person tipping hand":"💁","man tipping hand":"💁‍♂️","woman tipping hand":"💁‍♀️","person raising hand":"🙋","man raising hand":"🙋‍♂️","woman raising hand":"🙋‍♀️","person bowing":"🙇","man bowing":"🙇‍♂️","woman bowing":"🙇‍♀️","person facepalming":"🤦","man facepalming":"🤦‍♂️","woman facepalming":"🤦‍♀️","person shrugging":"🤷","man shrugging":"🤷‍♂️","woman shrugging":"🤷‍♀️","man health worker":"👨‍⚕️","woman health worker":"👩‍⚕️","man student":"👨‍🎓","woman student":"👩‍🎓","man teacher":"👨‍🏫","woman teacher":"👩‍🏫","man judge":"👨‍⚖️","woman judge":"👩‍⚖️","man farmer":"👨‍🌾","woman farmer":"👩‍🌾","man cook":"👨‍🍳","woman cook":"👩‍🍳","man mechanic":"👨‍🔧","woman mechanic":"👩‍🔧","man factory worker":"👨‍🏭","woman factory worker":"👩‍🏭","man office worker":"👨‍💼","woman office worker":"👩‍💼","man scientist":"👨‍🔬","woman scientist":"👩‍🔬","man technologist":"👨‍💻","woman technologist":"👩‍💻","man singer":"👨‍🎤","woman singer":"👩‍🎤","man artist":"👨‍🎨","woman artist":"👩‍🎨","man pilot":"👨‍✈️","woman pilot":"👩‍✈️","man astronaut":"👨‍🚀","woman astronaut":"👩‍🚀","man firefighter":"👨‍🚒","woman firefighter":"👩‍🚒","police officer":"👮","man police officer":"👮‍♂️","woman police officer":"👮‍♀️",detective:"🕵","man detective":"🕵️‍♂️","woman detective":"🕵️‍♀️",guard:"💂","man guard":"💂‍♂️","woman guard":"💂‍♀️","construction worker":"👷","man construction worker":"👷‍♂️","woman construction worker":"👷‍♀️","person wearing turban":"👳","man wearing turban":"👳‍♂️","woman wearing turban":"👳‍♀️","person with skullcap":"👲","woman with headscarf":"🧕","person in tuxedo":"🤵","person with veil":"👰","pregnant woman":"🤰","baby angel":"👼","Santa Claus":"🎅","Mrs. Claus":"🤶","man superhero":"🦸‍♂️","woman superhero":"🦸‍♀️","man supervillain":"🦹‍♂️","woman supervillain":"🦹‍♀️","man mage":"🧙‍♂️","woman mage":"🧙‍♀️","man fairy":"🧚‍♂️","woman fairy":"🧚‍♀️","man vampire":"🧛‍♂️","woman vampire":"🧛‍♀️","man elf":"🧝‍♂️","woman elf":"🧝‍♀️","man genie":"🧞‍♂️","woman genie":"🧞‍♀️","man zombie":"🧟‍♂️","woman zombie":"🧟‍♀️","person getting massage":"💆","man getting massage":"💆‍♂️","woman getting massage":"💆‍♀️","person getting haircut":"💇","man getting haircut":"💇‍♂️","woman getting haircut":"💇‍♀️","person walking":"🚶","man walking":"🚶‍♂️","woman walking":"🚶‍♀️","person running":"🏃","man running":"🏃‍♂️","woman running":"🏃‍♀️","woman dancing":"💃","man dancing":"🕺","person in suit levitating":"🕴","people with bunny ears":"👯","men with bunny ears":"👯‍♂️","women with bunny ears":"👯‍♀️","person in steamy room":"🧖","man in steamy room":"🧖‍♂️","woman in steamy room":"🧖‍♀️","person climbing":"🧗","man climbing":"🧗‍♂️","woman climbing":"🧗‍♀️","person fencing":"🤺","horse racing":"🏇","person golfing":"🏌","man golfing":"🏌️‍♂️","woman golfing":"🏌️‍♀️","person surfing":"🏄","man surfing":"🏄‍♂️","woman surfing":"🏄‍♀️","person rowing boat":"🚣","man rowing boat":"🚣‍♂️","woman rowing boat":"🚣‍♀️","person swimming":"🏊","man swimming":"🏊‍♂️","woman swimming":"🏊‍♀️","person bouncing ball":"⛹","man bouncing ball":"⛹️‍♂️","woman bouncing ball":"⛹️‍♀️","person lifting weights":"🏋","man lifting weights":"🏋️‍♂️","woman lifting weights":"🏋️‍♀️","person biking":"🚴","man biking":"🚴‍♂️","woman biking":"🚴‍♀️","person mountain biking":"🚵","man mountain biking":"🚵‍♂️","woman mountain biking":"🚵‍♀️","person cartwheeling":"🤸","man cartwheeling":"🤸‍♂️","woman cartwheeling":"🤸‍♀️","people wrestling":"🤼","men wrestling":"🤼‍♂️","women wrestling":"🤼‍♀️","person playing water polo":"🤽","man playing water polo":"🤽‍♂️","woman playing water polo":"🤽‍♀️","person playing handball":"🤾","man playing handball":"🤾‍♂️","woman playing handball":"🤾‍♀️","person juggling":"🤹","man juggling":"🤹‍♂️","woman juggling":"🤹‍♀️","person in lotus position":"🧘","man in lotus position":"🧘‍♂️","woman in lotus position":"🧘‍♀️","person taking bath":"🛀","person in bed":"🛌","women holding hands":"👭","woman and man holding hands":"👫","men holding hands":"👬","kiss: woman, man":"👩‍❤️‍💋‍👨","kiss: man, man":"👨‍❤️‍💋‍👨","kiss: woman, woman":"👩‍❤️‍💋‍👩","couple with heart":"💑","couple with heart: woman, man":"👩‍❤️‍👨","couple with heart: man, man":"👨‍❤️‍👨","couple with heart: woman, woman":"👩‍❤️‍👩","family: man, woman, boy":"👨‍👩‍👦","family: man, woman, girl":"👨‍👩‍👧","family: man, woman, girl, boy":"👨‍👩‍👧‍👦","family: man, woman, boy, boy":"👨‍👩‍👦‍👦","family: man, woman, girl, girl":"👨‍👩‍👧‍👧","family: man, man, boy":"👨‍👨‍👦","family: man, man, girl":"👨‍👨‍👧","family: man, man, girl, boy":"👨‍👨‍👧‍👦","family: man, man, boy, boy":"👨‍👨‍👦‍👦","family: man, man, girl, girl":"👨‍👨‍👧‍👧","family: woman, woman, boy":"👩‍👩‍👦","family: woman, woman, girl":"👩‍👩‍👧","family: woman, woman, girl, boy":"👩‍👩‍👧‍👦","family: woman, woman, boy, boy":"👩‍👩‍👦‍👦","family: woman, woman, girl, girl":"👩‍👩‍👧‍👧","family: man, boy":"👨‍👦","family: man, boy, boy":"👨‍👦‍👦","family: man, girl":"👨‍👧","family: man, girl, boy":"👨‍👧‍👦","family: man, girl, girl":"👨‍👧‍👧","family: woman, boy":"👩‍👦","family: woman, boy, boy":"👩‍👦‍👦","family: woman, girl":"👩‍👧","family: woman, girl, boy":"👩‍👧‍👦","family: woman, girl, girl":"👩‍👧‍👧","speaking head":"🗣","bust in silhouette":"👤","busts in silhouette":"👥","monkey face":"🐵","dog face":"🐶",fox:"🦊","cat face":"🐱",lion:"🦁","tiger face":"🐯","horse face":"🐴",unicorn:"🦄",zebra:"🦓","cow face":"🐮","water buffalo":"🐃","pig face":"🐷","pig nose":"🐽",ewe:"🐑","two-hump camel":"🐫",giraffe:"🦒","mouse face":"🐭","rabbit face":"🐰",panda:"🐼","paw prints":"🐾","hatching chick":"🐣","baby chick":"🐤","front-facing baby chick":"🐥",dove:"🕊","dragon face":"🐲","T-Rex":"🦖","spouting whale":"🐳","tropical fish":"🐠","spiral shell":"🐚",honeybee:"🐝","lady beetle":"🐞","spider web":"🕸","cherry blossom":"🌸","white flower":"💮","wilted flower":"🥀","evergreen tree":"🌲","deciduous tree":"🌳","palm tree":"🌴","sheaf of rice":"🌾","four leaf clover":"🍀","maple leaf":"🍁","fallen leaf":"🍂","leaf fluttering in wind":"🍃","red apple":"🍎","green apple":"🍏","kiwi fruit":"🥝","ear of corn":"🌽","hot pepper":"🌶","leafy green":"🥬","baguette bread":"🥖","cheese wedge":"🧀","meat on bone":"🍖","poultry leg":"🍗","cut of meat":"🥩","french fries":"🍟","hot dog":"🌭","stuffed flatbread":"🥙",cooking:"🍳","shallow pan of food":"🥘","pot of food":"🍲","bowl with spoon":"🥣","green salad":"🥗","canned food":"🥫","bento box":"🍱","rice cracker":"🍘","rice ball":"🍙","cooked rice":"🍚","curry rice":"🍛","steaming bowl":"🍜","roasted sweet potato":"🍠","fried shrimp":"🍤","fish cake with swirl":"🍥","moon cake":"🥮","fortune cookie":"🥠","takeout box":"🥡","soft ice cream":"🍦","shaved ice":"🍧","ice cream":"🍨","birthday cake":"🎂",shortcake:"🍰","chocolate bar":"🍫","honey pot":"🍯","baby bottle":"🍼","glass of milk":"🥛","hot beverage":"☕","teacup without handle":"🍵","bottle with popping cork":"🍾","wine glass":"🍷","cocktail glass":"🍸","tropical drink":"🍹","beer mug":"🍺","clinking beer mugs":"🍻","clinking glasses":"🥂","tumbler glass":"🥃","cup with straw":"🥤","fork and knife with plate":"🍽","fork and knife":"🍴","kitchen knife":"🔪","globe showing Europe-Africa":"🌍","globe showing Americas":"🌎","globe showing Asia-Australia":"🌏","globe with meridians":"🌐","world map":"🗺","map of Japan":"🗾","snow-capped mountain":"🏔","mount fuji":"🗻","beach with umbrella":"🏖","desert island":"🏝","national park":"🏞","classical building":"🏛","building construction":"🏗",brick:"🧱",houses:"🏘","derelict house":"🏚","house with garden":"🏡","office building":"🏢","Japanese post office":"🏣","post office":"🏤","love hotel":"🏩","convenience store":"🏪","department store":"🏬","Japanese castle":"🏯",castle:"🏰","Tokyo tower":"🗼","Statue of Liberty":"🗽","shinto shrine":"⛩","night with stars":"🌃","sunrise over mountains":"🌄","cityscape at dusk":"🌆",sunset:"🌇","bridge at night":"🌉","hot springs":"♨","carousel horse":"🎠","ferris wheel":"🎡","roller coaster":"🎢","barber pole":"💈","circus tent":"🎪",locomotive:"🚂","railway car":"🚃","high-speed train":"🚄","bullet train":"🚅","light rail":"🚈","mountain railway":"🚞","tram car":"🚋","oncoming bus":"🚍","fire engine":"🚒","police car":"🚓","oncoming police car":"🚔","oncoming taxi":"🚖",automobile:"🚗","oncoming automobile":"🚘","sport utility vehicle":"🚙","delivery truck":"🚚","articulated lorry":"🚛","racing car":"🏎",motorcycle:"🏍","motor scooter":"🛵",bicycle:"🚲","kick scooter":"🛴","bus stop":"🚏","railway track":"🛤","oil drum":"🛢","fuel pump":"⛽","police car light":"🚨","horizontal traffic light":"🚥","vertical traffic light":"🚦","stop sign":"🛑",sailboat:"⛵","passenger ship":"🛳","motor boat":"🛥","small airplane":"🛩","airplane departure":"🛫","airplane arrival":"🛬","suspension railway":"🚟","mountain cableway":"🚠","aerial tramway":"🚡","flying saucer":"🛸","bellhop bell":"🛎","hourglass done":"⌛","hourglass not done":"⏳","alarm clock":"⏰","timer clock":"⏲","mantelpiece clock":"🕰","twelve o’clock":"🕛","twelve-thirty":"🕧","one o’clock":"🕐","one-thirty":"🕜","two o’clock":"🕑","two-thirty":"🕝","three o’clock":"🕒","three-thirty":"🕞","four o’clock":"🕓","four-thirty":"🕟","five o’clock":"🕔","five-thirty":"🕠","six o’clock":"🕕","six-thirty":"🕡","seven o’clock":"🕖","seven-thirty":"🕢","eight o’clock":"🕗","eight-thirty":"🕣","nine o’clock":"🕘","nine-thirty":"🕤","ten o’clock":"🕙","ten-thirty":"🕥","eleven o’clock":"🕚","eleven-thirty":"🕦","new moon":"🌑","waxing crescent moon":"🌒","first quarter moon":"🌓","waxing gibbous moon":"🌔","full moon":"🌕","waning gibbous moon":"🌖","last quarter moon":"🌗","waning crescent moon":"🌘","crescent moon":"🌙","new moon face":"🌚","first quarter moon face":"🌛","last quarter moon face":"🌜",sun:"☀","full moon face":"🌝","sun with face":"🌞","glowing star":"🌟","shooting star":"🌠","milky way":"🌌","sun behind cloud":"⛅","cloud with lightning and rain":"⛈","sun behind small cloud":"🌤","sun behind large cloud":"🌥","sun behind rain cloud":"🌦","cloud with rain":"🌧","cloud with snow":"🌨","cloud with lightning":"🌩","wind face":"🌬","closed umbrella":"🌂","umbrella with rain drops":"☔","umbrella on ground":"⛱","high voltage":"⚡","snowman without snow":"⛄","water wave":"🌊","jack-o-lantern":"🎃","Christmas tree":"🎄","party popper":"🎉","confetti ball":"🎊","tanabata tree":"🎋","pine decoration":"🎍","Japanese dolls":"🎎","carp streamer":"🎏","wind chime":"🎐","moon viewing ceremony":"🎑","red envelope":"🧧","wrapped gift":"🎁","reminder ribbon":"🎗","admission tickets":"🎟","military medal":"🎖","sports medal":"🏅","1st place medal":"🥇","2nd place medal":"🥈","3rd place medal":"🥉","soccer ball":"⚽","american football":"🏈","rugby football":"🏉","flying disc":"🥏","cricket game":"🏏","field hockey":"🏑","ice hockey":"🏒","ping pong":"🏓",badminton:"🏸","boxing glove":"🥊","martial arts uniform":"🥋","goal net":"🥅","flag in hole":"⛳","ice skate":"⛸","fishing pole":"🎣","running shirt":"🎽",skis:"🎿","curling stone":"🥌","direct hit":"🎯","pool 8 ball":"🎱","crystal ball":"🔮","nazar amulet":"🧿","video game":"🎮","slot machine":"🎰","game die":"🎲","puzzle piece":"🧩","teddy bear":"🧸","spade suit":"♠","heart suit":"♥","diamond suit":"♦","club suit":"♣","chess pawn":"♟",joker:"🃏","mahjong red dragon":"🀄","flower playing cards":"🎴","performing arts":"🎭","framed picture":"🖼","artist palette":"🎨",glasses:"👓","lab coat":"🥼","t-shirt":"👕","woman’s clothes":"👚","clutch bag":"👝","shopping bags":"🛍",backpack:"🎒","man’s shoe":"👞","running shoe":"👟","hiking boot":"🥾","flat shoe":"🥿","high-heeled shoe":"👠","woman’s sandal":"👡","woman’s boot":"👢","woman’s hat":"👒","top hat":"🎩","graduation cap":"🎓","billed cap":"🧢","rescue worker’s helmet":"⛑","prayer beads":"📿","gem stone":"💎","muted speaker":"🔇","speaker low volume":"🔈","speaker medium volume":"🔉","speaker high volume":"🔊",megaphone:"📣","postal horn":"📯","bell with slash":"🔕","musical score":"🎼","musical note":"🎵","musical notes":"🎶","studio microphone":"🎙","level slider":"🎚","control knobs":"🎛",headphone:"🎧","musical keyboard":"🎹",drum:"🥁","mobile phone":"📱","mobile phone with arrow":"📲",telephone:"☎","telephone receiver":"📞","fax machine":"📠","electric plug":"🔌",laptop:"💻","desktop computer":"🖥","computer mouse":"🖱","computer disk":"💽","floppy disk":"💾","optical disk":"💿","movie camera":"🎥","film frames":"🎞","film projector":"📽","clapper board":"🎬",television:"📺","camera with flash":"📸","video camera":"📹",videocassette:"📼","magnifying glass tilted left":"🔍","magnifying glass tilted right":"🔎","light bulb":"💡","red paper lantern":"🏮","notebook with decorative cover":"📔","closed book":"📕","open book":"📖","green book":"📗","blue book":"📘","orange book":"📙","page with curl":"📃","page facing up":"📄","rolled-up newspaper":"🗞","bookmark tabs":"📑","money bag":"💰","yen banknote":"💴","dollar banknote":"💵","euro banknote":"💶","pound banknote":"💷","money with wings":"💸","credit card":"💳","chart increasing with yen":"💹",envelope:"✉","incoming envelope":"📨","envelope with arrow":"📩","outbox tray":"📤","inbox tray":"📥","closed mailbox with raised flag":"📫","closed mailbox with lowered flag":"📪","open mailbox with raised flag":"📬","open mailbox with lowered flag":"📭","ballot box with ballot":"🗳",pencil:"✏","black nib":"✒","fountain pen":"🖋",pen:"🖊",paintbrush:"🖌",crayon:"🖍","file folder":"📁","open file folder":"📂","card index dividers":"🗂","tear-off calendar":"📆","spiral notepad":"🗒","spiral calendar":"🗓","card index":"📇","chart increasing":"📈","chart decreasing":"📉","bar chart":"📊","round pushpin":"📍","linked paperclips":"🖇","straight ruler":"📏","triangular ruler":"📐","card file box":"🗃","file cabinet":"🗄",locked:"🔒",unlocked:"🔓","locked with pen":"🔏","locked with key":"🔐","old key":"🗝","hammer and pick":"⚒","hammer and wrench":"🛠",dagger:"🗡","crossed swords":"⚔",pistol:"🔫","bow and arrow":"🏹","nut and bolt":"🔩",clamp:"🗜","balance scale":"⚖","test tube":"🧪","petri dish":"🧫","satellite antenna":"📡","couch and lamp":"🛋","lotion bottle":"🧴","safety pin":"🧷","roll of paper":"🧻","fire extinguisher":"🧯","shopping cart":"🛒",cigarette:"🚬","funeral urn":"⚱",moai:"🗿","ATM sign":"🏧","litter in bin sign":"🚮","potable water":"🚰","wheelchair symbol":"♿","men’s room":"🚹","women’s room":"🚺","baby symbol":"🚼","water closet":"🚾","passport control":"🛂","baggage claim":"🛄","left luggage":"🛅","children crossing":"🚸","no entry":"⛔",prohibited:"🚫","no bicycles":"🚳","no smoking":"🚭","no littering":"🚯","non-potable water":"🚱","no pedestrians":"🚷","no mobile phones":"📵","no one under eighteen":"🔞",radioactive:"☢",biohazard:"☣","up arrow":"⬆","up-right arrow":"↗","right arrow":"➡","down-right arrow":"↘","down arrow":"⬇","down-left arrow":"↙","left arrow":"⬅","up-left arrow":"↖","up-down arrow":"↕","left-right arrow":"↔","right arrow curving left":"↩","left arrow curving right":"↪","right arrow curving up":"⤴","right arrow curving down":"⤵","clockwise vertical arrows":"🔃","counterclockwise arrows button":"🔄","BACK arrow":"🔙","END arrow":"🔚","ON! arrow":"🔛","SOON arrow":"🔜","TOP arrow":"🔝","place of worship":"🛐","atom symbol":"⚛",om:"🕉","star of David":"✡","wheel of dharma":"☸","yin yang":"☯","latin cross":"✝","orthodox cross":"☦","star and crescent":"☪","peace symbol":"☮",menorah:"🕎","dotted six-pointed star":"🔯",Aries:"♈",Taurus:"♉",Gemini:"♊",Cancer:"♋",Leo:"♌",Virgo:"♍",Libra:"♎",Scorpio:"♏",Sagittarius:"♐",Capricorn:"♑",Aquarius:"♒",Pisces:"♓",Ophiuchus:"⛎","shuffle tracks button":"🔀","repeat button":"🔁","repeat single button":"🔂","play button":"▶","fast-forward button":"⏩","next track button":"⏭","play or pause button":"⏯","reverse button":"◀","fast reverse button":"⏪","last track button":"⏮","upwards button":"🔼","fast up button":"⏫","downwards button":"🔽","fast down button":"⏬","pause button":"⏸","stop button":"⏹","record button":"⏺","eject button":"⏏","dim button":"🔅","bright button":"🔆","antenna bars":"📶","vibration mode":"📳","mobile phone off":"📴","female sign":"♀","male sign":"♂",multiply:"✖",plus:"➕",minus:"➖",divide:"➗","double exclamation mark":"‼","exclamation question mark":"⁉","question mark":"❓","white question mark":"❔","white exclamation mark":"❕","exclamation mark":"❗","wavy dash":"〰","currency exchange":"💱","heavy dollar sign":"💲","medical symbol":"⚕","recycling symbol":"♻","fleur-de-lis":"⚜","trident emblem":"🔱","name badge":"📛","Japanese symbol for beginner":"🔰","hollow red circle":"⭕","check mark button":"✅","check box with check":"☑","check mark":"✔","cross mark":"❌","cross mark button":"❎","curly loop":"➰","double curly loop":"➿","part alternation mark":"〽","eight-spoked asterisk":"✳","eight-pointed star":"✴","trade mark":"™","keycap: #":"#️⃣","keycap: *":"*️⃣","keycap: 0":"0️⃣","keycap: 1":"1️⃣","keycap: 2":"2️⃣","keycap: 3":"3️⃣","keycap: 4":"4️⃣","keycap: 5":"5️⃣","keycap: 6":"6️⃣","keycap: 7":"7️⃣","keycap: 8":"8️⃣","keycap: 9":"9️⃣","keycap: 10":"🔟","input latin uppercase":"🔠","input latin lowercase":"🔡","input numbers":"🔢","input symbols":"🔣","input latin letters":"🔤","A button (blood type)":"🅰","AB button (blood type)":"🆎","B button (blood type)":"🅱","CL button":"🆑","COOL button":"🆒","FREE button":"🆓",information:"ℹ","ID button":"🆔","circled M":"Ⓜ","NEW button":"🆕","NG button":"🆖","O button (blood type)":"🅾","OK button":"🆗","P button":"🅿","SOS button":"🆘","UP! button":"🆙","VS button":"🆚","Japanese “here” button":"🈁","Japanese “service charge” button":"🈂","Japanese “monthly amount” button":"🈷","Japanese “not free of charge” button":"🈶","Japanese “reserved” button":"🈯","Japanese “bargain” button":"🉐","Japanese “discount” button":"🈹","Japanese “free of charge” button":"🈚","Japanese “prohibited” button":"🈲","Japanese “acceptable” button":"🉑","Japanese “application” button":"🈸","Japanese “passing grade” button":"🈴","Japanese “vacancy” button":"🈳","Japanese “congratulations” button":"㊗","Japanese “secret” button":"㊙","Japanese “open for business” button":"🈺","Japanese “no vacancy” button":"🈵","red circle":"🔴","blue circle":"🔵","black circle":"⚫","white circle":"⚪","black large square":"⬛","white large square":"⬜","black medium square":"◼","white medium square":"◻","black medium-small square":"◾","white medium-small square":"◽","black small square":"▪","white small square":"▫","large orange diamond":"🔶","large blue diamond":"🔷","small orange diamond":"🔸","small blue diamond":"🔹","red triangle pointed up":"🔺","red triangle pointed down":"🔻","diamond with a dot":"💠","radio button":"🔘","white square button":"🔳","black square button":"🔲","chequered flag":"🏁","triangular flag":"🚩","crossed flags":"🎌","black flag":"🏴","white flag":"🏳","rainbow flag":"🏳️‍🌈","pirate flag":"🏴‍☠️","flag: Ascension Island":"🇦🇨","flag: Andorra":"🇦🇩","flag: United Arab Emirates":"🇦🇪","flag: Afghanistan":"🇦🇫","flag: Antigua & Barbuda":"🇦🇬","flag: Anguilla":"🇦🇮","flag: Albania":"🇦🇱","flag: Armenia":"🇦🇲","flag: Angola":"🇦🇴","flag: Antarctica":"🇦🇶","flag: Argentina":"🇦🇷","flag: American Samoa":"🇦🇸","flag: Austria":"🇦🇹","flag: Australia":"🇦🇺","flag: Aruba":"🇦🇼","flag: Åland Islands":"🇦🇽","flag: Azerbaijan":"🇦🇿","flag: Bosnia & Herzegovina":"🇧🇦","flag: Barbados":"🇧🇧","flag: Bangladesh":"🇧🇩","flag: Belgium":"🇧🇪","flag: Burkina Faso":"🇧🇫","flag: Bulgaria":"🇧🇬","flag: Bahrain":"🇧🇭","flag: Burundi":"🇧🇮","flag: Benin":"🇧🇯","flag: St. Barthélemy":"🇧🇱","flag: Bermuda":"🇧🇲","flag: Brunei":"🇧🇳","flag: Bolivia":"🇧🇴","flag: Caribbean Netherlands":"🇧🇶","flag: Brazil":"🇧🇷","flag: Bahamas":"🇧🇸","flag: Bhutan":"🇧🇹","flag: Bouvet Island":"🇧🇻","flag: Botswana":"🇧🇼","flag: Belarus":"🇧🇾","flag: Belize":"🇧🇿","flag: Canada":"🇨🇦","flag: Cocos (Keeling) Islands":"🇨🇨","flag: Congo - Kinshasa":"🇨🇩","flag: Central African Republic":"🇨🇫","flag: Congo - Brazzaville":"🇨🇬","flag: Switzerland":"🇨🇭","flag: Côte d’Ivoire":"🇨🇮","flag: Cook Islands":"🇨🇰","flag: Chile":"🇨🇱","flag: Cameroon":"🇨🇲","flag: China":"🇨🇳","flag: Colombia":"🇨🇴","flag: Clipperton Island":"🇨🇵","flag: Costa Rica":"🇨🇷","flag: Cuba":"🇨🇺","flag: Cape Verde":"🇨🇻","flag: Curaçao":"🇨🇼","flag: Christmas Island":"🇨🇽","flag: Cyprus":"🇨🇾","flag: Czechia":"🇨🇿","flag: Germany":"🇩🇪","flag: Diego Garcia":"🇩🇬","flag: Djibouti":"🇩🇯","flag: Denmark":"🇩🇰","flag: Dominica":"🇩🇲","flag: Dominican Republic":"🇩🇴","flag: Algeria":"🇩🇿","flag: Ceuta & Melilla":"🇪🇦","flag: Ecuador":"🇪🇨","flag: Estonia":"🇪🇪","flag: Egypt":"🇪🇬","flag: Western Sahara":"🇪🇭","flag: Eritrea":"🇪🇷","flag: Spain":"🇪🇸","flag: Ethiopia":"🇪🇹","flag: European Union":"🇪🇺","flag: Finland":"🇫🇮","flag: Fiji":"🇫🇯","flag: Falkland Islands":"🇫🇰","flag: Micronesia":"🇫🇲","flag: Faroe Islands":"🇫🇴","flag: France":"🇫🇷","flag: Gabon":"🇬🇦","flag: United Kingdom":"🇬🇧","flag: Grenada":"🇬🇩","flag: Georgia":"🇬🇪","flag: French Guiana":"🇬🇫","flag: Guernsey":"🇬🇬","flag: Ghana":"🇬🇭","flag: Gibraltar":"🇬🇮","flag: Greenland":"🇬🇱","flag: Gambia":"🇬🇲","flag: Guinea":"🇬🇳","flag: Guadeloupe":"🇬🇵","flag: Equatorial Guinea":"🇬🇶","flag: Greece":"🇬🇷","flag: South Georgia & South Sandwich Islands":"🇬🇸","flag: Guatemala":"🇬🇹","flag: Guam":"🇬🇺","flag: Guinea-Bissau":"🇬🇼","flag: Guyana":"🇬🇾","flag: Hong Kong SAR China":"🇭🇰","flag: Heard & McDonald Islands":"🇭🇲","flag: Honduras":"🇭🇳","flag: Croatia":"🇭🇷","flag: Haiti":"🇭🇹","flag: Hungary":"🇭🇺","flag: Canary Islands":"🇮🇨","flag: Indonesia":"🇮🇩","flag: Ireland":"🇮🇪","flag: Israel":"🇮🇱","flag: Isle of Man":"🇮🇲","flag: India":"🇮🇳","flag: British Indian Ocean Territory":"🇮🇴","flag: Iraq":"🇮🇶","flag: Iran":"🇮🇷","flag: Iceland":"🇮🇸","flag: Italy":"🇮🇹","flag: Jersey":"🇯🇪","flag: Jamaica":"🇯🇲","flag: Jordan":"🇯🇴","flag: Japan":"🇯🇵","flag: Kenya":"🇰🇪","flag: Kyrgyzstan":"🇰🇬","flag: Cambodia":"🇰🇭","flag: Kiribati":"🇰🇮","flag: Comoros":"🇰🇲","flag: St. Kitts & Nevis":"🇰🇳","flag: North Korea":"🇰🇵","flag: South Korea":"🇰🇷","flag: Kuwait":"🇰🇼","flag: Cayman Islands":"🇰🇾","flag: Kazakhstan":"🇰🇿","flag: Laos":"🇱🇦","flag: Lebanon":"🇱🇧","flag: St. Lucia":"🇱🇨","flag: Liechtenstein":"🇱🇮","flag: Sri Lanka":"🇱🇰","flag: Liberia":"🇱🇷","flag: Lesotho":"🇱🇸","flag: Lithuania":"🇱🇹","flag: Luxembourg":"🇱🇺","flag: Latvia":"🇱🇻","flag: Libya":"🇱🇾","flag: Morocco":"🇲🇦","flag: Monaco":"🇲🇨","flag: Moldova":"🇲🇩","flag: Montenegro":"🇲🇪","flag: St. Martin":"🇲🇫","flag: Madagascar":"🇲🇬","flag: Marshall Islands":"🇲🇭","flag: North Macedonia":"🇲🇰","flag: Mali":"🇲🇱","flag: Myanmar (Burma)":"🇲🇲","flag: Mongolia":"🇲🇳","flag: Macao SAR China":"🇲🇴","flag: Northern Mariana Islands":"🇲🇵","flag: Martinique":"🇲🇶","flag: Mauritania":"🇲🇷","flag: Montserrat":"🇲🇸","flag: Malta":"🇲🇹","flag: Mauritius":"🇲🇺","flag: Maldives":"🇲🇻","flag: Malawi":"🇲🇼","flag: Mexico":"🇲🇽","flag: Malaysia":"🇲🇾","flag: Mozambique":"🇲🇿","flag: Namibia":"🇳🇦","flag: New Caledonia":"🇳🇨","flag: Niger":"🇳🇪","flag: Norfolk Island":"🇳🇫","flag: Nigeria":"🇳🇬","flag: Nicaragua":"🇳🇮","flag: Netherlands":"🇳🇱","flag: Norway":"🇳🇴","flag: Nepal":"🇳🇵","flag: Nauru":"🇳🇷","flag: Niue":"🇳🇺","flag: New Zealand":"🇳🇿","flag: Oman":"🇴🇲","flag: Panama":"🇵🇦","flag: Peru":"🇵🇪","flag: French Polynesia":"🇵🇫","flag: Papua New Guinea":"🇵🇬","flag: Philippines":"🇵🇭","flag: Pakistan":"🇵🇰","flag: Poland":"🇵🇱","flag: St. Pierre & Miquelon":"🇵🇲","flag: Pitcairn Islands":"🇵🇳","flag: Puerto Rico":"🇵🇷","flag: Palestinian Territories":"🇵🇸","flag: Portugal":"🇵🇹","flag: Palau":"🇵🇼","flag: Paraguay":"🇵🇾","flag: Qatar":"🇶🇦","flag: Réunion":"🇷🇪","flag: Romania":"🇷🇴","flag: Serbia":"🇷🇸","flag: Russia":"🇷🇺","flag: Rwanda":"🇷🇼","flag: Saudi Arabia":"🇸🇦","flag: Solomon Islands":"🇸🇧","flag: Seychelles":"🇸🇨","flag: Sudan":"🇸🇩","flag: Sweden":"🇸🇪","flag: Singapore":"🇸🇬","flag: St. Helena":"🇸🇭","flag: Slovenia":"🇸🇮","flag: Svalbard & Jan Mayen":"🇸🇯","flag: Slovakia":"🇸🇰","flag: Sierra Leone":"🇸🇱","flag: San Marino":"🇸🇲","flag: Senegal":"🇸🇳","flag: Somalia":"🇸🇴","flag: Suriname":"🇸🇷","flag: South Sudan":"🇸🇸","flag: São Tomé & Príncipe":"🇸🇹","flag: El Salvador":"🇸🇻","flag: Sint Maarten":"🇸🇽","flag: Syria":"🇸🇾","flag: Eswatini":"🇸🇿","flag: Tristan da Cunha":"🇹🇦","flag: Turks & Caicos Islands":"🇹🇨","flag: Chad":"🇹🇩","flag: French Southern Territories":"🇹🇫","flag: Togo":"🇹🇬","flag: Thailand":"🇹🇭","flag: Tajikistan":"🇹🇯","flag: Tokelau":"🇹🇰","flag: Timor-Leste":"🇹🇱","flag: Turkmenistan":"🇹🇲","flag: Tunisia":"🇹🇳","flag: Tonga":"🇹🇴","flag: Turkey":"🇹🇷","flag: Trinidad & Tobago":"🇹🇹","flag: Tuvalu":"🇹🇻","flag: Taiwan":"🇹🇼","flag: Tanzania":"🇹🇿","flag: Ukraine":"🇺🇦","flag: Uganda":"🇺🇬","flag: U.S. Outlying Islands":"🇺🇲","flag: United Nations":"🇺🇳","flag: United States":"🇺🇸","flag: Uruguay":"🇺🇾","flag: Uzbekistan":"🇺🇿","flag: Vatican City":"🇻🇦","flag: St. Vincent & Grenadines":"🇻🇨","flag: Venezuela":"🇻🇪","flag: British Virgin Islands":"🇻🇬","flag: U.S. Virgin Islands":"🇻🇮","flag: Vietnam":"🇻🇳","flag: Vanuatu":"🇻🇺","flag: Wallis & Futuna":"🇼🇫","flag: Samoa":"🇼🇸","flag: Kosovo":"🇽🇰","flag: Yemen":"🇾🇪","flag: Mayotte":"🇾🇹","flag: South Africa":"🇿🇦","flag: Zambia":"🇿🇲","flag: Zimbabwe":"🇿🇼","flag: England":"🏴󠁧󠁢󠁥󠁮󠁧󠁿","flag: Scotland":"🏴󠁧󠁢󠁳󠁣󠁴󠁿","flag: Wales":"🏴󠁧󠁢󠁷󠁬󠁳󠁿"}},xqms:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{isDragging:!1,willDrag:!1}}}t.a=r},xstG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o,r=n("ddTe"),a=n("LEzx");!function(e){e.Forward="Forward",e.Backward="Backward"}(o||(o={}));class i extends a.a{getInitialState(){return{open:!1}}isOpen(){if(this.state.open){this.state;return!0}return!1}}const s=new i;r.exposeDebugValue("EquationAnnotationStore",s),t.b=s},"y/Vh":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fIr1");const r="user_metadata",a={table:r,columnTypes:{id:o.a.UUID,version:o.a.Number,last_version:o.a.Number,metadata:o.a.JSON,updated_at:o.a.Number}};t.b=a},y2NV:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));n("aCH8");function o(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function r(e){return!(e<=0)&&(e>=100||Math.random()<e/100)}},y6Dp:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"Ob",(function(){return m})),n.d(t,"yb",(function(){return f})),n.d(t,"zb",(function(){return g})),n.d(t,"Y",(function(){return b})),n.d(t,"F",(function(){return v})),n.d(t,"pd",(function(){return y})),n.d(t,"Rb",(function(){return S})),n.d(t,"ce",(function(){return w})),n.d(t,"vd",(function(){return k})),n.d(t,"hf",(function(){return C})),n.d(t,"rb",(function(){return M})),n.d(t,"ud",(function(){return E})),n.d(t,"Td",(function(){return _})),n.d(t,"ab",(function(){return T})),n.d(t,"lc",(function(){return x})),n.d(t,"mc",(function(){return I})),n.d(t,"kc",(function(){return P})),n.d(t,"nc",(function(){return O})),n.d(t,"Ac",(function(){return B})),n.d(t,"Bc",(function(){return L})),n.d(t,"Fc",(function(){return R})),n.d(t,"xc",(function(){return D})),n.d(t,"vc",(function(){return A})),n.d(t,"Gc",(function(){return j})),n.d(t,"Cc",(function(){return F})),n.d(t,"Kc",(function(){return V})),n.d(t,"Hc",(function(){return N})),n.d(t,"zc",(function(){return U})),n.d(t,"Jc",(function(){return z})),n.d(t,"Dc",(function(){return X})),n.d(t,"yc",(function(){return Y})),n.d(t,"Ec",(function(){return H})),n.d(t,"Ic",(function(){return q})),n.d(t,"tc",(function(){return W})),n.d(t,"Lc",(function(){return G})),n.d(t,"Sb",(function(){return Z})),n.d(t,"wc",(function(){return K})),n.d(t,"E",(function(){return J})),n.d(t,"Uc",(function(){return Q})),n.d(t,"p",(function(){return $})),n.d(t,"bc",(function(){return ee})),n.d(t,"Zb",(function(){return te})),n.d(t,"cc",(function(){return ne})),n.d(t,"ac",(function(){return oe})),n.d(t,"Vb",(function(){return re})),n.d(t,"Qd",(function(){return ae})),n.d(t,"Hd",(function(){return ie})),n.d(t,"Fd",(function(){return se})),n.d(t,"Kb",(function(){return le})),n.d(t,"Gd",(function(){return ce})),n.d(t,"Z",(function(){return de})),n.d(t,"we",(function(){return ue})),n.d(t,"ve",(function(){return pe})),n.d(t,"ye",(function(){return he})),n.d(t,"pb",(function(){return me})),n.d(t,"ff",(function(){return fe})),n.d(t,"gf",(function(){return ge})),n.d(t,"xe",(function(){return be})),n.d(t,"eb",(function(){return ve})),n.d(t,"mb",(function(){return ye})),n.d(t,"ue",(function(){return Se})),n.d(t,"te",(function(){return we})),n.d(t,"Lb",(function(){return ke})),n.d(t,"se",(function(){return Ce})),n.d(t,"s",(function(){return Me})),n.d(t,"x",(function(){return Ee})),n.d(t,"K",(function(){return _e})),n.d(t,"o",(function(){return Te})),n.d(t,"Id",(function(){return xe})),n.d(t,"J",(function(){return Ie})),n.d(t,"I",(function(){return Pe})),n.d(t,"jf",(function(){return Oe})),n.d(t,"qb",(function(){return Be})),n.d(t,"g",(function(){return Le})),n.d(t,"n",(function(){return Re})),n.d(t,"ob",(function(){return De})),n.d(t,"ec",(function(){return Ae})),n.d(t,"Ke",(function(){return je})),n.d(t,"Le",(function(){return Fe})),n.d(t,"Me",(function(){return Ve})),n.d(t,"me",(function(){return Ne})),n.d(t,"fc",(function(){return Ue})),n.d(t,"qe",(function(){return ze})),n.d(t,"re",(function(){return Xe})),n.d(t,"fb",(function(){return Ye})),n.d(t,"fd",(function(){return He})),n.d(t,"ge",(function(){return qe})),n.d(t,"De",(function(){return We})),n.d(t,"Ce",(function(){return Ge})),n.d(t,"Be",(function(){return Ze})),n.d(t,"hb",(function(){return Ke})),n.d(t,"f",(function(){return Je})),n.d(t,"P",(function(){return Qe})),n.d(t,"Bb",(function(){return $e})),n.d(t,"Oe",(function(){return et})),n.d(t,"Re",(function(){return tt})),n.d(t,"Ib",(function(){return nt})),n.d(t,"Jb",(function(){return ot})),n.d(t,"Mb",(function(){return rt})),n.d(t,"q",(function(){return at})),n.d(t,"Oc",(function(){return it})),n.d(t,"kd",(function(){return st})),n.d(t,"Tc",(function(){return lt})),n.d(t,"Sc",(function(){return ct})),n.d(t,"V",(function(){return dt})),n.d(t,"u",(function(){return ut})),n.d(t,"t",(function(){return pt})),n.d(t,"v",(function(){return ht})),n.d(t,"y",(function(){return mt})),n.d(t,"k",(function(){return ft})),n.d(t,"Rd",(function(){return gt})),n.d(t,"sc",(function(){return bt})),n.d(t,"Db",(function(){return vt})),n.d(t,"be",(function(){return yt})),n.d(t,"Nb",(function(){return St})),n.d(t,"w",(function(){return wt})),n.d(t,"Ab",(function(){return kt})),n.d(t,"kb",(function(){return Ct})),n.d(t,"Q",(function(){return Mt})),n.d(t,"tb",(function(){return Et})),n.d(t,"nb",(function(){return _t})),n.d(t,"W",(function(){return Tt})),n.d(t,"xb",(function(){return xt})),n.d(t,"L",(function(){return It})),n.d(t,"O",(function(){return Pt})),n.d(t,"Rc",(function(){return Ot})),n.d(t,"Qc",(function(){return Bt})),n.d(t,"M",(function(){return Lt})),n.d(t,"N",(function(){return Rt})),n.d(t,"Ld",(function(){return Dt})),n.d(t,"Je",(function(){return At})),n.d(t,"Ne",(function(){return jt})),n.d(t,"He",(function(){return Ft})),n.d(t,"Ge",(function(){return Vt})),n.d(t,"Ie",(function(){return Nt})),n.d(t,"Fe",(function(){return Ut})),n.d(t,"Ee",(function(){return zt})),n.d(t,"Wb",(function(){return Xt})),n.d(t,"Od",(function(){return Yt})),n.d(t,"Jd",(function(){return Ht})),n.d(t,"Nd",(function(){return qt})),n.d(t,"Kd",(function(){return Wt})),n.d(t,"Md",(function(){return Gt})),n.d(t,"R",(function(){return Zt})),n.d(t,"T",(function(){return Kt})),n.d(t,"U",(function(){return Jt})),n.d(t,"S",(function(){return Qt})),n.d(t,"lb",(function(){return $t})),n.d(t,"gc",(function(){return en})),n.d(t,"ic",(function(){return tn})),n.d(t,"ub",(function(){return nn})),n.d(t,"Fb",(function(){return on})),n.d(t,"Eb",(function(){return rn})),n.d(t,"Vc",(function(){return an})),n.d(t,"qc",(function(){return sn})),n.d(t,"oc",(function(){return ln})),n.d(t,"pc",(function(){return cn})),n.d(t,"Xb",(function(){return dn})),n.d(t,"ke",(function(){return un})),n.d(t,"Vd",(function(){return pn})),n.d(t,"ib",(function(){return hn})),n.d(t,"Yb",(function(){return mn})),n.d(t,"Gb",(function(){return fn})),n.d(t,"Ye",(function(){return gn})),n.d(t,"bf",(function(){return bn})),n.d(t,"m",(function(){return vn})),n.d(t,"hc",(function(){return yn})),n.d(t,"jc",(function(){return Sn})),n.d(t,"Hb",(function(){return wn})),n.d(t,"cf",(function(){return kn})),n.d(t,"df",(function(){return Cn})),n.d(t,"bb",(function(){return Mn})),n.d(t,"Pd",(function(){return En})),n.d(t,"yd",(function(){return _n})),n.d(t,"Ed",(function(){return Tn})),n.d(t,"Bd",(function(){return xn})),n.d(t,"Dd",(function(){return In})),n.d(t,"xd",(function(){return Pn})),n.d(t,"Ad",(function(){return On})),n.d(t,"zd",(function(){return Bn})),n.d(t,"Cd",(function(){return Ln})),n.d(t,"Qe",(function(){return Rn})),n.d(t,"Pe",(function(){return Dn})),n.d(t,"ae",(function(){return An})),n.d(t,"Xd",(function(){return jn})),n.d(t,"if",(function(){return Fn})),n.d(t,"Ud",(function(){return Vn})),n.d(t,"Tb",(function(){return Nn})),n.d(t,"Ub",(function(){return Un})),n.d(t,"Se",(function(){return zn})),n.d(t,"le",(function(){return Xn})),n.d(t,"ne",(function(){return Yn})),n.d(t,"r",(function(){return Hn})),n.d(t,"Ze",(function(){return qn})),n.d(t,"jd",(function(){return Wn})),n.d(t,"Te",(function(){return Gn})),n.d(t,"dc",(function(){return Zn})),n.d(t,"l",(function(){return Kn})),n.d(t,"od",(function(){return Jn})),n.d(t,"Ue",(function(){return Qn})),n.d(t,"Zd",(function(){return $n})),n.d(t,"vb",(function(){return eo})),n.d(t,"Pc",(function(){return to})),n.d(t,"cd",(function(){return no})),n.d(t,"dd",(function(){return oo})),n.d(t,"ld",(function(){return ro})),n.d(t,"Xc",(function(){return ao})),n.d(t,"gd",(function(){return io})),n.d(t,"X",(function(){return so})),n.d(t,"Pb",(function(){return lo})),n.d(t,"H",(function(){return co})),n.d(t,"rd",(function(){return uo})),n.d(t,"G",(function(){return po})),n.d(t,"z",(function(){return ho})),n.d(t,"md",(function(){return mo})),n.d(t,"pe",(function(){return fo})),n.d(t,"oe",(function(){return go})),n.d(t,"wb",(function(){return bo})),n.d(t,"sd",(function(){return vo})),n.d(t,"td",(function(){return yo})),n.d(t,"nd",(function(){return So})),n.d(t,"B",(function(){return wo})),n.d(t,"D",(function(){return ko})),n.d(t,"C",(function(){return Co})),n.d(t,"ze",(function(){return Mo})),n.d(t,"e",(function(){return Eo})),n.d(t,"Wc",(function(){return _o})),n.d(t,"Ae",(function(){return To})),n.d(t,"rc",(function(){return xo})),n.d(t,"ad",(function(){return Io})),n.d(t,"Mc",(function(){return Po})),n.d(t,"ed",(function(){return Oo})),n.d(t,"h",(function(){return Bo})),n.d(t,"je",(function(){return Lo})),n.d(t,"he",(function(){return Ro})),n.d(t,"ie",(function(){return Do})),n.d(t,"Qb",(function(){return Ao})),n.d(t,"af",(function(){return jo})),n.d(t,"Nc",(function(){return Fo})),n.d(t,"hd",(function(){return Vo})),n.d(t,"Yc",(function(){return No})),n.d(t,"Zc",(function(){return Uo})),n.d(t,"gb",(function(){return zo})),n.d(t,"jb",(function(){return Xo})),n.d(t,"i",(function(){return Yo})),n.d(t,"j",(function(){return Ho})),n.d(t,"sb",(function(){return qo})),n.d(t,"Cb",(function(){return Wo})),n.d(t,"Wd",(function(){return Go})),n.d(t,"Sd",(function(){return Zo})),n.d(t,"qd",(function(){return Ko})),n.d(t,"fe",(function(){return Qo})),n.d(t,"cb",(function(){return $o})),n.d(t,"Yd",(function(){return er})),n.d(t,"A",(function(){return tr})),n.d(t,"wd",(function(){return nr})),n.d(t,"id",(function(){return or})),n.d(t,"ee",(function(){return rr})),n.d(t,"d",(function(){return ar})),n.d(t,"uc",(function(){return ir})),n.d(t,"bd",(function(){return sr})),n.d(t,"ef",(function(){return lr})),n.d(t,"db",(function(){return cr})),n.d(t,"de",(function(){return dr})),n.d(t,"Xe",(function(){return ur})),n.d(t,"Ve",(function(){return pr})),n.d(t,"We",(function(){return hr}));n("3bBZ");var o=n("+LO1"),r=n("g90h"),a=n("tw5M"),i=n("mXKa"),s=n("QuSn"),l=n("bkwR"),c=n("w5u6"),d=n("sjR4");function u(e,t){o.f({environment:e,userId:Object(r.d)(t.user_id),traits:{...t,...t.tags?{original_tags:t.tags}:void 0,user_id:Object(r.d)(t.user_id)}})}function p(e,t){o.f({environment:e,userId:Object(r.d)(t.user_id),traits:{...t,user_id:Object(r.d)(t.user_id)}})}function h(){o.a()}function m(e){const{environment:t,experiment_id:n,experiment_group:r,experiment_version:a}=e,s=Object(i.getSessionExperimentExposure)(n);Boolean(s)&&s===Object(i.getCombinedExperimentValue)(a,r)||(o.i(t,"experiment_exposure",{experiment_id:n,experiment_group:r,experiment_version:a}),Object(i.setSessionExperimentExposure)(n,r,a))}function f(e,t){o.i(e,"download_desktop_app",t)}function g(e,t){o.i(e,"download_mobile_app",t)}function b(e,t){o.i(e,"click_confirm_signup_input",t)}function v(e,t){o.i(e,"click_link",t)}function y(e,t){o.i(e,"open_typeform",t)}function S(e,t){o.i(e,"toggle_pricing_term",t)}function w(e,t){o.i(e,"scroll",t)}function k(e,t){o.j(e,"page_visit","page_visit-".concat(t.page_id,"-").concat(t.is_peek,"-").concat(t.type),60,t)}function C(e,t){const{fbclid:n,gclid:r}=t;""!==n?s.c({type:"facebook",id:n}):""!==r&&s.c({type:"google",id:r}),o.i(e,"visit",t)}function M(e,t){o.j(e,"database_visit","database_visit-".concat(t.collection_id,"-").concat(t.type),60,t)}function E(e,t){o.i(e,"page_error",t)}function _(e,t){o.i(e,"reorder_workspaces",t)}function T(e){o.i(e,"content_classification_proceed")}function x(e){o.i(e,"request_login_with_apple")}function I(e){o.i(e,"request_login_with_google")}function P(e,t){o.i(e,"send_temporary_password",{email:t.email})}function O(e){o.i(e,"redirect_to_saml_login")}function B(e,t){o.i(e,"onboarding_dialog_error",t)}function L(e,t){o.i(e,"onboarding_error",t)}function R(e,t){o.i(e,"onboarding_show",t)}function D(e,t){o.i(e,"onboarding_invite_copy",t)}function A(e,t){o.i(e,"onboarding_close",t)}function j(e,t){o.i(e,"onboarding_skip",t)}function F(e,t){o.i(e,"onboarding_invite_send",t)}function V(e,t){o.i(e,"onboarding_space_icon_upload",t)}function N(e,t){o.i(e,"onboarding_stage",t)}function U(e,t){o.i(e,"onboarding_debug_stage_render",t)}function z(e,t){o.i(e,"onboarding_upload_profile_photo",t)}function X(e,t){o.i(e,"onboarding_join_space",t)}function Y(e,t){o.i(e,"onboarding_create_space",t)}function H(e,t){o.i(e,"onboarding_plan_type_select",t)}function q(e,t){o.i(e,"onboarding_team_persona_select",t)}function W(e){o.i(e,"notion_topbar_click")}function G(e,t){o.i(e,"onboarding_user_type_select",t)}function Z(e,t){o.i(e,"getting_started_page_create",t)}function K(e,t){o.i(e,"onboarding_complete",t)}function J(e,t){o.i(e,"import_button_click",t)}function Q(e){o.i(e,"open_import_modal")}function $(e,t){o.i(e,"auth_integration",t)}function ee(e,t){o.i(e,"integration_select_all",t)}function te(e,t){o.i(e,"integration_deselect_all",t)}function ne(e,t){o.i(e,"integration_select_item",t)}function oe(e,t){o.i(e,"integration_deselect_item",t)}function re(e,t){o.i(e,"import_integration",t)}function ae(e,t){o.i(e,"remove_integration",t)}function ie(e,t){o.i(e,"integration_prompt_auth",t)}function se(e){o.i(e,"google_drive_pick_file")}function le(e,t){o.i(e,"google_drive_embed_file",t)}function ce(e,t){o.i(e,"pricing_grid_button_click",t)}function de(e){o.i(e,"pricing_grid_contact_sales_click")}function ue(e,t){o.i(e,"subscription_upgrade_modal_open",t)}function pe(e,t){o.i(e,"subscription_upgrade_modal_billing_interval_updated",t)}function he(e,t){o.i(e,"subscription_upgrade_modal_upgrade_accepted",t)}function me(e,t){o.i(e,"subscription_upgrade_modal_credits_toggled",t)}function fe(e,t){o.i(e,"subscription_upgrade_modal_upgrade_click",t)}function ge(e,t){o.i(e,"subscription_upgrade_modal_upgrade_failed_validation",t)}function be(e,t){o.i(e,"subscription_upgrade_modal_payment_method_changed",t)}function ve(e,t){o.i(e,"coupon_code_entered",t)}function ye(e,t){o.i(e,"create_subscription",t)}function Se(e,t){o.i(e,"subscription_update_plan",t)}function we(e,t){o.i(e,"subscription_update_billing",t)}function ke(e,t){const{step:n,...r}=t;o.i(e,"enterprise_sales_contact",r)}function Ce(e,t){o.i(e,"subscription_apply_credit",t)}function Me(e,t){o.i(e,"cancel_subscription",t)}function Ee(e,t){o.i(e,"churn_survey",t)}function _e(e,t){o.i(e,"click_upgrade_button",t)}function Te(e){o.j(e,"approaching_block_limit","approaching_block_limit",60)}function xe(e){o.j(e,"reach_block_limit","reach_block_limit",60)}function Ie(e,t){o.i(e,"click_team_try_for_free",t)}function Pe(e,t){o.i(e,"click_team_cancel_plan",t)}function Oe(e){o.i(e,"workspace_invite_copy_link")}function Be(e){o.i(e,"currently_subscribed")}function Le(e){o.i(e,"activate_referral")}function Re(e){o.i(e,"apply_credit_click")}function De(e,t){o.i(e,"credit_item_action_click",t)}function Ae(e){o.i(e,"invited_by_credit_click")}function je(e){o.i(e,"timeline_warning_click")}function Fe(e){o.i(e,"timeline_warning_close_click")}function Ve(e){o.j(e,"timeline_warning_show","timeline_warning_show",3600)}function Ne(e){o.i(e,"sidebar_promo_click")}function Ue(e){o.i(e,"invited_by_credit_close_click")}function ze(e){o.i(e,"student_plan_prompt_click")}function Xe(e){o.i(e,"student_plan_prompt_close_click")}function Ye(e,t){o.j(e,"create_block","create_block-".concat(t.type,"-").concat(t.from),60,t),"page"===t.type&&o.j(e,"create_page","create_page-".concat(t.from),60,{from:t.from})}function He(e,t){o.i(e,"open_peek_as_page",t)}function qe(e,t){o.i(e,"select_template",t)}function We(e,t){o.i(e,"template_modal_open",t)}function Ge(e,t){o.i(e,"template_modal_item_click",t)}function Ze(e,t){o.i(e,"template_modal_accept",t)}function Ke(e){o.i(e,"create_collection_template")}function Je(e,t){o.i(e,"activate_collection_template",t)}function Qe(e,t){o.i(e,"collection_template_action",t)}function $e(e,t){o.j(e,"edit_block_text_60","edit_block_text_60",60,t)}function et(e,t){o.i(e,"todo_block_check",t)}function tt(e,t){o.i(e,"toggle_block_toggle")}function nt(e,t){o.i(e,"embed_block_action",t)}function ot(e,t){o.i(e,"embed_block_resize",t)}function rt(e,t){o.i(e,"equation_block_edit",t)}function at(e,t){c.default.afterNextFlush(()=>{let n;const r=d.default.state.stores[0];r&&(n=r.getType()),o.j(e,"block_action","block_action-".concat(t.analyticsName,"-").concat(t.from),60,{...t,final_block_type:n})})}function it(e,t){o.i(e,"open_block_menu",t)}function st(e){o.j(e,"open_slash_menu","open_slash_menu",60)}function lt(e){o.j(e,"open_emoji_menu","open_emoji_menu",60)}function ct(e,t){o.i(e,"open_embed_menu",t)}function dt(e,t){o.i(e,"configure_template_button",t)}function ut(e,t){o.i(e,"change_font_type",t)}function pt(e,t){o.i(e,"change_font_size",t)}function ht(e,t){o.i(e,"change_page_width",t)}function mt(e){o.i(e,"click_add_menu")}function ft(e){o.i(e,"add_slack_integration")}function gt(e){o.i(e,"remove_slack_integration")}function bt(e,t){o.i(e,"move_to",t)}function vt(e,t){o.i(e,"edit_lock_toggle",t)}function yt(e,t){o.i(e,"rich_text_menu_click",t)}function St(e,t){o.i(e,"expand_block",t)}function wt(e,t){o.i(e,"change_table_wrap",t)}function kt(e,t){o.j(e,"edit_block_property_60","edit_block_property_60",60,t)}function Ct(e,t){o.i(e,"create_property",t)}function Mt(e,t){o.i(e,"configure_property",t)}function Et(e,t){o.i(e,"delete_property",t)}function _t(e,t){o.i(e,"create_view",t)}function Tt(e,t){o.i(e,"configure_view",t)}function xt(e,t){o.i(e,"delete_view",t)}function It(e,t){o.i(e,"collection_action_bar_click",t)}function Pt(e,t){o.i(e,"collection_search",t)}function Ot(e,t){o.i(e,"collection_view_select",t)}function Bt(e,t){o.i(e,"open_collection_as_page",t)}function Lt(e){o.i(e,"collection_no_date_menu_add")}function Rt(e){o.i(e,"collection_no_date_menu_view")}function Dt(e,t){o.i(e,"relation_database_click",t)}function At(e,t){o.j(e,"timeline_view","timeline_view",5,t)}function jt(e,t){o.i(e,"timeline_zoom_level_update",t)}function Ft(e,t){o.i(e,"timeline_today_click",t)}function Vt(e,t){o.i(e,"timeline_shift_time_click",t)}function Nt(e,t){o.i(e,"timeline_toggle_table_click",t)}function Ut(e,t){o.i(e,"timeline_item_scroll_arrow_click",t)}function zt(e,t){o.i(e,"timeline_item_resize",t)}function Xt(e){o.i(e,"inline_collection_load_more_click")}function Yt(e,t){o.i(e,"relation_reorder",t)}function Ht(e,t){o.i(e,"relation_add_block",t)}function qt(e,t){o.i(e,"relation_remove_block",t)}function Wt(e,t){o.i(e,"relation_create_block",t)}function Gt(e,t){o.i(e,"relation_navigate_block",t)}function Zt(e,t){o.i(e,"configure_relation",t)}function Kt(e,t){o.i(e,"configure_rollup_relation",t)}function Jt(e,t){o.i(e,"configure_rollup_target_property",t)}function Qt(e,t){o.i(e,"configure_rollup_aggregation",t)}function $t(e,t){o.i(e,"create_space",t),"team"===t.planType&&l.trackConversionEvent(e,{eventName:"create_team_space"})}function en(e,t){o.i(e,"join_space",t)}function tn(e){o.i(e,"leave_space")}function nn(e){o.i(e,"delete_space")}function on(e,t){const n={from:t.from,block_types:t.draggedTypes,block_count:t.draggedTypes.length,as_copy:t.asCopy||!1};o.i(e,"drag",n),t.asCopy&&o.i(e,"drag_as_copy",n),"selection_menu"===t.from&&o.i(e,"drag_selection_menu",n)}function rn(e,t){o.i(e,"click_selection_menu",{block_type:t.blockType})}function an(e){o.i(e,"open_mention_menu")}function sn(e,t){o.i(e,"mention_user",{user_id:Object(r.d)(t.user_id),from:t.from,block_type:t.block_type})}function ln(e,t){o.i(e,"mention_date",{date:t.date,from:t.from,block_type:t.block_type})}function cn(e,t){o.i(e,"mention_page",{page_id:Object(r.d)(t.page_id),from:t.from,block_type:t.block_type})}function dn(e,t){o.i(e,"inline_equation_edit",t)}function un(e,t){o.i(e,"set_reminder",{date:t.date,reminder:t.reminder})}function pn(e){o.i(e,"resize_column")}function hn(e){o.i(e,"create_column_list")}function mn(e,t){o.i(e,"insert_column",t)}function fn(e,t){o.i(e,"drag_near_edge_scroll",t)}function gn(e,t){o.i(e,"transform_text_block_filter",t)}function bn(e,t){o.i(e,"unicode_filter",t)}function vn(e,t){o.i(e,"annotation_filter",t)}function yn(e,t){o.i(e,"keyboard_annotation",t)}function Sn(e,t){o.i(e,"link_filter",t)}function wn(e,t){const n=t.invite_targets.filter(a.d),r=n.length,i=t.invite_targets.filter(a.b),s=i.length+r,l=[...n,...i].map(e=>e.value.email);o.i(e,"invite",{role:t.role,is_space:t.is_space,user_count:s,new_user_count:r,user_emails:l}),t.is_space?o.i(e,"space_invite",{role:t.role,user_count:s,new_user_count:r,user_emails:l}):o.i(e,"page_invite",{role:t.role,user_count:s,new_user_count:r,user_emails:l})}function kn(e,t){o.i(e,"update_page_permission",t)}function Cn(e,t){o.i(e,"update_space_permission",t)}function Mn(e,t){o.i(e,"convert_guest_to_member",t)}function En(e){o.i(e,"remove_guest")}function _n(e){o.i(e,"permission_group_create")}function Tn(e,t){o.i(e,"permissions_settings_tab_click",t)}function xn(e){o.i(e,"permission_group_rename")}function In(e,t){o.i(e,"permission_group_set_icon",t)}function Pn(e,t){o.i(e,"permission_group_add_members",t)}function On(e){o.i(e,"permission_group_remove_member")}function Bn(e){o.i(e,"permission_group_delete")}function Ln(e){o.i(e,"permission_group_reorder")}function Rn(e,t){o.i(e,"toggle_allow_search_engine_indexing",t)}function Dn(e,t){o.i(e,"toggle_allow_duplicate",t)}function An(e,t){o.i(e,"restrict_permissions",t)}function jn(e,t){o.i(e,"restore_permissions",t)}function Fn(e){o.i(e,"widen_permissions")}function Vn(e){o.i(e,"request_access")}function Nn(e,t){o.i(e,"grant_access",t)}function Un(e){o.i(e,"ignore_access_request")}function zn(e,t){o.i(e,"toggle_request_access_security_setting",t)}function Xn(e){o.i(e,"sidebar_expand")}function Yn(e){o.i(e,"sidebar_unexpand")}function Hn(e,t){o.i(e,"bookmark",t)}function qn(e,t){o.i(e,"unbookmark",t)}function Wn(e,t){o.i(e,"open_settings",t)}function Gn(e,t){o.i(e,"toggle_settings_tab",t)}function Zn(e,t){o.i(e,"invite_link_updated",t)}function Kn(e,t){o.i(e,"allowed_email_domains_updated",t)}function Jn(e){o.i(e,"open_trash")}function Qn(e,t){o.i(e,"toggle_trash_tab",t)}function $n(e){o.i(e,"restore_trash_page")}function eo(e){o.i(e,"delete_trash_page")}function to(e){o.i(e,"open_breadcrumb_current_page_menu")}function no(e){o.i(e,"open_page_share")}function oo(e){o.i(e,"open_page_share_invite")}function ro(e){o.i(e,"open_space_invite")}function ao(e){o.i(e,"open_more_menu")}function io(e){o.i(e,"open_public_more_menu")}function so(e){o.i(e,"confirm_app_update")}function lo(e,t){o.i(e,"export",t)}function co(e,t){o.i(e,"click_outliner_item",t)}function uo(e,t){o.i(e,"outliner_item_toggle",t)}function po(e){o.i(e,"click_nested_child_page")}function ho(e,t){o.i(e,"click_desktop_navigator",t)}function mo(e){o.i(e,"open_space_switcher")}function fo(e){o.i(e,"space_switcher_select_space")}function go(e){o.i(e,"space_switcher_logout_click")}function bo(e){o.i(e,"delete_user")}function vo(e,t){o.i(e,"pin_page",t)}function yo(e,t){o.i(e,"unpin_page",t)}function So(e,t){o.i(e,"open_support_chat",t)}function wo(e){o.i(e,"click_help")}function ko(e,t){o.i(e,"click_help_item",t)}function Co(e,t){o.i(e,"global_click_learn",t)}function Mo(e,t){o.i(e,"tap_mobile_action_bar_item",{item_name:t.itemName})}function Eo(e){o.i(e,"scroll_mobile_action_bar")}function _o(e){o.i(e,"open_mobile_sidebar")}function To(e,t){o.i(e,"tap_mobile_bottom_bar_item",t)}function xo(e){o.i(e,"mobile_add_to_menu_accept")}function Io(e){o.i(e,"open_notification_settings_from_all_updates")}function Po(e,t){o.i(e,"open_sidebar_updates",t)}function Oo(e){o.i(e,"open_page_updates")}function Bo(e,t,n){o.i(e,t,n)}function Lo(e,t){o.i(e,"set_mobile_notification",t)}function Ro(e,t){o.i(e,"set_desktop_notification",t)}function Do(e,t){o.i(e,"set_email_notification",t)}function Ao(e,t){o.i(e,"follow_page",t)}function jo(e,t){o.i(e,"unfollow_page",t)}function Fo(e,t){o.i(e,"open_block_dicussion_menu",t)}function Vo(e){o.i(e,"open_reply_dicussion_menu")}function No(e){o.i(e,"open_new_block_discussion")}function Uo(e){o.i(e,"open_new_inline_discussion")}function zo(e){o.i(e,"create_block_discussion")}function Xo(e){o.i(e,"create_inline_discussion")}function Yo(e,t){o.i(e,"add_comment",{from:t})}function Ho(e,t){o.i(e,"add_comment_append",{from:t})}function qo(e,t){o.i(e,"delete_comment",{from:t})}function Wo(e,t){o.i(e,"edit_comment",{from:t})}function Go(e,t){o.i(e,"resolve_discussion",{from:t})}function Zo(e,t){o.i(e,"reopen_discussion",{from:t})}function Ko(e,t){o.i(e,"open_history",{from:t})}function Jo(e){return Date.now()-parseInt(e.timestamp)}function Qo(e,t){o.i(e,"select_snapshot",{ageMs:Jo(t)})}function $o(e,t){o.i(e,"history_copy",{ageMs:Jo(t)})}function er(e,t){o.i(e,"restore_snapshot",{ageMs:Jo(t)})}function tr(e,t){o.i(e,"fork_page",{blockId:t})}function nr(e,t){const{type:n,dateMeasurement:r,performanceMeasurement:a,preboot:i}=t;o.i(e,n,{time:r,performanceTime:a},{preboot:Boolean(i)})}function or(e,t){o.i(e,"open_search",t)}function rr(e,t){o.i(e,"select_search_item",t)}function ar(e,t){o.i(e,"abandoned_search",t)}function ir(e,t){o.i(e,"offline_access_failure",t)}function sr(e,t){o.i(e,"open_view_all_popover",t)}function lr(e,t){o.i(e,"update_view_all_popover_sort",t)}function cr(e,t){o.i(e,"copy_link_from_view_all_popover",t)}function dr(e,t){o.i(e,"select_page_from_view_all_popover",t)}function ur(e){o.i(e,"transclusion_container_edit")}function pr(e){o.i(e,"transclusion_container_copy_button")}function hr(e){o.i(e,"transclusion_container_done")}},y74B:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("3bBZ");var o=n("N34Z"),r=n("cBa6");function a(e){const{blocks:t,language:n,transaction:a}=e,i=r.m(n);for(const r of t)o.d({store:r.getPropertiesStore(),data:{language:i},transaction:a})}},y9KL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("bPtJ");function r(e){const{parentStore:t,pointer:n}=e,r=Object(o.c)(t,n).getValue();if(r)return{table:n.table,value:r}}},yF27:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g}));n("3bBZ");var o=n("Mht8"),r=n("yjqD"),a=n("P0+2"),i=n("J9+s"),s=n("vl8/"),l=n("ddTe"),c=n("zb5D");const d=Object(i.defineMessages)({ReloadAllTabs:{defaultMessage:"Try closing and re-opening all Notion tabs or windows.",id:"localDatabase.errorFixes.reloadAllTabs"},ReloadThisTab:{defaultMessage:"Try reloading Notion.",id:"localDatabase.errorFixes.reloadThisTab"},AppProfileCorrupted:{defaultMessage:"Notion's local storage may be damaged. See (?) > Help & Support > Reset Notion.",id:"localDatabase.errorFixes.helpAndSupportPrompt",description:"Local storage refers to the available data storage space on the user's computer."},FirefoxProfileCorrupted:{defaultMessage:"Your Firefox profile may be damaged. Visit https://firefox-storage-test.glitch.me/ to diagnose.",id:"localDatabase.errorFixes.firefoxSettingsDamaged",description:"A Firefox profile is a user's logged in profile on the Firefox browser."},ChromeProfileCorrupted:{defaultMessage:"Your Chrome profile may be damaged. If you changed any chrome://flags then please reset them, then restart your browser. If issues persist, try making a new Chrome user.",id:"localDatabase.errorFixes.chromeSettingsDamaged",description:"A Chrome profile is a user's logged in profile on the Chrome browser."},noDiskSpace:{defaultMessage:"No disk space remaining.",id:"localDatabase.erroMessages.noDiskSpaceRemaining",description:"Disk space refers to the amount of data storage space on the user's computer."},noDiskSpaceBrowserLimit:{defaultMessage:"No disk space remaining. Your browser settings may restrict the storage Notion can use.",id:"localDatabase.erroMessages.noDiskSpaceRemainingBrowserLimit",description:"Disk space refers to the amount of data storage space on the user's computer."}});function u(e){return e}function p(e){return Promise.all(e)}class h{constructor(e,t,n,o){this.environment=e,this.databaseName=t,this.databaseVersion=n,this.openDbCallbacks=o}async reset(){try{return await Object(a.a)(this.databaseName),{value:void 0}}catch(e){return{error:m({environment:this.environment,error:e,details:"Failed to reset database ".concat(this.databaseName),closed:!1,aborted:!1})}}finally{this.db=void 0,this.getDBPromise=void 0}}async startTransaction(e,t){let n,o=0;do{try{if(n=await this.startTransactionAttempt(e,t),!n.error)break;if(!n.error.closed)break;if(this.db)try{this.db.close()}catch(a){}if(this.db=void 0,this.getDBPromise=void 0,4===o)break;await r.h(250)}catch(a){return{error:a}}o++}while(o<5);return n}async startTransactionAttempt(e,t){const{storeNames:n,mode:r,errorDetails:a,timeoutMs:i}=e,s=await this.getDB();if(s.error)return s;const l=s.value;let d;try{d=l.transaction(n,r),d.addEventListener("error",e=>e.stopPropagation()),d.addEventListener("abort",e=>e.stopPropagation())}catch(p){const e=p&&p.name&&"InvalidStateError"===p.name;return{error:m({environment:this.environment,details:"Failed to create ".concat(r," transaction on ").concat(this.databaseName,".").concat(n),error:p,aborted:!0,closed:e})}}const u=await this.runTransaction(d,t,a,i);if("error"in u||u.abort){try{d.abort()}catch(p){}return d.done.catch(e=>{e&&o.log({from:"IndexedDBWrapper",type:"TransactionFailure",level:"error",error:Object(c.a)(m({environment:this.environment,details:a,error:e,aborted:!0,closed:!1}))})}),u}if("readwrite"===r)try{await d.done}catch(p){return{error:m({environment:this.environment,error:p,details:"In await transaction.done: ".concat(a),aborted:null===p,closed:!1})}}else d.done.catch(e=>{o.log({from:"IndexedDBWrapper",type:"ReadOnlyTransactonFailureIgnored",level:"error",error:Object(c.a)(m({environment:this.environment,error:e,details:a,aborted:null===e,closed:!1}))})});return{value:u.value}}async initDB(){try{const e=await Object(a.b)(this.databaseName,this.databaseVersion,this.openDbCallbacks);return e.addEventListener("close",e=>{o.log({level:"warning",from:"IndexedDBWrapper",type:"db.onclose",data:{dbName:this.databaseName,dbVersion:this.databaseVersion},error:Object(c.a)(f(e))}),this.db=void 0,this.getDBPromise=void 0}),e.addEventListener("abort",e=>{o.log({level:"warning",from:"IndexedDBWrapper",type:"db.onabort",data:{dbName:this.databaseName,dbVersion:this.databaseVersion}})}),e.addEventListener("error",e=>{o.log({level:"error",from:"IndexedDBWrapper",type:"db.onerror",data:{dbName:this.databaseName,dbVersion:this.databaseVersion},error:Object(c.a)(f(e))})}),e.addEventListener("versionchange",()=>{o.log({level:"warning",from:"IndexedDBWrapper",type:"db.onversionchange",data:{dbName:this.databaseName,dbVersion:this.databaseVersion}}),e.close(),this.db=void 0,this.getDBPromise=void 0}),{value:e}}catch(e){return{error:m({environment:this.environment,details:"Unable to initialize database",error:e,aborted:!1,closed:!1})}}}async getDB(){let e=this.db;if(!e){this.getDBPromise||(this.getDBPromise=this.initDB().then(e=>(e.error?(this.db=void 0,this.getDBPromise=void 0):(this.db=e.value,this.getDBPromise=void 0),e),e=>(this.db=void 0,this.getDBPromise=void 0,{error:{type:"InitDBException",message:"An unexpected error occurred trying to create the database.",details:"Exception in initDB",error:e,closed:!1,aborted:!1}})));const t=await this.getDBPromise;if(t&&t.error)return t;e=t.value}return{value:e}}async runTransaction(e,t,n,o){try{const n=Date.now(),a=t(e);if(void 0!==o&&o>=0){const e=await r.f(a,o);if(e.timeout){const e=Date.now()-n,t=e-o,r=new Error("Timeout after ".concat(e,"ms: exceeded limit ").concat(o,"ms by ").concat(t,"ms"));throw r.name="NotionTransactionTimeout",r}return e.result}return await a}catch(a){return{error:m({environment:this.environment,error:a,details:"In runTransaction catch: ".concat(n),closed:!1,aborted:!1})}}}}function m(e){const{environment:t,error:n,details:o,closed:r,aborted:a}=e;if(n){if("NotionTransactionTimeout"===n.name)return{type:"NotionTransactionTimeout",details:o,message:"Storage operation did not complete. ".concat(s.default.formatMessage(d.ReloadAllTabs)),error:n,closed:!1,aborted:!1};if("TimeoutError"===n.name&&"Transaction timed out due to inactivity."===n.message)return{type:"TransactionTimeout",details:o,message:"IndexedDB access attempt timed out. ".concat(s.default.formatMessage(d.ReloadThisTab)),error:n,closed:r,aborted:a};if("VersionError"===n.name)return{type:"OutdatedSchemaVersion",details:o,message:"This tab is running an outdated version of Notion. ".concat(s.default.formatMessage(d.ReloadThisTab)),error:n,closed:r,aborted:a};if("UnknownError"===n.name&&"Internal error opening backing store for indexedDB.open."===n.message)return{type:"ChromeUnknownInternalError",details:o,message:"Cannot open IndexedDB. ".concat(t.device.isNative?s.default.formatMessage(d.AppProfileCorrupted):s.default.formatMessage(d.ChromeProfileCorrupted)),error:n,closed:r,aborted:a};if("SecurityError"===n.name&&"IDBFactory.open() called in an invalid security context"===n.message)return{type:"SafariIframeSecurityError",details:o,message:"Cannot access IndexedDB in an iframe in your browser. Try opening Notion in a new window or use a different browser.",error:n,closed:r,aborted:a};if("UnknownError"===n.name&&"Connection to Indexed Database server lost. Refresh the page to try again"===n.message)return{type:"SafariIndexedDatabaseServerLost",details:o,message:"Cannot access IndexedDB due to a bug in Safari/WebKit. ".concat(s.default.formatMessage(d.ReloadThisTab)),error:n,closed:r,aborted:a};if("InvalidStateError"===n.name&&"A mutation operation was attempted on a database that did not allow mutations."===n.message)return{type:"FirefoxPrivateBrowsing",details:o,message:"Firefox does not allow IndexedDB in Private Browsing. Try opening Notion in a normal window.",error:n,closed:r,aborted:a};if("NotFoundError"===n.name&&"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened."===n.message)return{type:"FirefoxObjectStoreNotFound",details:o,message:"An IndexedDB object store does not exist. ".concat(s.default.formatMessage(d.ReloadAllTabs)," ").concat(s.default.formatMessage(d.FirefoxProfileCorrupted)),error:n,closed:!0,aborted:a};if("QuotaExceededError"===n.name){let e=s.default.formatMessage(d.noDiskSpace);return t.device.isBrowser&&(e=s.default.formatMessage(d.noDiskSpaceBrowserLimit)),{type:"QuotaFull",details:o,message:e,error:n,closed:r,aborted:a}}if(window.navigator.userAgent.includes("WindowsWechat")&&"AbortError"===n.name&&"Version change transaction was aborted in upgradeneeded event handler."===n.message)return{type:"UnsupportedWechat",details:o,message:"This device or application is unsupported.",error:n,closed:r,aborted:a}}return{type:"UnknownIndexedDBError",details:o,message:"An unknown IndexedDB error occurred. ".concat(s.default.formatMessage(d.ReloadThisTab)),error:n||new Error("createIndexedDBError: error was falsy"),closed:r,aborted:a}}function f(e){if(e&&e.target&&"error"in e.target){const t=e.target.error;if(!t)return;return"".concat(t.name,": ").concat(t.message)}}function g(e,t){if(e.stack)return e;try{const n=new Error("".concat(e.message," (").concat(t,")"));throw n.name=e.name,n}catch(n){return e.stack=n.stack,e}}Object(l.exposeDebugValue)("idbUnwrap",a.c)},yFBc:function(e,t,n){"use strict";var o=n("GVKY");t.a=function(e){const t=o.a(e);if(t[0]){const n=t[0].href;return e.startsWith(n)&&e.slice(n.length).match(/^[^\s]+$/)?e:n}return e}},yNyh:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("3bBZ");var o,r=n("q1tI"),a=n.n(r),i=n("mF3+"),s=n("rlmE"),l=n("wldR"),c=n("w5u6"),d=n("iICV"),u=n("zmp8"),p=n("MeYt"),h=n("VhAz"),m=n("7M94");!function(e){e[e.Default=0]="Default",e[e.Transparent=1]="Transparent",e[e.Small=2]="Small",e[e.Large=3]="Large",e[e.ExtraLarge=4]="ExtraLarge"}(o||(o={}));class f extends l.a{constructor(){super(...arguments),this.handleKeyDown=e=>{d.a.setKeyboardMode(!0),this.props.onKeyDown&&this.props.onKeyDown(e),Object(s.a)(this.environment,e,"enter")&&this.props.onSubmit&&(!this.props.textarea||e.metaKey)&&this.props.onSubmit(e),Object(s.a)(this.environment,e,"esc")&&this.props.onCancel&&this.props.onCancel(e)},this.handleClearButtonClick=e=>{this.props.onClearButtonClick?this.props.onClearButtonClick():(e.target.value="",this.props.onChange&&this.props.onChange(e),this.focusInput())},this.transparentStyle={display:"flex",alignItems:"center",border:"none",padding:0,width:"100%",background:u.g.transparent,fontSize:"inherit",lineHeight:"inherit"}}focusInput(){this.textInput&&this.textInput.focus()}getSelection(){if(this.textInput)return{selectionStart:this.textInput.selectionStart,selectionEnd:this.textInput.selectionEnd}}selectAllInput(){const{device:e}=this.environment;this.textInput&&(e.isAndroid&&this.textInput.focus(),this.textInput.select())}shouldComponentUpdate(){return!0}didMount(){this.textInput&&this.props.value!==this.textInput.value&&(this.textInput.value=this.props.value||""),(this.props.focusInitial||this.props.focus)&&this.handleFocus()}didUpdate(){this.textInput&&this.props.value!==this.textInput.value&&(this.textInput.value=this.props.value||""),void 0!==this.props.focus&&(this.props.focus?this.handleFocus():this.handleBlur())}renderComponent(){const{isMobile:e}=this.environment.device,t=this.props.forceShowClearButton||this.props.showClearButton&&this.props.value&&this.props.value.length>0,{icon:n,onIconClick:r}=this.props;return a.a.createElement("div",{className:this.props.format!==o.Transparent&&this.props.format!==o.ExtraLarge?m.A:void 0,style:this.getStyle()},this.props.left,this.renderInput(),n&&a.a.createElement(p.a,{onClick:r,style:{flexShrink:0,flexGrow:0,borderRadius:e?24:20,...this.props.clearButtonStyle}},n),t&&a.a.createElement(p.a,{onClick:this.handleClearButtonClick,style:{flexShrink:0,flexGrow:0,borderRadius:e?24:20,...this.props.clearButtonStyle}},i.a.clearInput({width:e?16:14,height:e?16:14,fill:this.theme.lightIconColor})))}renderInput(){const e={ref:e=>{e&&(this.textInput=e)},style:this.getInputStyle(),onMouseDown:this.props.onMouseDown,onClick:this.props.onClick,onKeyDown:this.handleKeyDown,placeholder:this.props.placeholder,readOnly:this.props.readOnly,onChange:this.props.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,type:this.props.type||"text",autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,autoCapitalize:this.props.autoCapitalize,spellCheck:this.props.spellCheck,autoFocus:this.props.autoFocus,disabled:this.props.disabled,size:this.props.size,className:this.props.inputClassName,id:this.props.id};return this.props.textarea?a.a.createElement("textarea",Object.assign({},e,this.props.textareaElementAttributes,{rows:3})):a.a.createElement("input",Object.assign({},e,this.props.inputElementAttributes))}handleBlur(){document.activeElement===this.textInput&&this.textInput.blur()}handleFocus(){const{device:e}=this.environment;document.activeElement!==this.textInput&&(e.isMobile&&this.props.focusAfterAnimation?window.setTimeout(()=>{c.default.afterNextFlush(()=>{this.props.selectAll?this.selectAllInput():this.focusInput()})},10):this.props.selectAll?this.selectAllInput():this.focusInput())}getBaseStyle(){return{display:"flex",alignItems:"center",width:"100%",fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10,position:"relative",borderRadius:3,boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,cursor:"text"}}getExtraLargeStyle(){return{...this.getBaseStyle(),fontSize:17,lineHeight:"32px"}}getLargeStyle(){return{...this.getBaseStyle(),fontSize:15,lineHeight:"26px"}}getSmallStyle(){return{...this.getBaseStyle(),fontSize:12,lineHeight:"16px"}}getStyle(){let e;return this.props.format!==o.Default&&this.props.format?this.props.format===o.Small?e=this.getSmallStyle():this.props.format===o.Large?e=this.getLargeStyle():this.props.format===o.ExtraLarge?e=this.getExtraLargeStyle():this.props.format===o.Transparent?e=this.transparentStyle:Object(h.e)(this.props.format):e=this.getBaseStyle(),{...e,...this.props.style}}getInputStyle(){const{inputStyle:e}=this.props,t={};return this.props.readOnly&&(t.opacity=.5),{...f.inputStyle,...t,...e}}}f.Format=o,f.inputStyle={fontSize:"inherit",lineHeight:"inherit",border:"none",background:"none",width:"100%",display:"block",resize:"none",padding:0},t.b=f},yUnD:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d}));var o=n("p0Ff"),r=n("j76I"),a=n("A9TN"),i=n("922z");function s(e){if(!e.PersistedOfflineState)return!1;if("production"===a.default.env&&e.device.isDesktop)return!1;switch(a.default.env){case"local":case"development":case"staging":case"production":return!0}}async function l(e){const{environment:t,recordPointers:n,recurFn:a,recordIsRequired:s}=e,l=new i.a;return await r.b({recordPointers:n,recordMap:l,recurFn:({table:e,id:t,value:n})=>a(e,t,n),loadRecordValue:async e=>{const n=o.default.getRecord({pointer:e,userId:t.currentUser.id});if(n)return n;const{PersistedRecordCache:r}=t;if(r){const n=await r.get(e,t.currentUser.id);if(n)return n}if(s(e))throw new Error("Failed to load a required record: ".concat(e.table,", ").concat(e.id,", ").concat(e.spaceId,"."))}}),l}async function c(e){const t=e.environment.currentUser.id;if(e.inMemoryRecordCache)return e.inMemoryRecordCache.getRecord({pointer:e.pointer,userId:t});const n=o.default.getRecord({pointer:e.pointer,userId:t});if(void 0!==n)return n;const{PersistedRecordCache:r}=e.environment;return r?r.get(e.pointer,t):void 0}async function d(e){const{table:t,parent:n,inMemoryRecordCache:r}=e,a=[],i=e.environment.currentUser.id,{PersistedRecordCache:s}=e.environment;return s&&r===o.default?await s.getRecordsWithParent({table:t,parent:n,userId:i}):(r.forEachRecord(i,({table:e},o)=>{((e,o)=>{if(e!==t)return;const r=o.value;r&&r.parent_table===n.table&&r.parent_id===n.id&&a.push(o)})(e,o)}),a)}},yioD:function(e,t,n){"use strict";var o=n("LEzx"),r=n("AXh+"),a=n("z22Z");class i extends o.a{getInitialState(){return{editing:!1}}getMode(e,t){if(!t.isDefaultRecordCache()||!Object(r.g)(e,t))return;const n=t.getRole(),o=!n||Object(a.c)(n),i=!n||Object(a.b)(n),s=e.currentUser.isLoggedIn();return o&&s&&this.state.editing?"edit":i&&s?"comment":"view"}}t.a=new i},yisX:function(e,t,n){"use strict";n("3bBZ");var o=n("q1tI"),r=n.n(o),a=n("z22Z"),i=n("VBxf"),s=n("wldR"),l=n("PEWV"),c=n("WgIs"),d=n("2Y+N"),u=n("i3uR"),p=n("RBMm"),h=n("gbGO"),m=n("SR/M"),f=n("g4rC"),g=n("Cycz"),b=n("DbeH"),v=n("zmp8"),y=n("d9nj"),S=n("mF3+"),w=n("J9+s"),k=n("7M94"),C=n("QcDD"),M=n("A9TN"),E=n("uSCg"),_=n("Pqcg"),T=n("LeVO"),x=n("5Nka"),I=n("aEEb"),P=n("FUUC"),O=n("xL2i"),B=n("VhAz");const L=Object(w.defineMessages)({adminLabel:{id:"userPermissionsMenu.adminItem.label",defaultMessage:"Admin"},adminCaption:{id:"userPermissionsMenu.adminItem.caption",defaultMessage:"Can change workspace settings and invite new members to the workspace."},fullAccessLabel:{id:"userPermissionsMenu.fullAccessItem.label",defaultMessage:"Full access"},fullAccessCaption:{id:"userPermissionsMenu.fullAccessItem.caption",defaultMessage:"Can edit and share with others."},memberLabel:{id:"userPermissionsMenu.memberItem.label",defaultMessage:"Member"},memberCaption:{id:"userPermissionsMenu.memberItem.caption",defaultMessage:"Cannot change workspace settings or invite new members to the workspace."},canEditLabel:{id:"userPermissionsMenu.canEditItem.label",defaultMessage:"Can edit"},canEditCaption:{id:"userPermissionsMenu.canEditItem.caption",defaultMessage:"Can edit, but not share with others."},canReadLabel:{id:"userPermissionsMenu.canReadItem.label",defaultMessage:"Can view"},canReadCaption:{id:"userPermissionsMenu.canReadItem.caption",defaultMessage:"Cannot edit or share with others."},canCommentLabel:{id:"userPermissionsMenu.canCommentItem.label",defaultMessage:"Can comment"},canCommentCaption:{id:"userPermissionsMenu.canCommentItem.caption",defaultMessage:"Can view and comment, but not edit."},leaveTeamlabel:{id:"userPermissionsMenu.leaveTeamItem.label",defaultMessage:"Leave team",description:"Label for the item in the user permissions dropdown which a user selects in order to leave their own team"},removeFromTeamLabel:{id:"userPermissionsMenu.removeFromTeamItem.label",defaultMessage:"Remove from team",description:"Label for the item in the user permissions dropdown which a user selects in order to remove someone else from their team"},removeWorkspaceLabel:{id:"userPermissionsMenu.removeWorkspaceItem.label",defaultMessage:"Remove",description:"Label for the item in the user permissions dropdown which a user selects in order to remove a workspace"},disabledLabel:{id:"userPermissionsMenu.disabledItem.label",defaultMessage:"Disabled",description:"Label used for a group of users whose access has been revoked or disabled for a particular page"},noAccessLabel:{id:"userPermissionsMenu.noAccessItem.label",defaultMessage:"No access",description:"Label used for a permission group that have no access"}});class R extends s.a{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:f.a},this.renderPermissionOverrideLabel=()=>{const{device:e}=this.environment;return r.a.createElement(I.a,{style:{padding:12,backgroundColor:this.theme.sidebarSecondaryBackground,boxShadow:"0 -1px 0 ".concat(this.theme.regularDividerColor),marginTop:e.isMobile?28:1},isMultiline:!0,isSmall:!0},r.a.createElement(w.FormattedMessage,{id:"permissionRoleSelect.overrideMessage.caption",defaultMessage:"You’ll override permissions from the parent page if you change this role."}))},this.isRemovingSelfRole=e=>this.props.isUserPermission&&Object(O.e)(this.props.role,e)===this.props.role,this.handleSelectChange=e=>{const{table:t}=this.props,n=()=>{this.props.onChange&&this.props.onChange(e)};this.getItemDisabledReason(e)&&!M.default.isAdminMode?(b.a(this.environment,{from:this.props.upgradeButtonName,for:g.j(this.environment)||"team"}),this.props.onUpgradeButtonClick&&this.props.onUpgradeButtonClick()):this.isRemovingSelfRole(e)?i.showDialog({showCancel:!0,keepFocus:!1,message:t===P.a?r.a.createElement(w.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access? You will lose access to the workspace, and any private pages will be lost."}):r.a.createElement(w.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access?"}),items:[{label:r.a.createElement(w.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeSelfButton.label",defaultMessage:"Remove"}),color:"red",onAccept:n}]}):this.isRemovingSpaceUser(e)?i.showDialog({showCancel:!0,keepFocus:!1,message:t===P.a?r.a.createElement(w.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove this person? They will lose access to the workspace, and any private pages will be lost."}):r.a.createElement(w.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove this person?"}),items:[{label:r.a.createElement(w.FormattedMessage,{id:"userPermissionsMenu.removePermissionsModal.removeUserButton.label",defaultMessage:"Remove"}),color:"red",onAccept:n}]}):n()}}renderComponent(){const{device:e}=this.environment;return r.a.createElement(u.a,{popupType:e.isMobile?u.a.PopupType.SlideUp:u.a.PopupType.Popup,buttonPopupStore:this.stores.buttonPopupStore,renderOrigin:e=>this.props.isMenuItem?r.a.createElement(m.a,Object.assign({},e,{title:r.a.createElement(w.FormattedMessage,Object.assign({},this.getItemLabelAndCaption(this.props.role).label)),focused:!1,showExtensionArrow:!0})):r.a.createElement(y.a,Object.assign({disabled:this.props.disabled,style:{marginRight:8,...this.props.buttonStyle}},e),this.props.buttonContents||r.a.createElement("span",{className:"notranslate"},r.a.createElement(w.FormattedMessage,Object.assign({},this.getItemLabelAndCaption(this.props.role).label))),!this.props.disabled&&S.a.chevronDown({width:10,marginLeft:4,fill:this.theme.lightIconColor})),placementToOrigin:p.b.Bottom,render:t=>{const n=[{key:"roles",render:e=>r.a.createElement(d.a,Object.assign({},e,{topBorder:0!==e.index})),items:this.getAvailableRoles().map(e=>({key:e,render:t=>this.getItem(e,t.focused,t),action:()=>{this.handleSelect(e),t.close()}}))}];let o;return o=e.isMobile?{menuType:h.b.MenuType.Modal,title:r.a.createElement(w.FormattedMessage,{id:"userPermissionsMenu.mobile.title",defaultMessage:"Select role"}),right:r.a.createElement(w.FormattedMessage,{id:"userPermissionsMenu.mobile.doneButton.label",defaultMessage:"Done"}),onClickRight:t.close}:{menuType:h.b.MenuType.Popup,width:264},r.a.createElement(h.b,Object.assign({className:k.yb},o),r.a.createElement(c.a,{type:c.a.Type.Vertical,initialFocus:void 0,sections:n}),this.props.showPermissionOverrideWarning&&this.renderPermissionOverrideLabel())}})}getItemLabelAndCaption(e){if("object"==typeof e)throw new Error("Unsupported permission role");switch(e){case"editor":return this.props.table===P.a?{label:L.adminLabel,caption:L.adminCaption}:{label:L.fullAccessLabel,caption:L.fullAccessCaption};case"read_and_write":return this.props.table===P.a?{label:L.memberLabel,caption:L.memberCaption}:{label:L.canEditLabel,caption:L.canEditCaption};case"reader":return{label:L.canReadLabel,caption:L.canReadCaption};case"comment_only":return{label:L.canCommentLabel,caption:L.canCommentCaption};case"none":return"user_permission"===this.props.type||"bot_permission"===this.props.type||"group_permission"===this.props.type?this.props.table===P.a?this.props.isUserPermission?{label:L.leaveTeamlabel,style:{color:v.g.red}}:{label:L.removeFromTeamLabel,style:{color:v.g.red}}:{label:L.removeWorkspaceLabel,style:{color:v.g.red}}:{label:L.noAccessLabel,style:{color:v.g.red}};default:Object(B.e)(e)}}getItem(e,t,n){return this.renderItem({...this.getItemLabelAndCaption(e),focused:t,props:n,disabledMessage:this.getItemDisabledReason(e),role:e})}renderItem(e){const{device:t}=this.environment,{onClick:n,key:o,...a}=e.props;return r.a.createElement(l.a,{key:o,requireUpgradeToTier:Boolean(e.disabledMessage)&&g.j(this.environment),analyticsName:this.props.upgradeButtonName,renderUpgradeTooltip:()=>e.disabledMessage,tooltipPlacement:T.a.Placement.Left,onClick:n,onUpgradeClick:this.props.onUpgradeButtonClick,render:(n,o)=>{const{focused:i,...s}=Object(E.a)(a,n);return r.a.createElement(m.a,Object.assign({},s,{focused:i||e.focused,right:this.props.role===e.role?r.a.createElement("div",{style:{width:t.isMobile?16:14}},S.a.check()):void 0,title:r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{...e.style,marginRight:e.disabledMessage?6:0}},r.a.createElement(w.FormattedMessage,Object.assign({},e.label))),o),caption:e.caption&&r.a.createElement("span",{style:{color:this.theme.mediumTextColor}},r.a.createElement(w.FormattedMessage,Object.assign({},e.caption))),shouldWrapCaption:!0,disabled:!!t.isMobile&&Boolean(e.disabledMessage)}))}})}getItemDisabledReason(e){switch(g.h(this.environment)){case"personal_free":const{currentSpaceStore:t}=C.default.state;if(a.a(e)&&!(this.props.isUserPermission&&t&&t.canEdit()))return r.a.createElement(_.a,{imageURL:x.a.images.tooltips.upsells.userFullAccessPng,imageWidth:240,imageHeight:100,caption:r.a.createElement(w.FormattedMessage,{defaultMessage:"Guests with full access can edit a page and share it with others.",id:"permissionRoleSelect.userEditorUpgradeTooltip.caption"}),title:r.a.createElement(w.FormattedMessage,{defaultMessage:"Upgrade to grant full access",id:"permissionRoleSelect.userEditorUpgradeTooltip.title"})});break;case"team_free":if((this.props.table===P.a?a.j(e):a.c(e)&&!a.a(e))&&"public_permission"!==this.props.type&&"bot_permission"!==this.props.type)return this.props.table===P.a?r.a.createElement(_.a,{imageURL:x.a.images.tooltips.upsells.spaceReadAndWritePng,imageWidth:240,imageHeight:100,caption:r.a.createElement(w.FormattedMessage,{defaultMessage:"Members cannot change workspace settings or invite new members.",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.caption"}),title:r.a.createElement(w.FormattedMessage,{defaultMessage:"Upgrade to add non-admin members",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.title"})}):r.a.createElement(_.a,{imageURL:x.a.images.tooltips.upsells.userReadAndWritePng,imageWidth:240,imageHeight:100,caption:r.a.createElement(w.FormattedMessage,{defaultMessage:"Users with edit access can edit a page but not share it with others.",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.caption"}),title:r.a.createElement(w.FormattedMessage,{defaultMessage:"Upgrade to add editors",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.title"})})}return!1}getAvailableRoles(){const{type:e,table:t,isInvite:n,role:o}=this.props,r=[];return"bot_permission"!==e&&r.push("editor"),r.push("read_and_write"),t!==P.a&&("bot_permission"!==e&&r.push("comment_only"),"bot_permission"===e&&"reader"!==o||r.push("reader")),n||r.push("none"),r}isRemovingSpaceUser(e){return this.props.table===P.a&&"none"===e}handleSelect(e){this.props.role!==e&&this.handleSelectChange(e)}}t.a=R},yjqD:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return p}));n("Ew+T"),n("3bBZ");var o=n("LvDl"),r=n.n(o);function a(e,t,n){return new Promise((o,a)=>{let i=0;const s=()=>{const l=r.a.slice(e,i,i+t);i+=t,l.length>0?n(l).then(()=>{setImmediate(s)}).catch(a):o()};s()})}function i(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}async function s(e){const t=l(),n=Promise.all(e.map(async(e,n)=>{await e,t.resolve(n)}));return{winner:await t.promise,rest:n}}function l(){let e,t;const n=new Promise((n,o)=>{e=n,t=o});return{resolve:e,reject:t,promise:n}}function c(e,t){return new Promise((n,o)=>{i(t).then(()=>n({result:void 0,timeout:!0})),e.then(e=>n({result:e,timeout:!1})).catch(o)})}async function d(e,t){const n=l(),o=setTimeout(()=>{n.resolve({result:void 0,timeout:!0})},e),r=await Promise.race([n.promise,Promise.race(t).then(e=>({result:e,timeout:!1}))]);return clearTimeout(o),r}async function u(e,t,n){const o=await c(n(),t);return e<=1||!o.timeout?o:u(e-1,t,n)}class p{constructor(){this.deferredPromise=l(),this.isCompleted=!1}async wait(e,t){e>0&&await i(e);const n=t-e;n>0&&await Promise.race([this.deferredPromise.promise,i(n)]),this.isCompleted||(this.isCompleted=!0,this.deferredPromise.resolve(void 0))}trigger(){this.isCompleted||this.deferredPromise.resolve(void 0),this.isCompleted=!0}}},z22Z:function(e,t,n){"use strict";n.d(t,"r",(function(){return o})),n.d(t,"l",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"k",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"s",(function(){return p})),n.d(t,"o",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"q",(function(){return f})),n.d(t,"g",(function(){return g})),n.d(t,"p",(function(){return b})),n.d(t,"i",(function(){return v})),n.d(t,"n",(function(){return y})),n.d(t,"m",(function(){return S})),n.d(t,"f",(function(){return w}));const o=["none","reader","comment_only","read_and_write","editor"],r=function(e){return"none"===e},a=function(e){return"string"==typeof e?"reader"===e:!0===e.read_content&&!0!==e.insert_content&&!0!==e.update_content||!0===e.read_property&&!0!==e.insert_property&&!0!==e.update_property},i=function(e){return"string"==typeof e?"reader"===e||"comment_only"===e||"read_and_write"===e||"editor"===e:!0===e.read_content||!0===e.read_property},s=function(e){return"read_and_write"===e||"editor"===e},l=function(e){return"read_and_write"===e},c=function(e){return"comment_only"===e||"read_and_write"===e||"editor"===e},d=function(e){return"string"==typeof e?"read_and_write"===e||"editor"===e:!0===e.insert_content||!0===e.update_content||!0===e.insert_property||!0===e.update_property},u=function(e){return"editor"===e},p=["deleted_permission","restricted_permission","user_permission","bot_permission","group_permission","space_permission","public_permission"];function h(e){return"restricted_permission"===e.type}function m(e){return"deleted_permission"===e.type}function f(e){return"user_permission"===e.type}function g(e){return"bot_permission"===e.type}function b(e){return"space_permission"===e.type}function v(e){return"group_permission"===e.type}function y(e){return"public_permission"===e.type}function S(e){return!m(e)&&!h(e)}function w(e){return S(e)?e.role:"none"}},z8HZ:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{open:!1}}}t.a=new r},zEGb:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("mF3+");const i={text:a.a.typesText,number:a.a.typesNumber,url:a.a.typesUrl,file:a.a.typesFile,date:a.a.typesDate,person:a.a.typesPerson,email:a.a.typesEmail,phone_number:a.a.typesPhoneNumber,checkbox:a.a.typesCheckbox,select:a.a.typesSelect,multi_select:a.a.typesMultipleSelect,relation:a.a.typesRelation,rollup:a.a.typesRollup,formula:a.a.typesFormula,created_time:a.a.typesCreatedAt,created_by:a.a.typesCreatedBy,title:a.a.typesTitle,last_edited_time:a.a.typesCreatedAt,last_edited_by:a.a.typesCreatedBy},s=a.a.typesUnknownType;class l extends r.a.PureComponent{render(){const{type:e,size:t}=this.props,n={width:t,height:t,fill:this.props.isDark?this.props.theme.regularTextColor:this.props.theme.mediumIconColor,...this.props.style};return i[e]?i[e](n):s(n)}}l.defaultWrapStyle={display:"flex",alignItems:"center",justifyContent:"center",width:22,height:22},t.a=l},zK7c:function(e,t,n){"use strict";n("3bBZ");var o=n("17x9"),r=n.n(o),a=n("q1tI"),i=n.n(a),s=n("i8i4"),l=n.n(s),c=n("FmD2"),d=n("6rsX"),u=n("unoy"),p=n("EZe4"),h=n("DkKf"),m=n("wldR"),f=n("fHgN"),g=n("JZPr"),b=n("sjR4"),v=n("nZ1u"),y=n("fYc2"),S=n("w5u6"),w=n("zmp8"),k=n("LvDl"),C=n.n(k),M=n("fbat"),E=n("vio7"),_=n("NOLh"),T=n("AmMh"),x=n("y6Dp"),I=n("hU3F"),P=n("VOS9"),O=n("i3uR"),B=n("AOw3"),L=n("x4bP"),R=n("BJyN"),D=n("gbGO"),A=n("dXb3"),j=n("2Y+N"),F=n("0hFN"),V=n("KTXS"),N=n("J9+s"),U=n("vl8/"),z=n("0CAA"),X=n("wXH4"),Y=n("Qc3L");const H=Object(N.defineMessages)({filterActions:{defaultMessage:"Filter actions…",id:"selectableHoverMenu.filterActions.placeholder"}});class q extends m.a{constructor(){super(...arguments),this.query=new I.a(""),this.renderPopupContent=()=>{const{device:e}=this.environment;!this.rect&&this.node&&(this.rect=this.node.getBoundingClientRect());const t={environment:this.environment,blocks:b.default.state.stores,originRect:this.rect},n=this.query.get(),o=i.a.createElement(j.a,{isInput:!0},i.a.createElement(A.a,{value:n,onChange:e=>this.query.set(e.target.value),focus:!0,focusAfterAnimation:!0,placeholder:U.default.formatMessage(H.filterActions),allowDelete:!0}));let r;return r=e.isPhone?{menuType:D.b.MenuType.ActionSheet,header:o}:{menuType:D.b.MenuType.Popup,width:240,header:o},i.a.createElement(D.b,Object.assign({},r),i.a.createElement(P.a,{filter:n,initialFocus:n?0:void 0,sections:R.c,context:t,onAccept:this.handleAccept}),!n&&this.renderBlockAuthorInfo(),!n&&i.a.createElement(Y.a,{store:this.props.store}),!n&&this.props.store.isCollectionView()&&this.renderCollectionHelpButton())},this.handleClick=()=>{const e=M.a.state;if(e.isOpen){this.rect=void 0,this.query.set(""),M.a.setState({...e,menuIsOpen:!0}),d.k({environment:this.environment,store:this.props.store});const t=this.props.store.getType();t&&x.Eb(this.environment,{blockType:t})}},this.handleAccept=e=>{const t=b.default.state.stores[0],n=t?t.getValue():void 0;n&&x.q(this.environment,{analyticsName:e.analyticsName,from:"selection_menu",block_type:n.type}),M.a.reset()},this.handlePopupDismiss=()=>{M.a.reset()}}willUnmount(){super.willUnmount(),this.menuIsOpen()&&M.a.reset()}didMount(){const e=l.a.findDOMNode(this);e&&e instanceof Element&&(this.node=e)}renderComponent(){const{device:e}=this.environment;if(!e.isPhone)return i.a.createElement("div",{style:this.getStyle()},this.renderMenuPopup())}renderMenuPopup(){const{device:e}=this.environment;return i.a.createElement(X.c,{popupType:e.isPhone?O.a.PopupType.SlideUp:O.a.PopupType.Popup,open:this.menuIsOpen(),placementToOrigin:O.a.Placement.Left,alignmentToOrigin:O.a.Alignment.Center,onDismiss:this.handlePopupDismiss,originGap:5,render:this.renderPopupContent,origin:i.a.createElement(B.a,{store:this.props.store,canDrag:this.canDrag,canSelect:!1,analyticsName:"selection_menu",disableForceTouch:!0,disableHorizontalDragEdgeScroll:!0},i.a.createElement(L.a,{onClick:this.handleClick,disableDrag:!this.canDrag}))})}renderBlockAuthorInfo(){return i.a.createElement(F.a,{store:this.props.store,isPageMoreButton:!1})}renderCollectionHelpButton(){return i.a.createElement(j.a,{topBorder:!0,disableDesktopPadding:!0},i.a.createElement(V.a,{title:i.a.createElement(N.FormattedMessage,{defaultMessage:"Learn about databases",id:"blocks.hoverBlockMenu.collectionHelpButton"}),href:Object(z.a)("guides.database"),analyticsFrom:"selectable_hover_menu"}))}get canDrag(){return!this.props.disableDrag}menuIsOpen(){const e=M.a.state;return e.isOpen&&e.menuIsOpen&&e.currentStore===this.props.store}getStyle(){return{position:"absolute",top:this.props.offsetTop,left:-q.width-2,width:q.width,height:q.height,pointerEvents:"auto",cursor:this.canDrag?"-webkit-grab":void 0}}}q.width=L.a.width,q.height=L.a.height;var W=q,G=n("MeYt"),Z=n("q2qQ"),K=n("LeVO"),J=n("mF3+");class Q extends m.a{constructor(){super(...arguments),this.renderTooltip=()=>i.a.createElement(N.FormattedMessage,{defaultMessage:"Click <mediumcolor>to add a block below</mediumcolor>",id:"block.selectableAddMenu.tooltip",values:{mediumcolor:(...e)=>i.a.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},e)}}),this.handleClick=()=>{Z.b({environment:this.environment,store:this.props.store}),x.y(this.environment),M.a.reset()}}renderComponent(){const{device:e}=this.environment;if(!e.isPhone)return i.a.createElement(K.a,{placement:K.a.Placement.Bottom,delayThreshold:300,renderTooltip:this.renderTooltip,render:e=>i.a.createElement(G.a,Object.assign({onClick:this.handleClick,style:this.getStyle()},e),J.a.plus({width:16}))})}getStyle(){const e=Q.itemSize+Q.rightMargin+W.width;return{display:"flex",alignItems:"center",justifyContent:"center",fill:this.theme.lightIconColor,position:"absolute",top:this.props.offsetTop,left:-e,width:Q.itemSize,height:Q.itemSize,borderRadius:3,pointerEvents:"auto",cursor:"-webkit-grab"}}}Q.itemSize=24,Q.rightMargin=2;var $=Q,ee=n("udrG"),te=n("ikHm"),ne=n("lBar"),oe=n("v/t1"),re=n("gRnv"),ae=n("lCCU");class ie extends m.a{constructor(){super(...arguments),this.handleClick=e=>{re.d({environment:this.environment,blockStore:this.props.store})}}renderComponent(){const{device:e}=this.environment;if(!e.isMobile)return i.a.createElement("div",{style:this.getStyle(),onMouseDown:p.c},i.a.createElement(K.a,{placement:K.a.Placement.Bottom,delayThreshold:300,renderTooltip:()=>i.a.createElement(a.Fragment,null,i.a.createElement(N.FormattedMessage,{defaultMessage:"Click <invertedcolor>to add a comment</invertedcolor>",id:"selectableCommentMenu.addCommentPrompt.tooltip",values:{invertedcolor:(...e)=>i.a.createElement("span",{style:{color:this.theme.mediumInvertedTextColor}},e)}})),render:e=>i.a.createElement(ae.a,Object.assign({icon:J.a.speechBubble,onClick:this.handleClick},e))}))}getStyle(){return{position:"absolute",top:this.props.offsetTop,left:-$.itemSize-8}}}var se=ie,le=n("M64d");class ce extends m.a{constructor(){super(...arguments),this.targetNode=null,this.targetRectStore=new I.a(void 0),this.isCommentMenu=!1,this.disableHoverMenuDrag=!1,this.handleScroll=()=>{this.targetNode&&this.targetRectStore.set(this.targetNode.getBoundingClientRect())}}willMount(e){super.willMount(e);const{target:t}=e,n=T.a.findSelectablesFromStore(t).find(e=>Boolean(e.props.shouldShowHoverMenu||e.props.shouldShowCommentMenu));n&&(this.isCommentMenu=Boolean(n.props.shouldShowCommentMenu),this.disableHoverMenuDrag=Boolean(n.props.shouldDisableHoverMenuDrag),this.targetNode=n.getNode(),this.targetNode&&(this.verticalScrollableAncestor=Object(ne.f)(this.targetNode),this.verticalScrollableAncestor&&Object(oe.a)(this.verticalScrollableAncestor,"scroll",this.handleScroll),this.horizontalScrollableAncestor=Object(ne.d)(this.targetNode),this.horizontalScrollableAncestor&&this.horizontalScrollableAncestor!==this.verticalScrollableAncestor&&Object(oe.a)(this.horizontalScrollableAncestor,"scroll",this.handleScroll),this.handleScroll()))}willUnmount(){super.willUnmount(),this.verticalScrollableAncestor&&Object(oe.b)(this.verticalScrollableAncestor,"scroll",this.handleScroll),this.horizontalScrollableAncestor&&Object(oe.b)(this.horizontalScrollableAncestor,"scroll",this.handleScroll)}renderComponent(){const{target:e,container:t}=this.props,n=t?t.getBoundingClientRect():void 0,o=this.targetRectStore.get(),r=o?o.top-(n?n.top:0):void 0,a=o?o.left-(n?n.left:0):void 0;return Object(le.a)(t=>i.a.createElement("div",Object.assign({style:{position:"absolute",left:a,top:r,zIndex:te.h}},t),this.isCommentMenu&&i.a.createElement(se,{store:e,offsetTop:this.getOffsetTop()}),!this.isCommentMenu&&i.a.createElement(W,{store:e,offsetTop:this.getOffsetTop(),disableDrag:this.disableHoverMenuDrag}),!this.isCommentMenu&&i.a.createElement($,{store:e,offsetTop:this.getOffsetTop()})))}getOffsetTop(){const{target:e}=this.props,t=e.getType(),n=e.getNavigableAncestorFormat(),o=Boolean(n.page_small_text);return t===ee.a.divider?-6:t===ee.a.header?o?7:10:t===ee.a.subHeader?o?4:6:t===ee.a.collectionView?8:3}}var de=ce;class ue extends m.a{constructor(){super(...arguments),this.handleContainerMount=e=>{e&&(this.container=e)}}renderComponent(){return i.a.createElement("div",{style:ue.containerStyle,ref:this.handleContainerMount},i.a.createElement(E.a,{render:()=>C.a.compact([this.renderCurrentTarget()])}))}renderCurrentTarget(){const e=M.a.state;if(e.isOpen&&e.container===this.props.selectableContainer)return i.a.createElement(_.a,{key:e.currentStore.id,isVisible:!0,animationStyle:{opacity:1},enterAnimationStyle:{opacity:1},exitAnimationStyle:{opacity:0},render:()=>i.a.createElement(de,{container:this.container,target:e.currentStore})})}}ue.containerStyle={position:"absolute",top:0,left:0};var pe=ue;class he extends m.a{constructor(){super(...arguments),this.registries=[y.a],this.renderRectangularSelectionRect=()=>{const e=v.a.state;if(e.isActive&&e.showSelectionRect&&this.props.isDefaultContainer)return i.a.createElement("div",{style:this.getRectangularSelectionStyle()})},this.handleMouseDown=e=>{const{device:t}=this.environment;this.props.disableRectangularSelection||(t.isPhone?Object(p.d)({event:e,context:p.a.EditorMouseDown,callback:()=>{d.e(this.environment),g.e()}}):Object(p.d)({event:e,context:p.a.EditorMouseDown,callback:()=>{1!==e.button&&(e.preventDefault(),c.c({environment:this.environment,target:e.target,startX:e.clientX,startY:e.clientY,showSelectionRect:!0,preventSelectStores:[],allowVerticalEdgeScroll:!0,allowHorizontalEdgeScroll:!1}))}}))},this.handleClick=e=>{this.props.store.canEdit()&&Object(p.d)({event:e,context:p.a.EditorClick,callback:()=>{if(!h.d()&&!this.props.disableEditNearestBlock){const{clientX:t,clientY:n}=e;S.default.afterNextFlush(()=>{u.i(this.environment,{x:t,y:n})})}}})},this.shouldRenderRectangularSelectionRectStore=this.createComputedStore(()=>Boolean(b.default.state.defaultContainer===this&&v.a.state.isActive))}getNode(){return l.a.findDOMNode(this)}didMount(){super.didMount(),this.props.isDefaultContainer&&(this.lastDefaultContainer=b.default.state.defaultContainer,b.default.setState({...b.default.state,defaultContainer:this,pivot:void 0,anchor:void 0})),d.h();const e=l.a.findDOMNode(this);e&&(this.observer=new MutationObserver(d.i),this.observer.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))}willUnmount(){super.willUnmount(),this.props.isDefaultContainer&&b.default.state.defaultContainer===this&&b.default.setState({...b.default.state,defaultContainer:this.lastDefaultContainer,pivot:void 0,anchor:void 0}),this.observer&&this.observer.disconnect(),delete this.lastDefaultContainer}getChildContext(){return{selectableContainer:this,...this.context}}renderComponent(){const{render:e}=this.props;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{open:this.shouldRenderRectangularSelectionRectStore.state,origin:e({onMouseDown:this.handleMouseDown,onClick:this.handleClick}),render:this.renderRectangularSelectionRect}),i.a.createElement(pe,{selectableContainer:this}))}getRectangularSelectionStyle(){const e=v.a.state;if(e.isActive){const{currentRect:t}=e;if(t)return{position:"absolute",pointerEvents:"none",backgroundColor:w.g.blueWithAlpha(.2),border:"1px solid transparent",left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top}}}}he.contextTypes=m.b,he.childContextTypes={selectableContainer:r.a.any,...m.b};t.a=he},zTdN:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),a=n("wldR"),i=n("ZQ9l"),s=n("gbGO");class l extends a.a{renderComponent(){return r.a.createElement(i.a,Object.assign({},this.props,{title:r.a.createElement("span",{style:{color:this.theme.mediumTextColor}},this.props.title),right:this.props.right}))}}l.contextTypes={...s.c},t.a=l},zUsb:function(e,t,n){"use strict";n.d(t,"x",(function(){return w})),n.d(t,"w",(function(){return k})),n.d(t,"l",(function(){return C})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return E})),n.d(t,"g",(function(){return _})),n.d(t,"j",(function(){return T})),n.d(t,"c",(function(){return x})),n.d(t,"p",(function(){return P})),n.d(t,"q",(function(){return O})),n.d(t,"o",(function(){return B})),n.d(t,"b",(function(){return L})),n.d(t,"f",(function(){return R})),n.d(t,"v",(function(){return D})),n.d(t,"n",(function(){return A})),n.d(t,"t",(function(){return j})),n.d(t,"h",(function(){return F})),n.d(t,"k",(function(){return V})),n.d(t,"m",(function(){return N})),n.d(t,"u",(function(){return U})),n.d(t,"r",(function(){return z})),n.d(t,"s",(function(){return X})),n.d(t,"a",(function(){return Y})),n.d(t,"i",(function(){return H}));n("3bBZ"),n("c9m3");var o,r,a,i,s,l,c,d,u,p=n("LvDl"),h=n.n(p),m=n("922z"),f=n("d2j2"),g=n("vmS8"),b=n("5BEd"),v=n("GaQ6");function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const S=Object.keys({record_table:!0,record_id:!0,record_value:!0,space_id:!0,timestamp:!0,parent_table:!0,parent_id:!0,importance:!0,user_id:!0,is_offline:!0});async function w(e,t){await Object(v.a)(o||(o=y(["\n\t\tINSERT OR REPLACE INTO transactions (id, user_id, value)\n\t\tVALUES (",", ",", ",")\n\t"])),t.id,t.userId||null,Object(g.e)(t)).run(e)}async function k(e,t){const n=h.a.chunk(t,g.a).map(e=>{const t=Object(v.a)(r||(r=y([","]))).joins(e.map(e=>Object(v.a)(a||(a=y(["",""])),e)));return Object(v.a)(i||(i=y(["DELETE FROM transactions WHERE id in (",")"])),t).asWrite()});await Object(g.b)(e,n)}async function C(e){return(await Object(g.f)(e,"SELECT value FROM transactions")).map(e=>JSON.parse(e.value))}async function M(e){return(await Object(g.f)(e,"SELECT COUNT(*) AS count FROM transactions"))[0].count}async function E(e,t){return(await Object(g.f)(e,"SELECT COUNT(*) AS count FROM transactions WHERE user_id = ?",[t]))[0].count}async function _(e){await Object(v.a)(s||(s=y(["DELETE FROM transactions"]))).run(e)}async function T(e,t){const[n]=await Object(g.b)(e,[{sql:"SELECT * FROM transactions WHERE user_id = ?",args:[t],getData:!0},{sql:"DELETE FROM transactions WHERE user_id = ?",args:[t]}]);return n.data.map(e=>e.id)}async function x(e,t){await Object(g.b)(e,[{sql:"\n\t\t\t\tUPDATE records SET user_id = ? WHERE user_id is null\n\t\t\t\t",args:[t]}])}function I(e){const{records:t,maybeStaleRecords:n}=e;return h.a.chunk(t,Math.floor(g.a/S.length)).map(e=>{const t=Array(e.length).fill("(?, ?, ?, ?, ?, ?, ?, ?, ?, ?)").join(",");let o="\n\t\t\tINSERT INTO records\n\t\t\t(\n\t\t\t\trecord_table,\n\t\t\t\trecord_id,\n\t\t\t\trecord_value,\n\t\t\t\ttimestamp,\n\t\t\t\tparent_table,\n\t\t\t\tparent_id,\n\t\t\t\timportance,\n\t\t\t\tuser_id,\n\t\t\t\tis_offline,\n\t\t\t\tspace_id\n\t\t\t)\n\t\t\tVALUES ".concat(t);return o=n?o.concat("\n\t\t\t\tON CONFLICT (record_table, record_id, user_id) DO UPDATE SET\n\t\t\t\t\trecord_value =\n\t\t\t\t\t\tCASE WHEN json_extract(excluded.record_value, '$.value.version') > json_extract(records.record_value, '$.value.version')\n\t\t\t\t\t\tTHEN excluded.record_value\n\t\t\t\t\t\tELSE records.record_value\n\t\t\t\t\t\tEND,\n\t\t\t\t\ttimestamp =\n\t\t\t\t\t\tCASE WHEN json_extract(excluded.record_value, '$.value.version') > json_extract(records.record_value, '$.value.version')\n\t\t\t\t\t\tTHEN excluded.timestamp\n\t\t\t\t\t\tELSE records.timestamp\n\t\t\t\t\t\tEND,\n\t\t\t\t\tparent_table =\n\t\t\t\t\t\tCASE WHEN json_extract(excluded.record_value, '$.value.version') > json_extract(records.record_value, '$.value.version')\n\t\t\t\t\t\tTHEN excluded.parent_table\n\t\t\t\t\t\tELSE records.parent_table\n\t\t\t\t\t\tEND,\n\t\t\t\t\tparent_id =\n\t\t\t\t\t\tCASE WHEN json_extract(excluded.record_value, '$.value.version') > json_extract(records.record_value, '$.value.version')\n\t\t\t\t\t\tTHEN excluded.parent_id\n\t\t\t\t\t\tELSE records.parent_id\n\t\t\t\t\t\tEND,\n\t\t\t\t\timportance =\n\t\t\t\t\t\tCASE WHEN json_extract(excluded.record_value, '$.value.version') > json_extract(records.record_value, '$.value.version')\n\t\t\t\t\t\tTHEN excluded.importance\n\t\t\t\t\t\tELSE records.importance\n\t\t\t\t\t\tEND,\n\t\t\t\t\tuser_id =\n\t\t\t\t\t\tCASE WHEN json_extract(excluded.record_value, '$.value.version') > json_extract(records.record_value, '$.value.version')\n\t\t\t\t\t\tTHEN excluded.user_id\n\t\t\t\t\t\tELSE excluded.user_id\n\t\t\t\t\t\tEND,\n\t\t\t\t\tis_offline = COALESCE(excluded.is_offline, records.is_offline),\n\t\t\t\t\t-- space_id never changes.\n\t\t\t\t\tspace_id = COALESCE(records.space_id, excluded.space_id)"):o.concat("\n\t\t\t\tON CONFLICT (record_table, record_id, user_id) DO UPDATE SET\n\t\t\t\t\trecord_value = excluded.record_value,\n\t\t\t\t\ttimestamp = excluded.timestamp,\n\t\t\t\t\tparent_table = excluded.parent_table,\n\t\t\t\t\tparent_id = excluded.parent_id,\n\t\t\t\t\timportance = excluded.importance,\n\t\t\t\t\tuser_id = excluded.user_id,\n\t\t\t\t\tis_offline = COALESCE(excluded.is_offline, records.is_offline),\n\t\t\t\t\t-- space_id never changes.\n\t\t\t\t\tspace_id = COALESCE(records.space_id, excluded.space_id)"),{sql:o,args:h.a.flatten(e.map(({pointer:e,value:t,timestamp:n,importance:o,userId:r,isOffline:a})=>{let i=null,s=null;return t&&t.value&&Object(f.b)(t.value)&&(i=t.value.parent_id,s=t.value.parent_table),[e.table,e.id,Object(g.e)(t),n,s,i,"number"==typeof o?o:null,r,"boolean"==typeof a?a?1:0:null,e.spaceId||null]}))}})}async function P(e,t){const n=Array(t.length).fill("(record_table = ? AND record_id = ? AND user_id = ?)").join(" OR "),o=h.a.flatMap(t,({pointer:{table:e,id:t},userId:n})=>[e,t,n]),[r]=await Object(g.b)(e,[{sql:"\n\t\t\t\tSELECT * FROM records\n\t\t\t\tWHERE ".concat(n),args:o,getData:!0}]);return r.data.map(e=>({pointer:m.b.fromPointerLike({table:e.record_table,id:e.record_id,spaceId:e.space_id||void 0}),value:JSON.parse(e.record_value),timestamp:e.timestamp,importance:"number"==typeof e.importance?e.importance:void 0,userId:e.user_id,isOffline:e.is_offline?1===e.is_offline:void 0}))}async function O(e,t){const n={sql:"\n\t\tSELECT * FROM records\n\t\tWHERE record_table = ?\n\t\tAND parent_table = ?\n\t\tAND parent_id = ?\n\t\tAND user_id = ?\n\t\t",args:[t.table,t.parent.table,t.parent.id,t.userId],getData:!0},o={sql:"\n\t\tUPDATE records\n\t\tSET timestamp = ?\n\t\tWHERE record_table = ?\n\t\tAND parent_table = ?\n\t\tAND parent_id = ?\n\t\tAND user_id = ?\n\t\t",args:[t.timestamp,t.table,t.parent.table,t.parent.id,t.userId]},[r]=await Object(g.b)(e,[n,o]),a=r.data;return 0===a.length?[]:a.map(e=>({pointer:m.b.fromPointerLike({table:e.record_table,id:e.record_id,spaceId:e.space_id||void 0}),value:JSON.parse(e.record_value),userId:e.user_id}))}async function B(e,t){const n=Object(v.a)(u||(u=y(["\n    WITH RECURSIVE page_records AS (\n      SELECT * FROM records\n      WHERE record_table = 'block'\n      AND record_id = ","\n      AND user_id = ","\n\n      UNION\n\n      SELECT records.*\n      FROM\n        records INDEXED BY record_parent,\n        page_records INDEXED BY record_parent\n      WHERE\n      (\n        page_records.record_id = ","\n        OR json_extract(page_records.record_value, '$.value.type') NOT IN ('page', 'toggle')\n      )\n      AND records.record_table = 'block'\n      AND records.parent_table = page_records.record_table\n      AND records.parent_id = page_records.record_id\n      AND records.user_id = ","\n    )\n    SELECT * FROM page_records\n    "])),t.page.id,t.userId,t.page.id,t.userId),o=await n.all(e);return 0===o.length?[]:o.map(e=>({pointer:m.b.fromPointerLike({table:e.record_table,id:e.record_id,spaceId:e.space_id||void 0}),value:JSON.parse(e.record_value),userId:e.user_id}))}async function L(e,t,n){const o=n.filter(e=>"set"===e.type&&!e.maybeStaleRecord),r=n.filter(e=>"set"===e.type&&e.maybeStaleRecord),a=n.filter(({type:e})=>"access"===e),i=n.filter(({type:e})=>"delete"===e),s=[];if(a.length>0){const e=a.map(e=>({sql:"UPDATE records SET timestamp = ? WHERE record_table = ? AND record_id = ? AND user_id = ?",args:[e.record.timestamp,e.record.pointer.table,e.record.pointer.id,e.record.userId]}));s.push(...e)}if(o.length>0||r.length>0){if(o.length>0){const e=o.map(e=>e.record);s.push(...I({records:e,maybeStaleRecords:!1}))}if(r.length>0){const e=r.map(e=>e.record);s.push(...I({records:e,maybeStaleRecords:!0}))}s.push({sql:"\n\t\t\tDELETE FROM records\n\t\t\tWHERE rowid IN (\n\t\t\t\tSELECT rowid FROM records\n\t\t\t\tWHERE is_offline IS NULL OR is_offline = 0\n\t\t\t\tORDER BY importance DESC, timestamp DESC\n\t\t\t\tLIMIT -1\n\t\t\t\tOFFSET ?\n\t\t\t)\n\t\t\t",args:[t]})}if(i.length>0){const e=i.map(e=>e.record);s.push(...(u=e,h.a.chunk(u,Math.floor(g.a/(2*u.length))).map(e=>{const t=Object(v.a)(l||(l=y([" OR "]))).joins(e.map(e=>Object(v.a)(c||(c=y(["(records.record_id = "," AND records.user_id = ",")"])),e.pointer.id,e.userId)));return Object(v.a)(d||(d=y(["DELETE FROM records WHERE ",""])),t).asWrite()})))}var u;0!==s.length&&await Object(g.b)(e,s)}async function R(e){await Object(g.g)(e,"DELETE FROM records")}async function D(e,t){const n=await A(e,t.user_id,t.record_table,t.record_id);return Boolean(n)}async function A(e,t,n,o){const r=await Object(g.f)(e,"\n    SELECT * FROM offline_root\n    WHERE user_id = ? AND record_table = ? AND record_id = ?\n    LIMIT 1\n    ",[t,n,o]),[a]=r;return a}async function j(e,t){await Object(g.g)(e,"\n    INSERT OR REPLACE INTO offline_root (user_id, record_table, record_id)\n    VALUES (?, ?, ?)\n    ",[t.user_id,t.record_table,t.record_id])}async function F(e,t){await Object(g.g)(e,"\n    DELETE FROM offline_root\n    WHERE user_id = ? AND record_table = ? AND record_id = ?\n    ",[t.user_id,t.record_table,t.record_id])}async function V(e,t){return Object(g.f)(e,"SELECT * FROM offline_root WHERE user_id = ?",[t])}async function N(e,t,n){return await Object(g.f)(e,"\n    SELECT * FROM offline_sync_parent\n    WHERE user_id = ? AND state IN ('needs_full_sync', 'needs_delta_sync', 'needs_garbage_collection')\n    ORDER BY CASE state\n      WHEN 'needs_full_sync' THEN 1\n      WHEN 'needs_delta_sync' THEN 2\n      WHEN 'needs_garbage_collection' THEN 3\n    END, last_updated_local_timestamp\n    LIMIT ?\n    ",[t,n])}async function U(e,t){await Object(g.g)(e,"\n    INSERT OR REPLACE INTO offline_sync_parent (\n      user_id,\n      root_table,\n      root_id,\n      sync_parent_table,\n      sync_parent_id,\n      state,\n      last_updated_local_timestamp,\n      last_synced_global_cursor\n    )\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n    ",[t.user_id,t.root_table,t.root_id,t.sync_parent_table,t.sync_parent_id,t.state,t.last_updated_local_timestamp,t.last_synced_global_cursor?t.last_synced_global_cursor:null])}async function z(e,t,n,o){const r=await Object(g.f)(e,"\n    SELECT * FROM offline_sync_parent\n    WHERE user_id = ? AND sync_parent_table = ? AND sync_parent_id = ?\n    LIMIT 1\n    ",[t,n,o]),[a]=r;return a}async function X(e,t){return await Object(g.f)(e,"\n\t\tSELECT *\n\t\tFROM offline_sync_parent\n\t\tWHERE user_id = ? AND root_table = ? AND root_id = ?\n\t\t",[t.user_id,t.record_table,t.record_id])}async function Y(e,t){const n=h.a.chunk(t,Math.floor(g.a/b.a.length)).map(e=>{const t=Array(e.length).fill("(?, ?, ?, ?, ?, ?, ?, ?)").join(",");return{sql:"\n    INSERT OR REPLACE INTO offline_record_pointer\n    (\n      user_id,\n      root_table,\n      root_id,\n      sync_parent_table,\n      sync_parent_id,\n      record_table,\n      record_id,\n      is_full_sync_in_progress\n    ) VALUES ".concat(t,"\n    "),args:h.a.flatten(e.map(e=>[e.user_id,e.root_table,e.root_id,e.sync_parent_table,e.sync_parent_id,e.record_table,e.record_id,e.is_full_sync_in_progress]))}});await Object(g.b)(e,n)}async function H(e,t){const n={sql:"\n    UPDATE\n      records\n    SET\n      is_offline = 0\n    WHERE (user_id, record_table, record_id)\n    IN(\n      SELECT\n        this.user_id AS user_id,\n        this.record_table AS record_table,\n        this.record_id AS record_id\n      FROM offline_record_pointer this\n      INNER JOIN offline_record_pointer other ON this.record_id = other.record_id\n      WHERE\n        this.user_id = ? AND\n        this.root_id = ? AND\n        this.sync_parent_id = ?\n      GROUP BY\n        this.record_id\n      HAVING\n        COUNT(*) = 1\n    )\n    ",args:[t.user_id,t.root_id,t.sync_parent_id]},o={sql:"\n    DELETE FROM offline_record_pointer\n    WHERE user_id = ? AND root_id = ? AND sync_parent_id = ?\n    ",args:[t.user_id,t.root_id,t.sync_parent_id]},r={sql:"\n\t  DELETE FROM offline_sync_parent\n    WHERE user_id = ? AND sync_parent_table = ? AND sync_parent_id = ?\n    ",args:[t.user_id,t.sync_parent_table,t.sync_parent_id]};await Object(g.b)(e,[n,o,r])}},zb5D:function(e,t,n){"use strict";n("3bBZ");var o=n("LvDl"),r=n.n(o);const a=["name","message","stack","reason","data","info"];n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));function i(e,t=JSON.stringify){try{return"object"==typeof e&&null!==e?t(function e(t,n=10,o=new Set){if(!(n<=0)){if(r.a.isString(t)||r.a.isNumber(t)||r.a.isBoolean(t))return t;if(r.a.isArray(t)){if(o.has(t))return;return o.add(t),t.map(t=>e(t,n-1,o))}if(r.a.isError(t)||r.a.isObjectLike(t)){if(o.has(t))return;o.add(t);const r={};for(const a of Object.keys(t)){if(r[a])continue;if("string"==typeof a&&a.length>0&&"_"===a[0]){r[a]="[omitted]";continue}const i=t[a];r[a]=e(i,n-1,o)}for(const i of a){if(r[i])continue;const a=t[i];a&&(r[i]=e(a,n-1,o))}return r}}}(e,8)):String(e)}catch(n){return'Unable to safely convert to string: "'.concat(n.stack?n.stack:"",'"')}}function s(e,t=JSON.stringify){try{if("object"==typeof e&&null!==e){const n=e,{statusCode:o,name:r,message:a,data:s,error:l,stack:c,body:d}=n,u={};if(o&&(u.statusCode=Number(o)),r&&(u.name=String(r)),a&&(u.message=String(a)),s&&(u.miscDataString=i(s,t)),l&&(u.miscErrorString=i(l,t)),c&&(u.stack=String(c)),d)if(u.body={},"object"==typeof d&&null!==d){const e=d,{errorId:n,name:o,message:r,clientData:a}=e;n&&(u.body.errorId=String(n)),o&&(u.body.name=String(o)),r&&(u.body.message=String(r)),a&&(u.body.clientDataString=i(a,t))}else u.body.message=i(d,t);return u}return{miscErrorString:i(e,t)}}catch(n){return{miscErrorString:'Unable to safely convert error to log: "'.concat(n.stack?n.stack:"",'"')}}}function l(e,t=JSON.stringify){const{miscDataToConvertToString:n,...o}=e,r=o;return void 0!==n&&(r.miscDataString=i(n,t)),r}},zgcg:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("17x9"),r=n.n(o),a=n("wldR");const i={overrideLinkClick:r.a.func,...a.b}},zmp8:function(e,t,n){"use strict";n.d(t,"q",(function(){return m})),n.d(t,"o",(function(){return w})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return E})),n.d(t,"i",(function(){return T})),n.d(t,"p",(function(){return x})),n.d(t,"j",(function(){return I})),n.d(t,"k",(function(){return P})),n.d(t,"r",(function(){return O})),n.d(t,"m",(function(){return B})),n.d(t,"f",(function(){return L})),n.d(t,"s",(function(){return R})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return A})),n.d(t,"l",(function(){return j})),n.d(t,"n",(function(){return F})),n.d(t,"h",(function(){return V}));n("3bBZ"),n("Junv");var o=n("YUnZ"),r=n.n(o),a=n("enKW"),i=n("LvDl"),s=n.n(i),l=(n("VhAz"),n("J9+s"));const c=e=>"rgba(55, 53, 47, ".concat(e,")"),d=e=>"rgba(255, 255, 255, ".concat(e,")"),u=(e,t)=>r()(e).darken(t).css(),p=(e,t)=>r()(e).brighten(t).css();function h(e){const t=(t,n)=>e>=0&&e<360?t.set("hsl.s",n).set("hsl.h",e):t.set("hsl.s",0);return{black:t(r.a.hsl(0,.01,.07),.16),darkgray:t(r.a.hsl(0,.01,.2),.08),gray:t(r.a.hsl(0,.01,.5),.06),lightgray:t(r.a.hsl(0,.01,.8),.04),white:t(r.a.hsl(0,.01,1),.02)}}const m={light:h(45),dark:h(205)},f={blue:"#2EAADC",red:"#EB5757",contentBorder:"#E4E3E2",contentGrayBackground:"#F7F6F5",contentPlaceholder:"#C4C4C4",defaultText:"rgb(66, 66, 65)",uiBlack:"#333",uiExtraLightGray:"#E2E2E2",uiGray:"#A5A5A5",uiLightBlack:"#888",uiLightBorder:"#F2F1F0",uiLightGray:"#C4C4C4"},g={frontText:"#040404",frontTextLight:"rgba(0,0,0,0.4)",frontTextMedium:"rgba(0,0,0,0.6)",frontTextDark:"#111111",frontBorder:"rgba(0, 0, 0, 0.1)",frontCreamBackground:"#FFFEFC",frontCreamBackgroundDark:"#F9F5F1",frontCreamText:"#463D34",frontCreamBorder:"#D4CFCB",frontBlueBackground:"#EFF3F5",frontBlueBackgroundDark:"#D7E3E8",frontBlueText:"#274253",frontBlueBorder:"#B5C7D8",frontPurpleBackground:"#E7E6EA",frontPurpleBackgroundDark:"#D9D7DF",frontPurpleText:"#382F49",frontPurpleBorder:"#ACA8BD",frontOrangeBackground:"#F8EDE7",frontOrangeBackgroundDark:"#F2DCCF",frontOrangeText:"#5B3322",frontOrangeBorder:"#DEBEAC",frontRed:"#eb5757",frontPrimaryButtonBackground:"#E16259",frontPrimaryButtonBackgroundHovered:"#CF534A",frontPrimaryButtonBackgroundPressed:"#BF4D45",frontPrimaryButtonBorder:"#BE5643",frontSecondaryButtonBackground:"#FDF5F2",frontSecondaryButtonBackgroundHovered:"#FBEBE8",frontSecondaryButtonBackgroundPressed:"#F9E5E2",frontTertiaryButtonBackground:"transparent",frontTertiaryButtonBackgroundHovered:m.light.darkgray.alpha(.08).css(),frontTertiaryButtonBackgroundPressed:m.light.darkgray.alpha(.16).css(),frontMobilePhoneBackground:"#1d1d1d",frontLiveDemoSidebarText:"#777",frontLiveDemoSidebarLabelText:"rgba(55, 53, 47, 0.3)",frontTransparent:"transparent"},b={regularTextColor:c(1),mediumTextColor:c(.7),lightTextColor:c(.4),regularIconColor:m.light.darkgray.alpha(.8).css(),mediumIconColor:m.light.darkgray.alpha(.4).css(),lightIconColor:m.light.darkgray.alpha(.2).css(),dividerColor:m.light.darkgray.alpha(.09).css(),invertedTextColor:r()("white").alpha(.9).css(),selectionColor:"rgba(45, 170, 219, 0.3)"},v={halfWhite:"rgba(255, 255, 255, 0.5)",diffTextColor:f.blue,diffBackground:r()(f.blue).alpha(.1).css()},y={inherit:"inherit",transparent:"transparent",black:"black",white:"white",whiteWithAlpha:(e=1)=>"rgba(255, 255, 255, ".concat(e,")"),blackWithAlpha:(e=1)=>"rgba(0, 0, 0, ".concat(e,")"),redWithAlpha:(e=1)=>"rgba(235, 87, 87, ".concat(e,")"),blueWithAlpha:(e=1)=>"rgba(46, 170, 220, ".concat(e,")"),...f,EmailBaseColor:"#333333",EmailBorderColor:"#EEEEEE",EmailCaptionColor:"#AAAAAA",EmailPasswordBackground:"#F4F4F4",twitterBrandBlueColor:"#1da1f2",UIDocNotificationsDarkGrayColor:"#6A6A6A",UIDocNotificationsLightGrayBackground:"#F1F1F1",UIDocNotificationsMediumGrayBackground:"#D7D7D7",UIDocNotificationsMediumLightGrayBackground:"#E9E9E9",...g,...b,...v},S={mode:{light:"light",dark:"dark"},regularTextColor:{light:c(1),dark:d(.9)},mediumTextColor:{light:c(.6),dark:d(.6)},lightTextColor:{light:c(.4),dark:d(.4)},actionMenuButtonTextColor:{light:c(.6),dark:y.white},pageTitlePlaceholderTextColor:{light:"rgba(55, 53, 47, 0.15)",dark:"rgba(255, 255, 255, 0.2)"},headerBlockPlaceholderTextColor:{light:"rgba(55, 53, 47, 0.2)",dark:"rgba(255, 255, 255, 0.25)"},regularInvertedTextColor:{light:m.light.white.alpha(.9).css(),dark:m.dark.black.alpha(1).css()},mediumInvertedTextColor:{light:m.light.lightgray.alpha(.6).css(),dark:m.dark.darkgray.alpha(.6).css()},regularIconColor:{light:c(.8),dark:m.dark.lightgray.alpha(1).css()},mediumIconColor:{light:c(.4),dark:m.dark.lightgray.alpha(.6).css()},lightIconColor:{light:c(.3),dark:m.dark.lightgray.alpha(.4).css()},lightDividerColor:{light:m.light.darkgray.alpha(.06).css(),dark:m.dark.white.alpha(.07).css()},regularDividerColor:{light:m.light.darkgray.alpha(.09).css(),dark:m.dark.white.alpha(.07).css()},darkDividerColor:{light:m.light.darkgray.alpha(.16).css(),dark:m.dark.white.alpha(.14).css()},tableDividerColor:{light:"rgb(223,223,222)",dark:"rgb(77,81,83)"},tableLightDividerColor:{light:"rgb(237,237,236)",dark:"rgb(63,66,69)"},linkDecorationColor:{light:m.light.darkgray.alpha(.25).css(),dark:m.dark.white.alpha(.3).css()},opacityLinkDecorationColor:{light:m.light.darkgray.alpha(.4).css(),dark:m.dark.white.alpha(.4).css()},inlineInputBackground:{light:"rgba(148, 148, 148, 0.15)",dark:"rgba(148, 148, 148, 0.15)"},regularEmojiColor:{light:y.black,dark:y.white},sidebarTextColor:{light:"rgba(25, 23, 17, 0.6)",dark:"rgba(255, 255, 255, 0.6)"},sidebarBackground:{light:"rgb(247, 246, 243)",dark:"rgb(55, 60, 63)"},androidSidebarBackground:{light:y.white,dark:"rgb(71,76,80)"},floatingSidebarBackground:{light:y.white,dark:"rgb(55, 60, 63)"},groupedFormBackground:{light:y.blackWithAlpha(.025),dark:m.dark.black.alpha(.3).css()},groupedFormBorder:{light:m.light.darkgray.alpha(.09).css(),dark:m.dark.white.alpha(.07).css()},sidebarItemSelectedBackground:{light:"#E8E7E4",dark:"#454A4D"},groupedFormLabel:{light:"#6B6B6B",dark:"#6B6B6B"},sidebarSecondaryBackground:{light:y.blackWithAlpha(.025),dark:y.blackWithAlpha(.025)},sidebarSwitcherFooterBackground:{light:"#FBFAF9",dark:"#404447"},sidebarHideButtonHoveredBackground:{light:u("#E8E7E4",.3),dark:p("#454A4D",.4)},sidebarHideButtonPressedBackground:{light:u("#E8E7E4",.6),dark:p("#454A4D",.6)},mobileSidebarIOSBackground:{light:"rgb(247, 246, 243)",dark:r()("rgb(55, 60, 63)").darken(.4).css()},mobileSidebarAndroidBackground:{light:y.white,dark:"rgb(55, 60, 63)"},onboardingSidebarOverlay:{light:"rgba(247, 246, 243, 0.8)",dark:"rgba(55, 60, 63, 0.8)"},onboardingContentOverlay:{light:"rgba(255, 255, 255, 0.8)",dark:m.dark.darkgray.alpha(.8).css()},onboardingFlatBackground:{light:"rgb(246, 246, 245)",dark:"rgb(55, 60, 63)"},contentBackground:{light:y.white,dark:m.dark.darkgray.css()},contentBackgroundTransparent:{light:"rgba(255,255,255,0)",dark:m.dark.darkgray.alpha(0).css()},overlaySmokescreen:{light:"rgba(0, 0, 0, 0.4)",dark:"rgba(0, 0, 0, 0.4)"},popoverBackground:{light:y.white,dark:m.dark.darkgray.brighten(.4).css()},modalBackground:{light:m.light.black.alpha(.6).css(),dark:m.dark.black.alpha(.6).css()},tooltipBackground:{light:m.light.black.css(),dark:m.dark.lightgray.css()},filterGroupBackground:{light:y.blackWithAlpha(.02),dark:y.whiteWithAlpha(.02)},beigeBannerBackground:{light:"#FBF8F3",dark:"rgb(55, 60, 63)"},darkBannerBackground:{light:"#EAE9E7",dark:"rgb(55, 60, 63)"},keyboardDoneBarBackground:{light:"#F0F1F2",dark:"#27292B"},keyboardActionBarBackground:{light:y.white,dark:"#272829"},codeBlockBackground:{light:"rgb(247, 246, 243)",dark:"rgb(63, 68, 71)"},codeBlockButtonBackground:{light:"#EAE9E5",dark:"rgb(63, 68, 71)"},embedPlaceholderBackground:{light:r()("rgb(247, 246, 243)").darken(.1).css(),dark:r()("rgb(55, 60, 63)").brighten(.2).css()},inputBackground:{light:"rgba(242,241,238,0.6)",dark:m.dark.black.alpha(.3).css()},tokenInputMenuItemBackground:{light:"rgba(242,241,238,0.6)",dark:"rgb(55,60,63)"},focusDiscussionBackground:{light:m.light.gray.alpha(.1).css(),dark:m.dark.darkgray.alpha(.4).css()},blueColor:{light:"rgb(46, 170, 220)",dark:d(.9)},buttonBackground:{light:y.white,dark:m.dark.darkgray.brighten(.8).css()},buttonHoveredBackground:{light:m.light.darkgray.alpha(.08).css(),dark:m.dark.darkgray.brighten(.6).css()},buttonPressedBackground:{light:m.light.darkgray.alpha(.16).css(),dark:m.dark.darkgray.brighten(.4).css()},cardHoveredBackground:{light:m.light.darkgray.alpha(.03).css(),dark:m.dark.darkgray.brighten(.6).css()},cardPressedBackground:{light:m.light.darkgray.alpha(.06).css(),dark:m.dark.darkgray.brighten(.4).css()},blueButtonHoveredBackground:{light:u(y.blue,.3),dark:u(y.blue,.3)},blueButtonPressedBackground:{light:u(y.blue,.6),dark:u(y.blue,.6)},whiteButtonBackground:{light:y.white,dark:m.dark.darkgray.css()},whiteButtonHoveredBackground:{light:"rgb(239, 239, 238)",dark:"rgb(98, 102, 104)"},whiteButtonPressedBackground:{light:"rgb(223, 223, 222)",dark:"rgb(120, 123, 123)"},blackButtonBackground:{light:m.dark.darkgray.css(),dark:y.white},blackButtonHoveredBackground:{light:"rgb(98, 102, 104)",dark:"rgb(239, 239, 238)"},blackButtonPressedBackground:{light:"rgb(120, 123, 123)",dark:"rgb(223, 223, 222)"},outlineBlueButtonHoveredBackground:{light:"rgba(46, 170, 220, 0.1)",dark:d(.1)},outlineBlueButtonPressedBackground:{light:"rgba(46, 170, 220, 0.2)",dark:d(.2)},outlineRedButtonBorder:{light:y.redWithAlpha(.5),dark:y.redWithAlpha(.5)},outlinefrontSecondaryButtonHoveredBackground:{light:y.redWithAlpha(.1),dark:y.redWithAlpha(.1)},outlinefrontSecondaryButtonPressedBackground:{light:y.redWithAlpha(.2),dark:y.redWithAlpha(.2)},outlineButtonBorder:{light:m.light.darkgray.alpha(.16).css(),dark:m.dark.white.alpha(.14).css()},filterGroupBorder:{light:m.light.darkgray.alpha(.1).css(),dark:m.dark.white.alpha(.1).css()},radioButtonBorder:{light:y.blackWithAlpha(.2),dark:y.whiteWithAlpha(.5)},timelineBackground:{light:"rgb(253,253,253)",dark:m.dark.darkgray.css()},timelineDarkerBackground:{light:"rgb(247,247,247)",dark:"rgb(55,60,63)"},timelineRed:{light:"rgb(211,79,67)",dark:"rgb(211,79,67)"},blockColors:{light:{default:{color:"inherit",fill:"inherit"},gray:{color:c(.6),fill:c(.6)},brown:{color:"rgb(100,71,58)",fill:"rgb(100,71,58)"},orange:{color:"rgb(217,115,13)",fill:"rgb(217,115,13)"},yellow:{color:"rgb(223,171,1)",fill:"rgb(223,171,1)"},teal:{color:"rgb(15,123,108)",fill:"rgb(15,123,108)"},blue:{color:"rgb(11,110,153)",fill:"rgb(11,110,153)"},purple:{color:"rgb(105,64,165)",fill:"rgb(105,64,165)"},pink:{color:"rgb(173,26,114)",fill:"rgb(173,26,114)"},red:{color:"rgb(224,62,62)",fill:"rgb(224,62,62)"},gray_background:{background:"rgb(235,236,237)"},brown_background:{background:"rgb(233,229,227)"},orange_background:{background:"rgb(250,235,221)"},yellow_background:{background:"rgb(251,243,219)"},teal_background:{background:"rgb(221,237,234)"},blue_background:{background:"rgb(221,235,241)"},purple_background:{background:"rgb(234,228,242)"},pink_background:{background:"rgb(244,223,235)"},red_background:{background:"rgb(251,228,228)"}},dark:{default:{color:"inherit",fill:"inherit"},gray:{color:d(.6),fill:d(.6)},brown:{color:"rgb(147,114,100)",fill:"rgb(147,114,100)"},orange:{color:"rgb(255,163,68)",fill:"rgb(255,163,68)"},yellow:{color:"rgb(255,220,73)",fill:"rgb(255,220,73)"},teal:{color:"rgb(77,171,154)",fill:"rgb(77,171,154)"},blue:{color:"rgb(82,156,202)",fill:"rgb(82,156,202)"},purple:{color:"rgb(154,109,215)",fill:"rgb(154,109,215)"},pink:{color:"rgb(226,85,161)",fill:"rgb(226,85,161)"},red:{color:"rgb(255,115,105)",fill:"rgb(255,115,105)"},gray_background:{background:"rgb(69,75,78)"},brown_background:{background:"rgb(67,64,64)"},orange_background:{background:"rgb(89,74,58)"},yellow_background:{background:"rgb(89,86,59)"},teal_background:{background:"rgb(53,76,75)"},blue_background:{background:"rgb(54,73,84)"},purple_background:{background:"rgb(68,63,87)"},pink_background:{background:"rgb(83,59,76)"},red_background:{background:"rgb(89,65,65)"}}},calloutBlockColors:{light:{default:{},gray:{color:c(.6)},brown:{color:"rgb(100,71,58)"},orange:{color:"rgb(217,115,13)"},yellow:{color:"rgb(223,171,1)"},teal:{color:"rgb(15,123,108)"},blue:{color:"rgb(11,110,153)"},purple:{color:"rgb(105,64,165)"},pink:{color:"rgb(173,26,114)"},red:{color:"rgb(224,62,62)"},gray_background:{background:"rgba(235,236,237,0.3)",borderColor:"transparent"},brown_background:{background:"rgba(233,229,227,0.3)",borderColor:"transparent"},orange_background:{background:"rgba(250,235,221,0.3)",borderColor:"transparent"},yellow_background:{background:"rgba(251,243,219,0.3)",borderColor:"transparent"},teal_background:{background:"rgba(221,237,234,0.3)",borderColor:"transparent"},blue_background:{background:"rgba(221,235,241,0.3)",borderColor:"transparent"},purple_background:{background:"rgba(234,228,242,0.3)",borderColor:"transparent"},pink_background:{background:"rgba(244,223,235,0.3)",borderColor:"transparent"},red_background:{background:"rgba(251,228,228,0.3)",borderColor:"transparent"}},dark:{default:{},gray:{color:d(.6)},brown:{color:"rgb(147,114,100)"},orange:{color:"rgb(255,163,68)"},yellow:{color:"rgb(255,220,73)"},teal:{color:"rgb(77,171,154)"},blue:{color:"rgb(82,156,202)"},purple:{color:"rgb(154,109,215)"},pink:{color:"rgb(226,85,161)"},red:{color:"rgb(255,115,105)"},gray_background:{background:"rgba(69,75,78,0.3)",borderColor:"transparent"},brown_background:{background:"rgba(67,64,64,0.3)",borderColor:"transparent"},orange_background:{background:"rgba(89,74,58,0.3)",borderColor:"transparent"},yellow_background:{background:"rgba(89,86,59,0.3)",borderColor:"transparent"},teal_background:{background:"rgba(53,76,75,0.3)",borderColor:"transparent"},blue_background:{background:"rgba(54,73,84,0.3)",borderColor:"transparent"},purple_background:{background:"rgba(68,63,87,0.3)",borderColor:"transparent"},pink_background:{background:"rgba(83,59,76,0.3)",borderColor:"transparent"},red_background:{background:"rgba(89,65,65,0.3)",borderColor:"transparent"}}},selectColors:{light:{default:m.light.lightgray.alpha(.5).css(),gray:"rgba(155,154,151, 0.4)",brown:"rgba(140,46,0,0.2)",orange:"rgba(245,93,0,0.2)",yellow:"rgba(233,168,0,0.2)",green:"rgba(0,135,107,0.2)",blue:"rgba(0,120,223,0.2)",purple:"rgba(103,36,222,0.2)",pink:"rgba(221,0,129,0.2)",red:"rgba(255,0,26,0.2)"},dark:{default:m.dark.darkgray.brighten(.8).css(),gray:"rgba(151,154,155,0.5)",brown:"rgba(147,114,100, 0.5)",orange:"rgba(255,163,68, 0.5)",yellow:"rgba(255,220,73, 0.5)",green:"rgba(77,171,154, 0.5)",blue:"rgba(82,156,202, 0.5)",purple:"rgba(154,109,215, 0.5)",pink:"rgba(226,85,161, 0.5)",red:"rgba(255,115,105, 0.5)"}},highlightColors:{light:{default:{},gray:{color:"rgb(155,154,151)"},brown:{color:"rgb(100,71,58)"},orange:{color:"rgb(217,115,13)"},yellow:{color:"rgb(223,171,1)"},teal:{color:"rgb(15,123,108)"},blue:{color:"rgb(11,110,153)"},purple:{color:"rgb(105,64,165)"},pink:{color:"rgb(173,26,114)"},red:{color:"rgb(224,62,62)"},gray_background:{background:"rgb(235,236,237)"},brown_background:{background:"rgb(233,229,227)"},orange_background:{background:"rgb(250,235,221)"},yellow_background:{background:"rgb(251,243,219)"},teal_background:{background:"rgb(221,237,234)"},blue_background:{background:"rgb(221,235,241)"},purple_background:{background:"rgb(234,228,242)"},pink_background:{background:"rgb(244,223,235)"},red_background:{background:"rgb(251,228,228)"}},dark:{default:{},gray:{color:"rgba(151,154,155,0.95)"},brown:{color:"rgb(147,114,100)"},orange:{color:"rgb(255,163,68)"},yellow:{color:"rgb(255,220,73)"},teal:{color:"rgb(77,171,154)"},blue:{color:"rgb(82,156,202)"},purple:{color:"rgb(154,109,215)"},pink:{color:"rgb(226,85,161)"},red:{color:"rgb(255,115,105)"},gray_background:{background:"rgb(69,75,78)"},brown_background:{background:"rgb(67,64,64)"},orange_background:{background:"rgb(89,74,58)"},yellow_background:{background:"rgb(89,86,59)"},teal_background:{background:"rgb(53,76,75)"},blue_background:{background:"rgb(54,73,84)"},purple_background:{background:"rgb(68,63,87)"},pink_background:{background:"rgb(83,59,76)"},red_background:{background:"rgb(89,65,65)"}}},equationEmptyPlaceholderBackground:{light:r()("rgb(247, 246, 243)").darken(.1).css(),dark:r()("rgb(55, 60, 63)").brighten(.2).css()},equationErrorPlaceholderBackground:{light:y.redWithAlpha(.1),dark:y.redWithAlpha(.1)},equationTemporaryPlaceholderBackground:{light:"rgba(46, 170, 220, 0.2)",dark:d(.2)},onboardingBackground:{light:"rgb(247, 246, 243)",dark:"rgb(55, 60, 63)"},onboardingBackgroundMask:{light:"rgba(247, 246, 243, 0)",dark:"rgba(55, 60, 63, 0)"},errorText:{light:"#eb5757",dark:"#eb5757"},illustrationFilter:{light:void 0,dark:"contrast(0)"},...a.b},w=s.a.memoize(e=>{const t={},n=Object.keys(S);for(const o of n)t[o]=S[o][e];return t}),k=Object.keys(S.blockColors.light),C=k.filter(e=>-1===e.indexOf("background")),M=k.filter(e=>-1!==e.indexOf("background")),E=Object(l.defineMessages)({foregroundColorDefault:{id:"action.foregroundColor.default.name",defaultMessage:"Default"},foregroundColorGray:{id:"action.foregroundColor.gray.name",defaultMessage:"Gray"},foregroundColorBrown:{id:"action.foregroundColor.brown.name",defaultMessage:"Brown"},foregroundColorOrange:{id:"action.foregroundColor.orange.name",defaultMessage:"Orange"},foregroundColorYellow:{id:"action.foregroundColor.yellow.name",defaultMessage:"Yellow"},foregroundColorGreen:{id:"action.foregroundColor.green.name",defaultMessage:"Green"},foregroundColorBlue:{id:"action.foregroundColor.blue.name",defaultMessage:"Blue"},foregroundColorPurple:{id:"action.foregroundColor.purple.name",defaultMessage:"Purple"},foregroundColorPink:{id:"action.foregroundColor.pink.name",defaultMessage:"Pink"},foregroundColorRed:{id:"action.foregroundColor.red.name",defaultMessage:"Red"},backgroundColorGray:{id:"action.backgroundColor.gray.name",defaultMessage:"Gray background"},backgroundColorBrown:{id:"action.backgroundColor.brown.name",defaultMessage:"Brown background"},backgroundColorOrange:{id:"action.backgroundColor.orange.name",defaultMessage:"Orange background"},backgroundColorYellow:{id:"action.backgroundColor.yellow.name",defaultMessage:"Yellow background"},backgroundColorGreen:{id:"action.backgroundColor.green.name",defaultMessage:"Green background"},backgroundColorBlue:{id:"action.backgroundColor.blue.name",defaultMessage:"Blue background"},backgroundColorPurple:{id:"action.backgroundColor.purple.name",defaultMessage:"Purple background"},backgroundColorPink:{id:"action.backgroundColor.pink.name",defaultMessage:"Pink background"},backgroundColorRed:{id:"action.backgroundColor.red.name",defaultMessage:"Red background"},backgroundColorDefault:{id:"action.backgroundColor.default.name",defaultMessage:"Default background"}}),_={default:{...E.foregroundColorDefault},gray:{...E.foregroundColorGray},brown:{...E.foregroundColorBrown},orange:{...E.foregroundColorOrange},yellow:{...E.foregroundColorYellow},teal:{...E.foregroundColorGreen},blue:{...E.foregroundColorBlue},purple:{...E.foregroundColorPurple},pink:{...E.foregroundColorPink},red:{...E.foregroundColorRed},gray_background:{...E.backgroundColorGray},brown_background:{...E.backgroundColorBrown},orange_background:{...E.backgroundColorOrange},yellow_background:{...E.backgroundColorYellow},teal_background:{...E.backgroundColorGreen},blue_background:{...E.backgroundColorBlue},purple_background:{...E.backgroundColorPurple},pink_background:{...E.backgroundColorPink},red_background:{...E.backgroundColorRed}};function T(e){return _[e]}function x(e){if("default"===e||"gray"===e||"brown"===e||"orange"===e||"yellow"===e||"teal"===e||"blue"===e||"purple"===e||"pink"===e||"red"===e||"gray_background"===e||"brown_background"===e||"orange_background"===e||"yellow_background"===e||"teal_background"===e||"blue_background"===e||"purple_background"===e||"pink_background"===e||"red_background"===e)return e}function I(e,t){return t.blockColors[e]}function P(e,t){return"default"===e?{color:t.regularTextColor}:t.calloutBlockColors[e]}const O=Object.keys(S.selectColors.light);function B(e,t){return"default"===e?{color:t.regularTextColor}:t.highlightColors[e]}const L="rgb(255, 212, 0)",R="rgba(255, 212, 0, 0.14)",D="rgba(255, 212, 0, 0.8)",A=(e,t)=>r()(L).alpha(.14*(1===e?e:2*e)).css(),j=()=>w("light");function F(e){const t=O.filter(t=>!e.find(e=>e.color===t)),n=t.length>0?t:O;return n[s.a.random(0,n.length-1)]}function V(e){const t=e.map(e=>r()(e)).reverse();let n=t.shift();if(!n)return"red";for(const o of t){const e=o.alpha(),t=n.alpha();if(1===e){n=o;continue}const a=Math.min(e+t,1),i=e/t;n=r.a.mix(n.alpha(1),o.alpha(1),i).alpha(a)}return n.css()}t.g=y},zok3:function(e,t,n){"use strict";var o=n("bPtJ"),r=n("wpmu"),a=n("HRSx"),i=n("WzNb");class s extends o.d{constructor(e,t,n={}){super({environment:e,pointer:t,userId:n.userId,inMemoryRecordCache:n.inMemoryRecordCache})}static createChildStore(e,t){const n=o.d.getChildStoreKey(t,s.keyName),r=e.getRecordStoreChildStore(n),a=r||new s(e.environment,t,{userId:e.userId,inMemoryRecordCache:e.inMemoryRecordCache});return r||a.setRecordStoreParent(e,n),a}clone(){return new s(this.environment,this.pointer,{userId:this.userId,inMemoryRecordCache:this.inMemoryRecordCache})}getFormatStore(){return Object(o.a)(this,this.pointer,"format")}getFormat(){const e=this.getValue();return e&&e.format?e.format:{}}getPageSortStore(){return Object(o.a)(this,this.pointer,"page_sort")}getPageSort(){const e=this.getValue();return e&&e.page_sort?e.page_sort:[]}getCollectionStore(){const e=this.getValue();if(e&&e.parent_id&&e.parent_table===a.a){return r.a.createChildStore(this,{table:a.a,id:e.parent_id}).getCollectionViewCollectionStore()}}getQuery(){const e=this.getValue();if(e){const t=this.getCollectionStore();if(t){const n=t.getSchema();return Object(i.g)(e,n)}}}getIcon(){const e=this.getIconStore();if(e)return e.getValue()}getIconStore(){return Object(o.a)(this,this.pointer,"icon")}getType(){const e=this.getValue();return e?e.type:void 0}getParentBlockStore(){const e=this.getValue();if(e&&e.parent_id&&e.parent_table===a.a)return r.a.createChildStore(this,{table:a.a,id:e.parent_id})}}s.keyName="CollectionViewStore",t.a=s},zttk:function(e,t,n){"use strict";var o=n("LEzx");class r extends o.a{getInitialState(){return{banners:[]}}}t.a=r},zzAG:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return M}));var o=n("J9+s"),r=n("5xGH");const a=Object(o.defineMessages)({public_access_not_allowed:{id:"transactionErrors.publicAccessNotAllowed.message",defaultMessage:"This workspace does not allow pages with public access."},block_permissions_max_size:{id:"transactionErrors.blockPermissionsMaxSize.message",defaultMessage:"You have exceeded the maximum permissions per page."},guests_over_limit:{id:"transactionErrors.guestsoverLimit.message",defaultMessage:"This workspace has reached the maximum number of guests (5)."},guests_not_allowed:{id:"transactionErrors.guestsNotAllowed.message",defaultMessage:"This workspace does not allow guests."},workspace_top_level_operation_not_allowed:{id:"transactionErrors.workspaceTopLevelOperationNotAllowed.message",defaultMessage:"This workspace has locked modifying the workspace section of the sidebar."},blocks_inside_themselves_not_allowed:{id:"transactionErrors.blocksInsideThemselvesNotAllowed.message",defaultMessage:"Oops! Blocks cannot be moved inside of themselves."},moving_pages_to_other_workspaces_not_allowed:{id:"transactionErrors.movingPagesToOtherWorkspacesNotAllowed.message",defaultMessage:"This workspace has disabled moving pages to other workspaces."},space_domain_not_available:{id:"transactionErrors.spaceDomainNotAvailable.message",defaultMessage:"Sorry, this domain is not available."},space_email_domain_not_allowed:{id:"transactionErrors.spaceEmailDomainNotAllowed.message",defaultMessage:"Sorry, this domain is not allowed: {domain}"},comment_only_access_cant_move_page:{id:"transactionErrors.commentOnlyAccessCantMovePage.message",defaultMessage:"Sorry, you cannot move this page because you only have Comment-Only access."},non_api_moves_not_allowed:{id:"transactionErrors.nonApiMovesNotAllowed.message",defaultMessage:"Please refresh (Cmd/Ctrl + R) to update Notion to move pages to other workspaces."},upgrade_client_is_needed:{id:"transactionErrors.upgradeClientIsNeeded.message",defaultMessage:"Please refresh (Cmd/Ctrl + R) to update Notion and try again."}}),i=Object(o.defineMessages)({email_domain_already_configured:{id:"samlErrors.emailDomainAlreadyConfigured.message",defaultMessage:"Email domain is already configured for SAML on existing workspace: {workspace}"},could_not_parse_idp_metadata_xml:{id:"samlErrors.couldNotParseIdentityProviderMetadataXML.message",defaultMessage:"Could not parse IDP metadata XML.",description:"Error that we show users when they upload invalid XML for their IDP (identity provider)"},invalid_idp_url:{id:"samlErrors.invalidIDPURL.message",defaultMessage:"The IDP metadata URL is an invalid URL."},email_not_configured_for_saml_sso:{id:"samlErrors.emailNotConfigured.message",defaultMessage:"This email is not configured to use SAML SSO"},saml_sso_required:{id:"samlErrors.samlRequired.message",defaultMessage:"You must use SAML SSO to log in to Notion"},could_not_parse_idp_metadata:{id:"samlErrors.couldNotParseIdpMetadata.message",defaultMessage:"Could not parse SAML IDP metadata. Please check that your IDP metadata is correct."},could_not_download_idp_metadata:{id:"samlErrors.couldNotDownloadIdpMetadata.message",defaultMessage:"SAML IDP metadata could not be downloaded. Please check that your IDP Metadata URL is correct."},saml_url_incorrect:{id:"samlErrors.incorrectURL.message",defaultMessage:"Audience in SAML assertion needs to be {correctUrl}"},incorrectly_configured_saml:{id:"samlErrors.incorrectlyConfiguredSaml.message",defaultMessage:"Incorrectly configured SAML SSO. Please contact your administrator."},saml_name_id_email_required:{id:"samlErrors.samlNameIdEmailRequired.message",defaultMessage:"The SAML Name ID attribute must be an email address. Please contact your administrator."},email_not_cofigured_for_saml_sso:{id:"samlErrors.emailNotCofiguredForSamlSso.message",defaultMessage:"This email is not configured for SAML SSO to this workspace. Please contact your administrator."},invalid_saml_configuration:{id:"samlErrors.invalidSamlConfiguration.message",defaultMessage:"Invalid SAML Configuration. Please contact your administrator."}}),s=Object(o.defineMessages)({invalid_email_address:{id:"emailErrors.invalidEmailAddress.message",defaultMessage:"Invalid email address"},invalid_email_entered:{id:"emailErrors.invalidEmailEntered.message",defaultMessage:"Please enter a valid email."},user_with_email_already_exists:{id:"emailErrors.userAlreadyExists.message",defaultMessage:"A user with this email already exists."},invalid_or_expired_password:{id:"emailErrors.invalidOrExpiredPassword.message",defaultMessage:"Your login code was incorrect. Please try again."},email_does_not_have_existing_account:{id:"emailErrors.noExistingAccountForEmailAddress.message",defaultMessage:"This email does not have an existing account."},email_unreachable:{id:"emailErrors.emailUnreachable.message",defaultMessage:"We could not reach the email address you provided. Please try again with a different email."},incorrect_password:{id:"emailErrors.incorrectPassword.message",defaultMessage:"Incorrect password."}}),l=Object(o.defineMessages)({enex_import_not_supported:{id:"importErrors.enexFileNotSupported.message",defaultMessage:"Evernote .enex import not supported."}}),c=Object(o.defineMessages)({upload_file_size_exceeded:{id:"confluenceImportErrors.uploadFileSizeExceeded.message",description:"Error message shown when the uploaded ZIP file exceeds the maximum allowed file size",defaultMessage:"File cannot exceed {maxSize}."},failed_to_extract_zip:{id:"confluenceImportErrors.failedToExtractZip.message",description:"Error message shown when importing a Confluence workspace and the uploaded ZIP file cannot be extracted, due to a compression error or invalid file format",defaultMessage:"Failed to extract ZIP file."},no_index_html_file:{id:"confluenceImportErrors.noIndexHtmlFile.message",description:"Error message shown when importing a Confluence workspace and the uploaded ZIP file does not contain an index.html file in the main directory",defaultMessage:"Could not find index file in ZIP."},index_html_missing_available_pages:{id:"confluenceImportErrors.indexHtmlMissingAvailablePages.message",description:"Error message shown when importing a Confluence workspace and the index.html file in the main directory does not contain an 'Available Pages' section in the expected location",defaultMessage:"Invalid index file: could not find available pages."},no_confluence_id_in_page_link:{id:"confluenceImportErrors.noConfluenceIdInPageLink.message",description:"Error message shown when importing a Confluence workspace and a Confluence page's filename is in an unexpected format, and we cannot extract the Confluence ID from the filename",defaultMessage:"Could not extract page ID from file name."},failed_to_find_element:{id:"confluenceImportErrors.failedToFindElement.message",description:"Error message shown when importing a Confluence workspace and an expected element is not present while transforming a Confluence page's HTML content. Error should generically indicate that the upload failed to parse",defaultMessage:"Failed to parse upload."},found_element_is_incorrect_type:{id:"confluenceImportErrors.foundElementIsIncorrectType.message",description:"Error message shown when importing a Confluence workspace and an expected element is the incorrect type while transforming a Confluence page's HTML content. Error should generically indicate that the upload failed to parse",defaultMessage:"Failed to parse upload."},buffer_upload_failed:{id:"confluenceImportErrors.bufferUploadFailed.message",description:"Error message shown when importing a Confluence workspace and a buffer-based attachment (e.g. a base64-encoded image) fails to upload",defaultMessage:"Failed to upload attachment from buffer."},attachment_not_found:{id:"confluenceImportErrors.attachmentNotFound.message",description:"Error message shown when importing a Confluence workspace and an attachment's key is not found in the uploaded ZIP file's attachments directory",defaultMessage:"Failed to find attachment in ZIP file."},attachment_upload_failed:{id:"confluenceImportErrors.attachmentUploadFailed.message",description:"Error message shown when importing a Confluence workspace and a file-based attachment fails to upload",defaultMessage:"Failed to upload attachment from file."},failed_to_build_page:{id:"confluenceImportErrors.failedToBuildPage.message",description:"Error message shown when importing a Confluence workspace and a page fails to import for an unexpected reason",defaultMessage:"Failed to import page."}}),d=Object(o.defineMessages)({free_plan_file_size_exceeded:{id:"fileUploadErrors.freePlanFileSizeExceeded.message",defaultMessage:"Your file is over the 5MB limit of the Free plan."}}),u=Object(o.defineMessages)({invite_link_disabled:{id:"inviteLinkErrors.inviteLinkDisabled.message",defaultMessage:"Invites are disabled, contact the administrator of this space."}}),p=Object(o.defineMessages)({password_too_short:{id:"passwordSettings.passwordTooShortError.message",defaultMessage:"Please make your password longer."},password_missing_letter:{id:"passwordSettings.passwordMissingLetter.message",defaultMessage:"Please include a letter, or use a longer password."},password_missing_number:{id:"passwordSettings.passwordMissingNumber.message",defaultMessage:"Please include a number, or use a longer password."},password_missing_letter_and_number:{id:"passwordSettings.passwordMissingLetterAndNumber.message",defaultMessage:"Please include a letter and a number, or use a longer password."},password_too_consistent:{id:"passwordSettings.passwordTooConsistent.message",defaultMessage:"Please include additional unique characters."},password_not_entered:{id:"passwordSettings.passwordNotEntered.message",defaultMessage:"Please enter your password."},password_not_set:{id:"passwordSettings.passwordNotSet.message",defaultMessage:"No password set.",description:"Error message when a user is attempting to change their password, but they don't have one set to begin with."}}),h=Object(o.defineMessages)({rate_limited:{id:"rateLimitError.message",defaultMessage:"Please try again later."},duplicate_rate_limited:{id:"duplicateRateLimitError.message",defaultMessage:"Rate limit reached, please try again later."}}),m=Object(o.defineMessages)({login_generic_error:{id:"loginErrors.generic.message",defaultMessage:"There was a problem logging in."},login_try_again:{id:"loginErrors.tryAgain.message",defaultMessage:"Please log in again."},login_admin_mode_unsupported:{id:"loginErrors.adminModeUnsupported.message",defaultMessage:"Unsupported in Admin Mode"},login_invalid_email:{id:"loginErrors.invalidEmail.message",defaultMessage:"Invalid email."},login_invalid_password:{id:"loginErrors.invalidPassword.message",defaultMessage:"Invalid password."}}),f=Object(o.defineMessages)({apple_api_status_error:{id:"appleErrors.api.statusError",defaultMessage:"There was a problem with the Apple service."},apple_api_token_error:{id:"appleErrors.api.tokenError",defaultMessage:"There was a problem verifying your identity with Apple."},apple_api_missing_id_error:{id:"appleErrors.api.missingIdError",defaultMessage:"There was a problem getting user information from Apple."},apple_api_missing_access_token_error:{id:"appleErrors.api.missingAccessTokenError",defaultMessage:"Apple failed to authorize the login."},apple_api_missing_beta_app_review_submission:{id:"appleErrors.api.missingBetaAppReviewSubmission",defaultMessage:"Cannot find betaAppReviewSubmission entry.",description:'Leave "betaAppReviewSubmission" as-is and translate the rest of the string.'},apple_api_missing_pre_release_version:{id:"appleErrors.api.missingPreReleaseVersion",defaultMessage:"Cannot find preReleaseVersion entry.",description:'Leave "preReleaseVersion" as-is and translate the rest of the string.'}}),g=(Object(o.defineMessages)({google_drive_token_error:{id:"googleErrors.googleDriveTokenError",defaultMessage:"Error from Google Drive: {errorMessage}"}}),Object(o.defineMessages)({card_required:{id:"subscriptionErrors.cardRequiredError",defaultMessage:"Since you have not paid your last invoice, you must use a card."},invalid_credit:{id:"subscriptionErrors.invalidCreditError",defaultMessage:"This amount of credit is not available."},credit_no_free_lunch:{id:"subscriptionErrors.creditNoFreeLunch",defaultMessage:"Negative credits are not possible."},missing_name:{id:"subscriptionErrors.missingNameError",defaultMessage:"Name must exist."},missing_address:{id:"subscriptionErrors.missingAddressError",defaultMessage:"Address line 1 must exist."},credit_exceeds_balance:{id:"subscriptionErrors.creditExceedsBalanceError",defaultMessage:"Cannot apply credit to exceed balance beyond {maxCredits}."},subscription_personal_plan_more_than_one_member:{defaultMessage:"In order to use the personal plan, your workspace can have only one member.",id:"subscriptionErrors.personalPlanMoreThanOneMember"},invalid_vat:{id:"subscriptionErrors.invalidVatError",defaultMessage:"VAT/GST number is invalid."}})),b=Object(o.defineMessages)({referral_user_already_signed_up:{defaultMessage:"User has already signed up.",id:"activateReferral.dialogError.userAlreadySignedUp.errorMessage"},referral_already_activated:{defaultMessage:"Referral has already been activated.",id:"activateReferral.dialogError.referralAlreadyActivated.errorMessage"},referral_no_valid_referral_found:{defaultMessage:"No valid referral found.",id:"activateReferral.dialogError.noValidReferral.errorMessage"},referral_referring_user_not_found:{defaultMessage:"Referring user not found.",id:"activateReferral.dialogError.referringUserNotFound.errorMessage"},referral_cannot_invite_yourself:{defaultMessage:"You cannot invite yourself",id:"activateReferral.dialogError.cannotInviteSelf.errorMessage"},referral_email_not_eligible:{defaultMessage:"This email is not eligible for the referral program. If you think this is a mistake please contact support.",id:"activateReferral.dialogError.emailNotEligible.errorMessage"},referral_already_applied_credit:{defaultMessage:"You have already applied an invitation credit.",id:"activateReferral.dialogError.invitationCreditAlreadyApplied.errorMessage"}}),v=Object(o.defineMessages)({slack_block_not_found:{defaultMessage:"Block not found.",id:"slackAuthorizationErrors.blockNotFound.errorMessage",description:"Error that is shown when a user tries to connect a Slack channel to a page or database that doesn't exist"},slack_user_missing_edit_permission:{defaultMessage:"User cannot edit block.",id:"slackAuthorizationErrors.missingEditPermission.errorMessage",description:"Error that is shown when a user tries to connect a Slack channel to a page or database that they don't have edit permissions for"},slack_webhook_not_found:{defaultMessage:"Slack webhook not found.",id:"slackAuthorizationErrors.webhookNotFound.errorMessage",description:"Error that appears when a user tries to connect a Slack channel but slack doesn't have webhooks configured. 'Webhook' is a Slack term."}}),y=Object(o.defineMessages)({duplicate_block_limit:{id:"queueApiErrors.duplicateBlockLimit.errorMessage",defaultMessage:"Oops, that's too much content! There's a {blockLimitNumber} block limit for duplicating content. Please try again with a smaller amount of content."}}),S=Object(o.defineMessages)({generic_error:{defaultMessage:"Something went wrong.",id:"genericErrors.genericErrorMessage"}});function w(e){const{type:t}=e;return a[t]||i[t]||s[t]||l[t]||d[t]||p[t]||h[t]||g[t]||b[t]||v[t]||y[t]||S[t]||u[t]||m[t]||f[t]}function k(e,t){const n=t.body;if(Object(r.d)(n)){const t=n.clientData,o=Object(r.f)(t)&&t.errors[0].clientData?C(e,t.errors[0].clientData):C(e,t);if(o)return o}return t.error.message}function C(e,t){const n=w(t);if(n)return"messageValues"in t?e.formatMessage(n,t.messageValues):e.formatMessage(n)}function M(e,t){if(Object(r.e)(t)){const n=w(t.clientData);if(n)return"messageValues"in t.clientData?e.formatMessage(n,t.clientData.messageValues):e.formatMessage(n)}return t.message}}});